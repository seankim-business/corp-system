var Z8=Object.defineProperty;var pN=e=>{throw TypeError(e)};var eR=(e,t,n)=>t in e?Z8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xu=(e,t,n)=>eR(e,typeof t!="symbol"?t+"":t,n),Lp=(e,t,n)=>t.has(e)||pN("Cannot "+n);var X=(e,t,n)=>(Lp(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?pN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,a)=>(Lp(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(Lp(e,t,"access private method"),n);var gu=(e,t,n,a)=>({set _(s){ye(e,t,s,n)},get _(){return X(e,t,a)}});function tR(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dp={exports:{}},Tl={},Fp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function rR(){if(xN)return Ue;xN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(F,D,G){this.props=F,this.context=D,this.refs=w,this.updater=G||j}x.prototype.isReactComponent={},x.prototype.setState=function(F,D){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,D,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=x.prototype;function P(F,D,G){this.props=F,this.context=D,this.refs=w,this.updater=G||j}var O=P.prototype=new S;O.constructor=P,v(O,x.prototype),O.isPureReactComponent=!0;var N=Array.isArray,C=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(F,D,G){var te,ue={},xe=null,oe=null;if(D!=null)for(te in D.ref!==void 0&&(oe=D.ref),D.key!==void 0&&(xe=""+D.key),D)C.call(D,te)&&!E.hasOwnProperty(te)&&(ue[te]=D[te]);var ee=arguments.length-2;if(ee===1)ue.children=G;else if(1<ee){for(var le=Array(ee),ke=0;ke<ee;ke++)le[ke]=arguments[ke+2];ue.children=le}if(F&&F.defaultProps)for(te in ee=F.defaultProps,ee)ue[te]===void 0&&(ue[te]=ee[te]);return{$$typeof:e,type:F,key:xe,ref:oe,props:ue,_owner:A.current}}function R(F,D){return{$$typeof:e,type:F.type,key:D,ref:F.ref,props:F.props,_owner:F._owner}}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function M(F){var D={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(G){return D[G]})}var $=/\/+/g;function H(F,D){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):D.toString(36)}function V(F,D,G,te,ue){var xe=typeof F;(xe==="undefined"||xe==="boolean")&&(F=null);var oe=!1;if(F===null)oe=!0;else switch(xe){case"string":case"number":oe=!0;break;case"object":switch(F.$$typeof){case e:case t:oe=!0}}if(oe)return oe=F,ue=ue(oe),F=te===""?"."+H(oe,0):te,N(ue)?(G="",F!=null&&(G=F.replace($,"$&/")+"/"),V(ue,D,G,"",function(ke){return ke})):ue!=null&&(I(ue)&&(ue=R(ue,G+(!ue.key||oe&&oe.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+F)),D.push(ue)),1;if(oe=0,te=te===""?".":te+":",N(F))for(var ee=0;ee<F.length;ee++){xe=F[ee];var le=te+H(xe,ee);oe+=V(xe,D,G,le,ue)}else if(le=g(F),typeof le=="function")for(F=le.call(F),ee=0;!(xe=F.next()).done;)xe=xe.value,le=te+H(xe,ee++),oe+=V(xe,D,G,le,ue);else if(xe==="object")throw D=String(F),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return oe}function q(F,D,G){if(F==null)return F;var te=[],ue=0;return V(F,te,"","",function(xe){return D.call(G,xe,ue++)}),te}function B(F){if(F._status===-1){var D=F._result;D=D(),D.then(function(G){(F._status===0||F._status===-1)&&(F._status=1,F._result=G)},function(G){(F._status===0||F._status===-1)&&(F._status=2,F._result=G)}),F._status===-1&&(F._status=0,F._result=D)}if(F._status===1)return F._result.default;throw F._result}var W={current:null},U={transition:null},Q={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:U,ReactCurrentOwner:A};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:q,forEach:function(F,D,G){q(F,function(){D.apply(this,arguments)},G)},count:function(F){var D=0;return q(F,function(){D++}),D},toArray:function(F){return q(F,function(D){return D})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ue.Component=x,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=P,Ue.StrictMode=a,Ue.Suspense=u,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ue.act=z,Ue.cloneElement=function(F,D,G){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=v({},F.props),ue=F.key,xe=F.ref,oe=F._owner;if(D!=null){if(D.ref!==void 0&&(xe=D.ref,oe=A.current),D.key!==void 0&&(ue=""+D.key),F.type&&F.type.defaultProps)var ee=F.type.defaultProps;for(le in D)C.call(D,le)&&!E.hasOwnProperty(le)&&(te[le]=D[le]===void 0&&ee!==void 0?ee[le]:D[le])}var le=arguments.length-2;if(le===1)te.children=G;else if(1<le){ee=Array(le);for(var ke=0;ke<le;ke++)ee[ke]=arguments[ke+2];te.children=ee}return{$$typeof:e,type:F.type,key:ue,ref:xe,props:te,_owner:oe}},Ue.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},Ue.createElement=T,Ue.createFactory=function(F){var D=T.bind(null,F);return D.type=F,D},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(F){return{$$typeof:d,render:F}},Ue.isValidElement=I,Ue.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:B}},Ue.memo=function(F,D){return{$$typeof:h,type:F,compare:D===void 0?null:D}},Ue.startTransition=function(F){var D=U.transition;U.transition={};try{F()}finally{U.transition=D}},Ue.unstable_act=z,Ue.useCallback=function(F,D){return W.current.useCallback(F,D)},Ue.useContext=function(F){return W.current.useContext(F)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(F){return W.current.useDeferredValue(F)},Ue.useEffect=function(F,D){return W.current.useEffect(F,D)},Ue.useId=function(){return W.current.useId()},Ue.useImperativeHandle=function(F,D,G){return W.current.useImperativeHandle(F,D,G)},Ue.useInsertionEffect=function(F,D){return W.current.useInsertionEffect(F,D)},Ue.useLayoutEffect=function(F,D){return W.current.useLayoutEffect(F,D)},Ue.useMemo=function(F,D){return W.current.useMemo(F,D)},Ue.useReducer=function(F,D,G){return W.current.useReducer(F,D,G)},Ue.useRef=function(F){return W.current.useRef(F)},Ue.useState=function(F){return W.current.useState(F)},Ue.useSyncExternalStore=function(F,D,G){return W.current.useSyncExternalStore(F,D,G)},Ue.useTransition=function(){return W.current.useTransition()},Ue.version="18.3.1",Ue}var gN;function Zb(){return gN||(gN=1,Fp.exports=rR()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function nR(){if(yN)return Tl;yN=1;var e=Zb(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,h){var p,m={},g=null,j=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(j=u.ref);for(p in u)a.call(u,p)&&!i.hasOwnProperty(p)&&(m[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:d,key:g,ref:j,props:m,_owner:s.current}}return Tl.Fragment=n,Tl.jsx=l,Tl.jsxs=l,Tl}var vN;function aR(){return vN||(vN=1,Dp.exports=nR()),Dp.exports}var r=aR(),b=Zb();const Y=Ze(b),sR=tR({__proto__:null,default:Y},[b]);var vu={},zp={exports:{}},yr={},qp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function iR(){return bN||(bN=1,(function(e){function t(U,Q){var z=U.length;U.push(Q);e:for(;0<z;){var F=z-1>>>1,D=U[F];if(0<s(D,Q))U[F]=Q,U[z]=D,z=F;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var Q=U[0],z=U.pop();if(z!==Q){U[0]=z;e:for(var F=0,D=U.length,G=D>>>1;F<G;){var te=2*(F+1)-1,ue=U[te],xe=te+1,oe=U[xe];if(0>s(ue,z))xe<D&&0>s(oe,ue)?(U[F]=oe,U[xe]=z,F=xe):(U[F]=ue,U[te]=z,F=te);else if(xe<D&&0>s(oe,z))U[F]=oe,U[xe]=z,F=xe;else break e}}return Q}function s(U,Q){var z=U.sortIndex-Q.sortIndex;return z!==0?z:U.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,m=null,g=3,j=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(U){for(var Q=n(h);Q!==null;){if(Q.callback===null)a(h);else if(Q.startTime<=U)a(h),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(h)}}function N(U){if(w=!1,O(U),!v)if(n(u)!==null)v=!0,B(C);else{var Q=n(h);Q!==null&&W(N,Q.startTime-U)}}function C(U,Q){v=!1,w&&(w=!1,S(T),T=-1),j=!0;var z=g;try{for(O(Q),m=n(u);m!==null&&(!(m.expirationTime>Q)||U&&!M());){var F=m.callback;if(typeof F=="function"){m.callback=null,g=m.priorityLevel;var D=F(m.expirationTime<=Q);Q=e.unstable_now(),typeof D=="function"?m.callback=D:m===n(u)&&a(u),O(Q)}else a(u);m=n(u)}if(m!==null)var G=!0;else{var te=n(h);te!==null&&W(N,te.startTime-Q),G=!1}return G}finally{m=null,g=z,j=!1}}var A=!1,E=null,T=-1,R=5,I=-1;function M(){return!(e.unstable_now()-I<R)}function $(){if(E!==null){var U=e.unstable_now();I=U;var Q=!0;try{Q=E(!0,U)}finally{Q?H():(A=!1,E=null)}}else A=!1}var H;if(typeof P=="function")H=function(){P($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=$,H=function(){q.postMessage(null)}}else H=function(){x($,0)};function B(U){E=U,A||(A=!0,H())}function W(U,Q){T=x(function(){U(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,B(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var z=g;g=Q;try{return U()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=g;g=U;try{return Q()}finally{g=z}},e.unstable_scheduleCallback=function(U,Q,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,U){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,U={id:p++,callback:Q,priorityLevel:U,startTime:z,expirationTime:D,sortIndex:-1},z>F?(U.sortIndex=z,t(h,U),n(u)===null&&U===n(h)&&(w?(S(T),T=-1):w=!0,W(N,z-F))):(U.sortIndex=D,t(u,U),v||j||(v=!0,B(C))),U},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(U){var Q=g;return function(){var z=g;g=Q;try{return U.apply(this,arguments)}finally{g=z}}}})(Bp)),Bp}var jN;function oR(){return jN||(jN=1,qp.exports=iR()),qp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function lR(){if(wN)return yr;wN=1;var e=Zb(),t=oR();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(o){return u.call(m,o)?!0:u.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function j(o,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,f,y){if(c===null||typeof c>"u"||j(o,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,y,k,_,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=_,this.removeEmptyString=L}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];x[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,P);x[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,P);x[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,P);x[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function O(o,c,f,y){var k=x.hasOwnProperty(c)?x[c]:null;(k!==null?k.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,f,k,y)&&(f=null),y||k===null?g(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):k.mustUseProperty?o[k.propertyName]=f===null?k.type===3?!1:"":f:(c=k.attributeName,y=k.attributeNamespace,f===null?o.removeAttribute(c):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,y?o.setAttributeNS(y,c,f):o.setAttribute(c,f))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),U=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var z=Object.assign,F;function D(o){if(F===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+o}var G=!1;function te(o,c){if(!o||G)return"";G=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var y=ie}Reflect.construct(o,[],c)}else{try{c.call()}catch(ie){y=ie}o.call(c.prototype)}else{try{throw Error()}catch(ie){y=ie}o()}}catch(ie){if(ie&&y&&typeof ie.stack=="string"){for(var k=ie.stack.split(`
`),_=y.stack.split(`
`),L=k.length-1,K=_.length-1;1<=L&&0<=K&&k[L]!==_[K];)K--;for(;1<=L&&0<=K;L--,K--)if(k[L]!==_[K]){if(L!==1||K!==1)do if(L--,K--,0>K||k[L]!==_[K]){var J=`
`+k[L].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=L&&0<=K);break}}}finally{G=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?D(o):""}function ue(o){switch(o.tag){case 5:return D(o.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return o=te(o.type,!1),o;case 11:return o=te(o.type.render,!1),o;case 1:return o=te(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case A:return"Portal";case R:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case $:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return c=o.displayName||null,c!==null?c:xe(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return xe(o(c))}catch{}}return null}function oe(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function le(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ke(o){var c=le(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,_=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return k.call(this)},set:function(L){y=""+L,_.call(this,L)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(L){y=""+L},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function $e(o){o._valueTracker||(o._valueTracker=ke(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return o&&(y=le(o)?o.checked?"true":"false":o.value),o=y,o!==f?(c.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function je(o,c){var f=c.checked;return z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function tt(o,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=ee(c.value!=null?c.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function gt(o,c){c=c.checked,c!=null&&O(o,"checked",c,!1)}function zt(o,c){gt(o,c);var f=ee(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?yn(o,c.type,f):c.hasOwnProperty("defaultValue")&&yn(o,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Zr(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function yn(o,c,f){(c!=="number"||be(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var vn=Array.isArray;function hr(o,c,f,y){if(o=o.options,c){c={};for(var k=0;k<f.length;k++)c["$"+f[k]]=!0;for(f=0;f<o.length;f++)k=c.hasOwnProperty("$"+o[f].value),o[f].selected!==k&&(o[f].selected=k),k&&y&&(o[f].defaultSelected=!0)}else{for(f=""+ee(f),c=null,k=0;k<o.length;k++){if(o[k].value===f){o[k].selected=!0,y&&(o[k].defaultSelected=!0);return}c!==null||o[k].disabled||(c=o[k])}c!==null&&(c.selected=!0)}}function en(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function si(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(n(92));if(vn(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:ee(f)}}function Ko(o,c){var f=ee(c.value),y=ee(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Go(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Pw(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Pw(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ld,Ow=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,k){MSApp.execUnsafeLocalFunction(function(){return o(c,f,y,k)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ld.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Vo(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nT=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(o){nT.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Qo[c]=Qo[o]})});function Ew(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Qo.hasOwnProperty(o)&&Qo[o]?(""+c).trim():c+"px"}function _w(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,k=Ew(f,c[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,k):o[f]=k}}var aT=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(o,c){if(c){if(aT[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Yf(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function Jf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zf=null,ii=null,oi=null;function Tw(o){if(o=gl(o)){if(typeof Zf!="function")throw Error(n(280));var c=o.stateNode;c&&(c=_d(c),Zf(o.stateNode,o.type,c))}}function Rw(o){ii?oi?oi.push(o):oi=[o]:ii=o}function Mw(){if(ii){var o=ii,c=oi;if(oi=ii=null,Tw(o),c)for(o=0;o<c.length;o++)Tw(c[o])}}function Iw(o,c){return o(c)}function $w(){}var em=!1;function Lw(o,c,f){if(em)return o(c,f);em=!0;try{return Iw(o,c,f)}finally{em=!1,(ii!==null||oi!==null)&&($w(),Mw())}}function Yo(o,c){var f=o.stateNode;if(f===null)return null;var y=_d(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var tm=!1;if(d)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{tm=!1}function sT(o,c,f,y,k,_,L,K,J){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(f,ie)}catch(fe){this.onError(fe)}}var Jo=!1,cd=null,dd=!1,rm=null,iT={onError:function(o){Jo=!0,cd=o}};function oT(o,c,f,y,k,_,L,K,J){Jo=!1,cd=null,sT.apply(iT,arguments)}function lT(o,c,f,y,k,_,L,K,J){if(oT.apply(this,arguments),Jo){if(Jo){var ie=cd;Jo=!1,cd=null}else throw Error(n(198));dd||(dd=!0,rm=ie)}}function is(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function Dw(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Fw(o){if(is(o)!==o)throw Error(n(188))}function cT(o){var c=o.alternate;if(!c){if(c=is(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,y=c;;){var k=f.return;if(k===null)break;var _=k.alternate;if(_===null){if(y=k.return,y!==null){f=y;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===f)return Fw(k),o;if(_===y)return Fw(k),c;_=_.sibling}throw Error(n(188))}if(f.return!==y.return)f=k,y=_;else{for(var L=!1,K=k.child;K;){if(K===f){L=!0,f=k,y=_;break}if(K===y){L=!0,y=k,f=_;break}K=K.sibling}if(!L){for(K=_.child;K;){if(K===f){L=!0,f=_,y=k;break}if(K===y){L=!0,y=_,f=k;break}K=K.sibling}if(!L)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function zw(o){return o=cT(o),o!==null?qw(o):null}function qw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=qw(o);if(c!==null)return c;o=o.sibling}return null}var Bw=t.unstable_scheduleCallback,Uw=t.unstable_cancelCallback,dT=t.unstable_shouldYield,uT=t.unstable_requestPaint,Nt=t.unstable_now,hT=t.unstable_getCurrentPriorityLevel,nm=t.unstable_ImmediatePriority,Ww=t.unstable_UserBlockingPriority,ud=t.unstable_NormalPriority,fT=t.unstable_LowPriority,Hw=t.unstable_IdlePriority,hd=null,bn=null;function mT(o){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(hd,o,void 0,(o.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:gT,pT=Math.log,xT=Math.LN2;function gT(o){return o>>>=0,o===0?32:31-(pT(o)/xT|0)|0}var fd=64,md=4194304;function Zo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function pd(o,c){var f=o.pendingLanes;if(f===0)return 0;var y=0,k=o.suspendedLanes,_=o.pingedLanes,L=f&268435455;if(L!==0){var K=L&~k;K!==0?y=Zo(K):(_&=L,_!==0&&(y=Zo(_)))}else L=f&~k,L!==0?y=Zo(L):_!==0&&(y=Zo(_));if(y===0)return 0;if(c!==0&&c!==y&&(c&k)===0&&(k=y&-y,_=c&-c,k>=_||k===16&&(_&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)f=31-tn(c),k=1<<f,y|=o[f],c&=~k;return y}function yT(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(o,c){for(var f=o.suspendedLanes,y=o.pingedLanes,k=o.expirationTimes,_=o.pendingLanes;0<_;){var L=31-tn(_),K=1<<L,J=k[L];J===-1?((K&f)===0||(K&y)!==0)&&(k[L]=yT(K,c)):J<=c&&(o.expiredLanes|=K),_&=~K}}function am(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Kw(){var o=fd;return fd<<=1,(fd&4194240)===0&&(fd=64),o}function sm(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function el(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-tn(c),o[c]=f}function bT(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var k=31-tn(f),_=1<<k;c[k]=0,y[k]=-1,o[k]=-1,f&=~_}}function im(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var y=31-tn(f),k=1<<y;k&c|o[y]&c&&(o[y]|=c),f&=~k}}var et=0;function Gw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Vw,om,Qw,Yw,Xw,lm=!1,xd=[],ma=null,pa=null,xa=null,tl=new Map,rl=new Map,ga=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jw(o,c){switch(o){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":tl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(c.pointerId)}}function nl(o,c,f,y,k,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[k]},c!==null&&(c=gl(c),c!==null&&om(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),o)}function wT(o,c,f,y,k){switch(c){case"focusin":return ma=nl(ma,o,c,f,y,k),!0;case"dragenter":return pa=nl(pa,o,c,f,y,k),!0;case"mouseover":return xa=nl(xa,o,c,f,y,k),!0;case"pointerover":var _=k.pointerId;return tl.set(_,nl(tl.get(_)||null,o,c,f,y,k)),!0;case"gotpointercapture":return _=k.pointerId,rl.set(_,nl(rl.get(_)||null,o,c,f,y,k)),!0}return!1}function Zw(o){var c=os(o.target);if(c!==null){var f=is(c);if(f!==null){if(c=f.tag,c===13){if(c=Dw(f),c!==null){o.blockedOn=c,Xw(o.priority,function(){Qw(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gd(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=dm(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);Xf=y,f.target.dispatchEvent(y),Xf=null}else return c=gl(f),c!==null&&om(c),o.blockedOn=f,!1;c.shift()}return!0}function e1(o,c,f){gd(o)&&f.delete(c)}function NT(){lm=!1,ma!==null&&gd(ma)&&(ma=null),pa!==null&&gd(pa)&&(pa=null),xa!==null&&gd(xa)&&(xa=null),tl.forEach(e1),rl.forEach(e1)}function al(o,c){o.blockedOn===c&&(o.blockedOn=null,lm||(lm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NT)))}function sl(o){function c(k){return al(k,o)}if(0<xd.length){al(xd[0],o);for(var f=1;f<xd.length;f++){var y=xd[f];y.blockedOn===o&&(y.blockedOn=null)}}for(ma!==null&&al(ma,o),pa!==null&&al(pa,o),xa!==null&&al(xa,o),tl.forEach(c),rl.forEach(c),f=0;f<ga.length;f++)y=ga[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<ga.length&&(f=ga[0],f.blockedOn===null);)Zw(f),f.blockedOn===null&&ga.shift()}var li=N.ReactCurrentBatchConfig,yd=!0;function ST(o,c,f,y){var k=et,_=li.transition;li.transition=null;try{et=1,cm(o,c,f,y)}finally{et=k,li.transition=_}}function kT(o,c,f,y){var k=et,_=li.transition;li.transition=null;try{et=4,cm(o,c,f,y)}finally{et=k,li.transition=_}}function cm(o,c,f,y){if(yd){var k=dm(o,c,f,y);if(k===null)Am(o,c,y,vd,f),Jw(o,y);else if(wT(k,o,c,f,y))y.stopPropagation();else if(Jw(o,y),c&4&&-1<jT.indexOf(o)){for(;k!==null;){var _=gl(k);if(_!==null&&Vw(_),_=dm(o,c,f,y),_===null&&Am(o,c,y,vd,f),_===k)break;k=_}k!==null&&y.stopPropagation()}else Am(o,c,y,null,f)}}var vd=null;function dm(o,c,f,y){if(vd=null,o=Jf(y),o=os(o),o!==null)if(c=is(o),c===null)o=null;else if(f=c.tag,f===13){if(o=Dw(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return vd=o,null}function t1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hT()){case nm:return 1;case Ww:return 4;case ud:case fT:return 16;case Hw:return 536870912;default:return 16}default:return 16}}var ya=null,um=null,bd=null;function r1(){if(bd)return bd;var o,c=um,f=c.length,y,k="value"in ya?ya.value:ya.textContent,_=k.length;for(o=0;o<f&&c[o]===k[o];o++);var L=f-o;for(y=1;y<=L&&c[f-y]===k[_-y];y++);return bd=k.slice(o,1<y?1-y:void 0)}function jd(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function wd(){return!0}function n1(){return!1}function kr(o){function c(f,y,k,_,L){this._reactName=f,this._targetInst=k,this.type=y,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(f=o[K],this[K]=f?f(_):_[K]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wd:n1,this.isPropagationStopped=n1,this}return z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),c}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=kr(ci),il=z({},ci,{view:0,detail:0}),CT=kr(il),fm,mm,ol,Nd=z({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ol&&(ol&&o.type==="mousemove"?(fm=o.screenX-ol.screenX,mm=o.screenY-ol.screenY):mm=fm=0,ol=o),fm)},movementY:function(o){return"movementY"in o?o.movementY:mm}}),a1=kr(Nd),AT=z({},Nd,{dataTransfer:0}),PT=kr(AT),OT=z({},il,{relatedTarget:0}),pm=kr(OT),ET=z({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),_T=kr(ET),TT=z({},ci,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),RT=kr(TT),MT=z({},ci,{data:0}),s1=kr(MT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DT(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=LT[o])?!!c[o]:!1}function xm(){return DT}var FT=z({},il,{key:function(o){if(o.key){var c=IT[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=jd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$T[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(o){return o.type==="keypress"?jd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zT=kr(FT),qT=z({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=kr(qT),BT=z({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),UT=kr(BT),WT=z({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),HT=kr(WT),KT=z({},Nd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=kr(KT),VT=[9,13,27,32],gm=d&&"CompositionEvent"in window,ll=null;d&&"documentMode"in document&&(ll=document.documentMode);var QT=d&&"TextEvent"in window&&!ll,o1=d&&(!gm||ll&&8<ll&&11>=ll),l1=" ",c1=!1;function d1(o,c){switch(o){case"keyup":return VT.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var di=!1;function YT(o,c){switch(o){case"compositionend":return u1(c);case"keypress":return c.which!==32?null:(c1=!0,l1);case"textInput":return o=c.data,o===l1&&c1?null:o;default:return null}}function XT(o,c){if(di)return o==="compositionend"||!gm&&d1(o,c)?(o=r1(),bd=um=ya=null,di=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return o1&&c.locale!=="ko"?null:c.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h1(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!JT[o.type]:c==="textarea"}function f1(o,c,f,y){Rw(y),c=Pd(c,"onChange"),0<c.length&&(f=new hm("onChange","change",null,f,y),o.push({event:f,listeners:c}))}var cl=null,dl=null;function ZT(o){_1(o,0)}function Sd(o){var c=pi(o);if(re(c))return o}function e8(o,c){if(o==="change")return c}var m1=!1;if(d){var ym;if(d){var vm="oninput"in document;if(!vm){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),vm=typeof p1.oninput=="function"}ym=vm}else ym=!1;m1=ym&&(!document.documentMode||9<document.documentMode)}function x1(){cl&&(cl.detachEvent("onpropertychange",g1),dl=cl=null)}function g1(o){if(o.propertyName==="value"&&Sd(dl)){var c=[];f1(c,dl,o,Jf(o)),Lw(ZT,c)}}function t8(o,c,f){o==="focusin"?(x1(),cl=c,dl=f,cl.attachEvent("onpropertychange",g1)):o==="focusout"&&x1()}function r8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sd(dl)}function n8(o,c){if(o==="click")return Sd(c)}function a8(o,c){if(o==="input"||o==="change")return Sd(c)}function s8(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var rn=typeof Object.is=="function"?Object.is:s8;function ul(o,c){if(rn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var k=f[y];if(!u.call(c,k)||!rn(o[k],c[k]))return!1}return!0}function y1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v1(o,c){var f=y1(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=c&&y>=c)return{node:f,offset:c-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=y1(f)}}function b1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?b1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function j1(){for(var o=window,c=be();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=be(o.document)}return c}function bm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function i8(o){var c=j1(),f=o.focusedElem,y=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&b1(f.ownerDocument.documentElement,f)){if(y!==null&&bm(f)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var k=f.textContent.length,_=Math.min(y.start,k);y=y.end===void 0?_:Math.min(y.end,k),!o.extend&&_>y&&(k=y,y=_,_=k),k=v1(f,_);var L=v1(f,y);k&&L&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),o.removeAllRanges(),_>y?(o.addRange(c),o.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var o8=d&&"documentMode"in document&&11>=document.documentMode,ui=null,jm=null,hl=null,wm=!1;function w1(o,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;wm||ui==null||ui!==be(y)||(y=ui,"selectionStart"in y&&bm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),hl&&ul(hl,y)||(hl=y,y=Pd(jm,"onSelect"),0<y.length&&(c=new hm("onSelect","select",null,c,f),o.push({event:c,listeners:y}),c.target=ui)))}function kd(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var hi={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},Nm={},N1={};d&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Cd(o){if(Nm[o])return Nm[o];if(!hi[o])return o;var c=hi[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in N1)return Nm[o]=c[f];return o}var S1=Cd("animationend"),k1=Cd("animationiteration"),C1=Cd("animationstart"),A1=Cd("transitionend"),P1=new Map,O1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(o,c){P1.set(o,c),i(c,[o])}for(var Sm=0;Sm<O1.length;Sm++){var km=O1[Sm],l8=km.toLowerCase(),c8=km[0].toUpperCase()+km.slice(1);va(l8,"on"+c8)}va(S1,"onAnimationEnd"),va(k1,"onAnimationIteration"),va(C1,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(A1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d8=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function E1(o,c,f){var y=o.type||"unknown-event";o.currentTarget=f,lT(y,c,void 0,o),o.currentTarget=null}function _1(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],k=y.event;y=y.listeners;e:{var _=void 0;if(c)for(var L=y.length-1;0<=L;L--){var K=y[L],J=K.instance,ie=K.currentTarget;if(K=K.listener,J!==_&&k.isPropagationStopped())break e;E1(k,K,ie),_=J}else for(L=0;L<y.length;L++){if(K=y[L],J=K.instance,ie=K.currentTarget,K=K.listener,J!==_&&k.isPropagationStopped())break e;E1(k,K,ie),_=J}}}if(dd)throw o=rm,dd=!1,rm=null,o}function lt(o,c){var f=c[Rm];f===void 0&&(f=c[Rm]=new Set);var y=o+"__bubble";f.has(y)||(T1(c,o,2,!1),f.add(y))}function Cm(o,c,f){var y=0;c&&(y|=4),T1(f,o,y,c)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function ml(o){if(!o[Ad]){o[Ad]=!0,a.forEach(function(f){f!=="selectionchange"&&(d8.has(f)||Cm(f,!1,o),Cm(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ad]||(c[Ad]=!0,Cm("selectionchange",!1,c))}}function T1(o,c,f,y){switch(t1(c)){case 1:var k=ST;break;case 4:k=kT;break;default:k=cm}f=k.bind(null,c,f,o),k=void 0,!tm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?o.addEventListener(c,f,{capture:!0,passive:k}):o.addEventListener(c,f,!0):k!==void 0?o.addEventListener(c,f,{passive:k}):o.addEventListener(c,f,!1)}function Am(o,c,f,y,k){var _=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var K=y.stateNode.containerInfo;if(K===k||K.nodeType===8&&K.parentNode===k)break;if(L===4)for(L=y.return;L!==null;){var J=L.tag;if((J===3||J===4)&&(J=L.stateNode.containerInfo,J===k||J.nodeType===8&&J.parentNode===k))return;L=L.return}for(;K!==null;){if(L=os(K),L===null)return;if(J=L.tag,J===5||J===6){y=_=L;continue e}K=K.parentNode}}y=y.return}Lw(function(){var ie=_,fe=Jf(f),me=[];e:{var he=P1.get(o);if(he!==void 0){var ve=hm,Se=o;switch(o){case"keypress":if(jd(f)===0)break e;case"keydown":case"keyup":ve=zT;break;case"focusin":Se="focus",ve=pm;break;case"focusout":Se="blur",ve=pm;break;case"beforeblur":case"afterblur":ve=pm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=UT;break;case S1:case k1:case C1:ve=_T;break;case A1:ve=HT;break;case"scroll":ve=CT;break;case"wheel":ve=GT;break;case"copy":case"cut":case"paste":ve=RT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=i1}var Ce=(c&4)!==0,St=!Ce&&o==="scroll",ne=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var Z=ie,ae;Z!==null;){ae=Z;var pe=ae.stateNode;if(ae.tag===5&&pe!==null&&(ae=pe,ne!==null&&(pe=Yo(Z,ne),pe!=null&&Ce.push(pl(Z,pe,ae)))),St)break;Z=Z.return}0<Ce.length&&(he=new ve(he,Se,null,f,fe),me.push({event:he,listeners:Ce}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",he&&f!==Xf&&(Se=f.relatedTarget||f.fromElement)&&(os(Se)||Se[$n]))break e;if((ve||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,ve?(Se=f.relatedTarget||f.toElement,ve=ie,Se=Se?os(Se):null,Se!==null&&(St=is(Se),Se!==St||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=ie),ve!==Se)){if(Ce=a1,pe="onMouseLeave",ne="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=i1,pe="onPointerLeave",ne="onPointerEnter",Z="pointer"),St=ve==null?he:pi(ve),ae=Se==null?he:pi(Se),he=new Ce(pe,Z+"leave",ve,f,fe),he.target=St,he.relatedTarget=ae,pe=null,os(fe)===ie&&(Ce=new Ce(ne,Z+"enter",Se,f,fe),Ce.target=ae,Ce.relatedTarget=St,pe=Ce),St=pe,ve&&Se)t:{for(Ce=ve,ne=Se,Z=0,ae=Ce;ae;ae=fi(ae))Z++;for(ae=0,pe=ne;pe;pe=fi(pe))ae++;for(;0<Z-ae;)Ce=fi(Ce),Z--;for(;0<ae-Z;)ne=fi(ne),ae--;for(;Z--;){if(Ce===ne||ne!==null&&Ce===ne.alternate)break t;Ce=fi(Ce),ne=fi(ne)}Ce=null}else Ce=null;ve!==null&&R1(me,he,ve,Ce,!1),Se!==null&&St!==null&&R1(me,St,Se,Ce,!0)}}e:{if(he=ie?pi(ie):window,ve=he.nodeName&&he.nodeName.toLowerCase(),ve==="select"||ve==="input"&&he.type==="file")var Ae=e8;else if(h1(he))if(m1)Ae=a8;else{Ae=r8;var Ee=t8}else(ve=he.nodeName)&&ve.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ae=n8);if(Ae&&(Ae=Ae(o,ie))){f1(me,Ae,f,fe);break e}Ee&&Ee(o,he,ie),o==="focusout"&&(Ee=he._wrapperState)&&Ee.controlled&&he.type==="number"&&yn(he,"number",he.value)}switch(Ee=ie?pi(ie):window,o){case"focusin":(h1(Ee)||Ee.contentEditable==="true")&&(ui=Ee,jm=ie,hl=null);break;case"focusout":hl=jm=ui=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,w1(me,f,fe);break;case"selectionchange":if(o8)break;case"keydown":case"keyup":w1(me,f,fe)}var _e;if(gm)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else di?d1(o,f)&&(De="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(De="onCompositionStart");De&&(o1&&f.locale!=="ko"&&(di||De!=="onCompositionStart"?De==="onCompositionEnd"&&di&&(_e=r1()):(ya=fe,um="value"in ya?ya.value:ya.textContent,di=!0)),Ee=Pd(ie,De),0<Ee.length&&(De=new s1(De,o,null,f,fe),me.push({event:De,listeners:Ee}),_e?De.data=_e:(_e=u1(f),_e!==null&&(De.data=_e)))),(_e=QT?YT(o,f):XT(o,f))&&(ie=Pd(ie,"onBeforeInput"),0<ie.length&&(fe=new s1("onBeforeInput","beforeinput",null,f,fe),me.push({event:fe,listeners:ie}),fe.data=_e))}_1(me,c)})}function pl(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Pd(o,c){for(var f=c+"Capture",y=[];o!==null;){var k=o,_=k.stateNode;k.tag===5&&_!==null&&(k=_,_=Yo(o,f),_!=null&&y.unshift(pl(o,_,k)),_=Yo(o,c),_!=null&&y.push(pl(o,_,k))),o=o.return}return y}function fi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function R1(o,c,f,y,k){for(var _=c._reactName,L=[];f!==null&&f!==y;){var K=f,J=K.alternate,ie=K.stateNode;if(J!==null&&J===y)break;K.tag===5&&ie!==null&&(K=ie,k?(J=Yo(f,_),J!=null&&L.unshift(pl(f,J,K))):k||(J=Yo(f,_),J!=null&&L.push(pl(f,J,K)))),f=f.return}L.length!==0&&o.push({event:c,listeners:L})}var u8=/\r\n?/g,h8=/\u0000|\uFFFD/g;function M1(o){return(typeof o=="string"?o:""+o).replace(u8,`
`).replace(h8,"")}function Od(o,c,f){if(c=M1(c),M1(o)!==c&&f)throw Error(n(425))}function Ed(){}var Pm=null,Om=null;function Em(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,f8=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,m8=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(o){return I1.resolve(null).then(o).catch(p8)}:_m;function p8(o){setTimeout(function(){throw o})}function Tm(o,c){var f=c,y=0;do{var k=f.nextSibling;if(o.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(y===0){o.removeChild(k),sl(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=k}while(f);sl(c)}function ba(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function $1(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var mi=Math.random().toString(36).slice(2),jn="__reactFiber$"+mi,xl="__reactProps$"+mi,$n="__reactContainer$"+mi,Rm="__reactEvents$"+mi,x8="__reactListeners$"+mi,g8="__reactHandles$"+mi;function os(o){var c=o[jn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[$n]||f[jn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=$1(o);o!==null;){if(f=o[jn])return f;o=$1(o)}return c}o=f,f=o.parentNode}return null}function gl(o){return o=o[jn]||o[$n],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function _d(o){return o[xl]||null}var Mm=[],xi=-1;function ja(o){return{current:o}}function ct(o){0>xi||(o.current=Mm[xi],Mm[xi]=null,xi--)}function at(o,c){xi++,Mm[xi]=o.current,o.current=c}var wa={},Xt=ja(wa),fr=ja(!1),ls=wa;function gi(o,c){var f=o.type.contextTypes;if(!f)return wa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var k={},_;for(_ in f)k[_]=c[_];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=k),k}function mr(o){return o=o.childContextTypes,o!=null}function Td(){ct(fr),ct(Xt)}function L1(o,c,f){if(Xt.current!==wa)throw Error(n(168));at(Xt,c),at(fr,f)}function D1(o,c,f){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var k in y)if(!(k in c))throw Error(n(108,oe(o)||"Unknown",k));return z({},f,y)}function Rd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wa,ls=Xt.current,at(Xt,o),at(fr,fr.current),!0}function F1(o,c,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=D1(o,c,ls),y.__reactInternalMemoizedMergedChildContext=o,ct(fr),ct(Xt),at(Xt,o)):ct(fr),at(fr,f)}var Ln=null,Md=!1,Im=!1;function z1(o){Ln===null?Ln=[o]:Ln.push(o)}function y8(o){Md=!0,z1(o)}function Na(){if(!Im&&Ln!==null){Im=!0;var o=0,c=et;try{var f=Ln;for(et=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ln=null,Md=!1}catch(k){throw Ln!==null&&(Ln=Ln.slice(o+1)),Bw(nm,Na),k}finally{et=c,Im=!1}}return null}var yi=[],vi=0,Id=null,$d=0,$r=[],Lr=0,cs=null,Dn=1,Fn="";function ds(o,c){yi[vi++]=$d,yi[vi++]=Id,Id=o,$d=c}function q1(o,c,f){$r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=cs,cs=o;var y=Dn;o=Fn;var k=32-tn(y)-1;y&=~(1<<k),f+=1;var _=32-tn(c)+k;if(30<_){var L=k-k%5;_=(y&(1<<L)-1).toString(32),y>>=L,k-=L,Dn=1<<32-tn(c)+k|f<<k|y,Fn=_+o}else Dn=1<<_|f<<k|y,Fn=o}function $m(o){o.return!==null&&(ds(o,1),q1(o,1,0))}function Lm(o){for(;o===Id;)Id=yi[--vi],yi[vi]=null,$d=yi[--vi],yi[vi]=null;for(;o===cs;)cs=$r[--Lr],$r[Lr]=null,Fn=$r[--Lr],$r[Lr]=null,Dn=$r[--Lr],$r[Lr]=null}var Cr=null,Ar=null,ut=!1,nn=null;function B1(o,c){var f=qr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function U1(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Cr=o,Ar=ba(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Cr=o,Ar=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=cs!==null?{id:Dn,overflow:Fn}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=qr(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Cr=o,Ar=null,!0):!1;default:return!1}}function Dm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Fm(o){if(ut){var c=Ar;if(c){var f=c;if(!U1(o,c)){if(Dm(o))throw Error(n(418));c=ba(f.nextSibling);var y=Cr;c&&U1(o,c)?B1(y,f):(o.flags=o.flags&-4097|2,ut=!1,Cr=o)}}else{if(Dm(o))throw Error(n(418));o.flags=o.flags&-4097|2,ut=!1,Cr=o}}}function W1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Cr=o}function Ld(o){if(o!==Cr)return!1;if(!ut)return W1(o),ut=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Em(o.type,o.memoizedProps)),c&&(c=Ar)){if(Dm(o))throw H1(),Error(n(418));for(;c;)B1(o,c),c=ba(c.nextSibling)}if(W1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Ar=ba(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Ar=null}}else Ar=Cr?ba(o.stateNode.nextSibling):null;return!0}function H1(){for(var o=Ar;o;)o=ba(o.nextSibling)}function bi(){Ar=Cr=null,ut=!1}function zm(o){nn===null?nn=[o]:nn.push(o)}var v8=N.ReactCurrentBatchConfig;function yl(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var k=y,_=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===_?c.ref:(c=function(L){var K=k.refs;L===null?delete K[_]:K[_]=L},c._stringRef=_,c)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Dd(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function K1(o){var c=o._init;return c(o._payload)}function G1(o){function c(ne,Z){if(o){var ae=ne.deletions;ae===null?(ne.deletions=[Z],ne.flags|=16):ae.push(Z)}}function f(ne,Z){if(!o)return null;for(;Z!==null;)c(ne,Z),Z=Z.sibling;return null}function y(ne,Z){for(ne=new Map;Z!==null;)Z.key!==null?ne.set(Z.key,Z):ne.set(Z.index,Z),Z=Z.sibling;return ne}function k(ne,Z){return ne=_a(ne,Z),ne.index=0,ne.sibling=null,ne}function _(ne,Z,ae){return ne.index=ae,o?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Z?(ne.flags|=2,Z):ae):(ne.flags|=2,Z)):(ne.flags|=1048576,Z)}function L(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function K(ne,Z,ae,pe){return Z===null||Z.tag!==6?(Z=_p(ae,ne.mode,pe),Z.return=ne,Z):(Z=k(Z,ae),Z.return=ne,Z)}function J(ne,Z,ae,pe){var Ae=ae.type;return Ae===E?fe(ne,Z,ae.props.children,pe,ae.key):Z!==null&&(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&K1(Ae)===Z.type)?(pe=k(Z,ae.props),pe.ref=yl(ne,Z,ae),pe.return=ne,pe):(pe=lu(ae.type,ae.key,ae.props,null,ne.mode,pe),pe.ref=yl(ne,Z,ae),pe.return=ne,pe)}function ie(ne,Z,ae,pe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=Tp(ae,ne.mode,pe),Z.return=ne,Z):(Z=k(Z,ae.children||[]),Z.return=ne,Z)}function fe(ne,Z,ae,pe,Ae){return Z===null||Z.tag!==7?(Z=ys(ae,ne.mode,pe,Ae),Z.return=ne,Z):(Z=k(Z,ae),Z.return=ne,Z)}function me(ne,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=_p(""+Z,ne.mode,ae),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return ae=lu(Z.type,Z.key,Z.props,null,ne.mode,ae),ae.ref=yl(ne,null,Z),ae.return=ne,ae;case A:return Z=Tp(Z,ne.mode,ae),Z.return=ne,Z;case B:var pe=Z._init;return me(ne,pe(Z._payload),ae)}if(vn(Z)||Q(Z))return Z=ys(Z,ne.mode,ae,null),Z.return=ne,Z;Dd(ne,Z)}return null}function he(ne,Z,ae,pe){var Ae=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ae!==null?null:K(ne,Z,""+ae,pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case C:return ae.key===Ae?J(ne,Z,ae,pe):null;case A:return ae.key===Ae?ie(ne,Z,ae,pe):null;case B:return Ae=ae._init,he(ne,Z,Ae(ae._payload),pe)}if(vn(ae)||Q(ae))return Ae!==null?null:fe(ne,Z,ae,pe,null);Dd(ne,ae)}return null}function ve(ne,Z,ae,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ne=ne.get(ae)||null,K(Z,ne,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return ne=ne.get(pe.key===null?ae:pe.key)||null,J(Z,ne,pe,Ae);case A:return ne=ne.get(pe.key===null?ae:pe.key)||null,ie(Z,ne,pe,Ae);case B:var Ee=pe._init;return ve(ne,Z,ae,Ee(pe._payload),Ae)}if(vn(pe)||Q(pe))return ne=ne.get(ae)||null,fe(Z,ne,pe,Ae,null);Dd(Z,pe)}return null}function Se(ne,Z,ae,pe){for(var Ae=null,Ee=null,_e=Z,De=Z=0,Ut=null;_e!==null&&De<ae.length;De++){_e.index>De?(Ut=_e,_e=null):Ut=_e.sibling;var Ke=he(ne,_e,ae[De],pe);if(Ke===null){_e===null&&(_e=Ut);break}o&&_e&&Ke.alternate===null&&c(ne,_e),Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke,_e=Ut}if(De===ae.length)return f(ne,_e),ut&&ds(ne,De),Ae;if(_e===null){for(;De<ae.length;De++)_e=me(ne,ae[De],pe),_e!==null&&(Z=_(_e,Z,De),Ee===null?Ae=_e:Ee.sibling=_e,Ee=_e);return ut&&ds(ne,De),Ae}for(_e=y(ne,_e);De<ae.length;De++)Ut=ve(_e,ne,De,ae[De],pe),Ut!==null&&(o&&Ut.alternate!==null&&_e.delete(Ut.key===null?De:Ut.key),Z=_(Ut,Z,De),Ee===null?Ae=Ut:Ee.sibling=Ut,Ee=Ut);return o&&_e.forEach(function(Ta){return c(ne,Ta)}),ut&&ds(ne,De),Ae}function Ce(ne,Z,ae,pe){var Ae=Q(ae);if(typeof Ae!="function")throw Error(n(150));if(ae=Ae.call(ae),ae==null)throw Error(n(151));for(var Ee=Ae=null,_e=Z,De=Z=0,Ut=null,Ke=ae.next();_e!==null&&!Ke.done;De++,Ke=ae.next()){_e.index>De?(Ut=_e,_e=null):Ut=_e.sibling;var Ta=he(ne,_e,Ke.value,pe);if(Ta===null){_e===null&&(_e=Ut);break}o&&_e&&Ta.alternate===null&&c(ne,_e),Z=_(Ta,Z,De),Ee===null?Ae=Ta:Ee.sibling=Ta,Ee=Ta,_e=Ut}if(Ke.done)return f(ne,_e),ut&&ds(ne,De),Ae;if(_e===null){for(;!Ke.done;De++,Ke=ae.next())Ke=me(ne,Ke.value,pe),Ke!==null&&(Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return ut&&ds(ne,De),Ae}for(_e=y(ne,_e);!Ke.done;De++,Ke=ae.next())Ke=ve(_e,ne,De,Ke.value,pe),Ke!==null&&(o&&Ke.alternate!==null&&_e.delete(Ke.key===null?De:Ke.key),Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return o&&_e.forEach(function(J8){return c(ne,J8)}),ut&&ds(ne,De),Ae}function St(ne,Z,ae,pe){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case C:e:{for(var Ae=ae.key,Ee=Z;Ee!==null;){if(Ee.key===Ae){if(Ae=ae.type,Ae===E){if(Ee.tag===7){f(ne,Ee.sibling),Z=k(Ee,ae.props.children),Z.return=ne,ne=Z;break e}}else if(Ee.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===B&&K1(Ae)===Ee.type){f(ne,Ee.sibling),Z=k(Ee,ae.props),Z.ref=yl(ne,Ee,ae),Z.return=ne,ne=Z;break e}f(ne,Ee);break}else c(ne,Ee);Ee=Ee.sibling}ae.type===E?(Z=ys(ae.props.children,ne.mode,pe,ae.key),Z.return=ne,ne=Z):(pe=lu(ae.type,ae.key,ae.props,null,ne.mode,pe),pe.ref=yl(ne,Z,ae),pe.return=ne,ne=pe)}return L(ne);case A:e:{for(Ee=ae.key;Z!==null;){if(Z.key===Ee)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){f(ne,Z.sibling),Z=k(Z,ae.children||[]),Z.return=ne,ne=Z;break e}else{f(ne,Z);break}else c(ne,Z);Z=Z.sibling}Z=Tp(ae,ne.mode,pe),Z.return=ne,ne=Z}return L(ne);case B:return Ee=ae._init,St(ne,Z,Ee(ae._payload),pe)}if(vn(ae))return Se(ne,Z,ae,pe);if(Q(ae))return Ce(ne,Z,ae,pe);Dd(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Z!==null&&Z.tag===6?(f(ne,Z.sibling),Z=k(Z,ae),Z.return=ne,ne=Z):(f(ne,Z),Z=_p(ae,ne.mode,pe),Z.return=ne,ne=Z),L(ne)):f(ne,Z)}return St}var ji=G1(!0),V1=G1(!1),Fd=ja(null),zd=null,wi=null,qm=null;function Bm(){qm=wi=zd=null}function Um(o){var c=Fd.current;ct(Fd),o._currentValue=c}function Wm(o,c,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===f)break;o=o.return}}function Ni(o,c){zd=o,qm=wi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(pr=!0),o.firstContext=null)}function Dr(o){var c=o._currentValue;if(qm!==o)if(o={context:o,memoizedValue:c,next:null},wi===null){if(zd===null)throw Error(n(308));wi=o,zd.dependencies={lanes:0,firstContext:o}}else wi=wi.next=o;return c}var us=null;function Hm(o){us===null?us=[o]:us.push(o)}function Q1(o,c,f,y){var k=c.interleaved;return k===null?(f.next=f,Hm(c)):(f.next=k.next,k.next=f),c.interleaved=f,zn(o,y)}function zn(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Sa=!1;function Km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function qn(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ka(o,c,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(He&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,zn(o,f)}return k=y.interleaved,k===null?(c.next=c,Hm(y)):(c.next=k.next,k.next=c),y.interleaved=c,zn(o,f)}function qd(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,im(o,f)}}function X1(o,c){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var k=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?k=_=L:_=_.next=L,f=f.next}while(f!==null);_===null?k=_=c:_=_.next=c}else k=_=c;f={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Bd(o,c,f,y){var k=o.updateQueue;Sa=!1;var _=k.firstBaseUpdate,L=k.lastBaseUpdate,K=k.shared.pending;if(K!==null){k.shared.pending=null;var J=K,ie=J.next;J.next=null,L===null?_=ie:L.next=ie,L=J;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,K=fe.lastBaseUpdate,K!==L&&(K===null?fe.firstBaseUpdate=ie:K.next=ie,fe.lastBaseUpdate=J))}if(_!==null){var me=k.baseState;L=0,fe=ie=J=null,K=_;do{var he=K.lane,ve=K.eventTime;if((y&he)===he){fe!==null&&(fe=fe.next={eventTime:ve,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Se=o,Ce=K;switch(he=c,ve=f,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){me=Se.call(ve,me,he);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,he=typeof Se=="function"?Se.call(ve,me,he):Se,he==null)break e;me=z({},me,he);break e;case 2:Sa=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,he=k.effects,he===null?k.effects=[K]:he.push(K))}else ve={eventTime:ve,lane:he,tag:K.tag,payload:K.payload,callback:K.callback,next:null},fe===null?(ie=fe=ve,J=me):fe=fe.next=ve,L|=he;if(K=K.next,K===null){if(K=k.shared.pending,K===null)break;he=K,K=he.next,he.next=null,k.lastBaseUpdate=he,k.shared.pending=null}}while(!0);if(fe===null&&(J=me),k.baseState=J,k.firstBaseUpdate=ie,k.lastBaseUpdate=fe,c=k.shared.interleaved,c!==null){k=c;do L|=k.lane,k=k.next;while(k!==c)}else _===null&&(k.shared.lanes=0);ms|=L,o.lanes=L,o.memoizedState=me}}function J1(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],k=y.callback;if(k!==null){if(y.callback=null,y=f,typeof k!="function")throw Error(n(191,k));k.call(y)}}}var vl={},wn=ja(vl),bl=ja(vl),jl=ja(vl);function hs(o){if(o===vl)throw Error(n(174));return o}function Gm(o,c){switch(at(jl,c),at(bl,o),at(wn,vl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Vf(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Vf(c,o)}ct(wn),at(wn,c)}function Si(){ct(wn),ct(bl),ct(jl)}function Z1(o){hs(jl.current);var c=hs(wn.current),f=Vf(c,o.type);c!==f&&(at(bl,o),at(wn,f))}function Vm(o){bl.current===o&&(ct(wn),ct(bl))}var mt=ja(0);function Ud(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qm=[];function Ym(){for(var o=0;o<Qm.length;o++)Qm[o]._workInProgressVersionPrimary=null;Qm.length=0}var Wd=N.ReactCurrentDispatcher,Xm=N.ReactCurrentBatchConfig,fs=0,pt=null,_t=null,qt=null,Hd=!1,wl=!1,Nl=0,b8=0;function Jt(){throw Error(n(321))}function Jm(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!rn(o[f],c[f]))return!1;return!0}function Zm(o,c,f,y,k,_){if(fs=_,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Wd.current=o===null||o.memoizedState===null?S8:k8,o=f(y,k),wl){_=0;do{if(wl=!1,Nl=0,25<=_)throw Error(n(301));_+=1,qt=_t=null,c.updateQueue=null,Wd.current=C8,o=f(y,k)}while(wl)}if(Wd.current=Vd,c=_t!==null&&_t.next!==null,fs=0,qt=_t=pt=null,Hd=!1,c)throw Error(n(300));return o}function ep(){var o=Nl!==0;return Nl=0,o}function Nn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?pt.memoizedState=qt=o:qt=qt.next=o,qt}function Fr(){if(_t===null){var o=pt.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var c=qt===null?pt.memoizedState:qt.next;if(c!==null)qt=c,_t=o;else{if(o===null)throw Error(n(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},qt===null?pt.memoizedState=qt=o:qt=qt.next=o}return qt}function Sl(o,c){return typeof c=="function"?c(o):c}function tp(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=_t,k=y.baseQueue,_=f.pending;if(_!==null){if(k!==null){var L=k.next;k.next=_.next,_.next=L}y.baseQueue=k=_,f.pending=null}if(k!==null){_=k.next,y=y.baseState;var K=L=null,J=null,ie=_;do{var fe=ie.lane;if((fs&fe)===fe)J!==null&&(J=J.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),y=ie.hasEagerState?ie.eagerState:o(y,ie.action);else{var me={lane:fe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};J===null?(K=J=me,L=y):J=J.next=me,pt.lanes|=fe,ms|=fe}ie=ie.next}while(ie!==null&&ie!==_);J===null?L=y:J.next=K,rn(y,c.memoizedState)||(pr=!0),c.memoizedState=y,c.baseState=L,c.baseQueue=J,f.lastRenderedState=y}if(o=f.interleaved,o!==null){k=o;do _=k.lane,pt.lanes|=_,ms|=_,k=k.next;while(k!==o)}else k===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function rp(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,k=f.pending,_=c.memoizedState;if(k!==null){f.pending=null;var L=k=k.next;do _=o(_,L.action),L=L.next;while(L!==k);rn(_,c.memoizedState)||(pr=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,y]}function e2(){}function t2(o,c){var f=pt,y=Fr(),k=c(),_=!rn(y.memoizedState,k);if(_&&(y.memoizedState=k,pr=!0),y=y.queue,np(a2.bind(null,f,y,o),[o]),y.getSnapshot!==c||_||qt!==null&&qt.memoizedState.tag&1){if(f.flags|=2048,kl(9,n2.bind(null,f,y,k,c),void 0,null),Bt===null)throw Error(n(349));(fs&30)!==0||r2(f,c,k)}return k}function r2(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function n2(o,c,f,y){c.value=f,c.getSnapshot=y,s2(c)&&i2(o)}function a2(o,c,f){return f(function(){s2(c)&&i2(o)})}function s2(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!rn(o,f)}catch{return!0}}function i2(o){var c=zn(o,1);c!==null&&ln(c,o,1,-1)}function o2(o){var c=Nn();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:o},c.queue=o,o=o.dispatch=N8.bind(null,pt,o),[c.memoizedState,o]}function kl(o,c,f,y){return o={tag:o,create:c,destroy:f,deps:y,next:null},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,c.lastEffect=o)),o}function l2(){return Fr().memoizedState}function Kd(o,c,f,y){var k=Nn();pt.flags|=o,k.memoizedState=kl(1|c,f,void 0,y===void 0?null:y)}function Gd(o,c,f,y){var k=Fr();y=y===void 0?null:y;var _=void 0;if(_t!==null){var L=_t.memoizedState;if(_=L.destroy,y!==null&&Jm(y,L.deps)){k.memoizedState=kl(c,f,_,y);return}}pt.flags|=o,k.memoizedState=kl(1|c,f,_,y)}function c2(o,c){return Kd(8390656,8,o,c)}function np(o,c){return Gd(2048,8,o,c)}function d2(o,c){return Gd(4,2,o,c)}function u2(o,c){return Gd(4,4,o,c)}function h2(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function f2(o,c,f){return f=f!=null?f.concat([o]):null,Gd(4,4,h2.bind(null,c,o),f)}function ap(){}function m2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Jm(c,y[1])?y[0]:(f.memoizedState=[o,c],o)}function p2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Jm(c,y[1])?y[0]:(o=o(),f.memoizedState=[o,c],o)}function x2(o,c,f){return(fs&21)===0?(o.baseState&&(o.baseState=!1,pr=!0),o.memoizedState=f):(rn(f,c)||(f=Kw(),pt.lanes|=f,ms|=f,o.baseState=!0),c)}function j8(o,c){var f=et;et=f!==0&&4>f?f:4,o(!0);var y=Xm.transition;Xm.transition={};try{o(!1),c()}finally{et=f,Xm.transition=y}}function g2(){return Fr().memoizedState}function w8(o,c,f){var y=Oa(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},y2(o))v2(c,f);else if(f=Q1(o,c,f,y),f!==null){var k=ir();ln(f,o,y,k),b2(f,c,y)}}function N8(o,c,f){var y=Oa(o),k={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(y2(o))v2(c,k);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var L=c.lastRenderedState,K=_(L,f);if(k.hasEagerState=!0,k.eagerState=K,rn(K,L)){var J=c.interleaved;J===null?(k.next=k,Hm(c)):(k.next=J.next,J.next=k),c.interleaved=k;return}}catch{}finally{}f=Q1(o,c,k,y),f!==null&&(k=ir(),ln(f,o,y,k),b2(f,c,y))}}function y2(o){var c=o.alternate;return o===pt||c!==null&&c===pt}function v2(o,c){wl=Hd=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function b2(o,c,f){if((f&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,im(o,f)}}var Vd={readContext:Dr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},S8={readContext:Dr,useCallback:function(o,c){return Nn().memoizedState=[o,c===void 0?null:c],o},useContext:Dr,useEffect:c2,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Kd(4194308,4,h2.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Kd(4194308,4,o,c)},useInsertionEffect:function(o,c){return Kd(4,2,o,c)},useMemo:function(o,c){var f=Nn();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var y=Nn();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=w8.bind(null,pt,o),[y.memoizedState,o]},useRef:function(o){var c=Nn();return o={current:o},c.memoizedState=o},useState:o2,useDebugValue:ap,useDeferredValue:function(o){return Nn().memoizedState=o},useTransition:function(){var o=o2(!1),c=o[0];return o=j8.bind(null,o[1]),Nn().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var y=pt,k=Nn();if(ut){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Bt===null)throw Error(n(349));(fs&30)!==0||r2(y,c,f)}k.memoizedState=f;var _={value:f,getSnapshot:c};return k.queue=_,c2(a2.bind(null,y,_,o),[o]),y.flags|=2048,kl(9,n2.bind(null,y,_,f,c),void 0,null),f},useId:function(){var o=Nn(),c=Bt.identifierPrefix;if(ut){var f=Fn,y=Dn;f=(y&~(1<<32-tn(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=Nl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=b8++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},k8={readContext:Dr,useCallback:m2,useContext:Dr,useEffect:np,useImperativeHandle:f2,useInsertionEffect:d2,useLayoutEffect:u2,useMemo:p2,useReducer:tp,useRef:l2,useState:function(){return tp(Sl)},useDebugValue:ap,useDeferredValue:function(o){var c=Fr();return x2(c,_t.memoizedState,o)},useTransition:function(){var o=tp(Sl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:e2,useSyncExternalStore:t2,useId:g2,unstable_isNewReconciler:!1},C8={readContext:Dr,useCallback:m2,useContext:Dr,useEffect:np,useImperativeHandle:f2,useInsertionEffect:d2,useLayoutEffect:u2,useMemo:p2,useReducer:rp,useRef:l2,useState:function(){return rp(Sl)},useDebugValue:ap,useDeferredValue:function(o){var c=Fr();return _t===null?c.memoizedState=o:x2(c,_t.memoizedState,o)},useTransition:function(){var o=rp(Sl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:e2,useSyncExternalStore:t2,useId:g2,unstable_isNewReconciler:!1};function an(o,c){if(o&&o.defaultProps){c=z({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function sp(o,c,f,y){c=o.memoizedState,f=f(y,c),f=f==null?c:z({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Qd={isMounted:function(o){return(o=o._reactInternals)?is(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var y=ir(),k=Oa(o),_=qn(y,k);_.payload=c,f!=null&&(_.callback=f),c=ka(o,_,k),c!==null&&(ln(c,o,k,y),qd(c,o,k))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var y=ir(),k=Oa(o),_=qn(y,k);_.tag=1,_.payload=c,f!=null&&(_.callback=f),c=ka(o,_,k),c!==null&&(ln(c,o,k,y),qd(c,o,k))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ir(),y=Oa(o),k=qn(f,y);k.tag=2,c!=null&&(k.callback=c),c=ka(o,k,y),c!==null&&(ln(c,o,y,f),qd(c,o,y))}};function j2(o,c,f,y,k,_,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,L):c.prototype&&c.prototype.isPureReactComponent?!ul(f,y)||!ul(k,_):!0}function w2(o,c,f){var y=!1,k=wa,_=c.contextType;return typeof _=="object"&&_!==null?_=Dr(_):(k=mr(c)?ls:Xt.current,y=c.contextTypes,_=(y=y!=null)?gi(o,k):wa),c=new c(f,_),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Qd,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=_),c}function N2(o,c,f,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==o&&Qd.enqueueReplaceState(c,c.state,null)}function ip(o,c,f,y){var k=o.stateNode;k.props=f,k.state=o.memoizedState,k.refs={},Km(o);var _=c.contextType;typeof _=="object"&&_!==null?k.context=Dr(_):(_=mr(c)?ls:Xt.current,k.context=gi(o,_)),k.state=o.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(sp(o,c,_,f),k.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&Qd.enqueueReplaceState(k,k.state,null),Bd(o,f,k,y),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function ki(o,c){try{var f="",y=c;do f+=ue(y),y=y.return;while(y);var k=f}catch(_){k=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:c,stack:k,digest:null}}function op(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function lp(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var A8=typeof WeakMap=="function"?WeakMap:Map;function S2(o,c,f){f=qn(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){ru||(ru=!0,Np=y),lp(o,c)},f}function k2(o,c,f){f=qn(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var k=c.value;f.payload=function(){return y(k)},f.callback=function(){lp(o,c)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){lp(o,c),typeof y!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function C2(o,c,f){var y=o.pingCache;if(y===null){y=o.pingCache=new A8;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(f)||(k.add(f),o=q8.bind(null,o,c,f),c.then(o,o))}function A2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function P2(o,c,f,y,k){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=qn(-1,1),c.tag=2,ka(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var P8=N.ReactCurrentOwner,pr=!1;function sr(o,c,f,y){c.child=o===null?V1(c,null,f,y):ji(c,o.child,f,y)}function O2(o,c,f,y,k){f=f.render;var _=c.ref;return Ni(c,k),y=Zm(o,c,f,y,_,k),f=ep(),o!==null&&!pr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,Bn(o,c,k)):(ut&&f&&$m(c),c.flags|=1,sr(o,c,y,k),c.child)}function E2(o,c,f,y,k){if(o===null){var _=f.type;return typeof _=="function"&&!Ep(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=_,_2(o,c,_,y,k)):(o=lu(f.type,null,y,c,c.mode,k),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,(o.lanes&k)===0){var L=_.memoizedProps;if(f=f.compare,f=f!==null?f:ul,f(L,y)&&o.ref===c.ref)return Bn(o,c,k)}return c.flags|=1,o=_a(_,y),o.ref=c.ref,o.return=c,c.child=o}function _2(o,c,f,y,k){if(o!==null){var _=o.memoizedProps;if(ul(_,y)&&o.ref===c.ref)if(pr=!1,c.pendingProps=y=_,(o.lanes&k)!==0)(o.flags&131072)!==0&&(pr=!0);else return c.lanes=o.lanes,Bn(o,c,k)}return cp(o,c,f,y,k)}function T2(o,c,f){var y=c.pendingProps,k=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ai,Pr),Pr|=f;else{if((f&1073741824)===0)return o=_!==null?_.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,at(Ai,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:f,at(Ai,Pr),Pr|=y}else _!==null?(y=_.baseLanes|f,c.memoizedState=null):y=f,at(Ai,Pr),Pr|=y;return sr(o,c,k,f),c.child}function R2(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function cp(o,c,f,y,k){var _=mr(f)?ls:Xt.current;return _=gi(c,_),Ni(c,k),f=Zm(o,c,f,y,_,k),y=ep(),o!==null&&!pr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,Bn(o,c,k)):(ut&&y&&$m(c),c.flags|=1,sr(o,c,f,k),c.child)}function M2(o,c,f,y,k){if(mr(f)){var _=!0;Rd(c)}else _=!1;if(Ni(c,k),c.stateNode===null)Xd(o,c),w2(c,f,y),ip(c,f,y,k),y=!0;else if(o===null){var L=c.stateNode,K=c.memoizedProps;L.props=K;var J=L.context,ie=f.contextType;typeof ie=="object"&&ie!==null?ie=Dr(ie):(ie=mr(f)?ls:Xt.current,ie=gi(c,ie));var fe=f.getDerivedStateFromProps,me=typeof fe=="function"||typeof L.getSnapshotBeforeUpdate=="function";me||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==y||J!==ie)&&N2(c,L,y,ie),Sa=!1;var he=c.memoizedState;L.state=he,Bd(c,y,L,k),J=c.memoizedState,K!==y||he!==J||fr.current||Sa?(typeof fe=="function"&&(sp(c,f,fe,y),J=c.memoizedState),(K=Sa||j2(c,f,K,y,he,J,ie))?(me||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=J),L.props=y,L.state=J,L.context=ie,y=K):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{L=c.stateNode,Y1(o,c),K=c.memoizedProps,ie=c.type===c.elementType?K:an(c.type,K),L.props=ie,me=c.pendingProps,he=L.context,J=f.contextType,typeof J=="object"&&J!==null?J=Dr(J):(J=mr(f)?ls:Xt.current,J=gi(c,J));var ve=f.getDerivedStateFromProps;(fe=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==me||he!==J)&&N2(c,L,y,J),Sa=!1,he=c.memoizedState,L.state=he,Bd(c,y,L,k);var Se=c.memoizedState;K!==me||he!==Se||fr.current||Sa?(typeof ve=="function"&&(sp(c,f,ve,y),Se=c.memoizedState),(ie=Sa||j2(c,f,ie,y,he,Se,J)||!1)?(fe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,Se,J),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,Se,J)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Se),L.props=y,L.state=Se,L.context=J,y=ie):(typeof L.componentDidUpdate!="function"||K===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),y=!1)}return dp(o,c,f,y,_,k)}function dp(o,c,f,y,k,_){R2(o,c);var L=(c.flags&128)!==0;if(!y&&!L)return k&&F1(c,f,!1),Bn(o,c,_);y=c.stateNode,P8.current=c;var K=L&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&L?(c.child=ji(c,o.child,null,_),c.child=ji(c,null,K,_)):sr(o,c,K,_),c.memoizedState=y.state,k&&F1(c,f,!0),c.child}function I2(o){var c=o.stateNode;c.pendingContext?L1(o,c.pendingContext,c.pendingContext!==c.context):c.context&&L1(o,c.context,!1),Gm(o,c.containerInfo)}function $2(o,c,f,y,k){return bi(),zm(k),c.flags|=256,sr(o,c,f,y),c.child}var up={dehydrated:null,treeContext:null,retryLane:0};function hp(o){return{baseLanes:o,cachePool:null,transitions:null}}function L2(o,c,f){var y=c.pendingProps,k=mt.current,_=!1,L=(c.flags&128)!==0,K;if((K=L)||(K=o!==null&&o.memoizedState===null?!1:(k&2)!==0),K?(_=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),at(mt,k&1),o===null)return Fm(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=y.children,o=y.fallback,_?(y=c.mode,_=c.child,L={mode:"hidden",children:L},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=L):_=cu(L,y,0,null),o=ys(o,y,f,null),_.return=c,o.return=c,_.sibling=o,c.child=_,c.child.memoizedState=hp(f),c.memoizedState=up,o):fp(c,L));if(k=o.memoizedState,k!==null&&(K=k.dehydrated,K!==null))return O8(o,c,L,y,K,k,f);if(_){_=y.fallback,L=c.mode,k=o.child,K=k.sibling;var J={mode:"hidden",children:y.children};return(L&1)===0&&c.child!==k?(y=c.child,y.childLanes=0,y.pendingProps=J,c.deletions=null):(y=_a(k,J),y.subtreeFlags=k.subtreeFlags&14680064),K!==null?_=_a(K,_):(_=ys(_,L,f,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,L=o.child.memoizedState,L=L===null?hp(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},_.memoizedState=L,_.childLanes=o.childLanes&~f,c.memoizedState=up,y}return _=o.child,o=_.sibling,y=_a(_,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=y,c.memoizedState=null,y}function fp(o,c){return c=cu({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Yd(o,c,f,y){return y!==null&&zm(y),ji(c,o.child,null,f),o=fp(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function O8(o,c,f,y,k,_,L){if(f)return c.flags&256?(c.flags&=-257,y=op(Error(n(422))),Yd(o,c,L,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(_=y.fallback,k=c.mode,y=cu({mode:"visible",children:y.children},k,0,null),_=ys(_,k,L,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,(c.mode&1)!==0&&ji(c,o.child,null,L),c.child.memoizedState=hp(L),c.memoizedState=up,_);if((c.mode&1)===0)return Yd(o,c,L,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var K=y.dgst;return y=K,_=Error(n(419)),y=op(_,y,void 0),Yd(o,c,L,y)}if(K=(L&o.childLanes)!==0,pr||K){if(y=Bt,y!==null){switch(L&-L){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|L))!==0?0:k,k!==0&&k!==_.retryLane&&(_.retryLane=k,zn(o,k),ln(y,o,k,-1))}return Op(),y=op(Error(n(421))),Yd(o,c,L,y)}return k.data==="$?"?(c.flags|=128,c.child=o.child,c=B8.bind(null,o),k._reactRetry=c,null):(o=_.treeContext,Ar=ba(k.nextSibling),Cr=c,ut=!0,nn=null,o!==null&&($r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=cs,Dn=o.id,Fn=o.overflow,cs=c),c=fp(c,y.children),c.flags|=4096,c)}function D2(o,c,f){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Wm(o.return,c,f)}function mp(o,c,f,y,k){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:k}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=f,_.tailMode=k)}function F2(o,c,f){var y=c.pendingProps,k=y.revealOrder,_=y.tail;if(sr(o,c,y.children,f),y=mt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&D2(o,f,c);else if(o.tag===19)D2(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(at(mt,y),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(f=c.child,k=null;f!==null;)o=f.alternate,o!==null&&Ud(o)===null&&(k=f),f=f.sibling;f=k,f===null?(k=c.child,c.child=null):(k=f.sibling,f.sibling=null),mp(c,!1,k,f,_);break;case"backwards":for(f=null,k=c.child,c.child=null;k!==null;){if(o=k.alternate,o!==null&&Ud(o)===null){c.child=k;break}o=k.sibling,k.sibling=f,f=k,k=o}mp(c,!0,f,null,_);break;case"together":mp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Xd(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Bn(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),ms|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=_a(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=_a(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function E8(o,c,f){switch(c.tag){case 3:I2(c),bi();break;case 5:Z1(c);break;case 1:mr(c.type)&&Rd(c);break;case 4:Gm(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,k=c.memoizedProps.value;at(Fd,y._currentValue),y._currentValue=k;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(at(mt,mt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?L2(o,c,f):(at(mt,mt.current&1),o=Bn(o,c,f),o!==null?o.sibling:null);at(mt,mt.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(o.flags&128)!==0){if(y)return F2(o,c,f);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),at(mt,mt.current),y)break;return null;case 22:case 23:return c.lanes=0,T2(o,c,f)}return Bn(o,c,f)}var z2,pp,q2,B2;z2=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},pp=function(){},q2=function(o,c,f,y){var k=o.memoizedProps;if(k!==y){o=c.stateNode,hs(wn.current);var _=null;switch(f){case"input":k=je(o,k),y=je(o,y),_=[];break;case"select":k=z({},k,{value:void 0}),y=z({},y,{value:void 0}),_=[];break;case"textarea":k=en(o,k),y=en(o,y),_=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Ed)}Qf(f,y);var L;f=null;for(ie in k)if(!y.hasOwnProperty(ie)&&k.hasOwnProperty(ie)&&k[ie]!=null)if(ie==="style"){var K=k[ie];for(L in K)K.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?_||(_=[]):(_=_||[]).push(ie,null));for(ie in y){var J=y[ie];if(K=k!=null?k[ie]:void 0,y.hasOwnProperty(ie)&&J!==K&&(J!=null||K!=null))if(ie==="style")if(K){for(L in K)!K.hasOwnProperty(L)||J&&J.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in J)J.hasOwnProperty(L)&&K[L]!==J[L]&&(f||(f={}),f[L]=J[L])}else f||(_||(_=[]),_.push(ie,f)),f=J;else ie==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(_=_||[]).push(ie,J)):ie==="children"?typeof J!="string"&&typeof J!="number"||(_=_||[]).push(ie,""+J):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(J!=null&&ie==="onScroll"&&lt("scroll",o),_||K===J||(_=[])):(_=_||[]).push(ie,J))}f&&(_=_||[]).push("style",f);var ie=_;(c.updateQueue=ie)&&(c.flags|=4)}},B2=function(o,c,f,y){f!==y&&(c.flags|=4)};function Cl(o,c){if(!ut)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Zt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(c)for(var k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=y,o.childLanes=f,c}function _8(o,c,f){var y=c.pendingProps;switch(Lm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return mr(c.type)&&Td(),Zt(c),null;case 3:return y=c.stateNode,Si(),ct(fr),ct(Xt),Ym(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Ld(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,nn!==null&&(Cp(nn),nn=null))),pp(o,c),Zt(c),null;case 5:Vm(c);var k=hs(jl.current);if(f=c.type,o!==null&&c.stateNode!=null)q2(o,c,f,y,k),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Zt(c),null}if(o=hs(wn.current),Ld(c)){y=c.stateNode,f=c.type;var _=c.memoizedProps;switch(y[jn]=c,y[xl]=_,o=(c.mode&1)!==0,f){case"dialog":lt("cancel",y),lt("close",y);break;case"iframe":case"object":case"embed":lt("load",y);break;case"video":case"audio":for(k=0;k<fl.length;k++)lt(fl[k],y);break;case"source":lt("error",y);break;case"img":case"image":case"link":lt("error",y),lt("load",y);break;case"details":lt("toggle",y);break;case"input":tt(y,_),lt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},lt("invalid",y);break;case"textarea":si(y,_),lt("invalid",y)}Qf(f,_),k=null;for(var L in _)if(_.hasOwnProperty(L)){var K=_[L];L==="children"?typeof K=="string"?y.textContent!==K&&(_.suppressHydrationWarning!==!0&&Od(y.textContent,K,o),k=["children",K]):typeof K=="number"&&y.textContent!==""+K&&(_.suppressHydrationWarning!==!0&&Od(y.textContent,K,o),k=["children",""+K]):s.hasOwnProperty(L)&&K!=null&&L==="onScroll"&&lt("scroll",y)}switch(f){case"input":$e(y),Zr(y,_,!0);break;case"textarea":$e(y),Go(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=Ed)}y=k,c.updateQueue=y,y!==null&&(c.flags|=4)}else{L=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Pw(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=L.createElement(f,{is:y.is}):(o=L.createElement(f),f==="select"&&(L=o,y.multiple?L.multiple=!0:y.size&&(L.size=y.size))):o=L.createElementNS(o,f),o[jn]=c,o[xl]=y,z2(o,c,!1,!1),c.stateNode=o;e:{switch(L=Yf(f,y),f){case"dialog":lt("cancel",o),lt("close",o),k=y;break;case"iframe":case"object":case"embed":lt("load",o),k=y;break;case"video":case"audio":for(k=0;k<fl.length;k++)lt(fl[k],o);k=y;break;case"source":lt("error",o),k=y;break;case"img":case"image":case"link":lt("error",o),lt("load",o),k=y;break;case"details":lt("toggle",o),k=y;break;case"input":tt(o,y),k=je(o,y),lt("invalid",o);break;case"option":k=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},k=z({},y,{value:void 0}),lt("invalid",o);break;case"textarea":si(o,y),k=en(o,y),lt("invalid",o);break;default:k=y}Qf(f,k),K=k;for(_ in K)if(K.hasOwnProperty(_)){var J=K[_];_==="style"?_w(o,J):_==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Ow(o,J)):_==="children"?typeof J=="string"?(f!=="textarea"||J!=="")&&Vo(o,J):typeof J=="number"&&Vo(o,""+J):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?J!=null&&_==="onScroll"&&lt("scroll",o):J!=null&&O(o,_,J,L))}switch(f){case"input":$e(o),Zr(o,y,!1);break;case"textarea":$e(o),Go(o);break;case"option":y.value!=null&&o.setAttribute("value",""+ee(y.value));break;case"select":o.multiple=!!y.multiple,_=y.value,_!=null?hr(o,!!y.multiple,_,!1):y.defaultValue!=null&&hr(o,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=Ed)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zt(c),null;case 6:if(o&&c.stateNode!=null)B2(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(f=hs(jl.current),hs(wn.current),Ld(c)){if(y=c.stateNode,f=c.memoizedProps,y[jn]=c,(_=y.nodeValue!==f)&&(o=Cr,o!==null))switch(o.tag){case 3:Od(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Od(y.nodeValue,f,(o.mode&1)!==0)}_&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[jn]=c,c.stateNode=y}return Zt(c),null;case 13:if(ct(mt),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ut&&Ar!==null&&(c.mode&1)!==0&&(c.flags&128)===0)H1(),bi(),c.flags|=98560,_=!1;else if(_=Ld(c),y!==null&&y.dehydrated!==null){if(o===null){if(!_)throw Error(n(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[jn]=c}else bi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),_=!1}else nn!==null&&(Cp(nn),nn=null),_=!0;if(!_)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(mt.current&1)!==0?Tt===0&&(Tt=3):Op())),c.updateQueue!==null&&(c.flags|=4),Zt(c),null);case 4:return Si(),pp(o,c),o===null&&ml(c.stateNode.containerInfo),Zt(c),null;case 10:return Um(c.type._context),Zt(c),null;case 17:return mr(c.type)&&Td(),Zt(c),null;case 19:if(ct(mt),_=c.memoizedState,_===null)return Zt(c),null;if(y=(c.flags&128)!==0,L=_.rendering,L===null)if(y)Cl(_,!1);else{if(Tt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(L=Ud(o),L!==null){for(c.flags|=128,Cl(_,!1),y=L.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)_=f,o=y,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,o=L.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return at(mt,mt.current&1|2),c.child}o=o.sibling}_.tail!==null&&Nt()>Pi&&(c.flags|=128,y=!0,Cl(_,!1),c.lanes=4194304)}else{if(!y)if(o=Ud(L),o!==null){if(c.flags|=128,y=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Cl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!ut)return Zt(c),null}else 2*Nt()-_.renderingStartTime>Pi&&f!==1073741824&&(c.flags|=128,y=!0,Cl(_,!1),c.lanes=4194304);_.isBackwards?(L.sibling=c.child,c.child=L):(f=_.last,f!==null?f.sibling=L:c.child=L,_.last=L)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=Nt(),c.sibling=null,f=mt.current,at(mt,y?f&1|2:f&1),c):(Zt(c),null);case 22:case 23:return Pp(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function T8(o,c){switch(Lm(c),c.tag){case 1:return mr(c.type)&&Td(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Si(),ct(fr),ct(Xt),Ym(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Vm(c),null;case 13:if(ct(mt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));bi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ct(mt),null;case 4:return Si(),null;case 10:return Um(c.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Jd=!1,er=!1,R8=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ci(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){yt(o,c,y)}else f.current=null}function xp(o,c,f){try{f()}catch(y){yt(o,c,y)}}var U2=!1;function M8(o,c){if(Pm=yd,o=j1(),bm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var k=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var L=0,K=-1,J=-1,ie=0,fe=0,me=o,he=null;t:for(;;){for(var ve;me!==f||k!==0&&me.nodeType!==3||(K=L+k),me!==_||y!==0&&me.nodeType!==3||(J=L+y),me.nodeType===3&&(L+=me.nodeValue.length),(ve=me.firstChild)!==null;)he=me,me=ve;for(;;){if(me===o)break t;if(he===f&&++ie===k&&(K=L),he===_&&++fe===y&&(J=L),(ve=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=ve}f=K===-1||J===-1?null:{start:K,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(Om={focusedElem:o,selectionRange:f},yd=!1,we=c;we!==null;)if(c=we,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,we=o;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,St=Se.memoizedState,ne=c.stateNode,Z=ne.getSnapshotBeforeUpdate(c.elementType===c.type?Ce:an(c.type,Ce),St);ne.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){yt(c,c.return,pe)}if(o=c.sibling,o!==null){o.return=c.return,we=o;break}we=c.return}return Se=U2,U2=!1,Se}function Al(o,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&o)===o){var _=k.destroy;k.destroy=void 0,_!==void 0&&xp(c,f,_)}k=k.next}while(k!==y)}}function Zd(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function gp(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function W2(o){var c=o.alternate;c!==null&&(o.alternate=null,W2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[jn],delete c[xl],delete c[Rm],delete c[x8],delete c[g8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function H2(o){return o.tag===5||o.tag===3||o.tag===4}function K2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||H2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ed));else if(y!==4&&(o=o.child,o!==null))for(yp(o,c,f),o=o.sibling;o!==null;)yp(o,c,f),o=o.sibling}function vp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(vp(o,c,f),o=o.sibling;o!==null;)vp(o,c,f),o=o.sibling}var Vt=null,sn=!1;function Ca(o,c,f){for(f=f.child;f!==null;)G2(o,c,f),f=f.sibling}function G2(o,c,f){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(hd,f)}catch{}switch(f.tag){case 5:er||Ci(f,c);case 6:var y=Vt,k=sn;Vt=null,Ca(o,c,f),Vt=y,sn=k,Vt!==null&&(sn?(o=Vt,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Vt.removeChild(f.stateNode));break;case 18:Vt!==null&&(sn?(o=Vt,f=f.stateNode,o.nodeType===8?Tm(o.parentNode,f):o.nodeType===1&&Tm(o,f),sl(o)):Tm(Vt,f.stateNode));break;case 4:y=Vt,k=sn,Vt=f.stateNode.containerInfo,sn=!0,Ca(o,c,f),Vt=y,sn=k;break;case 0:case 11:case 14:case 15:if(!er&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var _=k,L=_.destroy;_=_.tag,L!==void 0&&((_&2)!==0||(_&4)!==0)&&xp(f,c,L),k=k.next}while(k!==y)}Ca(o,c,f);break;case 1:if(!er&&(Ci(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(K){yt(f,c,K)}Ca(o,c,f);break;case 21:Ca(o,c,f);break;case 22:f.mode&1?(er=(y=er)||f.memoizedState!==null,Ca(o,c,f),er=y):Ca(o,c,f);break;default:Ca(o,c,f)}}function V2(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new R8),c.forEach(function(y){var k=U8.bind(null,o,y);f.has(y)||(f.add(y),y.then(k,k))})}}function on(o,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var k=f[y];try{var _=o,L=c,K=L;e:for(;K!==null;){switch(K.tag){case 5:Vt=K.stateNode,sn=!1;break e;case 3:Vt=K.stateNode.containerInfo,sn=!0;break e;case 4:Vt=K.stateNode.containerInfo,sn=!0;break e}K=K.return}if(Vt===null)throw Error(n(160));G2(_,L,k),Vt=null,sn=!1;var J=k.alternate;J!==null&&(J.return=null),k.return=null}catch(ie){yt(k,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Q2(c,o),c=c.sibling}function Q2(o,c){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(on(c,o),Sn(o),y&4){try{Al(3,o,o.return),Zd(3,o)}catch(Ce){yt(o,o.return,Ce)}try{Al(5,o,o.return)}catch(Ce){yt(o,o.return,Ce)}}break;case 1:on(c,o),Sn(o),y&512&&f!==null&&Ci(f,f.return);break;case 5:if(on(c,o),Sn(o),y&512&&f!==null&&Ci(f,f.return),o.flags&32){var k=o.stateNode;try{Vo(k,"")}catch(Ce){yt(o,o.return,Ce)}}if(y&4&&(k=o.stateNode,k!=null)){var _=o.memoizedProps,L=f!==null?f.memoizedProps:_,K=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{K==="input"&&_.type==="radio"&&_.name!=null&&gt(k,_),Yf(K,L);var ie=Yf(K,_);for(L=0;L<J.length;L+=2){var fe=J[L],me=J[L+1];fe==="style"?_w(k,me):fe==="dangerouslySetInnerHTML"?Ow(k,me):fe==="children"?Vo(k,me):O(k,fe,me,ie)}switch(K){case"input":zt(k,_);break;case"textarea":Ko(k,_);break;case"select":var he=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!_.multiple;var ve=_.value;ve!=null?hr(k,!!_.multiple,ve,!1):he!==!!_.multiple&&(_.defaultValue!=null?hr(k,!!_.multiple,_.defaultValue,!0):hr(k,!!_.multiple,_.multiple?[]:"",!1))}k[xl]=_}catch(Ce){yt(o,o.return,Ce)}}break;case 6:if(on(c,o),Sn(o),y&4){if(o.stateNode===null)throw Error(n(162));k=o.stateNode,_=o.memoizedProps;try{k.nodeValue=_}catch(Ce){yt(o,o.return,Ce)}}break;case 3:if(on(c,o),Sn(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{sl(c.containerInfo)}catch(Ce){yt(o,o.return,Ce)}break;case 4:on(c,o),Sn(o);break;case 13:on(c,o),Sn(o),k=o.child,k.flags&8192&&(_=k.memoizedState!==null,k.stateNode.isHidden=_,!_||k.alternate!==null&&k.alternate.memoizedState!==null||(wp=Nt())),y&4&&V2(o);break;case 22:if(fe=f!==null&&f.memoizedState!==null,o.mode&1?(er=(ie=er)||fe,on(c,o),er=ie):on(c,o),Sn(o),y&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!fe&&(o.mode&1)!==0)for(we=o,fe=o.child;fe!==null;){for(me=we=fe;we!==null;){switch(he=we,ve=he.child,he.tag){case 0:case 11:case 14:case 15:Al(4,he,he.return);break;case 1:Ci(he,he.return);var Se=he.stateNode;if(typeof Se.componentWillUnmount=="function"){y=he,f=he.return;try{c=y,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(Ce){yt(y,f,Ce)}}break;case 5:Ci(he,he.return);break;case 22:if(he.memoizedState!==null){J2(me);continue}}ve!==null?(ve.return=he,we=ve):J2(me)}fe=fe.sibling}e:for(fe=null,me=o;;){if(me.tag===5){if(fe===null){fe=me;try{k=me.stateNode,ie?(_=k.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(K=me.stateNode,J=me.memoizedProps.style,L=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=Ew("display",L))}catch(Ce){yt(o,o.return,Ce)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=ie?"":me.memoizedProps}catch(Ce){yt(o,o.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:on(c,o),Sn(o),y&4&&V2(o);break;case 21:break;default:on(c,o),Sn(o)}}function Sn(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(H2(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(Vo(k,""),y.flags&=-33);var _=K2(o);vp(o,_,k);break;case 3:case 4:var L=y.stateNode.containerInfo,K=K2(o);yp(o,K,L);break;default:throw Error(n(161))}}catch(J){yt(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function I8(o,c,f){we=o,Y2(o)}function Y2(o,c,f){for(var y=(o.mode&1)!==0;we!==null;){var k=we,_=k.child;if(k.tag===22&&y){var L=k.memoizedState!==null||Jd;if(!L){var K=k.alternate,J=K!==null&&K.memoizedState!==null||er;K=Jd;var ie=er;if(Jd=L,(er=J)&&!ie)for(we=k;we!==null;)L=we,J=L.child,L.tag===22&&L.memoizedState!==null?Z2(k):J!==null?(J.return=L,we=J):Z2(k);for(;_!==null;)we=_,Y2(_),_=_.sibling;we=k,Jd=K,er=ie}X2(o)}else(k.subtreeFlags&8772)!==0&&_!==null?(_.return=k,we=_):X2(o)}}function X2(o){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:er||Zd(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!er)if(f===null)y.componentDidMount();else{var k=c.elementType===c.type?f.memoizedProps:an(c.type,f.memoizedProps);y.componentDidUpdate(k,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=c.updateQueue;_!==null&&J1(c,_,y);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}J1(c,L,f)}break;case 5:var K=c.stateNode;if(f===null&&c.flags&4){f=K;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&f.focus();break;case"img":J.src&&(f.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var fe=ie.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&sl(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}er||c.flags&512&&gp(c)}catch(he){yt(c,c.return,he)}}if(c===o){we=null;break}if(f=c.sibling,f!==null){f.return=c.return,we=f;break}we=c.return}}function J2(o){for(;we!==null;){var c=we;if(c===o){we=null;break}var f=c.sibling;if(f!==null){f.return=c.return,we=f;break}we=c.return}}function Z2(o){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Zd(4,c)}catch(J){yt(c,f,J)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var k=c.return;try{y.componentDidMount()}catch(J){yt(c,k,J)}}var _=c.return;try{gp(c)}catch(J){yt(c,_,J)}break;case 5:var L=c.return;try{gp(c)}catch(J){yt(c,L,J)}}}catch(J){yt(c,c.return,J)}if(c===o){we=null;break}var K=c.sibling;if(K!==null){K.return=c.return,we=K;break}we=c.return}}var $8=Math.ceil,eu=N.ReactCurrentDispatcher,bp=N.ReactCurrentOwner,zr=N.ReactCurrentBatchConfig,He=0,Bt=null,At=null,Qt=0,Pr=0,Ai=ja(0),Tt=0,Pl=null,ms=0,tu=0,jp=0,Ol=null,xr=null,wp=0,Pi=1/0,Un=null,ru=!1,Np=null,Aa=null,nu=!1,Pa=null,au=0,El=0,Sp=null,su=-1,iu=0;function ir(){return(He&6)!==0?Nt():su!==-1?su:su=Nt()}function Oa(o){return(o.mode&1)===0?1:(He&2)!==0&&Qt!==0?Qt&-Qt:v8.transition!==null?(iu===0&&(iu=Kw()),iu):(o=et,o!==0||(o=window.event,o=o===void 0?16:t1(o.type)),o)}function ln(o,c,f,y){if(50<El)throw El=0,Sp=null,Error(n(185));el(o,f,y),((He&2)===0||o!==Bt)&&(o===Bt&&((He&2)===0&&(tu|=f),Tt===4&&Ea(o,Qt)),gr(o,y),f===1&&He===0&&(c.mode&1)===0&&(Pi=Nt()+500,Md&&Na()))}function gr(o,c){var f=o.callbackNode;vT(o,c);var y=pd(o,o===Bt?Qt:0);if(y===0)f!==null&&Uw(f),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(f!=null&&Uw(f),c===1)o.tag===0?y8(tN.bind(null,o)):z1(tN.bind(null,o)),m8(function(){(He&6)===0&&Na()}),f=null;else{switch(Gw(y)){case 1:f=nm;break;case 4:f=Ww;break;case 16:f=ud;break;case 536870912:f=Hw;break;default:f=ud}f=cN(f,eN.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function eN(o,c){if(su=-1,iu=0,(He&6)!==0)throw Error(n(327));var f=o.callbackNode;if(Oi()&&o.callbackNode!==f)return null;var y=pd(o,o===Bt?Qt:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=ou(o,y);else{c=y;var k=He;He|=2;var _=nN();(Bt!==o||Qt!==c)&&(Un=null,Pi=Nt()+500,xs(o,c));do try{F8();break}catch(K){rN(o,K)}while(!0);Bm(),eu.current=_,He=k,At!==null?c=0:(Bt=null,Qt=0,c=Tt)}if(c!==0){if(c===2&&(k=am(o),k!==0&&(y=k,c=kp(o,k))),c===1)throw f=Pl,xs(o,0),Ea(o,y),gr(o,Nt()),f;if(c===6)Ea(o,y);else{if(k=o.current.alternate,(y&30)===0&&!L8(k)&&(c=ou(o,y),c===2&&(_=am(o),_!==0&&(y=_,c=kp(o,_))),c===1))throw f=Pl,xs(o,0),Ea(o,y),gr(o,Nt()),f;switch(o.finishedWork=k,o.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:gs(o,xr,Un);break;case 3:if(Ea(o,y),(y&130023424)===y&&(c=wp+500-Nt(),10<c)){if(pd(o,0)!==0)break;if(k=o.suspendedLanes,(k&y)!==y){ir(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=_m(gs.bind(null,o,xr,Un),c);break}gs(o,xr,Un);break;case 4:if(Ea(o,y),(y&4194240)===y)break;for(c=o.eventTimes,k=-1;0<y;){var L=31-tn(y);_=1<<L,L=c[L],L>k&&(k=L),y&=~_}if(y=k,y=Nt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*$8(y/1960))-y,10<y){o.timeoutHandle=_m(gs.bind(null,o,xr,Un),y);break}gs(o,xr,Un);break;case 5:gs(o,xr,Un);break;default:throw Error(n(329))}}}return gr(o,Nt()),o.callbackNode===f?eN.bind(null,o):null}function kp(o,c){var f=Ol;return o.current.memoizedState.isDehydrated&&(xs(o,c).flags|=256),o=ou(o,c),o!==2&&(c=xr,xr=f,c!==null&&Cp(c)),o}function Cp(o){xr===null?xr=o:xr.push.apply(xr,o)}function L8(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var k=f[y],_=k.getSnapshot;k=k.value;try{if(!rn(_(),k))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ea(o,c){for(c&=~jp,c&=~tu,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-tn(c),y=1<<f;o[f]=-1,c&=~y}}function tN(o){if((He&6)!==0)throw Error(n(327));Oi();var c=pd(o,0);if((c&1)===0)return gr(o,Nt()),null;var f=ou(o,c);if(o.tag!==0&&f===2){var y=am(o);y!==0&&(c=y,f=kp(o,y))}if(f===1)throw f=Pl,xs(o,0),Ea(o,c),gr(o,Nt()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,gs(o,xr,Un),gr(o,Nt()),null}function Ap(o,c){var f=He;He|=1;try{return o(c)}finally{He=f,He===0&&(Pi=Nt()+500,Md&&Na())}}function ps(o){Pa!==null&&Pa.tag===0&&(He&6)===0&&Oi();var c=He;He|=1;var f=zr.transition,y=et;try{if(zr.transition=null,et=1,o)return o()}finally{et=y,zr.transition=f,He=c,(He&6)===0&&Na()}}function Pp(){Pr=Ai.current,ct(Ai)}function xs(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,f8(f)),At!==null)for(f=At.return;f!==null;){var y=f;switch(Lm(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Td();break;case 3:Si(),ct(fr),ct(Xt),Ym();break;case 5:Vm(y);break;case 4:Si();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Um(y.type._context);break;case 22:case 23:Pp()}f=f.return}if(Bt=o,At=o=_a(o.current,null),Qt=Pr=c,Tt=0,Pl=null,jp=tu=ms=0,xr=Ol=null,us!==null){for(c=0;c<us.length;c++)if(f=us[c],y=f.interleaved,y!==null){f.interleaved=null;var k=y.next,_=f.pending;if(_!==null){var L=_.next;_.next=k,y.next=L}f.pending=y}us=null}return o}function rN(o,c){do{var f=At;try{if(Bm(),Wd.current=Vd,Hd){for(var y=pt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Hd=!1}if(fs=0,qt=_t=pt=null,wl=!1,Nl=0,bp.current=null,f===null||f.return===null){Tt=1,Pl=c,At=null;break}e:{var _=o,L=f.return,K=f,J=c;if(c=Qt,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ie=J,fe=K,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ve=A2(L);if(ve!==null){ve.flags&=-257,P2(ve,L,K,_,c),ve.mode&1&&C2(_,ie,c),c=ve,J=ie;var Se=c.updateQueue;if(Se===null){var Ce=new Set;Ce.add(J),c.updateQueue=Ce}else Se.add(J);break e}else{if((c&1)===0){C2(_,ie,c),Op();break e}J=Error(n(426))}}else if(ut&&K.mode&1){var St=A2(L);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),P2(St,L,K,_,c),zm(ki(J,K));break e}}_=J=ki(J,K),Tt!==4&&(Tt=2),Ol===null?Ol=[_]:Ol.push(_),_=L;do{switch(_.tag){case 3:_.flags|=65536,c&=-c,_.lanes|=c;var ne=S2(_,J,c);X1(_,ne);break e;case 1:K=J;var Z=_.type,ae=_.stateNode;if((_.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Aa===null||!Aa.has(ae)))){_.flags|=65536,c&=-c,_.lanes|=c;var pe=k2(_,K,c);X1(_,pe);break e}}_=_.return}while(_!==null)}sN(f)}catch(Ae){c=Ae,At===f&&f!==null&&(At=f=f.return);continue}break}while(!0)}function nN(){var o=eu.current;return eu.current=Vd,o===null?Vd:o}function Op(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Bt===null||(ms&268435455)===0&&(tu&268435455)===0||Ea(Bt,Qt)}function ou(o,c){var f=He;He|=2;var y=nN();(Bt!==o||Qt!==c)&&(Un=null,xs(o,c));do try{D8();break}catch(k){rN(o,k)}while(!0);if(Bm(),He=f,eu.current=y,At!==null)throw Error(n(261));return Bt=null,Qt=0,Tt}function D8(){for(;At!==null;)aN(At)}function F8(){for(;At!==null&&!dT();)aN(At)}function aN(o){var c=lN(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?sN(o):At=c,bp.current=null}function sN(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=_8(f,c,Pr),f!==null){At=f;return}}else{if(f=T8(f,c),f!==null){f.flags&=32767,At=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Tt=6,At=null;return}}if(c=c.sibling,c!==null){At=c;return}At=c=o}while(c!==null);Tt===0&&(Tt=5)}function gs(o,c,f){var y=et,k=zr.transition;try{zr.transition=null,et=1,z8(o,c,f,y)}finally{zr.transition=k,et=y}return null}function z8(o,c,f,y){do Oi();while(Pa!==null);if((He&6)!==0)throw Error(n(327));f=o.finishedWork;var k=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(bT(o,_),o===Bt&&(At=Bt=null,Qt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||nu||(nu=!0,cN(ud,function(){return Oi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=zr.transition,zr.transition=null;var L=et;et=1;var K=He;He|=4,bp.current=null,M8(o,f),Q2(f,o),i8(Om),yd=!!Pm,Om=Pm=null,o.current=f,I8(f),uT(),He=K,et=L,zr.transition=_}else o.current=f;if(nu&&(nu=!1,Pa=o,au=k),_=o.pendingLanes,_===0&&(Aa=null),mT(f.stateNode),gr(o,Nt()),c!==null)for(y=o.onRecoverableError,f=0;f<c.length;f++)k=c[f],y(k.value,{componentStack:k.stack,digest:k.digest});if(ru)throw ru=!1,o=Np,Np=null,o;return(au&1)!==0&&o.tag!==0&&Oi(),_=o.pendingLanes,(_&1)!==0?o===Sp?El++:(El=0,Sp=o):El=0,Na(),null}function Oi(){if(Pa!==null){var o=Gw(au),c=zr.transition,f=et;try{if(zr.transition=null,et=16>o?16:o,Pa===null)var y=!1;else{if(o=Pa,Pa=null,au=0,(He&6)!==0)throw Error(n(331));var k=He;for(He|=4,we=o.current;we!==null;){var _=we,L=_.child;if((we.flags&16)!==0){var K=_.deletions;if(K!==null){for(var J=0;J<K.length;J++){var ie=K[J];for(we=ie;we!==null;){var fe=we;switch(fe.tag){case 0:case 11:case 15:Al(8,fe,_)}var me=fe.child;if(me!==null)me.return=fe,we=me;else for(;we!==null;){fe=we;var he=fe.sibling,ve=fe.return;if(W2(fe),fe===ie){we=null;break}if(he!==null){he.return=ve,we=he;break}we=ve}}}var Se=_.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var St=Ce.sibling;Ce.sibling=null,Ce=St}while(Ce!==null)}}we=_}}if((_.subtreeFlags&2064)!==0&&L!==null)L.return=_,we=L;else e:for(;we!==null;){if(_=we,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Al(9,_,_.return)}var ne=_.sibling;if(ne!==null){ne.return=_.return,we=ne;break e}we=_.return}}var Z=o.current;for(we=Z;we!==null;){L=we;var ae=L.child;if((L.subtreeFlags&2064)!==0&&ae!==null)ae.return=L,we=ae;else e:for(L=Z;we!==null;){if(K=we,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Zd(9,K)}}catch(Ae){yt(K,K.return,Ae)}if(K===L){we=null;break e}var pe=K.sibling;if(pe!==null){pe.return=K.return,we=pe;break e}we=K.return}}if(He=k,Na(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(hd,o)}catch{}y=!0}return y}finally{et=f,zr.transition=c}}return!1}function iN(o,c,f){c=ki(f,c),c=S2(o,c,1),o=ka(o,c,1),c=ir(),o!==null&&(el(o,1,c),gr(o,c))}function yt(o,c,f){if(o.tag===3)iN(o,o,f);else for(;c!==null;){if(c.tag===3){iN(c,o,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Aa===null||!Aa.has(y))){o=ki(f,o),o=k2(c,o,1),c=ka(c,o,1),o=ir(),c!==null&&(el(c,1,o),gr(c,o));break}}c=c.return}}function q8(o,c,f){var y=o.pingCache;y!==null&&y.delete(c),c=ir(),o.pingedLanes|=o.suspendedLanes&f,Bt===o&&(Qt&f)===f&&(Tt===4||Tt===3&&(Qt&130023424)===Qt&&500>Nt()-wp?xs(o,0):jp|=f),gr(o,c)}function oN(o,c){c===0&&((o.mode&1)===0?c=1:(c=md,md<<=1,(md&130023424)===0&&(md=4194304)));var f=ir();o=zn(o,c),o!==null&&(el(o,c,f),gr(o,f))}function B8(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),oN(o,f)}function U8(o,c){var f=0;switch(o.tag){case 13:var y=o.stateNode,k=o.memoizedState;k!==null&&(f=k.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),oN(o,f)}var lN;lN=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||fr.current)pr=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return pr=!1,E8(o,c,f);pr=(o.flags&131072)!==0}else pr=!1,ut&&(c.flags&1048576)!==0&&q1(c,$d,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Xd(o,c),o=c.pendingProps;var k=gi(c,Xt.current);Ni(c,f),k=Zm(null,c,y,o,k,f);var _=ep();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,mr(y)?(_=!0,Rd(c)):_=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Km(c),k.updater=Qd,c.stateNode=k,k._reactInternals=c,ip(c,y,o,f),c=dp(null,c,y,!0,_,f)):(c.tag=0,ut&&_&&$m(c),sr(null,c,k,f),c=c.child),c;case 16:y=c.elementType;e:{switch(Xd(o,c),o=c.pendingProps,k=y._init,y=k(y._payload),c.type=y,k=c.tag=H8(y),o=an(y,o),k){case 0:c=cp(null,c,y,o,f);break e;case 1:c=M2(null,c,y,o,f);break e;case 11:c=O2(null,c,y,o,f);break e;case 14:c=E2(null,c,y,an(y.type,o),f);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),cp(o,c,y,k,f);case 1:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),M2(o,c,y,k,f);case 3:e:{if(I2(c),o===null)throw Error(n(387));y=c.pendingProps,_=c.memoizedState,k=_.element,Y1(o,c),Bd(c,y,null,f);var L=c.memoizedState;if(y=L.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){k=ki(Error(n(423)),c),c=$2(o,c,y,f,k);break e}else if(y!==k){k=ki(Error(n(424)),c),c=$2(o,c,y,f,k);break e}else for(Ar=ba(c.stateNode.containerInfo.firstChild),Cr=c,ut=!0,nn=null,f=V1(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(bi(),y===k){c=Bn(o,c,f);break e}sr(o,c,y,f)}c=c.child}return c;case 5:return Z1(c),o===null&&Fm(c),y=c.type,k=c.pendingProps,_=o!==null?o.memoizedProps:null,L=k.children,Em(y,k)?L=null:_!==null&&Em(y,_)&&(c.flags|=32),R2(o,c),sr(o,c,L,f),c.child;case 6:return o===null&&Fm(c),null;case 13:return L2(o,c,f);case 4:return Gm(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=ji(c,null,y,f):sr(o,c,y,f),c.child;case 11:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),O2(o,c,y,k,f);case 7:return sr(o,c,c.pendingProps,f),c.child;case 8:return sr(o,c,c.pendingProps.children,f),c.child;case 12:return sr(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,k=c.pendingProps,_=c.memoizedProps,L=k.value,at(Fd,y._currentValue),y._currentValue=L,_!==null)if(rn(_.value,L)){if(_.children===k.children&&!fr.current){c=Bn(o,c,f);break e}}else for(_=c.child,_!==null&&(_.return=c);_!==null;){var K=_.dependencies;if(K!==null){L=_.child;for(var J=K.firstContext;J!==null;){if(J.context===y){if(_.tag===1){J=qn(-1,f&-f),J.tag=2;var ie=_.updateQueue;if(ie!==null){ie=ie.shared;var fe=ie.pending;fe===null?J.next=J:(J.next=fe.next,fe.next=J),ie.pending=J}}_.lanes|=f,J=_.alternate,J!==null&&(J.lanes|=f),Wm(_.return,f,c),K.lanes|=f;break}J=J.next}}else if(_.tag===10)L=_.type===c.type?null:_.child;else if(_.tag===18){if(L=_.return,L===null)throw Error(n(341));L.lanes|=f,K=L.alternate,K!==null&&(K.lanes|=f),Wm(L,f,c),L=_.sibling}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===c){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}sr(o,c,k.children,f),c=c.child}return c;case 9:return k=c.type,y=c.pendingProps.children,Ni(c,f),k=Dr(k),y=y(k),c.flags|=1,sr(o,c,y,f),c.child;case 14:return y=c.type,k=an(y,c.pendingProps),k=an(y.type,k),E2(o,c,y,k,f);case 15:return _2(o,c,c.type,c.pendingProps,f);case 17:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),Xd(o,c),c.tag=1,mr(y)?(o=!0,Rd(c)):o=!1,Ni(c,f),w2(c,y,k),ip(c,y,k,f),dp(null,c,y,!0,o,f);case 19:return F2(o,c,f);case 22:return T2(o,c,f)}throw Error(n(156,c.tag))};function cN(o,c){return Bw(o,c)}function W8(o,c,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(o,c,f,y){return new W8(o,c,f,y)}function Ep(o){return o=o.prototype,!(!o||!o.isReactComponent)}function H8(o){if(typeof o=="function")return Ep(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===q)return 14}return 2}function _a(o,c){var f=o.alternate;return f===null?(f=qr(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function lu(o,c,f,y,k,_){var L=2;if(y=o,typeof o=="function")Ep(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case E:return ys(f.children,k,_,c);case T:L=8,k|=8;break;case R:return o=qr(12,f,c,k|2),o.elementType=R,o.lanes=_,o;case H:return o=qr(13,f,c,k),o.elementType=H,o.lanes=_,o;case V:return o=qr(19,f,c,k),o.elementType=V,o.lanes=_,o;case W:return cu(f,k,_,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:L=10;break e;case M:L=9;break e;case $:L=11;break e;case q:L=14;break e;case B:L=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=qr(L,f,c,k),c.elementType=o,c.type=y,c.lanes=_,c}function ys(o,c,f,y){return o=qr(7,o,y,c),o.lanes=f,o}function cu(o,c,f,y){return o=qr(22,o,y,c),o.elementType=W,o.lanes=f,o.stateNode={isHidden:!1},o}function _p(o,c,f){return o=qr(6,o,null,c),o.lanes=f,o}function Tp(o,c,f){return c=qr(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function K8(o,c,f,y,k){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sm(0),this.expirationTimes=sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Rp(o,c,f,y,k,_,L,K,J){return o=new K8(o,c,f,K,J),c===1?(c=1,_===!0&&(c|=8)):c=0,_=qr(3,null,null,c),o.current=_,_.stateNode=o,_.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(_),o}function G8(o,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:y==null?null:""+y,children:o,containerInfo:c,implementation:f}}function dN(o){if(!o)return wa;o=o._reactInternals;e:{if(is(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(mr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(mr(f))return D1(o,f,c)}return c}function uN(o,c,f,y,k,_,L,K,J){return o=Rp(f,y,!0,o,k,_,L,K,J),o.context=dN(null),f=o.current,y=ir(),k=Oa(f),_=qn(y,k),_.callback=c??null,ka(f,_,k),o.current.lanes=k,el(o,k,y),gr(o,y),o}function du(o,c,f,y){var k=c.current,_=ir(),L=Oa(k);return f=dN(f),c.context===null?c.context=f:c.pendingContext=f,c=qn(_,L),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ka(k,c,L),o!==null&&(ln(o,k,L,_),qd(o,k,L)),L}function uu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Mp(o,c){hN(o,c),(o=o.alternate)&&hN(o,c)}function V8(){return null}var fN=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ip(o){this._internalRoot=o}hu.prototype.render=Ip.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));du(o,c,null,null)},hu.prototype.unmount=Ip.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;ps(function(){du(null,o,null,null)}),c[$n]=null}};function hu(o){this._internalRoot=o}hu.prototype.unstable_scheduleHydration=function(o){if(o){var c=Yw();o={blockedOn:null,target:o,priority:c};for(var f=0;f<ga.length&&c!==0&&c<ga[f].priority;f++);ga.splice(f,0,o),f===0&&Zw(o)}};function $p(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function fu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function mN(){}function Q8(o,c,f,y,k){if(k){if(typeof y=="function"){var _=y;y=function(){var ie=uu(L);_.call(ie)}}var L=uN(c,y,o,0,null,!1,!1,"",mN);return o._reactRootContainer=L,o[$n]=L.current,ml(o.nodeType===8?o.parentNode:o),ps(),L}for(;k=o.lastChild;)o.removeChild(k);if(typeof y=="function"){var K=y;y=function(){var ie=uu(J);K.call(ie)}}var J=Rp(o,0,!1,null,null,!1,!1,"",mN);return o._reactRootContainer=J,o[$n]=J.current,ml(o.nodeType===8?o.parentNode:o),ps(function(){du(c,J,f,y)}),J}function mu(o,c,f,y,k){var _=f._reactRootContainer;if(_){var L=_;if(typeof k=="function"){var K=k;k=function(){var J=uu(L);K.call(J)}}du(c,L,o,k)}else L=Q8(f,c,o,k,y);return uu(L)}Vw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Zo(c.pendingLanes);f!==0&&(im(c,f|1),gr(c,Nt()),(He&6)===0&&(Pi=Nt()+500,Na()))}break;case 13:ps(function(){var y=zn(o,1);if(y!==null){var k=ir();ln(y,o,1,k)}}),Mp(o,1)}},om=function(o){if(o.tag===13){var c=zn(o,134217728);if(c!==null){var f=ir();ln(c,o,134217728,f)}Mp(o,134217728)}},Qw=function(o){if(o.tag===13){var c=Oa(o),f=zn(o,c);if(f!==null){var y=ir();ln(f,o,c,y)}Mp(o,c)}},Yw=function(){return et},Xw=function(o,c){var f=et;try{return et=o,c()}finally{et=f}},Zf=function(o,c,f){switch(c){case"input":if(zt(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==o&&y.form===o.form){var k=_d(y);if(!k)throw Error(n(90));re(y),zt(y,k)}}}break;case"textarea":Ko(o,f);break;case"select":c=f.value,c!=null&&hr(o,!!f.multiple,c,!1)}},Iw=Ap,$w=ps;var Y8={usingClientEntryPoint:!1,Events:[gl,pi,_d,Rw,Mw,Ap]},_l={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X8={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=zw(o),o===null?null:o.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||V8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{hd=pu.inject(X8),bn=pu}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y8,yr.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(c))throw Error(n(200));return G8(o,c,null,f)},yr.createRoot=function(o,c){if(!$p(o))throw Error(n(299));var f=!1,y="",k=fN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Rp(o,1,!1,null,null,f,!1,y,k),o[$n]=c.current,ml(o.nodeType===8?o.parentNode:o),new Ip(c)},yr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=zw(c),o=o===null?null:o.stateNode,o},yr.flushSync=function(o){return ps(o)},yr.hydrate=function(o,c,f){if(!fu(c))throw Error(n(200));return mu(null,o,c,!0,f)},yr.hydrateRoot=function(o,c,f){if(!$p(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,k=!1,_="",L=fN;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=uN(c,null,o,1,f??null,k,!1,_,L),o[$n]=c.current,ml(o),y)for(o=0;o<y.length;o++)f=y[o],k=f._getVersion,k=k(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,k]:c.mutableSourceEagerHydrationData.push(f,k);return new hu(c)},yr.render=function(o,c,f){if(!fu(c))throw Error(n(200));return mu(null,o,c,!1,f)},yr.unmountComponentAtNode=function(o){if(!fu(o))throw Error(n(40));return o._reactRootContainer?(ps(function(){mu(null,null,o,!1,function(){o._reactRootContainer=null,o[$n]=null})}),!0):!1},yr.unstable_batchedUpdates=Ap,yr.unstable_renderSubtreeIntoContainer=function(o,c,f,y){if(!fu(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return mu(o,c,f,!1,y)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var NN;function _3(){if(NN)return zp.exports;NN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=lR(),zp.exports}var SN;function cR(){if(SN)return vu;SN=1;var e=_3();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var dR=cR();const uR=Ze(dR);var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$a,Jb,b3,fR=(b3=class{constructor(){Pe(this,$a,hR);Pe(this,Jb,!1)}setTimeoutProvider(e){ye(this,$a,e)}setTimeout(e,t){return X(this,$a).setTimeout(e,t)}clearTimeout(e){X(this,$a).clearTimeout(e)}setInterval(e,t){return X(this,$a).setInterval(e,t)}clearInterval(e){X(this,$a).clearInterval(e)}},$a=new WeakMap,Jb=new WeakMap,b3),ks=new fR;function mR(e){setTimeout(e,0)}var Us=typeof window>"u"||"Deno"in globalThis;function lr(){}function pR(e,t){return typeof e=="function"?e(t):e}function av(e){return typeof e=="number"&&e>=0&&e!==1/0}function T3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qa(e,t){return typeof e=="function"?e(t):e}function Kr(e,t){return typeof e=="function"?e(t):e}function kN(e,t){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:l,stale:d}=e;if(l){if(a){if(t.queryHash!==ej(l,t.options))return!1}else if(!nc(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||i&&!i(t))}function CN(e,t){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ws(t.options.mutationKey)!==Ws(i))return!1}else if(!nc(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function ej(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ws)(e)}function Ws(e){return JSON.stringify(e,(t,n)=>sv(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function nc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>nc(e[n],t[n])):!1}var xR=Object.prototype.hasOwnProperty;function R3(e,t,n=0){if(e===t)return e;if(n>500)return t;const a=AN(e)&&AN(t);if(!a&&!(sv(e)&&sv(t)))return t;const i=(a?e:Object.keys(e)).length,l=a?t:Object.keys(t),d=l.length,u=a?new Array(d):{};let h=0;for(let p=0;p<d;p++){const m=a?p:l[p],g=e[m],j=t[m];if(g===j){u[m]=g,(a?p<i:xR.call(e,m))&&h++;continue}if(g===null||j===null||typeof g!="object"||typeof j!="object"){u[m]=j;continue}const v=R3(g,j,n+1);u[m]=v,v===g&&h++}return i===d&&h===i?e:u}function Uu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function AN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sv(e){if(!PN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!PN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function PN(e){return Object.prototype.toString.call(e)==="[object Object]"}function gR(e){return new Promise(t=>{ks.setTimeout(t,e)})}function iv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?R3(e,t):t}function yR(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function vR(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var tj=Symbol();function M3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function rj(e,t){return typeof e=="function"?e(...t):!!e}function bR(e,t,n){let a=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),a||(a=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var _s,La,Wi,j3,jR=(j3=class extends _o{constructor(){super();Pe(this,_s);Pe(this,La);Pe(this,Wi);ye(this,Wi,t=>{if(!Us&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,La)||this.setEventListener(X(this,Wi))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,La))==null||t.call(this),ye(this,La,void 0))}setEventListener(t){var n;ye(this,Wi,t),(n=X(this,La))==null||n.call(this),ye(this,La,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){X(this,_s)!==t&&(ye(this,_s,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof X(this,_s)=="boolean"?X(this,_s):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_s=new WeakMap,La=new WeakMap,Wi=new WeakMap,j3),nj=new jR;function ov(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),t(s)},n}var wR=mR;function NR(){let e=[],t=0,n=d=>{d()},a=d=>{d()},s=wR;const i=d=>{t?e.push(d):s(()=>{n(d)})},l=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(u=>{n(u)})})})};return{batch:d=>{let u;t++;try{u=d()}finally{t--,t||l()}return u},batchCalls:d=>(...u)=>{i(()=>{d(...u)})},schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var $t=NR(),Hi,Da,Ki,w3,SR=(w3=class extends _o{constructor(){super();Pe(this,Hi,!0);Pe(this,Da);Pe(this,Ki);ye(this,Ki,t=>{if(!Us&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){X(this,Da)||this.setEventListener(X(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,Da))==null||t.call(this),ye(this,Da,void 0))}setEventListener(t){var n;ye(this,Ki,t),(n=X(this,Da))==null||n.call(this),ye(this,Da,t(this.setOnline.bind(this)))}setOnline(t){X(this,Hi)!==t&&(ye(this,Hi,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return X(this,Hi)}},Hi=new WeakMap,Da=new WeakMap,Ki=new WeakMap,w3),Wu=new SR;function kR(e){return Math.min(1e3*2**e,3e4)}function I3(e){return(e??"online")==="online"?Wu.isOnline():!0}var lv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $3(e){let t=!1,n=0,a;const s=ov(),i=()=>s.status!=="pending",l=w=>{var x;if(!i()){const S=new lv(w);g(S),(x=e.onCancel)==null||x.call(e,S)}},d=()=>{t=!0},u=()=>{t=!1},h=()=>nj.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),p=()=>I3(e.networkMode)&&e.canRun(),m=w=>{i()||(a==null||a(),s.resolve(w))},g=w=>{i()||(a==null||a(),s.reject(w))},j=()=>new Promise(w=>{var x;a=S=>{(i()||h())&&w(S)},(x=e.onPause)==null||x.call(e)}).then(()=>{var w;a=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const x=n===0?e.initialPromise:void 0;try{w=x??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(m).catch(S=>{var A;if(i())return;const P=e.retry??(Us?0:3),O=e.retryDelay??kR,N=typeof O=="function"?O(n,S):O,C=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,S);if(t||!C){g(S);return}n++,(A=e.onFail)==null||A.call(e,n,S),gR(N).then(()=>h()?void 0:j()).then(()=>{t?g(S):v()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(a==null||a(),s),cancelRetry:d,continueRetry:u,canStart:p,start:()=>(p()?v():j().then(v),s)}}var Ts,N3,L3=(N3=class{constructor(){Pe(this,Ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),av(this.gcTime)&&ye(this,Ts,ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Us?1/0:300*1e3))}clearGcTimeout(){X(this,Ts)&&(ks.clearTimeout(X(this,Ts)),ye(this,Ts,void 0))}},Ts=new WeakMap,N3),Rs,Gi,Hr,Ms,Wt,Bc,Is,dn,Kn,S3,CR=(S3=class extends L3{constructor(t){super();Pe(this,dn);Pe(this,Rs);Pe(this,Gi);Pe(this,Hr);Pe(this,Ms);Pe(this,Wt);Pe(this,Bc);Pe(this,Is);ye(this,Is,!1),ye(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Ms,t.client),ye(this,Hr,X(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Rs,EN(this.options)),this.state=t.state??X(this,Rs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,Wt))==null?void 0:t.promise}setOptions(t){if(this.options={...X(this,Bc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=EN(this.options);n.data!==void 0&&(this.setState(ON(n.data,n.dataUpdatedAt)),ye(this,Rs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Hr).remove(this)}setData(t,n){const a=iv(this.state.data,t,this.options);return Be(this,dn,Kn).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){Be(this,dn,Kn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,s;const n=(a=X(this,Wt))==null?void 0:a.promise;return(s=X(this,Wt))==null||s.cancel(t),n?n.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Rs))}isActive(){return this.observers.some(t=>Kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!T3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,Wt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,Wt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(X(this,Wt)&&(X(this,Is)?X(this,Wt).cancel({revert:!0}):X(this,Wt).cancelRetry()),this.scheduleGc()),X(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,dn,Kn).call(this,{type:"invalidate"})}async fetch(t,n){var u,h,p,m,g,j,v,w,x,S,P,O;if(this.state.fetchStatus!=="idle"&&((u=X(this,Wt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,Wt))return X(this,Wt).continueRetry(),X(this,Wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(C=>C.options.queryFn);N&&this.setOptions(N.options)}const a=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ye(this,Is,!0),a.signal)})},i=()=>{const N=M3(this.options,n),A=(()=>{const E={client:X(this,Ms),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return ye(this,Is,!1),this.options.persister?this.options.persister(N,A,this):N(A)},d=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,Ms),state:this.state,fetchFn:i};return s(N),N})();(h=this.options.behavior)==null||h.onFetch(d,this),ye(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Be(this,dn,Kn).call(this,{type:"fetch",meta:(m=d.fetchOptions)==null?void 0:m.meta}),ye(this,Wt,$3({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,onCancel:N=>{N instanceof lv&&N.revert&&this.setState({...X(this,Gi),fetchStatus:"idle"}),a.abort()},onFail:(N,C)=>{Be(this,dn,Kn).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{Be(this,dn,Kn).call(this,{type:"pause"})},onContinue:()=>{Be(this,dn,Kn).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const N=await X(this,Wt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(j=(g=X(this,Hr).config).onSuccess)==null||j.call(g,N,this),(w=(v=X(this,Hr).config).onSettled)==null||w.call(v,N,this.state.error,this),N}catch(N){if(N instanceof lv){if(N.silent)return X(this,Wt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Be(this,dn,Kn).call(this,{type:"error",error:N}),(S=(x=X(this,Hr).config).onError)==null||S.call(x,N,this),(O=(P=X(this,Hr).config).onSettled)==null||O.call(P,this.state.data,N,this),N}finally{this.scheduleGc()}}},Rs=new WeakMap,Gi=new WeakMap,Hr=new WeakMap,Ms=new WeakMap,Wt=new WeakMap,Bc=new WeakMap,Is=new WeakMap,dn=new WeakSet,Kn=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...D3(a.data,this.options),fetchMeta:t.meta??null};case"success":const s={...a,...ON(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Gi,t.manual?s:void 0),s;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),X(this,Hr).notify({query:this,type:"updated",action:t})})},S3);function D3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ON(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,We,Uc,or,$s,Vi,Vn,Fa,Wc,Qi,Yi,Ls,Ds,za,Xi,Je,Hl,cv,dv,uv,hv,fv,mv,pv,F3,k3,AR=(k3=class extends _o{constructor(t,n){super();Pe(this,Je);Pe(this,vr);Pe(this,We);Pe(this,Uc);Pe(this,or);Pe(this,$s);Pe(this,Vi);Pe(this,Vn);Pe(this,Fa);Pe(this,Wc);Pe(this,Qi);Pe(this,Yi);Pe(this,Ls);Pe(this,Ds);Pe(this,za);Pe(this,Xi,new Set);this.options=n,ye(this,vr,t),ye(this,Fa,null),ye(this,Vn,ov()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,We).addObserver(this),_N(X(this,We),this.options)?Be(this,Je,Hl).call(this):this.updateResult(),Be(this,Je,hv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xv(X(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xv(X(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Je,fv).call(this),Be(this,Je,mv).call(this),X(this,We).removeObserver(this)}setOptions(t){const n=this.options,a=X(this,We);if(this.options=X(this,vr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,X(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Je,pv).call(this),X(this,We).setOptions(this.options),n._defaulted&&!Uu(this.options,n)&&X(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,We),observer:this});const s=this.hasListeners();s&&TN(X(this,We),a,this.options,n)&&Be(this,Je,Hl).call(this),this.updateResult(),s&&(X(this,We)!==a||Kr(this.options.enabled,X(this,We))!==Kr(n.enabled,X(this,We))||Qa(this.options.staleTime,X(this,We))!==Qa(n.staleTime,X(this,We)))&&Be(this,Je,cv).call(this);const i=Be(this,Je,dv).call(this);s&&(X(this,We)!==a||Kr(this.options.enabled,X(this,We))!==Kr(n.enabled,X(this,We))||i!==X(this,za))&&Be(this,Je,uv).call(this,i)}getOptimisticResult(t){const n=X(this,vr).getQueryCache().build(X(this,vr),t),a=this.createResult(n,t);return OR(this,a)&&(ye(this,or,a),ye(this,Vi,this.options),ye(this,$s,X(this,We).state)),a}getCurrentResult(){return X(this,or)}trackResult(t,n){return new Proxy(t,{get:(a,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&X(this,Vn).status==="pending"&&X(this,Vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,s))})}trackProp(t){X(this,Xi).add(t)}getCurrentQuery(){return X(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=X(this,vr).defaultQueryOptions(t),a=X(this,vr).getQueryCache().build(X(this,vr),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return Be(this,Je,Hl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,or)))}createResult(t,n){var R;const a=X(this,We),s=this.options,i=X(this,or),l=X(this,$s),d=X(this,Vi),h=t!==a?t.state:X(this,Uc),{state:p}=t;let m={...p},g=!1,j;if(n._optimisticResults){const I=this.hasListeners(),M=!I&&_N(t,n),$=I&&TN(t,a,n,s);(M||$)&&(m={...m,...D3(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:x}=m;j=m.data;let S=!1;if(n.placeholderData!==void 0&&j===void 0&&x==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(I=i.data,S=!0):I=typeof n.placeholderData=="function"?n.placeholderData((R=X(this,Yi))==null?void 0:R.state.data,X(this,Yi)):n.placeholderData,I!==void 0&&(x="success",j=iv(i==null?void 0:i.data,I,n),g=!0)}if(n.select&&j!==void 0&&!S)if(i&&j===(l==null?void 0:l.data)&&n.select===X(this,Wc))j=X(this,Qi);else try{ye(this,Wc,n.select),j=n.select(j),j=iv(i==null?void 0:i.data,j,n),ye(this,Qi,j),ye(this,Fa,null)}catch(I){ye(this,Fa,I)}X(this,Fa)&&(v=X(this,Fa),j=X(this,Qi),w=Date.now(),x="error");const P=m.fetchStatus==="fetching",O=x==="pending",N=x==="error",C=O&&P,A=j!==void 0,T={status:x,fetchStatus:m.fetchStatus,isPending:O,isSuccess:x==="success",isError:N,isInitialLoading:C,isLoading:C,data:j,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!O,isLoadingError:N&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&A,isStale:aj(t,n),refetch:this.refetch,promise:X(this,Vn),isEnabled:Kr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=T.data!==void 0,M=T.status==="error"&&!I,$=q=>{M?q.reject(T.error):I&&q.resolve(T.data)},H=()=>{const q=ye(this,Vn,T.promise=ov());$(q)},V=X(this,Vn);switch(V.status){case"pending":t.queryHash===a.queryHash&&$(V);break;case"fulfilled":(M||T.data!==V.value)&&H();break;case"rejected":(!M||T.error!==V.reason)&&H();break}}return T}updateResult(){const t=X(this,or),n=this.createResult(X(this,We),this.options);if(ye(this,$s,X(this,We).state),ye(this,Vi,this.options),X(this,$s).data!==void 0&&ye(this,Yi,X(this,We)),Uu(n,t))return;ye(this,or,n);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!X(this,Xi).size)return!0;const l=new Set(i??X(this,Xi));return this.options.throwOnError&&l.add("error"),Object.keys(X(this,or)).some(d=>{const u=d;return X(this,or)[u]!==t[u]&&l.has(u)})};Be(this,Je,F3).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Je,hv).call(this)}},vr=new WeakMap,We=new WeakMap,Uc=new WeakMap,or=new WeakMap,$s=new WeakMap,Vi=new WeakMap,Vn=new WeakMap,Fa=new WeakMap,Wc=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Ls=new WeakMap,Ds=new WeakMap,za=new WeakMap,Xi=new WeakMap,Je=new WeakSet,Hl=function(t){Be(this,Je,pv).call(this);let n=X(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(lr)),n},cv=function(){Be(this,Je,fv).call(this);const t=Qa(this.options.staleTime,X(this,We));if(Us||X(this,or).isStale||!av(t))return;const a=T3(X(this,or).dataUpdatedAt,t)+1;ye(this,Ls,ks.setTimeout(()=>{X(this,or).isStale||this.updateResult()},a))},dv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,We)):this.options.refetchInterval)??!1},uv=function(t){Be(this,Je,mv).call(this),ye(this,za,t),!(Us||Kr(this.options.enabled,X(this,We))===!1||!av(X(this,za))||X(this,za)===0)&&ye(this,Ds,ks.setInterval(()=>{(this.options.refetchIntervalInBackground||nj.isFocused())&&Be(this,Je,Hl).call(this)},X(this,za)))},hv=function(){Be(this,Je,cv).call(this),Be(this,Je,uv).call(this,Be(this,Je,dv).call(this))},fv=function(){X(this,Ls)&&(ks.clearTimeout(X(this,Ls)),ye(this,Ls,void 0))},mv=function(){X(this,Ds)&&(ks.clearInterval(X(this,Ds)),ye(this,Ds,void 0))},pv=function(){const t=X(this,vr).getQueryCache().build(X(this,vr),this.options);if(t===X(this,We))return;const n=X(this,We);ye(this,We,t),ye(this,Uc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},F3=function(t){$t.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(X(this,or))}),X(this,vr).getQueryCache().notify({query:X(this,We),type:"observerResultsUpdated"})})},k3);function PR(e,t){return Kr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _N(e,t){return PR(e,t)||e.state.data!==void 0&&xv(e,t,t.refetchOnMount)}function xv(e,t,n){if(Kr(t.enabled,e)!==!1&&Qa(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&aj(e,t)}return!1}function TN(e,t,n,a){return(e!==t||Kr(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&aj(e,n)}function aj(e,t){return Kr(t.enabled,e)!==!1&&e.isStaleByTime(Qa(t.staleTime,e))}function OR(e,t){return!Uu(e.getCurrentResult(),t)}function RN(e){return{onFetch:(t,n)=>{var p,m,g,j,v;const a=t.options,s=(g=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((j=t.state.data)==null?void 0:j.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let w=!1;const x=O=>{bR(O,()=>t.signal,()=>w=!0)},S=M3(t.options,t.fetchOptions),P=async(O,N,C)=>{if(w)return Promise.reject();if(N==null&&O.pages.length)return Promise.resolve(O);const E=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return x(M),M})(),T=await S(E),{maxPages:R}=t.options,I=C?vR:yR;return{pages:I(O.pages,T,R),pageParams:I(O.pageParams,N,R)}};if(s&&i.length){const O=s==="backward",N=O?ER:MN,C={pages:i,pageParams:l},A=N(a,C);d=await P(C,A,O)}else{const O=e??i.length;do{const N=u===0?l[0]??a.initialPageParam:MN(a,d);if(u>0&&N==null)break;d=await P(d,N),u++}while(u<O)}return d};t.options.persister?t.fetchFn=()=>{var w,x;return(x=(w=t.options).persister)==null?void 0:x.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function MN(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function ER(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var Hc,Cn,tr,Fs,An,Ra,C3,_R=(C3=class extends L3{constructor(t){super();Pe(this,An);Pe(this,Hc);Pe(this,Cn);Pe(this,tr);Pe(this,Fs);ye(this,Hc,t.client),this.mutationId=t.mutationId,ye(this,tr,t.mutationCache),ye(this,Cn,[]),this.state=t.state||z3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,Cn).includes(t)||(X(this,Cn).push(t),this.clearGcTimeout(),X(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Cn,X(this,Cn).filter(n=>n!==t)),this.scheduleGc(),X(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():X(this,tr).remove(this))}continue(){var t;return((t=X(this,Fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,u,h,p,m,g,j,v,w,x,S,P,O,N,C,A,E;const n=()=>{Be(this,An,Ra).call(this,{type:"continue"})},a={client:X(this,Hc),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Fs,$3({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Be(this,An,Ra).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Be(this,An,Ra).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,tr).canRun(this)}));const s=this.state.status==="pending",i=!X(this,Fs).canStart();try{if(s)n();else{Be(this,An,Ra).call(this,{type:"pending",variables:t,isPaused:i}),X(this,tr).config.onMutate&&await X(this,tr).config.onMutate(t,this,a);const R=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,a));R!==this.state.context&&Be(this,An,Ra).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const T=await X(this,Fs).start();return await((h=(u=X(this,tr).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this,a)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,T,t,this.state.context,a)),await((j=(g=X(this,tr).config).onSettled)==null?void 0:j.call(g,T,null,this.state.variables,this.state.context,this,a)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,T,null,t,this.state.context,a)),Be(this,An,Ra).call(this,{type:"success",data:T}),T}catch(T){try{await((S=(x=X(this,tr).config).onError)==null?void 0:S.call(x,T,t,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((O=(P=this.options).onError)==null?void 0:O.call(P,T,t,this.state.context,a))}catch(R){Promise.reject(R)}try{await((C=(N=X(this,tr).config).onSettled)==null?void 0:C.call(N,void 0,T,this.state.variables,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,T,t,this.state.context,a))}catch(R){Promise.reject(R)}throw Be(this,An,Ra).call(this,{type:"error",error:T}),T}finally{X(this,tr).runNext(this)}}},Hc=new WeakMap,Cn=new WeakMap,tr=new WeakMap,Fs=new WeakMap,An=new WeakSet,Ra=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$t.batch(()=>{X(this,Cn).forEach(a=>{a.onMutationUpdate(t)}),X(this,tr).notify({mutation:this,type:"updated",action:t})})},C3);function z3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,un,Kc,A3,TR=(A3=class extends _o{constructor(t={}){super();Pe(this,Qn);Pe(this,un);Pe(this,Kc);this.config=t,ye(this,Qn,new Set),ye(this,un,new Map),ye(this,Kc,0)}build(t,n,a){const s=new _R({client:t,mutationCache:this,mutationId:++gu(this,Kc)._,options:t.defaultMutationOptions(n),state:a});return this.add(s),s}add(t){X(this,Qn).add(t);const n=bu(t);if(typeof n=="string"){const a=X(this,un).get(n);a?a.push(t):X(this,un).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,Qn).delete(t)){const n=bu(t);if(typeof n=="string"){const a=X(this,un).get(n);if(a)if(a.length>1){const s=a.indexOf(t);s!==-1&&a.splice(s,1)}else a[0]===t&&X(this,un).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bu(t);if(typeof n=="string"){const a=X(this,un).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var a;const n=bu(t);if(typeof n=="string"){const s=(a=X(this,un).get(n))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{X(this,Qn).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,Qn).clear(),X(this,un).clear()})}getAll(){return Array.from(X(this,Qn))}find(t){const n={exact:!0,...t};return this.getAll().find(a=>CN(n,a))}findAll(t={}){return this.getAll().filter(n=>CN(t,n))}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $t.batch(()=>Promise.all(t.map(n=>n.continue().catch(lr))))}},Qn=new WeakMap,un=new WeakMap,Kc=new WeakMap,A3);function bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yn,qa,br,Xn,sa,Du,gv,P3,RR=(P3=class extends _o{constructor(n,a){super();Pe(this,sa);Pe(this,Yn);Pe(this,qa);Pe(this,br);Pe(this,Xn);ye(this,Yn,n),this.setOptions(a),this.bindMethods(),Be(this,sa,Du).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=X(this,Yn).defaultMutationOptions(n),Uu(this.options,a)||X(this,Yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,br),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Ws(a.mutationKey)!==Ws(this.options.mutationKey)?this.reset():((s=X(this,br))==null?void 0:s.state.status)==="pending"&&X(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=X(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Be(this,sa,Du).call(this),Be(this,sa,gv).call(this,n)}getCurrentResult(){return X(this,qa)}reset(){var n;(n=X(this,br))==null||n.removeObserver(this),ye(this,br,void 0),Be(this,sa,Du).call(this),Be(this,sa,gv).call(this)}mutate(n,a){var s;return ye(this,Xn,a),(s=X(this,br))==null||s.removeObserver(this),ye(this,br,X(this,Yn).getMutationCache().build(X(this,Yn),this.options)),X(this,br).addObserver(this),X(this,br).execute(n)}},Yn=new WeakMap,qa=new WeakMap,br=new WeakMap,Xn=new WeakMap,sa=new WeakSet,Du=function(){var a;const n=((a=X(this,br))==null?void 0:a.state)??z3();ye(this,qa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},gv=function(n){$t.batch(()=>{var a,s,i,l,d,u,h,p;if(X(this,Xn)&&this.hasListeners()){const m=X(this,qa).variables,g=X(this,qa).context,j={client:X(this,Yn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(a=X(this,Xn)).onSuccess)==null||s.call(a,n.data,m,g,j)}catch(v){Promise.reject(v)}try{(l=(i=X(this,Xn)).onSettled)==null||l.call(i,n.data,null,m,g,j)}catch(v){Promise.reject(v)}}else if((n==null?void 0:n.type)==="error"){try{(u=(d=X(this,Xn)).onError)==null||u.call(d,n.error,m,g,j)}catch(v){Promise.reject(v)}try{(p=(h=X(this,Xn)).onSettled)==null||p.call(h,void 0,n.error,m,g,j)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(X(this,qa))})})},P3),Pn,O3,MR=(O3=class extends _o{constructor(t={}){super();Pe(this,Pn);this.config=t,ye(this,Pn,new Map)}build(t,n,a){const s=n.queryKey,i=n.queryHash??ej(s,n);let l=this.get(i);return l||(l=new CR({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){X(this,Pn).has(t.queryHash)||(X(this,Pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=X(this,Pn).get(t.queryHash);n&&(t.destroy(),n===t&&X(this,Pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,Pn).get(t)}getAll(){return[...X(this,Pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>kN(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>kN(t,a)):n}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pn=new WeakMap,O3),vt,Ba,Ua,Ji,Zi,Wa,eo,to,E3,IR=(E3=class{constructor(e={}){Pe(this,vt);Pe(this,Ba);Pe(this,Ua);Pe(this,Ji);Pe(this,Zi);Pe(this,Wa);Pe(this,eo);Pe(this,to);ye(this,vt,e.queryCache||new MR),ye(this,Ba,e.mutationCache||new TR),ye(this,Ua,e.defaultOptions||{}),ye(this,Ji,new Map),ye(this,Zi,new Map),ye(this,Wa,0)}mount(){gu(this,Wa)._++,X(this,Wa)===1&&(ye(this,eo,nj.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,vt).onFocus())})),ye(this,to,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,vt).onOnline())})))}unmount(){var e,t;gu(this,Wa)._--,X(this,Wa)===0&&((e=X(this,eo))==null||e.call(this),ye(this,eo,void 0),(t=X(this,to))==null||t.call(this),ye(this,to,void 0))}isFetching(e){return X(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,Ba).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=X(this,vt).build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return X(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),s=X(this,vt).get(a.queryHash),i=s==null?void 0:s.state.data,l=pR(t,i);if(l!==void 0)return X(this,vt).build(this,a).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return $t.batch(()=>X(this,vt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=X(this,vt);$t.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=X(this,vt);return $t.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=$t.batch(()=>X(this,vt).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(lr).catch(lr)}invalidateQueries(e,t={}){return $t.batch(()=>(X(this,vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=$t.batch(()=>X(this,vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(lr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=X(this,vt).build(this,t);return n.isStaleByTime(Qa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lr).catch(lr)}fetchInfiniteQuery(e){return e.behavior=RN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lr).catch(lr)}ensureInfiniteQueryData(e){return e.behavior=RN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?X(this,Ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,vt)}getMutationCache(){return X(this,Ba)}getDefaultOptions(){return X(this,Ua)}setDefaultOptions(e){ye(this,Ua,e)}setQueryDefaults(e,t){X(this,Ji).set(Ws(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,Ji).values()],n={};return t.forEach(a=>{nc(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){X(this,Zi).set(Ws(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,Zi).values()],n={};return t.forEach(a=>{nc(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,Ua).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ej(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,Ua).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,vt).clear(),X(this,Ba).clear()}},vt=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Wa=new WeakMap,eo=new WeakMap,to=new WeakMap,E3),q3=b.createContext(void 0),xt=e=>{const t=b.useContext(q3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$R=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(q3.Provider,{value:e,children:t})),B3=b.createContext(!1),LR=()=>b.useContext(B3);B3.Provider;function DR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var FR=b.createContext(DR()),zR=()=>b.useContext(FR),qR=(e,t,n)=>{const a=n!=null&&n.state.error&&typeof e.throwOnError=="function"?rj(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},BR=e=>{b.useEffect(()=>{e.clearReset()},[e])},UR=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||rj(n,[e.error,a])),WR=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},HR=(e,t)=>e.isLoading&&e.isFetching&&!t,KR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IN=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function GR(e,t,n){var g,j,v,w;const a=LR(),s=zR(),i=xt(),l=i.defaultQueryOptions(e);(j=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||j.call(g,l);const d=i.getQueryCache().get(l.queryHash);l._optimisticResults=a?"isRestoring":"optimistic",WR(l),qR(l,s,d),BR(s);const u=!i.getQueryCache().get(l.queryHash),[h]=b.useState(()=>new t(i,l)),p=h.getOptimisticResult(l),m=!a&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const S=m?h.subscribe($t.batchCalls(x)):lr;return h.updateResult(),S},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(l)},[l,h]),KR(l,p))throw IN(l,h,s);if(UR({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((w=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,l,p),l.experimental_prefetchInRender&&!Us&&HR(p,a)){const x=u?IN(l,h,s):d==null?void 0:d.promise;x==null||x.catch(lr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function Et(e,t){return GR(e,AR)}function Ct(e,t){const n=xt(),[a]=b.useState(()=>new RR(n,e));b.useEffect(()=>{a.setOptions(e)},[a,e]);const s=b.useSyncExternalStore(b.useCallback(l=>a.subscribe($t.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=b.useCallback((l,d)=>{a.mutate(l,d).catch(lr)},[a]);if(s.error&&rj(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}_3();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ac.apply(this,arguments)}var Ha;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ha||(Ha={}));const $N="popstate";function VR(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:l,hash:d}=a.location;return yv("",{pathname:i,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Hu(s)}return YR(t,n,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QR(){return Math.random().toString(36).substr(2,8)}function LN(e,t){return{usr:e.state,key:e.key,idx:t}}function yv(e,t,n,a){return n===void 0&&(n=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:n,key:t&&t.key||a||QR()})}function Hu(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function To(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function YR(e,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,d=Ha.Pop,u=null,h=p();h==null&&(h=0,l.replaceState(ac({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){d=Ha.Pop;let x=p(),S=x==null?null:x-h;h=x,u&&u({action:d,location:w.location,delta:S})}function g(x,S){d=Ha.Push;let P=yv(w.location,x,S);h=p()+1;let O=LN(P,h),N=w.createHref(P);try{l.pushState(O,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}i&&u&&u({action:d,location:w.location,delta:1})}function j(x,S){d=Ha.Replace;let P=yv(w.location,x,S);h=p();let O=LN(P,h),N=w.createHref(P);l.replaceState(O,"",N),i&&u&&u({action:d,location:w.location,delta:0})}function v(x){let S=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof x=="string"?x:Hu(x);return P=P.replace(/ $/,"%20"),kt(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let w={get action(){return d},get location(){return e(s,l)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener($N,m),u=x,()=>{s.removeEventListener($N,m),u=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let S=v(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:j,go(x){return l.go(x)}};return w}var DN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DN||(DN={}));function XR(e,t,n){return n===void 0&&(n="/"),JR(e,t,n)}function JR(e,t,n,a){let s=typeof t=="string"?To(t):t,i=ij(s.pathname||"/",n);if(i==null)return null;let l=U3(e);ZR(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=uM(i);d=lM(l[u],h)}return d}function U3(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,l,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(kt(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let h=Ya([a,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),U3(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:iM(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))s(i,l);else for(let u of W3(i.path))s(i,l,u)}),t}function W3(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=W3(a.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),s&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function ZR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oM(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const eM=/^:[\w-]+$/,tM=3,rM=2,nM=1,aM=10,sM=-2,FN=e=>e==="*";function iM(e,t){let n=e.split("/"),a=n.length;return n.some(FN)&&(a+=sM),t&&(a+=rM),n.filter(s=>!FN(s)).reduce((s,i)=>s+(eM.test(i)?tM:i===""?nM:aM),a)}function oM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function lM(e,t,n){let{routesMeta:a}=e,s={},i="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],h=d===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=cM({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),g=u.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ya([i,m.pathname]),pathnameBase:xM(Ya([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Ya([i,m.pathnameBase]))}return l}function cM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=dM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((h,p,m)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let w=d[m]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=d[m];return j&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function dM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function uM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ij(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}const hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fM=e=>hM.test(e);function mM(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?To(e):e,i;if(n)if(fM(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),sj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=zN(n.substring(1),"/"):i=zN(n,t)}else i=t;return{pathname:i,search:gM(a),hash:yM(s)}}function zN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Up(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oj(e,t){let n=pM(e);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function lj(e,t,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=To(e):(s=ac({},e),kt(!s.pathname||!s.pathname.includes("?"),Up("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),Up("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),Up("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,d;if(l==null)d=n;else{let m=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}d=m>=0?t[m]:"/"}let u=mM(s,d),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const Ya=e=>e.join("/").replace(/\/\/+/g,"/"),xM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const H3=["post","put","patch","delete"];new Set(H3);const bM=["get",...H3];new Set(bM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sc.apply(this,arguments)}const cj=b.createContext(null),jM=b.createContext(null),es=b.createContext(null),Jh=b.createContext(null),ca=b.createContext({outlet:null,matches:[],isDataRoute:!1}),K3=b.createContext(null);function wM(e,t){let{relative:n}=t===void 0?{}:t;Ro()||kt(!1);let{basename:a,navigator:s}=b.useContext(es),{hash:i,pathname:l,search:d}=V3(e,{relative:n}),u=l;return a!=="/"&&(u=l==="/"?a:Ya([a,l])),s.createHref({pathname:u,search:d,hash:i})}function Ro(){return b.useContext(Jh)!=null}function Js(){return Ro()||kt(!1),b.useContext(Jh).location}function G3(e){b.useContext(es).static||b.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=b.useContext(ca);return e?IM():NM()}function NM(){Ro()||kt(!1);let e=b.useContext(cj),{basename:t,future:n,navigator:a}=b.useContext(es),{matches:s}=b.useContext(ca),{pathname:i}=Js(),l=JSON.stringify(oj(s,n.v7_relativeSplatPath)),d=b.useRef(!1);return G3(()=>{d.current=!0}),b.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){a.go(h);return}let m=lj(h,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ya([t,m.pathname])),(p.replace?a.replace:a.push)(m,p.state,p)},[t,a,l,i,e])}function Zh(){let{matches:e}=b.useContext(ca),t=e[e.length-1];return t?t.params:{}}function V3(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=b.useContext(es),{matches:s}=b.useContext(ca),{pathname:i}=Js(),l=JSON.stringify(oj(s,a.v7_relativeSplatPath));return b.useMemo(()=>lj(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function SM(e,t){return kM(e,t)}function kM(e,t,n,a){Ro()||kt(!1);let{navigator:s}=b.useContext(es),{matches:i}=b.useContext(ca),l=i[i.length-1],d=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Js(),p;if(t){var m;let x=typeof t=="string"?To(t):t;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||kt(!1),p=x}else p=h;let g=p.pathname||"/",j=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=XR(e,{pathname:j}),w=EM(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:Ya([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ya([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return t&&w?b.createElement(Jh.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ha.Pop}},w):w}function CM(){let e=MM(),t=vM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const AM=b.createElement(CM,null);class PM extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(ca.Provider,{value:this.props.routeContext},b.createElement(K3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OM(e){let{routeContext:t,match:n,children:a}=e,s=b.useContext(cj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ca.Provider,{value:t},a)}function EM(e,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(s=n)==null?void 0:s.errors;if(d!=null){let p=l.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);p>=0||kt(!1),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:j}=n,v=m.route.loader&&g[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||v){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let j,v=!1,w=null,x=null;n&&(j=d&&m.route.id?d[m.route.id]:void 0,w=m.route.errorElement||AM,u&&(h<0&&g===0?($M("route-fallback"),v=!0,x=null):h===g&&(v=!0,x=m.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,g+1)),P=()=>{let O;return j?O=w:v?O=x:m.route.Component?O=b.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,b.createElement(OM,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(PM,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var Q3=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Q3||{}),Y3=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Y3||{});function _M(e){let t=b.useContext(cj);return t||kt(!1),t}function TM(e){let t=b.useContext(jM);return t||kt(!1),t}function RM(e){let t=b.useContext(ca);return t||kt(!1),t}function X3(e){let t=RM(),n=t.matches[t.matches.length-1];return n.route.id||kt(!1),n.route.id}function MM(){var e;let t=b.useContext(K3),n=TM(),a=X3();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function IM(){let{router:e}=_M(Q3.UseNavigateStable),t=X3(Y3.UseNavigateStable),n=b.useRef(!1);return G3(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sc({fromRouteId:t},i)))},[e,t])}const qN={};function $M(e,t,n){qN[e]||(qN[e]=!0)}function LM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function J3(e){let{to:t,replace:n,state:a,relative:s}=e;Ro()||kt(!1);let{future:i,static:l}=b.useContext(es),{matches:d}=b.useContext(ca),{pathname:u}=Js(),h=Zs(),p=lj(t,oj(d,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(p);return b.useEffect(()=>h(JSON.parse(m),{replace:n,state:a,relative:s}),[h,m,s,n,a]),null}function Oe(e){kt(!1)}function DM(e){let{basename:t="/",children:n=null,location:a,navigationType:s=Ha.Pop,navigator:i,static:l=!1,future:d}=e;Ro()&&kt(!1);let u=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:i,static:l,future:sc({v7_relativeSplatPath:!1},d)}),[u,d,i,l]);typeof a=="string"&&(a=To(a));let{pathname:p="/",search:m="",hash:g="",state:j=null,key:v="default"}=a,w=b.useMemo(()=>{let x=ij(p,u);return x==null?null:{location:{pathname:x,search:m,hash:g,state:j,key:v},navigationType:s}},[u,p,m,g,j,v,s]);return w==null?null:b.createElement(es.Provider,{value:h},b.createElement(Jh.Provider,{children:n,value:w}))}function FM(e){let{children:t,location:n}=e;return SM(vv(t),n)}new Promise(()=>{});function vv(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(a,s)=>{if(!b.isValidElement(a))return;let i=[...t,s];if(a.type===b.Fragment){n.push.apply(n,vv(a.props.children,i));return}a.type!==Oe&&kt(!1),!a.props.index||!a.props.children||kt(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=vv(a.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bv.apply(this,arguments)}function zM(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function qM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BM(e,t){return e.button===0&&(!t||t==="_self")&&!qM(e)}function jv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function UM(e,t){let n=jv(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const WM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HM="6";try{window.__reactRouterVersion=HM}catch{}const KM="startTransition",BN=sR[KM];function GM(e){let{basename:t,children:n,future:a,window:s}=e,i=b.useRef();i.current==null&&(i.current=VR({window:s,v5Compat:!0}));let l=i.current,[d,u]=b.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},p=b.useCallback(m=>{h&&BN?BN(()=>u(m)):u(m)},[u,h]);return b.useLayoutEffect(()=>l.listen(p),[l,p]),b.useEffect(()=>LM(a),[a]),b.createElement(DM,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:a})}const VM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=b.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:m}=t,g=zM(t,WM),{basename:j}=b.useContext(es),v,w=!1;if(typeof h=="string"&&QM.test(h)&&(v=h,VM))try{let O=new URL(window.location.href),N=h.startsWith("//")?new URL(O.protocol+h):new URL(h),C=ij(N.pathname,j);N.origin===O.origin&&C!=null?h=C+N.search+N.hash:w=!0}catch{}let x=wM(h,{relative:s}),S=YM(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:s,viewTransition:m});function P(O){a&&a(O),O.defaultPrevented||S(O)}return b.createElement("a",bv({},g,{href:v||x,onClick:w||i?a:P,ref:n,target:u}))});var UN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(UN||(UN={}));var WN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WN||(WN={}));function YM(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:d}=t===void 0?{}:t,u=Zs(),h=Js(),p=V3(e,{relative:l});return b.useCallback(m=>{if(BM(m,n)){m.preventDefault();let g=a!==void 0?a:Hu(h)===Hu(p);u(e,{replace:g,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[h,u,p,a,s,n,e,i,l,d])}function ef(e){let t=b.useRef(jv(e)),n=b.useRef(!1),a=Js(),s=b.useMemo(()=>UM(a.search,n.current?null:t.current),[a.search]),i=Zs(),l=b.useCallback((d,u)=>{const h=jv(typeof d=="function"?d(s):d);n.current=!0,i("?"+h,u)},[i,s]);return[s,l]}function XM({onClick:e,loading:t=!1}){return r.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),r.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),r.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),r.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),r.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const HN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function JM(){const[e]=ef(),[t,n]=b.useState(null);b.useEffect(()=>{const s=e.get("error");if(s&&HN[s]){n(HN[s]);const i=new URLSearchParams(e);i.delete("error");const l=i.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const a=()=>{const s="https://auth.nubabel.com";window.location.href=`${s}/auth/google`};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),r.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),r.jsx(XM,{onClick:a}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}function ju({title:e,value:t,change:n,icon:a,trend:s}){const[i,l]=b.useState(0);return b.useEffect(()=>{if(typeof t!="number")return;const d=1e3,u=Date.now(),h=()=>{const p=Date.now()-u,m=Math.min(p/d,1),g=1-Math.pow(1-m,3);l(Math.round(g*t)),m<1&&requestAnimationFrame(h)};h()},[t]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("span",{className:"text-gray-400",children:a})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:typeof t=="number"?i.toLocaleString():t}),n!==void 0&&r.jsxs("div",{className:`text-sm mt-1 ${s==="up"?"text-green-600":s==="down"?"text-red-600":"text-gray-500"}`,children:[n>0?"+":"",n,"% from last week"]})]})}function ZM({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const wv=b.forwardRef(ZM);function eI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const tI=b.forwardRef(eI);function rI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nI=b.forwardRef(rI);function aI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Nv=b.forwardRef(aI);function sI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const iI=b.forwardRef(sI);function oI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Z3=b.forwardRef(oI);function lI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ku=b.forwardRef(lI);function cI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const dI=b.forwardRef(cI);function uI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hI=b.forwardRef(uI);function fI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const mI=b.forwardRef(fI);function pI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Sv=b.forwardRef(pI);function xI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gI=b.forwardRef(xI);function yI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eO=b.forwardRef(yI);function vI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const bI=b.forwardRef(vI);function jI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const wI=b.forwardRef(jI);function NI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const kv=b.forwardRef(NI);function SI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const kI=b.forwardRef(SI);function CI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const dj=b.forwardRef(CI);function AI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Gu=b.forwardRef(AI);function PI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const OI=b.forwardRef(PI);function EI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tf=b.forwardRef(EI);function _I({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const TI=b.forwardRef(_I);function RI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Vu=b.forwardRef(RI);function MI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Qu=b.forwardRef(MI);function II({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const $I=b.forwardRef(II);function LI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Yu=b.forwardRef(LI);function DI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const uj=b.forwardRef(DI),FI=[{id:"new-workflow",label:"New Workflow",icon:r.jsx(tf,{className:"h-5 w-5"}),shortcut:"N",path:"/workflows/new"},{id:"run-workflow",label:"Run Workflow",icon:r.jsx(OI,{className:"h-5 w-5"}),shortcut:"R",path:"/workflows"},{id:"settings",label:"Settings",icon:r.jsx(gI,{className:"h-5 w-5"}),shortcut:"S",path:"/settings"},{id:"help",label:"Help & Docs",icon:r.jsx(TI,{className:"h-5 w-5"}),shortcut:"?",path:"/help"}];function zI(){const e=Zs();return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:FI.map(t=>r.jsxs("button",{onClick:()=>e(t.path),className:"flex items-center gap-3 px-3 py-2 text-left rounded-lg hover:bg-gray-50 transition-colors group",children:[r.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:t.icon}),r.jsx("span",{className:"flex-1 text-sm text-gray-700",children:t.label}),t.shortcut&&r.jsx("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded text-gray-500",children:t.shortcut})]},t.id))})]})}function qI(){const[e]=b.useState([{id:"1",type:"execution",title:"Workflow completed",description:"Daily report",timestamp:new Date,status:"success"},{id:"2",type:"message",title:"New message",description:"From Slack #general",timestamp:new Date(Date.now()-6e4)},{id:"3",type:"system",title:"System update",timestamp:new Date(Date.now()-12e4)}]),t={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Recent Activity"}),r.jsxs("div",{className:"space-y-3",children:[e.map((n,a)=>r.jsxs("div",{className:"flex items-start gap-3 py-2 animate-fade-in",style:{animationDelay:`${a*100}ms`},children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n.status?t[n.status].split(" ")[0]:"bg-gray-300"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),n.description&&r.jsx("p",{className:"text-xs text-gray-500",children:n.description})]}),r.jsx("span",{className:"text-xs text-gray-400",children:BI(n.timestamp)})]},n.id)),e.length===0&&r.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No recent activity"})]})]})}function BI(e){const t=Date.now()-e.getTime();return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:`${Math.floor(t/36e5)}h ago`}function Wp({className:e="",style:t}){return r.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${e}`,style:t})}function Qr(){return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-2",children:[r.jsx(Wp,{className:"h-3 w-1/2"}),r.jsx(Wp,{className:"h-8 w-2/3"}),r.jsx(Wp,{className:"h-3 w-1/3"})]})}function tO(e,t){return function(){return e.apply(t,arguments)}}const{toString:UI}=Object.prototype,{getPrototypeOf:hj}=Object,{iterator:rf,toStringTag:rO}=Symbol,nf=(e=>t=>{const n=UI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xn=e=>(e=e.toLowerCase(),t=>nf(t)===e),af=e=>t=>typeof t===e,{isArray:Mo}=Array,ro=af("undefined");function Gc(e){return e!==null&&!ro(e)&&e.constructor!==null&&!ro(e.constructor)&&wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nO=xn("ArrayBuffer");function WI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nO(e.buffer),t}const HI=af("string"),wr=af("function"),aO=af("number"),Vc=e=>e!==null&&typeof e=="object",KI=e=>e===!0||e===!1,Fu=e=>{if(nf(e)!=="object")return!1;const t=hj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rO in e)&&!(rf in e)},GI=e=>{if(!Vc(e)||Gc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},VI=xn("Date"),QI=xn("File"),YI=xn("Blob"),XI=xn("FileList"),JI=e=>Vc(e)&&wr(e.pipe),ZI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wr(e.append)&&((t=nf(e))==="formdata"||t==="object"&&wr(e.toString)&&e.toString()==="[object FormData]"))},e$=xn("URLSearchParams"),[t$,r$,n$,a$]=["ReadableStream","Request","Response","Headers"].map(xn),s$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Mo(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Gc(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let d;for(a=0;a<l;a++)d=i[a],t.call(null,e[d],d,e)}}function sO(e,t){if(Gc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iO=e=>!ro(e)&&e!==Cs;function Cv(){const{caseless:e,skipUndefined:t}=iO(this)&&this||{},n={},a=(s,i)=>{const l=e&&sO(n,i)||i;Fu(n[l])&&Fu(s)?n[l]=Cv(n[l],s):Fu(s)?n[l]=Cv({},s):Mo(s)?n[l]=s.slice():(!t||!ro(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Qc(arguments[s],a);return n}const i$=(e,t,n,{allOwnKeys:a}={})=>(Qc(t,(s,i)=>{n&&wr(s)?Object.defineProperty(e,i,{value:tO(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),o$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),l$=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},c$=(e,t,n,a)=>{let s,i,l;const d={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!a||a(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&hj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},d$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},u$=e=>{if(!e)return null;if(Mo(e))return e;let t=e.length;if(!aO(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},h$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hj(Uint8Array)),f$=(e,t)=>{const a=(e&&e[rf]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},m$=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},p$=xn("HTMLFormElement"),x$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),KN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),g$=xn("RegExp"),oO=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Qc(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(a[i]=l||s)}),Object.defineProperties(e,a)},y$=e=>{oO(e,(t,n)=>{if(wr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(wr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v$=(e,t)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return Mo(e)?a(e):a(String(e).split(t)),n},b$=()=>{},j$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function w$(e){return!!(e&&wr(e.append)&&e[rO]==="FormData"&&e[rf])}const N$=e=>{const t=new Array(10),n=(a,s)=>{if(Vc(a)){if(t.indexOf(a)>=0)return;if(Gc(a))return a;if(!("toJSON"in a)){t[s]=a;const i=Mo(a)?[]:{};return Qc(a,(l,d)=>{const u=n(l,s+1);!ro(u)&&(i[d]=u)}),t[s]=void 0,i}}return a};return n(e,0)},S$=xn("AsyncFunction"),k$=e=>e&&(Vc(e)||wr(e))&&wr(e.then)&&wr(e.catch),lO=((e,t)=>e?setImmediate:t?((n,a)=>(Cs.addEventListener("message",({source:s,data:i})=>{s===Cs&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wr(Cs.postMessage)),C$=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||lO,A$=e=>e!=null&&wr(e[rf]),ce={isArray:Mo,isArrayBuffer:nO,isBuffer:Gc,isFormData:ZI,isArrayBufferView:WI,isString:HI,isNumber:aO,isBoolean:KI,isObject:Vc,isPlainObject:Fu,isEmptyObject:GI,isReadableStream:t$,isRequest:r$,isResponse:n$,isHeaders:a$,isUndefined:ro,isDate:VI,isFile:QI,isBlob:YI,isRegExp:g$,isFunction:wr,isStream:JI,isURLSearchParams:e$,isTypedArray:h$,isFileList:XI,forEach:Qc,merge:Cv,extend:i$,trim:s$,stripBOM:o$,inherits:l$,toFlatObject:c$,kindOf:nf,kindOfTest:xn,endsWith:d$,toArray:u$,forEachEntry:f$,matchAll:m$,isHTMLForm:p$,hasOwnProperty:KN,hasOwnProp:KN,reduceDescriptors:oO,freezeMethods:y$,toObjectSet:v$,toCamelCase:x$,noop:b$,toFiniteNumber:j$,findKey:sO,global:Cs,isContextDefined:iO,isSpecCompliantForm:w$,toJSONObject:N$,isAsyncFn:S$,isThenable:k$,setImmediate:lO,asap:C$,isIterable:A$};let Le=class cO extends Error{static from(t,n,a,s,i,l){const d=new cO(t.message,n||t.code,a,s,i);return d.cause=t,d.name=t.name,l&&Object.assign(d,l),d}constructor(t,n,a,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),a&&(this.config=a),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}};Le.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Le.ERR_BAD_OPTION="ERR_BAD_OPTION";Le.ECONNABORTED="ECONNABORTED";Le.ETIMEDOUT="ETIMEDOUT";Le.ERR_NETWORK="ERR_NETWORK";Le.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Le.ERR_DEPRECATED="ERR_DEPRECATED";Le.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Le.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Le.ERR_CANCELED="ERR_CANCELED";Le.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Le.ERR_INVALID_URL="ERR_INVALID_URL";const P$=null;function Av(e){return ce.isPlainObject(e)||ce.isArray(e)}function dO(e){return ce.endsWith(e,"[]")?e.slice(0,-2):e}function GN(e,t,n){return e?e.concat(t).map(function(s,i){return s=dO(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function O$(e){return ce.isArray(e)&&!e.some(Av)}const E$=ce.toFlatObject(ce,{},null,function(t){return/^is[A-Z]/.test(t)});function sf(e,t,n){if(!ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!ce.isUndefined(x[w])});const a=n.metaTokens,s=n.visitor||p,i=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(t);if(!ce.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ce.isDate(v))return v.toISOString();if(ce.isBoolean(v))return v.toString();if(!u&&ce.isBlob(v))throw new Le("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(v)||ce.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,x){let S=v;if(v&&!x&&typeof v=="object"){if(ce.endsWith(w,"{}"))w=a?w:w.slice(0,-2),v=JSON.stringify(v);else if(ce.isArray(v)&&O$(v)||(ce.isFileList(v)||ce.endsWith(w,"[]"))&&(S=ce.toArray(v)))return w=dO(w),S.forEach(function(O,N){!(ce.isUndefined(O)||O===null)&&t.append(l===!0?GN([w],N,i):l===null?w:w+"[]",h(O))}),!1}return Av(v)?!0:(t.append(GN(x,w,i),h(v)),!1)}const m=[],g=Object.assign(E$,{defaultVisitor:p,convertValue:h,isVisitable:Av});function j(v,w){if(!ce.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),ce.forEach(v,function(S,P){(!(ce.isUndefined(S)||S===null)&&s.call(t,S,ce.isString(P)?P.trim():P,w,g))===!0&&j(S,w?w.concat(P):[P])}),m.pop()}}if(!ce.isObject(e))throw new TypeError("data must be an object");return j(e),t}function VN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function fj(e,t){this._pairs=[],e&&sf(e,this,t)}const uO=fj.prototype;uO.append=function(t,n){this._pairs.push([t,n])};uO.toString=function(t){const n=t?function(a){return t.call(this,a,VN)}:VN;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function _$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hO(e,t,n){if(!t)return e;const a=n&&n.encode||_$,s=ce.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let l;if(i?l=i(t,s):l=ce.isURLSearchParams(t)?t.toString():new fj(t,s).toString(a),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class QN{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ce.forEach(this.handlers,function(a){a!==null&&t(a)})}}const fO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T$=typeof URLSearchParams<"u"?URLSearchParams:fj,R$=typeof FormData<"u"?FormData:null,M$=typeof Blob<"u"?Blob:null,I$={isBrowser:!0,classes:{URLSearchParams:T$,FormData:R$,Blob:M$},protocols:["http","https","file","blob","url","data"]},mj=typeof window<"u"&&typeof document<"u",Pv=typeof navigator=="object"&&navigator||void 0,$$=mj&&(!Pv||["ReactNative","NativeScript","NS"].indexOf(Pv.product)<0),L$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D$=mj&&window.location.href||"http://localhost",F$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mj,hasStandardBrowserEnv:$$,hasStandardBrowserWebWorkerEnv:L$,navigator:Pv,origin:D$},Symbol.toStringTag,{value:"Module"})),ar={...F$,...I$};function z$(e,t){return sf(e,new ar.classes.URLSearchParams,{visitor:function(n,a,s,i){return ar.isNode&&ce.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function q$(e){return ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function B$(e){const t={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],t[i]=e[i];return t}function mO(e){function t(n,a,s,i){let l=n[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=n.length;return l=!l&&ce.isArray(s)?s.length:l,u?(ce.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!d):((!s[l]||!ce.isObject(s[l]))&&(s[l]=[]),t(n,a,s[l],i)&&ce.isArray(s[l])&&(s[l]=B$(s[l])),!d)}if(ce.isFormData(e)&&ce.isFunction(e.entries)){const n={};return ce.forEachEntry(e,(a,s)=>{t(q$(a),s,n,0)}),n}return null}function U$(e,t,n){if(ce.isString(e))try{return(t||JSON.parse)(e),ce.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Yc={transitional:fO,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=ce.isObject(t);if(i&&ce.isHTMLForm(t)&&(t=new FormData(t)),ce.isFormData(t))return s?JSON.stringify(mO(t)):t;if(ce.isArrayBuffer(t)||ce.isBuffer(t)||ce.isStream(t)||ce.isFile(t)||ce.isBlob(t)||ce.isReadableStream(t))return t;if(ce.isArrayBufferView(t))return t.buffer;if(ce.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return z$(t,this.formSerializer).toString();if((d=ce.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return sf(d?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),U$(t)):t}],transformResponse:[function(t){const n=this.transitional||Yc.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ce.isResponse(t)||ce.isReadableStream(t))return t;if(t&&ce.isString(t)&&(a&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Le.from(d,Le.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ar.classes.FormData,Blob:ar.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],e=>{Yc.headers[e]={}});const W$=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H$=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!n||t[n]&&W$[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},YN=Symbol("internals");function Rl(e){return e&&String(e).trim().toLowerCase()}function zu(e){return e===!1||e==null?e:ce.isArray(e)?e.map(zu):String(e)}function K$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const G$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hp(e,t,n,a,s){if(ce.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!ce.isString(t)){if(ce.isString(a))return t.indexOf(a)!==-1;if(ce.isRegExp(a))return a.test(t)}}function V$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function Q$(e,t){const n=ce.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,l){return this[a].call(this,t,s,i,l)},configurable:!0})})}let Nr=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function i(d,u,h){const p=Rl(u);if(!p)throw new Error("header name must be a non-empty string");const m=ce.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||u]=zu(d))}const l=(d,u)=>ce.forEach(d,(h,p)=>i(h,p,u));if(ce.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ce.isString(t)&&(t=t.trim())&&!G$(t))l(H$(t),n);else if(ce.isObject(t)&&ce.isIterable(t)){let d={},u,h;for(const p of t){if(!ce.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(u=d[h])?ce.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,n)}else t!=null&&i(n,t,a);return this}get(t,n){if(t=Rl(t),t){const a=ce.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return K$(s);if(ce.isFunction(n))return n.call(this,s,a);if(ce.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Rl(t),t){const a=ce.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Hp(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function i(l){if(l=Rl(l),l){const d=ce.findKey(a,l);d&&(!n||Hp(a,a[d],d,n))&&(delete a[d],s=!0)}}return ce.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!t||Hp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,a={};return ce.forEach(this,(s,i)=>{const l=ce.findKey(a,i);if(l){n[l]=zu(s),delete n[i];return}const d=t?V$(i):String(i).trim();d!==i&&delete n[i],n[d]=zu(s),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ce.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&ce.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[YN]=this[YN]={accessors:{}}).accessors,s=this.prototype;function i(l){const d=Rl(l);a[d]||(Q$(s,l),a[d]=!0)}return ce.isArray(t)?t.forEach(i):i(t),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Nr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});ce.freezeMethods(Nr);function Kp(e,t){const n=this||Yc,a=t||n,s=Nr.from(a.headers);let i=a.data;return ce.forEach(e,function(d){i=d.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function pO(e){return!!(e&&e.__CANCEL__)}let Xc=class extends Le{constructor(t,n,a){super(t??"canceled",Le.ERR_CANCELED,n,a),this.name="CanceledError",this.__CANCEL__=!0}};function xO(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Y$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function X$(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),p=a[i];l||(l=h),n[s]=u,a[s]=h;let m=i,g=0;for(;m!==s;)g+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-l<t)return;const j=p&&h-p;return j?Math.round(g*1e3/j):void 0}}function J$(e,t){let n=0,a=1e3/t,s,i;const l=(h,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=a?l(h,p):(s=h,i||(i=setTimeout(()=>{i=null,l(s)},a-m)))},()=>s&&l(s)]}const Xu=(e,t,n=3)=>{let a=0;const s=X$(50,250);return J$(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-a,h=s(u),p=l<=d;a=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:i,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(m)},n)},XN=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},JN=e=>(...t)=>ce.asap(()=>e(...t)),Z$=ar.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ar.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ar.origin),ar.navigator&&/(msie|trident)/i.test(ar.navigator.userAgent)):()=>!0,e7=ar.hasStandardBrowserEnv?{write(e,t,n,a,s,i,l){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];ce.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),ce.isString(a)&&d.push(`path=${a}`),ce.isString(s)&&d.push(`domain=${s}`),i===!0&&d.push("secure"),ce.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function t7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gO(e,t,n){let a=!t7(t);return e&&(a||n==!1)?r7(e,t):t}const ZN=e=>e instanceof Nr?{...e}:e;function Hs(e,t){t=t||{};const n={};function a(h,p,m,g){return ce.isPlainObject(h)&&ce.isPlainObject(p)?ce.merge.call({caseless:g},h,p):ce.isPlainObject(p)?ce.merge({},p):ce.isArray(p)?p.slice():p}function s(h,p,m,g){if(ce.isUndefined(p)){if(!ce.isUndefined(h))return a(void 0,h,m,g)}else return a(h,p,m,g)}function i(h,p){if(!ce.isUndefined(p))return a(void 0,p)}function l(h,p){if(ce.isUndefined(p)){if(!ce.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function d(h,p,m){if(m in t)return a(h,p);if(m in e)return a(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p,m)=>s(ZN(h),ZN(p),m,!0)};return ce.forEach(Object.keys({...e,...t}),function(p){const m=u[p]||s,g=m(e[p],t[p],p);ce.isUndefined(g)&&m!==d||(n[p]=g)}),n}const yO=e=>{const t=Hs({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:d}=t;if(t.headers=l=Nr.from(l),t.url=hO(gO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),ce.isFormData(n)){if(ar.hasStandardBrowserEnv||ar.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ce.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(ar.hasStandardBrowserEnv&&(a&&ce.isFunction(a)&&(a=a(t)),a||a!==!1&&Z$(t.url))){const u=s&&i&&e7.read(i);u&&l.set(s,u)}return t},n7=typeof XMLHttpRequest<"u",a7=n7&&function(e){return new Promise(function(n,a){const s=yO(e);let i=s.data;const l=Nr.from(s.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=s,p,m,g,j,v;function w(){j&&j(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function S(){if(!x)return;const O=Nr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),C={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:O,config:e,request:x};xO(function(E){n(E),w()},function(E){a(E),w()},C),x=null}"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(a(new Le("Request aborted",Le.ECONNABORTED,e,x)),x=null)},x.onerror=function(N){const C=N&&N.message?N.message:"Network Error",A=new Le(C,Le.ERR_NETWORK,e,x);A.event=N||null,a(A),x=null},x.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||fO;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),a(new Le(N,C.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,x)),x=null},i===void 0&&l.setContentType(null),"setRequestHeader"in x&&ce.forEach(l.toJSON(),function(N,C){x.setRequestHeader(C,N)}),ce.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),d&&d!=="json"&&(x.responseType=s.responseType),h&&([g,v]=Xu(h,!0),x.addEventListener("progress",g)),u&&x.upload&&([m,j]=Xu(u),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(p=O=>{x&&(a(!O||O.type?new Xc(null,e,x):O),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const P=Y$(s.url);if(P&&ar.protocols.indexOf(P)===-1){a(new Le("Unsupported protocol "+P+":",Le.ERR_BAD_REQUEST,e));return}x.send(i||null)})},s7=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const i=function(h){if(!s){s=!0,d();const p=h instanceof Error?h:this.reason;a.abort(p instanceof Le?p:new Xc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new Le(`timeout of ${t}ms exceeded`,Le.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>ce.asap(d),u}},i7=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},o7=async function*(e,t){for await(const n of l7(e))yield*i7(n,t)},l7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},eS=(e,t,n,a)=>{const s=o7(e,t);let i=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await s.next();if(h){d(),u.close();return}let m=p.byteLength;if(n){let g=i+=m;n(g)}u.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(u){return d(u),s.return()}},{highWaterMark:2})},tS=64*1024,{isFunction:wu}=ce,c7=(({Request:e,Response:t})=>({Request:e,Response:t}))(ce.global),{ReadableStream:rS,TextEncoder:nS}=ce.global,aS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},d7=e=>{e=ce.merge.call({skipUndefined:!0},c7,e);const{fetch:t,Request:n,Response:a}=e,s=t?wu(t):typeof fetch=="function",i=wu(n),l=wu(a);if(!s)return!1;const d=s&&wu(rS),u=s&&(typeof nS=="function"?(v=>w=>v.encode(w))(new nS):async v=>new Uint8Array(await new n(v).arrayBuffer())),h=i&&d&&aS(()=>{let v=!1;const w=new n(ar.origin,{body:new rS,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),p=l&&d&&aS(()=>ce.isReadableStream(new a("").body)),m={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(w,x)=>{let S=w&&w[v];if(S)return S.call(w);throw new Le(`Response type '${v}' is not supported`,Le.ERR_NOT_SUPPORT,x)})});const g=async v=>{if(v==null)return 0;if(ce.isBlob(v))return v.size;if(ce.isSpecCompliantForm(v))return(await new n(ar.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(v)||ce.isArrayBuffer(v))return v.byteLength;if(ce.isURLSearchParams(v)&&(v=v+""),ce.isString(v))return(await u(v)).byteLength},j=async(v,w)=>{const x=ce.toFiniteNumber(v.getContentLength());return x??g(w)};return async v=>{let{url:w,method:x,data:S,signal:P,cancelToken:O,timeout:N,onDownloadProgress:C,onUploadProgress:A,responseType:E,headers:T,withCredentials:R="same-origin",fetchOptions:I}=yO(v),M=t||fetch;E=E?(E+"").toLowerCase():"text";let $=s7([P,O&&O.toAbortSignal()],N),H=null;const V=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let q;try{if(A&&h&&x!=="get"&&x!=="head"&&(q=await j(T,S))!==0){let F=new n(w,{method:"POST",body:S,duplex:"half"}),D;if(ce.isFormData(S)&&(D=F.headers.get("content-type"))&&T.setContentType(D),F.body){const[G,te]=XN(q,Xu(JN(A)));S=eS(F.body,tS,G,te)}}ce.isString(R)||(R=R?"include":"omit");const B=i&&"credentials"in n.prototype,W={...I,signal:$,method:x.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:B?R:void 0};H=i&&new n(w,W);let U=await(i?M(H,I):M(w,W));const Q=p&&(E==="stream"||E==="response");if(p&&(C||Q&&V)){const F={};["status","statusText","headers"].forEach(ue=>{F[ue]=U[ue]});const D=ce.toFiniteNumber(U.headers.get("content-length")),[G,te]=C&&XN(D,Xu(JN(C),!0))||[];U=new a(eS(U.body,tS,G,()=>{te&&te(),V&&V()}),F)}E=E||"text";let z=await m[ce.findKey(m,E)||"text"](U,v);return!Q&&V&&V(),await new Promise((F,D)=>{xO(F,D,{data:z,headers:Nr.from(U.headers),status:U.status,statusText:U.statusText,config:v,request:H})})}catch(B){throw V&&V(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,v,H),{cause:B.cause||B}):Le.from(B,B&&B.code,v,H)}}},u7=new Map,vO=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:s}=t,i=[a,s,n];let l=i.length,d=l,u,h,p=u7;for(;d--;)u=i[d],h=p.get(u),h===void 0&&p.set(u,h=d?new Map:d7(t)),p=h;return h};vO();const pj={http:P$,xhr:a7,fetch:{get:vO}};ce.forEach(pj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sS=e=>`- ${e}`,h7=e=>ce.isFunction(e)||e===null||e===!1;function f7(e,t){e=ce.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let l=0;l<n;l++){a=e[l];let d;if(s=a,!h7(a)&&(s=pj[(d=String(a)).toLowerCase()],s===void 0))throw new Le(`Unknown adapter '${d}'`);if(s&&(ce.isFunction(s)||(s=s.get(t))))break;i[d||"#"+l]=s}if(!s){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(sS).join(`
`):" "+sS(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const bO={getAdapter:f7,adapters:pj};function Gp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xc(null,e)}function iS(e){return Gp(e),e.headers=Nr.from(e.headers),e.data=Kp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bO.getAdapter(e.adapter||Yc.adapter,e)(e).then(function(a){return Gp(e),a.data=Kp.call(e,e.transformResponse,a),a.headers=Nr.from(a.headers),a},function(a){return pO(a)||(Gp(e),a&&a.response&&(a.response.data=Kp.call(e,e.transformResponse,a.response),a.response.headers=Nr.from(a.response.headers))),Promise.reject(a)})}const jO="1.13.4",of={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{of[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const oS={};of.transitional=function(t,n,a){function s(i,l){return"[Axios v"+jO+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,d)=>{if(t===!1)throw new Le(s(l," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!oS[l]&&(oS[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,d):!0}};of.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function m7(e,t,n){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const d=e[i],u=d===void 0||l(d,i,e);if(u!==!0)throw new Le("option "+i+" must be "+u,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+i,Le.ERR_BAD_OPTION)}}const qu={assertOptions:m7,validators:of},kn=qu.validators;let zs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new QN,response:new QN}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Hs(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&qu.assertOptions(a,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(ce.isFunction(s)?n.paramsSerializer={serialize:s}:qu.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qu.assertOptions(n,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&ce.merge(i.common,i[n.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Nr.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,g;if(!u){const v=[iS.bind(this),void 0];for(v.unshift(...d),v.push(...h),g=v.length,p=Promise.resolve(n);m<g;)p=p.then(v[m++],v[m++]);return p}g=d.length;let j=n;for(;m<g;){const v=d[m++],w=d[m++];try{j=v(j)}catch(x){w.call(this,x);break}}try{p=iS.call(this,j)}catch(v){return Promise.reject(v)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=Hs(this.defaults,t);const n=gO(t.baseURL,t.url,t.allowAbsoluteUrls);return hO(n,t.params,t.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(t){zs.prototype[t]=function(n,a){return this.request(Hs(a||{},{method:t,url:n,data:(a||{}).data}))}});ce.forEach(["post","put","patch"],function(t){function n(a){return function(i,l,d){return this.request(Hs(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}zs.prototype[t]=n(),zs.prototype[t+"Form"]=n(!0)});let p7=class wO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(d=>{a.subscribe(d),i=d}).then(s);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,d){a.reason||(a.reason=new Xc(i,l,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wO(function(s){t=s}),cancel:t}}};function x7(e){return function(n){return e.apply(null,n)}}function g7(e){return ce.isObject(e)&&e.isAxiosError===!0}const Ov={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ov).forEach(([e,t])=>{Ov[t]=e});function NO(e){const t=new zs(e),n=tO(zs.prototype.request,t);return ce.extend(n,zs.prototype,t,{allOwnKeys:!0}),ce.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return NO(Hs(e,s))},n}const jt=NO(Yc);jt.Axios=zs;jt.CanceledError=Xc;jt.CancelToken=p7;jt.isCancel=pO;jt.VERSION=jO;jt.toFormData=sf;jt.AxiosError=Le;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=x7;jt.isAxiosError=g7;jt.mergeConfig=Hs;jt.AxiosHeaders=Nr;jt.formToJSON=e=>mO(ce.isHTMLForm(e)?new FormData(e):e);jt.getAdapter=bO.getAdapter;jt.HttpStatusCode=Ov;jt.default=jt;const{Axios:Tne,AxiosError:Rne,CanceledError:Mne,isCancel:Ine,CancelToken:$ne,VERSION:Lne,all:Dne,Cancel:Fne,isAxiosError:zne,spread:qne,toFormData:Bne,AxiosHeaders:Une,HttpStatusCode:Wne,formToJSON:Hne,getAdapter:Kne,mergeConfig:Gne}=jt;class Ve extends Error{constructor(n,a,s){super(n);xu(this,"status");xu(this,"data");this.name="ApiError",this.status=a,this.data=s}}const It=jt.create({baseURL:"https://auth.nubabel.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});function y7(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}It.interceptors.request.use(e=>{const t=y7();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function v7(e){var n,a;if(jt.isAxiosError(e)){const s=e,i=((n=s.response)==null?void 0:n.status)??null,l=(a=s.response)==null?void 0:a.data,d=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Ve(d,i,l)}const t=e instanceof Error?e.message:String(e);return new Ve(t,null,null)}let Vp=!1,Qp=null;async function b7(){try{return await It.post("/auth/refresh"),!0}catch{return!1}}It.interceptors.response.use(e=>e,async e=>{var n,a,s;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&t&&!t._retried&&!((a=t.url)!=null&&a.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,Vp||(Vp=!0,Qp=b7());const i=await Qp;return Vp=!1,Qp=null,i?It.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function se(e){try{return(await It.request(e)).data}catch(t){throw v7(t)}}function j7(){var h;const[e,t]=b.useState(!0),[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState({account:!0,slack:!1,workflow:!1});b.useEffect(()=>{async function p(){try{t(!0);const m=await It.get("/dashboard/stats");a(m.data),i(null)}catch(m){console.error("Failed to fetch dashboard stats:",m),i("Failed to load stats")}finally{t(!1)}}p()},[]);const u=p=>{d(m=>({...m,[p]:!m[p]}))};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome to Nubabel - AI-Powered Workflow Automation Platform"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):s?r.jsx("div",{className:"col-span-4 text-center py-4 text-gray-500",children:s}):r.jsxs(r.Fragment,{children:[r.jsx(ju,{title:"Total Workflows",value:String((n==null?void 0:n.totalWorkflows)??0),icon:r.jsx(Z3,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Recent Executions",value:String((n==null?void 0:n.recentExecutions)??0),icon:r.jsx($I,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Success Rate",value:`${(n==null?void 0:n.successRate)??0}%`,icon:r.jsx(eO,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Active Integrations",value:String(((h=n==null?void 0:n.activeIntegrations)==null?void 0:h.length)??0),icon:r.jsx(kI,{className:"h-5 w-5"}),trend:"neutral",change:0})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsx(zI,{}),r.jsx(qI,{})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Getting Started"}),r.jsx("p",{className:"text-blue-800 mb-4",children:"Complete these steps to start automating your workflows:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.account,onChange:()=>u("account"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.account?"line-through opacity-75":""}`,children:"Set up your account"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.slack,onChange:()=>u("slack"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.slack?"line-through opacity-75":""}`,children:"Configure your integrations (Slack, Notion, etc.)"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.workflow,onChange:()=>u("workflow"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.workflow?"line-through opacity-75":""}`,children:"Create and run your first workflow"})]})]})]})]})}function w7({workflow:e,onExecute:t}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),r.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function N7({workflowId:e,workflowName:t,isOpen:n,onClose:a,onSuccess:s}){const[i,l]=b.useState("{}"),[d,u]=b.useState("idle"),[h,p]=b.useState("");if(!n)return null;const m=async()=>{u("executing"),p("");try{let g={};i.trim()&&(g=JSON.parse(i)),await se({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:g}}),u("success"),setTimeout(()=>{s==null||s(),a()},1500)}catch(g){g instanceof SyntaxError?p("Invalid JSON format"):g instanceof Ve?p(g.message):p("Execution failed"),u("error")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:a}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:g=>g.stopPropagation(),children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:g=>g.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:g=>l(g.target.value),disabled:d==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),d==="executing"&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),d==="success"&&r.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[r.jsx("span",{className:"text-green-600 text-xl",children:""}),r.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),d==="error"&&r.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("span",{className:"text-red-800",children:h})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:a,disabled:d==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:d==="executing"||d==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d==="executing"?"Executing...":"Execute"})]})]})})]})}function S7({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(!1),[h,p]=b.useState(null),m=async()=>{if(!a.trim()){p("Workflow name is required");return}u(!0),p(null);try{await se({url:"/api/workflows",method:"POST",data:{name:a.trim(),description:i.trim()||void 0,enabled:!0,config:{}}}),n(),t(),s(""),l("")}catch(g){let j="Failed to create workflow";g instanceof Ve&&(g.status===403?j="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":j=g.message),p(j)}finally{u(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:g=>g.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),h&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:a,onChange:g=>s(g.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",value:i,onChange:g=>l(g.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Create"})]})]})})}):null}function k7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState(!1),p=async()=>{try{i(null);const v=await se({url:"/api/workflows",method:"GET"});t(v.workflows)}catch(v){const w=v instanceof Ve?v.message:"Failed to fetch workflows";i(w)}finally{a(!1)}};b.useEffect(()=>{p()},[]);const m=v=>{const w=e.find(x=>x.id===v);w&&d(w)},g=()=>{d(null)},j=()=>{p()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),r.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),s&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:s})}),e.length===0&&!s?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>r.jsx(w7,{workflow:v,onExecute:m},v.id))}),l&&r.jsx(N7,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:g,onSuccess:j}),r.jsx(S7,{isOpen:u,onClose:()=>h(!1),onSuccess:p})]})}function C7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(!0);b.useEffect(()=>{(async()=>{if(e)try{const[h,p]=await Promise.all([se({url:`/api/workflows/${e}`,method:"GET"}),se({url:`/api/workflows/${e}/executions`,method:"GET"})]);n(h.workflow),s(p.executions||[])}catch(h){console.error("Failed to fetch workflow:",h)}finally{l(!1)}})()},[e]);const d=u=>{switch(u){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):t?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/workflows",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to workflows"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),t.description&&r.jsx("p",{className:"text-gray-600",children:t.description})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${t.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.enabled?"Enabled":"Disabled"}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Execute"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:a.length})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),a.length===0?r.jsx("div",{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No executions yet"})}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.slice(0,10).map(u=>{const h=u.startedAt&&u.completedAt?Math.round((new Date(u.completedAt).getTime()-new Date(u.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(u.status)}`,children:u.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.startedAt?new Date(u.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h!==null?`${h}s`:"-"})]},u.id)})})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflow not found"}),r.jsx(ht,{to:"/workflows",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to workflows"})]})}function A7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all");b.useEffect(()=>{(async()=>{try{const p=await se({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{a(!1)}})()},[]);const l=e.filter(h=>s==="all"?!0:h.status===s),d=h=>{switch(h){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),r.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),r.jsxs("div",{className:"mb-6 flex gap-2",children:[r.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),r.jsx("button",{onClick:()=>i("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),r.jsx("button",{onClick:()=>i("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),r.jsx("button",{onClick:()=>i("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),r.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>{var m;const p=h.startedAt&&h.completedAt?Math.round((new Date(h.completedAt).getTime()-new Date(h.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${d(h.status)}`,children:[u(h.status)," ",h.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=h.workflow)==null?void 0:m.name)||"Unknown"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},h.id)})})]})})]})}function P7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState(!0),[i,l]=b.useState(null);b.useEffect(()=>{(async()=>{if(e)try{const m=await se({url:`/api/executions/${e}`,method:"GET"});n(m.execution)}catch(m){console.error("Failed to fetch execution:",m),l(m instanceof Error?m.message:"An error occurred")}finally{s(!1)}})()},[e]);const d=p=>{switch(p){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=p=>{switch(p){case"success":return"";case"failed":return"";case"running":return"";default:return""}};if(a)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(!t)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Execution not found"}),r.jsx(ht,{to:"/executions",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to executions"})]});const h=t.startedAt&&t.completedAt?Math.round((new Date(t.completedAt).getTime()-new Date(t.startedAt).getTime())/1e3):null;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/executions",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to executions"}),i&&r.jsx("div",{className:"text-red-500 p-4 mb-4",children:i}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Execution Details"}),t.workflowName&&r.jsxs("p",{className:"text-gray-600",children:["Workflow: ",t.workflowName]})]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${d(t.status)}`,children:[u(t.status)," ",t.status]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:h!==null?`${h}s`:"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Execution ID"}),r.jsx("p",{className:"mt-2 text-sm text-gray-900 font-mono truncate",children:t.id})]})]}),t.errorMessage&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Error"}),r.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap font-mono",children:t.errorMessage})]}),t.steps&&t.steps.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Execution Steps"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:t.steps.map((p,m)=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-sm font-medium text-gray-600",children:m+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:p.name}),r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),p.error&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.error})]})]})},p.id))})]}),(t.input||t.output)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.input&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.input,null,2)})]}),t.output&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.output,null,2)})]})]})]})}const lS=e=>{let t;const n=new Set,a=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const g=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(j=>j(t,g))}},s=()=>t,d={setState:a,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=t=e(a,s,d);return d},O7=(e=>e?lS(e):lS),E7=e=>e;function _7(e,t=E7){const n=Y.useSyncExternalStore(e.subscribe,Y.useCallback(()=>t(e.getState()),[e,t]),Y.useCallback(()=>t(e.getInitialState()),[e,t]));return Y.useDebugValue(n),n}const cS=e=>{const t=O7(e),n=a=>_7(t,a);return Object.assign(n,t),n},xj=(e=>e?cS(e):cS),ts=xj((e,t)=>({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const n=await se({url:"/auth/me",method:"GET"});e({user:n.user,currentOrganization:n.currentOrganization,organizations:n.organizations||[],membership:n.membership||null,isLoading:!1})}catch(n){console.error("Failed to fetch user:",n),e({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!1})}}},logout:async()=>{try{await se({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[],membership:null}),window.location.href="/login"}catch(n){console.error("Logout failed:",n)}},switchOrganization:async n=>{try{const a=await se({url:"/auth/switch-org",method:"POST",data:{organizationId:n}});if(a.redirectUrl){window.location.href=a.redirectUrl;return}window.location.reload()}catch(a){console.error("Switch organization failed:",a)}},setUser:n=>{e({user:n})}}));function T7(){const{user:e,currentOrganization:t}=ts(),[n,a]=b.useState((e==null?void 0:e.name)||""),[s,i]=b.useState(!1),l=async()=>{i(!0);try{await se({url:"/api/user/profile",method:"PUT",data:{name:n}}),alert("Profile updated successfully")}catch(u){const h=u instanceof Ve?u.message:"Failed to update profile";console.error("Save failed:",u),alert(h)}finally{i(!1)}},d=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await se({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(u){const h=u instanceof Ve?u.message:"Failed to logout from all devices";console.error("Logout all failed:",u),alert(h)}};return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:n,onChange:u=>a(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),r.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Member management coming soon"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),r.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function R7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(null);b.useEffect(()=>{const S=e.get("success"),P=e.get("error");S==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):P&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[P]||`Error: ${P}`}),t({})),g()},[e,t]);const g=async()=>{try{const S=await se({url:"/api/notion/oauth/status",method:"GET"});a(S),S.connected&&await j()}catch(S){if(S instanceof Ve&&S.status===404){a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",S)}finally{d(!1)}},j=async()=>{try{const S=await se({url:"/api/notion/databases",method:"GET"});i(S.databases||[])}catch{i([])}},v=()=>{window.location.href="/api/notion/oauth/install"},w=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){h(!0),m(null);try{await se({url:"/api/notion/oauth/disconnect",method:"DELETE"}),a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),i([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{h(!1)}}};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const x=(n==null?void 0:n.connected)??!1;return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:x&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:n.workspaceIcon?r.jsx("img",{src:n.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName||"Notion Workspace"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[n.workspaceId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),n.botId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botId})]}),n.connectedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Connected:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.connectedAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:v,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),r.jsx("button",{onClick:w,disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),r.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),x&&s.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),r.jsx("button",{onClick:j,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),r.jsx("div",{className:"space-y-2",children:s.map(S=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:S.title}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:S.id})]}),r.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},S.id))})]}),x&&s.length===0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),r.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",r.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),r.jsx("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function M7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,d]=b.useState(!1),[u,h]=b.useState(null);b.useEffect(()=>{const v=e.get("success"),w=e.get("error");v==="true"?(h({type:"success",text:"Slack workspace connected successfully!"}),t({})):w&&(h({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[w]||`Error: ${w}`}),t({})),p()},[e,t]);const p=async()=>{try{const v=await se({url:"/api/slack/integration",method:"GET"});a(v.integration)}catch(v){if(v instanceof Ve&&v.status===404){a(null);return}console.error("Fetch integration error:",v)}finally{i(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},g=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){d(!0),h(null);try{await se({url:"/api/slack/integration",method:"DELETE"}),a(null),h({type:"success",text:"Slack disconnected successfully."})}catch{h({type:"error",text:"Failed to disconnect Slack."})}finally{d(!1)}}};if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const j=!!(n!=null&&n.hasWorkspace&&(n!=null&&n.workspaceId));return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),u&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:u.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:j&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.enabled&&n.healthStatus==="healthy"?"bg-green-100 text-green-800":n.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:n.enabled&&n.healthStatus==="healthy"?"Connected":n.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botUserId||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Installed:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:n.installedAt?new Date(n.installedAt).toLocaleDateString():"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),n.scopes&&n.scopes.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.scopes.map(v=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),r.jsx("button",{onClick:g,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function I7(){const[e,t]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const d=await se({url:"/api/settings/google-calendar",method:"GET"});t(d.connection)}catch(d){console.error("Failed to fetch Google Calendar connection:",d)}finally{a(!1)}})()},[]);const s=async()=>{try{const l=await se({url:"/api/settings/google-calendar/connect",method:"POST"});window.location.href=l.authUrl}catch(l){console.error("Failed to initiate connection:",l)}},i=async()=>{if(confirm("Are you sure you want to disconnect Google Calendar?"))try{await se({url:"/api/settings/google-calendar/disconnect",method:"POST"}),t(null)}catch(l){console.error("Failed to disconnect:",l)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/settings",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to settings"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Google Calendar to enable scheduling workflows"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Google Calendar"}),r.jsx("p",{className:"text-sm text-gray-500",children:e!=null&&e.connected?`Connected as ${e.email}`:"Not connected"})]}),e!=null&&e.connected?r.jsx("button",{onClick:i,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 font-medium",children:"Disconnect"}):r.jsx("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Connect"})]})}),(e==null?void 0:e.connected)&&e.calendars&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4",children:"Available Calendars"}),r.jsx("div",{className:"space-y-3",children:e.calendars.map(l=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-900",children:l.name}),l.primary&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Primary"})]})},l.id))})]}),!(e!=null&&e.connected)&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"What you can do with Google Calendar:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Create and manage calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Trigger workflows based on calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Sync meeting schedules automatically"]})]})]})]})]})}function $7(){return Et({queryKey:["identities","user"],queryFn:async()=>(await se({url:"/api/identities",method:"GET"})).identities})}function L7(){return Et({queryKey:["identities","suggestions"],queryFn:async()=>(await se({url:"/api/identities/suggestions",method:"GET"})).suggestions})}function D7(){const e=xt();return Ct({mutationFn:async({identityId:t,reason:n})=>se({url:`/api/identities/${t}/unlink`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]})}})}function F7(){const e=xt();return Ct({mutationFn:async({suggestionId:t,reason:n})=>se({url:`/api/identities/suggestions/${t}/accept`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]}),e.invalidateQueries({queryKey:["identities","suggestions"]})}})}function z7(){const e=xt();return Ct({mutationFn:async({suggestionId:t,reason:n})=>se({url:`/api/identities/suggestions/${t}/reject`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","suggestions"]})}})}const SO={slack:{name:"Slack",color:"#4A154B",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})},google:{name:"Google",color:"#4285F4",icon:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})},notion:{name:"Notion",color:"#000000",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"})})}};function q7({identity:e,onUnlink:t,isUnlinking:n}){const a=SO[e.provider];return r.jsxs("div",{className:"border-4 border-black bg-white",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:a.color,color:"white"},children:a.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:a.name}),e.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.displayName}),e.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.email})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t-2 border-black",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Linked"}),r.jsx("div",{className:"text-sm font-mono",children:e.linkedAt?new Date(e.linkedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Method"}),r.jsx("div",{className:"text-sm font-mono uppercase",children:e.linkMethod||"N/A"})]})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-gray-50 px-6 py-3",children:r.jsx("button",{onClick:()=>t(e.id),disabled:n,className:"w-full font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-red-600 hover:text-white hover:border-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:n?"UNLINKING...":"UNLINK"})})]})}function B7({suggestion:e,onAccept:t,onReject:n,isProcessing:a}){const s=SO[e.externalIdentity.provider],i=Math.round(e.confidenceScore*100);return r.jsxs("div",{className:"border-4 border-black bg-yellow-50",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:s.color,color:"white"},children:s.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:s.name}),e.externalIdentity.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.externalIdentity.displayName}),e.externalIdentity.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.externalIdentity.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Confidence"}),r.jsxs("div",{className:"text-2xl font-mono font-bold",children:[i,"%"]})]})]}),r.jsxs("div",{className:"pt-4 border-t-2 border-black",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Match Method"}),r.jsx("div",{className:"text-sm font-mono",children:e.matchMethod})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-white px-6 py-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-green-400 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ACCEPT"}),r.jsx("button",{onClick:()=>n(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"REJECT"})]})})]})}function U7(){const[e,t]=b.useState(null),{data:n,isLoading:a}=$7(),{data:s,isLoading:i}=L7(),l=D7(),d=F7(),u=z7(),h=async w=>{if(confirm("Are you sure you want to unlink this identity?"))try{await l.mutateAsync({identityId:w}),t({type:"success",text:"Identity unlinked successfully"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to unlink identity"}),setTimeout(()=>t(null),5e3)}},p=async w=>{try{await d.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion accepted and identity linked"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to accept suggestion"}),setTimeout(()=>t(null),5e3)}},m=async w=>{try{await u.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion rejected"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to reject suggestion"}),setTimeout(()=>t(null),5e3)}};if(a||i)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-16 h-16 border-8 border-black border-t-transparent animate-spin"}),r.jsx("p",{className:"mt-4 font-mono font-bold uppercase tracking-wider",children:"LOADING..."})]})});const j=(n==null?void 0:n.filter(w=>w.linkStatus==="linked"))||[],v=s||[];return r.jsxs("div",{className:"max-w-6xl",children:[r.jsxs("div",{className:"mb-8 pb-6 border-b-4 border-black",children:[r.jsx("h1",{className:"text-5xl font-mono font-black uppercase tracking-tighter mb-2",children:"Linked Identities"}),r.jsx("p",{className:"text-lg font-mono text-gray-700",children:"Manage external service connections to your account"})]}),e&&r.jsx("div",{className:`mb-6 p-4 border-4 font-mono ${e.type==="success"?"border-green-600 bg-green-50 text-green-900":"border-red-600 bg-red-50 text-red-900"}`,children:e.text}),v.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Pending Suggestions (",v.length,")"]}),r.jsx("p",{className:"text-sm font-mono text-gray-600 mb-6",children:"We found these identities that might belong to you. Review and accept or reject them."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(w=>r.jsx(B7,{suggestion:w,onAccept:p,onReject:m,isProcessing:d.isPending||u.isPending},w.id))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Linked Identities (",j.length,")"]}),j.length===0?r.jsxs("div",{className:"border-4 border-black bg-gray-50 p-12 text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"square",strokeLinejoin:"miter",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),r.jsx("h3",{className:"font-mono font-bold text-lg uppercase tracking-tight text-gray-900 mb-2",children:"No Linked Identities"}),r.jsxs("p",{className:"font-mono text-sm text-gray-600",children:["You haven't linked any external service identities yet.",r.jsx("br",{}),"Check pending suggestions above or contact your administrator."]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(w=>r.jsx(q7,{identity:w,onUnlink:h,isUnlinking:l.isPending},w.id))})]})]})}function W7(){return Et({queryKey:["member-identities"],queryFn:async()=>{const e=await se({url:"/api/admin/identities",method:"GET",params:{status:"linked",limit:1e3}}),t=new Map;return e.identities.forEach(n=>{if(n.userId){const a=t.get(n.userId)||[];a.push(n),t.set(n.userId,a)}}),t},staleTime:6e4})}function H7(e){return Et({queryKey:["admin","identities",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.provider&&t.set("provider",e.provider),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const n=await fetch(`/api/admin/identities?${t}`,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch identities");return n.json()}})}function K7(){return Et({queryKey:["admin","identities","stats"],queryFn:async()=>{const e=await fetch("/api/admin/identities/stats",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch identity stats");return e.json()}})}function G7(){return Et({queryKey:["admin","identities","suggestions"],queryFn:async()=>{const e=await fetch("/api/admin/identities/suggestions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suggestions");return(await e.json()).suggestions}})}function V7(){const e=xt();return Ct({mutationFn:async({identityId:t,userId:n,reason:a})=>{const s=await fetch(`/api/admin/identities/${t}/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:n,reason:a})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to link identity")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function Q7(){const e=xt();return Ct({mutationFn:async({identityId:t,reason:n})=>{const a=await fetch(`/api/admin/identities/${t}/unlink`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to unlink identity")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function Y7(){const e=xt();return Ct({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to accept suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function X7(){const e=xt();return Ct({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to reject suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}function kO(){const e=xt();return Ct({mutationFn:async()=>(await It.post("admin/identities/sync-slack")).data,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=e=>{const t=Z7(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...d},u)=>b.createElement("svg",{ref:u,...eL,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:CO("lucide",s),...!i&&!tL(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(e,t)=>{const n=b.forwardRef(({className:a,...s},i)=>b.createElement(rL,{ref:i,iconNode:t,className:CO(`lucide-${J7(dS(e))}`,`lucide-${e}`,a),...s}));return n.displayName=dS(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],aL=wt("bookmark",nL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=wt("check",sL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],no=wt("circle-alert",iL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ql=wt("circle-check-big",oL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cL=wt("clock",lL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yp=wt("copy",dL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],AO=wt("external-link",uL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lf=wt("file-text",hL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gj=wt("link",fL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xp=wt("loader-circle",mL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cf=wt("mail",pL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],df=wt("message-square",xL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yL=wt("pen",gL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jn=wt("refresh-cw",vL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jL=wt("rotate-ccw",bL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],NL=wt("search",wL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],kL=wt("terminal",SL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AL=wt("trash-2",CL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],OL=wt("unlink",PL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PO=wt("users",EL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OO=wt("x",_L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RL=wt("zap",TL);function ML(){return Et({queryKey:["members","invite","sources"],queryFn:async()=>{const e=await fetch("/api/members/invite/sources",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch connected services");return(await e.json()).sources}})}function IL(e,t){return Et({queryKey:["members","invite","users",e,t],queryFn:async()=>{if(!e)return[];const n=new URLSearchParams({provider:e});t&&n.set("search",t);const a=await fetch(`/api/members/invite/users?${n}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch users");return(await a.json()).users},enabled:!!e,staleTime:3e4})}function $L(){const e=xt();return Ct({mutationFn:async t=>{const n=await fetch("/api/members/invite",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to invite members")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["members"]}),e.invalidateQueries({queryKey:["members","invite","users"]})}})}function LL({provider:e,size:t=20}){const n={slack:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),google:r.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),notion:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.373.466l1.822 1.447zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.84-.046.934-.56.934-1.166V6.354c0-.606-.233-.933-.746-.886l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.747 0-.934-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.454-.233 4.763 7.278v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933l3.222-.186zm-14.617-7c-.094-.093-.047-.14.093-.14l13.028-.792c.14-.047.186.047.14.093l-1.868 1.447c-.28.233-.42.327-.747.373L2.775 2.808c-.186.046-.186.14-.047.186l1.914 1.04z"})})};return r.jsx("span",{className:"text-gray-600",children:n[e]})}function DL({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(null),[i,l]=b.useState(""),[d,u]=b.useState(new Set),[h,p]=b.useState("member"),[m,g]=b.useState(!1),{data:j,isLoading:v}=ML(),{data:w,isLoading:x}=IL(a,i),S=$L();b.useEffect(()=>{j&&j.length>0&&!a&&s(j[0].provider)},[j,a]),b.useEffect(()=>{u(new Set),l("")},[a]),b.useEffect(()=>{e||(s(null),u(new Set),l(""),p("member"),g(!1),S.reset())},[e]);const P=b.useMemo(()=>{if(!w)return[];if(!i)return w;const E=i.toLowerCase();return w.filter(T=>{var R,I;return((R=T.displayName)==null?void 0:R.toLowerCase().includes(E))||((I=T.email)==null?void 0:I.toLowerCase().includes(E))})},[w,i]),O=E=>{u(T=>{const R=new Set(T);return R.has(E)?R.delete(E):R.add(E),R})},N=()=>{d.size===P.length?u(new Set):u(new Set(P.map(E=>E.providerUserId)))},C=async()=>{if(!(!a||d.size===0))try{(await S.mutateAsync({provider:a,providerUserIds:Array.from(d),role:h})).summary.invited>0&&n(),g(!0)}catch{}};if(!e)return null;const A=j==null?void 0:j.find(E=>E.provider===a);return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] flex flex-col border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b-4 border-black bg-yellow-300",children:[r.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Invite from Connected Services"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-black/10 transition-colors",children:r.jsx(OO,{size:24,strokeWidth:3})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:v?r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx(Xp,{className:"animate-spin",size:32})}):j&&j.length===0?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx(no,{size:48,className:"text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"No Connected Services"}),r.jsx("p",{className:"text-gray-600 max-w-sm",children:"Connect Slack, Google, or Notion to invite members from those services."})]}):m&&S.data?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 flex items-center justify-center mb-4",children:r.jsx(Ka,{size:32,className:"text-white",strokeWidth:3})}),r.jsx("h3",{className:"text-xl font-black mb-4",children:"Invitations Sent!"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[S.data.summary.invited>0&&r.jsxs("p",{className:"text-green-600 font-medium",children:[S.data.summary.invited," user",S.data.summary.invited!==1?"s":""," invited"]}),S.data.summary.alreadyMembers>0&&r.jsxs("p",{className:"text-yellow-600",children:[S.data.summary.alreadyMembers," already member",S.data.summary.alreadyMembers!==1?"s":""]}),S.data.summary.errors>0&&r.jsxs("p",{className:"text-red-600",children:[S.data.summary.errors," error",S.data.summary.errors!==1?"s":""]})]}),r.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 transition-colors",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex border-b-4 border-black bg-gray-100",children:j==null?void 0:j.map(E=>r.jsxs("button",{onClick:()=>s(E.provider),className:`flex-1 px-4 py-3 flex items-center justify-center gap-2 font-bold uppercase text-sm transition-colors ${a===E.provider?"bg-white border-r-4 border-black -mb-1 pb-4":"hover:bg-gray-200"}`,children:[r.jsx(LL,{provider:E.provider,size:18}),r.jsx("span",{children:E.provider}),r.jsx("span",{className:"px-2 py-0.5 bg-black text-white text-xs",children:E.userCount})]},E.provider))}),A&&r.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b-2 border-gray-200 text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Workspace: "}),r.jsx("span",{className:"font-medium",children:A.workspaceName||A.provider})]}),r.jsx("div",{className:"px-6 py-4 border-b-2 border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(NL,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:E=>l(E.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border-2 border-black focus:outline-none focus:ring-2 focus:ring-yellow-300"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:x?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Xp,{className:"animate-spin",size:24})}):P.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(PO,{size:40,className:"mb-3"}),r.jsx("p",{className:"font-medium",children:"No users found"}),r.jsx("p",{className:"text-sm",children:i?"Try a different search term":"All users are already members"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200 flex items-center gap-3",children:r.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm font-medium hover:text-black transition-colors",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center ${d.size===P.length&&P.length>0?"bg-yellow-300":"bg-white"}`,children:d.size===P.length&&P.length>0&&r.jsx(Ka,{size:14,strokeWidth:3})}),"Select All (",P.length,")"]})}),r.jsx("div",{className:"divide-y divide-gray-100",children:P.map(E=>r.jsxs("button",{onClick:()=>O(E.providerUserId),className:"w-full px-6 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors text-left",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center flex-shrink-0 ${d.has(E.providerUserId)?"bg-yellow-300":"bg-white"}`,children:d.has(E.providerUserId)&&r.jsx(Ka,{size:14,strokeWidth:3})}),E.avatarUrl?r.jsx("img",{src:E.avatarUrl,alt:"",className:"w-10 h-10 border-2 border-black"}):r.jsx("div",{className:"w-10 h-10 border-2 border-black bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:(E.displayName||E.email||"?").charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold truncate",children:E.displayName||E.email||"Unknown User"}),E.email&&E.displayName&&r.jsx("p",{className:"text-sm text-gray-500 truncate",children:E.email})]})]},E.providerUserId))})]})}),r.jsxs("div",{className:"px-6 py-4 border-t-4 border-black bg-gray-50",children:[S.error&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border-2 border-red-500 text-red-700 text-sm font-medium",children:S.error.message}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-bold uppercase",children:"Role:"}),r.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"px-3 py-2 border-2 border-black font-medium focus:outline-none focus:ring-2 focus:ring-yellow-300",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[d.size," selected"]}),r.jsx("button",{onClick:t,className:"px-4 py-2 border-2 border-black font-bold uppercase hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:C,disabled:d.size===0||S.isPending,className:"px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:S.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Xp,{size:16,className:"animate-spin"}),"Inviting..."]}):`Invite ${d.size>0?`(${d.size})`:""}`})]})]})]})]})})]})})}function FL({organizationId:e,isOpen:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(""),[l,d]=b.useState("member"),[u,h]=b.useState(!1),[p,m]=b.useState(null),g=async()=>{if(!s.trim()){m("Email is required");return}h(!0),m(null);try{await se({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),a(),n(),i(""),d("member")}catch(j){const v=j instanceof Ve?j.message:"Failed to invite member";m(v)}finally{h(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{id:"email",type:"email",value:s,onChange:j=>i(j.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),r.jsxs("select",{id:"role",value:l,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"admin",children:"Admin - Full access"}),r.jsx("option",{value:"member",children:"Member - Can execute workflows"}),r.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:g,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Inviting...":"Send Invitation"})]})]})})}):null}function zL({userId:e,currentRole:t,organizationId:n,currentUserId:a,onSuccess:s}){const[i,l]=b.useState(!1),d=e===a,u=async h=>{if(h!==t){l(!0);try{await se({url:`/api/organizations/${n}/members/${e}/role`,method:"PUT",data:{role:h}}),s()}catch(p){const m=p instanceof Ve?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return r.jsxs("select",{value:t,onChange:h=>u(h.target.value),disabled:i||d,className:`px-2 py-1 text-sm border border-gray-300 rounded ${d?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${i?"opacity-50":""}`,children:[r.jsx("option",{value:"owner",children:"Owner"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})}const EO={slack:df,google:cf,notion:lf},qL={slack:"bg-purple-100 text-purple-600",google:"bg-blue-100 text-blue-600",notion:"bg-gray-100 text-gray-600"},Ev={slack:"Slack",google:"Google",notion:"Notion"};function BL({identity:e}){const t=EO[e.provider],n=qL[e.provider],a=Ev[e.provider],s=e.email||e.displayName||`${a} Account`;return r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${n} transition-all hover:shadow-sm`,title:s,children:[r.jsx(t,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:a})]}),r.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-10",children:s})]})}function UL({identities:e,allProviders:t}){return r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map(n=>{const a=e.find(i=>i.provider===n),s=EO[n];return a?r.jsx(BL,{identity:a},n):r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-50 text-gray-300 border border-gray-200",title:`No ${Ev[n]} account linked`,children:[r.jsx(s,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:Ev[n]})]},n)})})}function WL(){const{currentOrganization:e,user:t}=ts(),[n,a]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState(!1),[u,h]=b.useState(!1),[p,m]=b.useState("all"),[g,j]=b.useState("all"),v=e==null?void 0:e.id,w=t==null?void 0:t.id,{data:x,isLoading:S,refetch:P}=W7(),O=kO(),N=()=>{confirm("Slack    . ?")&&O.mutate(void 0,{onSuccess:I=>{alert(` !

 : ${I.stats.total}
: ${I.stats.synced}
 : ${I.stats.autoLinked}
 : ${I.stats.suggested}`),P()},onError:I=>{alert(` : ${I.message}`)}})},C=b.useCallback(async()=>{if(v)try{const I=await se({url:`/api/organizations/${v}/members`,method:"GET"});a(I.members)}catch(I){console.error("Failed to fetch members:",I)}finally{i(!1)}},[v]);b.useEffect(()=>{C()},[C]);const A=async(I,M)=>{if(confirm(`Are you sure you want to remove ${M} from this organization?`))try{await se({url:`/api/organizations/${v}/members/${I}`,method:"DELETE"}),C()}catch($){const H=$ instanceof Ve?$.message:"Failed to remove member";alert(H)}},E=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",T=n.filter(I=>{const M=(x==null?void 0:x.get(I.userId))||[];if(p!=="all"&&!M.some(H=>H.provider===p))return!1;if(g==="linked"){if(M.length===0)return!1}else if(g==="unlinked"&&M.length>0)return!1;return!0}),R={total:n.length,withSlack:n.filter(I=>((x==null?void 0:x.get(I.userId))||[]).some(M=>M.provider==="slack")).length,withGoogle:n.filter(I=>((x==null?void 0:x.get(I.userId))||[]).some(M=>M.provider==="google")).length,withNotion:n.filter(I=>((x==null?void 0:x.get(I.userId))||[]).some(M=>M.provider==="notion")).length,fullyLinked:n.filter(I=>((x==null?void 0:x.get(I.userId))||[]).length===3).length,noLinks:n.filter(I=>((x==null?void 0:x.get(I.userId))||[]).length===0).length};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their linked accounts"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:N,disabled:O.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[r.jsx(Jn,{size:18,className:O.isPending?"animate-spin":""}),O.isPending?" ...":"Slack "]}),r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(PO,{size:18}),"Invite from Services"]}),r.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Invite by Email"]})]})]}),!S&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(df,{className:"w-4 h-4 text-purple-600"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:R.withSlack})]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Slack Linked"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(cf,{className:"w-4 h-4 text-blue-600"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:R.withGoogle})]}),r.jsx("div",{className:"text-sm text-blue-700",children:"Google Linked"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(lf,{className:"w-4 h-4 text-gray-600"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.withNotion})]}),r.jsx("div",{className:"text-sm text-gray-700",children:"Notion Linked"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(gj,{className:"w-4 h-4 text-green-600"}),r.jsx("div",{className:"text-2xl font-bold text-green-900",children:R.fullyLinked})]}),r.jsx("div",{className:"text-sm text-green-700",children:"Fully Linked"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:R.noLinks}),r.jsx("div",{className:"text-sm text-orange-700",children:"No Links"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provider:"}),r.jsxs("select",{value:p,onChange:I=>m(I.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Providers"}),r.jsx("option",{value:"slack",children:"Slack Only"}),r.jsx("option",{value:"google",children:"Google Only"}),r.jsx("option",{value:"notion",children:"Notion Only"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Status:"}),r.jsxs("select",{value:g,onChange:I=>j(I.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Members"}),r.jsx("option",{value:"linked",children:"Has Linked Accounts"}),r.jsx("option",{value:"unlinked",children:"No Linked Accounts"})]})]}),r.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",T.length," of ",n.length," members"]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(I=>{const M=(x==null?void 0:x.get(I.userId))||[];return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:I.avatarUrl?r.jsx("img",{className:"h-10 w-10 rounded-full",src:I.avatarUrl,alt:I.name}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:I.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.name,I.userId===w&&r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:S?r.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):M.length>0?r.jsx(UL,{identities:M,allProviders:["slack","google","notion"]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No linked accounts"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v&&w&&r.jsx(zL,{userId:I.userId,currentRole:I.role,organizationId:v,currentUserId:w,onSuccess:C})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:I.status==="active"?"Active":"Pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(I.joinedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:I.userId!==w&&r.jsx("button",{onClick:()=>A(I.userId,I.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},I.id)})})]}),T.length===0&&n.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members match filters"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your filter criteria"})]}),n.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),r.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),v&&r.jsx(FL,{organizationId:v,isOpen:l,onClose:()=>d(!1),onSuccess:C}),r.jsx(DL,{isOpen:u,onClose:()=>h(!1),onSuccess:C})]})}function HL(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState("pending"),[u,h]=b.useState("all"),[p,m]=b.useState({page:1,total:0,totalPages:0}),[g,j]=b.useState(null),v=b.useCallback(async()=>{a(!0),i(null);try{const N=await se({url:"/api/approvals",method:"GET",params:{status:l,type:u,page:p.page,limit:20}});t(N.approvals),m({page:N.pagination.page,total:N.pagination.total,totalPages:N.pagination.totalPages})}catch(N){const C=N instanceof Ve?N.message:"Failed to fetch approvals";i(C)}finally{a(!1)}},[l,u,p.page]);b.useEffect(()=>{v()},[v]);const w=async(N,C)=>{j(N);try{await se({url:`/api/approvals/${N}/respond`,method:"PUT",data:{action:C}}),v()}catch(A){const E=A instanceof Ve?A.message:"Failed to respond to approval";i(E)}finally{j(null)}},x=N=>{const C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[N]}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},S=N=>{const C={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[N].bg}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},P=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=N=>new Date(N)<new Date;return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:l,onChange:N=>{d(N.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"expired",children:"Expired"}),r.jsx("option",{value:"all",children:"All"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:u,onChange:N=>{h(N.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"deployment",children:"Deployment"}),r.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"":""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),r.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(N.type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(N.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(N.expiresAt)?r.jsx("span",{className:"text-red-600",children:"Expired"}):P(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.status==="pending"&&!O(N.expiresAt)?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(N.id,"approved"),disabled:g===N.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:g===N.id?"...":"Approve"}),r.jsx("button",{onClick:()=>w(N.id,"rejected"),disabled:g===N.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:g===N.id?"...":"Reject"})]}):r.jsx("span",{className:"text-sm text-gray-400",children:N.respondedAt?P(N.respondedAt):"-"})})]},N.id))})]}),p.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const KL=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function GL(e={}){const{url:t="/api/events",reconnectDelay:n=3e3,maxReconnectAttempts:a=10,onEvent:s}=e,[i,l]=b.useState(!1),[d,u]=b.useState(null),[h,p]=b.useState(null),m=b.useRef(null),g=b.useRef(0),j=b.useRef(null),v=b.useRef(s),w=b.useRef([]);b.useEffect(()=>{v.current=s},[s]);const x=b.useCallback(()=>{m.current&&(w.current.forEach(({type:O,handler:N})=>{var C;(C=m.current)==null||C.removeEventListener(O,N)}),w.current=[],m.current.close(),m.current=null),j.current&&(clearTimeout(j.current),j.current=null)},[]),S=b.useCallback(()=>{x();const N=`https://auth.nubabel.com${t}`;try{const C=new EventSource(N,{withCredentials:!0});m.current=C,C.onopen=()=>{l(!0),p(null),g.current=0},C.onerror=()=>{if(l(!1),x(),g.current<a){const A=n*Math.pow(2,g.current);g.current+=1,j.current=setTimeout(()=>{S()},A)}else p("Failed to connect to server. Please refresh the page.")},C.onmessage=A=>{var E;try{const T=JSON.parse(A.data),R={type:T.type||"message",data:T.data||T,timestamp:Date.now()};u(R),(E=v.current)==null||E.call(v,R)}catch{A.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",A.data)}},KL.forEach(A=>{const E=T=>{var R;try{const M=JSON.parse(T.data),$={type:A,data:M,timestamp:Date.now()};u($),(R=v.current)==null||R.call(v,$)}catch(I){console.warn(`Failed to parse ${A} event:`,I)}};C.addEventListener(A,E),w.current.push({type:A,handler:E})})}catch(C){p("Failed to create EventSource connection"),console.error("SSE connection error:",C)}},[t,n,a,x]),P=b.useCallback(()=>{g.current=0,S()},[S]);return b.useEffect(()=>(S(),x),[S,x]),{isConnected:i,lastEvent:d,error:h,reconnect:P}}const uS={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function VL(e){const t=e.toLowerCase().replace(/-/g,"_");return uS[t]||uS.default}function QL(e,t){switch(e){case"pending":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return r.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[r.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function YL(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function _O({agent:e,children:t,allAgents:n,depth:a,onSelectAgent:s}){const i=t.filter(l=>l.parentId===e.id);return r.jsxs("div",{className:`${a>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[r.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[r.jsx("span",{className:"text-xl",children:VL(e.agentType)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),QL(e.status,e.progress)]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&r.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&r.jsxs("span",{children:[" ",YL(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&r.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&r.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),i.length>0&&r.jsx("div",{className:"mt-1",children:i.map(l=>r.jsx(_O,{agent:l,children:n,allAgents:n,depth:a+1,onSelectAgent:s},l.id))})]})}function XL({agents:e,selectedSessionId:t,onSelectAgent:n}){const a=b.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=b.useMemo(()=>a.filter(l=>!l.parentId),[a]),i=b.useMemo(()=>{const l=a.length,d=a.filter(p=>p.status==="completed").length,u=a.filter(p=>p.status==="failed").length,h=a.filter(p=>p.status==="in_progress").length;return{total:l,completed:d,failed:u,inProgress:h}},[a]);return a.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No active agents"}),r.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Total: ",i.total]}),i.inProgress>0&&r.jsxs("span",{className:"text-blue-600",children:[" ",i.inProgress," running"]}),i.completed>0&&r.jsxs("span",{className:"text-green-600",children:[" ",i.completed," done"]}),i.failed>0&&r.jsxs("span",{className:"text-red-600",children:[" ",i.failed," failed"]})]})]}),r.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>r.jsx(_O,{agent:l,children:a,allAgents:a,depth:0,onSelectAgent:n},l.id))})]})}function JL({accounts:e,selectedAccountId:t,onRefresh:n}){const[a,s]=b.useState(Date.now());b.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const i=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",d=m=>{if(!m)return null;const j=new Date(m).getTime()-a;if(j<=0)return null;const v=Math.floor(j/6e4);return v<60?`${v}m`:`${Math.floor(v/60)}h ${v%60}m`},u=[...e].sort((m,g)=>m.id===t?-1:g.id===t?1:g.priority-m.priority),h=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,g)=>m+g.estimatedUsagePercent,0)/e.length):0;return r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Claude Max Pool"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h,"/",e.length," active  ",p,"% avg usage"]})]}),n&&r.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:u.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No accounts configured"})]}):u.map(m=>{const g=d(m.cooldownUntil),j=m.id===t;return r.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:i(m.status)}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),j&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),g&&r.jsxs("div",{className:"text-xs text-orange-600",children:[" ",g]})]})]}),r.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[r.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),r.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const ZL=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function eD(){const[e,t]=b.useState([]),[n,a]=b.useState("all"),[s,i]=b.useState(new Map),[l,d]=b.useState([]),[u,h]=b.useState(),[p,m]=b.useState(),g=b.useCallback(A=>{const E={id:`${A.timestamp}-${Math.random().toString(36).slice(2)}`,type:A.type,data:A.data,timestamp:A.timestamp};t(R=>[E,...R].slice(0,100));const T=A.data;if(A.type==="agent:started"||A.type==="agent_delegated"){const R={id:T.activityId||T.id||E.id,sessionId:T.sessionId||"unknown",agentType:T.agentType||"unknown",agentName:T.agentName,category:T.category,status:"in_progress",parentId:T.parentActivityId,startedAt:new Date(A.timestamp).toISOString()};i(I=>new Map(I).set(R.id,R))}if(A.type==="agent:progress"){const R=T.activityId;R&&i(I=>{const M=new Map(I),$=M.get(R);return $&&M.set(R,{...$,progress:T.progress,status:"in_progress"}),M})}if(A.type==="agent:completed"||A.type==="agent:failed"){const R=T.activityId;R&&i(I=>{const M=new Map(I),$=M.get(R);return $&&M.set(R,{...$,status:A.type==="agent:completed"?"completed":"failed",duration:T.duration,errorMessage:T.errorMessage,completedAt:new Date(A.timestamp).toISOString()}),M})}A.type==="account_selected"&&(h(T.accountId),T.accounts&&d(T.accounts))},[]),{isConnected:j,error:v,reconnect:w}=GL({url:"/api/events",onEvent:g}),x=b.useMemo(()=>e.filter(A=>n==="all"?!0:A.type===n||A.type.startsWith(n.split(":")[0])),[e,n]),S=b.useMemo(()=>Array.from(s.values()),[s]),P=b.useMemo(()=>{const A=new Set(S.map(E=>E.sessionId));return Array.from(A)},[S]),O=A=>A.includes("started")?"bg-blue-100 text-blue-800":A.includes("completed")?"bg-green-100 text-green-800":A.includes("failed")||A.includes("error")?"bg-red-100 text-red-800":A.includes("progress")?"bg-yellow-100 text-yellow-800":A.includes("delegated")?"bg-purple-100 text-purple-800":A.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",N=A=>A.includes("started")?"":A.includes("completed")?"":A.includes("failed")?"":A.includes("progress")?"":A.includes("delegated")?"":A.includes("account")?"":"",C=A=>new Date(A).toLocaleTimeString();return r.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),r.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),r.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${j?"bg-green-500 animate-pulse":"bg-red-500"}`}),r.jsx("span",{className:"text-sm text-gray-600",children:j?"Live":"Disconnected"})]}),!j&&r.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),v&&r.jsx("span",{className:"text-sm text-red-600",children:v})]}),P.length>0&&r.jsxs("select",{value:p||"",onChange:A=>m(A.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Sessions"}),P.map(A=>r.jsxs("option",{value:A,children:["Session: ",A.slice(0,12),"..."]},A))]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsx(XL,{agents:S,selectedSessionId:p,onSelectAgent:A=>m(A.sessionId)})}),r.jsx("div",{className:"lg:col-span-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[x.length," events"]})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:ZL.map(A=>r.jsx("button",{onClick:()=>a(A),className:`px-3 py-1 rounded-full text-xs transition ${n===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A==="all"?"All":A.replace(":"," ")},A))})]}),r.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:x.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),r.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):x.map(A=>r.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:N(A.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${O(A.type)}`,children:A.type}),r.jsx("span",{className:"text-xs text-gray-500",children:C(A.timestamp)})]}),Object.keys(A.data).length>0&&r.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:r.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(A.data,null,2)})})]})]})},A.id))}),e.length>0&&r.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:r.jsx("button",{onClick:()=>{t([]),i(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsx(JL,{accounts:l,selectedAccountId:u,onRefresh:()=>{fetch("/api/claude-max-accounts").then(A=>A.json()).then(A=>d(A.accounts||[])).catch(console.error)}})})]})]})}function tD(){var l,d,u;const[e,t]=b.useState(null),[n,a]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const p=await se({url:"/api/metrics/agents",method:"GET"});t(p)}catch(p){console.error("Failed to fetch metrics:",p),i(p instanceof Error?p.message:"An error occurred")}finally{a(!1)}})()},[]),n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading metrics..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),r.jsx("p",{className:"text-gray-600",children:"Monitor agent performance and statistics"})]}),s&&r.jsx("div",{className:"text-red-500 p-4",children:s}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalExecutions)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:[((l=e==null?void 0:e.overallSuccessRate)==null?void 0:l.toFixed(1))||0,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Active Agents"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:((d=e==null?void 0:e.agents)==null?void 0:d.length)||0})]})]}),(u=e==null?void 0:e.agents)!=null&&u.length?r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Executions"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Run"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.agents.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.agentName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.totalExecutions}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${h.successRate>=90?"bg-green-100 text-green-800":h.successRate>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[h.successRate.toFixed(1),"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h.avgDuration.toFixed(1),"s"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.lastExecution?new Date(h.lastExecution).toLocaleString():"-"})]},h.agentId))})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No metrics yet"}),r.jsx("p",{className:"text-gray-600",children:"Agent metrics will appear here after executions"})]})})]})}function rD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(""),[l,d]=b.useState(""),[u,h]=b.useState(0),[p,m]=b.useState(null),[g,j]=b.useState(""),v=20;b.useEffect(()=>{(async()=>{try{a(!0);const C=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await se({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[])}catch(C){console.error("Failed to fetch organization changes:",C)}finally{a(!1)}})()},[s,l,u]);const w=N=>{switch(N){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=N=>{switch(N){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},S=N=>{switch(N){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=async N=>{try{await se({url:`/api/org-changes/${N}/link-pr`,method:"POST",data:{prUrl:g}});const C=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await se({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[]),m(null),j("")}catch(C){console.error("Failed to link PR:",C),alert("Failed to link PR. Please check the URL format.")}},O=async N=>{try{await se({url:`/api/org-changes/${N}/pr-status`,method:"GET"});const C=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await se({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[])}catch(C){console.error("Failed to sync PR status:",C)}};return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),r.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),r.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),r.jsxs("select",{value:s,onChange:N=>{i(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"new_member",children:"New Member"}),r.jsx("option",{value:"role_change",children:"Role Change"}),r.jsx("option",{value:"workflow_added",children:"Workflow Added"}),r.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),r.jsx("option",{value:"integration_added",children:"Integration Added"}),r.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),r.jsxs("select",{value:l,onChange:N=>{d(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Impact Levels"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),r.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>{var C;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.jsx("span",{className:"mr-2",children:x(N.type)}),N.type.replace(/_/g," ")]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:N.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${w(N.impactLevel)}`,children:N.impactLevel})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.prUrl&&((C=N.metadata)!=null&&C.pr)?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("a",{href:N.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S(N.metadata.pr.state)}`,children:[N.metadata.pr.state," #",N.metadata.pr.number]}),r.jsx("button",{onClick:()=>O(N.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===N.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:g,onChange:A=>j(A.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),r.jsx("button",{onClick:()=>P(N.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),r.jsx("button",{onClick:()=>{m(null),j("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):r.jsx("button",{onClick:()=>m(N.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.createdAt).toLocaleString()})]},N.id)})})]})}),e.length>0&&r.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[r.jsx("button",{onClick:()=>h(Math.max(0,u-v)),disabled:u===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",u+1," to ",Math.min(u+v,u+e.length)]}),r.jsx("button",{onClick:()=>h(u+v),disabled:e.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function nD(e){return{id:e.id,title:e.title,description:e.description||void 0,progress:e.progress,keyResults:e.keyResults.map(t=>({id:t.id,title:t.title,currentValue:t.current,targetValue:t.target,unit:t.unit})),owner:e.ownerId||"Unassigned",quarter:e.quarter}}function aD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const l=await se({url:"/api/okr",method:"GET"});t((l.objectives||[]).map(nD))}catch(l){console.error("Failed to fetch OKRs:",l)}finally{a(!1)}})()},[]);const s=i=>i>=70?"bg-green-500":i>=40?"bg-yellow-500":"bg-red-500";return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),r.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"New Objective"})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No OKRs yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first objective to start tracking progress"})]})}):r.jsx("div",{className:"space-y-6",children:e.map(i=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.title}),i.description&&r.jsx("p",{className:"text-gray-600 mt-1",children:i.description}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Owner: ",i.owner,i.quarter&&` | ${i.quarter}`]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.progress,"%"]})})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:`h-2 rounded-full ${s(i.progress)}`,style:{width:`${i.progress}%`}})}),i.keyResults.length>0&&r.jsxs("div",{className:"border-t pt-4 mt-4 space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase",children:"Key Results"}),i.keyResults.map(l=>{const d=l.targetValue>0?Math.round(l.currentValue/l.targetValue*100):0;return r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-1.5",children:r.jsx("div",{className:`h-1.5 rounded-full ${s(d)}`,style:{width:`${Math.min(d,100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[l.currentValue,"/",l.targetValue," ",l.unit]})]})]})},l.id)})]})]},i.id))})]})}function sD({agent:e,onEdit:t,onDelete:n,onViewActivity:a,onToggleEnabled:s}){const[i,l]=b.useState(!1),[d,u]=b.useState(!1),h=async()=>{if(!(!s||d)){u(!0);try{await s(e,!e.enabled)}finally{u(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&r.jsx("button",{onClick:h,disabled:d,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${d?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),r.jsxs("button",{onClick:()=>l(!i),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[i?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Read:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>r.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Write:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>r.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[r.jsx("button",{onClick:()=>a==null?void 0:a(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const iD=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function oD({isOpen:e,onClose:t,onSuccess:n,agent:a,availableSkills:s,availableTools:i}){const l=!!a,[d,u]=b.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[h,p]=b.useState(""),[m,g]=b.useState(""),[j,v]=b.useState(""),[w,x]=b.useState(!1),[S,P]=b.useState(null);b.useEffect(()=>{u(a?{id:a.id,name:a.name,function:a.function,description:a.description,skills:[...a.skills],tools:[...a.tools],routing_keywords:[...a.routing_keywords],permissions:{read:[...a.permissions.read],write:[...a.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),P(null)},[a,e]);const O=async $=>{$.preventDefault(),x(!0),P(null);try{l?await se({url:`/api/admin/agents/${d.id}`,method:"PUT",data:{name:d.name,function:d.function,description:d.description,skills:d.skills,tools:d.tools,routing_keywords:d.routing_keywords,permissions:d.permissions}}):await se({url:"/api/admin/agents",method:"POST",data:d}),n(),t()}catch(H){const V=H instanceof Ve?H.message:"Failed to save agent";P(V)}finally{x(!1)}},N=()=>{h.trim()&&!d.routing_keywords.includes(h.trim())&&(u({...d,routing_keywords:[...d.routing_keywords,h.trim()]}),p(""))},C=$=>{u({...d,routing_keywords:d.routing_keywords.filter(H=>H!==$)})},A=()=>{m.trim()&&!d.permissions.read.includes(m.trim())&&(u({...d,permissions:{...d.permissions,read:[...d.permissions.read,m.trim()]}}),g(""))},E=$=>{u({...d,permissions:{...d.permissions,read:d.permissions.read.filter(H=>H!==$)}})},T=()=>{j.trim()&&!d.permissions.write.includes(j.trim())&&(u({...d,permissions:{...d.permissions,write:[...d.permissions.write,j.trim()]}}),v(""))},R=$=>{u({...d,permissions:{...d.permissions,write:d.permissions.write.filter(H=>H!==$)}})},I=$=>{const H=d.skills.includes($)?d.skills.filter(V=>V!==$):[...d.skills,$];u({...d,skills:H})},M=$=>{const H=d.tools.includes($)?d.tools.filter(V=>V!==$):[...d.tools,$];u({...d,tools:H})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:d.id,onChange:$=>u({...d,id:$.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:d.name,onChange:$=>u({...d,name:$.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{id:"function",value:d.function,onChange:$=>u({...d,function:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:iD.map($=>r.jsx("option",{value:$.value,children:$.label},$.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:d.description,onChange:$=>u({...d,description:$.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map($=>r.jsx("button",{type:"button",onClick:()=>I($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.skills.includes($.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:$.name},$.id)),s.length===0&&r.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map($=>r.jsx("button",{type:"button",onClick:()=>M($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.tools.includes($.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:$.description,children:$.name},$.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:$=>p($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),N()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.routing_keywords.map($=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[$,r.jsx("button",{type:"button",onClick:()=>C($),className:"text-orange-600 hover:text-orange-800",children:""})]},$))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:m,onChange:$=>g($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),A()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:d.permissions.read.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-green-700",children:$}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j,onChange:$=>v($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),T()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:d.permissions.write.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-yellow-700",children:$}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-yellow-600 hover:text-yellow-800",children:""})]},$))})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!d.id||!d.name||!d.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function lD(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState(null),[P,O]=b.useState(""),[N,C]=b.useState("all"),A=async()=>{try{const B=await se({url:"/api/admin/pending-prs?type=agent",method:"GET"});w(B.pullRequests)}catch(B){console.error("Failed to fetch pending PRs:",B)}},E=async()=>{try{const B=await se({url:"/api/admin/agents",method:"GET"});t(B.agents)}catch(B){const W=B instanceof Ve?B.message:"Failed to fetch agents";h(W)}},T=async()=>{try{const B=await se({url:"/api/admin/skills",method:"GET"});a(B.skills.map(W=>({id:W.id,name:W.name})))}catch(B){console.error("Failed to fetch skills:",B)}},R=async()=>{try{const B=await se({url:"/api/admin/tools",method:"GET"});i(B.tools)}catch(B){console.error("Failed to fetch tools:",B)}};b.useEffect(()=>{(async()=>{d(!0),await Promise.all([E(),T(),R(),A()]),d(!1)})()},[]);const I=()=>{j(null),m(!0)},M=B=>{j(B),m(!0)},$=async B=>{if(confirm(`Are you sure you want to delete "${B.name}"? This will create a PR.`))try{const W=await se({url:`/api/admin/agents/${B.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${W.pullRequest.html_url}`),E(),A()}catch(W){const U=W instanceof Ve?W.message:"Failed to delete agent";h(U)}},H=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),A()},V=B=>{window.location.href=`/activity?agent=${B.id}`},q=async(B,W)=>{try{const U=await se({url:`/api/admin/agents/${B.id}`,method:"PUT",data:{...B,enabled:W}});S(`PR created to ${W?"enable":"disable"} agent. View at: ${U.pullRequest.html_url}`),E(),A()}catch(U){const Q=U instanceof Ve?U.message:"Failed to toggle agent status";h(Q)}};return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),r.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:x}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),u&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:u}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(B=>B.function)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(B=>B.skills)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(B=>B.tools)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:P,onChange:B=>O(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("select",{value:N,onChange:B=>C(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(B=>B.function))).map(B=>r.jsx("option",{value:B,children:B.charAt(0).toUpperCase()+B.slice(1)},B))]})})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(B=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:B.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",B.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:B.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:B.author_avatar,alt:B.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:B.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:B.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},B.number))})]})})]}),(()=>{const B=e.filter(W=>{const U=P.toLowerCase(),Q=!U||W.name.toLowerCase().includes(U)||W.id.toLowerCase().includes(U)||W.description.toLowerCase().includes(U)||W.routing_keywords.some(F=>F.toLowerCase().includes(U)),z=N==="all"||W.function===N;return Q&&z});return e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),r.jsx("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):B.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),r.jsx("button",{onClick:()=>{O(""),C("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map(W=>r.jsx(sD,{agent:W,onEdit:M,onDelete:$,onViewActivity:V,onToggleEnabled:q},W.id))})})(),r.jsx(oD,{isOpen:p,onClose:()=>m(!1),onSuccess:H,agent:g,availableSkills:n,availableTools:s})]})}function cD({skill:e,onEdit:t,onDelete:n}){var l;const[a,s]=b.useState(!1),i=d=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[d]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(e.category)}`,children:e.category})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((d,u)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:d},u)),e.triggers.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(d=>r.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:d.name},d.id)))||r.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),r.jsxs("button",{onClick:()=>s(!a),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[a?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(d=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:d},d)),e.tools_required.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(d=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:d.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",d.type,")"]}),d.required&&r.jsx("span",{className:"text-red-500 text-xs",children:"*"}),r.jsx("p",{className:"text-gray-500 text-xs",children:d.description}),d.default!==void 0&&r.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(d.default)]})]},d.name))})]}),e.outputs&&e.outputs.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(d=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:d.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",d.type,")"]}),r.jsx("p",{className:"text-gray-500 text-xs",children:d.description})]},d.name))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const dD=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],hS=["string","number","boolean","object","array"];function uD({isOpen:e,onClose:t,onSuccess:n,skill:a,availableAgents:s,availableTools:i}){const l=!!a,[d,u]=b.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[h,p]=b.useState(""),[m,g]=b.useState({name:"",type:"string",description:"",required:!1,default:""}),[j,v]=b.useState({name:"",type:"string",description:""}),[w,x]=b.useState(!1),[S,P]=b.useState(null);b.useEffect(()=>{u(a?{id:a.id,name:a.name,description:a.description,category:a.category,triggers:[...a.triggers],parameters:a.parameters?[...a.parameters]:[],outputs:a.outputs?[...a.outputs]:[],tools_required:[...a.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),P(null)},[a,e]);const O=async M=>{M.preventDefault(),x(!0),P(null);try{l?await se({url:`/api/admin/skills/${d.id}`,method:"PUT",data:{name:d.name,description:d.description,category:d.category,triggers:d.triggers,parameters:d.parameters,outputs:d.outputs,tools_required:d.tools_required}}):await se({url:"/api/admin/skills",method:"POST",data:d}),n(),t()}catch($){const H=$ instanceof Ve?$.message:"Failed to save skill";P(H)}finally{x(!1)}},N=()=>{h.trim()&&!d.triggers.includes(h.trim())&&(u({...d,triggers:[...d.triggers,h.trim()]}),p(""))},C=M=>{u({...d,triggers:d.triggers.filter(($,H)=>H!==M)})},A=()=>{if(m.name.trim()&&m.description.trim()){const M={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{M.default=JSON.parse(m.default)}catch{M.default=m.default}u({...d,parameters:[...d.parameters,M]}),g({name:"",type:"string",description:"",required:!1,default:""})}},E=M=>{u({...d,parameters:d.parameters.filter(($,H)=>H!==M)})},T=()=>{j.name.trim()&&j.description.trim()&&(u({...d,outputs:[...d.outputs,{...j,name:j.name.trim(),description:j.description.trim()}]}),v({name:"",type:"string",description:""}))},R=M=>{u({...d,outputs:d.outputs.filter(($,H)=>H!==M)})},I=M=>{const $=d.tools_required.includes(M)?d.tools_required.filter(H=>H!==M):[...d.tools_required,M];u({...d,tools_required:$})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:d.id,onChange:M=>u({...d,id:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:d.name,onChange:M=>u({...d,name:M.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:d.description,onChange:M=>u({...d,description:M.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("select",{id:"category",value:d.category,onChange:M=>u({...d,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:dD.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:M=>p(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),N()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.triggers.map((M,$)=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[M,r.jsx("button",{type:"button",onClick:()=>C($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(M=>r.jsx("button",{type:"button",onClick:()=>I(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.tools_required.includes(M.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:M.description,children:M.name},M.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),r.jsxs("div",{className:"space-y-2 mb-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m.name,onChange:M=>g({...m,name:M.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:m.type,onChange:M=>g({...m,type:M.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:hS.map(M=>r.jsx("option",{value:M,children:M},M))}),r.jsx("input",{type:"text",value:m.description,onChange:M=>g({...m,description:M.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[r.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:m.required,onChange:M=>g({...m,required:M.target.checked}),className:"w-3 h-3"}),"Required"]}),r.jsx("input",{type:"text",value:m.default,onChange:M=>g({...m,default:M.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),d.parameters.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:d.parameters.map((M,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:M.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",M.type,")"]}),M.required&&r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:M.description})]}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j.name,onChange:M=>v({...j,name:M.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:j.type,onChange:M=>v({...j,type:M.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:hS.map(M=>r.jsx("option",{value:M,children:M},M))}),r.jsx("input",{type:"text",value:j.description,onChange:M=>v({...j,description:M.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),d.outputs.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:d.outputs.map((M,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:M.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",M.type,")"]}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:M.description})]}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!d.id||!d.name||!d.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function hD(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState(null),[P,O]=b.useState("all"),[N,C]=b.useState(""),[A,E]=b.useState("skills"),[T,R]=b.useState([]),[I,M]=b.useState([]),[$,H]=b.useState([]),[V,q]=b.useState(!1),B=async()=>{try{const oe=await se({url:"/api/admin/pending-prs?type=skill",method:"GET"});w(oe.pullRequests)}catch(oe){console.error("Failed to fetch pending PRs:",oe)}},W=async()=>{try{const oe=await se({url:"/api/admin/skills",method:"GET"});t(oe.skills)}catch(oe){const ee=oe instanceof Ve?oe.message:"Failed to fetch skills";h(ee)}},U=async()=>{try{const oe=await se({url:"/api/admin/agents",method:"GET"});a(oe.agents.map(ee=>({id:ee.id,name:ee.name})))}catch(oe){console.error("Failed to fetch agents:",oe)}},Q=async()=>{try{const oe=await se({url:"/api/admin/tools",method:"GET"});i(oe.tools)}catch(oe){console.error("Failed to fetch tools:",oe)}},z=async()=>{q(!0);try{const[oe,ee,le]=await Promise.all([se({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),se({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),se({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);R(oe.metrics),M(ee.skills),H(le.skills)}catch{}finally{q(!1)}};b.useEffect(()=>{(async()=>{d(!0),await Promise.all([W(),U(),Q(),B()]),d(!1)})()},[]),b.useEffect(()=>{A==="performance"&&z()},[A]);const F=()=>{j(null),m(!0)},D=oe=>{j(oe),m(!0)},G=async oe=>{if(confirm(`Are you sure you want to delete "${oe.name}"? This will create a PR.`))try{const ee=await se({url:`/api/admin/skills/${oe.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${ee.pullRequest.html_url}`),W(),B()}catch(ee){const le=ee instanceof Ve?ee.message:"Failed to delete skill";h(le)}},te=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),W(),B()},ue=Array.from(new Set(e.map(oe=>oe.category))),xe=e.filter(oe=>{const ee=N.toLowerCase(),le=!ee||oe.name.toLowerCase().includes(ee)||oe.id.toLowerCase().includes(ee)||oe.description.toLowerCase().includes(ee)||oe.triggers.some($e=>$e.toLowerCase().includes(ee)),ke=P==="all"||oe.category===P;return le&&ke});return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),r.jsxs("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:x}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),u&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:u}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>E("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),r.jsx("button",{onClick:()=>E("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),A==="skills"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((oe,ee)=>oe+ee.triggers.length,0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((oe,ee)=>{var le;return oe+(((le=ee.agentDetails)==null?void 0:le.length)||0)},0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:r.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:N,onChange:oe=>C(oe.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>O("all"),className:`px-3 py-1 text-sm rounded-full ${P==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),ue.map(oe=>r.jsxs("button",{onClick:()=>O(oe),className:`px-3 py-1 text-sm rounded-full capitalize ${P===oe?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[oe," (",e.filter(ee=>ee.category===oe).length,")"]},oe))]})]})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(oe=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:oe.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",oe.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:oe.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:oe.author_avatar,alt:oe.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:oe.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:oe.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},oe.number))})]})})]}),xe.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?r.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):r.jsx("button",{onClick:()=>{C(""),O("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:xe.map(oe=>r.jsx(cD,{skill:oe,onEdit:D,onDelete:G},oe.id))})]}),A==="performance"&&r.jsx("div",{children:V?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:T.length})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:T.reduce((oe,ee)=>oe+ee.totalExecutions,0).toLocaleString()})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),r.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:T.length>0?`${Math.round(T.reduce((oe,ee)=>oe+ee.successRate,0)/T.length*100)}%`:"N/A"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),r.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:$.length})]})]}),I.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${oe.successRate>=.9?"text-green-600":oe.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(oe.successRate*100),"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[oe.avgDurationMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[oe.p95DurationMs,"ms"]})]},oe.skillId))})]})})]}),$.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),r.jsx("div",{className:"space-y-3",children:$.map(oe=>r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:oe.skillId}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:oe.successRate<.7?`Low success rate: ${Math.round(oe.successRate*100)}%`:`High latency: ${oe.avgDurationMs}ms avg`})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("div",{className:"text-gray-500",children:[oe.totalExecutions," executions"]}),r.jsxs("div",{className:"text-gray-500",children:[oe.failureCount," failures"]})]})]},oe.skillId))})]}),T.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:T.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:oe.successCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:oe.failureCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${oe.successRate>=.9?"text-green-600":oe.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(oe.successRate*100),"%"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.avgDurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.p95DurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:oe.lastExecutedAt?new Date(oe.lastExecutedAt).toLocaleDateString():"Never"})]},oe.skillId))})]})})]}),T.length===0&&!V&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),r.jsx(uD,{isOpen:p,onClose:()=>m(!1),onSuccess:te,skill:g,availableAgents:n,availableTools:s})]})}function fD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(0);b.useEffect(()=>{g()},[s]);const g=async()=>{a(!0);try{const S=new URLSearchParams;s!=="all"&&S.set("source",s);const P=await se({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(P.conversations||[]),m(P.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{a(!1)}},j=async S=>{h(!0);try{const P=await se({url:`/api/conversations/${S}`,method:"GET"});d(P.conversation)}catch(P){console.error("Failed to fetch conversation detail:",P)}finally{h(!1)}},v=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},w=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=S=>{const P=new Date(S),N=new Date().getTime()-P.getTime(),C=Math.floor(N/(1e3*60*60)),A=Math.floor(N/(1e3*60*60*24));return C<1?"Just now":C<24?`${C}h ago`:A<7?`${A}d ago`:P.toLocaleDateString()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),r.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),r.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>r.jsx("button",{onClick:()=>i(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),r.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>r.jsx("div",{onClick:()=>j(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(S.source)}`,children:[v(S.source)," ",S.source||"unknown"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),r.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-gray-500",children:x(S.lastUsedAt)})]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&r.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[r.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(l.source)}`,children:[v(l.source)," ",l.source||"unknown"]}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),r.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,P)=>r.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&r.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&r.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},P)),l.history.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const fS={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},mD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function pD({result:e,onClick:t,onCopyLink:n}){const[a,s]=b.useState(!1),i=fS[e.source]||fS.notion,l=h=>{h.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),n==null||n(e.url),setTimeout(()=>s(!1),2e3)},d=h=>{h.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},u=h=>h?new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${i.bg} ${i.color}`,children:i.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.jsx("span",{className:"text-xs text-gray-500",children:mD[e.source]}),e.lastModified&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:u(e.lastModified)})]}),e.author&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:a?r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsx("button",{onClick:d,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?r.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),r.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):r.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const xD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function gD(){const[e,t]=b.useState(""),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState([]),[p,m]=b.useState(null),[g,j]=b.useState("");b.useEffect(()=>{const N=setTimeout(()=>{j(e)},300);return()=>clearTimeout(N)},[e]);const v=b.useCallback(async N=>{if(!N.trim()){a(null);return}i(!0),d(null);try{const C=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:N,sources:u.length>0?u:void 0,limit:20,includeAiSummary:!0})});if(!C.ok)throw new Error("Search failed");const A=await C.json();a(A),A.results.length>0&&m(null)}catch(C){d(C instanceof Error?C.message:"Search failed")}finally{i(!1)}},[u]);b.useEffect(()=>{g&&v(g)},[g,v]);const w=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:N.url,clickedSource:N.source})})}catch{}window.open(N.url,"_blank","noopener,noreferrer")},x=N=>{t(N)},S=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:N})})}catch{}},P=N=>{h(C=>C.includes(N)?C.filter(A=>A!==N):[...C,N])},O=(n==null?void 0:n.sources.filter(N=>N.connected).map(N=>N.source))||[];return r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),r.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),O.length>0&&r.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),O.map(N=>{var C;return r.jsxs("button",{onClick:()=>P(N),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.length===0||u.includes(N)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[xD[N],n&&r.jsxs("span",{className:"ml-1 text-xs",children:["(",((C=n.sources.find(A=>A.source===N))==null?void 0:C.count)||0,")"]})]},N)})]}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),n&&r.jsxs("div",{className:"space-y-6",children:[n.aiAnswer&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.aiAnswer}),r.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),r.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),r.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("span",{children:[n.totalCount," result",n.totalCount!==1?"s":""," ","found"]}),n.responseTimeMs&&r.jsxs("span",{children:[(n.responseTimeMs/1e3).toFixed(2),"s"]})]}),n.results.length>0?r.jsx("div",{className:"space-y-3",children:n.results.map((N,C)=>r.jsx(pD,{result:N,onClick:w},`${N.source}-${N.id}-${C}`))}):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),n.relatedQuestions&&n.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),r.jsx("div",{className:"space-y-2",children:n.relatedQuestions.map((N,C)=>r.jsxs("button",{onClick:()=>x(N),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),N]},C))})]})]}),!n&&!s&&!e&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),r.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function yD(){const[e,t]=b.useState(null),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null);b.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,g,j]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),g.ok&&a(await g.json()),j.ok){const v=await j.json();i(v.topOrganizations||[])}h(null)}catch{h("Failed to load dashboard data")}finally{d(!1)}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):u?r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),r.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Nu,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),r.jsx(Nu,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),r.jsx(Nu,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),r.jsx(Nu,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),r.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,g])=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),r.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?g/e.revenue.mrr*100:0}%`}})}),r.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",g.toLocaleString()]})]},m))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),r.jsx(vD,{status:(n==null?void 0:n.status)||"healthy"})]}),r.jsx("div",{className:"space-y-3",children:n==null?void 0:n.components.map(m=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&r.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),r.jsx(bD,{status:m.status})]})]},m.name))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,g])=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function Nu({title:e,value:t,subtext:n,trend:a,trendLabel:s,icon:i,color:l="gray"}){const d={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${d[l]}`,children:i}),a!==void 0&&r.jsxs("span",{className:`text-sm font-medium ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?"+":"",a,"%"]})]}),r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})}function vD({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:n,text:a,label:s}=t[e];return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n} ${a}`,children:s})}function bD({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function jD(){const[e,t]=b.useState([]),[n,a]=b.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,h]=b.useState(""),[p,m]=b.useState("all"),[g,j]=b.useState("all"),[v,w]=b.useState("createdAt"),[x,S]=b.useState("desc"),P=b.useCallback(async()=>{i(!0);try{const I=new URLSearchParams({page:n.page.toString(),limit:n.pageSize.toString(),sortBy:v,sortOrder:x});u&&I.append("search",u),p!=="all"&&I.append("status",p),g!=="all"&&I.append("plan",g);const M=await fetch(`/api/admin/organizations?${I}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch organizations");const $=await M.json();t($.organizations||[]),a(H=>({...H,total:$.total||0,totalPages:Math.ceil(($.total||0)/H.pageSize)}))}catch(I){d(I instanceof Error?I.message:"Failed to load organizations")}finally{i(!1)}},[n.page,n.pageSize,u,p,g,v,x]);b.useEffect(()=>{P()},[P]);const O=I=>{v===I?S(x==="asc"?"desc":"asc"):(w(I),S("desc"))},N=async I=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${I}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");P()}catch(M){alert(M instanceof Error?M.message:"Failed to suspend organization")}},C=async I=>{try{if(!(await fetch(`/api/admin/organizations/${I}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");P()}catch(M){alert(M instanceof Error?M.message:"Failed to reactivate organization")}},A=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(I),E=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=I=>{switch(I.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:l}),r.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:[n.total," total"]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsx("input",{type:"text",placeholder:"Search organizations...",value:u,onChange:I=>{h(I.target.value),a(M=>({...M,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsxs("select",{value:p,onChange:I=>{m(I.target.value),a(M=>({...M,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"churned",children:"Churned"})]}),r.jsxs("select",{value:g,onChange:I=>{j(I.target.value),a(M=>({...M,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Plans"}),r.jsx("option",{value:"free",children:"Free"}),r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"pro",children:"Pro"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),r.jsx("button",{onClick:P,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:r.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("name"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Organization",v==="name"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("userCount"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Users",v==="userCount"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("mrr"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["MRR",v==="mrr"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("createdAt"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Created",v==="createdAt"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:I.name}),r.jsx("div",{className:"text-sm text-gray-500",children:I.slug})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(I.plan)}`,children:I.plan})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${T(I.status)}`,children:I.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.userCount}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(I.mrr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(I.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("a",{href:`/admin/organizations/${I.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),I.status==="active"?r.jsx("button",{onClick:()=>N(I.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):I.status==="suspended"?r.jsx("button",{onClick:()=>C(I.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},I.id))})]})}),n.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(n.page-1)*n.pageSize+1," to"," ",Math.min(n.page*n.pageSize,n.total)," of"," ",n.total," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page-1})),disabled:n.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",n.page," of ",n.totalPages]}),r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page+1})),disabled:n.page===n.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function wD(){const[e,t]=b.useState("all"),[n,a]=b.useState("all"),[s,i]=b.useState(""),[l,d]=b.useState(1),[u,h]=b.useState(null),[p,m]=b.useState(""),{data:g}=K7(),{data:j,isLoading:v}=H7({status:e==="all"?void 0:e,provider:n==="all"?void 0:n,page:l,limit:20}),{data:w}=G7(),x=V7(),S=Q7(),P=Y7(),O=X7(),N=kO(),C=g||{total:0,linked:0,unlinked:0,suggested:0,byProvider:{slack:0,google:0,notion:0}},A=(j==null?void 0:j.identities)||[],E=(j==null?void 0:j.pagination)||{page:1,totalPages:0},T=A.filter(V=>{var B,W,U,Q,z,F;if(!s)return!0;const q=s.toLowerCase();return((B=V.email)==null?void 0:B.toLowerCase().includes(q))||((W=V.displayName)==null?void 0:W.toLowerCase().includes(q))||((Q=(U=V.linkedUser)==null?void 0:U.email)==null?void 0:Q.toLowerCase().includes(q))||((F=(z=V.linkedUser)==null?void 0:z.displayName)==null?void 0:F.toLowerCase().includes(q))}),R=V=>{if(!p.trim()){alert("Please enter a user ID");return}x.mutate({identityId:V,userId:p},{onSuccess:()=>{h(null),m("")},onError:q=>{alert(q.message)}})},I=V=>{confirm("Unlink this identity?")&&S.mutate({identityId:V},{onError:q=>{alert(q.message)}})},M=V=>{P.mutate({suggestionId:V},{onError:q=>{alert(q.message)}})},$=V=>{O.mutate({suggestionId:V},{onError:q=>{alert(q.message)}})},H=()=>{confirm("Sync all Slack users to the identity system? This will create identity records and attempt auto-linking.")&&N.mutate(void 0,{onSuccess:V=>{alert(`Sync complete: ${V.message}

Auto-linked: ${V.stats.autoLinked}
Suggestions created: ${V.stats.suggested}`)},onError:V=>{alert(V.message)}})};return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"border-b-4 border-white bg-black",children:r.jsxs("div",{className:"p-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter mb-2",children:"Identity"}),r.jsx("p",{className:"text-xl font-mono text-gray-400",children:"CONTROL PANEL"})]}),r.jsxs("button",{onClick:H,disabled:N.isPending,className:"px-6 py-3 border-2 border-white text-white font-mono font-bold uppercase hover:bg-white hover:text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(Jn,{className:`w-5 h-5 ${N.isPending?"animate-spin":""}`}),N.isPending?"SYNCING...":"SYNC SLACK USERS"]})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(Su,{label:"TOTAL",value:C.total,color:"border-white"}),r.jsx(Su,{label:"LINKED",value:C.linked,color:"border-green-500"}),r.jsx(Su,{label:"UNLINKED",value:C.unlinked,color:"border-red-500"}),r.jsx(Su,{label:"SUGGESTED",value:C.suggested,color:"border-yellow-500"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[r.jsx(Jp,{provider:"SLACK",count:C.byProvider.slack,icon:r.jsx(df,{className:"w-8 h-8"})}),r.jsx(Jp,{provider:"GOOGLE",count:C.byProvider.google,icon:r.jsx(cf,{className:"w-8 h-8"})}),r.jsx(Jp,{provider:"NOTION",count:C.byProvider.notion,icon:r.jsx(lf,{className:"w-8 h-8"})})]}),w&&w.length>0&&r.jsx(ND,{suggestions:w,onAccept:M,onReject:$}),r.jsx("div",{className:"border-4 border-white bg-black p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Search"}),r.jsx("input",{type:"text",value:s,onChange:V=>i(V.target.value),placeholder:"Email or name...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Status"}),r.jsxs("select",{value:e,onChange:V=>{t(V.target.value),d(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"linked",children:"LINKED"}),r.jsx("option",{value:"unlinked",children:"UNLINKED"}),r.jsx("option",{value:"suggested",children:"SUGGESTED"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Provider"}),r.jsxs("select",{value:n,onChange:V=>{a(V.target.value),d(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"slack",children:"SLACK"}),r.jsx("option",{value:"google",children:"GOOGLE"}),r.jsx("option",{value:"notion",children:"NOTION"})]})]})]})}),r.jsxs("div",{className:"border-4 border-white bg-black overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-4 border-white",children:[r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Provider"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Identity"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Linked User"}),r.jsx("th",{className:"text-right p-4 font-mono text-xs font-bold uppercase",children:"Actions"})]})}),r.jsx("tbody",{children:v?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center",children:r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white border-t-transparent animate-spin"})})}):T.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center font-mono text-gray-600",children:"NO IDENTITIES FOUND"})}):T.map(V=>r.jsx(SD,{identity:V,onLink:()=>h(V),onUnlink:()=>I(V.id)},V.id))})]}),E.totalPages>1&&r.jsxs("div",{className:"border-t-4 border-white p-4 flex justify-between items-center",children:[r.jsxs("div",{className:"font-mono text-sm",children:["PAGE ",E.page," / ",E.totalPages]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>d(V=>Math.max(1,V-1)),disabled:l===1,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"PREV"}),r.jsx("button",{onClick:()=>d(V=>Math.min(E.totalPages,V+1)),disabled:l===E.totalPages,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"NEXT"})]})]})]})]}),u&&r.jsx(kD,{identity:u,linkUserId:p,setLinkUserId:m,onLink:()=>R(u.id),onClose:()=>{h(null),m("")},isLoading:x.isPending})]})}function Su({label:e,value:t,color:n}){return r.jsxs("div",{className:`border-4 ${n} bg-black p-6`,children:[r.jsx("div",{className:"text-5xl font-black mb-2",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})}function Jp({provider:e,count:t,icon:n}){return r.jsxs("div",{className:"border-4 border-white bg-black p-6 flex items-center gap-4",children:[r.jsx("div",{className:"text-white",children:n}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-black",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})]})}function ND({suggestions:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"border-4 border-yellow-500 bg-black p-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-black uppercase mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-4 h-4 bg-yellow-500 animate-pulse"}),"PENDING SUGGESTIONS (",e.length,")"]}),r.jsx("div",{className:"space-y-4",children:e.map(a=>r.jsxs("div",{className:"border-2 border-yellow-500 bg-black p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono text-sm mb-1",children:a.externalIdentity.displayName||a.externalIdentity.email}),r.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[a.externalIdentity.provider.toUpperCase()," "," ",a.suggestedUser.email]}),r.jsxs("div",{className:"text-xs text-yellow-500 font-mono mt-1",children:["CONFIDENCE: ",Math.round(a.confidenceScore*100),"%"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t(a.id),className:"px-4 py-2 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(Ka,{className:"w-4 h-4"}),"ACCEPT"]}),r.jsxs("button",{onClick:()=>n(a.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 font-mono font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(OO,{className:"w-4 h-4"}),"REJECT"]})]})]},a.id))})]})}function SD({identity:e,onLink:t,onUnlink:n}){const a={slack:df,google:cf,notion:lf}[e.provider],s={linked:"border-green-500 text-green-500",unlinked:"border-red-500 text-red-500",suggested:"border-yellow-500 text-yellow-500"};return r.jsxs("tr",{className:"border-b-2 border-gray-800 hover:bg-gray-900 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{className:"font-mono text-xs uppercase",children:e.provider})]})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-mono text-sm",children:e.displayName||e.email||"Unknown"}),e.email&&e.displayName&&r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.email})]}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`inline-block px-3 py-1 border-2 ${s[e.linkStatus]} font-mono text-xs font-bold uppercase`,children:e.linkStatus})}),r.jsx("td",{className:"p-4",children:e.linkedUser?r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-sm",children:e.linkedUser.displayName}),r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.linkedUser.email})]}):r.jsx("span",{className:"font-mono text-xs text-gray-600",children:"NOT LINKED"})}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("div",{className:"flex justify-end gap-2",children:e.linkStatus==="linked"?r.jsxs("button",{onClick:n,className:"px-3 py-1.5 border-2 border-red-500 text-red-500 font-mono text-xs font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(OL,{className:"w-3 h-3"}),"UNLINK"]}):r.jsxs("button",{onClick:t,className:"px-3 py-1.5 border-2 border-green-500 text-green-500 font-mono text-xs font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(gj,{className:"w-3 h-3"}),"LINK"]})})})]})}function kD({identity:e,linkUserId:t,setLinkUserId:n,onLink:a,onClose:s,isLoading:i}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"border-4 border-white bg-black p-8 max-w-lg w-full",children:[r.jsx("h2",{className:"text-3xl font-black uppercase mb-6",children:"LINK IDENTITY"}),r.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-700",children:[r.jsx("div",{className:"font-mono text-sm mb-2",children:e.displayName||e.email||"Unknown"}),r.jsx("div",{className:"font-mono text-xs text-gray-500 uppercase",children:e.provider})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"User ID"}),r.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:"Enter user ID...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500",autoFocus:!0})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:a,disabled:i,className:"flex-1 px-6 py-3 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:i?"LINKING...":"LINK"}),r.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-6 py-3 border-2 border-white text-white font-mono font-bold hover:bg-white hover:text-black transition-colors disabled:opacity-30",children:"CANCEL"})]})]})})}function Io(e){return e.status===404||e.status===502}function Jc({title:e,description:t,onRetry:n}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("div",{className:"text-4xl mb-4",children:r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),r.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),n&&r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function TO(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=TO(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function qe(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=TO(e))&&(a&&(a+=" "),a+=t);return a}var Zp,mS;function Sr(){if(mS)return Zp;mS=1;var e=Array.isArray;return Zp=e,Zp}var ex,pS;function RO(){if(pS)return ex;pS=1;var e=typeof yu=="object"&&yu&&yu.Object===Object&&yu;return ex=e,ex}var tx,xS;function Mn(){if(xS)return tx;xS=1;var e=RO(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return tx=n,tx}var rx,gS;function Zc(){if(gS)return rx;gS=1;var e=Mn(),t=e.Symbol;return rx=t,rx}var nx,yS;function CD(){if(yS)return nx;yS=1;var e=Zc(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var d=n.call(l,s),u=l[s];try{l[s]=void 0;var h=!0}catch{}var p=a.call(l);return h&&(d?l[s]=u:delete l[s]),p}return nx=i,nx}var ax,vS;function AD(){if(vS)return ax;vS=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return ax=n,ax}var sx,bS;function da(){if(bS)return sx;bS=1;var e=Zc(),t=CD(),n=AD(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(d){return d==null?d===void 0?s:a:i&&i in Object(d)?t(d):n(d)}return sx=l,sx}var ix,jS;function ua(){if(jS)return ix;jS=1;function e(t){return t!=null&&typeof t=="object"}return ix=e,ix}var ox,wS;function $o(){if(wS)return ox;wS=1;var e=da(),t=ua(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==n}return ox=a,ox}var lx,NS;function yj(){if(NS)return lx;NS=1;var e=Sr(),t=$o(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||l!=null&&i in Object(l)}return lx=s,lx}var cx,SS;function rs(){if(SS)return cx;SS=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return cx=e,cx}var dx,kS;function vj(){if(kS)return dx;kS=1;var e=da(),t=rs(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(d){if(!t(d))return!1;var u=e(d);return u==a||u==s||u==n||u==i}return dx=l,dx}var ux,CS;function PD(){if(CS)return ux;CS=1;var e=Mn(),t=e["__core-js_shared__"];return ux=t,ux}var hx,AS;function OD(){if(AS)return hx;AS=1;var e=PD(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return hx=n,hx}var fx,PS;function MO(){if(PS)return fx;PS=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return fx=n,fx}var mx,OS;function ED(){if(OS)return mx;OS=1;var e=vj(),t=OD(),n=rs(),a=MO(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,h=d.hasOwnProperty,p=RegExp("^"+u.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var j=e(g)?p:i;return j.test(a(g))}return mx=m,mx}var px,ES;function _D(){if(ES)return px;ES=1;function e(t,n){return t==null?void 0:t[n]}return px=e,px}var xx,_S;function ei(){if(_S)return xx;_S=1;var e=ED(),t=_D();function n(a,s){var i=t(a,s);return e(i)?i:void 0}return xx=n,xx}var gx,TS;function uf(){if(TS)return gx;TS=1;var e=ei(),t=e(Object,"create");return gx=t,gx}var yx,RS;function TD(){if(RS)return yx;RS=1;var e=uf();function t(){this.__data__=e?e(null):{},this.size=0}return yx=t,yx}var vx,MS;function RD(){if(MS)return vx;MS=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return vx=e,vx}var bx,IS;function MD(){if(IS)return bx;IS=1;var e=uf(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var l=this.__data__;if(e){var d=l[i];return d===t?void 0:d}return a.call(l,i)?l[i]:void 0}return bx=s,bx}var jx,$S;function ID(){if($S)return jx;$S=1;var e=uf(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return jx=a,jx}var wx,LS;function $D(){if(LS)return wx;LS=1;var e=uf(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return wx=n,wx}var Nx,DS;function LD(){if(DS)return Nx;DS=1;var e=TD(),t=RD(),n=MD(),a=ID(),s=$D();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Nx=i,Nx}var Sx,FS;function DD(){if(FS)return Sx;FS=1;function e(){this.__data__=[],this.size=0}return Sx=e,Sx}var kx,zS;function bj(){if(zS)return kx;zS=1;function e(t,n){return t===n||t!==t&&n!==n}return kx=e,kx}var Cx,qS;function hf(){if(qS)return Cx;qS=1;var e=bj();function t(n,a){for(var s=n.length;s--;)if(e(n[s][0],a))return s;return-1}return Cx=t,Cx}var Ax,BS;function FD(){if(BS)return Ax;BS=1;var e=hf(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var d=i.length-1;return l==d?i.pop():n.call(i,l,1),--this.size,!0}return Ax=a,Ax}var Px,US;function zD(){if(US)return Px;US=1;var e=hf();function t(n){var a=this.__data__,s=e(a,n);return s<0?void 0:a[s][1]}return Px=t,Px}var Ox,WS;function qD(){if(WS)return Ox;WS=1;var e=hf();function t(n){return e(this.__data__,n)>-1}return Ox=t,Ox}var Ex,HS;function BD(){if(HS)return Ex;HS=1;var e=hf();function t(n,a){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return Ex=t,Ex}var _x,KS;function ff(){if(KS)return _x;KS=1;var e=DD(),t=FD(),n=zD(),a=qD(),s=BD();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,_x=i,_x}var Tx,GS;function jj(){if(GS)return Tx;GS=1;var e=ei(),t=Mn(),n=e(t,"Map");return Tx=n,Tx}var Rx,VS;function UD(){if(VS)return Rx;VS=1;var e=LD(),t=ff(),n=jj();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Rx=a,Rx}var Mx,QS;function WD(){if(QS)return Mx;QS=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Mx=e,Mx}var Ix,YS;function mf(){if(YS)return Ix;YS=1;var e=WD();function t(n,a){var s=n.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return Ix=t,Ix}var $x,XS;function HD(){if(XS)return $x;XS=1;var e=mf();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return $x=t,$x}var Lx,JS;function KD(){if(JS)return Lx;JS=1;var e=mf();function t(n){return e(this,n).get(n)}return Lx=t,Lx}var Dx,ZS;function GD(){if(ZS)return Dx;ZS=1;var e=mf();function t(n){return e(this,n).has(n)}return Dx=t,Dx}var Fx,e5;function VD(){if(e5)return Fx;e5=1;var e=mf();function t(n,a){var s=e(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return Fx=t,Fx}var zx,t5;function wj(){if(t5)return zx;t5=1;var e=UD(),t=HD(),n=KD(),a=GD(),s=VD();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,zx=i,zx}var qx,r5;function IO(){if(r5)return qx;r5=1;var e=wj(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,d=s?s.apply(this,l):l[0],u=i.cache;if(u.has(d))return u.get(d);var h=a.apply(this,l);return i.cache=u.set(d,h)||u,h};return i.cache=new(n.Cache||e),i}return n.Cache=e,qx=n,qx}var Bx,n5;function QD(){if(n5)return Bx;n5=1;var e=IO(),t=500;function n(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return Bx=n,Bx}var Ux,a5;function YD(){if(a5)return Ux;a5=1;var e=QD(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,d,u,h){i.push(u?h.replace(n,"$1"):d||l)}),i});return Ux=a,Ux}var Wx,s5;function Nj(){if(s5)return Wx;s5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return Wx=e,Wx}var Hx,i5;function XD(){if(i5)return Hx;i5=1;var e=Zc(),t=Nj(),n=Sr(),a=$o(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(d){if(typeof d=="string")return d;if(n(d))return t(d,l)+"";if(a(d))return i?i.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Hx=l,Hx}var Kx,o5;function $O(){if(o5)return Kx;o5=1;var e=XD();function t(n){return n==null?"":e(n)}return Kx=t,Kx}var Gx,l5;function LO(){if(l5)return Gx;l5=1;var e=Sr(),t=yj(),n=YD(),a=$O();function s(i,l){return e(i)?i:t(i,l)?[i]:n(a(i))}return Gx=s,Gx}var Vx,c5;function pf(){if(c5)return Vx;c5=1;var e=$o();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return Vx=t,Vx}var Qx,d5;function Sj(){if(d5)return Qx;d5=1;var e=LO(),t=pf();function n(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return Qx=n,Qx}var Yx,u5;function DO(){if(u5)return Yx;u5=1;var e=Sj();function t(n,a,s){var i=n==null?void 0:e(n,a);return i===void 0?s:i}return Yx=t,Yx}var JD=DO();const Mr=Ze(JD);var Xx,h5;function ZD(){if(h5)return Xx;h5=1;function e(t){return t==null}return Xx=e,Xx}var e9=ZD();const ze=Ze(e9);var Jx,f5;function t9(){if(f5)return Jx;f5=1;var e=da(),t=Sr(),n=ua(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==a}return Jx=s,Jx}var r9=t9();const Ks=Ze(r9);var n9=vj();const Fe=Ze(n9);var a9=rs();const Lo=Ze(a9);var Zx={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function s9(){if(m5)return Ye;m5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case e:switch(x=x.type,x){case n:case s:case a:case h:case p:return x;default:switch(x=x&&x.$$typeof,x){case d:case l:case u:case g:case m:case i:return x;default:return S}}case t:return S}}}return Ye.ContextConsumer=l,Ye.ContextProvider=i,Ye.Element=e,Ye.ForwardRef=u,Ye.Fragment=n,Ye.Lazy=g,Ye.Memo=m,Ye.Portal=t,Ye.Profiler=s,Ye.StrictMode=a,Ye.Suspense=h,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(x){return w(x)===l},Ye.isContextProvider=function(x){return w(x)===i},Ye.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Ye.isForwardRef=function(x){return w(x)===u},Ye.isFragment=function(x){return w(x)===n},Ye.isLazy=function(x){return w(x)===g},Ye.isMemo=function(x){return w(x)===m},Ye.isPortal=function(x){return w(x)===t},Ye.isProfiler=function(x){return w(x)===s},Ye.isStrictMode=function(x){return w(x)===a},Ye.isSuspense=function(x){return w(x)===h},Ye.isSuspenseList=function(x){return w(x)===p},Ye.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===h||x===p||x===j||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===m||x.$$typeof===i||x.$$typeof===l||x.$$typeof===u||x.$$typeof===v||x.getModuleId!==void 0)},Ye.typeOf=w,Ye}var p5;function i9(){return p5||(p5=1,Zx.exports=s9()),Zx.exports}var o9=i9(),eg,x5;function FO(){if(x5)return eg;x5=1;var e=da(),t=ua(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==n}return eg=a,eg}var tg,g5;function l9(){if(g5)return tg;g5=1;var e=FO();function t(n){return e(n)&&n!=+n}return tg=t,tg}var c9=l9();const ed=Ze(c9);var d9=FO();const u9=Ze(d9);var cr=function(t){return t===0?0:t>0?1:-1},As=function(t){return Ks(t)&&t.indexOf("%")===t.length-1},ge=function(t){return u9(t)&&!ed(t)},h9=function(t){return ze(t)},Dt=function(t){return ge(t)||Ks(t)},f9=0,Do=function(t){var n=++f9;return"".concat(t||"").concat(n)},dr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Ks(t))return a;var i;if(As(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return ed(i)&&(i=a),s&&i>n&&(i=n),i},Ia=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},m9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Tr=function(t,n){return ge(t)&&ge(n)?function(a){return t+a*(n-t)}:function(){return n}};function Ju(e,t,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Mr(a,t))===n})}var p9=function(t,n){return ge(t)&&ge(n)?t-n:Ks(t)&&Ks(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function qi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}var x9=["viewBox","children"],g9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y5=["points","pathLength"],rg={svg:x9,polygon:y5,polyline:y5},kj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zu=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Lo(a))return null;var s={};return Object.keys(a).forEach(function(i){kj.includes(i)&&(s[i]=n||function(l){return a[i](a,l)})}),s},y9=function(t,n,a){return function(s){return t(n,a,s),null}},Gs=function(t,n,a){if(!Lo(t)||_v(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];kj.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=y9(l,n,a))}),s},v9=["children"],b9=["children"];function v5(e,t){if(e==null)return{};var n=j9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function j9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}var b5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ra=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},j5=null,ng=null,Cj=function e(t){if(t===j5&&Array.isArray(ng))return ng;var n=[];return b.Children.forEach(t,function(a){ze(a)||(o9.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),ng=n,j5=t,n};function Ir(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return ra(s)}):a=[ra(t)],Cj(e).forEach(function(s){var i=Mr(s,"type.displayName")||Mr(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function _r(e,t){var n=Ir(e,t);return n&&n[0]}var w5=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!ge(a)||a<=0||!ge(s)||s<=0)},w9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],N9=function(t){return t&&t.type&&Ks(t.type)&&w9.indexOf(t.type)>=0},S9=function(t){return t&&Tv(t)==="object"&&"clipDot"in t},k9=function(t,n,a,s){var i,l=(i=rg==null?void 0:rg[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Fe(t)&&(s&&l.includes(n)||g9.includes(n))||a&&kj.includes(n)},Re=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Lo(s))return null;var i={};return Object.keys(s).forEach(function(l){var d;k9((d=s)===null||d===void 0?void 0:d[l],l,n,a)&&(i[l]=s[l])}),i},Rv=function e(t,n){if(t===n)return!0;var a=b.Children.count(t);if(a!==b.Children.count(n))return!1;if(a===0)return!0;if(a===1)return N5(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!N5(i,l))return!1}return!0},N5=function(t,n){if(ze(t)&&ze(n))return!0;if(!ze(t)&&!ze(n)){var a=t.props||{},s=a.children,i=v5(a,v9),l=n.props||{},d=l.children,u=v5(l,b9);return s&&d?qi(i,u)&&Rv(s,d):!s&&!d?qi(i,u):!1}return!1},S5=function(t,n){var a=[],s={};return Cj(t).forEach(function(i,l){if(N9(i))a.push(i);else if(i){var d=ra(i.type),u=n[d]||{},h=u.handler,p=u.once;if(h&&(!p||!s[d])){var m=h(i,d,l);a.push(m),s[d]=!0}}}),a},C9=function(t){var n=t&&t.type;return n&&b5[n]?b5[n]:null},A9=function(t,n){return Cj(n).indexOf(t)},P9=["children","width","height","viewBox","className","style","title","desc"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mv.apply(this,arguments)}function O9(e,t){if(e==null)return{};var n=E9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function E9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Iv(e){var t=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,d=e.title,u=e.desc,h=O9(e,P9),p=s||{width:n,height:a,x:0,y:0},m=qe("recharts-surface",i);return Y.createElement("svg",Mv({},Re(h,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Y.createElement("title",null,d),Y.createElement("desc",null,u),t)}var _9=["children","className"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$v.apply(this,arguments)}function T9(e,t){if(e==null)return{};var n=R9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function R9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var Ge=Y.forwardRef(function(e,t){var n=e.children,a=e.className,s=T9(e,_9),i=qe("recharts-layer",a);return Y.createElement("g",$v({className:i},Re(s,!0),{ref:t}),n)}),pn=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},ag,k5;function M9(){if(k5)return ag;k5=1;function e(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+n];return l}return ag=e,ag}var sg,C5;function I9(){if(C5)return sg;C5=1;var e=M9();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:e(n,a,s)}return sg=t,sg}var ig,A5;function zO(){if(A5)return ig;A5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="\\u200d",d=RegExp("["+l+e+s+i+"]");function u(h){return d.test(h)}return ig=u,ig}var og,P5;function $9(){if(P5)return og;P5=1;function e(t){return t.split("")}return og=e,og}var lg,O5;function L9(){if(O5)return lg;O5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="["+e+"]",d="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+d+"|"+u+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",v=h+"?",w="["+i+"]?",x="(?:"+j+"(?:"+[p,m,g].join("|")+")"+w+v+")*",S=w+v+x,P="(?:"+[p+d+"?",d,m,g,l].join("|")+")",O=RegExp(u+"(?="+u+")|"+P+S,"g");function N(C){return C.match(O)||[]}return lg=N,lg}var cg,E5;function D9(){if(E5)return cg;E5=1;var e=$9(),t=zO(),n=L9();function a(s){return t(s)?n(s):e(s)}return cg=a,cg}var dg,_5;function F9(){if(_5)return dg;_5=1;var e=I9(),t=zO(),n=D9(),a=$O();function s(i){return function(l){l=a(l);var d=t(l)?n(l):void 0,u=d?d[0]:l.charAt(0),h=d?e(d,1).join(""):l.slice(1);return u[i]()+h}}return dg=s,dg}var ug,T5;function z9(){if(T5)return ug;T5=1;var e=F9(),t=e("toUpperCase");return ug=t,ug}var q9=z9();const xf=Ze(q9);function it(e){return function(){return e}}const qO=Math.cos,eh=Math.sin,gn=Math.sqrt,th=Math.PI,gf=2*th,Lv=Math.PI,Dv=2*Lv,ws=1e-6,B9=Dv-ws;function BO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function U9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BO;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class W9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BO:U9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,l){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,d=this._y1,u=a-t,h=s-n,p=l-t,m=d-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>ws)if(!(Math.abs(m*u-h*p)>ws)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let j=a-l,v=s-d,w=u*u+h*h,x=j*j+v*v,S=Math.sqrt(w),P=Math.sqrt(g),O=i*Math.tan((Lv-Math.acos((w+g-x)/(2*S*P)))/2),N=O/P,C=O/S;Math.abs(N-1)>ws&&this._append`L${t+N*p},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*j>p*v)},${this._x1=t+C*u},${this._y1=n+C*h}`}}arc(t,n,a,s,i,l){if(t=+t,n=+n,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),u=a*Math.sin(s),h=t+d,p=n+u,m=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ws||Math.abs(this._y1-p)>ws)&&this._append`L${h},${p}`,a&&(g<0&&(g=g%Dv+Dv),g>B9?this._append`A${a},${a},0,1,${m},${t-d},${n-u}A${a},${a},0,1,${m},${this._x1=h},${this._y1=p}`:g>ws&&this._append`A${a},${a},0,${+(g>=Lv)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new W9(t)}function Pj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UO(e){this._context=e}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yf(e){return new UO(e)}function WO(e){return e[0]}function HO(e){return e[1]}function KO(e,t){var n=it(!0),a=null,s=yf,i=null,l=Aj(d);e=typeof e=="function"?e:e===void 0?WO:it(e),t=typeof t=="function"?t:t===void 0?HO:it(t);function d(u){var h,p=(u=Pj(u)).length,m,g=!1,j;for(a==null&&(i=s(j=l())),h=0;h<=p;++h)!(h<p&&n(m=u[h],h,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,h,u),+t(m,h,u));if(j)return i=null,j+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),d):t},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:it(!!u),d):n},d.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),d):s},d.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),d):a},d}function ku(e,t,n){var a=null,s=it(!0),i=null,l=yf,d=null,u=Aj(h);e=typeof e=="function"?e:e===void 0?WO:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?HO:it(+n);function h(m){var g,j,v,w=(m=Pj(m)).length,x,S=!1,P,O=new Array(w),N=new Array(w);for(i==null&&(d=l(P=u())),g=0;g<=w;++g){if(!(g<w&&s(x=m[g],g,m))===S)if(S=!S)j=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),v=g-1;v>=j;--v)d.point(O[v],N[v]);d.lineEnd(),d.areaEnd()}S&&(O[g]=+e(x,g,m),N[g]=+t(x,g,m),d.point(a?+a(x,g,m):O[g],n?+n(x,g,m):N[g]))}if(P)return d=null,P+""||null}function p(){return KO().defined(s).curve(l).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),a=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),h):e},h.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:it(+m),h):a},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(m){return arguments.length?(s=typeof m=="function"?m:it(!!m),h):s},h.curve=function(m){return arguments.length?(l=m,i!=null&&(d=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=d=null:d=l(i=m),h):i},h}class GO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function H9(e){return new GO(e,!0)}function K9(e){return new GO(e,!1)}const Oj={draw(e,t){const n=gn(t/th);e.moveTo(n,0),e.arc(0,0,n,0,gf)}},G9={draw(e,t){const n=gn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VO=gn(1/3),V9=VO*2,Q9={draw(e,t){const n=gn(t/V9),a=n*VO;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},Y9={draw(e,t){const n=gn(t),a=-n/2;e.rect(a,a,n,n)}},X9=.8908130915292852,QO=eh(th/10)/eh(7*th/10),J9=eh(gf/10)*QO,Z9=-qO(gf/10)*QO,eF={draw(e,t){const n=gn(t*X9),a=J9*n,s=Z9*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const l=gf*i/5,d=qO(l),u=eh(l);e.lineTo(u*n,-d*n),e.lineTo(d*a-u*s,u*a+d*s)}e.closePath()}},hg=gn(3),tF={draw(e,t){const n=-gn(t/(hg*3));e.moveTo(0,n*2),e.lineTo(-hg*n,-n),e.lineTo(hg*n,-n),e.closePath()}},Br=-.5,Ur=gn(3)/2,Fv=1/gn(12),rF=(Fv/2+1)*3,nF={draw(e,t){const n=gn(t/rF),a=n/2,s=n*Fv,i=a,l=n*Fv+n,d=-i,u=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(d,u),e.lineTo(Br*a-Ur*s,Ur*a+Br*s),e.lineTo(Br*i-Ur*l,Ur*i+Br*l),e.lineTo(Br*d-Ur*u,Ur*d+Br*u),e.lineTo(Br*a+Ur*s,Br*s-Ur*a),e.lineTo(Br*i+Ur*l,Br*l-Ur*i),e.lineTo(Br*d+Ur*u,Br*u-Ur*d),e.closePath()}};function aF(e,t){let n=null,a=Aj(s);e=typeof e=="function"?e:it(e||Oj),t=typeof t=="function"?t:it(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:it(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:it(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function rh(){}function nh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sF(e){return new YO(e)}function XO(e){this._context=e}XO.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iF(e){return new XO(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oF(e){return new JO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lF(e){return new ZO(e)}function R5(e){return e<0?-1:1}function M5(e,t,n){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(n-e._y1)/(s||a<0&&-0),d=(i*s+l*a)/(a+s);return(R5(i)+R5(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(d))||0}function I5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fg(e,t,n){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,d=(i-a)/3;e._context.bezierCurveTo(a+d,s+d*t,i-d,l-d*n,i,l)}function ah(e){this._context=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,I5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,I5(this,n=M5(this,e,t)),n);break;default:fg(this,this._t0,n=M5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function eE(e){this._context=new tE(e)}(eE.prototype=Object.create(ah.prototype)).point=function(e,t){ah.prototype.point.call(this,t,e)};function tE(e){this._context=e}tE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,i){this._context.bezierCurveTo(t,e,a,n,i,s)}};function cF(e){return new ah(e)}function dF(e){return new eE(e)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=$5(e),s=$5(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $5(e){var t,n=e.length-1,a,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function uF(e){return new rE(e)}function vf(e,t){this._context=e,this._t=t}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hF(e){return new vf(e,.5)}function fF(e){return new vf(e,0)}function mF(e){return new vf(e,1)}function ao(e,t){if((l=e.length)>1)for(var n=1,a,s,i=e[t[0]],l,d=i.length;n<l;++n)for(s=i,i=e[t[n]],a=0;a<d;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function zv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function pF(e,t){return e[t]}function xF(e){const t=[];return t.key=e,t}function gF(){var e=it([]),t=zv,n=ao,a=pF;function s(i){var l=Array.from(e.apply(this,arguments),xF),d,u=l.length,h=-1,p;for(const m of i)for(d=0,++h;d<u;++d)(l[d][h]=[0,+a(m,l[d].key,h,i)]).data=m;for(d=0,p=Pj(t(l));d<u;++d)l[p[d]].index=d;return n(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:it(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:it(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?zv:typeof i=="function"?i:it(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??ao,s):n},s}function yF(e,t){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<a;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<a;++n)e[n][s][1]/=l}ao(e,t)}}function vF(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,i=a.length;n<i;++n){for(var l=0,d=0;l<s;++l)d+=e[l][n][1]||0;a[n][1]+=a[n][0]=-d/2}ao(e,t)}}function bF(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,i,l;a<i;++a){for(var d=0,u=0,h=0;d<l;++d){for(var p=e[t[d]],m=p[a][1]||0,g=p[a-1][1]||0,j=(m-g)/2,v=0;v<d;++v){var w=e[t[v]],x=w[a][1]||0,S=w[a-1][1]||0;j+=x-S}u+=m,h+=j*m}s[a-1][1]+=s[a-1][0]=n,u&&(n-=h/u)}s[a-1][1]+=s[a-1][0]=n,ao(e,t)}}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var jF=["type","size","sizeType"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qv.apply(this,arguments)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function D5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(a){wF(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wF(e,t,n){return t=NF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NF(e){var t=SF(e,"string");return ic(t)=="symbol"?t:t+""}function SF(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kF(e,t){if(e==null)return{};var n=CF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CF(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var nE={symbolCircle:Oj,symbolCross:G9,symbolDiamond:Q9,symbolSquare:Y9,symbolStar:eF,symbolTriangle:tF,symbolWye:nF},AF=Math.PI/180,PF=function(t){var n="symbol".concat(xf(t));return nE[n]||Oj},OF=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*AF;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EF=function(t,n){nE["symbol".concat(xf(t))]=n},Ej=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,d=l===void 0?"area":l,u=kF(t,jF),h=D5(D5({},u),{},{type:a,size:i,sizeType:d}),p=function(){var x=PF(a),S=aF().type(x).size(OF(i,d,a));return S()},m=h.className,g=h.cx,j=h.cy,v=Re(h,!0);return g===+g&&j===+j&&i===+i?Y.createElement("path",qv({},v,{className:qe("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(j,")"),d:p()})):null};Ej.registerSymbol=EF;function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bv.apply(this,arguments)}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(a){oc(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sE(a.key),a)}}function MF(e,t,n){return t&&RF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IF(e,t,n){return t=sh(t),$F(e,aE()?Reflect.construct(t,n||[],sh(e).constructor):t.apply(e,n))}function $F(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LF(e)}function LF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aE=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(e)}function DF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uv(e,t)}function Uv(e,t){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Uv(e,t)}function oc(e,t,n){return t=sE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sE(e){var t=FF(e,"string");return so(t)=="symbol"?t:t+""}function FF(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(so(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=32,_j=(function(e){function t(){return TF(this,t),IF(this,t,arguments)}return DF(t,e),MF(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Wr/2,l=Wr/6,d=Wr/3,u=a.inactive?s:a.color;if(a.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(d,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*d,",").concat(i,`
            H`).concat(Wr,"M").concat(2*d,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(d,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Y.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(a.legendIcon)){var h=_F({},a);return delete h.legendIcon,Y.cloneElement(a.legendIcon,h)}return Y.createElement(Ej,{fill:u,cx:i,cy:i,size:Wr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,d=s.layout,u=s.formatter,h=s.inactiveColor,p={x:0,y:0,width:Wr,height:Wr},m={display:d==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,v){var w=j.formatter||u,x=qe(oc(oc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",j.inactive));if(j.type==="none")return null;var S=Fe(j.value)?null:j.value;pn(!Fe(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=j.inactive?h:j.color;return Y.createElement("li",Bv({className:x,style:m,key:"legend-item-".concat(v)},Gs(a.props,j,v)),Y.createElement(Iv,{width:l,height:l,viewBox:p,style:g},a.renderIcon(j)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},w?w(S,j,v):S))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var d={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(b.PureComponent);oc(_j,"displayName","Legend");oc(_j,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mg,z5;function zF(){if(z5)return mg;z5=1;var e=ff();function t(){this.__data__=new e,this.size=0}return mg=t,mg}var pg,q5;function qF(){if(q5)return pg;q5=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return pg=e,pg}var xg,B5;function BF(){if(B5)return xg;B5=1;function e(t){return this.__data__.get(t)}return xg=e,xg}var gg,U5;function UF(){if(U5)return gg;U5=1;function e(t){return this.__data__.has(t)}return gg=e,gg}var yg,W5;function WF(){if(W5)return yg;W5=1;var e=ff(),t=jj(),n=wj(),a=200;function s(i,l){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!t||u.length<a-1)return u.push([i,l]),this.size=++d.size,this;d=this.__data__=new n(u)}return d.set(i,l),this.size=d.size,this}return yg=s,yg}var vg,H5;function iE(){if(H5)return vg;H5=1;var e=ff(),t=zF(),n=qF(),a=BF(),s=UF(),i=WF();function l(d){var u=this.__data__=new e(d);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,vg=l,vg}var bg,K5;function HF(){if(K5)return bg;K5=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return bg=t,bg}var jg,G5;function KF(){if(G5)return jg;G5=1;function e(t){return this.__data__.has(t)}return jg=e,jg}var wg,V5;function oE(){if(V5)return wg;V5=1;var e=wj(),t=HF(),n=KF();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,wg=a,wg}var Ng,Q5;function lE(){if(Q5)return Ng;Q5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return Ng=e,Ng}var Sg,Y5;function cE(){if(Y5)return Sg;Y5=1;function e(t,n){return t.has(n)}return Sg=e,Sg}var kg,X5;function dE(){if(X5)return kg;X5=1;var e=oE(),t=lE(),n=cE(),a=1,s=2;function i(l,d,u,h,p,m){var g=u&a,j=l.length,v=d.length;if(j!=v&&!(g&&v>j))return!1;var w=m.get(l),x=m.get(d);if(w&&x)return w==d&&x==l;var S=-1,P=!0,O=u&s?new e:void 0;for(m.set(l,d),m.set(d,l);++S<j;){var N=l[S],C=d[S];if(h)var A=g?h(C,N,S,d,l,m):h(N,C,S,l,d,m);if(A!==void 0){if(A)continue;P=!1;break}if(O){if(!t(d,function(E,T){if(!n(O,T)&&(N===E||p(N,E,u,h,m)))return O.push(T)})){P=!1;break}}else if(!(N===C||p(N,C,u,h,m))){P=!1;break}}return m.delete(l),m.delete(d),P}return kg=i,kg}var Cg,J5;function GF(){if(J5)return Cg;J5=1;var e=Mn(),t=e.Uint8Array;return Cg=t,Cg}var Ag,Z5;function VF(){if(Z5)return Ag;Z5=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return Ag=e,Ag}var Pg,ek;function Tj(){if(ek)return Pg;ek=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return Pg=e,Pg}var Og,tk;function QF(){if(tk)return Og;tk=1;var e=Zc(),t=GF(),n=bj(),a=dE(),s=VF(),i=Tj(),l=1,d=2,u="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",j="[object RegExp]",v="[object Set]",w="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",P="[object DataView]",O=e?e.prototype:void 0,N=O?O.valueOf:void 0;function C(A,E,T,R,I,M,$){switch(T){case P:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case S:return!(A.byteLength!=E.byteLength||!M(new t(A),new t(E)));case u:case h:case g:return n(+A,+E);case p:return A.name==E.name&&A.message==E.message;case j:case w:return A==E+"";case m:var H=s;case v:var V=R&l;if(H||(H=i),A.size!=E.size&&!V)return!1;var q=$.get(A);if(q)return q==E;R|=d,$.set(A,E);var B=a(H(A),H(E),R,I,M,$);return $.delete(A),B;case x:if(N)return N.call(A)==N.call(E)}return!1}return Og=C,Og}var Eg,rk;function uE(){if(rk)return Eg;rk=1;function e(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return Eg=e,Eg}var _g,nk;function YF(){if(nk)return _g;nk=1;var e=uE(),t=Sr();function n(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return _g=n,_g}var Tg,ak;function XF(){if(ak)return Tg;ak=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var d=t[a];n(d,a,t)&&(l[i++]=d)}return l}return Tg=e,Tg}var Rg,sk;function JF(){if(sk)return Rg;sk=1;function e(){return[]}return Rg=e,Rg}var Mg,ik;function ZF(){if(ik)return Mg;ik=1;var e=XF(),t=JF(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(d){return a.call(l,d)}))}:t;return Mg=i,Mg}var Ig,ok;function ez(){if(ok)return Ig;ok=1;function e(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return Ig=e,Ig}var $g,lk;function tz(){if(lk)return $g;lk=1;var e=da(),t=ua(),n="[object Arguments]";function a(s){return t(s)&&e(s)==n}return $g=a,$g}var Lg,ck;function Rj(){if(ck)return Lg;ck=1;var e=tz(),t=ua(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return Lg=i,Lg}var Kl={exports:{}},Dg,dk;function rz(){if(dk)return Dg;dk=1;function e(){return!1}return Dg=e,Dg}Kl.exports;var uk;function hE(){return uk||(uk=1,(function(e,t){var n=Mn(),a=rz(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,d=l?n.Buffer:void 0,u=d?d.isBuffer:void 0,h=u||a;e.exports=h})(Kl,Kl.exports)),Kl.exports}var Fg,hk;function Mj(){if(hk)return Fg;hk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return Fg=n,Fg}var zg,fk;function Ij(){if(fk)return zg;fk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return zg=t,zg}var qg,mk;function nz(){if(mk)return qg;mk=1;var e=da(),t=Ij(),n=ua(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",d="[object Error]",u="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",j="[object Set]",v="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",M={};M[P]=M[O]=M[N]=M[C]=M[A]=M[E]=M[T]=M[R]=M[I]=!0,M[a]=M[s]=M[x]=M[i]=M[S]=M[l]=M[d]=M[u]=M[h]=M[p]=M[m]=M[g]=M[j]=M[v]=M[w]=!1;function $(H){return n(H)&&t(H.length)&&!!M[e(H)]}return qg=$,qg}var Bg,pk;function fE(){if(pk)return Bg;pk=1;function e(t){return function(n){return t(n)}}return Bg=e,Bg}var Gl={exports:{}};Gl.exports;var xk;function az(){return xk||(xk=1,(function(e,t){var n=RO(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&n.process,d=(function(){try{var u=s&&s.require&&s.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}})();e.exports=d})(Gl,Gl.exports)),Gl.exports}var Ug,gk;function mE(){if(gk)return Ug;gk=1;var e=nz(),t=fE(),n=az(),a=n&&n.isTypedArray,s=a?t(a):e;return Ug=s,Ug}var Wg,yk;function sz(){if(yk)return Wg;yk=1;var e=ez(),t=Rj(),n=Sr(),a=hE(),s=Mj(),i=mE(),l=Object.prototype,d=l.hasOwnProperty;function u(h,p){var m=n(h),g=!m&&t(h),j=!m&&!g&&a(h),v=!m&&!g&&!j&&i(h),w=m||g||j||v,x=w?e(h.length,String):[],S=x.length;for(var P in h)(p||d.call(h,P))&&!(w&&(P=="length"||j&&(P=="offset"||P=="parent")||v&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||s(P,S)))&&x.push(P);return x}return Wg=u,Wg}var Hg,vk;function iz(){if(vk)return Hg;vk=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||e;return n===s}return Hg=t,Hg}var Kg,bk;function pE(){if(bk)return Kg;bk=1;function e(t,n){return function(a){return t(n(a))}}return Kg=e,Kg}var Gg,jk;function oz(){if(jk)return Gg;jk=1;var e=pE(),t=e(Object.keys,Object);return Gg=t,Gg}var Vg,wk;function lz(){if(wk)return Vg;wk=1;var e=iz(),t=oz(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var d in Object(i))a.call(i,d)&&d!="constructor"&&l.push(d);return l}return Vg=s,Vg}var Qg,Nk;function td(){if(Nk)return Qg;Nk=1;var e=vj(),t=Ij();function n(a){return a!=null&&t(a.length)&&!e(a)}return Qg=n,Qg}var Yg,Sk;function bf(){if(Sk)return Yg;Sk=1;var e=sz(),t=lz(),n=td();function a(s){return n(s)?e(s):t(s)}return Yg=a,Yg}var Xg,kk;function cz(){if(kk)return Xg;kk=1;var e=YF(),t=ZF(),n=bf();function a(s){return e(s,n,t)}return Xg=a,Xg}var Jg,Ck;function dz(){if(Ck)return Jg;Ck=1;var e=cz(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,l,d,u,h,p){var m=d&t,g=e(i),j=g.length,v=e(l),w=v.length;if(j!=w&&!m)return!1;for(var x=j;x--;){var S=g[x];if(!(m?S in l:a.call(l,S)))return!1}var P=p.get(i),O=p.get(l);if(P&&O)return P==l&&O==i;var N=!0;p.set(i,l),p.set(l,i);for(var C=m;++x<j;){S=g[x];var A=i[S],E=l[S];if(u)var T=m?u(E,A,S,l,i,p):u(A,E,S,i,l,p);if(!(T===void 0?A===E||h(A,E,d,u,p):T)){N=!1;break}C||(C=S=="constructor")}if(N&&!C){var R=i.constructor,I=l.constructor;R!=I&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof I=="function"&&I instanceof I)&&(N=!1)}return p.delete(i),p.delete(l),N}return Jg=s,Jg}var Zg,Ak;function uz(){if(Ak)return Zg;Ak=1;var e=ei(),t=Mn(),n=e(t,"DataView");return Zg=n,Zg}var e0,Pk;function hz(){if(Pk)return e0;Pk=1;var e=ei(),t=Mn(),n=e(t,"Promise");return e0=n,e0}var t0,Ok;function xE(){if(Ok)return t0;Ok=1;var e=ei(),t=Mn(),n=e(t,"Set");return t0=n,t0}var r0,Ek;function fz(){if(Ek)return r0;Ek=1;var e=ei(),t=Mn(),n=e(t,"WeakMap");return r0=n,r0}var n0,_k;function mz(){if(_k)return n0;_k=1;var e=uz(),t=jj(),n=hz(),a=xE(),s=fz(),i=da(),l=MO(),d="[object Map]",u="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",j=l(e),v=l(t),w=l(n),x=l(a),S=l(s),P=i;return(e&&P(new e(new ArrayBuffer(1)))!=g||t&&P(new t)!=d||n&&P(n.resolve())!=h||a&&P(new a)!=p||s&&P(new s)!=m)&&(P=function(O){var N=i(O),C=N==u?O.constructor:void 0,A=C?l(C):"";if(A)switch(A){case j:return g;case v:return d;case w:return h;case x:return p;case S:return m}return N}),n0=P,n0}var a0,Tk;function pz(){if(Tk)return a0;Tk=1;var e=iE(),t=dE(),n=QF(),a=dz(),s=mz(),i=Sr(),l=hE(),d=mE(),u=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,j=g.hasOwnProperty;function v(w,x,S,P,O,N){var C=i(w),A=i(x),E=C?p:s(w),T=A?p:s(x);E=E==h?m:E,T=T==h?m:T;var R=E==m,I=T==m,M=E==T;if(M&&l(w)){if(!l(x))return!1;C=!0,R=!1}if(M&&!R)return N||(N=new e),C||d(w)?t(w,x,S,P,O,N):n(w,x,E,S,P,O,N);if(!(S&u)){var $=R&&j.call(w,"__wrapped__"),H=I&&j.call(x,"__wrapped__");if($||H){var V=$?w.value():w,q=H?x.value():x;return N||(N=new e),O(V,q,S,P,N)}}return M?(N||(N=new e),a(w,x,S,P,O,N)):!1}return a0=v,a0}var s0,Rk;function $j(){if(Rk)return s0;Rk=1;var e=pz(),t=ua();function n(a,s,i,l,d){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,n,d)}return s0=n,s0}var i0,Mk;function xz(){if(Mk)return i0;Mk=1;var e=iE(),t=$j(),n=1,a=2;function s(i,l,d,u){var h=d.length,p=h,m=!u;if(i==null)return!p;for(i=Object(i);h--;){var g=d[h];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<p;){g=d[h];var j=g[0],v=i[j],w=g[1];if(m&&g[2]){if(v===void 0&&!(j in i))return!1}else{var x=new e;if(u)var S=u(v,w,j,i,l,x);if(!(S===void 0?t(w,v,n|a,u,x):S))return!1}}return!0}return i0=s,i0}var o0,Ik;function gE(){if(Ik)return o0;Ik=1;var e=rs();function t(n){return n===n&&!e(n)}return o0=t,o0}var l0,$k;function gz(){if($k)return l0;$k=1;var e=gE(),t=bf();function n(a){for(var s=t(a),i=s.length;i--;){var l=s[i],d=a[l];s[i]=[l,d,e(d)]}return s}return l0=n,l0}var c0,Lk;function yE(){if(Lk)return c0;Lk=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return c0=e,c0}var d0,Dk;function yz(){if(Dk)return d0;Dk=1;var e=xz(),t=gz(),n=yE();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return d0=a,d0}var u0,Fk;function vz(){if(Fk)return u0;Fk=1;function e(t,n){return t!=null&&n in Object(t)}return u0=e,u0}var h0,zk;function bz(){if(zk)return h0;zk=1;var e=LO(),t=Rj(),n=Sr(),a=Mj(),s=Ij(),i=pf();function l(d,u,h){u=e(u,d);for(var p=-1,m=u.length,g=!1;++p<m;){var j=i(u[p]);if(!(g=d!=null&&h(d,j)))break;d=d[j]}return g||++p!=m?g:(m=d==null?0:d.length,!!m&&s(m)&&a(j,m)&&(n(d)||t(d)))}return h0=l,h0}var f0,qk;function jz(){if(qk)return f0;qk=1;var e=vz(),t=bz();function n(a,s){return a!=null&&t(a,s,e)}return f0=n,f0}var m0,Bk;function wz(){if(Bk)return m0;Bk=1;var e=$j(),t=DO(),n=jz(),a=yj(),s=gE(),i=yE(),l=pf(),d=1,u=2;function h(p,m){return a(p)&&s(m)?i(l(p),m):function(g){var j=t(g,p);return j===void 0&&j===m?n(g,p):e(m,j,d|u)}}return m0=h,m0}var p0,Uk;function Fo(){if(Uk)return p0;Uk=1;function e(t){return t}return p0=e,p0}var x0,Wk;function Nz(){if(Wk)return x0;Wk=1;function e(t){return function(n){return n==null?void 0:n[t]}}return x0=e,x0}var g0,Hk;function Sz(){if(Hk)return g0;Hk=1;var e=Sj();function t(n){return function(a){return e(a,n)}}return g0=t,g0}var y0,Kk;function kz(){if(Kk)return y0;Kk=1;var e=Nz(),t=Sz(),n=yj(),a=pf();function s(i){return n(i)?e(a(i)):t(i)}return y0=s,y0}var v0,Gk;function In(){if(Gk)return v0;Gk=1;var e=yz(),t=wz(),n=Fo(),a=Sr(),s=kz();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return v0=i,v0}var b0,Vk;function vE(){if(Vk)return b0;Vk=1;function e(t,n,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return b0=e,b0}var j0,Qk;function Cz(){if(Qk)return j0;Qk=1;function e(t){return t!==t}return j0=e,j0}var w0,Yk;function Az(){if(Yk)return w0;Yk=1;function e(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return w0=e,w0}var N0,Xk;function Pz(){if(Xk)return N0;Xk=1;var e=vE(),t=Cz(),n=Az();function a(s,i,l){return i===i?n(s,i,l):e(s,t,l)}return N0=a,N0}var S0,Jk;function Oz(){if(Jk)return S0;Jk=1;var e=Pz();function t(n,a){var s=n==null?0:n.length;return!!s&&e(n,a,0)>-1}return S0=t,S0}var k0,Zk;function Ez(){if(Zk)return k0;Zk=1;function e(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return k0=e,k0}var C0,e4;function _z(){if(e4)return C0;e4=1;function e(){}return C0=e,C0}var A0,t4;function Tz(){if(t4)return A0;t4=1;var e=xE(),t=_z(),n=Tj(),a=1/0,s=e&&1/n(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return A0=s,A0}var P0,r4;function Rz(){if(r4)return P0;r4=1;var e=oE(),t=Oz(),n=Ez(),a=cE(),s=Tz(),i=Tj(),l=200;function d(u,h,p){var m=-1,g=t,j=u.length,v=!0,w=[],x=w;if(p)v=!1,g=n;else if(j>=l){var S=h?null:s(u);if(S)return i(S);v=!1,g=a,x=new e}else x=h?[]:w;e:for(;++m<j;){var P=u[m],O=h?h(P):P;if(P=p||P!==0?P:0,v&&O===O){for(var N=x.length;N--;)if(x[N]===O)continue e;h&&x.push(O),w.push(P)}else g(x,O,p)||(x!==w&&x.push(O),w.push(P))}return w}return P0=d,P0}var O0,n4;function Mz(){if(n4)return O0;n4=1;var e=In(),t=Rz();function n(a,s){return a&&a.length?t(a,e(s,2)):[]}return O0=n,O0}var Iz=Mz();const a4=Ze(Iz);function bE(e,t,n){return t===!0?a4(e,n):Fe(t)?a4(e,t):e}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var $z=["ref"];function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(a){jf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wE(a.key),a)}}function Dz(e,t,n){return t&&i4(e.prototype,t),n&&i4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fz(e,t,n){return t=ih(t),zz(e,jE()?Reflect.construct(t,n||[],ih(e).constructor):t.apply(e,n))}function zz(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qz(e)}function qz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jE=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(e)}function Bz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wv(e,t)}function Wv(e,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Wv(e,t)}function jf(e,t,n){return t=wE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wE(e){var t=Uz(e,"string");return io(t)=="symbol"?t:t+""}function Uz(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wz(e,t){if(e==null)return{};var n=Hz(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Hz(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Kz(e){return e.value}function Gz(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var n=Wz(t,$z);return Y.createElement(_j,n)}var o4=1,Xa=(function(e){function t(){var n;Lz(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Fz(this,t,[].concat(s)),jf(n,"lastBoundingBox",{width:-1,height:-1}),n}return Bz(t,e),Dz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>o4||Math.abs(s.height-this.lastBoundingBox.height)>o4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,d=s.verticalAlign,u=s.margin,h=s.chartWidth,p=s.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();m={left:((h||0)-j.width)/2}}else m=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(d==="middle"){var v=this.getBBoxSnapshot();g={top:((p||0)-v.height)/2}}else g=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Wn(Wn({},m),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,d=s.height,u=s.wrapperStyle,h=s.payloadUniqBy,p=s.payload,m=Wn(Wn({position:"absolute",width:l||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return Y.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(j){a.wrapperNode=j}},Gz(i,Wn(Wn({},this.props),{},{payload:bE(p,h,Kz)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Wn(Wn({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ge(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(b.PureComponent);jf(Xa,"displayName","Legend");jf(Xa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E0,l4;function Vz(){if(l4)return E0;l4=1;var e=Zc(),t=Rj(),n=Sr(),a=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return E0=s,E0}var _0,c4;function NE(){if(c4)return _0;c4=1;var e=uE(),t=Vz();function n(a,s,i,l,d){var u=-1,h=a.length;for(i||(i=t),d||(d=[]);++u<h;){var p=a[u];s>0&&i(p)?s>1?n(p,s-1,i,l,d):e(d,p):l||(d[d.length]=p)}return d}return _0=n,_0}var T0,d4;function Qz(){if(d4)return T0;d4=1;function e(t){return function(n,a,s){for(var i=-1,l=Object(n),d=s(n),u=d.length;u--;){var h=d[t?u:++i];if(a(l[h],h,l)===!1)break}return n}}return T0=e,T0}var R0,u4;function Yz(){if(u4)return R0;u4=1;var e=Qz(),t=e();return R0=t,R0}var M0,h4;function SE(){if(h4)return M0;h4=1;var e=Yz(),t=bf();function n(a,s){return a&&e(a,s,t)}return M0=n,M0}var I0,f4;function Xz(){if(f4)return I0;f4=1;var e=td();function t(n,a){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var l=s.length,d=a?l:-1,u=Object(s);(a?d--:++d<l)&&i(u[d],d,u)!==!1;);return s}}return I0=t,I0}var $0,m4;function Lj(){if(m4)return $0;m4=1;var e=SE(),t=Xz(),n=t(e);return $0=n,$0}var L0,p4;function kE(){if(p4)return L0;p4=1;var e=Lj(),t=td();function n(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(d,u,h){l[++i]=s(d,u,h)}),l}return L0=n,L0}var D0,x4;function Jz(){if(x4)return D0;x4=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return D0=e,D0}var F0,g4;function Zz(){if(g4)return F0;g4=1;var e=$o();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,l=n===n,d=e(n),u=a!==void 0,h=a===null,p=a===a,m=e(a);if(!h&&!m&&!d&&n>a||d&&u&&p&&!h&&!m||i&&u&&p||!s&&p||!l)return 1;if(!i&&!d&&!m&&n<a||m&&s&&l&&!i&&!d||h&&s&&l||!u&&l||!p)return-1}return 0}return F0=t,F0}var z0,y4;function eq(){if(y4)return z0;y4=1;var e=Zz();function t(n,a,s){for(var i=-1,l=n.criteria,d=a.criteria,u=l.length,h=s.length;++i<u;){var p=e(l[i],d[i]);if(p){if(i>=h)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-a.index}return z0=t,z0}var q0,v4;function tq(){if(v4)return q0;v4=1;var e=Nj(),t=Sj(),n=In(),a=kE(),s=Jz(),i=fE(),l=eq(),d=Fo(),u=Sr();function h(p,m,g){m.length?m=e(m,function(w){return u(w)?function(x){return t(x,w.length===1?w[0]:w)}:w}):m=[d];var j=-1;m=e(m,i(n));var v=a(p,function(w,x,S){var P=e(m,function(O){return O(w)});return{criteria:P,index:++j,value:w}});return s(v,function(w,x){return l(w,x,g)})}return q0=h,q0}var B0,b4;function rq(){if(b4)return B0;b4=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return B0=e,B0}var U0,j4;function nq(){if(j4)return U0;j4=1;var e=rq(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,d=-1,u=t(l.length-s,0),h=Array(u);++d<u;)h[d]=l[s+d];d=-1;for(var p=Array(s+1);++d<s;)p[d]=l[d];return p[s]=i(h),e(a,this,p)}}return U0=n,U0}var W0,w4;function aq(){if(w4)return W0;w4=1;function e(t){return function(){return t}}return W0=e,W0}var H0,N4;function CE(){if(N4)return H0;N4=1;var e=ei(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return H0=t,H0}var K0,S4;function sq(){if(S4)return K0;S4=1;var e=aq(),t=CE(),n=Fo(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return K0=a,K0}var G0,k4;function iq(){if(k4)return G0;k4=1;var e=800,t=16,n=Date.now;function a(s){var i=0,l=0;return function(){var d=n(),u=t-(d-l);if(l=d,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return G0=a,G0}var V0,C4;function oq(){if(C4)return V0;C4=1;var e=sq(),t=iq(),n=t(e);return V0=n,V0}var Q0,A4;function lq(){if(A4)return Q0;A4=1;var e=Fo(),t=nq(),n=oq();function a(s,i){return n(t(s,i,e),s+"")}return Q0=a,Q0}var Y0,P4;function wf(){if(P4)return Y0;P4=1;var e=bj(),t=td(),n=Mj(),a=rs();function s(i,l,d){if(!a(d))return!1;var u=typeof l;return(u=="number"?t(d)&&n(l,d.length):u=="string"&&l in d)?e(d[l],i):!1}return Y0=s,Y0}var X0,O4;function cq(){if(O4)return X0;O4=1;var e=NE(),t=tq(),n=lq(),a=wf(),s=n(function(i,l){if(i==null)return[];var d=l.length;return d>1&&a(i,l[0],l[1])?l=[]:d>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return X0=s,X0}var dq=cq();const Dj=Ze(dq);function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hv.apply(this,arguments)}function uq(e,t){return pq(e)||mq(e,t)||fq(e,t)||hq()}function hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(e,t){if(e){if(typeof e=="string")return E4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E4(e,t)}}function E4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function pq(e){if(Array.isArray(e))return e}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function J0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(a){xq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xq(e,t,n){return t=gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=yq(e,"string");return lc(t)=="symbol"?t:t+""}function yq(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e){return Array.isArray(e)&&Dt(e[0])&&Dt(e[1])?e.join(" ~ "):e}var bq=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,d=l===void 0?{}:l,u=t.labelStyle,h=u===void 0?{}:u,p=t.payload,m=t.formatter,g=t.itemSorter,j=t.wrapperClassName,v=t.labelClassName,w=t.label,x=t.labelFormatter,S=t.accessibilityLayer,P=S===void 0?!1:S,O=function(){if(p&&p.length){var $={padding:0,margin:0},H=(g?Dj(p,g):p).map(function(V,q){if(V.type==="none")return null;var B=J0({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},d),W=V.formatter||m||vq,U=V.value,Q=V.name,z=U,F=Q;if(W&&z!=null&&F!=null){var D=W(U,Q,V,q,p);if(Array.isArray(D)){var G=uq(D,2);z=G[0],F=G[1]}else z=D}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:B},Dt(F)?Y.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Dt(F)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},z),Y.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:$},H)}return null},N=J0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=J0({margin:0},h),A=!ze(w),E=A?w:"",T=qe("recharts-default-tooltip",j),R=qe("recharts-tooltip-label",v);A&&x&&p!==void 0&&p!==null&&(E=x(w,p));var I=P?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",Hv({className:T,style:N},I),Y.createElement("p",{className:R,style:C},Y.isValidElement(E)?E:"".concat(E)),O())};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Cu(e,t,n){return t=jq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=wq(e,"string");return cc(t)=="symbol"?t:t+""}function wq(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml="recharts-tooltip-wrapper",Nq={visibility:"hidden"};function Sq(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return qe(Ml,Cu(Cu(Cu(Cu({},"".concat(Ml,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(Ml,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(Ml,"-bottom"),ge(a)&&t&&ge(t.y)&&a>=t.y),"".concat(Ml,"-top"),ge(a)&&t&&ge(t.y)&&a<t.y))}function T4(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,h=e.viewBoxDimension;if(i&&ge(i[a]))return i[a];var p=n[a]-d-s,m=n[a]+s;if(t[a])return l[a]?p:m;if(l[a]){var g=p,j=u[a];return g<j?Math.max(m,u[a]):Math.max(p,u[a])}var v=m+d,w=u[a]+h;return v>w?Math.max(p,u[a]):Math.max(m,u[a])}function kq(e){var t=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Cq(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=T4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=T4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),h=kq({translateX:p,translateY:m,useTranslate3d:d})):h=Nq,{cssProperties:h,cssClasses:Sq({translateX:p,translateY:m,coordinate:n})}}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function M4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(a){Gv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pq(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PE(a.key),a)}}function Oq(e,t,n){return t&&Pq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eq(e,t,n){return t=oh(t),_q(e,AE()?Reflect.construct(t,n||[],oh(e).constructor):t.apply(e,n))}function _q(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tq(e)}function Tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AE=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(e)}function Rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kv(e,t)}function Kv(e,t){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kv(e,t)}function Gv(e,t,n){return t=PE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PE(e){var t=Mq(e,"string");return oo(t)=="symbol"?t:t+""}function Mq(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I4=1,Iq=(function(e){function t(){var n;Aq(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Eq(this,t,[].concat(s)),Gv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gv(n,"handleKeyDown",function(l){if(l.key==="Escape"){var d,u,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return Rq(t,e),Oq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>I4||Math.abs(a.height-this.state.lastBoundingBox.height)>I4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,h=s.children,p=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,j=s.offset,v=s.position,w=s.reverseDirection,x=s.useTranslate3d,S=s.viewBox,P=s.wrapperStyle,O=Cq({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:j,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),N=O.cssClasses,C=O.cssProperties,A=M4(M4({transition:g&&i?"transform ".concat(d,"ms ").concat(u):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},P);return Y.createElement("div",{tabIndex:-1,className:N,style:A,ref:function(T){a.wrapperNode=T}},h)}}])})(b.PureComponent),$q=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:$q()};function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(a){Fj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dq(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EE(a.key),a)}}function Fq(e,t,n){return t&&Dq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zq(e,t,n){return t=lh(t),qq(e,OE()?Reflect.construct(t,n||[],lh(e).constructor):t.apply(e,n))}function qq(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(e)}function Bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OE=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(e)}function Uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vv(e,t)}function Fj(e,t,n){return t=EE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EE(e){var t=Wq(e,"string");return lo(t)=="symbol"?t:t+""}function Wq(e,t){if(lo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hq(e){return e.dataKey}function Kq(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(bq,t)}var Gr=(function(e){function t(){return Lq(this,t),zq(this,t,arguments)}return Uq(t,e),Fq(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,h=s.content,p=s.coordinate,m=s.filterNull,g=s.isAnimationActive,j=s.offset,v=s.payload,w=s.payloadUniqBy,x=s.position,S=s.reverseDirection,P=s.useTranslate3d,O=s.viewBox,N=s.wrapperStyle,C=v??[];m&&C.length&&(C=bE(v.filter(function(E){return E.value!=null&&(E.hide!==!0||a.props.includeHidden)}),w,Hq));var A=C.length>0;return Y.createElement(Iq,{allowEscapeViewBox:l,animationDuration:d,animationEasing:u,isAnimationActive:g,active:i,coordinate:p,hasPayload:A,offset:j,position:x,reverseDirection:S,useTranslate3d:P,viewBox:O,wrapperStyle:N},Kq(h,L4(L4({},this.props),{},{payload:C})))}}])})(b.PureComponent);Fj(Gr,"displayName","Tooltip");Fj(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Z0,D4;function Gq(){if(D4)return Z0;D4=1;var e=Mn(),t=function(){return e.Date.now()};return Z0=t,Z0}var ey,F4;function Vq(){if(F4)return ey;F4=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return ey=t,ey}var ty,z4;function Qq(){if(z4)return ty;z4=1;var e=Vq(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return ty=n,ty}var ry,q4;function _E(){if(q4)return ry;q4=1;var e=Qq(),t=rs(),n=$o(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(h){if(typeof h=="number")return h;if(n(h))return a;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=i.test(h);return m||l.test(h)?d(h.slice(2),m?2:8):s.test(h)?a:+h}return ry=u,ry}var ny,B4;function Yq(){if(B4)return ny;B4=1;var e=rs(),t=Gq(),n=_E(),a="Expected a function",s=Math.max,i=Math.min;function l(d,u,h){var p,m,g,j,v,w,x=0,S=!1,P=!1,O=!0;if(typeof d!="function")throw new TypeError(a);u=n(u)||0,e(h)&&(S=!!h.leading,P="maxWait"in h,g=P?s(n(h.maxWait)||0,u):g,O="trailing"in h?!!h.trailing:O);function N(H){var V=p,q=m;return p=m=void 0,x=H,j=d.apply(q,V),j}function C(H){return x=H,v=setTimeout(T,u),S?N(H):j}function A(H){var V=H-w,q=H-x,B=u-V;return P?i(B,g-q):B}function E(H){var V=H-w,q=H-x;return w===void 0||V>=u||V<0||P&&q>=g}function T(){var H=t();if(E(H))return R(H);v=setTimeout(T,A(H))}function R(H){return v=void 0,O&&p?N(H):(p=m=void 0,j)}function I(){v!==void 0&&clearTimeout(v),x=0,p=w=m=v=void 0}function M(){return v===void 0?j:R(t())}function $(){var H=t(),V=E(H);if(p=arguments,m=this,w=H,V){if(v===void 0)return C(w);if(P)return clearTimeout(v),v=setTimeout(T,u),N(w)}return v===void 0&&(v=setTimeout(T,u)),j}return $.cancel=I,$.flush=M,$}return ny=l,ny}var ay,U4;function Xq(){if(U4)return ay;U4=1;var e=Yq(),t=rs(),n="Expected a function";function a(s,i,l){var d=!0,u=!0;if(typeof s!="function")throw new TypeError(n);return t(l)&&(d="leading"in l?!!l.leading:d,u="trailing"in l?!!l.trailing:u),e(s,i,{leading:d,maxWait:i,trailing:u})}return ay=a,ay}var Jq=Xq();const TE=Ze(Jq);function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(a){Zq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Zq(e,t,n){return t=eB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=tB(e,"string");return dc(t)=="symbol"?t:t+""}function tB(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e,t){return iB(e)||sB(e,t)||aB(e,t)||nB()}function nB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(e,t){if(e){if(typeof e=="string")return H4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H4(e,t)}}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function sB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function iB(e){if(Array.isArray(e))return e}var zj=b.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,d=e.height,u=d===void 0?"100%":d,h=e.minWidth,p=h===void 0?0:h,m=e.minHeight,g=e.maxHeight,j=e.children,v=e.debounce,w=v===void 0?0:v,x=e.id,S=e.className,P=e.onResize,O=e.style,N=O===void 0?{}:O,C=b.useRef(null),A=b.useRef();A.current=P,b.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=b.useState({containerWidth:s.width,containerHeight:s.height}),T=rB(E,2),R=T[0],I=T[1],M=b.useCallback(function(H,V){I(function(q){var B=Math.round(H),W=Math.round(V);return q.containerWidth===B&&q.containerHeight===W?q:{containerWidth:B,containerHeight:W}})},[]);b.useEffect(function(){var H=function(Q){var z,F=Q[0].contentRect,D=F.width,G=F.height;M(D,G),(z=A.current)===null||z===void 0||z.call(A,D,G)};w>0&&(H=TE(H,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(H),q=C.current.getBoundingClientRect(),B=q.width,W=q.height;return M(B,W),V.observe(C.current),function(){V.disconnect()}},[M,w]);var $=b.useMemo(function(){var H=R.containerWidth,V=R.containerHeight;if(H<0||V<0)return null;pn(As(l)||As(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),pn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=As(l)?H:l,B=As(u)?V:u;n&&n>0&&(q?B=q/n:B&&(q=B*n),g&&B>g&&(B=g)),pn(q>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,B,l,u,p,m,n);var W=!Array.isArray(j)&&ra(j.type).endsWith("Chart");return Y.Children.map(j,function(U){return Y.isValidElement(U)?b.cloneElement(U,Au({width:q,height:B},W?{style:Au({height:"100%",width:"100%",maxHeight:B,maxWidth:q},U.props.style)}:{})):U})},[n,j,u,g,m,p,R,l]);return Y.createElement("div",{id:x?"".concat(x):void 0,className:qe("recharts-responsive-container",S),style:Au(Au({},N),{},{width:l,height:u,minWidth:p,minHeight:m,maxHeight:g}),ref:C},$)}),Nf=function(t){return null};Nf.displayName="Cell";function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(a){oB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oB(e,t,n){return t=lB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lB(e){var t=cB(e,"string");return uc(t)=="symbol"?t:t+""}function cB(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei={widthCache:{},cacheCount:0},dB=2e3,uB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G4="recharts_measurement_span";function hB(e){var t=Qv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ti.isSsr)return{width:0,height:0};var a=hB(n),s=JSON.stringify({text:t,copyStyle:a});if(Ei.widthCache[s])return Ei.widthCache[s];try{var i=document.getElementById(G4);i||(i=document.createElement("span"),i.setAttribute("id",G4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Qv(Qv({},uB),a);Object.assign(i.style,l),i.textContent="".concat(t);var d=i.getBoundingClientRect(),u={width:d.width,height:d.height};return Ei.widthCache[s]=u,++Ei.cacheCount>dB&&(Ei.cacheCount=0,Ei.widthCache={}),u}catch{return{width:0,height:0}}},fB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function ch(e,t){return gB(e)||xB(e,t)||pB(e,t)||mB()}function mB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(e,t){if(e){if(typeof e=="string")return V4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V4(e,t)}}function V4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function gB(e){if(Array.isArray(e))return e}function yB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bB(a.key),a)}}function vB(e,t,n){return t&&Q4(e.prototype,t),n&&Q4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bB(e){var t=jB(e,"string");return hc(t)=="symbol"?t:t+""}function jB(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SB=Object.keys(RE),$i="NaN";function kB(e,t){return e*RE[t]}var Pu=(function(){function e(t,n){yB(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!wB.test(n)&&(this.num=NaN,this.unit=""),SB.includes(n)&&(this.num=kB(t,n),this.unit="px")}return vB(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=NB.exec(n))!==null&&a!==void 0?a:[],i=ch(s,3),l=i[1],d=i[2];return new e(parseFloat(l),d??"")}}])})();function ME(e){if(e.includes($i))return $i;for(var t=e;t.includes("*")||t.includes("/");){var n,a=(n=Y4.exec(t))!==null&&n!==void 0?n:[],s=ch(a,4),i=s[1],l=s[2],d=s[3],u=Pu.parse(i??""),h=Pu.parse(d??""),p=l==="*"?u.multiply(h):u.divide(h);if(p.isNaN())return $i;t=t.replace(Y4,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=X4.exec(t))!==null&&m!==void 0?m:[],j=ch(g,4),v=j[1],w=j[2],x=j[3],S=Pu.parse(v??""),P=Pu.parse(x??""),O=w==="+"?S.add(P):S.subtract(P);if(O.isNaN())return $i;t=t.replace(X4,O.toString())}return t}var J4=/\(([^()]*)\)/;function CB(e){for(var t=e;t.includes("(");){var n=J4.exec(t),a=ch(n,2),s=a[1];t=t.replace(J4,ME(s))}return t}function AB(e){var t=e.replace(/\s+/g,"");return t=CB(t),t=ME(t),t}function PB(e){try{return AB(e)}catch{return $i}}function sy(e){var t=PB(e.slice(5,-1));return t===$i?"":t}var OB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EB=["dx","dy","angle","className","breakAll"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yv.apply(this,arguments)}function Z4(e,t){if(e==null)return{};var n=_B(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _B(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function eC(e,t){return IB(e)||MB(e,t)||RB(e,t)||TB()}function TB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RB(e,t){if(e){if(typeof e=="string")return tC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(e,t)}}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function MB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function IB(e){if(Array.isArray(e))return e}var IE=/[ \f\n\r\t\v\u2028\u2029]+/,$E=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];ze(n)||(a?i=n.toString().split(""):i=n.toString().split(IE));var l=i.map(function(u){return{word:u,width:Yl(u,s).width}}),d=a?0:Yl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:d}}catch{return null}},$B=function(t,n,a,s,i){var l=t.maxLines,d=t.children,u=t.style,h=t.breakAll,p=ge(l),m=d,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(B,W){var U=W.word,Q=W.width,z=B[B.length-1];if(z&&(s==null||i||z.width+Q+a<Number(s)))z.words.push(U),z.width+=Q+a;else{var F={words:[U],width:Q};B.push(F)}return B},[])},j=g(n),v=function(q){return q.reduce(function(B,W){return B.width>W.width?B:W})};if(!p)return j;for(var w="",x=function(q){var B=m.slice(0,q),W=$E({breakAll:h,style:u,children:B+w}).wordsWithComputedWidth,U=g(W),Q=U.length>l||v(U).width>Number(s);return[Q,U]},S=0,P=m.length-1,O=0,N;S<=P&&O<=m.length-1;){var C=Math.floor((S+P)/2),A=C-1,E=x(A),T=eC(E,2),R=T[0],I=T[1],M=x(C),$=eC(M,1),H=$[0];if(!R&&!H&&(S=C+1),R&&H&&(P=C-1),!R&&H){N=I;break}O++}return N||j},rC=function(t){var n=ze(t)?[]:t.toString().split(IE);return[{words:n}]},LB=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,d=t.maxLines;if((n||a)&&!ti.isSsr){var u,h,p=$E({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;u=m,h=g}else return rC(s);return $B({breakAll:l,children:s,maxLines:d,style:i},u,h,n,a)}return rC(s)},nC="#808080",Vs=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,d=l===void 0?"1em":l,u=t.capHeight,h=u===void 0?"0.71em":u,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,j=g===void 0?"start":g,v=t.verticalAnchor,w=v===void 0?"end":v,x=t.fill,S=x===void 0?nC:x,P=Z4(t,OB),O=b.useMemo(function(){return LB({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:m,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,m,P.style,P.width]),N=P.dx,C=P.dy,A=P.angle,E=P.className,T=P.breakAll,R=Z4(P,EB);if(!Dt(a)||!Dt(i))return null;var I=a+(ge(N)?N:0),M=i+(ge(C)?C:0),$;switch(w){case"start":$=sy("calc(".concat(h,")"));break;case"middle":$=sy("calc(".concat((O.length-1)/2," * -").concat(d," + (").concat(h," / 2))"));break;default:$=sy("calc(".concat(O.length-1," * -").concat(d,")"));break}var H=[];if(m){var V=O[0].width,q=P.width;H.push("scale(".concat((ge(q)?q/V:1)/V,")"))}return A&&H.push("rotate(".concat(A,", ").concat(I,", ").concat(M,")")),H.length&&(R.transform=H.join(" ")),Y.createElement("text",Yv({},Re(R,!0),{x:I,y:M,className:qe("recharts-text",E),textAnchor:j,fill:S.includes("url")?nC:S}),O.map(function(B,W){var U=B.words.join(T?"":" ");return Y.createElement("tspan",{x:I,dy:W===0?$:d,key:"".concat(U,"-").concat(W)},U)}))};function Ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qj(e){let t,n,a;e.length!==2?(t=Ja,n=(d,u)=>Ja(e(d),u),a=(d,u)=>e(d)-u):(t=e===Ja||e===DB?e:FB,n=e,a=e);function s(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(d[m],u)<0?h=m+1:p=m}while(h<p)}return h}function i(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(d[m],u)<=0?h=m+1:p=m}while(h<p)}return h}function l(d,u,h=0,p=d.length){const m=s(d,u,h,p-1);return m>h&&a(d[m-1],u)>-a(d[m],u)?m-1:m}return{left:s,center:l,right:i}}function FB(){return 0}function LE(e){return e===null?NaN:+e}function*zB(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const qB=qj(Ja),rd=qB.right;qj(LE).center;class aC extends Map{constructor(t,n=WB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(sC(this,t))}has(t){return super.has(sC(this,t))}set(t,n){return super.set(BB(this,t),n)}delete(t){return super.delete(UB(this,t))}}function sC({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function BB({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function UB({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function WB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HB(e=Ja){if(e===Ja)return DE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function DE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const KB=Math.sqrt(50),GB=Math.sqrt(10),VB=Math.sqrt(2);function dh(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=KB?10:i>=GB?5:i>=VB?2:1;let d,u,h;return s<0?(h=Math.pow(10,-s)/l,d=Math.round(e*h),u=Math.round(t*h),d/h<e&&++d,u/h>t&&--u,h=-h):(h=Math.pow(10,s)*l,d=Math.round(e/h),u=Math.round(t/h),d*h<e&&++d,u*h>t&&--u),u<d&&.5<=n&&n<2?dh(e,t,n*2):[d,u,h]}function Xv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?dh(t,e,n):dh(e,t,n);if(!(i>=s))return[];const d=i-s+1,u=new Array(d);if(a)if(l<0)for(let h=0;h<d;++h)u[h]=(i-h)/-l;else for(let h=0;h<d;++h)u[h]=(i-h)*l;else if(l<0)for(let h=0;h<d;++h)u[h]=(s+h)/-l;else for(let h=0;h<d;++h)u[h]=(s+h)*l;return u}function Jv(e,t,n){return t=+t,e=+e,n=+n,dh(e,t,n)[2]}function Zv(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?Jv(t,e,n):Jv(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function iC(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function oC(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function FE(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?DE:HB(s);a>n;){if(a-n>600){const u=a-n+1,h=t-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(u-m)/u)*(h-u/2<0?-1:1),j=Math.max(n,Math.floor(t-h*m/u+g)),v=Math.min(a,Math.floor(t+(u-h)*m/u+g));FE(e,t,j,v,s)}const i=e[t];let l=n,d=a;for(Il(e,n,t),s(e[a],i)>0&&Il(e,n,a);l<d;){for(Il(e,l,d),++l,--d;s(e[l],i)<0;)++l;for(;s(e[d],i)>0;)--d}s(e[n],i)===0?Il(e,n,d):(++d,Il(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function Il(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function QB(e,t,n){if(e=Float64Array.from(zB(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return oC(e);if(t>=1)return iC(e);var a,s=(a-1)*t,i=Math.floor(s),l=iC(FE(e,i).subarray(0,i+1)),d=oC(e.subarray(i+1));return l+(d-l)*(s-i)}}function YB(e,t,n=LE){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+n(e[i],i,e),d=+n(e[i+1],i+1,e);return l+(d-l)*(s-i)}}function XB(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eb=Symbol("implicit");function Bj(){var e=new aC,t=[],n=[],a=eb;function s(i){let l=e.get(i);if(l===void 0){if(a!==eb)return a;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Bj(t,n).unknown(a)},Jr.apply(s,arguments),s}function fc(){var e=Bj().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,i,l,d=!1,u=0,h=0,p=.5;delete e.unknown;function m(){var g=t().length,j=s<a,v=j?s:a,w=j?a:s;i=(w-v)/Math.max(1,g-u+h*2),d&&(i=Math.floor(i)),v+=(w-v-i*(g-u))*p,l=i*(1-u),d&&(v=Math.round(v),l=Math.round(l));var x=XB(g).map(function(S){return v+i*S});return n(j?x.reverse():x)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,d=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(d=!!g,m()):d},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return fc(t(),[a,s]).round(d).paddingInner(u).paddingOuter(h).align(p)},Jr.apply(m(),arguments)}function zE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zE(t())},e}function Xl(){return zE(fc.apply(null,arguments).paddingInner(1))}function Uj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qE(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function nd(){}var mc=.7,uh=1/mc,Bi="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JB=/^#([0-9a-f]{3,8})$/,ZB=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),eU=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),tU=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${pc}\\)$`),rU=new RegExp(`^rgba\\(${En},${En},${En},${pc}\\)$`),nU=new RegExp(`^hsl\\(${pc},${En},${En}\\)$`),aU=new RegExp(`^hsla\\(${pc},${En},${En},${pc}\\)$`),lC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uj(nd,xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cC,formatHex:cC,formatHex8:sU,formatHsl:iU,formatRgb:dC,toString:dC});function cC(){return this.rgb().formatHex()}function sU(){return this.rgb().formatHex8()}function iU(){return BE(this).formatHsl()}function dC(){return this.rgb().formatRgb()}function xc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=JB.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uC(t):n===3?new jr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ou(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ou(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZB.exec(e))?new jr(t[1],t[2],t[3],1):(t=eU.exec(e))?new jr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tU.exec(e))?Ou(t[1],t[2],t[3],t[4]):(t=rU.exec(e))?Ou(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nU.exec(e))?mC(t[1],t[2]/100,t[3]/100,1):(t=aU.exec(e))?mC(t[1],t[2]/100,t[3]/100,t[4]):lC.hasOwnProperty(e)?uC(lC[e]):e==="transparent"?new jr(NaN,NaN,NaN,0):null}function uC(e){return new jr(e>>16&255,e>>8&255,e&255,1)}function Ou(e,t,n,a){return a<=0&&(e=t=n=NaN),new jr(e,t,n,a)}function oU(e){return e instanceof nd||(e=xc(e)),e?(e=e.rgb(),new jr(e.r,e.g,e.b,e.opacity)):new jr}function tb(e,t,n,a){return arguments.length===1?oU(e):new jr(e,t,n,a??1)}function jr(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Uj(jr,tb,qE(nd,{brighter(e){return e=e==null?uh:Math.pow(uh,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jr(qs(this.r),qs(this.g),qs(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hC,formatHex:hC,formatHex8:lU,formatRgb:fC,toString:fC}));function hC(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function lU(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function fC(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ps(e){return e=qs(e),(e<16?"0":"")+e.toString(16)}function mC(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,n,a)}function BE(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof nd||(e=xc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),l=NaN,d=i-s,u=(i+s)/2;return d?(t===i?l=(n-a)/d+(n<a)*6:n===i?l=(a-t)/d+2:l=(t-n)/d+4,d/=u<.5?i+s:2-i-s,l*=60):d=u>0&&u<1?0:l,new mn(l,d,u,e.opacity)}function cU(e,t,n,a){return arguments.length===1?BE(e):new mn(e,t,n,a??1)}function mn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Uj(mn,cU,qE(nd,{brighter(e){return e=e==null?uh:Math.pow(uh,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new jr(iy(e>=240?e-240:e+120,s,a),iy(e,s,a),iy(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new mn(pC(this.h),Eu(this.s),Eu(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${pC(this.h)}, ${Eu(this.s)*100}%, ${Eu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pC(e){return e=(e||0)%360,e<0?e+360:e}function Eu(e){return Math.max(0,Math.min(1,e||0))}function iy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wj=e=>()=>e;function dU(e,t){return function(n){return e+n*t}}function uU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function hU(e){return(e=+e)==1?UE:function(t,n){return n-t?uU(t,n,e):Wj(isNaN(t)?n:t)}}function UE(e,t){var n=t-e;return n?dU(e,n):Wj(isNaN(e)?t:e)}const xC=(function e(t){var n=hU(t);function a(s,i){var l=n((s=tb(s)).r,(i=tb(i)).r),d=n(s.g,i.g),u=n(s.b,i.b),h=UE(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=d(p),s.b=u(p),s.opacity=h(p),s+""}}return a.gamma=e,a})(1);function fU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function mU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pU(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),l;for(l=0;l<a;++l)s[l]=zo(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(d){for(l=0;l<a;++l)i[l]=s[l](d);return i}}function xU(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function fh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gU(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=zo(e[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oy=new RegExp(rb.source,"g");function yU(e){return function(){return e}}function vU(e){return function(t){return e(t)+""}}function bU(e,t){var n=rb.lastIndex=oy.lastIndex=0,a,s,i,l=-1,d=[],u=[];for(e=e+"",t=t+"";(a=rb.exec(e))&&(s=oy.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),d[l]?d[l]+=i:d[++l]=i),(a=a[0])===(s=s[0])?d[l]?d[l]+=s:d[++l]=s:(d[++l]=null,u.push({i:l,x:fh(a,s)})),n=oy.lastIndex;return n<t.length&&(i=t.slice(n),d[l]?d[l]+=i:d[++l]=i),d.length<2?u[0]?vU(u[0].x):yU(t):(t=u.length,function(h){for(var p=0,m;p<t;++p)d[(m=u[p]).i]=m.x(h);return d.join("")})}function zo(e,t){var n=typeof t,a;return t==null||n==="boolean"?Wj(t):(n==="number"?fh:n==="string"?(a=xc(t))?(t=a,xC):bU:t instanceof xc?xC:t instanceof Date?xU:mU(t)?fU:Array.isArray(t)?pU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gU:fh)(e,t)}function Hj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jU(e,t){t===void 0&&(t=e,e=zo);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=t[++n]);return function(l){var d=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[d](l-d)}}function wU(e){return function(){return e}}function mh(e){return+e}var gC=[0,1];function ur(e){return e}function nb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wU(isNaN(t)?NaN:.5)}function NU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function SU(e,t,n){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=nb(s,a),i=n(l,i)):(a=nb(a,s),i=n(i,l)),function(d){return i(a(d))}}function kU(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=nb(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(d){var u=rd(e,d,1,a)-1;return i[u](s[u](d))}}function ad(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sf(){var e=gC,t=gC,n=zo,a,s,i,l=ur,d,u,h;function p(){var g=Math.min(e.length,t.length);return l!==ur&&(l=NU(e[0],e[g-1])),d=g>2?kU:SU,u=h=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=d(e.map(a),t,n)))(a(l(g)))}return m.invert=function(g){return l(s((h||(h=d(t,e.map(a),fh)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,mh),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=Hj,p()},m.clamp=function(g){return arguments.length?(l=g?!0:ur,p()):l!==ur},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,j){return a=g,s=j,p()}}function Kj(){return Sf()(ur,ur)}function CU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ph(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function co(e){return e=ph(Math.abs(e)),e?e[1]:NaN}function AU(e,t){return function(n,a){for(var s=n.length,i=[],l=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),i.push(n.substring(s-=d,s+d)),!((u+=d+1)>a));)d=e[l=(l+1)%e.length];return i.reverse().join(t)}}function PU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var OU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gc(e){if(!(t=OU.exec(e)))throw new Error("invalid format: "+e);var t;return new Gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gc.prototype=Gj.prototype;function Gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EU(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var xh;function _U(e,t){var n=ph(e,t);if(!n)return xh=void 0,e.toPrecision(t);var a=n[0],s=n[1],i=s-(xh=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ph(e,Math.max(0,t+i-1))[0]}function yC(e,t){var n=ph(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const vC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yC(e*100,t),r:yC,s:_U,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bC(e){return e}var jC=Array.prototype.map,wC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TU(e){var t=e.grouping===void 0||e.thousands===void 0?bC:AU(jC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bC:PU(jC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m,g){m=gc(m);var j=m.fill,v=m.align,w=m.sign,x=m.symbol,S=m.zero,P=m.width,O=m.comma,N=m.precision,C=m.trim,A=m.type;A==="n"?(O=!0,A="g"):vC[A]||(N===void 0&&(N=12),C=!0,A="g"),(S||j==="0"&&v==="=")&&(S=!0,j="0",v="=");var E=(g&&g.prefix!==void 0?g.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),T=(x==="$"?a:/[%p]/.test(A)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),R=vC[A],I=/[defgprs%]/.test(A);N=N===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M($){var H=E,V=T,q,B,W;if(A==="c")V=R($)+V,$="";else{$=+$;var U=$<0||1/$<0;if($=isNaN($)?u:R(Math.abs($),N),C&&($=EU($)),U&&+$==0&&w!=="+"&&(U=!1),H=(U?w==="("?w:d:w==="-"||w==="("?"":w)+H,V=(A==="s"&&!isNaN($)&&xh!==void 0?wC[8+xh/3]:"")+V+(U&&w==="("?")":""),I){for(q=-1,B=$.length;++q<B;)if(W=$.charCodeAt(q),48>W||W>57){V=(W===46?s+$.slice(q+1):$.slice(q))+V,$=$.slice(0,q);break}}}O&&!S&&($=t($,1/0));var Q=H.length+$.length+V.length,z=Q<P?new Array(P-Q+1).join(j):"";switch(O&&S&&($=t(z+$,z.length?P-V.length:1/0),z=""),v){case"<":$=H+$+V+z;break;case"=":$=H+z+$+V;break;case"^":$=z.slice(0,Q=z.length>>1)+H+$+V+z.slice(Q);break;default:$=z+H+$+V;break}return i($)}return M.toString=function(){return m+""},M}function p(m,g){var j=Math.max(-8,Math.min(8,Math.floor(co(g)/3)))*3,v=Math.pow(10,-j),w=h((m=gc(m),m.type="f",m),{suffix:wC[8+j/3]});return function(x){return w(v*x)}}return{format:h,formatPrefix:p}}var _u,Vj,WE;RU({thousands:",",grouping:[3],currency:["$",""]});function RU(e){return _u=TU(e),Vj=_u.format,WE=_u.formatPrefix,_u}function MU(e){return Math.max(0,-co(Math.abs(e)))}function IU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(co(t)/3)))*3-co(Math.abs(e)))}function $U(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,co(t)-co(e))+1}function HE(e,t,n,a){var s=Zv(e,t,n),i;switch(a=gc(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=IU(s,l))&&(a.precision=i),WE(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=$U(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=MU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Vj(a)}function ns(e){var t=e.domain;return e.ticks=function(n){var a=t();return Xv(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return HE(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,l=a[s],d=a[i],u,h,p=10;for(d<l&&(h=l,l=d,d=h,h=s,s=i,i=h);p-- >0;){if(h=Jv(l,d,n),h===u)return a[s]=l,a[i]=d,t(a);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;u=h}return e},e}function gh(){var e=Kj();return e.copy=function(){return ad(e,gh())},Jr.apply(e,arguments),ns(e)}function KE(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,mh),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return KE(e).unknown(t)},e=arguments.length?Array.from(e,mh):[0,1],ns(n)}function GE(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],l;return i<s&&(l=n,n=a,a=l,l=s,s=i,i=l),e[n]=t.floor(s),e[a]=t.ceil(i),e}function NC(e){return Math.log(e)}function SC(e){return Math.exp(e)}function LU(e){return-Math.log(-e)}function DU(e){return-Math.exp(-e)}function FU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zU(e){return e===10?FU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kC(e){return(t,n)=>-e(-t,n)}function Qj(e){const t=e(NC,SC),n=t.domain;let a=10,s,i;function l(){return s=qU(a),i=zU(a),n()[0]<0?(s=kC(s),i=kC(i),e(LU,DU)):e(NC,SC),t}return t.base=function(d){return arguments.length?(a=+d,l()):a},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const u=n();let h=u[0],p=u[u.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=s(h),j=s(p),v,w;const x=d==null?10:+d;let S=[];if(!(a%1)&&j-g<x){if(g=Math.floor(g),j=Math.ceil(j),h>0){for(;g<=j;++g)for(v=1;v<a;++v)if(w=g<0?v/i(-g):v*i(g),!(w<h)){if(w>p)break;S.push(w)}}else for(;g<=j;++g)for(v=a-1;v>=1;--v)if(w=g>0?v/i(-g):v*i(g),!(w<h)){if(w>p)break;S.push(w)}S.length*2<x&&(S=Xv(h,p,x))}else S=Xv(g,j,Math.min(j-g,x)).map(i);return m?S.reverse():S},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=gc(u)).precision==null&&(u.trim=!0),u=Vj(u)),d===1/0)return u;const h=Math.max(1,a*d/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*a<a-.5&&(m*=a),m<=h?u(p):""}},t.nice=()=>n(GE(n(),{floor:d=>i(Math.floor(s(d))),ceil:d=>i(Math.ceil(s(d)))})),t}function VE(){const e=Qj(Sf()).domain([1,10]);return e.copy=()=>ad(e,VE()).base(e.base()),Jr.apply(e,arguments),e}function CC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yj(e){var t=1,n=e(CC(t),AC(t));return n.constant=function(a){return arguments.length?e(CC(t=+a),AC(t)):t},ns(n)}function QE(){var e=Yj(Sf());return e.copy=function(){return ad(e,QE()).constant(e.constant())},Jr.apply(e,arguments)}function PC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UU(e){return e<0?-e*e:e*e}function Xj(e){var t=e(ur,ur),n=1;function a(){return n===1?e(ur,ur):n===.5?e(BU,UU):e(PC(n),PC(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},ns(t)}function Jj(){var e=Xj(Sf());return e.copy=function(){return ad(e,Jj()).exponent(e.exponent())},Jr.apply(e,arguments),e}function WU(){return Jj.apply(null,arguments).exponent(.5)}function OC(e){return Math.sign(e)*e*e}function HU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YE(){var e=Kj(),t=[0,1],n=!1,a;function s(i){var l=HU(e(i));return isNaN(l)?a:n?Math.round(l):l}return s.invert=function(i){return e.invert(OC(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,mh)).map(OC)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return YE(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},Jr.apply(s,arguments),ns(s)}function XE(){var e=[],t=[],n=[],a;function s(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=YB(e,l/d);return i}function i(l){return l==null||isNaN(l=+l)?a:t[rd(n,l)]}return i.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ja),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return XE().domain(e).range(t).unknown(a)},Jr.apply(i,arguments)}function JE(){var e=0,t=1,n=1,a=[.5],s=[0,1],i;function l(u){return u!=null&&u<=u?s[rd(a,u,0,n)]:i}function d(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*t-(u-n)*e)/(n+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},l.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,d()):s.slice()},l.invertExtent=function(u){var h=s.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=n?[a[n-1],t]:[a[h-1],a[h]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return JE().domain([e,t]).range(s).unknown(i)},Jr.apply(ns(l),arguments)}function ZE(){var e=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[rd(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ZE().domain(e).range(t).unknown(n)},Jr.apply(s,arguments)}const ly=new Date,cy=new Date;function Ft(e,t,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),d=s.ceil(i);return i-l<d-i?l:d},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,d)=>{const u=[];if(i=s.ceil(i),d=d==null?1:Math.floor(d),!(i<l)||!(d>0))return u;let h;do u.push(h=new Date(+i)),t(i,d),e(i);while(h<i&&i<l);return u},s.filter=i=>Ft(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!i(l););else for(;--d>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(ly.setTime(+i),cy.setTime(+l),e(ly),e(cy),Math.floor(n(ly,cy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const yh=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yh);yh.range;const Zn=1e3,Yr=Zn*60,ea=Yr*60,ia=ea*24,Zj=ia*7,EC=ia*30,dy=ia*365,Os=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCSeconds());Os.range;const ew=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());ew.range;const tw=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());tw.range;const rw=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getHours());rw.range;const nw=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCHours());nw.range;const sd=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/ia,e=>e.getDate()-1);sd.range;const kf=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>e.getUTCDate()-1);kf.range;const e6=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>Math.floor(e/ia));e6.range;function ri(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Zj)}const Cf=ri(0),vh=ri(1),KU=ri(2),GU=ri(3),uo=ri(4),VU=ri(5),QU=ri(6);Cf.range;vh.range;KU.range;GU.range;uo.range;VU.range;QU.range;function ni(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Zj)}const Af=ni(0),bh=ni(1),YU=ni(2),XU=ni(3),ho=ni(4),JU=ni(5),ZU=ni(6);Af.range;bh.range;YU.range;XU.range;ho.range;JU.range;ZU.range;const aw=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aw.range;const sw=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sw.range;const oa=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oa.range;const la=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function t6(e,t,n,a,s,i){const l=[[Os,1,Zn],[Os,5,5*Zn],[Os,15,15*Zn],[Os,30,30*Zn],[i,1,Yr],[i,5,5*Yr],[i,15,15*Yr],[i,30,30*Yr],[s,1,ea],[s,3,3*ea],[s,6,6*ea],[s,12,12*ea],[a,1,ia],[a,2,2*ia],[n,1,Zj],[t,1,EC],[t,3,3*EC],[e,1,dy]];function d(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const j=m&&typeof m.range=="function"?m:u(h,p,m),v=j?j.range(h,+p+1):[];return g?v.reverse():v}function u(h,p,m){const g=Math.abs(p-h)/m,j=qj(([,,x])=>x).right(l,g);if(j===l.length)return e.every(Zv(h/dy,p/dy,m));if(j===0)return yh.every(Math.max(Zv(h,p,m),1));const[v,w]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return v.every(w)}return[d,u]}const[eW,tW]=t6(la,sw,Af,e6,nw,tw),[rW,nW]=t6(oa,aw,Cf,sd,rw,ew);function uy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $l(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function aW(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,d=e.months,u=e.shortMonths,h=Ll(s),p=Dl(s),m=Ll(i),g=Dl(i),j=Ll(l),v=Dl(l),w=Ll(d),x=Dl(d),S=Ll(u),P=Dl(u),O={a:W,A:U,b:Q,B:z,c:null,d:$C,e:$C,f:AW,g:LW,G:FW,H:SW,I:kW,j:CW,L:r6,m:PW,M:OW,p:F,q:D,Q:FC,s:zC,S:EW,u:_W,U:TW,V:RW,w:MW,W:IW,x:null,X:null,y:$W,Y:DW,Z:zW,"%":DC},N={a:G,A:te,b:ue,B:xe,c:null,d:LC,e:LC,f:WW,g:eH,G:rH,H:qW,I:BW,j:UW,L:a6,m:HW,M:KW,p:oe,q:ee,Q:FC,s:zC,S:GW,u:VW,U:QW,V:YW,w:XW,W:JW,x:null,X:null,y:ZW,Y:tH,Z:nH,"%":DC},C={a:I,A:M,b:$,B:H,c:V,d:MC,e:MC,f:bW,g:RC,G:TC,H:IC,I:IC,j:xW,L:vW,m:pW,M:gW,p:R,q:mW,Q:wW,s:NW,S:yW,u:cW,U:dW,V:uW,w:lW,W:hW,x:q,X:B,y:RC,Y:TC,Z:fW,"%":jW};O.x=A(n,O),O.X=A(a,O),O.c=A(t,O),N.x=A(n,N),N.X=A(a,N),N.c=A(t,N);function A(le,ke){return function($e){var re=[],be=-1,je=0,tt=le.length,gt,zt,Zr;for($e instanceof Date||($e=new Date(+$e));++be<tt;)le.charCodeAt(be)===37&&(re.push(le.slice(je,be)),(zt=_C[gt=le.charAt(++be)])!=null?gt=le.charAt(++be):zt=gt==="e"?" ":"0",(Zr=ke[gt])&&(gt=Zr($e,zt)),re.push(gt),je=be+1);return re.push(le.slice(je,be)),re.join("")}}function E(le,ke){return function($e){var re=$l(1900,void 0,1),be=T(re,le,$e+="",0),je,tt;if(be!=$e.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ke&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(je=hy($l(re.y,0,1)),tt=je.getUTCDay(),je=tt>4||tt===0?bh.ceil(je):bh(je),je=kf.offset(je,(re.V-1)*7),re.y=je.getUTCFullYear(),re.m=je.getUTCMonth(),re.d=je.getUTCDate()+(re.w+6)%7):(je=uy($l(re.y,0,1)),tt=je.getDay(),je=tt>4||tt===0?vh.ceil(je):vh(je),je=sd.offset(je,(re.V-1)*7),re.y=je.getFullYear(),re.m=je.getMonth(),re.d=je.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),tt="Z"in re?hy($l(re.y,0,1)).getUTCDay():uy($l(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(tt+5)%7:re.w+re.U*7-(tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,hy(re)):uy(re)}}function T(le,ke,$e,re){for(var be=0,je=ke.length,tt=$e.length,gt,zt;be<je;){if(re>=tt)return-1;if(gt=ke.charCodeAt(be++),gt===37){if(gt=ke.charAt(be++),zt=C[gt in _C?ke.charAt(be++):gt],!zt||(re=zt(le,$e,re))<0)return-1}else if(gt!=$e.charCodeAt(re++))return-1}return re}function R(le,ke,$e){var re=h.exec(ke.slice($e));return re?(le.p=p.get(re[0].toLowerCase()),$e+re[0].length):-1}function I(le,ke,$e){var re=j.exec(ke.slice($e));return re?(le.w=v.get(re[0].toLowerCase()),$e+re[0].length):-1}function M(le,ke,$e){var re=m.exec(ke.slice($e));return re?(le.w=g.get(re[0].toLowerCase()),$e+re[0].length):-1}function $(le,ke,$e){var re=S.exec(ke.slice($e));return re?(le.m=P.get(re[0].toLowerCase()),$e+re[0].length):-1}function H(le,ke,$e){var re=w.exec(ke.slice($e));return re?(le.m=x.get(re[0].toLowerCase()),$e+re[0].length):-1}function V(le,ke,$e){return T(le,t,ke,$e)}function q(le,ke,$e){return T(le,n,ke,$e)}function B(le,ke,$e){return T(le,a,ke,$e)}function W(le){return l[le.getDay()]}function U(le){return i[le.getDay()]}function Q(le){return u[le.getMonth()]}function z(le){return d[le.getMonth()]}function F(le){return s[+(le.getHours()>=12)]}function D(le){return 1+~~(le.getMonth()/3)}function G(le){return l[le.getUTCDay()]}function te(le){return i[le.getUTCDay()]}function ue(le){return u[le.getUTCMonth()]}function xe(le){return d[le.getUTCMonth()]}function oe(le){return s[+(le.getUTCHours()>=12)]}function ee(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ke=A(le+="",O);return ke.toString=function(){return le},ke},parse:function(le){var ke=E(le+="",!1);return ke.toString=function(){return le},ke},utcFormat:function(le){var ke=A(le+="",N);return ke.toString=function(){return le},ke},utcParse:function(le){var ke=E(le+="",!0);return ke.toString=function(){return le},ke}}}var _C={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,sW=/^%/,iW=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function oW(e){return e.replace(iW,"\\$&")}function Ll(e){return new RegExp("^(?:"+e.map(oW).join("|")+")","i")}function Dl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function cW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function dW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function uW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function hW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function TC(e,t,n){var a=Gt.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function RC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function fW(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function mW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function pW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function MC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function xW(e,t,n){var a=Gt.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function IC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function gW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function yW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function vW(e,t,n){var a=Gt.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function bW(e,t,n){var a=Gt.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function jW(e,t,n){var a=sW.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function wW(e,t,n){var a=Gt.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function NW(e,t,n){var a=Gt.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function $C(e,t){return Qe(e.getDate(),t,2)}function SW(e,t){return Qe(e.getHours(),t,2)}function kW(e,t){return Qe(e.getHours()%12||12,t,2)}function CW(e,t){return Qe(1+sd.count(oa(e),e),t,3)}function r6(e,t){return Qe(e.getMilliseconds(),t,3)}function AW(e,t){return r6(e,t)+"000"}function PW(e,t){return Qe(e.getMonth()+1,t,2)}function OW(e,t){return Qe(e.getMinutes(),t,2)}function EW(e,t){return Qe(e.getSeconds(),t,2)}function _W(e){var t=e.getDay();return t===0?7:t}function TW(e,t){return Qe(Cf.count(oa(e)-1,e),t,2)}function n6(e){var t=e.getDay();return t>=4||t===0?uo(e):uo.ceil(e)}function RW(e,t){return e=n6(e),Qe(uo.count(oa(e),e)+(oa(e).getDay()===4),t,2)}function MW(e){return e.getDay()}function IW(e,t){return Qe(vh.count(oa(e)-1,e),t,2)}function $W(e,t){return Qe(e.getFullYear()%100,t,2)}function LW(e,t){return e=n6(e),Qe(e.getFullYear()%100,t,2)}function DW(e,t){return Qe(e.getFullYear()%1e4,t,4)}function FW(e,t){var n=e.getDay();return e=n>=4||n===0?uo(e):uo.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function zW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function LC(e,t){return Qe(e.getUTCDate(),t,2)}function qW(e,t){return Qe(e.getUTCHours(),t,2)}function BW(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function UW(e,t){return Qe(1+kf.count(la(e),e),t,3)}function a6(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function WW(e,t){return a6(e,t)+"000"}function HW(e,t){return Qe(e.getUTCMonth()+1,t,2)}function KW(e,t){return Qe(e.getUTCMinutes(),t,2)}function GW(e,t){return Qe(e.getUTCSeconds(),t,2)}function VW(e){var t=e.getUTCDay();return t===0?7:t}function QW(e,t){return Qe(Af.count(la(e)-1,e),t,2)}function s6(e){var t=e.getUTCDay();return t>=4||t===0?ho(e):ho.ceil(e)}function YW(e,t){return e=s6(e),Qe(ho.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function XW(e){return e.getUTCDay()}function JW(e,t){return Qe(bh.count(la(e)-1,e),t,2)}function ZW(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function eH(e,t){return e=s6(e),Qe(e.getUTCFullYear()%100,t,2)}function tH(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function rH(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ho(e):ho.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function nH(){return"+0000"}function DC(){return"%"}function FC(e){return+e}function zC(e){return Math.floor(+e/1e3)}var _i,i6,o6;aH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aH(e){return _i=aW(e),i6=_i.format,_i.parse,o6=_i.utcFormat,_i.utcParse,_i}function sH(e){return new Date(e)}function iH(e){return e instanceof Date?+e:+new Date(+e)}function iw(e,t,n,a,s,i,l,d,u,h){var p=Kj(),m=p.invert,g=p.domain,j=h(".%L"),v=h(":%S"),w=h("%I:%M"),x=h("%I %p"),S=h("%a %d"),P=h("%b %d"),O=h("%B"),N=h("%Y");function C(A){return(u(A)<A?j:d(A)<A?v:l(A)<A?w:i(A)<A?x:a(A)<A?s(A)<A?S:P:n(A)<A?O:N)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?g(Array.from(A,iH)):g().map(sH)},p.ticks=function(A){var E=g();return e(E[0],E[E.length-1],A??10)},p.tickFormat=function(A,E){return E==null?C:h(E)},p.nice=function(A){var E=g();return(!A||typeof A.range!="function")&&(A=t(E[0],E[E.length-1],A??10)),A?g(GE(E,A)):p},p.copy=function(){return ad(p,iw(e,t,n,a,s,i,l,d,u,h))},p}function oH(){return Jr.apply(iw(rW,nW,oa,aw,Cf,sd,rw,ew,Os,i6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lH(){return Jr.apply(iw(eW,tW,la,sw,Af,kf,nw,tw,Os,o6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pf(){var e=0,t=1,n,a,s,i,l=ur,d=!1,u;function h(m){return m==null||isNaN(m=+m)?u:l(s===0?.5:(m=(i(m)-n)*s,d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),a=i(t=+t),s=n===a?0:1/(a-n),h):[e,t]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var j,v;return arguments.length?([j,v]=g,l=m(j,v),h):[l(0),l(1)]}}return h.range=p(zo),h.rangeRound=p(Hj),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return i=m,n=m(e),a=m(t),s=n===a?0:1/(a-n),h}}function as(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l6(){var e=ns(Pf()(ur));return e.copy=function(){return as(e,l6())},ha.apply(e,arguments)}function c6(){var e=Qj(Pf()).domain([1,10]);return e.copy=function(){return as(e,c6()).base(e.base())},ha.apply(e,arguments)}function d6(){var e=Yj(Pf());return e.copy=function(){return as(e,d6()).constant(e.constant())},ha.apply(e,arguments)}function ow(){var e=Xj(Pf());return e.copy=function(){return as(e,ow()).exponent(e.exponent())},ha.apply(e,arguments)}function cH(){return ow.apply(null,arguments).exponent(.5)}function u6(){var e=[],t=ur;function n(a){if(a!=null&&!isNaN(a=+a))return t((rd(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ja),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>QB(e,i/a))},n.copy=function(){return u6(t).domain(e)},ha.apply(n,arguments)}function Of(){var e=0,t=.5,n=1,a=1,s,i,l,d,u,h=ur,p,m=!1,g;function j(w){return isNaN(w=+w)?g:(w=.5+((w=+p(w))-i)*(a*w<a*i?d:u),h(m?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=p(e=+e),i=p(t=+t),l=p(n=+n),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(m=!!w,j):m},j.interpolator=function(w){return arguments.length?(h=w,j):h};function v(w){return function(x){var S,P,O;return arguments.length?([S,P,O]=x,h=jU(w,[S,P,O]),j):[h(0),h(.5),h(1)]}}return j.range=v(zo),j.rangeRound=v(Hj),j.unknown=function(w){return arguments.length?(g=w,j):g},function(w){return p=w,s=w(e),i=w(t),l=w(n),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function h6(){var e=ns(Of()(ur));return e.copy=function(){return as(e,h6())},ha.apply(e,arguments)}function f6(){var e=Qj(Of()).domain([.1,1,10]);return e.copy=function(){return as(e,f6()).base(e.base())},ha.apply(e,arguments)}function m6(){var e=Yj(Of());return e.copy=function(){return as(e,m6()).constant(e.constant())},ha.apply(e,arguments)}function lw(){var e=Xj(Of());return e.copy=function(){return as(e,lw()).exponent(e.exponent())},ha.apply(e,arguments)}function dH(){return lw.apply(null,arguments).exponent(.5)}const qC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fc,scaleDiverging:h6,scaleDivergingLog:f6,scaleDivergingPow:lw,scaleDivergingSqrt:dH,scaleDivergingSymlog:m6,scaleIdentity:KE,scaleImplicit:eb,scaleLinear:gh,scaleLog:VE,scaleOrdinal:Bj,scalePoint:Xl,scalePow:Jj,scaleQuantile:XE,scaleQuantize:JE,scaleRadial:YE,scaleSequential:l6,scaleSequentialLog:c6,scaleSequentialPow:ow,scaleSequentialQuantile:u6,scaleSequentialSqrt:cH,scaleSequentialSymlog:d6,scaleSqrt:WU,scaleSymlog:QE,scaleThreshold:ZE,scaleTime:oH,scaleUtc:lH,tickFormat:HE},Symbol.toStringTag,{value:"Module"}));var fy,BC;function Ef(){if(BC)return fy;BC=1;var e=$o();function t(n,a,s){for(var i=-1,l=n.length;++i<l;){var d=n[i],u=a(d);if(u!=null&&(h===void 0?u===u&&!e(u):s(u,h)))var h=u,p=d}return p}return fy=t,fy}var my,UC;function p6(){if(UC)return my;UC=1;function e(t,n){return t>n}return my=e,my}var py,WC;function uH(){if(WC)return py;WC=1;var e=Ef(),t=p6(),n=Fo();function a(s){return s&&s.length?e(s,n,t):void 0}return py=a,py}var hH=uH();const _f=Ze(hH);var xy,HC;function x6(){if(HC)return xy;HC=1;function e(t,n){return t<n}return xy=e,xy}var gy,KC;function fH(){if(KC)return gy;KC=1;var e=Ef(),t=x6(),n=Fo();function a(s){return s&&s.length?e(s,n,t):void 0}return gy=a,gy}var mH=fH();const Tf=Ze(mH);var yy,GC;function pH(){if(GC)return yy;GC=1;var e=Nj(),t=In(),n=kE(),a=Sr();function s(i,l){var d=a(i)?e:n;return d(i,t(l,3))}return yy=s,yy}var vy,VC;function xH(){if(VC)return vy;VC=1;var e=NE(),t=pH();function n(a,s){return e(t(a,s),1)}return vy=n,vy}var gH=xH();const yH=Ze(gH);var by,QC;function vH(){if(QC)return by;QC=1;var e=$j();function t(n,a){return e(n,a)}return by=t,by}var bH=vH();const id=Ze(bH);var qo=1e9,jH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dw,ft=!0,Xr="[DecimalError] ",Bs=Xr+"Invalid argument: ",cw=Xr+"Exponent out of range: ",Bo=Math.floor,Ns=Math.pow,wH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Ht=1e7,dt=7,g6=9007199254740991,jh=Bo(g6/dt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return na(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,n=t.constructor;return nt(na(t,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Ot(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Rr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new a(0):(ft=!1,t=na(yc(n,i),yc(e,i),i),ft=!0,nt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b6(t,e):y6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Xr+"NaN");return n.s?(ft=!1,t=na(n,e,0,1).times(e),ft=!0,n.minus(t)):nt(new a(n),s)};Ne.naturalExponential=Ne.exp=function(){return v6(this)};Ne.naturalLogarithm=Ne.ln=function(){return yc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y6(t,e):b6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bs+e);if(t=Ot(s)+1,a=s.d.length-1,n=a*dt+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,a,s,i,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Xr+"NaN")}for(e=Ot(d),ft=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=On(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Bo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),n=u.precision,s=l=n+3;;)if(i=a,a=i.plus(na(d,i,l+2)).times(.5),On(i.d).slice(0,l)===(t=On(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(nt(i,n+1,0),i.times(i).eq(d)){a=i;break}}else if(t!="9999")break;l+=4}return ft=!0,nt(a,n)};Ne.times=Ne.mul=function(e){var t,n,a,s,i,l,d,u,h,p=this,m=p.constructor,g=p.d,j=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,u=g.length,h=j.length,u<h&&(i=g,g=j,j=i,l=u,u=h,h=l),i=[],l=u+h,a=l;a--;)i.push(0);for(a=h;--a>=0;){for(t=0,s=u+a;s>a;)d=i[s]+j[a]*g[s-a-1]+t,i[s--]=d%Ht|0,t=d/Ht|0;i[s]=(i[s]+t)%Ht|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ft?nt(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Tn(e,0,qo),t===void 0?t=a.rounding:Tn(t,0,8),nt(n,e+Ot(n)+1,t))};Ne.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Qs(a,!0):(Tn(e,0,qo),t===void 0?t=s.rounding:Tn(t,0,8),a=nt(new s(a),e+1,t),n=Qs(a,!0,e+1)),n};Ne.toFixed=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?Qs(s):(Tn(e,0,qo),t===void 0?t=i.rounding:Tn(t,0,8),a=nt(new i(s),e+Ot(s)+1,t),n=Qs(a.abs(),!1,e+Ot(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Ot(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,n,a,s,i,l,d=this,u=d.constructor,h=12,p=+(e=new u(e));if(!e.s)return new u(Rr);if(d=new u(d),!d.s){if(e.s<1)throw Error(Xr+"Infinity");return d}if(d.eq(Rr))return d;if(a=u.precision,e.eq(Rr))return nt(d,a);if(t=e.e,n=e.d.length-1,l=t>=n,i=d.s,l){if((n=p<0?-p:p)<=g6){for(s=new u(Rr),t=Math.ceil(a/dt+4),ft=!1;n%2&&(s=s.times(d),XC(s.d,t)),n=Bo(n/2),n!==0;)d=d.times(d),XC(d.d,t);return ft=!0,e.s<0?new u(Rr).div(s):nt(s,a)}}else if(i<0)throw Error(Xr+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,ft=!1,s=e.times(yc(d,a+h)),ft=!0,s=v6(s),s.s=i,s};Ne.toPrecision=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?(n=Ot(s),a=Qs(s,n<=i.toExpNeg||n>=i.toExpPos)):(Tn(e,1,qo),t===void 0?t=i.rounding:Tn(t,0,8),s=nt(new i(s),e,t),n=Ot(s),a=Qs(s,e<=n||n<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Tn(e,1,qo),t===void 0?t=a.rounding:Tn(t,0,8)),nt(new a(n),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),n=e.constructor;return Qs(e,t<=n.toExpNeg||t>=n.toExpPos)};function y6(e,t){var n,a,s,i,l,d,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ft?nt(t,m):t;if(u=e.d,h=t.d,l=e.e,s=t.e,u=u.slice(),i=l-s,i){for(i<0?(a=u,i=-i,d=h.length):(a=h,s=l,d=u.length),l=Math.ceil(m/dt),d=l>d?l+1:d+1,i>d&&(i=d,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(d=u.length,i=h.length,d-i<0&&(i=d,a=h,h=u,u=a),n=0;i;)n=(u[--i]=u[i]+h[i]+n)/Ht|0,u[i]%=Ht;for(n&&(u.unshift(n),++s),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=s,ft?nt(t,m):t}function Tn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bs+e)}function On(e){var t,n,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",n=dt-a.length,n&&(i+=Ma(n)),i+=a;l=e[t],a=l+"",n=dt-a.length,n&&(i+=Ma(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var na=(function(){function e(a,s){var i,l=0,d=a.length;for(a=a.slice();d--;)i=a[d]*s+l,a[d]=i%Ht|0,l=i/Ht|0;return l&&a.unshift(l),a}function t(a,s,i,l){var d,u;if(i!=l)u=i>l?1:-1;else for(d=u=0;d<i;d++)if(a[d]!=s[d]){u=a[d]>s[d]?1:-1;break}return u}function n(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Ht+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var d,u,h,p,m,g,j,v,w,x,S,P,O,N,C,A,E,T,R=a.constructor,I=a.s==s.s?1:-1,M=a.d,$=s.d;if(!a.s)return new R(a);if(!s.s)throw Error(Xr+"Division by zero");for(u=a.e-s.e,E=$.length,C=M.length,j=new R(I),v=j.d=[],h=0;$[h]==(M[h]||0);)++h;if($[h]>(M[h]||0)&&--u,i==null?P=i=R.precision:l?P=i+(Ot(a)-Ot(s))+1:P=i,P<0)return new R(0);if(P=P/dt+2|0,h=0,E==1)for(p=0,$=$[0],P++;(h<C||p)&&P--;h++)O=p*Ht+(M[h]||0),v[h]=O/$|0,p=O%$|0;else{for(p=Ht/($[0]+1)|0,p>1&&($=e($,p),M=e(M,p),E=$.length,C=M.length),N=E,w=M.slice(0,E),x=w.length;x<E;)w[x++]=0;T=$.slice(),T.unshift(0),A=$[0],$[1]>=Ht/2&&++A;do p=0,d=t($,w,E,x),d<0?(S=w[0],E!=x&&(S=S*Ht+(w[1]||0)),p=S/A|0,p>1?(p>=Ht&&(p=Ht-1),m=e($,p),g=m.length,x=w.length,d=t(m,w,g,x),d==1&&(p--,n(m,E<g?T:$,g))):(p==0&&(d=p=1),m=$.slice()),g=m.length,g<x&&m.unshift(0),n(w,m,x),d==-1&&(x=w.length,d=t($,w,E,x),d<1&&(p++,n(w,E<x?T:$,x))),x=w.length):d===0&&(p++,w=[0]),v[h++]=p,d&&w[0]?w[x++]=M[N]||0:(w=[M[N]],x=1);while((N++<C||w[0]!==void 0)&&P--)}return v[0]||v.shift(),j.e=u,nt(j,l?i+Ot(j)+1:i)}})();function v6(e,t){var n,a,s,i,l,d,u=0,h=0,p=e.constructor,m=p.precision;if(Ot(e)>16)throw Error(cw+Ot(e));if(!e.s)return new p(Rr);for(ft=!1,d=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(a=Math.log(Ns(2,h))/Math.LN10*2+5|0,d+=a,n=s=i=new p(Rr),p.precision=d;;){if(s=nt(s.times(e),d),n=n.times(++u),l=i.plus(na(s,n,d)),On(l.d).slice(0,d)===On(i.d).slice(0,d)){for(;h--;)i=nt(i.times(i),d);return p.precision=m,t==null?(ft=!0,nt(i,m)):i}i=l}}function Ot(e){for(var t=e.e*dt,n=e.d[0];n>=10;n/=10)t++;return t}function jy(e,t,n){if(t>e.LN10.sd())throw ft=!0,n&&(e.precision=n),Error(Xr+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Ma(e){for(var t="";e--;)t+="0";return t}function yc(e,t){var n,a,s,i,l,d,u,h,p,m=1,g=10,j=e,v=j.d,w=j.constructor,x=w.precision;if(j.s<1)throw Error(Xr+(j.s?"NaN":"-Infinity"));if(j.eq(Rr))return new w(0);if(t==null?(ft=!1,h=x):h=t,j.eq(10))return t==null&&(ft=!0),jy(w,h);if(h+=g,w.precision=h,n=On(v),a=n.charAt(0),i=Ot(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)j=j.times(e),n=On(j.d),a=n.charAt(0),m++;i=Ot(j),a>1?(j=new w("0."+n),i++):j=new w(a+"."+n.slice(1))}else return u=jy(w,h+2,x).times(i+""),j=yc(new w(a+"."+n.slice(1)),h-g).plus(u),w.precision=x,t==null?(ft=!0,nt(j,x)):j;for(d=l=j=na(j.minus(Rr),j.plus(Rr),h),p=nt(j.times(j),h),s=3;;){if(l=nt(l.times(p),h),u=d.plus(na(l,new w(s),h)),On(u.d).slice(0,h)===On(d.d).slice(0,h))return d=d.times(2),i!==0&&(d=d.plus(jy(w,h+2,x).times(i+""))),d=na(d,new w(m),h),w.precision=x,t==null?(ft=!0,nt(d,x)):d;d=u,s+=2}}function YC(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=Bo(n/dt),e.d=[],a=(n+1)%dt,n<0&&(a+=dt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=dt;a<s;)e.d.push(+t.slice(a,a+=dt));t=t.slice(a),a=dt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),ft&&(e.e>jh||e.e<-jh))throw Error(cw+n)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,n){var a,s,i,l,d,u,h,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=dt,s=t,h=m[p=0];else{if(p=Math.ceil((a+1)/dt),i=m.length,p>=i)return e;for(h=i=m[p],l=1;i>=10;i/=10)l++;a%=dt,s=a-dt+l}if(n!==void 0&&(i=Ns(10,l-s-1),d=h/i%10|0,u=t<0||m[p+1]!==void 0||h%i,u=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(a>0?s>0?h/Ns(10,l-s):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(i=Ot(e),m.length=1,t=t-i-1,m[0]=Ns(10,(dt-t%dt)%dt),e.e=Bo(-t/dt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,i=1,p--):(m.length=p+1,i=Ns(10,dt-a),m[p]=s>0?(h/Ns(10,l-s)%Ns(10,s)|0)*i:0),u)for(;;)if(p==0){(m[0]+=i)==Ht&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Ht)break;m[p--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(ft&&(e.e>jh||e.e<-jh))throw Error(cw+Ot(e));return e}function b6(e,t){var n,a,s,i,l,d,u,h,p,m,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ft?nt(t,j):t;if(u=e.d,m=t.d,a=t.e,h=e.e,u=u.slice(),l=h-a,l){for(p=l<0,p?(n=u,l=-l,d=m.length):(n=m,a=h,d=u.length),s=Math.max(Math.ceil(j/dt),d)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=u.length,d=m.length,p=s<d,p&&(d=s),s=0;s<d;s++)if(u[s]!=m[s]){p=u[s]<m[s];break}l=0}for(p&&(n=u,u=m,m=n,t.s=-t.s),d=u.length,s=m.length-d;s>0;--s)u[d++]=0;for(s=m.length;s>l;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=Ht-1;--u[i],u[s]+=Ht}u[s]-=m[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,ft?nt(t,j):t):new g(0)}function Qs(e,t,n){var a,s=Ot(e),i=On(e.d),l=i.length;return t?(n&&(a=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ma(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ma(-s-1)+i,n&&(a=n-l)>0&&(i+=Ma(a))):s>=l?(i+=Ma(s+1-l),n&&(a=n-s-1)>0&&(i=i+"."+Ma(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-l)>0&&(s+1===l&&(i+="."),i+=Ma(a))),e.s<0?"-"+i:i}function XC(e,t){if(e.length>t)return e.length=t,!0}function j6(e){var t,n,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bs+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return YC(l,i.toString())}else if(typeof i!="string")throw Error(Bs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,wH.test(i))YC(l,i);else throw Error(Bs+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=j6,s.config=s.set=NH,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function NH(e){if(!e||typeof e!="object")throw Error(Xr+"Object expected");var t,n,a,s=["precision",1,qo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(Bo(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Bs+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Bs+n+": "+a);return this}var dw=j6(jH);Rr=new dw(1);const rt=dw;function SH(e){return PH(e)||AH(e)||CH(e)||kH()}function kH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(e,t){if(e){if(typeof e=="string")return ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(e,t)}}function AH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PH(e){if(Array.isArray(e))return ab(e)}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var OH=function(t){return t},w6={},N6=function(t){return t===w6},JC=function(t){return function n(){return arguments.length===0||arguments.length===1&&N6(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},EH=function e(t,n){return t===1?n:JC(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(d){return d!==w6}).length;return l>=t?n.apply(void 0,s):e(t-l,JC(function(){for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];var p=s.map(function(m){return N6(m)?u.shift():m});return n.apply(void 0,SH(p).concat(u))}))})},Rf=function(t){return EH(t.length,t)},sb=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},_H=Rf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),TH=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return OH;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(d,u){return u(d)},i.apply(void 0,arguments))}},ib=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},S6=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(d,u){return d===n[u]})||(n=i,a=t.apply(void 0,i)),a}};function RH(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function MH(e,t,n){for(var a=new rt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var IH=Rf(function(e,t,n){var a=+e,s=+t;return a+n*(s-a)}),$H=Rf(function(e,t,n){var a=t-+e;return a=a||1/0,(n-e)/a}),LH=Rf(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const Mf={rangeStep:MH,getDigitCount:RH,interpolateNumber:IH,uninterpolateNumber:$H,uninterpolateTruncation:LH};function ob(e){return zH(e)||FH(e)||k6(e)||DH()}function DH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zH(e){if(Array.isArray(e))return lb(e)}function vc(e,t){return UH(e)||BH(e,t)||k6(e,t)||qH()}function qH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6(e,t){if(e){if(typeof e=="string")return lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(e,t)}}function lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function BH(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),d;!(a=(d=l.next()).done)&&(n.push(d.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function UH(e){if(Array.isArray(e))return e}function C6(e){var t=vc(e,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function A6(e,t,n){if(e.lte(0))return new rt(0);var a=Mf.getDigitCount(e.toNumber()),s=new rt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,d=new rt(Math.ceil(i.div(l).toNumber())).add(n).mul(l),u=d.mul(s);return t?u:new rt(Math.ceil(u))}function WH(e,t,n){var a=1,s=new rt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new rt(10).pow(Mf.getDigitCount(e)-1),s=new rt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new rt(Math.floor(e)))}else e===0?s=new rt(Math.floor((t-1)/2)):n||(s=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),d=TH(_H(function(u){return s.add(new rt(u-l).mul(a)).toNumber()}),sb);return d(0,t)}function P6(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var i=A6(new rt(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new rt(0):(l=new rt(e).add(t).div(2),l=l.sub(new rt(l).mod(i)));var d=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new rt(t).sub(l).div(i).toNumber()),h=d+u+1;return h>n?P6(e,t,n,a,s+1):(h<n&&(u=t>0?u+(n-h):u,d=t>0?d:d+(n-h)),{step:i,tickMin:l.sub(new rt(d).mul(i)),tickMax:l.add(new rt(u).mul(i))})}function HH(e){var t=vc(e,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),d=C6([n,a]),u=vc(d,2),h=u[0],p=u[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(ob(sb(0,s-1).map(function(){return 1/0}))):[].concat(ob(sb(0,s-1).map(function(){return-1/0})),[p]);return n>a?ib(m):m}if(h===p)return WH(h,s,i);var g=P6(h,p,l,i),j=g.step,v=g.tickMin,w=g.tickMax,x=Mf.rangeStep(v,w.add(new rt(.1).mul(j)),j);return n>a?ib(x):x}function KH(e,t){var n=vc(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=C6([a,s]),d=vc(l,2),u=d[0],h=d[1];if(u===-1/0||h===1/0)return[a,s];if(u===h)return[u];var p=Math.max(t,2),m=A6(new rt(h).sub(u).div(p-1),i,0),g=[].concat(ob(Mf.rangeStep(new rt(u),new rt(h).sub(new rt(.99).mul(m)),m)),[h]);return a>s?ib(g):g}var GH=S6(HH),VH=S6(KH),QH="Invariant failed";function Ys(e,t){throw new Error(QH)}var YH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wh.apply(this,arguments)}function XH(e,t){return tK(e)||eK(e,t)||ZH(e,t)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(e,t){if(e){if(typeof e=="string")return ZC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(e,t)}}function ZC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function eK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function tK(e){if(Array.isArray(e))return e}function rK(e,t){if(e==null)return{};var n=nK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nK(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function aK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sK(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_6(a.key),a)}}function iK(e,t,n){return t&&sK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oK(e,t,n){return t=Nh(t),lK(e,O6()?Reflect.construct(t,n||[],Nh(e).constructor):t.apply(e,n))}function lK(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(e)}function cK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(e)}function dK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cb(e,t)}function E6(e,t,n){return t=_6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=uK(e,"string");return fo(t)=="symbol"?t:t+""}function uK(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var od=(function(e){function t(){return aK(this,t),oK(this,t,arguments)}return dK(t,e),iK(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,d=a.dataKey,u=a.data,h=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,g=rK(a,YH),j=Re(g,!1);this.props.direction==="x"&&p.type!=="number"&&Ys();var v=u.map(function(w){var x=h(w,d),S=x.x,P=x.y,O=x.value,N=x.errorVal;if(!N)return null;var C=[],A,E;if(Array.isArray(N)){var T=XH(N,2);A=T[0],E=T[1]}else A=E=N;if(i==="vertical"){var R=p.scale,I=P+s,M=I+l,$=I-l,H=R(O-A),V=R(O+E);C.push({x1:V,y1:M,x2:V,y2:$}),C.push({x1:H,y1:I,x2:V,y2:I}),C.push({x1:H,y1:M,x2:H,y2:$})}else if(i==="horizontal"){var q=m.scale,B=S+s,W=B-l,U=B+l,Q=q(O-A),z=q(O+E);C.push({x1:W,y1:z,x2:U,y2:z}),C.push({x1:B,y1:Q,x2:B,y2:z}),C.push({x1:W,y1:Q,x2:U,y2:Q})}return Y.createElement(Ge,wh({className:"recharts-errorBar",key:"bar-".concat(C.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},j),C.map(function(F){return Y.createElement("line",wh({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return Y.createElement(Ge,{className:"recharts-errorBars"},v)}}])})(Y.Component);E6(od,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});E6(od,"displayName","ErrorBar");function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(a){hK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hK(e,t,n){return t=fK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=mK(e,"string");return bc(t)=="symbol"?t:t+""}function mK(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=_r(n,Xa);if(!l)return null;var d=Xa.defaultProps,u=d!==void 0?vs(vs({},d),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(a||[]).reduce(function(p,m){var g=m.item,j=m.props,v=j.sectors||j.data||[];return p.concat(v.map(function(w){return{type:l.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(a||[]).map(function(p){var m=p.item,g=m.type.defaultProps,j=g!==void 0?vs(vs({},g),m.props):{},v=j.dataKey,w=j.name,x=j.legendType,S=j.hide;return{inactive:S,dataKey:v,type:u.iconType||x||"square",color:uw(m),value:w||v,payload:j}}),vs(vs(vs({},u),Xa.getWithHeight(l,s)),{},{payload:h,item:l})};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function tA(e){return yK(e)||gK(e)||xK(e)||pK()}function pK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(e,t){if(e){if(typeof e=="string")return db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(e,t)}}function gK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yK(e){if(Array.isArray(e))return db(e)}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(a){Ui(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ui(e,t,n){return t=vK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=bK(e,"string");return jc(t)=="symbol"?t:t+""}function bK(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,n){return ze(e)||ze(t)?n:Dt(t)?Mr(e,t,n):Fe(t)?t(e):n}function Jl(e,t,n,a){var s=yH(e,function(d){return Lt(d,t)});if(n==="number"){var i=s.filter(function(d){return ge(d)||parseFloat(d)});return i.length?[Tf(i),_f(i)]:[1/0,-1/0]}var l=a?s.filter(function(d){return!ze(d)}):s;return l.map(function(d){return Dt(d)||d instanceof Date?d:""})}var jK=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,d=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(d<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,h=0;h<d;h++){var p=h>0?s[h-1].coordinate:s[d-1].coordinate,m=s[h].coordinate,g=h>=d-1?s[0].coordinate:s[h+1].coordinate,j=void 0;if(cr(m-p)!==cr(g-m)){var v=[];if(cr(g-m)===cr(u[1]-u[0])){j=g;var w=m+u[1]-u[0];v[0]=Math.min(w,(w+p)/2),v[1]=Math.max(w,(w+p)/2)}else{j=p;var x=g+u[1]-u[0];v[0]=Math.min(m,(x+m)/2),v[1]=Math.max(m,(x+m)/2)}var S=[Math.min(m,(j+m)/2),Math.max(m,(j+m)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){l=s[h].index;break}}else{var P=Math.min(p,g),O=Math.max(p,g);if(t>(P+m)/2&&t<=(O+m)/2){l=s[h].index;break}}}else for(var N=0;N<d;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<d-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===d-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){l=a[N].index;break}return l},uw=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,l=i.stroke,d=i.fill,u;switch(s){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:d;break;default:u=d;break}return u},wK=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},d=Object.keys(i),u=0,h=d.length;u<h;u++)for(var p=i[d[u]].stackGroups,m=Object.keys(p),g=0,j=m.length;g<j;g++){var v=p[m[g]],w=v.items,x=v.cateAxisId,S=w.filter(function(E){return ra(E.type).indexOf("Bar")>=0});if(S&&S.length){var P=S[0].type.defaultProps,O=P!==void 0?bt(bt({},P),S[0].props):S[0].props,N=O.barSize,C=O[x];l[C]||(l[C]=[]);var A=ze(N)?n:N;l[C].push({item:S[0],stackList:S.slice(1),barSize:ze(A)?void 0:dr(A,a,0)})}}return l},NK=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,d=t.maxBarSize,u=l.length;if(u<1)return null;var h=dr(n,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=s/u,v=l.reduce(function(N,C){return N+C.barSize||0},0);v+=(u-1)*h,v>=s&&(v-=(u-1)*h,h=0),v>=s&&j>0&&(g=!0,j*=.9,v=u*j);var w=(s-v)/2>>0,x={offset:w-h,size:0};p=l.reduce(function(N,C){var A={item:C.item,position:{offset:x.offset+x.size+h,size:g?j:C.barSize}},E=[].concat(tA(N),[A]);return x=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){E.push({item:T,position:x})}),E},m)}else{var S=dr(a,s,0,!0);s-2*S-(u-1)*h<=0&&(h=0);var P=(s-2*S-(u-1)*h)/u;P>1&&(P>>=0);var O=d===+d?Math.min(P,d):P;p=l.reduce(function(N,C,A){var E=[].concat(tA(N),[{item:C.item,position:{offset:S+(P+h)*A+(P-O)/2,size:O}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},m)}return p},SK=function(t,n,a,s){var i=a.children,l=a.width,d=a.margin,u=l-(d.left||0)-(d.right||0),h=T6({children:i,legendWidth:u});if(h){var p=s||{},m=p.width,g=p.height,j=h.align,v=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&j!=="center"&&ge(t[j]))return bt(bt({},t),{},Ui({},j,t[j]+(m||0)));if((w==="horizontal"||w==="vertical"&&j==="center")&&v!=="middle"&&ge(t[v]))return bt(bt({},t),{},Ui({},v,t[v]+(g||0)))}return t},kK=function(t,n,a){return ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},R6=function(t,n,a,s,i){var l=n.props.children,d=Ir(l,od).filter(function(h){return kK(s,i,h.props.direction)});if(d&&d.length){var u=d.map(function(h){return h.props.dataKey});return t.reduce(function(h,p){var m=Lt(p,a);if(ze(m))return h;var g=Array.isArray(m)?[Tf(m),_f(m)]:[m,m],j=u.reduce(function(v,w){var x=Lt(p,w,0),S=g[0]-Math.abs(Array.isArray(x)?x[0]:x),P=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,v[0]),Math.max(P,v[1])]},[1/0,-1/0]);return[Math.min(j[0],h[0]),Math.max(j[1],h[1])]},[1/0,-1/0])}return null},CK=function(t,n,a,s,i){var l=n.map(function(d){return R6(t,d,a,i,s)}).filter(function(d){return!ze(d)});return l&&l.length?l.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},M6=function(t,n,a,s,i){var l=n.map(function(u){var h=u.props.dataKey;return a==="number"&&h&&R6(t,u,h,s)||Jl(t,h,a,i)});if(a==="number")return l.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var d={};return l.reduce(function(u,h){for(var p=0,m=h.length;p<m;p++)d[h[p]]||(d[h[p]]=!0,u.push(h[p]));return u},[])},I6=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$6=function(t,n,a,s){if(s)return t.map(function(u){return u.coordinate});var i,l,d=t.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===a&&(l=!0),u.coordinate});return i||d.push(n),l||d.push(a),d},ta=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,d=t.range,u=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,h=(n||a)&&l==="category"&&s.bandwidth?s.bandwidth()/u:0;if(h=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?cr(d[0]-d[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+h,value:m,offset:h}});return p.filter(function(m){return!ed(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:s(m)+h,value:m,index:g,offset:h}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+h,value:m,offset:h}}):s.domain().map(function(m,g){return{coordinate:s(m)+h,value:i?i[m]:m,index:g,offset:h}})},wy=new WeakMap,Tu=function(t,n){if(typeof n!="function")return t;wy.has(t)||wy.set(t,new WeakMap);var a=wy.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},L6=function(t,n,a){var s=t.scale,i=t.type,l=t.layout,d=t.axisType;if(s==="auto")return l==="radial"&&d==="radiusAxis"?{scale:fc(),realScaleType:"band"}:l==="radial"&&d==="angleAxis"?{scale:gh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Xl(),realScaleType:"point"}:i==="category"?{scale:fc(),realScaleType:"band"}:{scale:gh(),realScaleType:"linear"};if(Ks(s)){var u="scale".concat(xf(s));return{scale:(qC[u]||Xl)(),realScaleType:qC[u]?u:"point"}}return Fe(s)?{scale:s}:{scale:Xl(),realScaleType:"point"}},nA=1e-4,D6=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-nA,l=Math.max(s[0],s[1])+nA,d=t(n[0]),u=t(n[a-1]);(d<i||d>l||u<i||u>l)&&t.domain([n[0],n[a-1]])}},AK=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},PK=function(t,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ge(t[0])||t[0]<a)&&(i[0]=a),(!ge(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},OK=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,d=0;d<n;++d){var u=ed(t[d][a][1])?t[d][a][0]:t[d][a][1];u>=0?(t[d][a][0]=i,t[d][a][1]=i+u,i=t[d][a][1]):(t[d][a][0]=l,t[d][a][1]=l+u,l=t[d][a][1])}},EK=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<n;++l){var d=ed(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=i,t[l][a][1]=i+d,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},_K={sign:OK,expand:yF,none:ao,silhouette:vF,wiggle:bF,positive:EK},TK=function(t,n,a){var s=n.map(function(d){return d.props.dataKey}),i=_K[a],l=gF().keys(s).value(function(d,u){return+Lt(d,u,0)}).order(zv).offset(i);return l(t)},RK=function(t,n,a,s,i,l){if(!t)return null;var d=l?n.reverse():n,u={},h=d.reduce(function(m,g){var j,v=(j=g.type)!==null&&j!==void 0&&j.defaultProps?bt(bt({},g.type.defaultProps),g.props):g.props,w=v.stackId,x=v.hide;if(x)return m;var S=v[a],P=m[S]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var O=P.stackGroups[w]||{numericAxisId:a,cateAxisId:s,items:[]};O.items.push(g),P.hasStack=!0,P.stackGroups[w]=O}else P.stackGroups[Do("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return bt(bt({},m),{},Ui({},S,P))},u),p={};return Object.keys(h).reduce(function(m,g){var j=h[g];if(j.hasStack){var v={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(w,x){var S=j.stackGroups[x];return bt(bt({},w),{},Ui({},x,{numericAxisId:a,cateAxisId:s,items:S.items,stackedData:TK(t,S.items,i)}))},v)}return bt(bt({},m),{},Ui({},g,j))},p)},F6=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,d=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var p=GH(h,i,d);return t.domain([Tf(p),_f(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),g=VH(m,i,d);return{niceTicks:g}}return null};function aA(e){var t=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ze(s[t.dataKey])){var d=Ju(n,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=Lt(s,ze(l)?t.dataKey:l);return ze(u)?null:t.scale(u)}var sA=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,d=t.index;if(n.type==="category")return a[d]?a[d].coordinate+s:null;var u=Lt(l,n.dataKey,n.domain[d]);return ze(u)?null:n.scale(u)-i/2+s},MK=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},IK=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Dt(i)){var l=n[i];if(l){var d=l.items.indexOf(t);return d>=0?l.stackedData[d]:null}}return null},$K=function(t){return t.reduce(function(n,a){return[Tf(a.concat([n[0]]).filter(ge)),_f(a.concat([n[1]]).filter(ge))]},[1/0,-1/0])},z6=function(t,n,a){return Object.keys(t).reduce(function(s,i){var l=t[i],d=l.stackedData,u=d.reduce(function(h,p){var m=$K(p.slice(n,a+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},iA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ub=function(t,n,a){if(Fe(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(ge(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(iA.test(t[0])){var i=+iA.exec(t[0])[1];s[0]=n[0]-i}else Fe(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ge(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(oA.test(t[1])){var l=+oA.exec(t[1])[1];s[1]=n[1]+l}else Fe(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Sh=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=Dj(n,function(m){return m.coordinate}),l=1/0,d=1,u=i.length;d<u;d++){var h=i[d],p=i[d-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},lA=function(t,n,a){return!t||!t.length||id(t,Mr(a,"type.defaultProps.domain"))?n:t},q6=function(t,n){var a=t.type.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,d=a.formatter,u=a.tooltipType,h=a.chartType,p=a.hide;return bt(bt({},Re(t,!1)),{},{dataKey:s,unit:l,formatter:d,name:i||s,color:uw(t),value:Lt(n,s),type:u,payload:n,chartType:h,hide:p})};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(a){B6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function B6(e,t,n){return t=LK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=DK(e,"string");return wc(t)=="symbol"?t:t+""}function DK(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){return UK(e)||BK(e,t)||qK(e,t)||zK()}function zK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(e,t){if(e){if(typeof e=="string")return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function BK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function UK(e){if(Array.isArray(e))return e}var kh=Math.PI/180,WK=function(t){return t*180/Math.PI},ot=function(t,n,a,s){return{x:t+Math.cos(-kh*s)*a,y:n+Math.sin(-kh*s)*a}},U6=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},HK=function(t,n,a,s,i){var l=t.width,d=t.height,u=t.startAngle,h=t.endAngle,p=dr(t.cx,l,l/2),m=dr(t.cy,d,d/2),g=U6(l,d,a),j=dr(t.innerRadius,g,0),v=dr(t.outerRadius,g,g*.8),w=Object.keys(n);return w.reduce(function(x,S){var P=n[S],O=P.domain,N=P.reversed,C;if(ze(P.range))s==="angleAxis"?C=[u,h]:s==="radiusAxis"&&(C=[j,v]),N&&(C=[C[1],C[0]]);else{C=P.range;var A=C,E=FK(A,2);u=E[0],h=E[1]}var T=L6(P,i),R=T.realScaleType,I=T.scale;I.domain(O).range(C),D6(I);var M=F6(I,Gn(Gn({},P),{},{realScaleType:R})),$=Gn(Gn(Gn({},P),M),{},{range:C,radius:v,realScaleType:R,scale:I,cx:p,cy:m,innerRadius:j,outerRadius:v,startAngle:u,endAngle:h});return Gn(Gn({},x),{},B6({},S,$))},{})},KK=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},GK=function(t,n){var a=t.x,s=t.y,i=n.cx,l=n.cy,d=KK({x:a,y:s},{x:i,y:l});if(d<=0)return{radius:d};var u=(a-i)/d,h=Math.acos(u);return s>l&&(h=2*Math.PI-h),{radius:d,angle:WK(h),angleInRadian:h}},VK=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:a-l*360}},QK=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),d=Math.min(i,l);return t+d*360},uA=function(t,n){var a=t.x,s=t.y,i=GK({x:a,y:s},n),l=i.radius,d=i.angle,u=n.innerRadius,h=n.outerRadius;if(l<u||l>h)return!1;if(l===0)return!0;var p=VK(n),m=p.startAngle,g=p.endAngle,j=d,v;if(m<=g){for(;j>g;)j-=360;for(;j<m;)j+=360;v=j>=m&&j<=g}else{for(;j>m;)j-=360;for(;j<g;)j+=360;v=j>=g&&j<=m}return v?Gn(Gn({},n),{},{radius:l,angle:QK(j,n)}):null},W6=function(t){return!b.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var YK=["offset"];function XK(e){return tG(e)||eG(e)||ZK(e)||JK()}function JK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(e,t){if(e){if(typeof e=="string")return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}}function eG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tG(e){if(Array.isArray(e))return hb(e)}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function rG(e,t){if(e==null)return{};var n=nG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(a){aG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aG(e,t,n){return t=sG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sG(e){var t=iG(e,"string");return Nc(t)=="symbol"?t:t+""}function iG(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Nc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sc.apply(this,arguments)}var oG=function(t){var n=t.value,a=t.formatter,s=ze(t.children)?n:t.children;return Fe(a)?a(s):s},lG=function(t,n){var a=cr(n-t),s=Math.min(Math.abs(n-t),360);return a*s},cG=function(t,n,a){var s=t.position,i=t.viewBox,l=t.offset,d=t.className,u=i,h=u.cx,p=u.cy,m=u.innerRadius,g=u.outerRadius,j=u.startAngle,v=u.endAngle,w=u.clockWise,x=(m+g)/2,S=lG(j,v),P=S>=0?1:-1,O,N;s==="insideStart"?(O=j+P*l,N=w):s==="insideEnd"?(O=v-P*l,N=!w):s==="end"&&(O=v+P*l,N=w),N=S<=0?N:!N;var C=ot(h,p,x,O),A=ot(h,p,x,O+(N?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),T=ze(t.id)?Do("recharts-radial-line-"):t.id;return Y.createElement("text",Sc({},a,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",d)}),Y.createElement("defs",null,Y.createElement("path",{id:T,d:E})),Y.createElement("textPath",{xlinkHref:"#".concat(T)},n))},dG=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,l=i.cx,d=i.cy,u=i.innerRadius,h=i.outerRadius,p=i.startAngle,m=i.endAngle,g=(p+m)/2;if(s==="outside"){var j=ot(l,d,h+a,g),v=j.x,w=j.y;return{x:v,y:w,textAnchor:v>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"end"};var x=(u+h)/2,S=ot(l,d,x,g),P=S.x,O=S.y;return{x:P,y:O,textAnchor:"middle",verticalAnchor:"middle"}},uG=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=n,d=l.x,u=l.y,h=l.width,p=l.height,m=p>=0?1:-1,g=m*s,j=m>0?"end":"start",v=m>0?"start":"end",w=h>=0?1:-1,x=w*s,S=w>0?"end":"start",P=w>0?"start":"end";if(i==="top"){var O={x:d+h/2,y:u-m*s,textAnchor:"middle",verticalAnchor:j};return Mt(Mt({},O),a?{height:Math.max(u-a.y,0),width:h}:{})}if(i==="bottom"){var N={x:d+h/2,y:u+p+g,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},N),a?{height:Math.max(a.y+a.height-(u+p),0),width:h}:{})}if(i==="left"){var C={x:d-x,y:u+p/2,textAnchor:S,verticalAnchor:"middle"};return Mt(Mt({},C),a?{width:Math.max(C.x-a.x,0),height:p}:{})}if(i==="right"){var A={x:d+h+x,y:u+p/2,textAnchor:P,verticalAnchor:"middle"};return Mt(Mt({},A),a?{width:Math.max(a.x+a.width-A.x,0),height:p}:{})}var E=a?{width:h,height:p}:{};return i==="insideLeft"?Mt({x:d+x,y:u+p/2,textAnchor:P,verticalAnchor:"middle"},E):i==="insideRight"?Mt({x:d+h-x,y:u+p/2,textAnchor:S,verticalAnchor:"middle"},E):i==="insideTop"?Mt({x:d+h/2,y:u+g,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Mt({x:d+h/2,y:u+p-g,textAnchor:"middle",verticalAnchor:j},E):i==="insideTopLeft"?Mt({x:d+x,y:u+g,textAnchor:P,verticalAnchor:v},E):i==="insideTopRight"?Mt({x:d+h-x,y:u+g,textAnchor:S,verticalAnchor:v},E):i==="insideBottomLeft"?Mt({x:d+x,y:u+p-g,textAnchor:P,verticalAnchor:j},E):i==="insideBottomRight"?Mt({x:d+h-x,y:u+p-g,textAnchor:S,verticalAnchor:j},E):Lo(i)&&(ge(i.x)||As(i.x))&&(ge(i.y)||As(i.y))?Mt({x:d+dr(i.x,h),y:u+dr(i.y,p),textAnchor:"end",verticalAnchor:"end"},E):Mt({x:d+h/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},hG=function(t){return"cx"in t&&ge(t.cx)};function Kt(e){var t=e.offset,n=t===void 0?5:t,a=rG(e,YK),s=Mt({offset:n},a),i=s.viewBox,l=s.position,d=s.value,u=s.children,h=s.content,p=s.className,m=p===void 0?"":p,g=s.textBreakAll;if(!i||ze(d)&&ze(u)&&!b.isValidElement(h)&&!Fe(h))return null;if(b.isValidElement(h))return b.cloneElement(h,s);var j;if(Fe(h)){if(j=b.createElement(h,s),b.isValidElement(j))return j}else j=oG(s);var v=hG(i),w=Re(s,!0);if(v&&(l==="insideStart"||l==="insideEnd"||l==="end"))return cG(s,j,w);var x=v?dG(s):uG(s);return Y.createElement(Vs,Sc({className:qe("recharts-label",m)},w,x,{breakAll:g}),j)}Kt.displayName="Label";var H6=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,d=t.r,u=t.radius,h=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,j=t.top,v=t.left,w=t.width,x=t.height,S=t.clockWise,P=t.labelViewBox;if(P)return P;if(ge(w)&&ge(x)){if(ge(m)&&ge(g))return{x:m,y:g,width:w,height:x};if(ge(j)&&ge(v))return{x:j,y:v,width:w,height:x}}return ge(m)&&ge(g)?{x:m,y:g,width:0,height:0}:ge(n)&&ge(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:h||0,outerRadius:p||u||d||0,clockWise:S}:t.viewBox?t.viewBox:{}},fG=function(t,n){return t?t===!0?Y.createElement(Kt,{key:"label-implicit",viewBox:n}):Dt(t)?Y.createElement(Kt,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===Kt?b.cloneElement(t,{key:"label-implicit",viewBox:n}):Y.createElement(Kt,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?Y.createElement(Kt,{key:"label-implicit",content:t,viewBox:n}):Lo(t)?Y.createElement(Kt,Sc({viewBox:n},t,{key:"label-implicit"})):null:null},mG=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=H6(t),l=Ir(s,Kt).map(function(u,h){return b.cloneElement(u,{viewBox:n||i,key:"label-".concat(h)})});if(!a)return l;var d=fG(t.label,n||i);return[d].concat(XK(l))};Kt.parseViewBox=H6;Kt.renderCallByParent=mG;var Ny,fA;function pG(){if(fA)return Ny;fA=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Ny=e,Ny}var xG=pG();const gG=Ze(xG);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var yG=["valueAccessor"],vG=["data","dataKey","clockWise","id","textBreakAll"];function bG(e){return SG(e)||NG(e)||wG(e)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){if(e){if(typeof e=="string")return fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(e,t)}}function NG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SG(e){if(Array.isArray(e))return fb(e)}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ch.apply(this,arguments)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(a){kG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kG(e,t,n){return t=CG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e){var t=AG(e,"string");return kc(t)=="symbol"?t:t+""}function AG(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xA(e,t){if(e==null)return{};var n=PG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function PG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var OG=function(t){return Array.isArray(t.value)?gG(t.value):t.value};function aa(e){var t=e.valueAccessor,n=t===void 0?OG:t,a=xA(e,yG),s=a.data,i=a.dataKey,l=a.clockWise,d=a.id,u=a.textBreakAll,h=xA(a,vG);return!s||!s.length?null:Y.createElement(Ge,{className:"recharts-label-list"},s.map(function(p,m){var g=ze(i)?n(p,m):Lt(p&&p.payload,i),j=ze(d)?{}:{id:"".concat(d,"-").concat(m)};return Y.createElement(Kt,Ch({},Re(p,!0),h,j,{parentViewBox:p.parentViewBox,value:g,textBreakAll:u,viewBox:Kt.parseViewBox(ze(l)?p:pA(pA({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}aa.displayName="LabelList";function EG(e,t){return e?e===!0?Y.createElement(aa,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||Fe(e)?Y.createElement(aa,{key:"labelList-implicit",data:t,content:e}):Lo(e)?Y.createElement(aa,Ch({data:t},e,{key:"labelList-implicit"})):null:null}function _G(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=Ir(a,aa).map(function(l,d){return b.cloneElement(l,{data:t,key:"labelList-".concat(d)})});if(!n)return s;var i=EG(e.label,t);return[i].concat(bG(s))}aa.renderCallByParent=_G;function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mb.apply(this,arguments)}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(a){TG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TG(e,t,n){return t=RG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RG(e){var t=MG(e,"string");return Cc(t)=="symbol"?t:t+""}function MG(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IG=function(t,n){var a=cr(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},Ru=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,d=t.isExternal,u=t.cornerRadius,h=t.cornerIsExternal,p=u*(d?1:-1)+s,m=Math.asin(u/p)/kh,g=h?i:i+l*m,j=ot(n,a,p,g),v=ot(n,a,s,g),w=h?i-l*m:i,x=ot(n,a,p*Math.cos(m*kh),w);return{center:j,circleTangency:v,lineTangency:x,theta:m}},K6=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,d=t.endAngle,u=IG(l,d),h=l+u,p=ot(n,a,i,l),m=ot(n,a,i,h),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var j=ot(n,a,s,l),v=ot(n,a,s,h);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=h),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(n,",").concat(a," Z");return g},$G=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,d=t.forceCornerRadius,u=t.cornerIsExternal,h=t.startAngle,p=t.endAngle,m=cr(p-h),g=Ru({cx:n,cy:a,radius:i,angle:h,sign:m,cornerRadius:l,cornerIsExternal:u}),j=g.circleTangency,v=g.lineTangency,w=g.theta,x=Ru({cx:n,cy:a,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),S=x.circleTangency,P=x.lineTangency,O=x.theta,N=u?Math.abs(h-p):Math.abs(h-p)-w-O;if(N<0)return d?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):K6({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:h,endAngle:p});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
  `);if(s>0){var A=Ru({cx:n,cy:a,radius:s,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),E=A.circleTangency,T=A.lineTangency,R=A.theta,I=Ru({cx:n,cy:a,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),M=I.circleTangency,$=I.lineTangency,H=I.theta,V=u?Math.abs(h-p):Math.abs(h-p)-R-H;if(V<0&&l===0)return"".concat(C,"L").concat(n,",").concat(a,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else C+="L".concat(n,",").concat(a,"Z");return C},LG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G6=function(t){var n=yA(yA({},LG),t),a=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,d=n.cornerRadius,u=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,g=n.className;if(l<i||p===m)return null;var j=qe("recharts-sector",g),v=l-i,w=dr(d,v,0,!0),x;return w>0&&Math.abs(p-m)<360?x=$G({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,v/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:p,endAngle:m}):x=K6({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),Y.createElement("path",mb({},Re(n,!0),{className:j,d:x,role:"img"}))};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pb.apply(this,arguments)}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(a){DG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DG(e,t,n){return t=FG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=zG(e,"string");return Ac(t)=="symbol"?t:t+""}function zG(e,t){if(Ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA={curveBasisClosed:iF,curveBasisOpen:oF,curveBasis:sF,curveBumpX:H9,curveBumpY:K9,curveLinearClosed:lF,curveLinear:yf,curveMonotoneX:cF,curveMonotoneY:dF,curveNatural:uF,curveStep:hF,curveStepAfter:mF,curveStepBefore:fF},Mu=function(t){return t.x===+t.x&&t.y===+t.y},Fl=function(t){return t.x},zl=function(t){return t.y},qG=function(t,n){if(Fe(t))return t;var a="curve".concat(xf(t));return(a==="curveMonotone"||a==="curveBump")&&n?jA["".concat(a).concat(n==="vertical"?"Y":"X")]:jA[a]||yf},BG=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,d=t.layout,u=t.connectNulls,h=u===void 0?!1:u,p=qG(a,d),m=h?i.filter(function(w){return Mu(w)}):i,g;if(Array.isArray(l)){var j=h?l.filter(function(w){return Mu(w)}):l,v=m.map(function(w,x){return bA(bA({},w),{},{base:j[x]})});return d==="vertical"?g=ku().y(zl).x1(Fl).x0(function(w){return w.base.x}):g=ku().x(Fl).y1(zl).y0(function(w){return w.base.y}),g.defined(Mu).curve(p),g(v)}return d==="vertical"&&ge(l)?g=ku().y(zl).x1(Fl).x0(l):ge(l)?g=ku().x(Fl).y1(zl).y0(l):g=KO().x(Fl).y(zl),g.defined(Mu).curve(p),g(m)},Ah=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?BG(t):s;return b.createElement("path",pb({},Re(t,!1),Zu(t),{className:qe("recharts-curve",n),d:l,ref:i}))},Sy={exports:{}},ky,wA;function UG(){if(wA)return ky;wA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ky=e,ky}var Cy,NA;function WG(){if(NA)return Cy;NA=1;var e=UG();function t(){}function n(){}return n.resetWarningCache=t,Cy=function(){function a(l,d,u,h,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Cy}var SA;function HG(){return SA||(SA=1,Sy.exports=WG()()),Sy.exports}var KG=HG();const Xe=Ze(KG),{getOwnPropertyNames:GG,getOwnPropertySymbols:VG}=Object,{hasOwnProperty:QG}=Object.prototype;function Ay(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Iu(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);const{cache:i}=s,l=i.get(n),d=i.get(a);if(l&&d)return l===a&&d===n;i.set(n,a),i.set(a,n);const u=e(n,a,s);return i.delete(n),i.delete(a),u}}function YG(e){return e!=null?e[Symbol.toStringTag]:void 0}function kA(e){return GG(e).concat(VG(e))}const XG=Object.hasOwn||((e,t)=>QG.call(e,t));function ai(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const JG="__v",ZG="__o",eV="_owner",{getOwnPropertyDescriptor:CA,keys:AA}=Object;function tV(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e),new Uint8Array(t))}function rV(e,t,n){let a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function nV(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function aV(e,t){return ai(e.getTime(),t.getTime())}function sV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iV(e,t){return e===t}function PA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.entries();let l,d,u=0;for(;(l=i.next())&&!l.done;){const h=t.entries();let p=!1,m=0;for(;(d=h.next())&&!d.done;){if(s[m]){m++;continue}const g=l.value,j=d.value;if(n.equals(g[0],j[0],u,m,e,t,n)&&n.equals(g[1],j[1],g[0],j[0],e,t,n)){p=s[m]=!0;break}m++}if(!p)return!1;u++}return!0}const oV=ai;function lV(e,t,n){const a=AA(e);let s=a.length;if(AA(t).length!==s)return!1;for(;s-- >0;)if(!V6(e,t,n,a[s]))return!1;return!0}function ql(e,t,n){const a=kA(e);let s=a.length;if(kA(t).length!==s)return!1;let i,l,d;for(;s-- >0;)if(i=a[s],!V6(e,t,n,i)||(l=CA(e,i),d=CA(t,i),(l||d)&&(!l||!d||l.configurable!==d.configurable||l.enumerable!==d.enumerable||l.writable!==d.writable)))return!1;return!0}function cV(e,t){return ai(e.valueOf(),t.valueOf())}function dV(e,t){return e.source===t.source&&e.flags===t.flags}function OA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.values();let l,d;for(;(l=i.next())&&!l.done;){const u=t.values();let h=!1,p=0;for(;(d=u.next())&&!d.done;){if(!s[p]&&n.equals(l.value,d.value,l.value,d.value,e,t,n)){h=s[p]=!0;break}p++}if(!h)return!1}return!0}function Ph(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function uV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function V6(e,t,n,a){return(a===eV||a===ZG||a===JG)&&(e.$$typeof||t.$$typeof)?!0:XG(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}const hV="[object ArrayBuffer]",fV="[object Arguments]",mV="[object Boolean]",pV="[object DataView]",xV="[object Date]",gV="[object Error]",yV="[object Map]",vV="[object Number]",bV="[object Object]",jV="[object RegExp]",wV="[object Set]",NV="[object String]",SV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kV="[object URL]",CV=Object.prototype.toString;function AV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:d,areObjectsEqual:u,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:j,unknownTagComparators:v}){return function(x,S,P){if(x===S)return!0;if(x==null||S==null)return!1;const O=typeof x;if(O!==typeof S)return!1;if(O!=="object")return O==="number"?d(x,S,P):O==="function"?i(x,S,P):!1;const N=x.constructor;if(N!==S.constructor)return!1;if(N===Object)return u(x,S,P);if(Array.isArray(x))return t(x,S,P);if(N===Date)return a(x,S,P);if(N===RegExp)return p(x,S,P);if(N===Map)return l(x,S,P);if(N===Set)return m(x,S,P);const C=CV.call(x);if(C===xV)return a(x,S,P);if(C===jV)return p(x,S,P);if(C===yV)return l(x,S,P);if(C===wV)return m(x,S,P);if(C===bV)return typeof x.then!="function"&&typeof S.then!="function"&&u(x,S,P);if(C===kV)return j(x,S,P);if(C===gV)return s(x,S,P);if(C===fV)return u(x,S,P);if(SV[C])return g(x,S,P);if(C===hV)return e(x,S,P);if(C===pV)return n(x,S,P);if(C===mV||C===vV||C===NV)return h(x,S,P);if(v){let A=v[C];if(!A){const E=YG(x);E&&(A=v[E])}if(A)return A(x,S,P)}return!1}}function PV({circular:e,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:tV,areArraysEqual:n?ql:rV,areDataViewsEqual:nV,areDatesEqual:aV,areErrorsEqual:sV,areFunctionsEqual:iV,areMapsEqual:n?Ay(PA,ql):PA,areNumbersEqual:oV,areObjectsEqual:n?ql:lV,arePrimitiveWrappersEqual:cV,areRegExpsEqual:dV,areSetsEqual:n?Ay(OA,ql):OA,areTypedArraysEqual:n?Ay(Ph,ql):Ph,areUrlsEqual:uV,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),e){const s=Iu(a.areArraysEqual),i=Iu(a.areMapsEqual),l=Iu(a.areObjectsEqual),d=Iu(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:d})}return a}function OV(e){return function(t,n,a,s,i,l,d){return e(t,n,d)}}function EV({circular:e,comparator:t,createState:n,equals:a,strict:s}){if(n)return function(d,u){const{cache:h=e?new WeakMap:void 0,meta:p}=n();return t(d,u,{cache:h,equals:a,meta:p,strict:s})};if(e)return function(d,u){return t(d,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(d,u){return t(d,u,i)}}const _V=ss();ss({strict:!0});ss({circular:!0});ss({circular:!0,strict:!0});ss({createInternalComparator:()=>ai});ss({strict:!0,createInternalComparator:()=>ai});ss({circular:!0,createInternalComparator:()=>ai});ss({circular:!0,createInternalComparator:()=>ai,strict:!0});function ss(e={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:s=!1}=e,i=PV(e),l=AV(i),d=n?n(l):OV(l);return EV({circular:t,comparator:l,createState:a,equals:d,strict:s})}function TV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):TV(s)};requestAnimationFrame(a)}function xb(e){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xb(e)}function RV(e){return LV(e)||$V(e)||IV(e)||MV()}function MV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IV(e,t){if(e){if(typeof e=="string")return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LV(e){if(Array.isArray(e))return e}function DV(){var e={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,d=RV(l),u=d[0],h=d.slice(1);if(typeof u=="number"){EA(s.bind(null,h),u);return}s(u),EA(s.bind(null,h));return}xb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(a){Q6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Q6(e,t,n){return t=FV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FV(e){var t=zV(e,"string");return Pc(t)==="symbol"?t:String(t)}function zV(e,t){if(Pc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Pc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qV=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},BV=function(t){return t},UV=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zl=function(t,n){return Object.keys(n).reduce(function(a,s){return RA(RA({},a),{},Q6({},s,t(s,n[s])))},{})},MA=function(t,n,a){return t.map(function(s){return"".concat(UV(s)," ").concat(n,"ms ").concat(a)}).join(",")};function WV(e,t){return GV(e)||KV(e,t)||Y6(e,t)||HV()}function HV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function GV(e){if(Array.isArray(e))return e}function VV(e){return XV(e)||YV(e)||Y6(e)||QV()}function QV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6(e,t){if(e){if(typeof e=="string")return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}}function YV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XV(e){if(Array.isArray(e))return gb(e)}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Oh=1e-4,X6=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},J6=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},IA=function(t,n){return function(a){var s=X6(t,n);return J6(s,a)}},JV=function(t,n){return function(a){var s=X6(t,n),i=[].concat(VV(s.map(function(l,d){return l*d}).slice(1)),[0]);return J6(i,a)}},$A=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],l=n[2],d=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,d=1;break;case"ease":s=.25,i=.1,l=.25,d=1;break;case"ease-in":s=.42,i=0,l=1,d=1;break;case"ease-out":s=.42,i=0,l=.58,d=1;break;case"ease-in-out":s=0,i=0,l=.58,d=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=WV(h,4);s=p[0],i=p[1],l=p[2],d=p[3]}}}var m=IA(s,l),g=IA(i,d),j=JV(s,l),v=function(S){return S>1?1:S<0?0:S},w=function(S){for(var P=S>1?1:S,O=P,N=0;N<8;++N){var C=m(O)-P,A=j(O);if(Math.abs(C-P)<Oh||A<Oh)return g(O);O=v(O-C/A)}return g(O)};return w.isStepper=!1,w},ZV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,d=l===void 0?17:l,u=function(p,m,g){var j=-(p-m)*a,v=g*i,w=g+(j-v)*d/1e3,x=g*d/1e3+p;return Math.abs(x-m)<Oh&&Math.abs(w)<Oh?[m,0]:[x,w]};return u.isStepper=!0,u.dt=d,u},eQ=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $A(s);case"spring":return ZV();default:if(s.split("(")[0]==="cubic-bezier")return $A(s)}return typeof s=="function"?s:null};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function LA(e){return nQ(e)||rQ(e)||Z6(e)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nQ(e){if(Array.isArray(e))return vb(e)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(a){yb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yb(e,t,n){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aQ(e){var t=sQ(e,"string");return Oc(t)==="symbol"?t:String(t)}function sQ(e,t){if(Oc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Oc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e,t){return cQ(e)||lQ(e,t)||Z6(e,t)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6(e,t){if(e){if(typeof e=="string")return vb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function lQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function cQ(e){if(Array.isArray(e))return e}var Eh=function(t,n,a){return t+(n-t)*a},bb=function(t){var n=t.from,a=t.to;return n!==a},dQ=function e(t,n,a){var s=Zl(function(i,l){if(bb(l)){var d=t(l.from,l.to,l.velocity),u=iQ(d,2),h=u[0],p=u[1];return Yt(Yt({},l),{},{from:h,velocity:p})}return l},n);return a<1?Zl(function(i,l){return bb(l)?Yt(Yt({},l),{},{velocity:Eh(l.velocity,s[i].velocity,a),from:Eh(l.from,s[i].from,a)}):l},n):e(t,s,a-1)};const uQ=(function(e,t,n,a,s){var i=qV(e,t),l=i.reduce(function(x,S){return Yt(Yt({},x),{},yb({},S,[e[S],t[S]]))},{}),d=i.reduce(function(x,S){return Yt(Yt({},x),{},yb({},S,{from:e[S],velocity:0,to:t[S]}))},{}),u=-1,h,p,m=function(){return null},g=function(){return Zl(function(S,P){return P.from},d)},j=function(){return!Object.values(d).filter(bb).length},v=function(S){h||(h=S);var P=S-h,O=P/n.dt;d=dQ(n,d,O),s(Yt(Yt(Yt({},e),t),g())),h=S,j()||(u=requestAnimationFrame(m))},w=function(S){p||(p=S);var P=(S-p)/a,O=Zl(function(C,A){return Eh.apply(void 0,LA(A).concat([n(P)]))},l);if(s(Yt(Yt(Yt({},e),t),O)),P<1)u=requestAnimationFrame(m);else{var N=Zl(function(C,A){return Eh.apply(void 0,LA(A).concat([n(1)]))},l);s(Yt(Yt(Yt({},e),t),N))}};return m=n.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}var hQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fQ(e,t){if(e==null)return{};var n=mQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function mQ(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Py(e){return yQ(e)||gQ(e)||xQ(e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(e,t){if(e){if(typeof e=="string")return jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(e,t)}}function gQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yQ(e){if(Array.isArray(e))return jb(e)}function jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(a){Vl(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Vl(e,t,n){return t=e_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bQ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e_(a.key),a)}}function jQ(e,t,n){return t&&bQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_(e){var t=wQ(e,"string");return mo(t)==="symbol"?t:String(t)}function wQ(e,t){if(mo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(mo(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wb(e,t)}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wb(e,t)}function SQ(e){var t=kQ();return function(){var a=_h(e),s;if(t){var i=_h(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Nb(this,s)}}function Nb(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sb(e)}function Sb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(e)}var Rn=(function(e){NQ(n,e);var t=SQ(n);function n(a,s){var i;vQ(this,n),i=t.call(this,a,s);var l=i.props,d=l.isActive,u=l.attributeName,h=l.from,p=l.to,m=l.steps,g=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Sb(i)),i.changeStyle=i.changeStyle.bind(Sb(i)),!d||j<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:p}),Nb(i);if(m&&m.length)i.state={style:m[0].style};else if(h){if(typeof g=="function")return i.state={style:h},Nb(i);i.state={style:u?Vl({},u,h):h}}else i.state={style:{}};return i}return jQ(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,d=i.canBegin,u=i.attributeName,h=i.shouldReAnimate,p=i.to,m=i.from,g=this.state.style;if(d){if(!l){var j={style:u?Vl({},u,p):p};this.state&&g&&(u&&g[u]!==p||!u&&g!==p)&&this.setState(j);return}if(!(_V(s.to,p)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||h?m:s.to;if(this.state&&g){var x={style:u?Vl({},u,w):w};(u&&g[u]!==w||!u&&g!==w)&&this.setState(x)}this.runAnimation(cn(cn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,d=s.to,u=s.duration,h=s.easing,p=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,j=uQ(l,d,eQ(h),u,this.changeStyle),v=function(){i.stopJSAnimation=j()};this.manager.start([g,p,v,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,d=s.begin,u=s.onAnimationStart,h=l[0],p=h.style,m=h.duration,g=m===void 0?0:m,j=function(w,x,S){if(S===0)return w;var P=x.duration,O=x.easing,N=O===void 0?"ease":O,C=x.style,A=x.properties,E=x.onAnimationEnd,T=S>0?l[S-1]:x,R=A||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(Py(w),[i.runJSAnimation.bind(i,{from:T.style,to:C,duration:P,easing:N}),P]);var I=MA(R,P,N),M=cn(cn(cn({},T.style),C),{},{transition:I});return[].concat(Py(w),[M,P,E]).filter(BV)};return this.manager.start([u].concat(Py(l.reduce(j,[p,Math.max(g,d)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=DV());var i=s.begin,l=s.duration,d=s.attributeName,u=s.to,h=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,j=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof h=="function"||typeof j=="function"||h==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var w=d?Vl({},d,u):u,x=MA(Object.keys(w),l,h);v.start([p,i,cn(cn({},w),{},{transition:x}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var d=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=fQ(s,hQ),h=b.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!d||h===0||l<=0)return i;var m=function(j){var v=j.props,w=v.style,x=w===void 0?{}:w,S=v.className,P=b.cloneElement(j,cn(cn({},u),{},{style:cn(cn({},x),p),className:S}));return P};return h===1?m(b.Children.only(i)):Y.createElement("div",null,b.Children.map(i,function(g){return m(g)}))}}]),n})(b.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Th.apply(this,arguments)}function CQ(e,t){return EQ(e)||OQ(e,t)||PQ(e,t)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(e,t){if(e){if(typeof e=="string")return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function OQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function EQ(e){if(Array.isArray(e))return e}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(a){_Q(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _Q(e,t,n){return t=TQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=RQ(e,"string");return Ec(t)=="symbol"?t:t+""}function RQ(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UA=function(t,n,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),d=s>=0?1:-1,u=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,j=4;g<j;g++)m[g]=i[g]>l?l:i[g];p="M".concat(t,",").concat(n+d*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(n)),p+="L ".concat(t+a-u*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+a,",").concat(n+d*m[1])),p+="L ".concat(t+a,",").concat(n+s-d*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+a-u*m[2],",").concat(n+s)),p+="L ".concat(t+u*m[3],",").concat(n+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+s-d*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var v=Math.min(l,i);p="M ".concat(t,",").concat(n+d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+u*v,",").concat(n,`
            L `).concat(t+a-u*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a,",").concat(n+d*v,`
            L `).concat(t+a,",").concat(n+s-d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a-u*v,",").concat(n+s,`
            L `).concat(t+u*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t,",").concat(n+s-d*v," Z")}else p="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return p},MQ=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,l=n.y,d=n.width,u=n.height;if(Math.abs(d)>0&&Math.abs(u)>0){var h=Math.min(i,i+d),p=Math.max(i,i+d),m=Math.min(l,l+u),g=Math.max(l,l+u);return a>=h&&a<=p&&s>=m&&s<=g}return!1},IQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hw=function(t){var n=BA(BA({},IQ),t),a=b.useRef(),s=b.useState(-1),i=CQ(s,2),l=i[0],d=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&d(N)}catch{}},[]);var u=n.x,h=n.y,p=n.width,m=n.height,g=n.radius,j=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,S=n.isAnimationActive,P=n.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var O=qe("recharts-rectangle",j);return P?Y.createElement(Rn,{canBegin:l>0,from:{width:p,height:m,x:u,y:h},to:{width:p,height:m,x:u,y:h},duration:w,animationEasing:v,isActive:P},function(N){var C=N.width,A=N.height,E=N.x,T=N.y;return Y.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:S,easing:v},Y.createElement("path",Th({},Re(n,!0),{className:O,d:UA(E,T,C,A,g),ref:a})))}):Y.createElement("path",Th({},Re(n,!0),{className:O,d:UA(u,h,p,m,g)}))},$Q=["points","className","baseLinePoints","connectNulls"];function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Li.apply(this,arguments)}function LQ(e,t){if(e==null)return{};var n=DQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function DQ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function WA(e){return BQ(e)||qQ(e)||zQ(e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(e,t){if(e){if(typeof e=="string")return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(e,t)}}function qQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BQ(e){if(Array.isArray(e))return kb(e)}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var HA=function(t){return t&&t.x===+t.x&&t.y===+t.y},UQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){HA(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),HA(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ec=function(t,n){var a=UQ(t);n&&(a=[a.reduce(function(i,l){return[].concat(WA(i),WA(l))},[])]);var s=a.map(function(i){return i.reduce(function(l,d,u){return"".concat(l).concat(u===0?"M":"L").concat(d.x,",").concat(d.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},WQ=function(t,n,a){var s=ec(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(ec(n.reverse(),a).slice(1))},HQ=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,l=LQ(t,$Q);if(!n||!n.length)return null;var d=qe("recharts-polygon",a);if(s&&s.length){var u=l.stroke&&l.stroke!=="none",h=WQ(n,s,i);return Y.createElement("g",{className:d},Y.createElement("path",Li({},Re(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),u?Y.createElement("path",Li({},Re(l,!0),{fill:"none",d:ec(n,i)})):null,u?Y.createElement("path",Li({},Re(l,!0),{fill:"none",d:ec(s,i)})):null)}var p=ec(n,i);return Y.createElement("path",Li({},Re(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:d,d:p}))};function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cb.apply(this,arguments)}var If=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,l=qe("recharts-dot",i);return n===+n&&a===+a&&s===+s?b.createElement("circle",Cb({},Re(t,!1),Zu(t),{className:l,cx:n,cy:a,r:s})):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var KQ=["x","y","top","left","width","height","className"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ab.apply(this,arguments)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function GQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(a){VQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VQ(e,t,n){return t=QQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e){var t=YQ(e,"string");return _c(t)=="symbol"?t:t+""}function YQ(e,t){if(_c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(_c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XQ(e,t){if(e==null)return{};var n=JQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JQ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var ZQ=function(t,n,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(a)},eY=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,d=l===void 0?0:l,u=t.left,h=u===void 0?0:u,p=t.width,m=p===void 0?0:p,g=t.height,j=g===void 0?0:g,v=t.className,w=XQ(t,KQ),x=GQ({x:a,y:i,top:d,left:h,width:m,height:j},w);return!ge(a)||!ge(i)||!ge(m)||!ge(j)||!ge(d)||!ge(h)?null:Y.createElement("path",Ab({},Re(x,!0),{className:qe("recharts-cross",v),d:ZQ(a,i,m,j,d,h)}))},Oy,GA;function tY(){if(GA)return Oy;GA=1;var e=Ef(),t=p6(),n=In();function a(s,i){return s&&s.length?e(s,n(i,2),t):void 0}return Oy=a,Oy}var rY=tY();const nY=Ze(rY);var Ey,VA;function aY(){if(VA)return Ey;VA=1;var e=Ef(),t=In(),n=x6();function a(s,i){return s&&s.length?e(s,t(i,2),n):void 0}return Ey=a,Ey}var sY=aY();const iY=Ze(sY);var oY=["cx","cy","angle","ticks","axisLine"],lY=["ticks","tick","angle","tickFormatter","stroke"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tc.apply(this,arguments)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(a){$f(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YA(e,t){if(e==null)return{};var n=cY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function cY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function dY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r_(a.key),a)}}function uY(e,t,n){return t&&XA(e.prototype,t),n&&XA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hY(e,t,n){return t=Rh(t),fY(e,t_()?Reflect.construct(t,n||[],Rh(e).constructor):t.apply(e,n))}function fY(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(e)}function mY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t_=function(){return!!e})()}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(e)}function pY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pb(e,t)}function Pb(e,t){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pb(e,t)}function $f(e,t,n){return t=r_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_(e){var t=xY(e,"string");return po(t)=="symbol"?t:t+""}function xY(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lf=(function(e){function t(){return dY(this,t),hY(this,t,arguments)}return pY(t,e),uY(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,l=i.angle,d=i.cx,u=i.cy;return ot(d,u,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,d=a.ticks,u=nY(d,function(p){return p.coordinate||0}),h=iY(d,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,d=a.ticks,u=a.axisLine,h=YA(a,oY),p=d.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=ot(s,i,p[0],l),g=ot(s,i,p[1],l),j=bs(bs(bs({},Re(h,!1)),{},{fill:"none"},Re(u,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return Y.createElement("line",tc({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,d=s.angle,u=s.tickFormatter,h=s.stroke,p=YA(s,lY),m=this.getTickTextAnchor(),g=Re(p,!1),j=Re(l,!1),v=i.map(function(w,x){var S=a.getTickValueCoord(w),P=bs(bs(bs(bs({textAnchor:m,transform:"rotate(".concat(90-d,", ").concat(S.x,", ").concat(S.y,")")},g),{},{stroke:"none",fill:h},j),{},{index:x},S),{},{payload:w});return Y.createElement(Ge,tc({className:qe("recharts-polar-radius-axis-tick",W6(l)),key:"tick-".concat(w.coordinate)},Gs(a.props,w,x)),t.renderTickItem(l,P,u?u(w.value,x):w.value))});return Y.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,l=a.tick;return!s||!s.length?null:Y.createElement(Ge,{className:qe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var l;return Y.isValidElement(a)?l=Y.cloneElement(a,s):Fe(a)?l=a(s):l=Y.createElement(Vs,tc({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(b.PureComponent);$f(Lf,"displayName","PolarRadiusAxis");$f(Lf,"axisType","radiusAxis");$f(Lf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ss.apply(this,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(a){Df(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a_(a.key),a)}}function yY(e,t,n){return t&&ZA(e.prototype,t),n&&ZA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vY(e,t,n){return t=Mh(t),bY(e,n_()?Reflect.construct(t,n||[],Mh(e).constructor):t.apply(e,n))}function bY(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jY(e)}function jY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n_=function(){return!!e})()}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(e)}function wY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ob(e,t)}function Df(e,t,n){return t=a_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e){var t=NY(e,"string");return xo(t)=="symbol"?t:t+""}function NY(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=Math.PI/180,eP=1e-5,Ff=(function(e){function t(){return gY(this,t),vY(this,t,arguments)}return wY(t,e),yY(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,l=s.cy,d=s.radius,u=s.orientation,h=s.tickSize,p=h||8,m=ot(i,l,d,a.coordinate),g=ot(i,l,d+(u==="inner"?-1:1)*p,a.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*SY),l;return i>eP?l=s==="outer"?"start":"end":i<-eP?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.radius,d=a.axisLine,u=a.axisLineType,h=js(js({},Re(this.props,!1)),{},{fill:"none"},Re(d,!1));if(u==="circle")return Y.createElement(If,Ss({className:"recharts-polar-angle-axis-line"},h,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(g){return ot(s,i,l,g.coordinate)});return Y.createElement(HQ,Ss({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,d=s.tickLine,u=s.tickFormatter,h=s.stroke,p=Re(this.props,!1),m=Re(l,!1),g=js(js({},p),{},{fill:"none"},Re(d,!1)),j=i.map(function(v,w){var x=a.getTickLineCoord(v),S=a.getTickTextAnchor(v),P=js(js(js({textAnchor:S},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:v,x:x.x2,y:x.y2});return Y.createElement(Ge,Ss({className:qe("recharts-polar-angle-axis-tick",W6(l)),key:"tick-".concat(v.coordinate)},Gs(a.props,v,w)),d&&Y.createElement("line",Ss({className:"recharts-polar-angle-axis-tick-line"},g,x)),l&&t.renderTickItem(l,P,u?u(v.value,w):v.value))});return Y.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!s||!s.length?null:Y.createElement(Ge,{className:qe("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var l;return Y.isValidElement(a)?l=Y.cloneElement(a,s):Fe(a)?l=a(s):l=Y.createElement(Vs,Ss({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(b.PureComponent);Df(Ff,"displayName","PolarAngleAxis");Df(Ff,"axisType","angleAxis");Df(Ff,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _y,tP;function kY(){if(tP)return _y;tP=1;var e=pE(),t=e(Object.getPrototypeOf,Object);return _y=t,_y}var Ty,rP;function CY(){if(rP)return Ty;rP=1;var e=da(),t=kY(),n=ua(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,d=i.hasOwnProperty,u=l.call(Object);function h(p){if(!n(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var g=d.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==u}return Ty=h,Ty}var AY=CY();const PY=Ze(AY);var Ry,nP;function OY(){if(nP)return Ry;nP=1;var e=da(),t=ua(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==n}return Ry=a,Ry}var EY=OY();const _Y=Ze(EY);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ih.apply(this,arguments)}function TY(e,t){return $Y(e)||IY(e,t)||MY(e,t)||RY()}function RY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(e,t){if(e){if(typeof e=="string")return aP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(e,t)}}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function IY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function $Y(e){if(Array.isArray(e))return e}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(a){LY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LY(e,t,n){return t=DY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=FY(e,"string");return Tc(t)=="symbol"?t:t+""}function FY(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=function(t,n,a,s,i){var l=a-s,d;return d="M ".concat(t,",").concat(n),d+="L ".concat(t+a,",").concat(n),d+="L ".concat(t+a-l/2,",").concat(n+i),d+="L ".concat(t+a-l/2-s,",").concat(n+i),d+="L ".concat(t,",").concat(n," Z"),d},zY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qY=function(t){var n=iP(iP({},zY),t),a=b.useRef(),s=b.useState(-1),i=TY(s,2),l=i[0],d=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var O=a.current.getTotalLength();O&&d(O)}catch{}},[]);var u=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,g=n.height,j=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,S=n.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var P=qe("recharts-trapezoid",j);return S?Y.createElement(Rn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:h},to:{upperWidth:p,lowerWidth:m,height:g,x:u,y:h},duration:w,animationEasing:v,isActive:S},function(O){var N=O.upperWidth,C=O.lowerWidth,A=O.height,E=O.x,T=O.y;return Y.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:v},Y.createElement("path",Ih({},Re(n,!0),{className:P,d:oP(E,T,N,C,A),ref:a})))}):Y.createElement("g",null,Y.createElement("path",Ih({},Re(n,!0),{className:P,d:oP(u,h,p,m,g)})))},BY=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function UY(e,t){if(e==null)return{};var n=WY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function WY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(a){HY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function HY(e,t,n){return t=KY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=GY(e,"string");return Rc(t)=="symbol"?t:t+""}function GY(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VY(e,t){return $h($h({},t),e)}function QY(e,t){return e==="symbols"}function cP(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Y.createElement(hw,n);case"trapezoid":return Y.createElement(qY,n);case"sector":return Y.createElement(G6,n);case"symbols":if(QY(t))return Y.createElement(Ej,n);break;default:return null}}function YY(e){return b.isValidElement(e)?e.props:e}function s_(e){var t=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?VY:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,d=e.isActive,u=UY(e,BY),h;if(b.isValidElement(t))h=b.cloneElement(t,$h($h({},u),YY(t)));else if(Fe(t))h=t(u);else if(PY(t)&&!_Y(t)){var p=s(t,u);h=Y.createElement(cP,{shapeType:n,elementProps:p})}else{var m=u;h=Y.createElement(cP,{shapeType:n,elementProps:m})}return d?Y.createElement(Ge,{className:l},h):h}function zf(e,t){return t!=null&&"trapezoids"in e.props}function qf(e,t){return t!=null&&"sectors"in e.props}function Mc(e,t){return t!=null&&"points"in e.props}function XY(e,t){var n,a,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function JY(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function ZY(e,t){var n=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return n&&a&&s}function eX(e,t){var n;return zf(e,t)?n=XY:qf(e,t)?n=JY:Mc(e,t)&&(n=ZY),n}function tX(e,t){var n;return zf(e,t)?n="trapezoids":qf(e,t)?n="sectors":Mc(e,t)&&(n="points"),n}function rX(e,t){if(zf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qf(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Mc(e,t)?t.payload:{}}function nX(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=tX(n,t),i=rX(n,t),l=a.filter(function(u,h){var p=id(i,u),m=n.props[s].filter(function(v){var w=eX(n,t);return w(v,t)}),g=n.props[s].indexOf(m[m.length-1]),j=h===g;return p&&j}),d=a.indexOf(l[l.length-1]);return d}var Bu;function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(this,arguments)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(a){Vr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o_(a.key),a)}}function sX(e,t,n){return t&&uP(e.prototype,t),n&&uP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iX(e,t,n){return t=Lh(t),oX(e,i_()?Reflect.construct(t,n||[],Lh(e).constructor):t.apply(e,n))}function oX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lX(e)}function lX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i_=function(){return!!e})()}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(e)}function cX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Eb(e,t)}function Vr(e,t,n){return t=o_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e){var t=dX(e,"string");return go(t)=="symbol"?t:t+""}function dX(e,t){if(go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(go(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fa=(function(e){function t(n){var a;return aX(this,t),a=iX(this,t,[n]),Vr(a,"pieRef",null),Vr(a,"sectorRefs",[]),Vr(a,"id",Do("recharts-pie-")),Vr(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Fe(s)&&s()}),Vr(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Fe(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return cX(t,e),sX(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,d=i.labelLine,u=i.dataKey,h=i.valueKey,p=Re(this.props,!1),m=Re(l,!1),g=Re(d,!1),j=l&&l.offsetRadius||20,v=a.map(function(w,x){var S=(w.startAngle+w.endAngle)/2,P=ot(w.cx,w.cy,w.outerRadius+j,S),O=st(st(st(st({},p),w),{},{stroke:"none"},m),{},{index:x,textAnchor:t.getTextAnchor(P.x,w.cx)},P),N=st(st(st(st({},p),w),{},{fill:"none",stroke:w.fill},g),{},{index:x,points:[ot(w.cx,w.cy,w.outerRadius,S),P]}),C=u;return ze(u)&&ze(h)?C="value":ze(u)&&(C=h),Y.createElement(Ge,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(x)},d&&t.renderLabelLineItem(d,N,"line"),t.renderLabelItem(l,O,Lt(w,C)))});return Y.createElement(Ge,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,l=i.activeShape,d=i.blendStroke,u=i.inactiveShape;return a.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&a.length!==1)return null;var m=s.isActiveIndex(p),g=u&&s.hasActiveIndex()?u:null,j=m?l:g,v=st(st({},h),{},{stroke:d?h.fill:h.stroke,tabIndex:-1});return Y.createElement(Ge,Di({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Gs(s.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),Y.createElement(s_,Di({option:j,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevSectors,j=m.prevIsAnimationActive;return Y.createElement(Rn,{begin:d,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,x=[],S=i&&i[0],P=S.startAngle;return i.forEach(function(O,N){var C=g&&g[N],A=N>0?Mr(O,"paddingAngle",0):0;if(C){var E=Tr(C.endAngle-C.startAngle,O.endAngle-O.startAngle),T=st(st({},O),{},{startAngle:P+A,endAngle:P+E(w)+A});x.push(T),P=T.endAngle}else{var R=O.endAngle,I=O.startAngle,M=Tr(0,R-I),$=M(w),H=st(st({},O),{},{startAngle:P+A,endAngle:P+$+A});x.push(H),P=H.endAngle}}),Y.createElement(Ge,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var d=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[d].focus(),s.setState({sectorToFocus:d});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!id(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,l=s.sectors,d=s.className,u=s.label,h=s.cx,p=s.cy,m=s.innerRadius,g=s.outerRadius,j=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!l||!l.length||!ge(h)||!ge(p)||!ge(m)||!ge(g))return null;var w=qe("recharts-pie",d);return Y.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){a.pieRef=S}},this.renderSectors(),u&&this.renderLabels(l),Kt.renderCallByParent(this.props,null,!1),(!j||v)&&aa.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(Y.isValidElement(a))return Y.cloneElement(a,s);if(Fe(a))return a(s);var l=qe("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return Y.createElement(Ah,Di({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,i){if(Y.isValidElement(a))return Y.cloneElement(a,s);var l=i;if(Fe(a)&&(l=a(s),Y.isValidElement(l)))return l;var d=qe("recharts-pie-label-text",typeof a!="boolean"&&!Fe(a)?a.className:"");return Y.createElement(Vs,Di({},s,{alignmentBaseline:"middle",className:d}),l)}}])})(b.PureComponent);Bu=fa;Vr(fa,"displayName","Pie");Vr(fa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ti.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vr(fa,"parseDeltaAngle",function(e,t){var n=cr(t-e),a=Math.min(Math.abs(t-e),360);return n*a});Vr(fa,"getRealPieData",function(e){var t=e.data,n=e.children,a=Re(e,!1),s=Ir(n,Nf);return t&&t.length?t.map(function(i,l){return st(st(st({payload:i},a),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return st(st({},a),i.props)}):[]});Vr(fa,"parseCoordinateOfPie",function(e,t){var n=t.top,a=t.left,s=t.width,i=t.height,l=U6(s,i),d=a+dr(e.cx,s,s/2),u=n+dr(e.cy,i,i/2),h=dr(e.innerRadius,l,0),p=dr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:d,cy:u,innerRadius:h,outerRadius:p,maxRadius:m}});Vr(fa,"getComposedData",function(e){var t=e.item,n=e.offset,a=t.type.defaultProps!==void 0?st(st({},t.type.defaultProps),t.props):t.props,s=Bu.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,l=a.startAngle,d=a.endAngle,u=a.paddingAngle,h=a.dataKey,p=a.nameKey,m=a.valueKey,g=a.tooltipType,j=Math.abs(a.minAngle),v=Bu.parseCoordinateOfPie(a,n),w=Bu.parseDeltaAngle(l,d),x=Math.abs(w),S=h;ze(h)&&ze(m)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):ze(h)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var P=s.filter(function(T){return Lt(T,S,0)!==0}).length,O=(x>=360?P:P-1)*u,N=x-P*j-O,C=s.reduce(function(T,R){var I=Lt(R,S,0);return T+(ge(I)?I:0)},0),A;if(C>0){var E;A=s.map(function(T,R){var I=Lt(T,S,0),M=Lt(T,p,R),$=(ge(I)?I:0)/C,H;R?H=E.endAngle+cr(w)*u*(I!==0?1:0):H=l;var V=H+cr(w)*((I!==0?j:0)+$*N),q=(H+V)/2,B=(v.innerRadius+v.outerRadius)/2,W=[{name:M,value:I,payload:T,dataKey:S,type:g}],U=ot(v.cx,v.cy,B,q);return E=st(st(st({percent:$,cornerRadius:i,name:M,tooltipPayload:W,midAngle:q,middleRadius:B,tooltipPosition:U},T),v),{},{value:Lt(T,S),startAngle:H,endAngle:V,payload:T,paddingAngle:cr(w)*u}),E})}return st(st({},v),{},{sectors:A,data:s})});var My,hP;function uX(){if(hP)return My;hP=1;var e=Math.ceil,t=Math.max;function n(a,s,i,l){for(var d=-1,u=t(e((s-a)/(i||1)),0),h=Array(u);u--;)h[l?u:++d]=a,a+=i;return h}return My=n,My}var Iy,fP;function l_(){if(fP)return Iy;fP=1;var e=_E(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return Iy=a,Iy}var $y,mP;function hX(){if(mP)return $y;mP=1;var e=uX(),t=wf(),n=l_();function a(s){return function(i,l,d){return d&&typeof d!="number"&&t(i,l,d)&&(l=d=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),d=d===void 0?i<l?1:-1:n(d),e(i,l,d,s)}}return $y=a,$y}var Ly,pP;function fX(){if(pP)return Ly;pP=1;var e=hX(),t=e();return Ly=t,Ly}var mX=fX();const Dh=Ze(mX);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(a){c_(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function c_(e,t,n){return t=pX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pX(e){var t=xX(e,"string");return Ic(t)=="symbol"?t:t+""}function xX(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gX=["Webkit","Moz","O","ms"],yX=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=gX.reduce(function(i,l){return gP(gP({},i),{},c_({},l+a,n))},{});return s[t]=n,s};function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fh.apply(this,arguments)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(a){Er(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,u_(a.key),a)}}function bX(e,t,n){return t&&vP(e.prototype,t),n&&vP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jX(e,t,n){return t=zh(t),wX(e,d_()?Reflect.construct(t,n||[],zh(e).constructor):t.apply(e,n))}function wX(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NX(e)}function NX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d_=function(){return!!e})()}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(e)}function SX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_b(e,t)}function Er(e,t,n){return t=u_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_(e){var t=kX(e,"string");return yo(t)=="symbol"?t:t+""}function kX(e,t){if(yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CX=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,d=t.travellerWidth;if(!n||!n.length)return{};var u=n.length,h=Xl().domain(Dh(0,u)).range([i,i+l-d]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(s),scale:h,scaleValues:p}},bP=function(t){return t.changedTouches&&!!t.changedTouches.length},vo=(function(e){function t(n){var a;return vX(this,t),a=jX(this,t,[n]),Er(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Er(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Er(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,d=s.startIndex;l==null||l({endIndex:i,startIndex:d})}),a.detachDragEndListener()}),Er(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Er(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Er(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Er(a,"handleSlideDragStart",function(s){var i=bP(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return SX(t,e),bX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,d=this.props,u=d.gap,h=d.data,p=h.length-1,m=Math.min(s,i),g=Math.max(s,i),j=t.getIndexInRange(l,m),v=t.getIndexInRange(l,g);return{startIndex:j-j%u,endIndex:v===p?p:v-v%u}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,d=s.dataKey,u=Lt(i[a],d,a);return Fe(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,d=s.endX,u=this.props,h=u.x,p=u.width,m=u.travellerWidth,g=u.startIndex,j=u.endIndex,v=u.onChange,w=a.pageX-i;w>0?w=Math.min(w,h+p-m-d,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-d));var x=this.getIndex({startX:l+w,endX:d+w});(x.startIndex!==g||x.endIndex!==j)&&v&&v(x),this.setState({startX:l+w,endX:d+w,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=bP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,d=s.endX,u=s.startX,h=this.state[l],p=this.props,m=p.x,g=p.width,j=p.travellerWidth,v=p.onChange,w=p.gap,x=p.data,S={startX:this.state.startX,endX:this.state.endX},P=a.pageX-i;P>0?P=Math.min(P,m+g-j-h):P<0&&(P=Math.max(P,m-h)),S[l]=h+P;var O=this.getIndex(S),N=O.startIndex,C=O.endIndex,A=function(){var T=x.length-1;return l==="startX"&&(d>u?N%w===0:C%w===0)||d<u&&C===T||l==="endX"&&(d>u?C%w===0:N%w===0)||d>u&&C===T};this.setState(Er(Er({},l,h+P),"brushMoveStartX",a.pageX),function(){v&&A()&&v(O)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,d=l.scaleValues,u=l.startX,h=l.endX,p=this.state[s],m=d.indexOf(p);if(m!==-1){var g=m+a;if(!(g===-1||g>=d.length)){var j=d[g];s==="startX"&&j>=h||s==="endX"&&j<=u||this.setState(Er({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.fill,h=a.stroke;return Y.createElement("rect",{stroke:h,fill:u,x:s,y:i,width:l,height:d})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.data,h=a.children,p=a.padding,m=b.Children.only(h);return m?Y.cloneElement(m,{x:s,y:i,width:l,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,d=this,u=this.props,h=u.y,p=u.travellerWidth,m=u.height,g=u.traveller,j=u.ariaLabel,v=u.data,w=u.startIndex,x=u.endIndex,S=Math.max(a,this.props.x),P=Dy(Dy({},Re(this.props,!1)),{},{x:S,y:h,width:p,height:m}),O=j||"Min value: ".concat((i=v[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=v[x])===null||l===void 0?void 0:l.name);return Y.createElement(Ge,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),d.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,P))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,d=i.height,u=i.stroke,h=i.travellerWidth,p=Math.min(a,s)+h,m=Math.max(Math.abs(s-a)-h,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:m,height:d})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,d=a.height,u=a.travellerWidth,h=a.stroke,p=this.state,m=p.startX,g=p.endX,j=5,v={pointerEvents:"none",fill:h};return Y.createElement(Ge,{className:"recharts-brush-texts"},Y.createElement(Vs,Fh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-j,y:l+d/2},v),this.getTextOfTick(s)),Y.createElement(Vs,Fh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+u+j,y:l+d/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,d=a.x,u=a.y,h=a.width,p=a.height,m=a.alwaysShowText,g=this.state,j=g.startX,v=g.endX,w=g.isTextActive,x=g.isSlideMoving,S=g.isTravellerMoving,P=g.isTravellerFocused;if(!s||!s.length||!ge(d)||!ge(u)||!ge(h)||!ge(p)||h<=0||p<=0)return null;var O=qe("recharts-brush",i),N=Y.Children.count(l)===1,C=yX("userSelect","none");return Y.createElement(Ge,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(j,v),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(v,"endX"),(w||x||S||P||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,d=a.height,u=a.stroke,h=Math.floor(i+d/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:s,y:i,width:l,height:d,fill:u,stroke:"none"}),Y.createElement("line",{x1:s+1,y1:h,x2:s+l-1,y2:h,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:s+1,y1:h+2,x2:s+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Y.isValidElement(a)?i=Y.cloneElement(a,s):Fe(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,d=a.x,u=a.travellerWidth,h=a.updateId,p=a.startIndex,m=a.endIndex;if(i!==s.prevData||h!==s.prevUpdateId)return Dy({prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l},i&&i.length?CX({data:i,width:l,x:d,travellerWidth:u,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||d!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([d,d+l-u]);var g=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,d=i-1;d-l>1;){var u=Math.floor((l+d)/2);a[u]>s?d=u:l=u}return s>=a[d]?d:l}}])})(b.PureComponent);Er(vo,"displayName","Brush");Er(vo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fy,jP;function AX(){if(jP)return Fy;jP=1;var e=Lj();function t(n,a){var s;return e(n,function(i,l,d){return s=a(i,l,d),!s}),!!s}return Fy=t,Fy}var zy,wP;function PX(){if(wP)return zy;wP=1;var e=lE(),t=In(),n=AX(),a=Sr(),s=wf();function i(l,d,u){var h=a(l)?e:n;return u&&s(l,d,u)&&(d=void 0),h(l,t(d,3))}return zy=i,zy}var OX=PX();const EX=Ze(OX);var _n=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},qy,NP;function _X(){if(NP)return qy;NP=1;var e=CE();function t(n,a,s){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return qy=t,qy}var By,SP;function TX(){if(SP)return By;SP=1;var e=_X(),t=SE(),n=In();function a(s,i){var l={};return i=n(i,3),t(s,function(d,u,h){e(l,u,i(d,u,h))}),l}return By=a,By}var RX=TX();const MX=Ze(RX);var Uy,kP;function IX(){if(kP)return Uy;kP=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return Uy=e,Uy}var Wy,CP;function $X(){if(CP)return Wy;CP=1;var e=Lj();function t(n,a){var s=!0;return e(n,function(i,l,d){return s=!!a(i,l,d),s}),s}return Wy=t,Wy}var Hy,AP;function LX(){if(AP)return Hy;AP=1;var e=IX(),t=$X(),n=In(),a=Sr(),s=wf();function i(l,d,u){var h=a(l)?e:t;return u&&s(l,d,u)&&(d=void 0),h(l,n(d,3))}return Hy=i,Hy}var DX=LX();const h_=Ze(DX);var FX=["x","y"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tb.apply(this,arguments)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(a){zX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zX(e,t,n){return t=qX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=BX(e,"string");return $c(t)=="symbol"?t:t+""}function BX(e,t){if($c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if($c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UX(e,t){if(e==null)return{};var n=WX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function WX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function HX(e,t){var n=e.x,a=e.y,s=UX(e,FX),i="".concat(n),l=parseInt(i,10),d="".concat(a),u=parseInt(d,10),h="".concat(t.height||s.height),p=parseInt(h,10),m="".concat(t.width||s.width),g=parseInt(m,10);return Bl(Bl(Bl(Bl(Bl({},t),s),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function OP(e){return Y.createElement(s_,Tb({shapeType:"rectangle",propTransformer:HX,activeClassName:"recharts-active-bar"},e))}var KX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ge(a)||h9(a);return i?t(a,s):(i||Ys(),n)}},GX=["value","background"],f_;function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function VX(e,t){if(e==null)return{};var n=QX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function QX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qh.apply(this,arguments)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(a){Ga(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p_(a.key),a)}}function XX(e,t,n){return t&&_P(e.prototype,t),n&&_P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JX(e,t,n){return t=Bh(t),ZX(e,m_()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function ZX(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJ(e)}function eJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m_=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(e)}function tJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rb(e,t)}function Rb(e,t){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Rb(e,t)}function Ga(e,t,n){return t=p_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p_(e){var t=rJ(e,"string");return bo(t)=="symbol"?t:t+""}function rJ(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Za=(function(e){function t(){var n;YX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=JX(this,t,[].concat(s)),Ga(n,"state",{isAnimationFinished:!1}),Ga(n,"id",Do("recharts-bar-")),Ga(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Ga(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return tJ(t,e),XX(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,d=i.dataKey,u=i.activeIndex,h=i.activeBar,p=Re(this.props,!1);return a&&a.map(function(m,g){var j=g===u,v=j?h:l,w=Pt(Pt(Pt({},p),m),{},{isActive:j,option:v,index:g,dataKey:d,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Y.createElement(Ge,qh({className:"recharts-bar-rectangle"},Gs(s.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),Y.createElement(OP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,d=s.isAnimationActive,u=s.animationBegin,h=s.animationDuration,p=s.animationEasing,m=s.animationId,g=this.state.prevData;return Y.createElement(Rn,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var v=j.t,w=i.map(function(x,S){var P=g&&g[S];if(P){var O=Tr(P.x,x.x),N=Tr(P.y,x.y),C=Tr(P.width,x.width),A=Tr(P.height,x.height);return Pt(Pt({},x),{},{x:O(v),y:N(v),width:C(v),height:A(v)})}if(l==="horizontal"){var E=Tr(0,x.height),T=E(v);return Pt(Pt({},x),{},{y:x.y+x.height-T,height:T})}var R=Tr(0,x.width),I=R(v);return Pt(Pt({},x),{},{width:I})});return Y.createElement(Ge,null,a.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!id(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,d=s.activeIndex,u=Re(this.props.background,!1);return i.map(function(h,p){h.value;var m=h.background,g=VX(h,GX);if(!m)return null;var j=Pt(Pt(Pt(Pt(Pt({},g),{},{fill:"#eee"},m),u),Gs(a.props,h,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return Y.createElement(OP,qh({key:"background-bar-".concat(p),option:a.props.background,isActive:p===d},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,d=i.xAxis,u=i.yAxis,h=i.layout,p=i.children,m=Ir(p,od);if(!m)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,j=function(x,S){var P=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:P,errorVal:Lt(x,S)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Y.createElement(Ge,v,m.map(function(w){return Y.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,offset:g,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,d=a.xAxis,u=a.yAxis,h=a.left,p=a.top,m=a.width,g=a.height,j=a.isAnimationActive,v=a.background,w=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,S=qe("recharts-bar",l),P=d&&d.allowDataOverflow,O=u&&u.allowDataOverflow,N=P||O,C=ze(w)?this.id:w;return Y.createElement(Ge,{className:S},P||O?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:P?h:h-m/2,y:O?p:p-g/2,width:P?m:m*2,height:O?g:g*2}))):null,Y.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,C),(!j||x)&&aa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(b.PureComponent);f_=Za;Ga(Za,"displayName","Bar");Ga(Za,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ga(Za,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,h=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,j=AK(a,n);if(!j)return null;var v=t.layout,w=n.type.defaultProps,x=w!==void 0?Pt(Pt({},w),n.props):n.props,S=x.dataKey,P=x.children,O=x.minPointSize,N=v==="horizontal"?l:i,C=h?N.scale.domain():null,A=MK({numericAxis:N}),E=Ir(P,Nf),T=m.map(function(R,I){var M,$,H,V,q,B;h?M=PK(h[p+I],C):(M=Lt(R,S),Array.isArray(M)||(M=[A,M]));var W=KX(O,f_.defaultProps.minPointSize)(M[1],I);if(v==="horizontal"){var U,Q=[l.scale(M[0]),l.scale(M[1])],z=Q[0],F=Q[1];$=sA({axis:i,ticks:d,bandSize:s,offset:j.offset,entry:R,index:I}),H=(U=F??z)!==null&&U!==void 0?U:void 0,V=j.size;var D=z-F;if(q=Number.isNaN(D)?0:D,B={x:$,y:l.y,width:V,height:l.height},Math.abs(W)>0&&Math.abs(q)<Math.abs(W)){var G=cr(q||W)*(Math.abs(W)-Math.abs(q));H-=G,q+=G}}else{var te=[i.scale(M[0]),i.scale(M[1])],ue=te[0],xe=te[1];if($=ue,H=sA({axis:l,ticks:u,bandSize:s,offset:j.offset,entry:R,index:I}),V=xe-ue,q=j.size,B={x:i.x,y:H,width:i.width,height:q},Math.abs(W)>0&&Math.abs(V)<Math.abs(W)){var oe=cr(V||W)*(Math.abs(W)-Math.abs(V));V+=oe}}return Pt(Pt(Pt({},R),{},{x:$,y:H,width:V,height:q,value:h?M:M[1],payload:R,background:B},E&&E[I]&&E[I].props),{},{tooltipPayload:[q6(n,R)],tooltipPosition:{x:$+V/2,y:H+q/2}})});return Pt({data:T,layout:v},g)});function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function nJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,x_(a.key),a)}}function aJ(e,t,n){return t&&TP(e.prototype,t),n&&TP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(a){Bf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bf(e,t,n){return t=x_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){var t=sJ(e,"string");return Lc(t)=="symbol"?t:t+""}function sJ(e,t){if(Lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g_=function(t,n,a,s,i){var l=t.width,d=t.height,u=t.layout,h=t.children,p=Object.keys(n),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:d-a.bottom,bottomMirror:d-a.bottom},g=!!_r(h,Za);return p.reduce(function(j,v){var w=n[v],x=w.orientation,S=w.domain,P=w.padding,O=P===void 0?{}:P,N=w.mirror,C=w.reversed,A="".concat(x).concat(N?"Mirror":""),E,T,R,I,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var $=S[1]-S[0],H=1/0,V=w.categoricalDomain.sort(p9);if(V.forEach(function(te,ue){ue>0&&(H=Math.min((te||0)-(V[ue-1]||0),H))}),Number.isFinite(H)){var q=H/$,B=w.layout==="vertical"?a.height:a.width;if(w.padding==="gap"&&(E=q*B/2),w.padding==="no-gap"){var W=dr(t.barCategoryGap,q*B),U=q*B/2;E=U-W-(U-W)/B*W}}}s==="xAxis"?T=[a.left+(O.left||0)+(E||0),a.left+a.width-(O.right||0)-(E||0)]:s==="yAxis"?T=u==="horizontal"?[a.top+a.height-(O.bottom||0),a.top+(O.top||0)]:[a.top+(O.top||0)+(E||0),a.top+a.height-(O.bottom||0)-(E||0)]:T=w.range,C&&(T=[T[1],T[0]]);var Q=L6(w,i,g),z=Q.scale,F=Q.realScaleType;z.domain(S).range(T),D6(z);var D=F6(z,hn(hn({},w),{},{realScaleType:F}));s==="xAxis"?(M=x==="top"&&!N||x==="bottom"&&N,R=a.left,I=m[A]-M*w.height):s==="yAxis"&&(M=x==="left"&&!N||x==="right"&&N,R=m[A]-M*w.width,I=a.top);var G=hn(hn(hn({},w),D),{},{realScaleType:F,x:R,y:I,scale:z,width:s==="xAxis"?a.width:w.width,height:s==="yAxis"?a.height:w.height});return G.bandSize=Sh(G,D),!w.hide&&s==="xAxis"?m[A]+=(M?-1:1)*G.height:w.hide||(m[A]+=(M?-1:1)*G.width),hn(hn({},j),{},Bf({},v,G))},{})},y_=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},iJ=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return y_({x:n,y:a},{x:s,y:i})},v_=(function(){function e(t){nJ(this,e),this.scale=t}return aJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(n)+d}default:return this.scale(n)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])})();Bf(v_,"EPS",1e-4);var fw=function(t){var n=Object.keys(t).reduce(function(a,s){return hn(hn({},a),{},Bf({},s,v_.create(t[s])))},{});return hn(hn({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,d=i.position;return MX(s,function(u,h){return n[h].apply(u,{bandAware:l,position:d})})},isInRange:function(s){return h_(s,function(i,l){return n[l].isInRange(i)})}})};function oJ(e){return(e%180+180)%180}var lJ=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=oJ(s),l=i*Math.PI/180,d=Math.atan(a/n),u=l>d&&l<Math.PI-d?a/Math.sin(l):n/Math.cos(l);return Math.abs(u)},Ky,MP;function cJ(){if(MP)return Ky;MP=1;var e=In(),t=td(),n=bf();function a(s){return function(i,l,d){var u=Object(i);if(!t(i)){var h=e(l,3);i=n(i),l=function(m){return h(u[m],m,u)}}var p=s(i,l,d);return p>-1?u[h?i[p]:p]:void 0}}return Ky=a,Ky}var Gy,IP;function dJ(){if(IP)return Gy;IP=1;var e=l_();function t(n){var a=e(n),s=a%1;return a===a?s?a-s:a:0}return Gy=t,Gy}var Vy,$P;function uJ(){if($P)return Vy;$P=1;var e=vE(),t=In(),n=dJ(),a=Math.max;function s(i,l,d){var u=i==null?0:i.length;if(!u)return-1;var h=d==null?0:n(d);return h<0&&(h=a(u+h,0)),e(i,t(l,3),h)}return Vy=s,Vy}var Qy,LP;function hJ(){if(LP)return Qy;LP=1;var e=cJ(),t=uJ(),n=e(t);return Qy=n,Qy}var fJ=hJ();const mJ=Ze(fJ);var pJ=IO();const xJ=Ze(pJ);var gJ=xJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),mw=b.createContext(void 0),pw=b.createContext(void 0),b_=b.createContext(void 0),j_=b.createContext({}),w_=b.createContext(void 0),N_=b.createContext(0),S_=b.createContext(0),DP=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,d=t.children,u=t.width,h=t.height,p=gJ(i);return Y.createElement(mw.Provider,{value:a},Y.createElement(pw.Provider,{value:s},Y.createElement(j_.Provider,{value:i},Y.createElement(b_.Provider,{value:p},Y.createElement(w_.Provider,{value:l},Y.createElement(N_.Provider,{value:h},Y.createElement(S_.Provider,{value:u},d)))))))},yJ=function(){return b.useContext(w_)},k_=function(t){var n=b.useContext(mw);n==null&&Ys();var a=n[t];return a==null&&Ys(),a},vJ=function(){var t=b.useContext(mw);return Ia(t)},bJ=function(){var t=b.useContext(pw),n=mJ(t,function(a){return h_(a.domain,Number.isFinite)});return n||Ia(t)},C_=function(t){var n=b.useContext(pw);n==null&&Ys();var a=n[t];return a==null&&Ys(),a},jJ=function(){var t=b.useContext(b_);return t},wJ=function(){return b.useContext(j_)},xw=function(){return b.useContext(S_)},gw=function(){return b.useContext(N_)};function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function NJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,P_(a.key),a)}}function kJ(e,t,n){return t&&SJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CJ(e,t,n){return t=Uh(t),AJ(e,A_()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function AJ(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PJ(e)}function PJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A_=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(e)}function OJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Mb(e,t)}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(a){yw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yw(e,t,n){return t=P_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e){var t=EJ(e,"string");return jo(t)=="symbol"?t:t+""}function EJ(e,t){if(jo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _J(e,t){return IJ(e)||MJ(e,t)||RJ(e,t)||TJ()}function TJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(e,t){if(e){if(typeof e=="string")return qP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(e,t)}}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function MJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function IJ(e){if(Array.isArray(e))return e}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ib.apply(this,arguments)}var $J=function(t,n){var a;return Y.isValidElement(t)?a=Y.cloneElement(t,n):Fe(t)?a=t(n):a=Y.createElement("line",Ib({},n,{className:"recharts-reference-line-line"})),a},LJ=function(t,n,a,s,i,l,d,u,h){var p=i.x,m=i.y,g=i.width,j=i.height;if(a){var v=h.y,w=t.y.apply(v,{position:l});if(_n(h,"discard")&&!t.y.isInRange(w))return null;var x=[{x:p+g,y:w},{x:p,y:w}];return u==="left"?x.reverse():x}if(n){var S=h.x,P=t.x.apply(S,{position:l});if(_n(h,"discard")&&!t.x.isInRange(P))return null;var O=[{x:P,y:m+j},{x:P,y:m}];return d==="top"?O.reverse():O}if(s){var N=h.segment,C=N.map(function(A){return t.apply(A,{position:l})});return _n(h,"discard")&&EX(C,function(A){return!t.isInRange(A)})?null:C}return null};function DJ(e){var t=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,d=e.className,u=e.alwaysShow,h=yJ(),p=k_(s),m=C_(i),g=jJ();if(!h||!g)return null;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=fw({x:p.scale,y:m.scale}),v=Dt(t),w=Dt(n),x=a&&a.length===2,S=LJ(j,v,w,x,g,e.position,p.orientation,m.orientation,e);if(!S)return null;var P=_J(S,2),O=P[0],N=O.x,C=O.y,A=P[1],E=A.x,T=A.y,R=_n(e,"hidden")?"url(#".concat(h,")"):void 0,I=zP(zP({clipPath:R},Re(e,!0)),{},{x1:N,y1:C,x2:E,y2:T});return Y.createElement(Ge,{className:qe("recharts-reference-line",d)},$J(l,I),Kt.renderCallByParent(e,iJ({x1:N,y1:C,x2:E,y2:T})))}var vw=(function(e){function t(){return NJ(this,t),CJ(this,t,arguments)}return OJ(t,e),kJ(t,[{key:"render",value:function(){return Y.createElement(DJ,this.props)}}])})(Y.Component);yw(vw,"displayName","ReferenceLine");yw(vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$b.apply(this,arguments)}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(a){Uf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,E_(a.key),a)}}function qJ(e,t,n){return t&&zJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BJ(e,t,n){return t=Wh(t),UJ(e,O_()?Reflect.construct(t,n||[],Wh(e).constructor):t.apply(e,n))}function UJ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WJ(e)}function WJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(e)}function HJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lb(e,t)}function Lb(e,t){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Lb(e,t)}function Uf(e,t,n){return t=E_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_(e){var t=KJ(e,"string");return wo(t)=="symbol"?t:t+""}function KJ(e,t){if(wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GJ=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=fw({x:s.scale,y:i.scale}),d=l.apply({x:n,y:a},{bandAware:!0});return _n(t,"discard")&&!l.isInRange(d)?null:d},Wf=(function(e){function t(){return FJ(this,t),BJ(this,t,arguments)}return HJ(t,e),qJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,d=a.alwaysShow,u=a.clipPathId,h=Dt(s),p=Dt(i);if(pn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=GJ(this.props);if(!m)return null;var g=m.x,j=m.y,v=this.props,w=v.shape,x=v.className,S=_n(this.props,"hidden")?"url(#".concat(u,")"):void 0,P=UP(UP({clipPath:S},Re(this.props,!0)),{},{cx:g,cy:j});return Y.createElement(Ge,{className:qe("recharts-reference-dot",x)},t.renderDot(w,P),Kt.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])})(Y.Component);Uf(Wf,"displayName","ReferenceDot");Uf(Wf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Uf(Wf,"renderDot",function(e,t){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,t):Fe(e)?n=e(t):n=Y.createElement(If,$b({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Db.apply(this,arguments)}function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(a){Hf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,T_(a.key),a)}}function YJ(e,t,n){return t&&QJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XJ(e,t,n){return t=Hh(t),JJ(e,__()?Reflect.construct(t,n||[],Hh(e).constructor):t.apply(e,n))}function JJ(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(e)}function ZJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(__=function(){return!!e})()}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(e)}function eZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fb(e,t)}function Fb(e,t){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Fb(e,t)}function Hf(e,t,n){return t=T_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e){var t=tZ(e,"string");return No(t)=="symbol"?t:t+""}function tZ(e,t){if(No(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(No(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rZ=function(t,n,a,s,i){var l=i.x1,d=i.x2,u=i.y1,h=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var g=fw({x:p.scale,y:m.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(u,{position:"start"}):g.y.rangeMin},v={x:n?g.x.apply(d,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(h,{position:"end"}):g.y.rangeMax};return _n(i,"discard")&&(!g.isInRange(j)||!g.isInRange(v))?null:y_(j,v)},Kf=(function(e){function t(){return VJ(this,t),XJ(this,t,arguments)}return eZ(t,e),YJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,d=a.y2,u=a.className,h=a.alwaysShow,p=a.clipPathId;pn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Dt(s),g=Dt(i),j=Dt(l),v=Dt(d),w=this.props.shape;if(!m&&!g&&!j&&!v&&!w)return null;var x=rZ(m,g,j,v,this.props);if(!x&&!w)return null;var S=_n(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Y.createElement(Ge,{className:qe("recharts-reference-area",u)},t.renderRect(w,HP(HP({clipPath:S},Re(this.props,!0)),x)),Kt.renderCallByParent(this.props,x))}}])})(Y.Component);Hf(Kf,"displayName","ReferenceArea");Hf(Kf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hf(Kf,"renderRect",function(e,t){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,t):Fe(e)?n=e(t):n=Y.createElement(hw,Db({},t,{className:"recharts-reference-area-rect"})),n});function R_(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function nZ(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return lJ(a,n)}function aZ(e,t,n){var a=n==="width",s=e.x,i=e.y,l=e.width,d=e.height;return t===1?{start:a?s:i,end:a?s+l:i+d}:{start:a?s+l:i+d,end:a?s:i}}function Kh(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function sZ(e,t){return R_(e,t+1)}function iZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=t.start,d=t.end,u=0,h=1,p=l,m=function(){var v=a==null?void 0:a[u];if(v===void 0)return{v:R_(a,h)};var w=u,x,S=function(){return x===void 0&&(x=n(v,w)),x},P=v.coordinate,O=u===0||Kh(e,P,S,p,d);O||(u=0,p=l,h+=1),O&&(p=P+e*(S()/2+s),u+=h)},g;h<=i.length;)if(g=m(),g)return g.v;return[]}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(a){oZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oZ(e,t,n){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=cZ(e,"string");return Dc(t)=="symbol"?t:t+""}function cZ(e,t){if(Dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=i.length,d=t.start,u=t.end,h=function(g){var j=i[g],v,w=function(){return v===void 0&&(v=n(j,g)),v};if(g===l-1){var x=e*(j.coordinate+e*w()/2-u);i[g]=j=rr(rr({},j),{},{tickCoord:x>0?j.coordinate-x*e:j.coordinate})}else i[g]=j=rr(rr({},j),{},{tickCoord:j.coordinate});var S=Kh(e,j.tickCoord,w,d,u);S&&(u=j.tickCoord-e*(w()/2+s),i[g]=rr(rr({},j),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function uZ(e,t,n,a,s,i){var l=(a||[]).slice(),d=l.length,u=t.start,h=t.end;if(i){var p=a[d-1],m=n(p,d-1),g=e*(p.coordinate+e*m/2-h);l[d-1]=p=rr(rr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var j=Kh(e,p.tickCoord,function(){return m},u,h);j&&(h=p.tickCoord-e*(m/2+s),l[d-1]=rr(rr({},p),{},{isShow:!0}))}for(var v=i?d-1:d,w=function(P){var O=l[P],N,C=function(){return N===void 0&&(N=n(O,P)),N};if(P===0){var A=e*(O.coordinate-e*C()/2-u);l[P]=O=rr(rr({},O),{},{tickCoord:A<0?O.coordinate-A*e:O.coordinate})}else l[P]=O=rr(rr({},O),{},{tickCoord:O.coordinate});var E=Kh(e,O.tickCoord,C,u,h);E&&(u=O.tickCoord+e*(C()/2+s),l[P]=rr(rr({},O),{},{isShow:!0}))},x=0;x<v;x++)w(x);return l}function bw(e,t,n){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,d=e.orientation,u=e.interval,h=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(ge(u)||ti.isSsr)return sZ(s,typeof u=="number"&&ge(u)?u:0);var g=[],j=d==="top"||d==="bottom"?"width":"height",v=p&&j==="width"?Yl(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(O,N){var C=Fe(h)?h(O.value,N):O.value;return j==="width"?nZ(Yl(C,{fontSize:t,letterSpacing:n}),v,m):Yl(C,{fontSize:t,letterSpacing:n})[j]},x=s.length>=2?cr(s[1].coordinate-s[0].coordinate):1,S=aZ(i,x,j);return u==="equidistantPreserveStart"?iZ(x,S,w,s,l):(u==="preserveStart"||u==="preserveStartEnd"?g=uZ(x,S,w,s,l,u==="preserveStartEnd"):g=dZ(x,S,w,s,l),g.filter(function(P){return P.isShow}))}var hZ=["viewBox"],fZ=["viewBox"],mZ=["ticks"];function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fi.apply(this,arguments)}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(a){jw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yy(e,t){if(e==null)return{};var n=pZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function xZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,I_(a.key),a)}}function gZ(e,t,n){return t&&VP(e.prototype,t),n&&VP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yZ(e,t,n){return t=Gh(t),vZ(e,M_()?Reflect.construct(t,n||[],Gh(e).constructor):t.apply(e,n))}function vZ(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZ(e)}function bZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M_=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(e)}function jZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zb(e,t)}function jw(e,t,n){return t=I_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_(e){var t=wZ(e,"string");return So(t)=="symbol"?t:t+""}function wZ(e,t){if(So(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(So(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uo=(function(e){function t(n){var a;return xZ(this,t),a=yZ(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return jZ(t,e),gZ(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Yy(a,hZ),d=this.props,u=d.viewBox,h=Yy(d,fZ);return!qi(i,u)||!qi(l,h)||!qi(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,d=s.width,u=s.height,h=s.orientation,p=s.tickSize,m=s.mirror,g=s.tickMargin,j,v,w,x,S,P,O=m?-1:1,N=a.tickSize||p,C=ge(a.tickCoord)?a.tickCoord:a.coordinate;switch(h){case"top":j=v=a.coordinate,x=l+ +!m*u,w=x-O*N,P=w-O*g,S=C;break;case"left":w=x=a.coordinate,v=i+ +!m*d,j=v-O*N,S=j-O*g,P=C;break;case"right":w=x=a.coordinate,v=i+ +m*d,j=v+O*N,S=j+O*g,P=C;break;default:j=v=a.coordinate,x=l+ +m*u,w=x+O*N,P=w+O*g,S=C;break}return{line:{x1:j,y1:w,x2:v,y2:x},tick:{x:S,y:P}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.orientation,h=a.mirror,p=a.axisLine,m=Rt(Rt(Rt({},Re(this.props,!1)),Re(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!h||u==="bottom"&&h);m=Rt(Rt({},m),{},{x1:s,y1:i+g*d,x2:s+l,y2:i+g*d})}else{var j=+(u==="left"&&!h||u==="right"&&h);m=Rt(Rt({},m),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+d})}return Y.createElement("line",Fi({},m,{className:qe("recharts-cartesian-axis-line",Mr(p,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,d=this.props,u=d.tickLine,h=d.stroke,p=d.tick,m=d.tickFormatter,g=d.unit,j=bw(Rt(Rt({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Re(this.props,!1),S=Re(p,!1),P=Rt(Rt({},x),{},{fill:"none"},Re(u,!1)),O=j.map(function(N,C){var A=l.getTickLineCoord(N),E=A.line,T=A.tick,R=Rt(Rt(Rt(Rt({textAnchor:v,verticalAnchor:w},x),{},{stroke:"none",fill:h},S),T),{},{index:C,payload:N,visibleTicksCount:j.length,tickFormatter:m});return Y.createElement(Ge,Fi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Gs(l.props,N,C)),u&&Y.createElement("line",Fi({},P,E,{className:qe("recharts-cartesian-axis-tick-line",Mr(u,"className"))})),p&&t.renderTickItem(p,R,"".concat(Fe(m)?m(N.value,C):N.value).concat(g||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,d=s.height,u=s.ticksGenerator,h=s.className,p=s.hide;if(p)return null;var m=this.props,g=m.ticks,j=Yy(m,mZ),v=g;return Fe(u)&&(v=g&&g.length>0?u(this.props):u(j)),l<=0||d<=0||!v||!v.length?null:Y.createElement(Ge,{className:qe("recharts-cartesian-axis",h),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,d=qe(s.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(a)?l=Y.cloneElement(a,Rt(Rt({},s),{},{className:d})):Fe(a)?l=a(Rt(Rt({},s),{},{className:d})):l=Y.createElement(Vs,Fi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(b.Component);jw(Uo,"displayName","CartesianAxis");jw(Uo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NZ=["x1","y1","x2","y2","key"],SZ=["offset"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(a){kZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kZ(e,t,n){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=AZ(e,"string");return Xs(t)=="symbol"?t:t+""}function AZ(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Xs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Es.apply(this,arguments)}function YP(e,t){if(e==null)return{};var n=PZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function PZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var OZ=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,d=t.height,u=t.ry;return Y.createElement("rect",{x:s,y:i,ry:u,width:l,height:d,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function $_(e,t){var n;if(Y.isValidElement(e))n=Y.cloneElement(e,t);else if(Fe(e))n=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,d=t.key,u=YP(t,NZ),h=Re(u,!1);h.offset;var p=YP(h,SZ);n=Y.createElement("line",Es({},p,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:d}))}return n}function EZ(e){var t=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(d,u){var h=nr(nr({},e),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(u),index:u});return $_(s,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _Z(e){var t=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(d,u){var h=nr(nr({},e),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(u),index:u});return $_(s,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function TZ(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,d=e.horizontalPoints,u=e.horizontal,h=u===void 0?!0:u;if(!h||!t||!t.length)return null;var p=d.map(function(g){return Math.round(g+s-s)}).sort(function(g,j){return g-j});s!==p[0]&&p.unshift(0);var m=p.map(function(g,j){var v=!p[j+1],w=v?s+l-g:p[j+1]-g;if(w<=0)return null;var x=j%t.length;return Y.createElement("rect",{key:"react-".concat(j),y:g,x:a,height:w,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function RZ(e){var t=e.vertical,n=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,d=e.width,u=e.height,h=e.verticalPoints;if(!n||!a||!a.length)return null;var p=h.map(function(g){return Math.round(g+i-i)}).sort(function(g,j){return g-j});i!==p[0]&&p.unshift(0);var m=p.map(function(g,j){var v=!p[j+1],w=v?i+d-g:p[j+1]-g;if(w<=0)return null;var x=j%a.length;return Y.createElement("rect",{key:"react-".concat(j),x:g,y:l,width:w,height:u,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var MZ=function(t,n){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return $6(bw(nr(nr(nr({},Uo.defaultProps),a),{},{ticks:ta(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,n)},IZ=function(t,n){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return $6(bw(nr(nr(nr({},Uo.defaultProps),a),{},{ticks:ta(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,n)},Ti={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ww(e){var t,n,a,s,i,l,d=xw(),u=gw(),h=wJ(),p=nr(nr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ti.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ti.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Ti.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ti.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ti.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Ti.verticalFill,x:ge(e.x)?e.x:h.left,y:ge(e.y)?e.y:h.top,width:ge(e.width)?e.width:h.width,height:ge(e.height)?e.height:h.height}),m=p.x,g=p.y,j=p.width,v=p.height,w=p.syncWithTicks,x=p.horizontalValues,S=p.verticalValues,P=vJ(),O=bJ();if(!ge(j)||j<=0||!ge(v)||v<=0||!ge(m)||m!==+m||!ge(g)||g!==+g)return null;var N=p.verticalCoordinatesGenerator||MZ,C=p.horizontalCoordinatesGenerator||IZ,A=p.horizontalPoints,E=p.verticalPoints;if((!A||!A.length)&&Fe(C)){var T=x&&x.length,R=C({yAxis:O?nr(nr({},O),{},{ticks:T?x:O.ticks}):void 0,width:d,height:u,offset:h},T?!0:w);pn(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(R),"]")),Array.isArray(R)&&(A=R)}if((!E||!E.length)&&Fe(N)){var I=S&&S.length,M=N({xAxis:P?nr(nr({},P),{},{ticks:I?S:P.ticks}):void 0,width:d,height:u,offset:h},I?!0:w);pn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(M),"]")),Array.isArray(M)&&(E=M)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(OZ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Y.createElement(EZ,Es({},p,{offset:h,horizontalPoints:A,xAxis:P,yAxis:O})),Y.createElement(_Z,Es({},p,{offset:h,verticalPoints:E,xAxis:P,yAxis:O})),Y.createElement(TZ,Es({},p,{horizontalPoints:A})),Y.createElement(RZ,Es({},p,{verticalPoints:E})))}ww.displayName="CartesianGrid";var $Z=["type","layout","connectNulls","ref"],LZ=["key"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function XP(e,t){if(e==null)return{};var n=DZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function DZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rc.apply(this,arguments)}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(a){fn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ri(e){return BZ(e)||qZ(e)||zZ(e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZ(e,t){if(e){if(typeof e=="string")return qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(e,t)}}function qZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BZ(e){if(Array.isArray(e))return qb(e)}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function UZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D_(a.key),a)}}function WZ(e,t,n){return t&&ZP(e.prototype,t),n&&ZP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HZ(e,t,n){return t=Vh(t),KZ(e,L_()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function KZ(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GZ(e)}function GZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(e)}function VZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Bb(e,t)}function fn(e,t,n){return t=D_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_(e){var t=QZ(e,"string");return ko(t)=="symbol"?t:t+""}function QZ(e,t){if(ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ko(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Co=(function(e){function t(){var n;UZ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=HZ(this,t,[].concat(s)),fn(n,"state",{isAnimationFinished:!0,totalLength:0}),fn(n,"generateSimpleStrokeDasharray",function(l,d){return"".concat(d,"px ").concat(l-d,"px")}),fn(n,"getStrokeDasharray",function(l,d,u){var h=u.reduce(function(S,P){return S+P});if(!h)return n.generateSimpleStrokeDasharray(d,l);for(var p=Math.floor(l/h),m=l%h,g=d-l,j=[],v=0,w=0;v<u.length;w+=u[v],++v)if(w+u[v]>m){j=[].concat(Ri(u.slice(0,v)),[m-w]);break}var x=j.length%2===0?[0,g]:[g];return[].concat(Ri(t.repeat(u,p)),Ri(j),x).map(function(S){return"".concat(S,"px")}).join(", ")}),fn(n,"id",Do("recharts-line-")),fn(n,"pathRef",function(l){n.mainCurve=l}),fn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),fn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return VZ(t,e),WZ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,d=i.xAxis,u=i.yAxis,h=i.layout,p=i.children,m=Ir(p,od);if(!m)return null;var g=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Lt(w.payload,x)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Y.createElement(Ge,j,m.map(function(v){return Y.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,h=d.points,p=d.dataKey,m=Re(this.props,!1),g=Re(u,!0),j=h.map(function(w,x){var S=Or(Or(Or({key:"dot-".concat(x),r:3},m),g),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:h});return t.renderDotItem(u,S)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Y.createElement(Ge,rc({className:"recharts-line-dots",key:"dots"},v),j)}},{key:"renderCurveStatically",value:function(a,s,i,l){var d=this.props,u=d.type,h=d.layout,p=d.connectNulls;d.ref;var m=XP(d,$Z),g=Or(Or(Or({},Re(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:u,layout:h,connectNulls:p});return Y.createElement(Ah,rc({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,d=l.points,u=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,j=l.animationId,v=l.animateNewValues,w=l.width,x=l.height,S=this.state,P=S.prevPoints,O=S.totalLength;return Y.createElement(Rn,{begin:p,duration:m,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(j),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var C=N.t;if(P){var A=P.length/d.length,E=d.map(function($,H){var V=Math.floor(H*A);if(P[V]){var q=P[V],B=Tr(q.x,$.x),W=Tr(q.y,$.y);return Or(Or({},$),{},{x:B(C),y:W(C)})}if(v){var U=Tr(w*2,$.x),Q=Tr(x/2,$.y);return Or(Or({},$),{},{x:U(C),y:Q(C)})}return Or(Or({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(E,a,s)}var T=Tr(0,O),R=T(C),I;if(u){var M="".concat(u).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=i.getStrokeDasharray(R,O,M)}else I=i.generateSimpleStrokeDasharray(O,R);return i.renderCurveStatically(d,a,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,d=i.isAnimationActive,u=this.state,h=u.prevPoints,p=u.totalLength;return d&&l&&l.length&&(!h&&p>0||!id(h,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,d=s.points,u=s.className,h=s.xAxis,p=s.yAxis,m=s.top,g=s.left,j=s.width,v=s.height,w=s.isAnimationActive,x=s.id;if(i||!d||!d.length)return null;var S=this.state.isAnimationFinished,P=d.length===1,O=qe("recharts-line",u),N=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,A=N||C,E=ze(x)?this.id:x,T=(a=Re(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},R=T.r,I=R===void 0?3:R,M=T.strokeWidth,$=M===void 0?2:M,H=S9(l)?l:{},V=H.clipDot,q=V===void 0?!0:V,B=I*2+$;return Y.createElement(Ge,{className:O},N||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(E)},Y.createElement("rect",{x:N?g:g-j/2,y:C?m:m-v/2,width:N?j:j*2,height:C?v:v*2})),!q&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Y.createElement("rect",{x:g-B/2,y:m-B/2,width:j+B,height:v+B}))):null,!P&&this.renderCurve(A,E),this.renderErrorBar(A,E),(P||l)&&this.renderDots(A,q,E),(!w||S)&&aa.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Ri(a),[0]):a,l=[],d=0;d<s;++d)l=[].concat(Ri(l),Ri(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(Y.isValidElement(a))i=Y.cloneElement(a,s);else if(Fe(a))i=a(s);else{var l=s.key,d=XP(s,LZ),u=qe("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Y.createElement(If,rc({key:l},d,{className:u}))}return i}}])})(b.PureComponent);fn(Co,"displayName","Line");fn(Co,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(Co,"getComposedData",function(e){var t=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,d=e.bandSize,u=e.displayedData,h=e.offset,p=t.layout,m=u.map(function(g,j){var v=Lt(g,l);return p==="horizontal"?{x:aA({axis:n,ticks:s,bandSize:d,entry:g,index:j}),y:ze(v)?null:a.scale(v),value:v,payload:g}:{x:ze(v)?null:n.scale(v),y:aA({axis:a,ticks:i,bandSize:d,entry:g,index:j}),value:v,payload:g}});return Or({points:m,layout:p},h)});function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function YZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XZ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,q_(a.key),a)}}function JZ(e,t,n){return t&&XZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZZ(e,t,n){return t=Qh(t),eee(e,F_()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function eee(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tee(e)}function tee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(e)}function ree(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ub(e,t)}function z_(e,t,n){return t=q_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q_(e){var t=nee(e,"string");return Ao(t)=="symbol"?t:t+""}function nee(e,t){if(Ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wb.apply(this,arguments)}function aee(e){var t=e.xAxisId,n=xw(),a=gw(),s=k_(t);return s==null?null:b.createElement(Uo,Wb({},s,{className:qe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ta(l,!0)}}))}var Wo=(function(e){function t(){return YZ(this,t),ZZ(this,t,arguments)}return ree(t,e),JZ(t,[{key:"render",value:function(){return b.createElement(aee,this.props)}}])})(b.Component);z_(Wo,"displayName","XAxis");z_(Wo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function see(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,W_(a.key),a)}}function oee(e,t,n){return t&&iee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lee(e,t,n){return t=Yh(t),cee(e,B_()?Reflect.construct(t,n||[],Yh(e).constructor):t.apply(e,n))}function cee(e,t){if(t&&(Po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dee(e)}function dee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B_=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(e)}function uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hb(e,t)}function U_(e,t,n){return t=W_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e){var t=hee(e,"string");return Po(t)=="symbol"?t:t+""}function hee(e,t){if(Po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kb.apply(this,arguments)}var fee=function(t){var n=t.yAxisId,a=xw(),s=gw(),i=C_(n);return i==null?null:b.createElement(Uo,Kb({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(d){return ta(d,!0)}}))},Ho=(function(e){function t(){return see(this,t),lee(this,t,arguments)}return uee(t,e),oee(t,[{key:"render",value:function(){return b.createElement(fee,this.props)}}])})(b.Component);U_(Ho,"displayName","YAxis");U_(Ho,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function e3(e){return gee(e)||xee(e)||pee(e)||mee()}function mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(e,t){if(e){if(typeof e=="string")return Gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(e,t)}}function xee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gee(e){if(Array.isArray(e))return Gb(e)}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Vb=function(t,n,a,s,i){var l=Ir(t,vw),d=Ir(t,Wf),u=[].concat(e3(l),e3(d)),h=Ir(t,Kf),p="".concat(s,"Id"),m=s[0],g=n;if(u.length&&(g=u.reduce(function(w,x){if(x.props[p]===a&&_n(x.props,"extendDomain")&&ge(x.props[m])){var S=x.props[m];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},g)),h.length){var j="".concat(m,"1"),v="".concat(m,"2");g=h.reduce(function(w,x){if(x.props[p]===a&&_n(x.props,"extendDomain")&&ge(x.props[j])&&ge(x.props[v])){var S=x.props[j],P=x.props[v];return[Math.min(w[0],S,P),Math.max(w[1],S,P)]}return w},g)}return i&&i.length&&(g=i.reduce(function(w,x){return ge(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},g)),g},Xy={exports:{}},t3;function yee(){return t3||(t3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function i(u,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new s(p,m||u,g),v=n?n+h:h;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],j]:u._events[v].push(j):(u._events[v]=j,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new a:delete u._events[h]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,j=m.length,v=new Array(j);g<j;g++)v[g]=m[g].fn;return v},d.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},d.prototype.emit=function(h,p,m,g,j,v){var w=n?n+h:h;if(!this._events[w])return!1;var x=this._events[w],S=arguments.length,P,O;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,m),!0;case 4:return x.fn.call(x.context,p,m,g),!0;case 5:return x.fn.call(x.context,p,m,g,j),!0;case 6:return x.fn.call(x.context,p,m,g,j,v),!0}for(O=1,P=new Array(S-1);O<S;O++)P[O-1]=arguments[O];x.fn.apply(x.context,P)}else{var N=x.length,C;for(O=0;O<N;O++)switch(x[O].once&&this.removeListener(h,x[O].fn,void 0,!0),S){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,p);break;case 3:x[O].fn.call(x[O].context,p,m);break;case 4:x[O].fn.call(x[O].context,p,m,g);break;default:if(!P)for(C=1,P=new Array(S-1);C<S;C++)P[C-1]=arguments[C];x[O].fn.apply(x[O].context,P)}}return!0},d.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},d.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},d.prototype.removeListener=function(h,p,m,g){var j=n?n+h:h;if(!this._events[j])return this;if(!p)return l(this,j),this;var v=this._events[j];if(v.fn)v.fn===p&&(!g||v.once)&&(!m||v.context===m)&&l(this,j);else{for(var w=0,x=[],S=v.length;w<S;w++)(v[w].fn!==p||g&&!v[w].once||m&&v[w].context!==m)&&x.push(v[w]);x.length?this._events[j]=x.length===1?x[0]:x:l(this,j)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(Xy)),Xy.exports}var vee=yee();const bee=Ze(vee);var Jy=new bee,Zy="recharts.syncMouseEvents";function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function jee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H_(a.key),a)}}function Nee(e,t,n){return t&&wee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ev(e,t,n){return t=H_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e){var t=See(e,"string");return Fc(t)=="symbol"?t:t+""}function See(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kee=(function(){function e(){jee(this,e),ev(this,"activeIndex",0),ev(this,"coordinateList",[]),ev(this,"layout","horizontal")}return Nee(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,l=n.container,d=l===void 0?null:l,u=n.layout,h=u===void 0?null:u,p=n.offset,m=p===void 0?null:p,g=n.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=d??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,d=s.height,u=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+u+h,g=l+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function Cee(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&ge(a)&&ge(s))return!0}return!1}function Aee(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function K_(e){var t=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=ot(t,n,a,s),d=ot(t,n,a,i);return{points:[l,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function Pee(e,t,n){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,u=t.cy,h=t.innerRadius,p=t.outerRadius,m=t.angle,g=ot(d,u,h,m),j=ot(d,u,p,m);a=g.x,s=g.y,i=j.x,l=j.y}else return K_(t);return[{x:a,y:s},{x:i,y:l}]}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(a){Oee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Oee(e,t,n){return t=Eee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=_ee(e,"string");return zc(t)=="symbol"?t:t+""}function _ee(e,t){if(zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tee(e){var t,n,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,d=e.activePayload,u=e.offset,h=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!j||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var v,w=Ah;if(g==="ScatterChart")v=l,w=eY;else if(g==="BarChart")v=Aee(m,l,u,p),w=hw;else if(m==="radial"){var x=K_(l),S=x.cx,P=x.cy,O=x.radius,N=x.startAngle,C=x.endAngle;v={cx:S,cy:P,startAngle:N,endAngle:C,innerRadius:O,outerRadius:O},w=G6}else v={points:Pee(m,l,u)},w=Ah;var A=$u($u($u($u({stroke:"#ccc",pointerEvents:"none"},u),v),Re(j,!1)),{},{payload:d,payloadIndex:h,className:qe("recharts-tooltip-cursor",j.className)});return b.isValidElement(j)?b.cloneElement(j,A):b.createElement(w,A)}var Ree=["item"],Mee=["children","className","width","height","style","compact","title","desc"];function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zi.apply(this,arguments)}function n3(e,t){return Lee(e)||$ee(e,t)||V_(e,t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function Lee(e){if(Array.isArray(e))return e}function a3(e,t){if(e==null)return{};var n=Dee(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Dee(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Fee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q_(a.key),a)}}function qee(e,t,n){return t&&zee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bee(e,t,n){return t=Xh(t),Uee(e,G_()?Reflect.construct(t,n||[],Xh(e).constructor):t.apply(e,n))}function Uee(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(e)}function Wee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(e)}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Qb(e,t)}function Eo(e){return Vee(e)||Gee(e)||V_(e)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(e,t){if(e){if(typeof e=="string")return Yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(e,t)}}function Gee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vee(e){if(Array.isArray(e))return Yb(e)}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(a){Ie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ie(e,t,n){return t=Q_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_(e){var t=Qee(e,"string");return Oo(t)=="symbol"?t:t+""}function Qee(e,t){if(Oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yee={xAxis:["bottom","top"],yAxis:["left","right"]},Xee={width:"100%",height:"100%"},Y_={x:0,y:0};function Lu(e){return e}var Jee=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Zee=function(t,n,a,s){var i=n.find(function(p){return p&&p.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,d=s.radius;return de(de(de({},s),ot(s.cx,s.cy,d,l)),{},{angle:l,radius:d})}var u=i.coordinate,h=s.angle;return de(de(de({},s),ot(s.cx,s.cy,u,h)),{},{angle:h,radius:u})}return Y_},Gf=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(a??[]).reduce(function(d,u){var h=u.props.data;return h&&h.length?[].concat(Eo(d),Eo(h)):d},[]);return l.length>0?l:t&&t.length&&ge(s)&&ge(i)?t.slice(s,i+1):[]};function X_(e){return e==="number"?[0,"auto"]:void 0}var Xb=function(t,n,a,s){var i=t.graphicalItems,l=t.tooltipAxis,d=Gf(n,t);return a<0||!i||!i.length||a>=d.length?null:i.reduce(function(u,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=m===void 0?d:m;g=Ju(j,l.dataKey,s)}else g=m&&m[a]||d[a];return g?[].concat(Eo(u),[q6(h,g)]):u},[])},i3=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},l=Jee(i,a),d=t.orderedTooltipTicks,u=t.tooltipAxis,h=t.tooltipTicks,p=jK(l,d,h,u);if(p>=0&&h){var m=h[p]&&h[p].value,g=Xb(t,n,p,m),j=Zee(a,d,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:j}}return null},ete=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,j=I6(p,i);return a.reduce(function(v,w){var x,S=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,P=S.type,O=S.dataKey,N=S.allowDataOverflow,C=S.allowDuplicatedCategory,A=S.scale,E=S.ticks,T=S.includeHidden,R=S[l];if(v[R])return v;var I=Gf(t.data,{graphicalItems:s.filter(function(D){var G,te=l in D.props?D.props[l]:(G=D.type.defaultProps)===null||G===void 0?void 0:G[l];return te===R}),dataStartIndex:u,dataEndIndex:h}),M=I.length,$,H,V;Cee(S.domain,N,P)&&($=ub(S.domain,null,N),j&&(P==="number"||A!=="auto")&&(V=Jl(I,O,"category")));var q=X_(P);if(!$||$.length===0){var B,W=(B=S.domain)!==null&&B!==void 0?B:q;if(O){if($=Jl(I,O,P),P==="category"&&j){var U=m9($);C&&U?(H=$,$=Dh(0,M)):C||($=lA(W,$,w).reduce(function(D,G){return D.indexOf(G)>=0?D:[].concat(Eo(D),[G])},[]))}else if(P==="category")C?$=$.filter(function(D){return D!==""&&!ze(D)}):$=lA(W,$,w).reduce(function(D,G){return D.indexOf(G)>=0||G===""||ze(G)?D:[].concat(Eo(D),[G])},[]);else if(P==="number"){var Q=CK(I,s.filter(function(D){var G,te,ue=l in D.props?D.props[l]:(G=D.type.defaultProps)===null||G===void 0?void 0:G[l],xe="hide"in D.props?D.props.hide:(te=D.type.defaultProps)===null||te===void 0?void 0:te.hide;return ue===R&&(T||!xe)}),O,i,p);Q&&($=Q)}j&&(P==="number"||A!=="auto")&&(V=Jl(I,O,"category"))}else j?$=Dh(0,M):d&&d[R]&&d[R].hasStack&&P==="number"?$=g==="expand"?[0,1]:z6(d[R].stackGroups,u,h):$=M6(I,s.filter(function(D){var G=l in D.props?D.props[l]:D.type.defaultProps[l],te="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return G===R&&(T||!te)}),P,p,!0);if(P==="number")$=Vb(m,$,R,i,E),W&&($=ub(W,$,N));else if(P==="category"&&W){var z=W,F=$.every(function(D){return z.indexOf(D)>=0});F&&($=z)}}return de(de({},v),{},Ie({},R,de(de({},S),{},{axisType:i,domain:$,categoricalDomain:V,duplicateDomain:H,originalDomain:(x=S.domain)!==null&&x!==void 0?x:q,isCategorical:j,layout:p})))},{})},tte=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,g=Gf(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:h}),j=g.length,v=I6(p,i),w=-1;return a.reduce(function(x,S){var P=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,O=P[l],N=X_("number");if(!x[O]){w++;var C;return v?C=Dh(0,j):d&&d[O]&&d[O].hasStack?(C=z6(d[O].stackGroups,u,h),C=Vb(m,C,O,i)):(C=ub(N,M6(g,a.filter(function(A){var E,T,R=l in A.props?A.props[l]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[l],I="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return R===O&&!I}),"number",p),s.defaultProps.allowDataOverflow),C=Vb(m,C,O,i)),de(de({},x),{},Ie({},O,de(de({axisType:i},s.defaultProps),{},{hide:!0,orientation:Mr(Yee,"".concat(i,".").concat(w%2),null),domain:C,originalDomain:N,isCategorical:v,layout:p})))}return x},{})},rte=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,l=n.graphicalItems,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.children,m="".concat(s,"Id"),g=Ir(p,i),j={};return g&&g.length?j=ete(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h}):l&&l.length&&(j=tte(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h})),j},nte=function(t){var n=Ia(t),a=ta(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Dj(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Sh(n,a)}},o3=function(t){var n=t.children,a=t.defaultShowTooltip,s=_r(n,vo),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},ate=function(t){return!t||!t.length?!1:t.some(function(n){var a=ra(n&&n.type);return a&&a.indexOf("Bar")>=0})},l3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ste=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,d=t.yAxisMap,u=d===void 0?{}:d,h=a.width,p=a.height,m=a.children,g=a.margin||{},j=_r(m,vo),v=_r(m,Xa),w=Object.keys(u).reduce(function(C,A){var E=u[A],T=E.orientation;return!E.mirror&&!E.hide?de(de({},C),{},Ie({},T,C[T]+E.width)):C},{left:g.left||0,right:g.right||0}),x=Object.keys(l).reduce(function(C,A){var E=l[A],T=E.orientation;return!E.mirror&&!E.hide?de(de({},C),{},Ie({},T,Mr(C,"".concat(T))+E.height)):C},{top:g.top||0,bottom:g.bottom||0}),S=de(de({},x),w),P=S.bottom;j&&(S.bottom+=j.props.height||vo.defaultProps.height),v&&n&&(S=SK(S,s,a,n));var O=h-S.left-S.right,N=p-S.top-S.bottom;return de(de({brushBottom:P},S),{},{width:Math.max(O,0),height:Math.max(N,0)})},ite=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Nw=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=t.axisComponents,h=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(S,P){var O=P.graphicalItems,N=P.stackGroups,C=P.offset,A=P.updateId,E=P.dataStartIndex,T=P.dataEndIndex,R=S.barSize,I=S.layout,M=S.barGap,$=S.barCategoryGap,H=S.maxBarSize,V=l3(I),q=V.numericAxisName,B=V.cateAxisName,W=ate(O),U=[];return O.forEach(function(Q,z){var F=Gf(S.data,{graphicalItems:[Q],dataStartIndex:E,dataEndIndex:T}),D=Q.type.defaultProps!==void 0?de(de({},Q.type.defaultProps),Q.props):Q.props,G=D.dataKey,te=D.maxBarSize,ue=D["".concat(q,"Id")],xe=D["".concat(B,"Id")],oe={},ee=u.reduce(function(hr,en){var si=P["".concat(en.axisType,"Map")],Ko=D["".concat(en.axisType,"Id")];si&&si[Ko]||en.axisType==="zAxis"||Ys();var Go=si[Ko];return de(de({},hr),{},Ie(Ie({},en.axisType,Go),"".concat(en.axisType,"Ticks"),ta(Go)))},oe),le=ee[B],ke=ee["".concat(B,"Ticks")],$e=N&&N[ue]&&N[ue].hasStack&&IK(Q,N[ue].stackGroups),re=ra(Q.type).indexOf("Bar")>=0,be=Sh(le,ke),je=[],tt=W&&wK({barSize:R,stackGroups:N,totalSize:ite(ee,B)});if(re){var gt,zt,Zr=ze(te)?H:te,yn=(gt=(zt=Sh(le,ke,!0))!==null&&zt!==void 0?zt:Zr)!==null&&gt!==void 0?gt:0;je=NK({barGap:M,barCategoryGap:$,bandSize:yn!==be?yn:be,sizeList:tt[xe],maxBarSize:Zr}),yn!==be&&(je=je.map(function(hr){return de(de({},hr),{},{position:de(de({},hr.position),{},{offset:hr.position.offset-yn/2})})}))}var vn=Q&&Q.type&&Q.type.getComposedData;vn&&U.push({props:de(de({},vn(de(de({},ee),{},{displayedData:F,props:S,dataKey:G,item:Q,bandSize:be,barPosition:je,offset:C,stackedData:$e,layout:I,dataStartIndex:E,dataEndIndex:T}))),{},Ie(Ie(Ie({key:Q.key||"item-".concat(z)},q,ee[q]),B,ee[B]),"animationId",A)),childIndex:A9(Q,S.children),item:Q})}),U},j=function(S,P){var O=S.props,N=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;if(!w5({props:O}))return null;var E=O.children,T=O.layout,R=O.stackOffset,I=O.data,M=O.reverseStackOrder,$=l3(T),H=$.numericAxisName,V=$.cateAxisName,q=Ir(E,a),B=RK(I,q,"".concat(H,"Id"),"".concat(V,"Id"),R,M),W=u.reduce(function(D,G){var te="".concat(G.axisType,"Map");return de(de({},D),{},Ie({},te,rte(O,de(de({},G),{},{graphicalItems:q,stackGroups:G.axisType===H&&B,dataStartIndex:N,dataEndIndex:C}))))},{}),U=ste(de(de({},W),{},{props:O,graphicalItems:q}),P==null?void 0:P.legendBBox);Object.keys(W).forEach(function(D){W[D]=p(O,W[D],U,D.replace("Map",""),n)});var Q=W["".concat(V,"Map")],z=nte(Q),F=g(O,de(de({},W),{},{dataStartIndex:N,dataEndIndex:C,updateId:A,graphicalItems:q,stackGroups:B,offset:U}));return de(de({formattedGraphicalItems:F,graphicalItems:q,offset:U,stackGroups:B},z),W)},v=(function(x){function S(P){var O,N,C;return Fee(this,S),C=Bee(this,S,[P]),Ie(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(C,"accessibilityManager",new kee),Ie(C,"handleLegendBBoxUpdate",function(A){if(A){var E=C.state,T=E.dataStartIndex,R=E.dataEndIndex,I=E.updateId;C.setState(de({legendBBox:A},j({props:C.props,dataStartIndex:T,dataEndIndex:R,updateId:I},de(de({},C.state),{},{legendBBox:A}))))}}),Ie(C,"handleReceiveSyncEvent",function(A,E,T){if(C.props.syncId===A){if(T===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),Ie(C,"handleBrushChange",function(A){var E=A.startIndex,T=A.endIndex;if(E!==C.state.dataStartIndex||T!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return de({dataStartIndex:E,dataEndIndex:T},j({props:C.props,dataStartIndex:E,dataEndIndex:T,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Ie(C,"handleMouseEnter",function(A){var E=C.getMouseInfo(A);if(E){var T=de(de({},E),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var R=C.props.onMouseEnter;Fe(R)&&R(T,A)}}),Ie(C,"triggeredAfterMouseMove",function(A){var E=C.getMouseInfo(A),T=E?de(de({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var R=C.props.onMouseMove;Fe(R)&&R(T,A)}),Ie(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ie(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ie(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),Ie(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseLeave;Fe(T)&&T(E,A)}),Ie(C,"handleOuterEvent",function(A){var E=C9(A),T=Mr(C.props,"".concat(E));if(E&&Fe(T)){var R,I;/.*touch.*/i.test(E)?I=C.getMouseInfo(A.changedTouches[0]):I=C.getMouseInfo(A),T((R=I)!==null&&R!==void 0?R:{},A)}}),Ie(C,"handleClick",function(A){var E=C.getMouseInfo(A);if(E){var T=de(de({},E),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var R=C.props.onClick;Fe(R)&&R(T,A)}}),Ie(C,"handleMouseDown",function(A){var E=C.props.onMouseDown;if(Fe(E)){var T=C.getMouseInfo(A);E(T,A)}}),Ie(C,"handleMouseUp",function(A){var E=C.props.onMouseUp;if(Fe(E)){var T=C.getMouseInfo(A);E(T,A)}}),Ie(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ie(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),Ie(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),Ie(C,"handleDoubleClick",function(A){var E=C.props.onDoubleClick;if(Fe(E)){var T=C.getMouseInfo(A);E(T,A)}}),Ie(C,"handleContextMenu",function(A){var E=C.props.onContextMenu;if(Fe(E)){var T=C.getMouseInfo(A);E(T,A)}}),Ie(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&Jy.emit(Zy,C.props.syncId,A,C.eventEmitterSymbol)}),Ie(C,"applySyncEvent",function(A){var E=C.props,T=E.layout,R=E.syncMethod,I=C.state.updateId,M=A.dataStartIndex,$=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(de({dataStartIndex:M,dataEndIndex:$},j({props:C.props,dataStartIndex:M,dataEndIndex:$,updateId:I},C.state)));else if(A.activeTooltipIndex!==void 0){var H=A.chartX,V=A.chartY,q=A.activeTooltipIndex,B=C.state,W=B.offset,U=B.tooltipTicks;if(!W)return;if(typeof R=="function")q=R(U,A);else if(R==="value"){q=-1;for(var Q=0;Q<U.length;Q++)if(U[Q].value===A.activeLabel){q=Q;break}}var z=de(de({},W),{},{x:W.left,y:W.top}),F=Math.min(H,z.x+z.width),D=Math.min(V,z.y+z.height),G=U[q]&&U[q].value,te=Xb(C.state,C.props.data,q),ue=U[q]?{x:T==="horizontal"?U[q].coordinate:F,y:T==="horizontal"?D:U[q].coordinate}:Y_;C.setState(de(de({},A),{},{activeLabel:G,activeCoordinate:ue,activePayload:te,activeTooltipIndex:q}))}else C.setState(A)}),Ie(C,"renderCursor",function(A){var E,T=C.state,R=T.isTooltipActive,I=T.activeCoordinate,M=T.activePayload,$=T.offset,H=T.activeTooltipIndex,V=T.tooltipAxisBandSize,q=C.getTooltipEventType(),B=(E=A.props.active)!==null&&E!==void 0?E:R,W=C.props.layout,U=A.key||"_recharts-cursor";return Y.createElement(Tee,{key:U,activeCoordinate:I,activePayload:M,activeTooltipIndex:H,chartName:n,element:A,isActive:B,layout:W,offset:$,tooltipAxisBandSize:V,tooltipEventType:q})}),Ie(C,"renderPolarAxis",function(A,E,T){var R=Mr(A,"type.axisType"),I=Mr(C.state,"".concat(R,"Map")),M=A.type.defaultProps,$=M!==void 0?de(de({},M),A.props):A.props,H=I&&I[$["".concat(R,"Id")]];return b.cloneElement(A,de(de({},H),{},{className:qe(R,H.className),key:A.key||"".concat(E,"-").concat(T),ticks:ta(H,!0)}))}),Ie(C,"renderPolarGrid",function(A){var E=A.props,T=E.radialLines,R=E.polarAngles,I=E.polarRadius,M=C.state,$=M.radiusAxisMap,H=M.angleAxisMap,V=Ia($),q=Ia(H),B=q.cx,W=q.cy,U=q.innerRadius,Q=q.outerRadius;return b.cloneElement(A,{polarAngles:Array.isArray(R)?R:ta(q,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:ta(V,!0).map(function(z){return z.coordinate}),cx:B,cy:W,innerRadius:U,outerRadius:Q,key:A.key||"polar-grid",radialLines:T})}),Ie(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,E=C.props,T=E.children,R=E.width,I=E.height,M=C.props.margin||{},$=R-(M.left||0)-(M.right||0),H=T6({children:T,formattedGraphicalItems:A,legendWidth:$,legendContent:h});if(!H)return null;var V=H.item,q=a3(H,Ree);return b.cloneElement(V,de(de({},q),{},{chartWidth:R,chartHeight:I,margin:M,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ie(C,"renderTooltip",function(){var A,E=C.props,T=E.children,R=E.accessibilityLayer,I=_r(T,Gr);if(!I)return null;var M=C.state,$=M.isTooltipActive,H=M.activeCoordinate,V=M.activePayload,q=M.activeLabel,B=M.offset,W=(A=I.props.active)!==null&&A!==void 0?A:$;return b.cloneElement(I,{viewBox:de(de({},B),{},{x:B.left,y:B.top}),active:W,label:q,payload:W?V:[],coordinate:H,accessibilityLayer:R})}),Ie(C,"renderBrush",function(A){var E=C.props,T=E.margin,R=E.data,I=C.state,M=I.offset,$=I.dataStartIndex,H=I.dataEndIndex,V=I.updateId;return b.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Tu(C.handleBrushChange,A.props.onChange),data:R,x:ge(A.props.x)?A.props.x:M.left,y:ge(A.props.y)?A.props.y:M.top+M.height+M.brushBottom-(T.bottom||0),width:ge(A.props.width)?A.props.width:M.width,startIndex:$,endIndex:H,updateId:"brush-".concat(V)})}),Ie(C,"renderReferenceElement",function(A,E,T){if(!A)return null;var R=C,I=R.clipPathId,M=C.state,$=M.xAxisMap,H=M.yAxisMap,V=M.offset,q=A.type.defaultProps||{},B=A.props,W=B.xAxisId,U=W===void 0?q.xAxisId:W,Q=B.yAxisId,z=Q===void 0?q.yAxisId:Q;return b.cloneElement(A,{key:A.key||"".concat(E,"-").concat(T),xAxis:$[U],yAxis:H[z],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:I})}),Ie(C,"renderActivePoints",function(A){var E=A.item,T=A.activePoint,R=A.basePoint,I=A.childIndex,M=A.isRange,$=[],H=E.props.key,V=E.item.type.defaultProps!==void 0?de(de({},E.item.type.defaultProps),E.item.props):E.item.props,q=V.activeDot,B=V.dataKey,W=de(de({index:I,dataKey:B,cx:T.x,cy:T.y,r:4,fill:uw(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Re(q,!1)),Zu(q));return $.push(S.renderActiveDot(q,W,"".concat(H,"-activePoint-").concat(I))),R?$.push(S.renderActiveDot(q,de(de({},W),{},{cx:R.x,cy:R.y}),"".concat(H,"-basePoint-").concat(I))):M&&$.push(null),$}),Ie(C,"renderGraphicChild",function(A,E,T){var R=C.filterFormatItem(A,E,T);if(!R)return null;var I=C.getTooltipEventType(),M=C.state,$=M.isTooltipActive,H=M.tooltipAxis,V=M.activeTooltipIndex,q=M.activeLabel,B=C.props.children,W=_r(B,Gr),U=R.props,Q=U.points,z=U.isRange,F=U.baseLine,D=R.item.type.defaultProps!==void 0?de(de({},R.item.type.defaultProps),R.item.props):R.item.props,G=D.activeDot,te=D.hide,ue=D.activeBar,xe=D.activeShape,oe=!!(!te&&$&&W&&(G||ue||xe)),ee={};I!=="axis"&&W&&W.props.trigger==="click"?ee={onClick:Tu(C.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(ee={onMouseLeave:Tu(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Tu(C.handleItemMouseEnter,A.props.onMouseEnter)});var le=b.cloneElement(A,de(de({},R.props),ee));function ke(en){return typeof H.dataKey=="function"?H.dataKey(en.payload):null}if(oe)if(V>=0){var $e,re;if(H.dataKey&&!H.allowDuplicatedCategory){var be=typeof H.dataKey=="function"?ke:"payload.".concat(H.dataKey.toString());$e=Ju(Q,be,q),re=z&&F&&Ju(F,be,q)}else $e=Q==null?void 0:Q[V],re=z&&F&&F[V];if(xe||ue){var je=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[b.cloneElement(A,de(de(de({},R.props),ee),{},{activeIndex:je})),null,null]}if(!ze($e))return[le].concat(Eo(C.renderActivePoints({item:R,activePoint:$e,basePoint:re,childIndex:V,isRange:z})))}else{var tt,gt=(tt=C.getItemByXY(C.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:le},zt=gt.graphicalItem,Zr=zt.item,yn=Zr===void 0?A:Zr,vn=zt.childIndex,hr=de(de(de({},R.props),ee),{},{activeIndex:vn});return[b.cloneElement(yn,hr),null,null]}return z?[le,null,null]:[le,null]}),Ie(C,"renderCustomized",function(A,E,T){return b.cloneElement(A,de(de({key:"recharts-customized-".concat(T)},C.props),C.state))}),Ie(C,"renderMap",{CartesianGrid:{handler:Lu,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Lu},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Lu},YAxis:{handler:Lu},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((O=P.id)!==null&&O!==void 0?O:Do("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=TE(C.triggeredAfterMouseMove,(N=P.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return Hee(S,x),qee(S,[{key:"componentDidMount",value:function(){var O,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,N=O.children,C=O.data,A=O.height,E=O.layout,T=_r(N,Gr);if(T){var R=T.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=Xb(this.state,C,R,I),$=this.state.tooltipTicks[R].coordinate,H=(this.state.offset.top+A)/2,V=E==="horizontal",q=V?{x:$,y:H}:{y:$,x:H},B=this.state.formattedGraphicalItems.find(function(U){var Q=U.item;return Q.type.name==="Scatter"});B&&(q=de(de({},q),B.props.points[R].tooltipPosition),M=B.props.points[R].tooltipPayload);var W={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:q};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){Rv([_r(O.children,Gr)],[_r(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=_r(this.props.children,Gr);if(O&&typeof O.props.shared=="boolean"){var N=O.props.shared?"axis":"item";return d.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),A=fB(C),E={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},T=C.width/N.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,T);if(!R)return null;var I=this.state,M=I.xAxisMap,$=I.yAxisMap,H=this.getTooltipEventType(),V=i3(this.state,this.props.data,this.props.layout,R);if(H!=="axis"&&M&&$){var q=Ia(M).scale,B=Ia($).scale,W=q&&q.invert?q.invert(E.chartX):null,U=B&&B.invert?B.invert(E.chartY):null;return de(de({},E),{},{xValue:W,yValue:U},V)}return V?de(de({},E),V):null}},{key:"inRange",value:function(O,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=O/C,T=N/C;if(A==="horizontal"||A==="vertical"){var R=this.state.offset,I=E>=R.left&&E<=R.left+R.width&&T>=R.top&&T<=R.top+R.height;return I?{x:E,y:T}:null}var M=this.state,$=M.angleAxisMap,H=M.radiusAxisMap;if($&&H){var V=Ia($);return uA({x:E,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,N=this.getTooltipEventType(),C=_r(O,Gr),A={};C&&N==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Zu(this.props,this.handleOuterEvent);return de(de({},E),A)}},{key:"addListener",value:function(){Jy.on(Zy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jy.removeListener(Zy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,N,C){for(var A=this.state.formattedGraphicalItems,E=0,T=A.length;E<T;E++){var R=A[E];if(R.item===O||R.props.key===O.key||N===ra(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,N=this.state.offset,C=N.left,A=N.top,E=N.height,T=N.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:O},Y.createElement("rect",{x:C,y:A,height:E,width:T})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(N,C){var A=n3(C,2),E=A[0],T=A[1];return de(de({},N),{},Ie({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(N,C){var A=n3(C,2),E=A[0],T=A[1];return de(de({},N),{},Ie({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[O])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(O){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[O])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(O){var N=this.state,C=N.formattedGraphicalItems,A=N.activeItem;if(C&&C.length)for(var E=0,T=C.length;E<T;E++){var R=C[E],I=R.props,M=R.item,$=M.type.defaultProps!==void 0?de(de({},M.type.defaultProps),M.props):M.props,H=ra(M.type);if(H==="Bar"){var V=(I.data||[]).find(function(U){return MQ(O,U)});if(V)return{graphicalItem:R,payload:V}}else if(H==="RadialBar"){var q=(I.data||[]).find(function(U){return uA(O,U)});if(q)return{graphicalItem:R,payload:q}}else if(zf(R,A)||qf(R,A)||Mc(R,A)){var B=nX({graphicalItem:R,activeTooltipItem:A,itemData:$.data}),W=$.activeIndex===void 0?B:$.activeIndex;return{graphicalItem:de(de({},R),{},{childIndex:W}),payload:Mc(R,A)?$.data[B]:R.props.data[B]}}}return null}},{key:"render",value:function(){var O=this;if(!w5(this))return null;var N=this.props,C=N.children,A=N.className,E=N.width,T=N.height,R=N.style,I=N.compact,M=N.title,$=N.desc,H=a3(N,Mee),V=Re(H,!1);if(I)return Y.createElement(DP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(Iv,zi({},V,{width:E,height:T,title:M,desc:$}),this.renderClipPath(),S5(C,this.renderMap)));if(this.props.accessibilityLayer){var q,B;V.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,V.role=(B=this.props.role)!==null&&B!==void 0?B:"application",V.onKeyDown=function(U){O.accessibilityManager.keyboardEvent(U)},V.onFocus=function(){O.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return Y.createElement(DP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",zi({className:qe("recharts-wrapper",A),style:de({position:"relative",cursor:"default",width:E,height:T},R)},W,{ref:function(Q){O.container=Q}}),Y.createElement(Iv,zi({},V,{width:E,height:T,title:M,desc:$,style:Xee}),this.renderClipPath(),S5(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Ie(v,"displayName",n),Ie(v,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ie(v,"getDerivedStateFromProps",function(x,S){var P=x.dataKey,O=x.data,N=x.children,C=x.width,A=x.height,E=x.layout,T=x.stackOffset,R=x.margin,I=S.dataStartIndex,M=S.dataEndIndex;if(S.updateId===void 0){var $=o3(x);return de(de(de({},$),{},{updateId:0},j(de(de({props:x},$),{},{updateId:0}),S)),{},{prevDataKey:P,prevData:O,prevWidth:C,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:R,prevChildren:N})}if(P!==S.prevDataKey||O!==S.prevData||C!==S.prevWidth||A!==S.prevHeight||E!==S.prevLayout||T!==S.prevStackOffset||!qi(R,S.prevMargin)){var H=o3(x),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},q=de(de({},i3(S,O,E)),{},{updateId:S.updateId+1}),B=de(de(de({},H),V),q);return de(de(de({},B),j(de({props:x},B),S)),{},{prevDataKey:P,prevData:O,prevWidth:C,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:R,prevChildren:N})}if(!Rv(N,S.prevChildren)){var W,U,Q,z,F=_r(N,vo),D=F&&(W=(U=F.props)===null||U===void 0?void 0:U.startIndex)!==null&&W!==void 0?W:I,G=F&&(Q=(z=F.props)===null||z===void 0?void 0:z.endIndex)!==null&&Q!==void 0?Q:M,te=D!==I||G!==M,ue=!ze(O),xe=ue&&!te?S.updateId:S.updateId+1;return de(de({updateId:xe},j(de(de({props:x},S),{},{updateId:xe,dataStartIndex:D,dataEndIndex:G}),S)),{},{prevChildren:N,dataStartIndex:D,dataEndIndex:G})}return null}),Ie(v,"renderActiveDot",function(x,S,P){var O;return b.isValidElement(x)?O=b.cloneElement(x,S):Fe(x)?O=x(S):O=Y.createElement(If,S),Y.createElement(Ge,{className:"recharts-active-dot",key:P},O)});var w=b.forwardRef(function(S,P){return Y.createElement(v,zi({},S,{ref:P}))});return w.displayName=v.displayName,w},ote=Nw({chartName:"LineChart",GraphicalChild:Co,axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Ho}],formatAxisMap:g_}),lte=Nw({chartName:"BarChart",GraphicalChild:Za,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Ho}],formatAxisMap:g_}),cte=Nw({chartName:"PieChart",GraphicalChild:fa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ff},{axisType:"radiusAxis",AxisComp:Lf}],formatAxisMap:HK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const c3=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],dte=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function ute({metrics:e,loading:t}){const n=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:a=>a.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:a=>`${a}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:a=>`${a}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:a=>`$${(a/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:a=>a.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:a=>a.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:n.map(a=>r.jsxs("div",{className:`${a.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),r.jsx("p",{className:`text-2xl font-bold ${a.color}`,children:t?"-":a.format(a.value)})]},a.title))})}function hte({data:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx(zj,{width:"100%",height:256,children:r.jsxs(ote,{data:e,children:[r.jsx(ww,{strokeDasharray:"3 3"}),r.jsx(Wo,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(Ho,{tick:{fontSize:12}}),r.jsx(Gr,{labelFormatter:n=>new Date(n).toLocaleDateString(),formatter:(n,a)=>[n.toLocaleString(),a]}),r.jsx(Xa,{}),r.jsx(Co,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),r.jsx(Co,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function fte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.filter(a=>a.totalCostCents>0).slice(0,8).map(a=>({name:a.agentName||a.agentId.slice(0,8),value:a.totalCostCents}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx(zj,{width:"100%",height:256,children:r.jsxs(cte,{children:[r.jsx(fa,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:s})=>`${a} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((a,s)=>r.jsx(Nf,{fill:c3[s%c3.length]},`cell-${s}`))}),r.jsx(Gr,{formatter:a=>[`$${(a/100).toFixed(2)}`,"Cost"]})]})})]})}function mte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.slice(0,10).map(a=>({name:a.agentName||a.agentId.slice(0,8),avgLatency:a.avgLatencyMs,p95Latency:a.p95LatencyMs}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),r.jsx(zj,{width:"100%",height:256,children:r.jsxs(lte,{data:n,children:[r.jsx(ww,{strokeDasharray:"3 3"}),r.jsx(Wo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),r.jsx(Ho,{tick:{fontSize:12}}),r.jsx(Gr,{formatter:a=>[`${a}ms`,""]}),r.jsx(Xa,{}),r.jsx(Za,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),r.jsx(Za,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function pte({agents:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,a)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},a))})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:n.agentName||n.agentId.slice(0,8)})}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.totalExecutions.toLocaleString()}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("span",{className:`px-2 py-1 rounded text-sm ${n.successRate>=95?"bg-green-100 text-green-800":n.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[n.successRate,"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[n.avgLatencyMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(n.totalCostCents/100).toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.avgRating>0?n.avgRating.toFixed(1):"-"})]},n.agentId))})]})]})}function xte({trends:e,loading:t}){if(t||e.length===0)return null;const n=i=>{switch(i){case"up":return"^";case"down":return"v";default:return"-"}},a=i=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(i.metric),d=["avgLatencyMs","totalCostCents"].includes(i.metric);return i.direction==="stable"?"text-gray-600 bg-gray-100":i.direction==="up"&&l||i.direction==="down"&&d?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=i=>i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(i=>r.jsxs("div",{className:`rounded-lg p-3 ${a(i)}`,children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:s(i.metric)}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg font-bold",children:n(i.direction)}),r.jsxs("span",{className:"text-sm",children:[i.changePercent>0?"+":"",i.changePercent.toFixed(1),"%"]})]})]},i.metric))})]})}function gte({entries:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const n=a=>{switch(a){case"up":return r.jsx("span",{className:"text-green-500",children:"^"});case"down":return r.jsx("span",{className:"text-red-500",children:"v"});default:return r.jsx("span",{className:"text-gray-400",children:"-"})}};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:e.map(a=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${a.rank===1?"bg-yellow-400 text-yellow-900":a.rank===2?"bg-gray-300 text-gray-700":a.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:a.rank}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:a.agentName||a.agentId.slice(0,8)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",a.score.toFixed(1)," ",n(a.trend)]})]})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:[a.executions.toLocaleString()," executions"]}),r.jsxs("p",{className:"text-gray-500",children:[a.successRate,"% success"]})]})]},a.agentId))})]})}function yte({data:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=Array.from({length:24},(d,u)=>u),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let i=1;e.forEach(d=>{const h=new Date(d.date).getDay();h>=0&&h<7&&d.hour>=0&&d.hour<24&&(s[h][d.hour]+=d.value,i=Math.max(i,s[h][d.hour]))});const l=d=>{if(d===0)return"bg-gray-100";const u=d/i;return u<.2?"bg-blue-100":u<.4?"bg-blue-200":u<.6?"bg-blue-300":u<.8?"bg-blue-400":"bg-blue-500"};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("div",{className:"min-w-max",children:[r.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:n.map(d=>r.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${d}:00`,children:d%3===0?d:""},d))}),a.map((d,u)=>r.jsxs("div",{className:"flex gap-0.5 items-center",children:[r.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:d}),n.map(h=>r.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[u][h])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${d} ${h}:00 - ${s[u][h]} executions`},h))]},d)),r.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),r.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function vte({anomalies:e,loading:t}){return t||e.length===0?null:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),r.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((n,a)=>r.jsx("div",{className:`p-3 rounded-lg border-l-4 ${n.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium capitalize",children:n.metric.replace(/([A-Z])/g," $1")}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",n.value.toLocaleString()," (expected: ~",n.expectedValue.toLocaleString(),")"]})]}),r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${n.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.deviationPercent>0?"+":"",n.deviationPercent.toFixed(0),"%"]})]})},a))})]})}function bte({onExport:e,loading:t}){const[n,a]=b.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>a(!n),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):r.jsx(r.Fragment,{children:"Export"})}),n&&!t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[r.jsx("button",{onClick:()=>{e("csv"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),r.jsx("button",{onClick:()=>{e("pdf"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function jte(){const[e,t]=b.useState("week"),[n,a]=b.useState(!0),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(!0),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState([]),[P,O]=b.useState([]),[N,C]=b.useState([]),A=b.useCallback(async()=>{var T,R,I,M;a(!0),d(null);try{const[$,H,V,q]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Io($)){h(!0);return}if(!$.ok)throw new Error("Failed to fetch overview");if(!H.ok)throw new Error("Failed to fetch agent metrics");if(!V.ok)throw new Error("Failed to fetch leaderboard");if(!q.ok)throw new Error("Failed to fetch trends");const[B,W,U,Q]=await Promise.all([$.json(),H.json(),V.json(),q.json()]);j(B.data),w(((T=W.data)==null?void 0:T.agents)||[]),S(((R=U.data)==null?void 0:R.leaderboard)||[]),O(((I=Q.data)==null?void 0:I.trends)||[]),C(((M=Q.data)==null?void 0:M.anomalies)||[])}catch($){d($ instanceof Error?$.message:"Failed to load analytics"),console.error("Analytics fetch error:",$)}finally{a(!1)}},[e]),E=async T=>{i(!0);try{const R=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:T,period:e})});if(!R.ok)throw new Error("Export failed");const I=await R.blob(),M=window.URL.createObjectURL(I),$=document.createElement("a");$.href=M,$.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${T}`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(M)}catch(R){console.error("Export error:",R),d("Failed to export report")}finally{i(!1)}};return b.useEffect(()=>{A()},[A]),b.useEffect(()=>{if(!p)return;const T=setInterval(A,6e4);return()=>clearInterval(T)},[p,A]),u?r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsx(Jc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:A})]}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:e,onChange:T=>t(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:dte.map(T=>r.jsx("option",{value:T.value,children:T.label},T.value))}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:T=>m(T.target.checked),className:"rounded"}),"Auto-refresh"]}),r.jsx(bte,{onExport:E,loading:s})]})]}),l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,r.jsx("button",{onClick:A,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),r.jsx("div",{className:"mb-6",children:r.jsx(vte,{anomalies:N,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(ute,{metrics:g,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(xte,{trends:P,loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx(hte,{data:(g==null?void 0:g.dailyTrend)||[],loading:n}),r.jsx(fte,{agents:v,loading:n})]}),r.jsx("div",{className:"mb-6",children:r.jsx(mte,{agents:v,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(yte,{data:((g==null?void 0:g.dailyTrend)||[]).flatMap(T=>Array.from({length:24},(R,I)=>({date:T.date,hour:I,value:Math.floor(T.executions*(I>=9&&I<=17?.08:.02))}))),loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(pte,{agents:v,loading:n}),r.jsx(gte,{entries:x,loading:n})]})]})}const wte=()=>{const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState(null),[p,m]=b.useState([]),[g,j]=b.useState("monthly"),[v,w]=b.useState(!0),[x,S]=b.useState(null);b.useEffect(()=>{P()},[]);const P=async()=>{try{w(!0),S(null);const[R,I,M,$]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!R.ok||!I.ok||!M.ok)throw new Error("Failed to load billing data");const H=await R.json(),V=await I.json(),q=await M.json(),B=await $.json();t(H.plans),a(V.subscription),i(q.usage),d(q.limits),h(q.percentages),m(B.invoices)}catch(R){S(R instanceof Error?R.message:"An error occurred")}finally{w(!1)}},O=async R=>{try{const I=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:R,billingInterval:g})});if(!I.ok){const $=await I.json();throw new Error($.error||"Failed to create checkout session")}const{url:M}=await I.json();M&&(window.location.href=M)}catch(I){S(I instanceof Error?I.message:"Failed to upgrade")}},N=async()=>{try{const R=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const M=await R.json();throw new Error(M.error||"Failed to open billing portal")}const{url:I}=await R.json();I&&(window.location.href=I)}catch(R){S(R instanceof Error?R.message:"Failed to open billing portal")}},C=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const R=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to cancel subscription")}await P()}catch(R){S(R instanceof Error?R.message:"Failed to cancel")}},A=async()=>{try{const R=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to reactivate subscription")}await P()}catch(R){S(R instanceof Error?R.message:"Failed to reactivate")}},E=R=>R===-1?"Unlimited":R.toLocaleString(),T=R=>`${(R/1073741824).toFixed(2)} GB`;return v?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[x,r.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),n&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.plan.name}),r.jsxs("p",{className:"text-gray-500",children:[n.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(n.currentPeriodEnd).toLocaleDateString()]}),n.cancelAtPeriodEnd&&r.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),r.jsxs("div",{className:"flex gap-3",children:[n.hasStripeSubscription&&r.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),n.cancelAtPeriodEnd?r.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):n.planId!=="free"?r.jsx("button",{onClick:C,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&u&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(Ul,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:u.executions}),r.jsx(Ul,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:u.api_requests}),r.jsx(Ul,{label:"Agents",current:s.agents,limit:l.agents,percentage:u.agents}),r.jsx(Ul,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:u.workflows}),r.jsx(Ul,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:u.team_members}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Storage"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[T(s.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(u.storage_bytes,100)}%`}})})]})]})]}),r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>j("monthly"),className:`px-4 py-2 rounded-md transition ${g==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),r.jsxs("button",{onClick:()=>j("yearly"),className:`px-4 py-2 rounded-md transition ${g==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",r.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(R=>r.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${R.popular?"ring-2 ring-blue-500":""}`,children:[R.popular&&r.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:R.name}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:R.description}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-3xl font-bold",children:g==="yearly"?R.pricing.yearly:R.pricing.monthly}),R.pricing.monthlyRaw>0&&r.jsxs("span",{className:"text-gray-500",children:["/",g==="yearly"?"year":"month"]})]}),r.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.agents)," Agents"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.workflows)," Workflows"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.executionsPerMonth)," Executions/month"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.teamMembers)," Team members"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",R.limits.storageGb," GB Storage"]}),R.features.githubIntegration&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," GitHub Integration"]}),R.features.advancedAnalytics&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Advanced Analytics"]}),R.features.prioritySupport&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Priority Support"]}),R.features.sso&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," SSO"]})]}),(n==null?void 0:n.planId)===R.id?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):R.id==="free"?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):R.pricing.monthlyRaw===-1?r.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):r.jsxs("button",{onClick:()=>O(R.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n&&n.planId!=="free"?"Switch to":"Upgrade to"," ",R.name]})]},R.id))})]}),p.length>0&&r.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),r.jsx("tbody",{children:p.map(R=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:new Date(R.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"py-3 px-4",children:[new Date(R.periodStart).toLocaleDateString()," -"," ",new Date(R.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"py-3 px-4",children:R.amountFormatted}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Nte,{status:R.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex gap-2",children:[R.hostedInvoiceUrl&&r.jsx("a",{href:R.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),R.invoicePdfUrl&&r.jsx("a",{href:R.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},R.id))})]})})]})]})},Ul=({label:e,current:t,limit:n,percentage:a})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),i=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:e}),r.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(n)]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${i(a)} h-2 rounded-full transition-all`,style:{width:`${Math.min(a,100)}%`}})})]})},Hn=()=>r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Nte=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function Ste(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState("month"),[v,w]=b.useState(""),[x,S]=b.useState(!1),{user:P}=ts();b.useEffect(()=>{O()},[g]);const O=async()=>{try{d(!0),h(null);const[I,M,$]=await Promise.all([fetch(`/api/costs/summary?period=${g}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Io(I)){m(!0);return}if(!I.ok||!M.ok||!$.ok)throw new Error("Failed to fetch cost data");const[H,V,q]=await Promise.all([I.json(),M.json(),$.json()]);t(H.data),a(V.data.trend),i(q.data),q.data.budgetCents&&w((q.data.budgetCents/100).toString())}catch(I){h(I instanceof Error?I.message:"Unknown error")}finally{d(!1)}},N=async()=>{try{S(!0);const I=v?Math.round(parseFloat(v)*100):null,M=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:I})});if(!M.ok){const $=await M.json();throw new Error($.message||"Failed to update budget")}await O()}catch(I){h(I instanceof Error?I.message:"Failed to update budget")}finally{S(!1)}},C=I=>`$${(I/100).toFixed(2)}`,A=I=>I.toLocaleString(),E=I=>{switch(I){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},T=I=>{switch(I){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},R=()=>Math.max(...n.map(I=>I.totalCostCents),1);return p?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),r.jsx(Jc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:O})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),u&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:u})}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?r.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:C(s.spentCents)}),s.budgetCents&&r.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",C(s.budgetCents)]}),r.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:r.jsx("div",{className:`h-4 rounded-full transition-all ${E(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),r.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${C(s.remainingCents)} remaining this month`:"No budget limit set"})]}):r.jsx("p",{className:"text-gray-500",children:"No budget data available"}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:v,onChange:I=>w(I.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("button",{onClick:N,disabled:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:x?"Saving...":"Save"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),r.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(I=>r.jsx("button",{onClick:()=>j(I),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${g===I?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:I==="day"?"Today":I==="week"?"This Week":"This Month"},I))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.totalCostCents)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:A((e==null?void 0:e.requestCount)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalInputTokens)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalOutputTokens)??0)})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>r.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byAgent&&e.byAgent.length>0?r.jsx("div",{className:"space-y-4",children:e.byAgent.map(I=>{const M=e.totalCostCents>0?Math.round(I.totalCostCents/e.totalCostCents*100):0;return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:I.agentName||I.agentId.slice(0,8)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[C(I.totalCostCents)," (",M,"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${M}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A(I.requestCount)," requests"]})]})]},I.agentId)})}):r.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?r.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):n.length>0?r.jsx("div",{className:"h-48 flex items-end gap-1",children:n.slice(-30).map(I=>{const M=I.totalCostCents>0?Math.max(I.totalCostCents/R()*100,4):2;return r.jsxs("div",{className:"flex-1 group relative",title:`${I.date}: ${C(I.totalCostCents)}`,children:[r.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${M}%`}}),r.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:r.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[I.date,": ",C(I.totalCostCents)]})})]},I.date)})}):r.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?r.jsx("div",{className:"space-y-2",children:[1,2,3].map(I=>r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,I],[,M])=>M.costCents-I.costCents).map(([I,M])=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.costCents)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:A(M.requests)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.requests>0?Math.round(M.costCents/M.requests):0)})]},I))})]})}):r.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const kte=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],Cte=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],Ate=()=>{const[e,t]=b.useState("keys"),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(null),[u,h]=b.useState(!0),[p,m]=b.useState(null),[g,j]=b.useState(!1),[v,w]=b.useState(""),[x,S]=b.useState([]),[P,O]=b.useState("free"),[N,C]=b.useState(null),[A,E]=b.useState(!1),[T,R]=b.useState(""),[I,M]=b.useState([]),[$,H]=b.useState(null),V=b.useCallback(async()=>{h(!0),m(null);try{const[G,te,ue]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(G.ok){const xe=await G.json();a(xe.data||[])}if(te.ok){const xe=await te.json();i(xe.data||[])}if(ue.ok){const xe=await ue.json();d(xe.data||null)}}catch(G){m("Failed to load data"),console.error("Error fetching developer portal data:",G)}finally{h(!1)}},[]);b.useEffect(()=>{V()},[V]);const q=async()=>{try{const G=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,scopes:x,rateLimitTier:P})});if(G.ok){const te=await G.json();C(te.data.key),a(ue=>[...ue,te.data]),w(""),S([]),O("free")}else{const te=await G.json();m(te.message||"Failed to create API key")}}catch{m("Failed to create API key")}},B=async G=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${G}`,{method:"DELETE"})).ok&&a(ue=>ue.map(xe=>xe.id===G?{...xe,status:"revoked"}:xe))}catch{m("Failed to revoke API key")}},W=async()=>{try{const G=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:T,events:I})});if(G.ok){const te=await G.json();H(te.data.secret),i(ue=>[...ue,te.data]),R(""),M([])}else{const te=await G.json();m(te.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},U=async G=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${G}`,{method:"DELETE"})).ok&&i(ue=>ue.filter(xe=>xe.id!==G))}catch{m("Failed to delete webhook")}},Q=async G=>{try{const ue=await(await fetch(`/api/organization/webhooks/${G}/test`,{method:"POST"})).json();ue.data.success?alert(`Webhook test successful! Response time: ${ue.data.latencyMs}ms`):alert(`Webhook test failed: ${ue.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},z=G=>G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",F=G=>{switch(G){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},D=G=>{switch(G){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,r.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(G=>r.jsxs("button",{onClick:()=>t(G),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===G?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[G==="keys"&&"API Keys",G==="webhooks"&&"Webhooks",G==="docs"&&"Documentation"]},G))})}),e==="keys"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),r.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map(G=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[G.scopes.slice(0,3).join(", "),G.scopes.length>3&&` +${G.scopes.length-3} more`]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[G.keyPrefix,"..."]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(G.rateLimitTier)}`,children:G.rateLimitTier})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(G.status)}`,children:G.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(G.lastUsedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.totalRequests.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:G.status==="active"&&r.jsx("button",{onClick:()=>B(G.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},G.id)),n.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(G=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:G.url})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-500",children:[G.events.slice(0,2).join(", "),G.events.length>2&&` +${G.events.length-2} more`]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(G.status)}`,children:G.status}),G.failureCount>0&&r.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",G.failureCount," failures)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.lastSuccess?r.jsx("span",{className:"text-green-600",children:z(G.lastSuccess)}):G.lastFailure?r.jsx("span",{className:"text-red-600",children:z(G.lastFailure)}):"Never"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[r.jsx("button",{onClick:()=>Q(G.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),r.jsx("button",{onClick:()=>U(G.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},G.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),r.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),r.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),r.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),r.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(G=>r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${G.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:G.method}),r.jsx("code",{className:"text-gray-900",children:G.path}),r.jsx("span",{className:"ml-3 text-gray-500",children:G.desc})]},G.path))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"pb-2",children:"Tier"}),r.jsx("th",{className:"pb-2",children:"Per Minute"}),r.jsx("th",{className:"pb-2",children:"Per Day"})]})}),r.jsxs("tbody",{className:"text-gray-900",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Free"}),r.jsx("td",{children:"60"}),r.jsx("td",{children:"1,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Pro"}),r.jsx("td",{children:"300"}),r.jsx("td",{children:"10,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Enterprise"}),r.jsx("td",{children:"1,000"}),r.jsx("td",{children:"100,000"})]})]})]})]})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:N?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:N})]}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{j(!1),C(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:v,onChange:G=>w(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),r.jsxs("select",{value:P,onChange:G=>O(G.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),r.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),r.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:kte.map(G=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:x.includes(G),onChange:te=>{te.target.checked?S(ue=>[...ue,G]):S(ue=>ue.filter(xe=>xe!==G))},className:"mr-2"}),G]},G))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:q,disabled:!v||x.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:$?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:$})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText($),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{E(!1),H(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),r.jsx("input",{type:"url",value:T,onChange:G=>R(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:Cte.map(G=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:I.includes(G),onChange:te=>{te.target.checked?M(ue=>[...ue,G]):M(ue=>ue.filter(xe=>xe!==G))},className:"mr-2"}),G]},G))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:!T||I.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function Pte(){const{slug:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(null),[d,u]=b.useState([]),[h,p]=b.useState([]),[m,g]=b.useState(!1),[j,v]=b.useState(!0),[w,x]=b.useState(!1),[S,P]=b.useState(null),[O,N]=b.useState("overview"),[C,A]=b.useState(null),E=b.useCallback(async()=>{if(e){v(!0);try{const W=await se({url:`/api/marketplace/extensions/${e}`,method:"GET"});n(W.extension)}catch(W){W instanceof Ve&&W.status===404?P("Extension not found"):P("Failed to load extension")}finally{v(!1)}}},[e]),T=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(W.reviews.items),l(W.summary)}catch(W){console.error("Failed to fetch reviews:",W)}},[e]),R=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});u(W.versions)}catch(W){console.error("Failed to fetch versions:",W)}},[e]),I=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(W.extensions)}catch(W){console.error("Failed to fetch similar:",W)}},[e]),M=b.useCallback(async()=>{try{const W=await se({url:"/api/marketplace/installed",method:"GET"});g(W.installed.some(U=>U.extension.slug===e))}catch{}},[e]);b.useEffect(()=>{E(),T(),R(),I(),M()},[E,T,R,I,M]);const $=async()=>{if(t){x(!0);try{await se({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),g(!0)}catch(W){const U=W instanceof Ve?W.message:"Install failed";alert(U)}finally{x(!1)}}},H=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await se({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),g(!1)}catch(W){const U=W instanceof Ve?W.message:"Uninstall failed";alert(U)}},V=W=>W>=1e6?`${(W/1e6).toFixed(1)}M`:W>=1e3?`${(W/1e3).toFixed(1)}K`:String(W),q=W=>{if(W.pricing==="free")return"Free";if(!W.price)return"Paid";const U=(W.price.amount/100).toFixed(2),Q=W.price.interval?`/${W.price.interval}`:"";return`$${U}${Q}`},B=(W,U="sm")=>{const Q=[],z=U==="lg"?"text-xl":"text-sm";for(let F=1;F<=5;F++)Q.push(r.jsx("span",{className:`${F<=W?"text-yellow-400":"text-gray-300"} ${z}`,children:""},F));return Q};return j?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),r.jsx(ht,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):r.jsxs("div",{children:[r.jsxs("nav",{className:"mb-4 text-sm",children:[r.jsx(ht,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:t.name})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?r.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):r.jsx("span",{className:"text-4xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[r.jsx("span",{children:t.publisherName}),t.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:q(t)}),m?r.jsx("button",{onClick:H,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):r.jsx("button",{onClick:$,disabled:w,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Installing...":"Install"})]})]}),r.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),r.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[B(Math.round(t.stats.rating)),r.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[V(t.stats.downloads)," downloads"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[V(t.stats.activeInstalls)," active installs"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(W=>r.jsx(ht,{to:`/marketplace?q=${W}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:W},W))})]})]})}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(W=>r.jsxs("button",{onClick:()=>N(W),className:`py-3 text-sm font-medium border-b-2 -mb-px ${O===W?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[W==="overview"&&"Overview",W==="reviews"&&`Reviews (${t.stats.reviewCount})`,W==="versions"&&"Version History"]},W))})}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[O==="overview"&&r.jsxs("div",{children:[t.screenshots.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((W,U)=>r.jsx("img",{src:W,alt:`Screenshot ${U+1}`,onClick:()=>A(W),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},U))})]}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),r.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),O==="reviews"&&r.jsxs("div",{children:[i&&r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.average.toFixed(1)}),r.jsx("div",{className:"flex justify-center mt-1",children:B(Math.round(i.average),"lg")}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[i.count," reviews"]})]}),r.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(W=>r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-sm text-gray-600 w-3",children:W}),r.jsx("span",{className:"text-yellow-400",children:""}),r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${i.count>0?i.distribution[W]/i.count*100:0}%`}})}),r.jsx("span",{className:"text-sm text-gray-500 w-8",children:i.distribution[W]||0})]},W))})]})}),a.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):r.jsx("div",{className:"space-y-4",children:a.map(W=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:W.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[B(W.rating),r.jsxs("span",{className:"text-sm text-gray-500",children:["by ",W.userName,"  ",new Date(W.createdAt).toLocaleDateString()]})]})]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[W.helpfulCount," found helpful"]})]}),r.jsx("p",{className:"text-gray-600 mt-2",children:W.body}),W.publisherResponse&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:W.publisherResponse.body})]})]},W.id))})]}),O==="versions"&&r.jsx("div",{className:"space-y-4",children:d.map(W=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:["v",W.version]}),r.jsx("span",{className:"text-sm text-gray-500",children:W.publishedAt?new Date(W.publishedAt).toLocaleDateString():"Unpublished"})]}),W.changelog&&r.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:W.changelog})]},W.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Version"}),r.jsx("dd",{className:"text-gray-900",children:t.version})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Category"}),r.jsx("dd",{className:"text-gray-900",children:t.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),r.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Published"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Updated"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),r.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&r.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&r.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&r.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),r.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(W=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-500",children:""})," ",W]},W))})]}),h.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),r.jsx("div",{className:"space-y-3",children:h.slice(0,4).map(W=>r.jsxs(ht,{to:`/marketplace/${W.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:W.icon?r.jsx("img",{src:W.icon,alt:"",className:"w-6 h-6 rounded"}):r.jsx("span",{children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:W.name}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""})," ",W.stats.rating.toFixed(1)]})]})]},W.id))})]})]})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>A(null),children:r.jsx("img",{src:C,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function Ote(){var A;const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState(30);b.useEffect(()=>{x()},[v]);const x=async()=>{d(!0),h(null);try{const[E,T]=await Promise.all([fetch(`/api/feedback/analysis?days=${v}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Io(E)){m(!0);return}if(!E.ok||!T.ok)throw new Error("Failed to fetch feedback data");const R=await E.json(),I=await T.json();t(R),a(I.actions),i(I.stats)}catch(E){h(E instanceof Error?E.message:"An error occurred")}finally{d(!1)}},S=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await x()}catch(T){h(T instanceof Error?T.message:"Failed to apply action")}finally{j(null)}},P=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await x()}catch(T){h(T instanceof Error?T.message:"Failed to dismiss action")}finally{j(null)}},O=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await x()}catch(E){h(E instanceof Error?E.message:"Failed to process feedback")}},N=E=>{switch(E){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=E=>{switch(E){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),r.jsx(Jc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:x})]}):l?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(E=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},E))})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:v,onChange:E=>w(parseInt(E.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:30,children:"Last 30 days"}),r.jsx("option",{value:90,children:"Last 90 days"})]}),r.jsx("button",{onClick:O,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),u&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:u}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),r.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([E,T])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(E)}`,children:E}),r.jsx("span",{className:"text-gray-700 font-medium",children:T})]},E)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((E,T)=>T[1]-E[1]).slice(0,5).map(([E,T])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:E.replace(/_/g," ")}),r.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:T})]},E)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:n.length===0?r.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):n.map(E=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:E.type.replace(/_/g," ")}),E.autoApplicable&&r.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),r.jsx("p",{className:"mt-2 text-gray-900",children:E.description}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",E.estimatedImpact.affectedRequests," requests, +",(E.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>S(E.id),disabled:g===E.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:g===E.id?"...":"Apply"}),r.jsx("button",{onClick:()=>P(E.id),disabled:g===E.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},E.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(A=e==null?void 0:e.recentFeedback)==null?void 0:A.slice(0,10).map(E=>{var T;return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.type,E.rating&&r.jsxs("span",{className:"ml-1",children:["(",E.rating,"/5)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.sentiment&&r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(E.sentiment)}`,children:E.sentiment})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((T=E.category)==null?void 0:T.replace(/_/g," "))||"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E.originalRequest}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]},E.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const Mi={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},tv={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function Ete(){const[e,t]=b.useState(!1),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState(null),[p,m]=b.useState(null),[g,j]=b.useState([]),[v,w]=b.useState(""),[x,S]=b.useState([]),[P,O]=b.useState([]),[N,C]=b.useState(!1),A=b.useRef(null),E=b.useRef(null),T=b.useCallback(async()=>{try{const q=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Io(q)){i(!0);return}if(!q.ok)throw new Error("Failed to fetch stats");const B=await q.json();d(B)}catch(q){console.error("Error fetching stats:",q)}},[]),R=b.useCallback(async q=>{t(!0),a(null);try{let B="/api/knowledge-graph/visualization";q&&q.length>0&&(B=`/api/knowledge-graph/visualization/filtered?nodeTypes=${q.join(",")}`);const W=await fetch(B,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch graph");const U=await W.json();h(U)}catch(B){a(B instanceof Error?B.message:"Unknown error")}finally{t(!1)}},[]),I=async()=>{C(!0),a(null);try{const q=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!q.ok)throw new Error("Failed to build graph");const B=await q.json();alert(`Graph built: ${B.nodeCount} nodes, ${B.edgeCount} edges`),await Promise.all([T(),R(P)])}catch(q){a(q instanceof Error?q.message:"Failed to build graph")}finally{C(!1)}},M=async()=>{if(!v.trim()){S([]);return}try{const q=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(v)}&limit=10`,{credentials:"include"});if(!q.ok)throw new Error("Search failed");const B=await q.json();S(B.nodes||[])}catch(q){console.error("Search error:",q)}},$=async q=>{try{const B=await fetch(`/api/knowledge-graph/related/${q}?depth=2&limit=20`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch related nodes");const W=await B.json();j(W.related||[])}catch(B){console.error("Error fetching related:",B)}},H=async q=>{m(q),await $(q.id)},V=q=>{O(B=>B.includes(q)?B.filter(U=>U!==q):[...B,q])};return b.useEffect(()=>{R(P)},[P,R]),b.useEffect(()=>{T(),R()},[T,R]),b.useEffect(()=>{if(!u||!A.current)return;const q=A.current,B=q.getContext("2d");if(!B)return;const W=q.parentElement;W&&(q.width=W.clientWidth,q.height=W.clientHeight),B.fillStyle="#1a1a2e",B.fillRect(0,0,q.width,q.height);const U=u.nodes.map(F=>({...F,x:Math.random()*q.width,y:Math.random()*q.height,vx:0,vy:0})),Q=new Map(U.map(F=>[F.id,F]));for(let F=0;F<100;F++){for(let D=0;D<U.length;D++)for(let G=D+1;G<U.length;G++){const te=U[G].x-U[D].x,ue=U[G].y-U[D].y,xe=Math.sqrt(te*te+ue*ue)||1,oe=1e3/(xe*xe);U[D].vx-=te/xe*oe,U[D].vy-=ue/xe*oe,U[G].vx+=te/xe*oe,U[G].vy+=ue/xe*oe}for(const D of u.edges){const G=Q.get(D.from),te=Q.get(D.to);if(G&&te){const ue=te.x-G.x,xe=te.y-G.y,oe=Math.sqrt(ue*ue+xe*xe)||1,ee=oe*.01;G.vx+=ue/oe*ee,G.vy+=xe/oe*ee,te.vx-=ue/oe*ee,te.vy-=xe/oe*ee}}for(const D of U)D.vx+=(q.width/2-D.x)*.001,D.vy+=(q.height/2-D.y)*.001;for(const D of U)D.x+=D.vx*.1,D.y+=D.vy*.1,D.vx*=.9,D.vy*=.9,D.x=Math.max(50,Math.min(q.width-50,D.x)),D.y=Math.max(50,Math.min(q.height-50,D.y))}B.strokeStyle="#4a4a6a",B.lineWidth=1;for(const F of u.edges){const D=Q.get(F.from),G=Q.get(F.to);D&&G&&(B.beginPath(),B.moveTo(D.x,D.y),B.lineTo(G.x,G.y),B.stroke())}for(const F of U){const D=Mi[F.group]||"#9E9E9E",G=F.size||15;B.beginPath(),B.arc(F.x,F.y,G,0,Math.PI*2),B.fillStyle=D,B.fill(),B.strokeStyle=(p==null?void 0:p.id)===F.id?"#ffffff":"#000000",B.lineWidth=(p==null?void 0:p.id)===F.id?3:1,B.stroke(),B.fillStyle="#ffffff",B.font="11px sans-serif",B.textAlign="center",B.fillText(F.label.slice(0,15),F.x,F.y+G+12)}E.current=U;const z=F=>{const D=q.getBoundingClientRect(),G=F.clientX-D.left,te=F.clientY-D.top;for(const ue of U)if(Math.sqrt((G-ue.x)**2+(te-ue.y)**2)<=(ue.size||15)){H(ue);return}m(null),j([])};return q.addEventListener("click",z),()=>q.removeEventListener("click",z)},[u,p]),s?r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),r.jsx("button",{onClick:()=>{i(!1),T(),R()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Building...":"Rebuild Graph"})]})}),r.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[r.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),r.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),r.jsx("div",{className:"text-gray-400",children:"Edges"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),r.jsx("div",{className:"text-gray-400",children:"Density"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),r.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:v,onChange:q=>w(q.target.value),onKeyDown:q=>q.key==="Enter"&&M(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),r.jsx("button",{onClick:M,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),x.length>0&&r.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:x.map(q=>r.jsxs("button",{onClick:()=>H(q),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Mi[q.group]||"#9E9E9E"}}),q.label]},q.id))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(tv).map(([q,B])=>r.jsx("button",{onClick:()=>V(q),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${P.includes(q)?"opacity-100":P.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:P.includes(q)||P.length===0?Mi[q]:"#4a4a6a"},children:B},q))}),P.length>0&&r.jsx("button",{onClick:()=>O([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),r.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Mi[p.group]||"#9E9E9E"}}),r.jsx("span",{className:"font-semibold",children:p.label})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",tv[p.group]||p.group]}),g.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",g.length,")"]}),r.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g.map(q=>r.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>H({id:q.node.id,label:q.node.label,group:q.node.type}),children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Mi[q.node.type]||"#9E9E9E"}}),r.jsx("span",{className:"flex-1 truncate",children:q.node.label}),r.jsx("span",{className:"text-gray-500",children:q.edge.type})]},q.node.id))})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(tv).map(([q,B])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Mi[q]}}),B]},q))})]})]}),r.jsxs("div",{className:"flex-1 relative",children:[e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),r.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),n&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),r.jsx("div",{className:"text-sm",children:n}),r.jsx("button",{onClick:()=>R(P),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!n&&u&&u.nodes.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),r.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:N?"Building...":"Build Graph"})]})}),r.jsx("canvas",{ref:A,className:"w-full h-full cursor-pointer",style:{display:e||n?"none":"block"}})]})]})]})}function _te(){const[e,t]=ef(),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(null),[p,m]=b.useState(0),[g,j]=b.useState(!0),[v,w]=b.useState(e.get("q")||""),[x,S]=b.useState(e.get("category")||""),[P,O]=b.useState(e.get("pricing")||""),[N,C]=b.useState(e.get("sort")||"popular"),[A,E]=b.useState(1),[T,R]=b.useState([]),[I,M]=b.useState(null),$=b.useCallback(async()=>{j(!0);try{const D=new URLSearchParams;v&&D.set("q",v),x&&D.set("category",x),P&&D.set("pricing",P),D.set("sort",N),D.set("page",String(A)),D.set("limit","20");const te=await se({url:`${v?"/api/marketplace/search":"/api/marketplace/extensions"}?${D.toString()}`,method:"GET"});a(te.extensions||te.items||[]),m(te.total),te.facets&&h(te.facets)}catch(D){console.error("Failed to fetch extensions:",D)}finally{j(!1)}},[v,x,P,N,A]),H=b.useCallback(async()=>{try{const D=await se({url:"/api/marketplace/featured",method:"GET"});i(D.extensions)}catch(D){console.error("Failed to fetch featured:",D)}},[]),V=b.useCallback(async()=>{try{const D=await se({url:"/api/marketplace/categories",method:"GET"});d(D.categories)}catch(D){console.error("Failed to fetch categories:",D)}},[]),q=b.useCallback(async()=>{try{const D=await se({url:"/api/marketplace/suggestions",method:"GET"});R(D.suggestions||[])}catch{}},[]);b.useEffect(()=>{V(),H(),q()},[V,H,q]),b.useEffect(()=>{$()},[$]),b.useEffect(()=>{const D=new URLSearchParams;v&&D.set("q",v),x&&D.set("category",x),P&&D.set("pricing",P),N!=="popular"&&D.set("sort",N),t(D)},[v,x,P,N,t]);const B=D=>{D.preventDefault(),E(1),$()},W=async D=>{M(D);try{await se({url:`/api/marketplace/suggestions/${D}/accept`,method:"POST"}),R(G=>G.filter(te=>te.patternId!==D))}catch(G){console.error("Failed to accept suggestion:",G)}finally{M(null)}},U=async D=>{try{await se({url:`/api/marketplace/suggestions/${D}/dismiss`,method:"POST"}),R(G=>G.filter(te=>te.patternId!==D))}catch(G){console.error("Failed to dismiss suggestion:",G)}},Q=D=>D>=1e6?`${(D/1e6).toFixed(1)}M`:D>=1e3?`${(D/1e3).toFixed(1)}K`:String(D),z=D=>{if(D.pricing==="free")return"Free";if(!D.price)return"Paid";const G=(D.price.amount/100).toFixed(2),te=D.price.interval?`/${D.price.interval}`:"";return`$${G}${te}`},F=D=>{const G=[];for(let te=1;te<=5;te++)G.push(r.jsx("span",{className:te<=D?"text-yellow-400":"text-gray-300",children:""},te));return G};return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),r.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),r.jsxs("form",{onSubmit:B,className:"flex gap-3 max-w-2xl",children:[r.jsx("input",{type:"text",value:v,onChange:D=>w(D.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[r.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Looking for MCP Servers & External Tools?"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Connect to Smithery, Glama, ComfyUI, CivitAI, and more external ecosystems"})]})]}),r.jsx(ht,{to:"/marketplace-hub",className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 whitespace-nowrap",children:"Browse External Tools"})]})}),!v&&s.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(D=>r.jsx(ht,{to:`/marketplace/${D.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:D.icon?r.jsx("img",{src:D.icon,alt:"",className:"w-10 h-10 rounded-lg"}):r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.name}),r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),r.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:r.jsxs("span",{className:"flex items-center text-yellow-500",children:[F(Math.round(D.stats.rating)),r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",D.stats.reviewCount,")"]})]})})]})]})},D.id))})]}),T.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[T.length," suggestion",T.length!==1?"s":""]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(D=>r.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:D.patternType==="composite"?"":D.patternType==="sequence"?"":""})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(D.confidence*100)}% confidence`,children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${D.confidence*100}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(D.confidence*100),"%"]})]})]}),r.jsx("h3",{className:"font-semibold text-gray-900",children:D.suggestedName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.suggestedDescription}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:D.suggestedTriggers.slice(0,3).map(G=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:G},G))}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",D.frequency,"x as ",D.patternType," pattern"]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{onClick:()=>W(D.patternId),disabled:I===D.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:I===D.patternId?"Creating...":"Create Skill"}),r.jsx("button",{onClick:()=>U(D.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},D.patternId))})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"w-56 flex-shrink-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>{S(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(D=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>{S(D.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${x===D.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx("span",{children:D.name}),D.extensionCount!==void 0&&r.jsx("span",{className:"text-xs text-gray-400",children:D.extensionCount})]})},D.id))]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),r.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(D=>r.jsx("li",{children:r.jsx("button",{onClick:()=>{O(D),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${P===D?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:D===""?"All":D.charAt(0).toUpperCase()+D.slice(1)})},D))})]}),u&&u.tags.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.tags.slice(0,10).map(D=>r.jsx("button",{onClick:()=>w(D.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:D.name},D.name))})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),r.jsxs("select",{value:N,onChange:D=>{C(D.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"popular",children:"Most Popular"}),r.jsx("option",{value:"recent",children:"Recently Added"}),r.jsx("option",{value:"rating",children:"Highest Rated"}),r.jsx("option",{value:"trending",children:"Trending"})]})]}),g?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(D=>r.jsx(ht,{to:`/marketplace/${D.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:D.icon?r.jsx("img",{src:D.icon,alt:"",className:"w-8 h-8 rounded-lg"}):r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:D.name}),D.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:D.publisherName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",D.stats.rating.toFixed(1)]}),r.jsxs("span",{className:"text-gray-400",children:[Q(D.stats.downloads)," downloads"]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D.pricing==="free"?"bg-green-100 text-green-700":D.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(D)})]})]})]})},D.id))}),p>20&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>E(D=>Math.max(1,D-1)),disabled:A===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",A," of ",Math.ceil(p/20)]}),r.jsx("button",{onClick:()=>E(D=>D+1),disabled:A>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const Ii={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},d3={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function Tte(){const[e,t]=b.useState(""),[n,a]=b.useState([]),[s,i]=b.useState(""),[l,d]=b.useState([]),[u,h]=b.useState([]),[p,m]=b.useState([]),[g,j]=b.useState(!1),[v,w]=b.useState(null),[x,S]=b.useState(!1),[P,O]=b.useState(!1),[N,C]=b.useState(""),[A,E]=b.useState(!1),[T,R]=b.useState(null),[I,M]=b.useState({}),[$,H]=b.useState({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),[V,q]=b.useState(!1),B=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],W=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],U=b.useCallback(async()=>{var ee;try{const le=await se({url:"/api/marketplace-hub/installed",method:"GET"});h(((ee=le.data)==null?void 0:ee.items)||[])}catch(le){console.error("Failed to fetch installed:",le)}},[]),Q=b.useCallback(async()=>{try{const ee=await se({url:"/api/marketplace-hub/settings",method:"GET"});M(ee.data||{})}catch(ee){console.error("Failed to fetch settings:",ee)}},[]);b.useEffect(()=>{U(),Q()},[U,Q]);const z=async()=>{var ee;if(e.trim()){j(!0),R(null);try{const le=new URLSearchParams({q:e});n.length>0&&le.set("sources",n.join(",")),s&&le.set("type",s),le.set("limit","30");const ke=await se({url:`/api/marketplace-hub/search?${le.toString()}`,method:"GET"});d(((ee=ke.data)==null?void 0:ee.items)||[])}catch(le){R("Search failed. Please try again."),console.error("Search failed:",le)}finally{j(!1)}}},F=async ee=>{w(ee.id),R(null);try{await se({url:"/api/marketplace-hub/install",method:"POST",data:{source:ee.source,itemId:ee.id}}),await U(),alert(`Successfully installed: ${ee.name}`)}catch(le){R(`Failed to install ${ee.name}`),console.error("Install failed:",le)}finally{w(null)}},D=async ee=>{try{await se({url:`/api/marketplace-hub/uninstall/${ee}`,method:"DELETE"}),await U()}catch(le){R("Failed to uninstall"),console.error("Uninstall failed:",le)}},G=async()=>{var ee;if(N.trim()){E(!0),R(null);try{const le=await se({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:N}});m(((ee=le.data)==null?void 0:ee.recommendations)||[])}catch(le){R("Recommendation failed. Please try again."),console.error("Recommend failed:",le)}finally{E(!1)}}},te=ee=>{a(le=>le.includes(ee)?le.filter(ke=>ke!==ee):[...le,ee])},ue=async()=>{q(!0),R(null);try{const ee={};if($.smitheryApiKey&&(ee.smitheryApiKey=$.smitheryApiKey),$.civitaiApiKey&&(ee.civitaiApiKey=$.civitaiApiKey),$.langchainApiKey&&(ee.langchainApiKey=$.langchainApiKey),Object.keys(ee).length===0){R("Please enter at least one API key");return}await se({url:"/api/marketplace-hub/settings/api-keys",method:"PUT",data:ee}),await Q(),H({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),alert("API keys saved successfully")}catch(ee){R("Failed to save API keys"),console.error("Save API keys failed:",ee)}finally{q(!1)}},xe=async ee=>{if(confirm(`Are you sure you want to delete ${ee}?`))try{await se({url:`/api/marketplace-hub/settings/api-keys/${ee}`,method:"DELETE"}),await Q()}catch(le){R(`Failed to delete ${ee}`),console.error("Delete API key failed:",le)}},oe=ee=>u.some(le=>le.extensionId===ee);return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:ee=>t(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&z(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{onClick:z,disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Searching...":"Search"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),B.map(ee=>r.jsx("button",{onClick:()=>te(ee.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n.includes(ee.id)||n.length===0?Ii[ee.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:ee.name},ee.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),W.map(ee=>r.jsx("button",{onClick:()=>i(ee.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===ee.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:ee.name},ee.id))]})]}),T&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:T}),l.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(ee=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:d3[ee.type]||""}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii[ee.source]||"bg-gray-100 text-gray-800"}`,children:ee.source})]}),ee.version&&r.jsxs("span",{className:"text-xs text-gray-500",children:["v",ee.version]})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:ee.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:ee.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[ee.downloads!==void 0&&r.jsxs("span",{children:[" ",ee.downloads.toLocaleString()]}),ee.stars!==void 0&&r.jsxs("span",{children:[" ",ee.stars.toLocaleString()]}),ee.rating!==void 0&&r.jsxs("span",{children:["Rating: ",ee.rating.toFixed(1)]})]}),r.jsx("button",{onClick:()=>F(ee),disabled:v===ee.id||oe(ee.id),className:`px-3 py-1 rounded text-sm font-medium ${oe(ee.id)?"bg-green-100 text-green-700 cursor-default":v===ee.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:oe(ee.id)?"Installed":v===ee.id?"Installing...":"Install"})]})]},`${ee.source}-${ee.id}`))})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:N,onChange:ee=>C(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&G(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("button",{onClick:G,disabled:A,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:A?"Finding...":"Get Recommendations"})]}),p.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((ee,le)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:d3[ee.item.type]||""}),r.jsx("span",{className:"font-semibold",children:ee.item.name})]}),r.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(ee.confidence*100),"% match"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ee.reason}),r.jsx("button",{onClick:()=>F(ee.item),disabled:v===ee.item.id||oe(ee.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:oe(ee.item.id)?"Installed":"Install"})]},le))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("button",{onClick:()=>S(!x),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",u.length,")"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${x?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&u.length>0&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("div",{className:"divide-y divide-gray-100",children:u.map(ee=>r.jsxs("div",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:ee.name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Ii[ee.source]||"bg-gray-100"}`,children:ee.source})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["v",ee.version,"  Installed ",new Date(ee.installedAt).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>D(ee.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},ee.id))})}),x&&u.length===0&&r.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mt-6",children:[r.jsxs("button",{onClick:()=>O(!P),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"API Key Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Optional: Configure API keys for premium features or higher rate limits"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${P?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),P&&r.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["API keys are ",r.jsx("strong",{children:"optional"}),". External sources work without keys, but keys may unlock premium features or bypass rate limits."]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii.smithery}`,children:"Smithery"}),I.smitheryApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.smitheryApiKeySet&&r.jsx("button",{onClick:()=>xe("smitheryApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.smitheryApiKeySet?I.smitheryApiKey||"":"Enter Smithery API key",value:$.smitheryApiKey,onChange:ee=>H(le=>({...le,smitheryApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For premium MCP servers access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii.civitai}`,children:"CivitAI"}),I.civitaiApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.civitaiApiKeySet&&r.jsx("button",{onClick:()=>xe("civitaiApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.civitaiApiKeySet?I.civitaiApiKey||"":"Enter CivitAI API key",value:$.civitaiApiKey,onChange:ee=>H(le=>({...le,civitaiApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-pink-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For higher rate limits and NSFW content access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii["langchain-hub"]}`,children:"LangChain Hub"}),I.langchainApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.langchainApiKeySet&&r.jsx("button",{onClick:()=>xe("langchainApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.langchainApiKeySet?I.langchainApiKey||"":"Enter LangChain Hub API key",value:$.langchainApiKey,onChange:ee=>H(le=>({...le,langchainApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-yellow-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For private prompts and chains access"})]}),r.jsx("button",{onClick:ue,disabled:V,className:"w-full py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50",children:V?"Saving...":"Save API Keys"})]})]})]})})}const u3={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},rv=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function Rte(){var U;const e=Zs(),{user:t}=ts(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(null),[g,j]=b.useState(""),[v,w]=b.useState(""),[x,S]=b.useState(""),[P,O]=b.useState(null),[N,C]=b.useState([]),[A,E]=b.useState("");b.useEffect(()=>{T(),R()},[]);const T=async()=>{try{const z=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(z.data)a(z.data),z.data.data&&(j(z.data.data.companyName||""),w(z.data.data.industry||""),S(z.data.data.teamSize||""),O(z.data.data.templateId||null),C(z.data.data.selectedAgents||[]));else{const D=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();a(D.data)}}catch(Q){m(Q instanceof Error?Q.message:"Failed to load")}finally{d(!1)}},R=async()=>{try{const z=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();i(z.data||[])}catch(Q){console.error("Failed to fetch templates",Q)}},I=async(Q,z)=>{h(!0),m(null);try{const D=await(await fetch(`/api/onboarding/step/${Q}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:z})})).json();if(!D.success)throw new Error(D.error);a(D.data),D.data.isComplete&&e("/dashboard")}catch(F){m(F instanceof Error?F.message:"Failed to complete step")}finally{h(!1)}},M=async Q=>{h(!0),m(null);try{const F=await(await fetch(`/api/onboarding/step/${Q}/skip`,{method:"POST",credentials:"include"})).json();if(!F.success)throw new Error(F.error);a(F.data)}catch(z){m(z instanceof Error?z.message:"Failed to skip step")}finally{h(!1)}},$=()=>{if(!g.trim()){m("Company name is required");return}I("company_info",{companyName:g,industry:v,teamSize:x})},H=async()=>{if(!P){m("Please select a template");return}h(!0),m(null);try{const z=await(await fetch(`/api/onboarding/templates/${P}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:N}})})).json();if(!z.success)throw new Error(z.error);await T()}catch(Q){m(Q instanceof Error?Q.message:"Failed to apply template")}finally{h(!1)}},V=()=>{const Q=A.split(/[,\n]/).map(z=>z.trim()).filter(z=>z);if(Q.length===0){M("invite_team");return}I("invite_team",{invitedEmails:Q})},q=(n==null?void 0:n.currentStep)||"company_info",B=u3[q],W=rv.indexOf(q);return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n!=null&&n.isComplete?(e("/dashboard"),null):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",W+1," of ",rv.length-1]}),r.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(n==null?void 0:n.progress)||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(n==null?void 0:n.progress)||0}%`}})})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:B.titleKo}),r.jsx("p",{className:"text-gray-600",children:B.descriptionKo})]}),p&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:p})}),q==="company_info"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),r.jsx("input",{type:"text",value:g,onChange:Q=>j(Q.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),r.jsxs("select",{value:v,onChange:Q=>w(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select industry"}),r.jsx("option",{value:"technology",children:"Technology"}),r.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),r.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"consulting",children:"Consulting"}),r.jsx("option",{value:"healthcare",children:"Healthcare"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"education",children:"Education"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),r.jsxs("select",{value:x,onChange:Q=>S(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select team size"}),r.jsx("option",{value:"1-5",children:"1-5 people"}),r.jsx("option",{value:"6-20",children:"6-20 people"}),r.jsx("option",{value:"21-50",children:"21-50 people"}),r.jsx("option",{value:"51-200",children:"51-200 people"}),r.jsx("option",{value:"200+",children:"200+ people"})]})]}),r.jsx("button",{onClick:$,disabled:u,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":"Continue"})]}),q==="google_workspace"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),r.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("google_workspace"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),q==="select_template"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(Q=>r.jsxs("button",{onClick:()=>O(Q.id),className:`p-6 border-2 rounded-xl text-left transition ${P===Q.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:Q.icon}),r.jsx("h3",{className:"font-semibold text-gray-900",children:Q.nameKo}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.descriptionKo}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Q.agents.filter(z=>z.enabled).length," agents,"," ",Q.id==="custom"?"configure yourself":"pre-configured"]})]},Q.id))}),r.jsx("button",{onClick:H,disabled:u||!P,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Applying template...":"Continue"})]}),q==="customize_agents"&&r.jsxs("div",{className:"space-y-6",children:[P&&r.jsx("div",{className:"space-y-4",children:(U=s.find(Q=>Q.id===P))==null?void 0:U.agents.map(Q=>r.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:Q.enabled||N.includes(Q.id),onChange:z=>{z.target.checked?C([...N,Q.id]):C(N.filter(F=>F!==Q.id))},className:"h-4 w-4 text-indigo-600 rounded"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"font-medium text-gray-900",children:Q.name}),r.jsx("div",{className:"text-sm text-gray-500",children:Q.description})]})]},Q.id))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>M("customize_agents"),disabled:u,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),r.jsx("button",{onClick:()=>I("customize_agents",{selectedAgents:N}),disabled:u,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":"Continue"})]})]}),q==="connect_slack"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),r.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("connect_slack"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),q==="invite_team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),r.jsx("textarea",{value:A,onChange:Q=>E(Q.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>M("invite_team"),disabled:u,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),r.jsx("button",{onClick:V,disabled:u,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Sending...":A.trim()?"Send Invites":"Continue"})]})]}),q==="first_workflow"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),r.jsx("button",{onClick:()=>{I("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("first_workflow"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),q==="completed"&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),q!=="completed"&&r.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:rv.slice(0,-1).map(Q=>{const z=n==null?void 0:n.completedSteps.includes(Q),F=n==null?void 0:n.skippedSteps.includes(Q),D=Q===q;return r.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-green-500":F?"bg-gray-300":D?"bg-indigo-600":"bg-gray-200"}`,title:u3[Q].title},Q)})})]})]})}const Mte=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],Wl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},h3={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function Ite(){var U,Q;const e=Zs(),[t,n]=b.useState(h3),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[d,u]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(""),[j,v]=b.useState(""),[w,x]=b.useState(""),[S,P]=b.useState(""),[O,N]=b.useState(""),C=b.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),u(null);try{const z=await se({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});n(F=>({...F,analysis:z,selectedSkills:z.suggestedSkills,selectedTools:z.suggestedTools}))}catch(z){const F=z instanceof Ve?z.message:"   ";u(F)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);b.useEffect(()=>{t.step===3&&!t.analysis&&C()},[t.step,t.analysis,C]);const A=z=>{n(F=>({...F,changeType:z}))},E=()=>{if(u(null),t.step===1&&!t.changeType){u("  ");return}if(t.step===2){if(!t.teamFunction){u("/Function ");return}if(!t.entityName.trim()){u(" ");return}if(!t.description.trim()){u(" ");return}}n(z=>({...z,step:z.step+1}))},T=()=>{u(null),n(z=>({...z,step:z.step-1}))},R=async()=>{if(!t.analysis){u("  .   .");return}l(!0),u(null);try{const z=await se({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:z.prUrl,changeId:z.changeId})}catch(z){const F=z instanceof Ve?z.message:"    ";u(F)}finally{l(!1)}},I=z=>{n(F=>({...F,selectedSkills:F.selectedSkills.includes(z)?F.selectedSkills.filter(D=>D!==z):[...F.selectedSkills,z]}))},M=z=>{n(F=>({...F,selectedTools:F.selectedTools.includes(z)?F.selectedTools.filter(D=>D!==z):[...F.selectedTools,z]}))},$=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(n(z=>({...z,customSkills:[...z.customSkills,m.trim()]})),g(""))},H=()=>{j.trim()&&!t.customTools.includes(j.trim())&&(n(z=>({...z,customTools:[...z.customTools,j.trim()]})),v(""))},V=(z,F,D)=>{F.trim()&&!t.permissions[z].includes(F.trim())&&(n(G=>({...G,permissions:{...G.permissions,[z]:[...G.permissions[z],F.trim()]}})),D(""))},q=(z,F)=>{n(D=>({...D,permissions:{...D.permissions,[z]:D.permissions[z].filter(G=>G!==F)}}))},B=z=>{switch(z){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},W=z=>{switch(z){case"low":return"";case"medium":return"";case"high":return""}};return h?r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),r.jsx("a",{href:h.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:h.prUrl})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),r.jsx("button",{onClick:()=>{n(h3),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(z=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${z===t.step?"bg-indigo-600 text-white":z<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:z<t.step?"":z}),z<5&&r.jsx("div",{className:`w-16 h-1 mx-2 ${z<t.step?"bg-indigo-600":"bg-gray-200"}`})]},z))}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),r.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),d&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(Wl).map(z=>{const F=Wl[z],D=t.changeType===z;return r.jsxs("button",{onClick:()=>A(z),className:`p-4 rounded-lg border-2 text-left transition-all ${D?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),r.jsx("div",{className:"font-semibold text-gray-900",children:F.title}),r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:F.titleEn}),r.jsx("div",{className:"text-sm text-gray-600",children:F.description})]},z)})})]}),t.step===2&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&Wl[t.changeType].emoji," ",t.changeType&&Wl[t.changeType].title," (Step 2/5)"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),r.jsxs("select",{value:t.teamFunction,onChange:z=>n(F=>({...F,teamFunction:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:""}),Mte.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),r.jsx("input",{type:"text",value:t.entityName,onChange:z=>n(F=>({...F,entityName:z.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),r.jsx("textarea",{value:t.description,onChange:z=>n(F=>({...F,description:z.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):r.jsxs("div",{className:"space-y-6",children:[t.analysis&&r.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(U=t.analysis)==null?void 0:U.suggestedSkills.map(z=>r.jsx("button",{onClick:()=>I(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customSkills.map(z=>r.jsxs("button",{onClick:()=>n(F=>({...F,customSkills:F.customSkills.filter(D=>D!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:z=>g(z.target.value),onKeyPress:z=>z.key==="Enter"&&$(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(Q=t.analysis)==null?void 0:Q.suggestedTools.map(z=>r.jsx("button",{onClick:()=>M(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customTools.map(z=>r.jsxs("button",{onClick:()=>n(F=>({...F,customTools:F.customTools.filter(D=>D!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:z=>v(z.target.value),onKeyPress:z=>z.key==="Enter"&&H(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:H,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>q("read",z),className:"ml-1 hover:text-blue-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:w,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&V("read",w,x),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("read",w,x),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>q("write",z),className:"ml-1 hover:text-green-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:S,onChange:z=>P(z.target.value),onKeyPress:z=>z.key==="Enter"&&V("write",S,P),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("write",S,P),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>q("deny",z),className:"ml-1 hover:text-red-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:O,onChange:z=>N(z.target.value),onKeyPress:z=>z.key==="Enter"&&V("deny",O,N),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("deny",O,N),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:" :"}),r.jsx("span",{className:"font-medium",children:t.changeType&&Wl[t.changeType].title})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),r.jsx("span",{className:"font-medium",children:t.teamFunction})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"font-medium",children:t.entityName})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"text-gray-700",children:t.description})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(z=>r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:z},z))})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(z=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:z},z))})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[r.jsx("span",{children:" "}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${B(t.analysis.riskLevel)}`,children:[": ",W(t.analysis.riskLevel)]})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),r.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((z,F)=>r.jsx("li",{className:"text-sm text-gray-700",children:z},F))})]})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),r.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(z=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",z]},z))]}),t.analysis.filesModified.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(z=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",z]},z))]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):T,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?r.jsx("button",{onClick:E,disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):r.jsx("button",{onClick:R,disabled:i,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?" ...":"  PR "})]})]})}function $te(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(!1),[u,h]=b.useState("all"),[p,m]=b.useState(!1);b.useEffect(()=>{g()},[u]);const g=async()=>{try{a(!0);const O=new URLSearchParams;u!=="all"&&O.set("type",u),O.set("status","active"),O.set("limit","50");const N=await fetch(`/api/patterns?${O}`,{credentials:"include"});if(Io(N)){d(!0);return}if(!N.ok)throw new Error("Failed to fetch patterns");const C=await N.json();t(C.patterns),i(null)}catch(O){i(O instanceof Error?O.message:"Unknown error")}finally{a(!1)}},j=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await g()}catch(O){i(O instanceof Error?O.message:"Analysis failed")}finally{m(!1)}},v=async O=>{try{if(!(await fetch(`/api/patterns/${O}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(C=>C.id!==O))}catch(N){i(N instanceof Error?N.message:"Failed to dismiss")}},w=async O=>{try{const N=await fetch(`/api/patterns/${O}/generate-sop`,{method:"POST",credentials:"include"});if(!N.ok)throw new Error("Failed to generate SOP");const C=await N.json();window.location.href=`/sop-drafts/${C.draft.id}`}catch(N){i(N instanceof Error?N.message:"Failed to generate SOP")}},x=()=>{const O={sequence:0,cluster:0,time:0};let N=0;for(const C of e)O[C.type]++,N+=C.confidence;return{total:e.length,byType:O,avgConfidence:e.length>0?N/e.length:0}},S=O=>{var C;const N=O.data;switch(O.type){case"sequence":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((C=N.sequence)==null?void 0:C.join("  "))||"N/A"]});case"cluster":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Intent:"})," ",N.commonIntent||"Similar requests"]});case"time":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Schedule:"})," ",N.description||"Recurring pattern"]});default:return null}},P=x();return l?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx(Jc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:g})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.total})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.byType.sequence})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.byType.cluster})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.byType.time})]})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(O=>r.jsx("button",{onClick:()=>h(O),className:`px-4 py-2 rounded-lg ${u===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.type==="sequence"?"bg-blue-100 text-blue-700":O.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:O.type}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(O.confidence*100),"% confidence"]})]}),r.jsx("div",{className:"mb-3",children:S(O)}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[r.jsxs("span",{children:["Frequency: ",O.frequency]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(O.createdAt).toLocaleDateString()})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:r.jsx("div",{className:`h-full rounded-full ${O.confidence>=.8?"bg-green-500":O.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${O.confidence*100}%`}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(O.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),r.jsx("button",{onClick:()=>v(O.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},O.id))})]})})}function Lte(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState([]),[u,h]=b.useState(!0),[p,m]=b.useState(!1),[g,j]=b.useState(!1),[v,w]=b.useState("30d"),[x,S]=b.useState("overview"),[P,O]=b.useState({name:"",slug:"",email:"",website:"",description:""}),N=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me",method:"GET"});return t(M.publisher),!0}catch(M){return M instanceof Ve&&M.status===404&&j(!0),!1}},[]),C=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me/extensions",method:"GET"});a(M.extensions)}catch(M){console.error("Failed to fetch extensions:",M)}},[]),A=b.useCallback(async()=>{try{const M=await se({url:`/api/marketplace/publishers/me/analytics?period=${v}`,method:"GET"});i(M.analytics)}catch(M){console.error("Failed to fetch analytics:",M)}},[v]),E=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me/payouts",method:"GET"});d(M.payouts)}catch(M){console.error("Failed to fetch payouts:",M)}},[]);b.useEffect(()=>{(async()=>{h(!0),await N()&&await Promise.all([C(),A(),E()]),h(!1)})()},[N,C,A,E]),b.useEffect(()=>{e&&A()},[v,e,A]);const T=async M=>{M.preventDefault(),m(!0);try{const $=await se({url:"/api/marketplace/publishers/register",method:"POST",data:P});t($.publisher),j(!1)}catch($){const H=$ instanceof Ve?$.message:"Registration failed";alert(H)}finally{m(!1)}},R=M=>M>=1e6?`${(M/1e6).toFixed(1)}M`:M>=1e3?`${(M/1e3).toFixed(1)}K`:String(M),I=M=>`$${(M/100).toFixed(2)}`;return u?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):g?r.jsxs("div",{className:"max-w-xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),r.jsx("input",{type:"text",value:P.name,onChange:M=>O({...P,name:M.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),r.jsx("input",{type:"text",value:P.slug,onChange:M=>O({...P,slug:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),r.jsx("input",{type:"email",value:P.email,onChange:M=>O({...P,email:M.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx("input",{type:"url",value:P.website,onChange:M=>O({...P,website:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:P.description,onChange:M=>O({...P,description:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),r.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),r.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&r.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),r.jsx(ht,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(M=>r.jsxs("button",{onClick:()=>S(M),className:`py-3 text-sm font-medium border-b-2 -mb-px ${x===M?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[M==="overview"&&"Overview",M==="extensions"&&`Extensions (${n.length})`,M==="payouts"&&"Payouts"]},M))})}),x==="overview"&&s&&r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalDownloads)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalInstalls)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:I(s.totalRevenue)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:n.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),r.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((M,$)=>{const H=Math.max(...s.downloadTrend.map(q=>q.count))||1,V=M.count/H*100;return r.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(V,2)}%`},title:`${M.date}: ${M.count} downloads`},$)})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"pb-3",children:"Extension"}),r.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),r.jsx("th",{className:"pb-3 text-right",children:"Installs"}),r.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),r.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),r.jsx("tbody",{children:s.extensionStats.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsx("td",{className:"py-3 font-medium text-gray-900",children:M.name}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(M.downloads)}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(M.installs)}),r.jsx("td",{className:"py-3 text-right text-green-600",children:I(M.revenue)}),r.jsxs("td",{className:"py-3 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",M.rating.toFixed(1)]})]},M.extensionId))})]})]})]}),x==="extensions"&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),r.jsx(ht,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Extension"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4 text-right",children:"Downloads"}),r.jsx("th",{className:"p-4 text-right",children:"Rating"}),r.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),r.jsx("tbody",{children:n.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsx(ht,{to:`/marketplace/${M.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:M.name})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="published"?"bg-green-100 text-green-700":M.status==="review"?"bg-yellow-100 text-yellow-700":M.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:M.status})}),r.jsx("td",{className:"p-4 text-right text-gray-600",children:R(M.stats.downloads)}),r.jsxs("td",{className:"p-4 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",M.stats.rating.toFixed(1),r.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",M.stats.reviewCount,")"]})]}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:M.pricing})})]},M.id))})]})}),x==="payouts"&&r.jsxs("div",{children:[!e.payoutEnabled&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),r.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Period"}),r.jsx("th",{className:"p-4",children:"Amount"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4",children:"Paid Date"})]})}),r.jsx("tbody",{children:l.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"p-4 font-medium text-green-600",children:I(M.amount)}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="completed"?"bg-green-100 text-green-700":M.status==="processing"?"bg-blue-100 text-blue-700":M.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:M.status})}),r.jsx("td",{className:"p-4 text-gray-600",children:M.paidAt?new Date(M.paidAt).toLocaleDateString():"-"})]},M.id))})]})})]})]}):null}function Dte(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState("all"),[p,m]=b.useState(""),[g,j]=b.useState(!1);b.useEffect(()=>{v()},[u]);const v=async()=>{try{a(!0);const N=new URLSearchParams;u!=="all"&&N.set("status",u),N.set("limit","50");const C=await fetch(`/api/sop-drafts?${N}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch drafts");const A=await C.json();t(A.drafts),i(null)}catch(N){i(N instanceof Error?N.message:"Unknown error")}finally{a(!1)}},w=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(A=>A.id===N?{...A,status:"approved",reviewedAt:new Date().toISOString()}:A)),d(null)}catch(C){i(C instanceof Error?C.message:"Failed to approve")}},x=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(A=>A.id===N?{...A,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:A)),j(!1),m(""),d(null)}catch(C){i(C instanceof Error?C.message:"Failed to reject")}},S=async N=>{try{const C=await fetch(`/api/sop-drafts/${N.id}/yaml`,{credentials:"include"});if(!C.ok)throw new Error("Failed to download YAML");const A=await C.blob(),E=window.URL.createObjectURL(A),T=document.createElement("a");T.href=E,T.download=`${N.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(E)}catch(C){i(C instanceof Error?C.message:"Failed to download")}},P=N=>{switch(N){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},O=N=>{switch(N){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),r.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(N=>r.jsx("button",{onClick:()=>h(N),className:`px-4 py-2 rounded-lg ${u===N?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:N==="all"?"All":N.replace("_"," ").replace(/\b\w/g,C=>C.toUpperCase())},N))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-1/3",children:n?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):r.jsx("div",{className:"space-y-3",children:e.map(N=>r.jsxs("div",{onClick:()=>d(N),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===N.id?"ring-2 ring-blue-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:N.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(N.status)}`,children:N.status.replace("_"," ")})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.description}),r.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:N.function}),r.jsx("span",{children:""}),r.jsxs("span",{children:[N.steps.length," steps"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[Math.round(N.confidence*100),"%"]})]})]},N.id))})}),r.jsx("div",{className:"flex-1",children:l?r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),r.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),r.jsx("span",{className:`px-3 py-1 rounded-full ${P(l.status)}`,children:l.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Function: ",l.function]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Source: ",l.sourceType]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),r.jsx("div",{className:"space-y-3",children:l.steps.map((N,C)=>r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:C+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:O(N.type)}),r.jsx("span",{className:"font-medium",children:N.name}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:N.type})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),N.agentId&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",N.agentId]}),N.toolName&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",N.toolName]})]})]},N.id))})]}),l.status==="rejected"&&l.rejectionReason&&r.jsx("div",{className:"px-6 pb-6",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&r.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),r.jsx("button",{onClick:()=>{j(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),r.jsx("button",{onClick:()=>w(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&r.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),g&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),r.jsx("textarea",{value:p,onChange:N=>m(N.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{j(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>x(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const Fte={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function zte({step:e,index:t,isSelected:n,isDragging:a,onSelect:s,onDragStart:i,onDragEnd:l}){const d=b.useMemo(()=>Fte[e.type],[e.type]);return r.jsxs("div",{draggable:!0,onDragStart:i,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${d.bgColor}
        ${n?d.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":d.borderColor}
        ${a?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:d.icon}),r.jsx("span",{className:`text-xs font-medium ${d.textColor}`,children:d.label})]}),r.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&r.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function qte({steps:e,selectedStepIndex:t,onSelectStep:n,onReorderSteps:a,onAddStep:s}){const[i,l]=b.useState(null),[d,u]=b.useState(null),h=b.useRef(null),p=b.useCallback(w=>x=>{x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",String(w)),l(w)},[]),m=b.useCallback(()=>{l(null),u(null)},[]),g=b.useCallback(w=>x=>{x.preventDefault(),x.dataTransfer.dropEffect="move",i!==null&&w!==i&&u(w)},[i]),j=b.useCallback(w=>x=>{x.preventDefault();const S=parseInt(x.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==w&&a(S,w),l(null),u(null)},[a]),v=w=>w>=e.length-1?null:r.jsxs("div",{className:"flex justify-center my-2",children:[r.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),r.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:r.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return r.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:h,children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),r.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Automated"})]}),r.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Manual"})]}),r.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Approval"})]})]})}),r.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),r.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[e.map((w,x)=>r.jsxs("div",{children:[d===x&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),r.jsx("div",{onDragOver:g(x),onDrop:j(x),children:r.jsx(zte,{step:w,index:x,isSelected:t===x,isDragging:i===x,onSelect:()=>n(x),onDragStart:p(x),onDragEnd:m})}),v(x)]},w.id+"-"+x)),d===e.length&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:w=>{w.preventDefault(),u(e.length)},onDrop:j(e.length),children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>n(null),style:{pointerEvents:"none"}})]})}function Bte({step:e,onUpdate:t,onDelete:n,onClose:a}){var g,j;const[s,i]=b.useState(e),[l,d]=b.useState("");if(b.useEffect(()=>{i(e)},[e]),!s)return r.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const u=(v,w)=>{const x={...s,[v]:w};i(x),t(x)},h=v=>{const w={...s,conditional:{when:v}};i(w),t(w)},p=()=>{if(!l.trim())return;const v=[...s.checklist||[],l.trim()];u("checklist",v),d("")},m=v=>{var x;const w=((x=s.checklist)==null?void 0:x.filter((S,P)=>P!==v))||[];u("checklist",w.length>0?w:void 0)};return r.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:s.type,onChange:v=>u("type",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"automated",children:" Automated"}),r.jsx("option",{value:"manual",children:" Manual"}),r.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),r.jsx("input",{type:"text",value:s.id,onChange:v=>u("id",v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:s.name,onChange:v=>u("name",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:v=>u("description",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),r.jsx("input",{type:"text",value:s.agent||"",onChange:v=>u("agent",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),r.jsx("input",{type:"text",value:s.tool||"",onChange:v=>u("tool",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),r.jsx("input",{type:"text",value:s.assignee||"",onChange:v=>u("assignee",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:v=>u("requires_approval",v.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),r.jsx("input",{type:"text",value:s.approver||"",onChange:v=>u("approver",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),r.jsxs("select",{value:s.timeout||"",onChange:v=>u("timeout",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"No timeout"}),r.jsx("option",{value:"5m",children:"5 minutes"}),r.jsx("option",{value:"15m",children:"15 minutes"}),r.jsx("option",{value:"30m",children:"30 minutes"}),r.jsx("option",{value:"1h",children:"1 hour"}),r.jsx("option",{value:"2h",children:"2 hours"}),r.jsx("option",{value:"4h",children:"4 hours"}),r.jsx("option",{value:"8h",children:"8 hours"}),r.jsx("option",{value:"24h",children:"24 hours"}),r.jsx("option",{value:"48h",children:"48 hours"}),r.jsx("option",{value:"72h",children:"72 hours"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),r.jsx("input",{type:"text",value:((g=s.conditional)==null?void 0:g.when)||"",onChange:v=>v.target.value?h(v.target.value):u("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),r.jsxs("div",{className:"space-y-2",children:[(j=s.checklist)==null?void 0:j.map((v,w)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:v}),r.jsx("button",{onClick:()=>m(w),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},w)),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:l,onChange:v=>d(v.target.value),onKeyDown:v=>v.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),r.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function Ute({sopId:e,isOpen:t,onClose:n}){const[a,s]=b.useState("{}"),[i,l]=b.useState(null),[d,u]=b.useState(!1),[h,p]=b.useState(null),[m,g]=b.useState(0),j=async()=>{if(e){u(!0),p(null);try{const x=JSON.parse(a),S=await se({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:x}});l(S.simulation),g(0)}catch(x){x instanceof SyntaxError?p("Invalid JSON in input data"):x instanceof Ve?p(x.message):p("Failed to simulate SOP")}finally{u(!1)}}},v=x=>{if(x<60)return`${x}m`;const S=Math.floor(x/60),P=x%60;if(S<24)return P>0?`${S}h ${P}m`:`${S}h`;const O=Math.floor(S/24),N=S%24;return N>0?`${O}d ${N}h`:`${O}d`},w=x=>{switch(x){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:a,onChange:x=>s(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),r.jsx("button",{onClick:j,disabled:d||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:d?"Simulating...":"Run Simulation"})]}),h&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),i&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:i.sopName}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",r.jsx("span",{className:"font-medium",children:i.totalSteps})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",r.jsx("span",{className:"font-medium",children:v(i.estimatedTotalDuration)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",r.jsxs("span",{className:"font-medium",children:[i.steps.filter(x=>x.willExecute).length," steps"]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),r.jsx("div",{className:"space-y-3",children:i.steps.map((x,S)=>{const P=w(x.type),O=S===m;return r.jsx("div",{onClick:()=>g(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${O?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${x.willExecute?"":"opacity-50"}
                        `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${x.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${P.color}`,children:[P.icon," ",x.type.replace("_"," ")]}),!x.willExecute&&r.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),r.jsx("h5",{className:"font-medium text-gray-900",children:x.name}),x.description&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.description}),x.skipReason&&r.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",x.skipReason]}),O&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[x.agent&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",r.jsx("span",{className:"font-mono",children:x.agent})]}),x.tool&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",r.jsx("span",{className:"font-mono",children:x.tool})]}),x.assignee&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",r.jsx("span",{children:x.assignee})]}),x.approver&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",r.jsx("span",{children:x.approver})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",r.jsx("span",{children:v(x.estimatedDuration)})]}),x.checklist&&x.checklist.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Checklist:"}),r.jsx("ul",{className:"mt-1 ml-4 list-disc",children:x.checklist.map((N,C)=>r.jsx("li",{className:"text-gray-600",children:N},C))})]}),x.resolvedInput&&Object.keys(x.resolvedInput).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),r.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(x.resolvedInput,null,2)})]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:v(x.estimatedDuration)})]})},x.id)})})]}),i.exceptionHandlers.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),r.jsx("div",{className:"space-y-2",children:i.exceptionHandlers.map((x,S)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[r.jsx("span",{className:"text-amber-500",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:x.condition}),r.jsx("span",{className:"text-gray-400 mx-2",children:""}),r.jsx("span",{className:"text-indigo-600",children:x.action}),x.target&&r.jsxs("span",{className:"text-gray-500",children:[" (target: ",x.target,")"]})]})]},S))})]})]})]})]})}):null}const Wte=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function Hte(){const{id:e}=Zh(),t=Zs(),n=!!e,[a,s]=b.useState([]),[i,l]=b.useState(!0),[d,u]=b.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[h,p]=b.useState([{pattern:""}]),[m,g]=b.useState([]),[j,v]=b.useState([]),[w,x]=b.useState(null),[S,P]=b.useState(!1),[O,N]=b.useState(!1),[C,A]=b.useState(null),[E,T]=b.useState(null),[R,I]=b.useState(!1),[M,$]=b.useState(!1),[H,V]=b.useState(""),[q,B]=b.useState("editor"),W=b.useCallback(async()=>{try{const re=await se({url:"/api/sops",method:"GET"});s(re.sops)}catch(re){console.error("Failed to fetch SOP list:",re)}finally{l(!1)}},[]),U=b.useCallback(async re=>{P(!0),A(null);try{const je=(await se({url:`/api/sops/${re}`,method:"GET"})).sop;u(je.metadata),p(je.triggers),g(je.steps),v(je.exception_handling||[])}catch(be){be instanceof Ve?A(be.message):A("Failed to load SOP")}finally{P(!1)}},[]),Q=b.useCallback(async()=>{if(e)try{const re=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(re.ok){const be=await re.text();V(be)}}catch(re){console.error("Failed to fetch YAML:",re)}},[e]);b.useEffect(()=>{W()},[W]),b.useEffect(()=>{e?U(e):(u({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),g([]),v([]),x(null))},[e,U]),b.useEffect(()=>{M&&e&&Q()},[M,e,Q]);const z=re=>{const be={id:`step-${Date.now()}`,name:`New ${re==="automated"?"Automated":re==="manual"?"Manual":"Approval"} Step`,type:re};g([...m,be]),x(m.length)},F=re=>{if(w===null)return;const be=[...m];be[w]=re,g(be)},D=()=>{if(w===null)return;const re=m.filter((be,je)=>je!==w);g(re),x(null)},G=(re,be)=>{const je=[...m],[tt]=je.splice(re,1);je.splice(be,0,tt),g(je),w===re&&x(be)},te=()=>{p([...h,{pattern:""}])},ue=(re,be)=>{const je=[...h];je[re]={pattern:be},p(je)},xe=re=>{h.length<=1||p(h.filter((be,je)=>je!==re))},oe=()=>{v([...j,{condition:"",action:"notify_owner"}])},ee=(re,be,je)=>{const tt=[...j];tt[re]={...tt[re],[be]:je},v(tt)},le=re=>{v(j.filter((be,je)=>je!==re))},ke=async()=>{if(!d.id.trim()){A("SOP ID is required");return}if(!d.name.trim()){A("SOP name is required");return}if(!d.owner.trim()){A("Owner is required");return}if(h.every(be=>!be.pattern.trim())){A("At least one trigger pattern is required");return}if(m.length===0){A("At least one step is required");return}N(!0),A(null),T(null);const re={metadata:d,triggers:h.filter(be=>be.pattern.trim()),steps:m,exception_handling:j.filter(be=>be.condition.trim())};try{n?(await se({url:`/api/sops/${e}`,method:"PUT",data:re}),T("SOP updated successfully")):(await se({url:"/api/sops",method:"POST",data:re}),T("SOP created successfully"),t(`/sops/${d.id}`)),W()}catch(be){be instanceof Ve?A(be.message):A("Failed to save SOP")}finally{N(!1)}},$e=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await se({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),W()}catch(re){re instanceof Ve?A(re.message):A("Failed to delete SOP")}};return S?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"text-sm mb-1",children:[r.jsx(ht,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:n?d.name||e:"New SOP"})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit SOP":"Create New SOP"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>$(!M),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:M?"Hide YAML":"View YAML"}),r.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),r.jsx("button",{onClick:$e,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),r.jsx("button",{onClick:ke,disabled:O,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:O?"Saving...":n?"Update SOP":"Create SOP"})]})]}),C&&r.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:C}),E&&r.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[r.jsx("div",{className:"p-4",children:r.jsxs(ht,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[r.jsx("span",{children:"+"}),r.jsx("span",{children:"New SOP"})]})}),r.jsx("nav",{className:"px-2 pb-4",children:i?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):a.length===0?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):a.map(re=>r.jsxs(ht,{to:`/sops/${re.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===re.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("div",{className:"font-medium truncate",children:re.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[re.function,"  ",re.stepCount," steps"]})]},re.id))})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(re=>r.jsxs("button",{onClick:()=>B(re),className:`py-3 text-sm font-medium border-b-2 transition-colors ${q===re?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[re==="editor"&&"Step Editor",re==="triggers"&&"Triggers & Metadata",re==="exceptions"&&"Exception Handlers"]},re))})}),q==="editor"&&r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx(qte,{steps:m,selectedStepIndex:w,onSelectStep:x,onReorderSteps:G,onAddStep:z}),r.jsx(Bte,{step:w!==null?m[w]:null,onUpdate:F,onDelete:D,onClose:()=>x(null)})]}),q==="triggers"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),r.jsx("input",{type:"text",value:d.id,onChange:re=>u({...d,id:re.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:d.name,onChange:re=>u({...d,name:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{value:d.function,onChange:re=>u({...d,function:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:Wte.map(re=>r.jsx("option",{value:re.value,children:re.label},re.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),r.jsx("input",{type:"text",value:d.owner,onChange:re=>u({...d,owner:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),r.jsx("input",{type:"text",value:d.version,onChange:re=>u({...d,version:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),r.jsx("button",{onClick:te,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),r.jsx("div",{className:"space-y-3",children:h.map((re,be)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:re.pattern,onChange:je=>ue(be,je.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),h.length>1&&r.jsx("button",{onClick:()=>xe(be),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},be))})]})]})}),q==="exceptions"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),r.jsx("button",{onClick:oe,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),j.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No exception handlers defined"}),r.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):r.jsx("div",{className:"space-y-4",children:j.map((re,be)=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),r.jsxs("select",{value:re.condition,onChange:je=>ee(be,"condition",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"",children:"Select condition..."}),r.jsx("option",{value:"step.failed",children:"Step Failed"}),r.jsx("option",{value:"step.timeout",children:"Step Timeout"}),r.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),r.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),r.jsxs("select",{value:re.action,onChange:je=>ee(be,"action",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"notify_owner",children:"Notify Owner"}),r.jsx("option",{value:"escalate",children:"Escalate"}),r.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),r.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),r.jsx("option",{value:"return_to_step",children:"Return to Step"}),r.jsx("option",{value:"send_reminder",children:"Send Reminder"}),r.jsx("option",{value:"request_revision",children:"Request Revision"}),r.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),r.jsx("input",{type:"text",value:re.target||"",onChange:je=>ee(be,"target",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),r.jsx("input",{type:"text",value:re.message||"",onChange:je=>ee(be,"message",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),r.jsx("button",{onClick:()=>le(be),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},be))})]})})})]})]}),M&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),r.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:r.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:H||"Loading..."})}),r.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(H)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),r.jsx(Ute,{sopId:e||null,isOpen:R,onClose:()=>I(!1)})]})}function Kte(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function Gte(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function J_(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Vte(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function Sw(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function f3(e){return new Date(e).toLocaleDateString()}function Z_(e){return new Date(e).toLocaleString()}function m3(e){switch(e){case"up":return"";case"down":return"";default:return""}}function Qte({score:e,status:t}){return r.jsxs("div",{className:`rounded-lg p-6 ${Gte(e)} text-center`,children:[r.jsx("div",{className:`text-6xl font-bold ${Kte(e)}`,children:e}),r.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),r.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${J_(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function nv({title:e,value:t,subtitle:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:e}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),n&&r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:n})]})}function Yte({agent:e}){return r.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J_(e.status)}`,children:e.status})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",r.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),r.jsx("span",{className:"ml-1 text-gray-400",children:m3(e.trends.executionsTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Success:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",r.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),r.jsx("span",{className:"ml-1 text-gray-400",children:m3(e.trends.latencyTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function Xte({anomaly:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:`text-sm font-medium ${Vte(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",Z_(e.detectedAt)]})]})}function Jte({gap:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function Zte({recommendation:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.priority)}`,children:e.priority})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",r.jsx("span",{className:"text-gray-700",children:e.impact})]}),r.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function ere(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(!0),[p,m]=b.useState(null),[g,j]=b.useState(!1),[v,w]=b.useState(!0),[x,S]=b.useState("agents"),P=b.useCallback(async()=>{try{const[E,T,R,I]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Io(E)){j(!0),h(!1);return}if(!E.ok)throw new Error("Failed to fetch health data");const M=await E.json();if(t(M.data),T.ok){const $=await T.json();a($.data||[])}if(R.ok){const $=await R.json();i($.data||[])}if(I.ok){const $=await I.json();d($.data||[])}m(null)}catch(E){m(E instanceof Error?E.message:"Unknown error")}finally{h(!1)}},[]);b.useEffect(()=>{P()},[P]),b.useEffect(()=>{if(!v)return;const E=setInterval(P,6e4);return()=>clearInterval(E)},[v,P]);const O=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/accept`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(T){console.error("Failed to accept recommendation",T)}},N=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/reject`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(T){console.error("Failed to reject recommendation",T)}},C=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&P()}catch(E){console.error("Failed to generate report",E)}},A=async()=>{try{h(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&P()}catch(E){console.error("Failed to run system check",E)}finally{h(!1)}};return u&&!e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g?r.jsx(Jc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:P}):p&&!e?r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[r.jsx("h3",{className:"font-medium",children:"Error loading system health"}),r.jsx("p",{children:p}),r.jsx("button",{onClick:P,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),r.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?Z_(e.timestamp):"N/A"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),r.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),r.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:E=>w(E.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Qte,{score:e.overallScore,status:e.status}),r.jsx(nv,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),r.jsx(nv,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),r.jsx(nv,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(E=>E.severity==="critical"||E.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(E=>E.severity==="critical").length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(E=>E.severity==="critical").map((E,T)=>r.jsx(Xte,{anomaly:E},T))})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(E=>r.jsxs("button",{onClick:()=>S(E),className:`py-2 px-4 border-b-2 font-medium text-sm ${x===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,E==="gaps"&&`Knowledge Gaps (${n.length})`,E==="recommendations"&&`Recommendations (${s.length})`,E==="reports"&&`Reports (${l.length})`]},E))})}),x==="agents"&&e&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(E=>r.jsx(Yte,{agent:E},E.agentId))}),x==="gaps"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):n.slice(0,10).map((E,T)=>r.jsx(Jte,{gap:E},T))}),x==="recommendations"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(E=>r.jsx(Zte,{recommendation:E,onAccept:O,onReject:N},E.id))}),x==="reports"&&r.jsx("div",{className:"space-y-4",children:l.length===0?r.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:[E.type.charAt(0).toUpperCase()+E.type.slice(1)," Report"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[f3(E.periodStart)," - ",f3(E.periodEnd)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},E.id))})]})}function tre(){const{currentOrganization:e}=ts(),[t,n]=b.useState("experiments"),[a,s]=b.useState([]),[i,l]=b.useState(null),[d,u]=b.useState([]),[h,p]=b.useState(!0),[m,g]=b.useState("");b.useEffect(()=>{j()},[e]);async function j(){p(!0);try{const[x,S,P]=await Promise.all([se({url:"/api/optimization/experiments"}),se({url:"/api/optimization/costs",params:{days:30}}),se({url:"/api/optimization/models"})]);s(x.experiments||[]),l(S.analysis||null),u(P.models||[])}catch(x){console.error("Failed to load optimization data:",x)}finally{p(!1)}}async function v(x){try{await se({method:"POST",url:`/api/optimization/experiments/${x}/start`}),await j()}catch(S){console.error("Failed to start experiment:",S)}}async function w(x){try{await se({method:"POST",url:`/api/optimization/experiments/${x}/stop`}),await j()}catch(S){console.error("Failed to stop experiment:",S)}}return h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),r.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(x=>r.jsx("button",{onClick:()=>n(x),className:`px-4 py-2 capitalize ${t===x?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:x},x))}),t==="experiments"&&r.jsx(rre,{experiments:a,onStart:v,onStop:w}),t==="prompts"&&r.jsx(sre,{selectedAgent:m,onAgentChange:g}),t==="routing"&&r.jsx(ire,{selectedAgent:m,onAgentChange:g}),t==="models"&&r.jsx(ore,{models:d}),t==="costs"&&i&&r.jsx(lre,{analysis:i})]})}function rre({experiments:e,onStart:t,onStop:n}){const a=e.filter(i=>i.status==="running"),s=e.filter(i=>i.status==="completed");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),a.length===0?r.jsx("p",{className:"text-gray-500",children:"No active experiments"}):r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsx(nre,{experiment:i,onStart:t,onStop:n},i.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?r.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):r.jsx("div",{className:"space-y-4",children:s.map(i=>r.jsx(are,{experiment:i},i.id))})]})]})}function nre({experiment:e,onStart:t,onStop:n}){const a={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${a[e.status]}`,children:e.status}),e.status==="draft"&&r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function are({experiment:e}){const t=e.results;return t?r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Control"}),r.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),r.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),r.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),r.jsxs("div",{className:"mt-4 text-sm",children:[r.jsxs("p",{children:["Improvement: ",r.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),r.jsxs("p",{children:["Confidence: ",r.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&r.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function sre({selectedAgent:e,onAgentChange:t}){const[n,a]=b.useState([]),[s,i]=b.useState(!1);async function l(d){if(d){i(!0);try{const u=await se({url:`/api/optimization/agents/${d}/prompts`});a(u.variants||[])}catch(u){console.error("Failed to load prompts:",u)}finally{i(!1)}}}return b.useEffect(()=>{e&&l(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n.length===0?r.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):r.jsx("div",{className:"space-y-4",children:n.map(d=>{var u;return r.jsxs("div",{className:`border rounded-lg p-4 ${d.isActive?"border-green-500 bg-green-50":""}`,children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Version ",d.version,d.isActive&&r.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(d.successRate*100).toFixed(1),"% | Avg Latency: ",d.avgLatencyMs,"ms | Sample: ",d.sampleSize]})]})}),r.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(u=d.systemPrompt)==null?void 0:u.substring(0,200),"..."]})]},d.id)})})]})}function ire({selectedAgent:e,onAgentChange:t}){var h,p;const[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(!1);async function u(m){if(m){d(!0);try{const[g,j]=await Promise.all([se({url:`/api/optimization/agents/${m}/routing/analysis`}),se({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);a(g.analysis||null),i(j||null)}catch(g){console.error("Failed to load routing:",g)}finally{d(!1)}}}return b.useEffect(()=>{e&&u(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),r.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(n.correctRate*100).toFixed(1),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),r.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.totalMatches-n.correctMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),n.problematicKeywords.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.problematicKeywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&r.jsxs(r.Fragment,{children:[((h=s.additions)==null?void 0:h.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>r.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):r.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function ore({models:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(n=>r.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:n},n))})}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function lre({analysis:e}){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),r.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?r.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):r.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,n)=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),r.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},n))})]})]})}function cre({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:r.jsx(Ql,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:r.jsx(no,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:r.jsx(no,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:r.jsx(cL,{className:"w-3 h-3"}),label:"Cooldown"}},{color:n,icon:a,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n}`,children:[a,s]})}function dre({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function ure({isOpen:e,onClose:t,onSubmit:n,initialData:a}){const[s,i]=b.useState({nickname:a.nickname,priority:a.priority}),[l,d]=b.useState(!1),[u,h]=b.useState(null);b.useEffect(()=>{i({nickname:a.nickname,priority:a.priority}),h(null)},[a,e]);const p=async m=>{m.preventDefault(),d(!0),h(null);try{await n(s),t()}catch(g){h(g instanceof Error?g.message:"Failed to save account")}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Account"}),u&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:u}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),r.jsx("input",{type:"text",value:s.nickname,onChange:m=>i({...s,nickname:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email is set when connecting the account"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:s.priority,onChange:m=>i({...s,priority:parseInt(m.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${a.hasCredentials?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.hasCredentials?"Credentials saved":"No credentials"}),!a.hasCredentials&&r.jsx("span",{className:"text-gray-500",children:'Use "Connect Account" to add credentials'})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":"Update"})]})]})]})}):null}function hre(){const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(null),g=b.useCallback(async()=>{try{const{data:S}=await It.get("/api/claude-max-accounts");t(S.accounts),a(S.summary),d(null)}catch(S){d(S instanceof Error?S.message:"Failed to load accounts")}finally{i(!1)}},[]);b.useEffect(()=>{g();const S=setInterval(g,3e4);return()=>clearInterval(S)},[g]),b.useEffect(()=>{const S=P=>{var O;((O=P.data)==null?void 0:O.type)==="claude-connect-success"&&g()};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[g]);const j=()=>{const O=(window.screen.width-700)/2,N=(window.screen.height-800)/2;window.open("/claude-connect","claude-connect",`width=700,height=800,left=${O},top=${N},resizable=yes,scrollbars=yes`)},v=async S=>{p&&(await It.patch(`/api/claude-max-accounts/${p.id}`,{nickname:S.nickname,priority:S.priority}),await g())},w=async S=>{confirm("Are you sure you want to delete this account?")&&(await It.delete(`/api/claude-max-accounts/${S}`),await g())},x=async S=>{await It.post(`/api/claude-max-accounts/${S}/reset-status`),await g()};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Jn,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),r.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4"}),"Refresh"]}),r.jsxs("button",{onClick:j,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx(gj,{className:"w-4 h-4"}),"Connect Claude Account"]})]})]}),e.length===0&&r.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:r.jsx(AO,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Get Started with Claude Max"}),r.jsx("p",{className:"text-indigo-100 mb-4",children:"Connect your Claude Max subscription to enable AI-powered workflows. The connection process takes less than a minute."}),r.jsx("button",{onClick:j,className:"px-4 py-2 bg-white text-indigo-600 rounded-md hover:bg-indigo-50 font-medium",children:"Connect Your First Account"})]})]})}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),n&&e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.total})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Ql,{className:"w-3 h-3 text-green-500"})," Active"]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.active})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(no,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.rateLimited})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(RL,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.exhausted})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[n.averageUsage.toFixed(1),"%"]})]})]}),e.length>0&&r.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:S.nickname}),r.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.hasCredentials&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Connected"})]}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx(cre,{status:S.status}),S.cooldownUntil&&new Date(S.cooldownUntil)>new Date&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(S.cooldownUntil).toLocaleTimeString()]})]}),r.jsx("td",{className:"px-6 py-4 w-40",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dre,{percent:S.estimatedUsagePercent}),r.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[S.estimatedUsagePercent.toFixed(0),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.priority}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.lastActiveAt?new Date(S.lastActiveAt).toLocaleString():"Never"}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[S.status!=="active"&&r.jsx("button",{onClick:()=>x(S.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:r.jsx(jL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{m(S),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:r.jsx(yL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:r.jsx(AL,{className:"w-4 h-4"})})]})})]},S.id))})]})}),p&&r.jsx(ure,{isOpen:u,onClose:()=>{h(!1),m(null)},onSubmit:v,initialData:p})]})}function fre(){const[e,t]=b.useState("init"),[n,a]=b.useState("quick"),[s,i]=b.useState(null),[l,d]=b.useState(""),[u,h]=b.useState(""),[p,m]=b.useState(null),[g,j]=b.useState(""),[v,w]=b.useState(100),[x,S]=b.useState(null),[P,O]=b.useState(!1),[N,C]=b.useState(0),[A,E]=b.useState(""),[T,R]=b.useState({status:"idle",type:null,error:null});b.useEffect(()=>{n==="manual"&&!s&&I()},[n]);const I=async()=>{try{O(!0),S(null);const{data:U}=await It.post("/api/claude-connect/init");i(U);const{data:Q}=await It.get(`/api/claude-connect/bookmarklet/${U.code}`);d(Q.bookmarkletCode);const F=`(async()=>{const sk=document.cookie.match(/sessionKey=([^;]+)/);if(!sk){console.error('Not logged in');return;}const r=await fetch('${window.location.origin}/api/claude-connect/receive-token',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:sk[1],code:'${U.code}'})});const d=await r.json();console.log(d.success?'Success! Return to Nubabel.':'Error: '+d.error);})();`;h(F),t("instructions")}catch(U){S(U instanceof Error?U.message:"Failed to initialize connection"),t("error")}finally{O(!1)}},M=b.useCallback(async()=>{if(!s)return!1;try{const{data:U}=await It.get(`/api/claude-connect/poll/${s.code}`);return U.status==="received"?(t("naming"),!0):!1}catch{return!1}},[s]);b.useEffect(()=>{if(e!=="waiting"||!s)return;const U=setInterval(async()=>{C(F=>F+1),await M()&&clearInterval(U)},2e3),Q=setTimeout(()=>{clearInterval(U),e==="waiting"&&(S("Connection timed out. Please try again."),t("error"))},3e5);return()=>{clearInterval(U),clearTimeout(Q)}},[e,s,M]);const $=async U=>{const Q=U==="bookmarklet"?l:u;await navigator.clipboard.writeText(Q),m(U),setTimeout(()=>m(null),2e3)},H=()=>{C(0),t("waiting")},V=async()=>{var U,Q;if(!(!s||!g.trim()))try{O(!0),S(null);const{data:z}=await It.post("/api/claude-connect/complete",{code:s.code,nickname:g.trim(),priority:v});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:z.id},"*")}catch(z){S(((Q=(U=z.response)==null?void 0:U.data)==null?void 0:Q.error)||z.message||"Failed to create account")}finally{O(!1)}},q=b.useCallback(async U=>{var F,D;if(!U.trim()){R({status:"idle",type:null,error:null});return}const Q=U.startsWith("sk-ant-oat01-"),z=U.startsWith("sk-ant-sid");if(!Q&&!z){R({status:"invalid",type:null,error:"This doesn't look like a Claude token. Run `claude get-token` to get a valid token."});return}R({status:"validating",type:null,error:null});try{const{data:G}=await It.post("/api/claude-connect/validate-token",{token:U});G.valid?R({status:"valid",type:G.type,error:null}):R({status:"invalid",type:null,error:G.error||"Invalid token"})}catch(G){R({status:"invalid",type:null,error:((D=(F=G.response)==null?void 0:F.data)==null?void 0:D.error)||"Validation failed. Please try again."})}},[]);b.useEffect(()=>{const U=setTimeout(()=>{A.length>20&&q(A)},500);return()=>clearTimeout(U)},[A,q]);const B=async()=>{var U,Q;if(!(!A||T.status!=="valid"||!g.trim()))try{O(!0),S(null);let z=s==null?void 0:s.code;if(!z){const{data:D}=await It.post("/api/claude-connect/init");z=D.code,i(D)}await It.post("/api/claude-connect/receive-token",{token:A,code:z});const{data:F}=await It.post("/api/claude-connect/complete",{code:z,nickname:g.trim(),priority:v});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:F.id},"*")}catch(z){S(((Q=(U=z.response)==null?void 0:U.data)==null?void 0:Q.error)||z.message||"Connection failed. Please try again.")}finally{O(!1)}},W=()=>{window.opener?window.close():window.location.href="/admin/claude-max-accounts"};return P&&e==="init"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Jn,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Initializing connection..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-indigo-50/30 to-gray-50 py-8 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 tracking-tight",children:"Connect Claude Account"}),r.jsx("p",{className:"text-gray-600",children:"Link your Claude subscription to Nubabel for AI-powered workflows"})]}),e!=="success"&&e!=="error"&&r.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[r.jsx("button",{onClick:()=>a("quick"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="quick"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Quick Connect"}),r.jsx("button",{onClick:()=>a("manual"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="manual"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Manual"})]}),e==="error"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(no,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Failed"}),r.jsx("p",{className:"text-gray-600 mb-6",children:x}),r.jsx("button",{onClick:I,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})]})}),n==="quick"&&e!=="success"&&e!=="error"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"1"}),"Get Your Token"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Run this command in your terminal:"}),r.jsx("div",{className:"relative group",children:r.jsxs("div",{className:"flex items-center bg-gray-900 text-gray-100 rounded-lg px-4 py-3 font-mono text-sm shadow-inner",children:[r.jsx("span",{className:"text-gray-500 mr-2 select-none",children:"$"}),r.jsx("span",{className:"flex-1",children:"claude get-token"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText("claude get-token"),m("command"),setTimeout(()=>m(null),2e3)},className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"Copy command",children:p==="command"?r.jsx(Ka,{className:"w-4 h-4 text-green-400"}):r.jsx(Yp,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-300"})})]})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Don't have Claude Code?"," ",r.jsx("a",{href:"https://claude.ai/download",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline font-medium",children:"Install it first"}),", or use the Manual tab."]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"2"}),"Paste Your Token"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"password",value:A,onChange:U=>E(U.target.value),placeholder:"sk-ant-oat01-...",className:`w-full px-4 py-3 pr-12 border rounded-lg font-mono text-sm focus:outline-none focus:ring-2 transition-all ${T.status==="valid"?"border-green-500 focus:ring-green-500 bg-green-50/50":T.status==="invalid"?"border-red-500 focus:ring-red-500 bg-red-50/50":"border-gray-300 focus:ring-indigo-500 bg-white"}`,autoComplete:"off"}),T.status==="validating"&&r.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin"}),T.status==="valid"&&r.jsx(Ql,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"}),T.status==="invalid"&&r.jsx(no,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-red-500"})]}),T.status==="valid"&&r.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center gap-1 animate-in fade-in slide-in-from-top-1 duration-200",children:[r.jsx(Ka,{className:"w-4 h-4"}),"Valid ",T.type==="oauth"?"OAuth":"session"," token detected"]}),T.status==="invalid"&&T.error&&r.jsx("p",{className:"text-sm text-red-600 mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:T.error})]}),T.status==="valid"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in fade-in slide-in-from-top-2 duration-300",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"3"}),"Name Your Account"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),r.jsx("input",{type:"text",value:g,onChange:U=>j(U.target.value),placeholder:"e.g., work-account",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("input",{type:"number",value:v,onChange:U=>w(parseInt(U.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),r.jsx("button",{onClick:B,disabled:P||!g.trim()||T.status!=="valid",className:"w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-all shadow-sm hover:shadow-md",children:P?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):"Connect Account"}),x&&r.jsx("p",{className:"text-sm text-red-600 mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:x})]})]}),n==="manual"&&e!=="success"&&e!=="error"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 text-sm text-indigo-700",children:[r.jsx("strong",{children:"Tip:"})," The Quick Connect tab is faster if you have Claude Code CLI installed."]}),e==="instructions"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"1"}),"Open Claude and Log In"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Open claude.ai in a new tab and make sure you're logged in to your Claude account."}),r.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:["Open claude.ai",r.jsx(AO,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"2"}),"Extract Your Session (Choose One Method)"]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(aL,{className:"w-4 h-4"}),"Option A: Bookmarklet (Recommended)"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"Copy the code below"}),r.jsx("li",{children:"Create a new bookmark in your browser"}),r.jsx("li",{children:"Paste the code as the URL"}),r.jsx("li",{children:"While on claude.ai, click the bookmark"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:l,className:"w-full h-20 p-2 text-xs font-mono bg-white border border-gray-300 rounded resize-none"}),r.jsx("button",{onClick:()=>$("bookmarklet"),className:"absolute top-2 right-2 p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",title:"Copy to clipboard",children:p==="bookmarklet"?r.jsx(Ka,{className:"w-4 h-4 text-green-500"}):r.jsx(Yp,{className:"w-4 h-4 text-gray-500"})})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(kL,{className:"w-4 h-4"}),"Option B: Browser Console"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"On claude.ai, open DevTools (F12 or Cmd+Option+I)"}),r.jsx("li",{children:"Go to the Console tab"}),r.jsx("li",{children:"Paste the code below and press Enter"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:u,className:"w-full h-16 p-2 text-xs font-mono bg-white border border-gray-300 rounded resize-none"}),r.jsx("button",{onClick:()=>$("script"),className:"absolute top-2 right-2 p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",title:"Copy to clipboard",children:p==="script"?r.jsx(Ka,{className:"w-4 h-4 text-green-500"}):r.jsx(Yp,{className:"w-4 h-4 text-gray-500"})})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("button",{onClick:H,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 font-medium shadow-sm hover:shadow-md transition-all",children:"I've Extracted My Session - Continue"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click after running the bookmarklet or console script"})]})]})]}),e==="waiting"&&n==="manual"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Jn,{className:"w-12 h-12 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Waiting for Token..."}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Run the bookmarklet or console script on claude.ai.",r.jsx("br",{}),"This page will update automatically when we receive your session."]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Checking... (",N," attempts)"]})]})}),e==="naming"&&n==="manual"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:r.jsx(Ql,{className:"w-8 h-8 text-green-500"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Token Received!"}),r.jsx("p",{className:"text-gray-600",children:"Now give your account a nickname to identify it."})]}),x&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm animate-in fade-in slide-in-from-top-1 duration-200",children:x}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Nickname"}),r.jsx("input",{type:"text",value:g,onChange:U=>j(U.target.value),placeholder:"e.g., work-account, personal, team-shared",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:v,onChange:U=>w(parseInt(U.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),r.jsx("button",{onClick:V,disabled:P||!g.trim(),className:"w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm hover:shadow-md transition-all",children:P?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4 animate-spin"}),"Creating Account..."]}):"Complete Connection"})]})]}),e==="success"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-500 shadow-lg",children:r.jsx(Ql,{className:"w-12 h-12 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 animate-in fade-in slide-in-from-bottom-2 duration-500",children:"Connected Successfully!"}),r.jsxs("p",{className:"text-gray-600 mb-6 animate-in fade-in slide-in-from-bottom-3 duration-500 delay-100",children:['Your Claude account "',g,'" is now linked to Nubabel.']}),r.jsx("button",{onClick:W,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 shadow-sm hover:shadow-md transition-all animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200",children:window.opener?"Close Window":"Go to Accounts"})]})}),e!=="success"&&r.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Security Note"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Your session token is encrypted and stored securely. Nubabel never sees your Claude password. The token is only used to make API calls on your behalf."})]})]})})}const mre=xj((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:n,pagination:a}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;n.category&&s.set("category",n.category),n.search&&s.set("search",n.search),n.isActive!==null&&s.set("isActive",String(n.isActive)),n.isSkill!==null&&s.set("isSkill",String(n.isSkill)),s.set("limit",String(a.limit)),s.set("offset",String(a.offset));const i=await se({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:i.data,pagination:i.pagination,isLoading:!1})}catch(s){const i=s instanceof Error?s.message:"Failed to fetch workflows";e({error:i,isLoading:!1})}},fetchCategories:async()=>{try{const n=await se({url:"/api/n8n/categories",method:"GET"});e({categories:n})}catch(n){console.error("Failed to fetch categories:",n)}},fetchWorkflowExecutions:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/executions`,method:"GET"});e({executions:a})}catch(a){console.error("Failed to fetch executions:",a)}},createWorkflow:async n=>{e({isLoading:!0,error:null});try{const a=await se({url:"/api/n8n/workflows",method:"POST",data:n});return e(s=>({workflows:[a,...s.workflows],isLoading:!1})),a}catch(a){const s=a instanceof Error?a.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),a}},updateWorkflow:async(n,a)=>{e({isLoading:!0,error:null});try{const s=await se({url:`/api/n8n/workflows/${n}`,method:"PUT",data:a});return e(i=>{var l;return{workflows:i.workflows.map(d=>d.id===n?s:d),selectedWorkflow:((l=i.selectedWorkflow)==null?void 0:l.id)===n?s:i.selectedWorkflow,isLoading:!1}}),s}catch(s){const i=s instanceof Error?s.message:"Failed to update workflow";throw e({error:i,isLoading:!1}),s}},deleteWorkflow:async n=>{e({isLoading:!0,error:null});try{await se({url:`/api/n8n/workflows/${n}`,method:"DELETE"}),e(a=>{var s;return{workflows:a.workflows.filter(i=>i.id!==n),selectedWorkflow:((s=a.selectedWorkflow)==null?void 0:s.id)===n?null:a.selectedWorkflow,isLoading:!1}})}catch(a){const s=a instanceof Error?a.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),a}},executeWorkflow:async(n,a)=>{e({isExecuting:!0,error:null});try{const s=await se({url:`/api/n8n/workflows/${n}/execute`,method:"POST",data:{inputData:a}});return e(i=>({executions:[s,...i.executions],isExecuting:!1})),s}catch(s){const i=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:i,isExecuting:!1}),s}},activateWorkflow:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to activate workflow";throw e({error:s}),a}},deactivateWorkflow:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to deactivate workflow";throw e({error:s}),a}},setFilters:n=>{e(a=>({filters:{...a.filters,...n},pagination:{...a.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:n=>{e({viewMode:n})},setSelectedWorkflow:n=>{e({selectedWorkflow:n,executions:[]}),n&&t().fetchWorkflowExecutions(n.id)},setPage:n=>{e(a=>({pagination:{...a.pagination,offset:n}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),p3=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function x3(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function pre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(d=>r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:d},d)),e.tags.length>3&&r.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function xre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),r.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function g3({isOpen:e,onClose:t,onSubmit:n,initialData:a,title:s,isLoading:i}){const[l,d]=b.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:p3,isActive:!1}),[u,h]=b.useState(null);b.useEffect(()=>{d(a?{name:a.name,description:a.description||"",category:a.category,tags:a.tags.join(", "),workflowJson:JSON.stringify(a.workflowJson,null,2),isActive:a.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:p3,isActive:!1}),h(null)},[a,e]);const p=g=>{d(v=>({...v,workflowJson:g}));const j=x3(g);h(j.valid?null:j.error??null)},m=()=>{const g=x3(l.workflowJson);if(!g.valid){h(g.error??"Invalid JSON");return}n(l)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:g=>g.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),r.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:l.name,onChange:g=>d(j=>({...j,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:g=>d(j=>({...j,description:g.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:l.category,onChange:g=>d(j=>({...j,category:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),r.jsx("input",{type:"text",value:l.tags,onChange:g=>d(j=>({...j,tags:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:g=>d(j=>({...j,isActive:g.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),r.jsx("textarea",{value:l.workflowJson,onChange:g=>p(g.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),u&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:i||!l.name||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":a?"Update":"Create"})]})]})}):null}function gre({isOpen:e,onClose:t,onExecute:n,workflowName:a,isExecuting:s}){const[i,l]=b.useState("{}"),[d,u]=b.useState(null),h=m=>{l(m);try{JSON.parse(m),u(null)}catch{u("Invalid JSON")}},p=()=>{try{const m=JSON.parse(i);n(m)}catch{u("Invalid JSON")}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",a]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:m=>h(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),d&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:s||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function yre({isOpen:e,onClose:t,onConfirm:n,workflowName:a,isLoading:s}){return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",r.jsx("strong",{children:a}),"? This action cannot be undone."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:n,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function vre({workflow:e,executions:t,onClose:n}){const a=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):r.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(s.status)}`,children:s.status}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function bre(){const{workflows:e,categories:t,executions:n,isLoading:a,isExecuting:s,error:i,viewMode:l,filters:d,pagination:u,fetchWorkflows:h,fetchCategories:p,createWorkflow:m,updateWorkflow:g,deleteWorkflow:j,executeWorkflow:v,activateWorkflow:w,deactivateWorkflow:x,setFilters:S,setViewMode:P,setSelectedWorkflow:O,setPage:N,clearError:C}=mre(),[A,E]=b.useState(!1),[T,R]=b.useState(null),[I,M]=b.useState(null),[$,H]=b.useState(null),[V,q]=b.useState(null);b.useEffect(()=>{h(),p()},[h,p]);const B=b.useCallback(async te=>{const ue={name:te.name,description:te.description||void 0,category:te.category,tags:te.tags.split(",").map(xe=>xe.trim()).filter(Boolean),workflowJson:JSON.parse(te.workflowJson),isActive:te.isActive};await m(ue),E(!1)},[m]),W=b.useCallback(async te=>{if(!T)return;const ue={name:te.name,description:te.description||void 0,category:te.category,tags:te.tags.split(",").map(xe=>xe.trim()).filter(Boolean),workflowJson:JSON.parse(te.workflowJson),isActive:te.isActive};await g(T.id,ue),R(null)},[T,g]),U=b.useCallback(async()=>{$&&(await j($.id),H(null))},[$,j]),Q=b.useCallback(async te=>{I&&(await v(I.id,te),M(null))},[I,v]),z=b.useCallback(async te=>{te.isActive?await x(te.id):await w(te.id)},[w,x]),F=b.useCallback(te=>{O(te),q(te)},[O]),D=Math.ceil(u.total/u.limit),G=Math.floor(u.offset/u.limit)+1;return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[r.jsx("span",{children:i}),r.jsx("button",{onClick:C,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsx("input",{type:"text",value:d.search,onChange:te=>S({search:te.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:d.category,onChange:te=>S({category:te.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Categories"}),t.map(te=>r.jsxs("option",{value:te.name,children:[te.name," (",te.count,")"]},te.name))]}),r.jsxs("select",{value:d.isActive===null?"":String(d.isActive),onChange:te=>S({isActive:te.target.value===""?null:te.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]}),r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>P("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),r.jsx("button",{onClick:()=>P("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),a?r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:d.search||d.category||d.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!d.search&&!d.category&&d.isActive===null&&r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(te=>r.jsx(pre,{workflow:te,onView:()=>F(te),onEdit:()=>R(te),onDelete:()=>H(te),onExecute:()=>M(te),onToggleActive:()=>z(te)},te.id))}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(te=>r.jsx(xre,{workflow:te,onView:()=>F(te),onEdit:()=>R(te),onDelete:()=>H(te),onExecute:()=>M(te),onToggleActive:()=>z(te)},te.id))}),D>1&&r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",u.offset+1,"-",Math.min(u.offset+u.limit,u.total)," of ",u.total]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>N(Math.max(0,u.offset-u.limit)),disabled:u.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",G," of ",D]}),r.jsx("button",{onClick:()=>N(u.offset+u.limit),disabled:G>=D,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),r.jsx(g3,{isOpen:A,onClose:()=>E(!1),onSubmit:B,title:"Create Workflow",isLoading:a}),r.jsx(g3,{isOpen:!!T,onClose:()=>R(null),onSubmit:W,initialData:T??void 0,title:"Edit Workflow",isLoading:a}),r.jsx(gre,{isOpen:!!I,onClose:()=>M(null),onExecute:Q,workflowName:(I==null?void 0:I.name)??"",isExecuting:s}),r.jsx(yre,{isOpen:!!$,onClose:()=>H(null),onConfirm:U,workflowName:($==null?void 0:$.name)??"",isLoading:a}),V&&r.jsx(vre,{workflow:V,executions:n,onClose:()=>{q(null),O(null)}})]})}function jre(){const[e,t]=b.useState({active:0,queued:0,completedToday:0,failedToday:0}),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),v=b.useCallback(async()=>{try{j(null);const[T,R,I,M]=await Promise.all([se({url:"/api/code-operations/stats",method:"GET"}),se({url:"/api/code-operations/active",method:"GET"}),se({url:"/api/code-operations/pending-approval",method:"GET"}),se({url:"/api/code-operations/history?limit=20",method:"GET"})]);t(T),a(R),i(I),d(M)}catch(T){console.error("Failed to fetch agent operations:",T),j("Failed to fetch data. Please try again.")}},[]);b.useEffect(()=>{v();const T=setInterval(v,5e3);return()=>clearInterval(T)},[v]);const w=async()=>{m(!0),await v(),setTimeout(()=>m(!1),500)},x=async T=>{try{await se({url:`/api/code-operations/${T}/approve`,method:"POST"}),i(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to approve:",R)}},S=async T=>{try{await se({url:`/api/code-operations/${T}/reject`,method:"POST",data:{reason:"Rejected via UI"}}),i(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to reject:",R)}},P=async T=>{try{await se({url:`/api/code-operations/${T}/cancel`,method:"POST"}),a(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to cancel:",R)}},O=T=>{const R=Math.floor(T/1e3),I=Math.floor(R/60);return I>0?`${I}m ${R%60}s`:`${R}s`},N=T=>O(Date.now()-new Date(T).getTime()),C=T=>{const R={debug:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",implement:"bg-purple-500/10 text-purple-400 border-purple-500/30",fix:"bg-orange-500/10 text-orange-400 border-orange-500/30",refactor:"bg-blue-500/10 text-blue-400 border-blue-500/30",test:"bg-green-500/10 text-green-400 border-green-500/30"};return R[T]||R.debug},A=T=>{const R={queued:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-slate-700 text-slate-300 border border-slate-600",children:"QUEUED"}),analyzing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-blue-500/20 text-blue-300 border border-blue-500/50 animate-pulse",children:"ANALYZING"}),executing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-blue-500/20 text-blue-300 border border-blue-500/50 animate-pulse",children:"EXECUTING"}),testing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 animate-pulse",children:"TESTING"}),committing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-purple-500/20 text-purple-300 border border-purple-500/50 animate-pulse",children:"COMMITTING"}),completed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-green-500/20 text-green-300 border border-green-500/50",children:"COMPLETE"}),failed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-red-500/20 text-red-300 border border-red-500/50",children:"FAILED"}),cancelled:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-slate-500/20 text-slate-300 border border-slate-500/50",children:"CANCELLED"})};return R[T]||R.queued},E=T=>["analyzing","executing","testing","committing"].includes(T);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem] opacity-20"}),r.jsxs("div",{className:"relative max-w-[1800px] mx-auto px-8 py-10",children:[r.jsxs("div",{className:"mb-10",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:"AGENT OPERATIONS"}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"})]}),r.jsx("p",{className:"text-slate-400 text-lg font-mono",children:"Monitor and manage autonomous code changes in real-time"})]}),r.jsxs("button",{onClick:w,disabled:p,className:"px-5 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg border border-slate-700 transition-all disabled:opacity-50 font-mono text-sm flex items-center gap-2",children:[r.jsx("svg",{className:`w-4 h-4 ${p?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),p?"REFRESHING...":"REFRESH"]})]}),g&&r.jsx("div",{className:"mt-4 px-4 py-2 bg-red-900/30 border border-red-700 rounded-lg text-red-300 text-sm font-mono",children:g})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-10",children:[r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Active"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:r.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-400 animate-pulse"})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.active}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"operations running"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Queued"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-slate-700 flex items-center justify-center",children:r.jsxs("svg",{className:"w-5 h-5 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.queued}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"waiting to execute"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Completed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.completedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Failed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.failedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xl:col-span-2",children:[r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Active Operations"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Operation ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Elapsed"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"text-slate-500 font-mono text-sm",children:"No active operations"})})}):n.map(T=>r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:T.id.slice(0,8)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${C(T.operationType)}`,children:T.operationType})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:T.description})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A(T.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:T.startedAt?N(T.startedAt):N(T.createdAt)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1.5 text-xs font-mono bg-slate-800 hover:bg-slate-700 text-slate-300 rounded border border-slate-600 transition-colors",children:"View"}),E(T.status)&&r.jsx("button",{onClick:()=>P(T.id),className:"px-3 py-1.5 text-xs font-mono bg-red-900/30 hover:bg-red-900/50 text-red-300 rounded border border-red-700 transition-colors",children:"Cancel"})]})})]},T.id))})]})})]}),r.jsxs("div",{className:"mt-8 bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Recent History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Files"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"PR"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:l.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"text-slate-500 font-mono text-sm",children:"No operations yet"})})}):l.map(T=>{var R;return r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:T.id.slice(0,8)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${C(T.operationType)}`,children:T.operationType})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:T.description}),T.errorMessage&&r.jsx("div",{className:"text-xs text-red-400 mt-1 font-mono",children:T.errorMessage})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:((R=T.filesModified)==null?void 0:R.length)||0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A(T.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.prUrl?r.jsx("a",{href:T.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm font-mono underline",children:"View PR"}):r.jsx("span",{className:"text-slate-600",children:"-"})})]},T.id)})})]})})]})]}),r.jsx("div",{className:"xl:col-span-1",children:r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden sticky top-6",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Approval Queue"}),r.jsxs("span",{className:"px-2.5 py-1 bg-amber-500/20 text-amber-300 border border-amber-500/50 rounded-md text-xs font-mono font-semibold",children:[s.length," PENDING"]})]})}),r.jsx("div",{className:"p-6 space-y-4 max-h-[800px] overflow-y-auto",children:s.length===0?r.jsx("div",{className:"text-center py-12 text-slate-500 font-mono text-sm",children:"No pending approvals"}):s.map(T=>{var R;return r.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-5 hover:border-slate-600 transition-colors",children:[r.jsx("div",{className:"mb-3",children:T.prUrl?r.jsxs("a",{href:T.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-sm font-semibold underline",children:["PR #",T.prUrl.split("/").pop()]}):r.jsxs("span",{className:"font-mono text-sm font-semibold text-slate-300",children:["Operation ",T.id.slice(0,8)]})}),r.jsx("div",{className:"text-sm text-slate-200 mb-4",children:T.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"Files"}),r.jsx("div",{className:"text-lg font-bold text-white",children:((R=T.filesModified)==null?void 0:R.length)||0})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"Iterations"}),r.jsx("div",{className:"text-lg font-bold text-white",children:T.iterations||0})]})]}),T.filesModified&&T.filesModified.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("button",{onClick:()=>h(u===T.id?null:T.id),className:"text-xs text-slate-400 hover:text-slate-200 font-mono mb-2 flex items-center gap-1",children:[r.jsx("svg",{className:`w-3 h-3 transition-transform ${u===T.id?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),u===T.id?"Hide":"Show"," files (",T.filesModified.length,")"]}),u===T.id&&r.jsx("ul",{className:"bg-slate-950 border border-slate-700 rounded p-3 text-xs font-mono text-slate-300",children:T.filesModified.map((I,M)=>r.jsx("li",{className:"py-0.5",children:I},M))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>x(T.id),className:"flex-1 px-4 py-2.5 bg-green-600 hover:bg-green-500 text-white rounded-lg font-mono text-sm font-semibold transition-colors",children:"APPROVE"}),r.jsx("button",{onClick:()=>S(T.id),className:"px-4 py-2.5 bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-600 rounded-lg font-mono text-sm transition-colors",children:"REJECT"})]})]},T.id)})})]})})]})]})]})}const wre=xj((e,t)=>({instances:[],availableOrgs:[],isLoading:!1,error:null,fetchInstances:async()=>{e({isLoading:!0,error:null});try{const n=await se({url:"/api/admin/n8n-instances",method:"GET"});e({instances:n.data,isLoading:!1})}catch(n){e({error:n.message,isLoading:!1})}},fetchAvailableOrgs:async()=>{try{const n=await se({url:"/api/admin/n8n-instances/organizations/available",method:"GET"});e({availableOrgs:n.data})}catch(n){console.error("Failed to fetch available orgs:",n)}},provisionInstance:async n=>{try{return await se({url:"/api/admin/n8n-instances",method:"POST",data:{organizationId:n}}),await t().fetchInstances(),await t().fetchAvailableOrgs(),!0}catch(a){return e({error:a.message}),!1}},performHealthCheck:async n=>{try{const a=await se({url:`/api/admin/n8n-instances/${n}/health-check`,method:"POST"});return await t().fetchInstances(),a.healthy}catch(a){return e({error:a.message}),!1}},stopInstance:async n=>{try{return await se({url:`/api/admin/n8n-instances/${n}/stop`,method:"POST"}),await t().fetchInstances(),!0}catch(a){return e({error:a.message}),!1}},deleteInstance:async n=>{try{return await se({url:`/api/admin/n8n-instances/${n}`,method:"DELETE"}),await t().fetchInstances(),await t().fetchAvailableOrgs(),!0}catch(a){return e({error:a.message}),!1}}}));function Nre(){const{instances:e,availableOrgs:t,isLoading:n,error:a,fetchInstances:s,fetchAvailableOrgs:i,provisionInstance:l,performHealthCheck:d,stopInstance:u,deleteInstance:h}=wre(),[p,m]=b.useState(!1),[g,j]=b.useState(""),[v,w]=b.useState(!1);b.useEffect(()=>{s(),i()},[s,i]);const x=async()=>{if(!g)return;w(!0);const A=await l(g);w(!1),A&&(m(!1),j(""))},S=async(A,E)=>{const T=await d(A);alert(T?`Health check passed for ${E}`:`Health check failed for ${E}`)},P=async(A,E)=>{if(!confirm(`Are you sure you want to stop the n8n instance for ${E}?`))return;await u(A)&&alert(`Successfully stopped instance for ${E}`)},O=async(A,E)=>{if(!confirm(`Are you sure you want to DELETE the n8n instance for ${E}? This will remove all workflows and cannot be undone.`))return;await h(A)&&alert(`Successfully deleted instance for ${E}`)},N=A=>{switch(A.toLowerCase()){case"active":case"running":return"bg-green-100 text-green-800";case"stopped":return"bg-gray-100 text-gray-800";case"failed":case"error":return"bg-red-100 text-red-800";case"provisioning":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}},C=A=>A?new Date(A).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return a?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:a}),r.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"N8n Instances"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage n8n workflow automation instances"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," instances"]}),r.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"Provision New Instance"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Container URL"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflows"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Health Check"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No n8n instances found. Provision a new instance to get started."})}):e.map(A=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:A.organization.name}),r.jsx("div",{className:"text-sm text-gray-500",children:A.organization.slug})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("a",{href:A.containerUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900 hover:underline text-sm break-all",children:A.containerUrl})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${N(A.status)}`,children:A.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A._count.workflows}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(A.lastHealthCheck)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>S(A.id,A.organization.name),className:"text-blue-600 hover:text-blue-900 font-medium",children:"Health Check"}),r.jsx("button",{onClick:()=>P(A.id,A.organization.name),className:"text-yellow-600 hover:text-yellow-900 font-medium",children:"Stop"}),r.jsx("button",{onClick:()=>O(A.id,A.organization.name),className:"text-red-600 hover:text-red-900 font-medium",children:"Delete"})]})})]},A.id))})]})})}),p&&r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Provision New N8n Instance"}),t.length===0?r.jsx("div",{className:"text-gray-600 mb-6",children:"All organizations already have n8n instances provisioned."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"org-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Organization"}),r.jsxs("select",{id:"org-select",value:g,onChange:A=>j(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose an organization..."}),t.map(A=>r.jsxs("option",{value:A.id,children:[A.name," (",A.slug,")"]},A.id))]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{m(!1),j("")},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:v,children:"Cancel"}),r.jsx("button",{onClick:x,disabled:!g||v,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Provisioning...":"Provision"})]})]}),t.length===0&&r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Close"})})]})})]})}const Sre={blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",yellow:"bg-yellow-50 border-yellow-200 text-yellow-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600",gray:"bg-gray-50 border-gray-200 text-gray-600"},kre={blue:"text-blue-500",green:"text-green-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",gray:"text-gray-500"};function Va({title:e,value:t,icon:n,description:a,trend:s="neutral",change:i,color:l="blue",onClick:d}){const[u,h]=b.useState(0);b.useEffect(()=>{if(typeof t!="number")return;const g=800,j=Date.now(),v=()=>{const w=Date.now()-j,x=Math.min(w/g,1),S=1-Math.pow(1-x,3);h(Math.round(S*t)),x<1&&requestAnimationFrame(v)};v()},[t]);const p={up:"text-green-600",down:"text-red-600",neutral:"text-gray-500"},m={up:"",down:"",neutral:""};return r.jsx("div",{className:`
        bg-white rounded-xl shadow-sm border p-5
        transition-all duration-200
        ${d?"cursor-pointer hover:shadow-md hover:scale-[1.02]":""}
      `,onClick:d,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:typeof t=="number"?u.toLocaleString():t}),a&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a}),i!==void 0&&r.jsxs("p",{className:`text-sm mt-2 ${p[s]}`,children:[m[s]," ",i>0?"+":"",i,"% from last period"]})]}),r.jsx("div",{className:`p-3 rounded-lg ${Sre[l]}`,children:r.jsx("span",{className:kre[l],children:n})})]})})}function Cre(e){return e>=.9?{label:"Critical",color:"bg-red-500",bgColor:"bg-red-100"}:e>=.8?{label:"High",color:"bg-orange-500",bgColor:"bg-orange-100"}:e>=.6?{label:"Normal",color:"bg-green-500",bgColor:"bg-green-100"}:e>=.3?{label:"Low",color:"bg-blue-500",bgColor:"bg-blue-100"}:{label:"Idle",color:"bg-gray-400",bgColor:"bg-gray-100"}}const Are={sm:"h-1.5",md:"h-2.5",lg:"h-4"};function qc({workload:e,size:t="md",showPercentage:n=!1,showStatus:a=!1}){const s=Cre(e),i=Math.round(e*100);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`flex-1 ${s.bgColor} rounded-full overflow-hidden ${Are[t]}`,children:r.jsx("div",{className:`${s.color} h-full rounded-full transition-all duration-500`,style:{width:`${i}%`}})}),n&&r.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12 text-right",children:[i,"%"]})]}),a&&r.jsx("span",{className:`text-xs mt-1 inline-block ${s.label==="Critical"?"text-red-600":s.label==="High"?"text-orange-600":s.label==="Normal"?"text-green-600":s.label==="Low"?"text-blue-600":"text-gray-500"}`,children:s.label})]})}const Pre={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500",icon:"",label:"Critical"},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",iconColor:"text-orange-500",icon:"",label:"High"},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-500",icon:"",label:"Medium"},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500",icon:"",label:"Low"}};function Ore({issue:e,onAction:t,compact:n=!1}){const a=Pre[e.severity];return n?r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg border
          ${a.bgColor} ${a.borderColor}
        `,children:[r.jsx("span",{children:a.icon}),r.jsx("span",{className:`text-sm font-medium ${a.textColor}`,children:e.title})]}):r.jsx("div",{className:`
        rounded-lg border p-4
        ${a.bgColor} ${a.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold uppercase ${a.iconColor}`,children:a.label}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.detectedAt).toLocaleString()})]}),r.jsx("h4",{className:`font-semibold ${a.textColor}`,children:e.title}),r.jsx("p",{className:`text-sm mt-1 ${a.textColor} opacity-80`,children:e.description}),e.affectedAgents.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Affected: "}),r.jsx("span",{className:"text-xs font-medium",children:e.affectedAgents.join(", ")})]}),e.suggestedActions.length>0&&r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Suggested Actions:"}),r.jsx("ul",{className:"space-y-1",children:e.suggestedActions.map((s,i)=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:t?"cursor-pointer hover:underline":"",onClick:()=>t==null?void 0:t(s),children:s})]},i))})]})]})]})})}const Ere={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",icon:""},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",badgeColor:"bg-orange-100 text-orange-700",icon:""},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badgeColor:"bg-yellow-100 text-yellow-700",icon:""},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",badgeColor:"bg-blue-100 text-blue-700",icon:""}},_re={template:"Template",team_composition:"Team",position:"Position",skill_development:"Skills",resource_allocation:"Resources",structure_optimization:"Structure"};function Tre({recommendation:e,onAction:t}){const n=Ere[e.priority];return r.jsx("div",{className:`
        rounded-lg border p-4
        ${n.bgColor} ${n.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:n.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${n.badgeColor}`,children:e.priority.toUpperCase()}),r.jsx("span",{className:"text-xs text-gray-500 px-2 py-0.5 bg-white rounded",children:_re[e.type]||e.type})]}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.estimatedImpact&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expected Impact: ",e.estimatedImpact]}),e.actions.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map((a,s)=>r.jsx("button",{onClick:()=>t==null?void 0:t(a.action,a.params),className:`
                    px-3 py-1.5 text-sm font-medium rounded-md
                    bg-white border border-gray-200 text-gray-700
                    hover:bg-gray-50 hover:border-gray-300
                    transition-colors
                  `,children:a.label},s))})]})]})})}function kw(e){return Et({queryKey:["ar","departments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/departments?${t.toString()}`,method:"GET"})}})}function Rre(){const e=xt();return Ct({mutationFn:async t=>se({url:"/api/ar/departments",method:"POST",data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function Mre(){const e=xt();return Ct({mutationFn:async({id:t,...n})=>se({url:`/api/ar/departments/${t}`,method:"PATCH",data:n}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function Ire(){const e=xt();return Ct({mutationFn:async t=>se({url:`/api/ar/departments/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function $re(){const e=xt();return Ct({mutationFn:async({id:t,budgetCents:n})=>se({url:`/api/ar/departments/${t}/budget`,method:"PATCH",data:{budgetCents:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function Cw(e){return Et({queryKey:["ar","positions",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/positions?${t.toString()}`,method:"GET"})}})}function Lre(){const e=xt();return Ct({mutationFn:async t=>se({url:`/api/ar/positions/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","positions"]})}})}function eT(e){return Et({queryKey:["ar","assignments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.positionId&&t.set("positionId",e.positionId),e!=null&&e.agentId&&t.set("agentId",e.agentId),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/assignments?${t.toString()}`,method:"GET"})}})}function Dre(){const e=xt();return Ct({mutationFn:async({id:t,status:n})=>se({url:`/api/ar/assignments/${t}/status`,method:"PATCH",data:{status:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","assignments",n.id]})}})}function Fre(){const e=xt();return Ct({mutationFn:async({id:t,reason:n})=>se({url:`/api/ar/assignments/${t}/terminate`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","positions"]})}})}function zre(e){return Et({queryKey:["ar","approvals",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.requestType&&t.set("requestType",e.requestType),e!=null&&e.level&&t.set("level",String(e.level)),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/approvals?${t.toString()}`,method:"GET"})}})}function qre(){return Et({queryKey:["ar","approvals","pending"],queryFn:async()=>se({url:"/api/ar/approvals?status=pending",method:"GET"})})}function Bre(){const e=xt();return Ct({mutationFn:async({id:t,note:n})=>se({url:`/api/ar/approvals/${t}/approve`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Ure(){const e=xt();return Ct({mutationFn:async({id:t,note:n})=>se({url:`/api/ar/approvals/${t}/reject`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Wre(){const e=xt();return Ct({mutationFn:async({id:t,reason:n})=>se({url:`/api/ar/approvals/${t}/escalate`,method:"POST",data:{reason:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function tT(){return Et({queryKey:["ar","workload"],queryFn:async()=>se({url:"/api/ar/coordination/workload",method:"GET"}),refetchInterval:3e4})}function Hre(){return Et({queryKey:["ar","workload","proposals"],queryFn:async()=>se({url:"/api/ar/coordination/workload/proposals",method:"GET"})})}function Kre(){const e=xt();return Ct({mutationFn:async(t="manual")=>se({url:"/api/ar/coordination/workload/rebalance",method:"POST",data:{trigger:t}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload","proposals"]})}})}function Gre(){const e=xt();return Ct({mutationFn:async({proposalId:t,partial:n,changeIds:a})=>se({url:"/api/ar/coordination/workload/apply",method:"POST",data:{proposalId:t,partial:n,changeIds:a}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload"]}),e.invalidateQueries({queryKey:["ar","workload","proposals"]}),e.invalidateQueries({queryKey:["ar","assignments"]})}})}function Vre(e=30){return Et({queryKey:["ar","analytics","report",e],queryFn:async()=>se({url:`/api/ar/analytics/report?periodDays=${e}`,method:"GET"})})}function Qre(){return Et({queryKey:["ar","analytics","health"],queryFn:async()=>se({url:"/api/ar/analytics/ops/health",method:"GET"}),refetchInterval:6e4})}function Yre(){return Et({queryKey:["ar","analytics","coaching"],queryFn:async()=>se({url:"/api/ar/analytics/coaching/needs",method:"GET"})})}function Xre(){return Et({queryKey:["ar","analytics","recommendations"],queryFn:async()=>se({url:"/api/ar/analytics/recommendations",method:"GET"})})}function Jre(){return Et({queryKey:["ar","issues"],queryFn:async()=>se({url:"/api/ar/coordination/issues",method:"GET"}),refetchInterval:3e4})}function Zre(){var w,x,S,P,O,N,C,A,E,T;const{data:e,isLoading:t}=kw({status:"active"}),{data:n,isLoading:a}=Cw({status:"active"}),{data:s,isLoading:i}=eT({status:"active"}),{data:l,isLoading:d}=qre(),{data:u,isLoading:h}=tT(),{data:p,isLoading:m}=Jre(),{data:g,isLoading:j}=Xre(),v=t||a||i||d;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AR Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent Resource Management Overview"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(ht,{to:"/ar/departments",children:r.jsx(Va,{title:"Departments",value:((w=e==null?void 0:e.departments)==null?void 0:w.length)??0,icon:r.jsx(iI,{className:"h-6 w-6"}),color:"blue",description:"Active departments"})}),r.jsx(ht,{to:"/ar/positions",children:r.jsx(Va,{title:"Positions",value:((x=n==null?void 0:n.positions)==null?void 0:x.length)??0,icon:r.jsx(Nv,{className:"h-6 w-6"}),color:"green",description:"Total positions"})}),r.jsx(ht,{to:"/ar/assignments",children:r.jsx(Va,{title:"Assignments",value:((S=s==null?void 0:s.assignments)==null?void 0:S.length)??0,icon:r.jsx(Qu,{className:"h-6 w-6"}),color:"purple",description:"Active assignments"})}),r.jsx(ht,{to:"/ar/approvals",children:r.jsx(Va,{title:"Pending Approvals",value:((P=l==null?void 0:l.requests)==null?void 0:P.length)??0,icon:r.jsx(Sv,{className:"h-6 w-6"}),color:(O=l==null?void 0:l.requests)!=null&&O.length?"yellow":"gray",description:"Awaiting action"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Workload Distribution"}),r.jsxs(ht,{to:"/ar/workload",className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:["View All ",r.jsx(tI,{className:"h-4 w-4"})]})]}),h?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(R=>r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2.5 bg-gray-100 rounded w-full"})]},R))}):(N=u==null?void 0:u.snapshots)!=null&&N.length?r.jsxs("div",{className:"space-y-4",children:[u.snapshots.slice(0,6).map(R=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.agentName}),r.jsx("span",{className:`text-xs font-medium ${R.status==="overloaded"?"text-red-600":R.status==="underutilized"?"text-yellow-600":"text-green-600"}`,children:R.status})]}),r.jsx(qc,{workload:R.currentWorkload,showPercentage:!0})]},R.agentId)),u.stats&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(u.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Workload"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:u.stats.overloaded}),r.jsx("p",{className:"text-xs text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.stats.underutilized}),r.jsx("p",{className:"text-xs text-gray-500",children:"Underutilized"})]})]})})]}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Issues"}),(((C=p==null?void 0:p.summary)==null?void 0:C.total)??0)>0&&r.jsx("span",{className:"bg-red-100 text-red-700 text-xs font-medium px-2 py-0.5 rounded-full",children:(A=p==null?void 0:p.summary)==null?void 0:A.total})]})}),m?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},R))}):(E=p==null?void 0:p.issues)!=null&&E.length?r.jsx("div",{className:"space-y-3",children:p.issues.slice(0,4).map(R=>r.jsx(Ore,{issue:R,compact:!0},R.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(bI,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No issues detected"}),r.jsx("p",{className:"text-xs text-gray-400",children:"All systems operating normally"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommendations"})}),j?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},R))}):(T=g==null?void 0:g.recommendations)!=null&&T.length?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.recommendations.slice(0,4).map(R=>r.jsx(Tre,{recommendation:R,onAction:(I,M)=>{console.log("Action triggered:",I,M)}},R.id))}):r.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No recommendations at this time"})]})]})}function ene({departments:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(""),[h,p]=b.useState("active"),[m,g]=b.useState(0),[j,v]=b.useState(null),w=Rre(),x=async S=>{if(S.preventDefault(),v(null),!a.trim()){v("Department name is required");return}try{await w.mutateAsync({name:a.trim(),description:i.trim()||void 0,parentId:d||void 0,status:h,metadata:{budgetCents:m}}),n()}catch(P){v(P instanceof Error?P.message:"Failed to create department")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Department"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(uj,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:j}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:a,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Engineering",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:i,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Product development department",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),e.map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:m/100,onChange:S=>g(Math.round(parseFloat(S.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w.isPending?"Creating...":"Create Department"})]})]})]})})}function tne({department:e,departments:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(e.name),[l,d]=b.useState(e.description||""),[u,h]=b.useState(e.parentId||""),[p,m]=b.useState(e.status),[g,j]=b.useState(e.budgetCents),[v,w]=b.useState(null),x=Mre(),S=$re(),P=async A=>{if(A.preventDefault(),w(null),!s.trim()){w("Department name is required");return}try{await x.mutateAsync({id:e.id,name:s.trim(),description:l.trim()||null,parentId:u||null,status:p}),g!==e.budgetCents&&await S.mutateAsync({id:e.id,budgetCents:g}),a()}catch(E){w(E instanceof Error?E.message:"Failed to update department")}},O=A=>{const E=t.filter(T=>T.parentId===A);return[A,...E.flatMap(T=>O(T.id))]},N=new Set(O(e.id)),C=t.filter(A=>!N.has(A.id));return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Department"}),r.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(uj,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:P,className:"p-4 space-y-4",children:[v&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:v}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:u,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),C.map(A=>r.jsx("option",{value:A.id,children:A.name},A.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:p,onChange:A=>m(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:g/100,onChange:A=>j(Math.round(parseFloat(A.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:x.isPending||S.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:x.isPending||S.isPending?"Saving...":"Save Changes"})]})]})]})})}function rT({department:e,allDepartments:t,level:n,selectedId:a,onSelect:s,onEdit:i,onDelete:l}){const[d,u]=b.useState(!0),h=t.filter(g=>g.parentId===e.id),p=h.length>0,m=a===e.id;return r.jsxs("div",{children:[r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer
          transition-colors group
          ${m?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50"}
        `,style:{paddingLeft:`${n*20+12}px`},onClick:()=>s(e.id),children:[p?r.jsx("button",{onClick:g=>{g.stopPropagation(),u(!d)},className:"p-0.5 hover:bg-gray-200 rounded",children:d?r.jsx(hI,{className:"h-4 w-4 text-gray-500"}):r.jsx(mI,{className:"h-4 w-4 text-gray-500"})}):r.jsx("span",{className:"w-5"}),d?r.jsx(wI,{className:"h-5 w-5 text-indigo-500"}):r.jsx(kv,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`flex-1 font-medium ${m?"text-indigo-700":"text-gray-700"}`,children:e.name}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.status==="active"?"bg-green-100 text-green-700":e.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:e.status}),r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[r.jsx("button",{onClick:g=>{g.stopPropagation(),i(e)},className:"p-1 hover:bg-gray-200 rounded",title:"Edit",children:r.jsx(Gu,{className:"h-4 w-4 text-gray-500"})}),r.jsx("button",{onClick:g=>{g.stopPropagation(),confirm(`Delete ${e.name}?`)&&l(e.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete",children:r.jsx(Vu,{className:"h-4 w-4 text-red-500"})})]})]}),d&&p&&r.jsx("div",{children:h.map(g=>r.jsx(rT,{department:g,allDepartments:t,level:n+1,selectedId:a,onSelect:s,onEdit:i,onDelete:l},g.id))})]})}function rne(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState(null),[l,d]=b.useState(!1),[u,h]=b.useState(null),{data:p,isLoading:m,refetch:g}=kw({status:n==="all"?void 0:n,search:e||void 0}),j=Ire(),v=(p==null?void 0:p.departments)??[],w=v.filter(O=>!O.parentId),x=v.find(O=>O.id===s),S=async O=>{try{await j.mutateAsync(O),s===O&&i(null)}catch(N){console.error("Failed to delete department:",N)}},P=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O/100);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Departments"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization's department structure"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Department"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(dj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search departments...",value:e,onChange:O=>t(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Tree"}),m?r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(O=>r.jsxs("div",{className:"animate-pulse flex items-center gap-2 p-2",children:[r.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},O))}):w.length>0?r.jsx("div",{className:"space-y-1",children:w.map(O=>r.jsx(rT,{department:O,allDepartments:v,level:0,selectedId:s,onSelect:i,onEdit:h,onDelete:S},O.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(kv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No departments found"}),r.jsx("button",{onClick:()=>d(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first department"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),x?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("p",{className:"text-gray-900 font-medium",children:x.name})]}),x.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:x.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("p",{className:`inline-block px-2 py-0.5 rounded text-sm font-medium ${x.status==="active"?"bg-green-100 text-green-700":x.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:x.status})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("p",{className:"text-gray-900 font-medium",children:P(x.budgetCents)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub-departments"}),r.jsx("p",{className:"text-gray-700",children:v.filter(O=>O.parentId===x.id).length})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"text-gray-700 text-sm",children:new Date(x.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>h(x),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Gu,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${x.name}?`)&&S(x.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(kv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a department to view details"})]})]})]}),l&&r.jsx(ene,{departments:v,onClose:()=>d(!1),onSuccess:()=>{d(!1),g()}}),u&&r.jsx(tne,{department:u,departments:v.filter(O=>O.id!==u.id),onClose:()=>h(null),onSuccess:()=>{h(null),g()}})]})}const nne={beginner:"bg-gray-100 text-gray-700",intermediate:"bg-blue-100 text-blue-700",advanced:"bg-purple-100 text-purple-700",expert:"bg-orange-100 text-orange-700"};function ane(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(null),{data:g}=kw({status:"active"}),{data:j,isLoading:v}=Cw({status:n==="all"?void 0:n,departmentId:s==="all"?void 0:s,search:e||void 0}),w=Lre(),x=(j==null?void 0:j.positions)??[],S=(g==null?void 0:g.departments)??[],P=x.find(C=>C.id===l),O=C=>{var A;return((A=S.find(E=>E.id===C))==null?void 0:A.name)??"Unknown"},N=async C=>{try{await w.mutateAsync(C),l===C&&d(null)}catch(A){console.error("Failed to delete position:",A)}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Positions"}),r.jsx("p",{className:"text-gray-600",children:"Define roles and skill requirements for agents"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Position"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(dj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search positions...",value:e,onChange:C=>t(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:s,onChange:C=>i(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Departments"}),S.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]}),r.jsxs("select",{value:n,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?Array.from({length:5}).map((C,A)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},A)):x.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Nv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No positions found"}),r.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first position"})]})}):x.map(C=>r.jsxs("tr",{onClick:()=>d(C.id),className:`cursor-pointer hover:bg-gray-50 ${l===C.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"font-medium text-gray-900",children:C.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[C.requiredSkills.length," skills required"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(C.departmentId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`text-sm font-medium ${C.currentCount>=C.maxCapacity?"text-green-600":"text-gray-600"}`,children:[C.currentCount,"/",C.maxCapacity]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${C.status==="active"?"bg-green-100 text-green-700":C.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:C.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),m(C)},className:"text-indigo-600 hover:text-indigo-900 mr-3",children:r.jsx(Gu,{className:"h-4 w-4"})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),confirm(`Delete ${C.title}?`)&&N(C.id)},className:"text-red-600 hover:text-red-900",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]},C.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),P?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:P.title})]}),P.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:P.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("p",{className:"text-gray-700",children:O(P.departmentId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Experience"}),r.jsxs("p",{className:"text-gray-700",children:[P.minExperience," years"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Skills"}),r.jsx("div",{className:"mt-1 space-y-2",children:P.requiredSkills.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No skills defined"}):P.requiredSkills.map((C,A)=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-sm font-medium",children:C.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${nne[C.level]}`,children:C.level}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",C.weight,"%)"]})]})]},A))})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>m(P),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Gu,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${P.title}?`)&&N(P.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Nv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a position to view details"})]})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Position"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Position creation modal coming soon."}),r.jsx("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Edit Position: ",p.title]}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Position editing modal coming soon."}),r.jsx("button",{onClick:()=>m(null),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})})]})}const sne={healthy:{color:"bg-green-500",bgColor:"bg-green-100",textColor:"text-green-700",label:"Healthy",icon:""},warning:{color:"bg-yellow-500",bgColor:"bg-yellow-100",textColor:"text-yellow-700",label:"Warning",icon:""},critical:{color:"bg-red-500",bgColor:"bg-red-100",textColor:"text-red-700",label:"Critical",icon:""}};function Aw({status:e,size:t="md"}){const n=sne[e],a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"};return r.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${n.bgColor} ${n.textColor} ${a[t]}
      `,children:[r.jsx("span",{className:`${n.color} h-1.5 w-1.5 rounded-full`}),n.label]})}const ine={active:"bg-green-100 text-green-700",on_leave:"bg-yellow-100 text-yellow-700",suspended:"bg-orange-100 text-orange-700",terminated:"bg-red-100 text-red-700"},y3={permanent:"Permanent",temporary:"Temporary",acting:"Acting"};function one(){var T;const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),{data:p}=Cw({status:"active"}),{data:m,isLoading:g,refetch:j}=eT({status:n==="all"?void 0:n,search:e||void 0}),v=Dre(),w=Fre(),x=(m==null?void 0:m.assignments)??[],S=(p==null?void 0:p.positions)??[],P=x.find(R=>R.id===l),O=R=>{var I;return((I=S.find(M=>M.id===R))==null?void 0:I.title)??"Unknown Position"},N=async(R,I)=>{try{await v.mutateAsync({id:R,status:I}),j()}catch(M){console.error("Failed to update status:",M)}},C=async R=>{const I=prompt("Reason for termination (optional):");try{await w.mutateAsync({id:R,reason:I||void 0}),l===R&&d(null),j()}catch(M){console.error("Failed to terminate:",M)}},A=R=>R>=.9?"critical":R>=.8?"warning":"healthy",E=s==="all"?x:x.filter(R=>R.assignmentType===s);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Assignments"}),r.jsx("p",{className:"text-gray-600",children:"Manage agent-position relationships"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Assignment"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(dj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search agents...",value:e,onChange:R=>t(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:R=>a(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"terminated",children:"Terminated"})]}),r.jsxs("select",{value:s,onChange:R=>i(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"permanent",children:"Permanent"}),r.jsx("option",{value:"temporary",children:"Temporary"}),r.jsx("option",{value:"acting",children:"Acting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g?Array.from({length:5}).map((R,I)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},I)):E.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Qu,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No assignments found"})]})}):E.map(R=>{var I,M,$;return r.jsxs("tr",{onClick:()=>d(R.id),className:`cursor-pointer hover:bg-gray-50 ${l===R.id?"bg-indigo-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:((M=(I=R.agent)==null?void 0:I.name)==null?void 0:M[0])??"A"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:(($=R.agent)==null?void 0:$.name)??R.agentId}),r.jsx("div",{className:"text-xs text-gray-500",children:y3[R.assignmentType]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(R.positionId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"w-24",children:r.jsx(qc,{workload:R.workload,size:"sm",showPercentage:!0})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${ine[R.status]}`,children:R.status.replace("_"," ")})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:H=>{H.stopPropagation(),alert("Reassign modal coming soon")},className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Reassign",children:r.jsx(wv,{className:"h-4 w-4"})}),r.jsx("button",{onClick:H=>{H.stopPropagation(),confirm("Terminate this assignment?")&&C(R.id)},className:"text-red-600 hover:text-red-900",title:"Terminate",children:r.jsx(Yu,{className:"h-4 w-4"})})]})]},R.id)})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),P?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("p",{className:"text-gray-900 font-medium",children:((T=P.agent)==null?void 0:T.name)??P.agentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("p",{className:"text-gray-700",children:O(P.positionId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700",children:y3[P.assignmentType]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("div",{className:"mt-1",children:r.jsx(qc,{workload:P.workload,showPercentage:!0,showStatus:!0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Health"}),r.jsx("div",{className:"mt-1",children:r.jsx(Aw,{status:A(P.workload)})})]}),P.performanceScore!==null&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),r.jsxs("p",{className:"text-gray-900 font-medium",children:[P.performanceScore,"/100"]})]}),P.humanSupervisor&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor"}),r.jsx("p",{className:"text-gray-700",children:P.humanSupervisor})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),r.jsx("p",{className:"text-gray-700 text-sm",children:P.startDate?new Date(P.startDate).toLocaleDateString():"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsxs("select",{value:P.status,onChange:R=>N(P.id,R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:()=>{confirm("Terminate this assignment?")&&C(P.id)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:[r.jsx(Yu,{className:"h-4 w-4"}),"Terminate Assignment"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qu,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select an assignment to view details"})]})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Assignment"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Assignment creation modal coming soon."}),r.jsx("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})})]})}const lne={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",expired:"bg-gray-100 text-gray-600",escalated:"bg-purple-100 text-purple-700"},cne={pending:"",approved:"",rejected:"",expired:"",escalated:""},v3={1:"Task",2:"Process",3:"Project",4:"Function",5:"Objective"};function dne(){const[e,t]=b.useState("pending"),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),{data:u,isLoading:h,refetch:p}=zre({status:e==="all"?void 0:e,requestType:n==="all"?void 0:n,level:s==="all"?void 0:parseInt(s)}),m=Bre(),g=Ure(),j=Wre(),v=(u==null?void 0:u.requests)??[],w=v.find(N=>N.id===l),x=async N=>{const C=prompt("Add a note (optional):");try{await m.mutateAsync({id:N,note:C||void 0}),p()}catch(A){console.error("Failed to approve:",A)}},S=async N=>{const C=prompt("Reason for rejection:");if(!C){alert("Rejection reason is required");return}try{await g.mutateAsync({id:N,note:C}),p()}catch(A){console.error("Failed to reject:",A)}},P=async N=>{const C=prompt("Reason for escalation:");try{await j.mutateAsync({id:N,reason:C||void 0}),p()}catch(A){console.error("Failed to escalate:",A)}},O=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Manage approval requests for agent resources"})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("select",{value:e,onChange:N=>t(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"escalated",children:"Escalated"}),r.jsx("option",{value:"expired",children:"Expired"})]}),r.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"assignment",children:"Assignment"}),r.jsx("option",{value:"schedule",children:"Schedule"}),r.jsx("option",{value:"leave",children:"Leave"}),r.jsx("option",{value:"policy",children:"Policy"})]}),r.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Levels"}),r.jsx("option",{value:"1",children:"Level 1 (Task)"}),r.jsx("option",{value:"2",children:"Level 2 (Process)"}),r.jsx("option",{value:"3",children:"Level 3 (Project)"}),r.jsx("option",{value:"4",children:"Level 4 (Function)"}),r.jsx("option",{value:"5",children:"Level 5 (Objective)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type / Level"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?Array.from({length:5}).map((N,C)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},C)):v.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No approval requests found"})]})}):v.map(N=>r.jsxs("tr",{onClick:()=>d(N.id),className:`cursor-pointer hover:bg-gray-50 ${l===N.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm",children:r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700 text-xs",children:N.requestType})}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Level ",N.level," (",v3[N.level],")"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full font-medium ${lne[N.status]}`,children:[cne[N.status]," ",N.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:N.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:C=>{C.stopPropagation(),x(N.id)},className:"text-green-600 hover:text-green-900 mr-2",title:"Approve",children:r.jsx(Ku,{className:"h-5 w-5"})}),r.jsx("button",{onClick:C=>{C.stopPropagation(),S(N.id)},className:"text-red-600 hover:text-red-900 mr-2",title:"Reject",children:r.jsx(Yu,{className:"h-5 w-5"})}),r.jsx("button",{onClick:C=>{C.stopPropagation(),P(N.id)},className:"text-purple-600 hover:text-purple-900",title:"Escalate",children:r.jsx(nI,{className:"h-5 w-5"})})]})})]},N.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),w?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:w.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:w.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.requestType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),r.jsxs("p",{className:"text-gray-700",children:[w.level," (",v3[w.level],")"]})]})]}),w.impactScope&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact Scope"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.impactScope})]}),w.estimatedValue&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),r.jsxs("p",{className:"text-gray-700",children:["$",w.estimatedValue.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 block",children:"Approval Chain"}),r.jsx("div",{className:"space-y-2",children:w.approverChain.map((N,C)=>{const A=w.responses.find(T=>T.level===N.level),E=N.level===w.currentLevel&&w.status==="pending";return r.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${E?"bg-yellow-50 border border-yellow-200":"bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:(A==null?void 0:A.decision)==="approved"?"":(A==null?void 0:A.decision)==="rejected"?"":E?"":""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:["Level ",N.level]}),r.jsx("p",{className:"text-xs text-gray-500",children:N.roleTitle||N.approverId})]}),A&&r.jsx("span",{className:"text-xs text-gray-400",children:O(A.timestamp)})]},C)})})]}),w.status==="pending"&&r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>x(w.id),disabled:m.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(Ku,{className:"h-4 w-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>S(w.id),disabled:g.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[r.jsx(Yu,{className:"h-4 w-4"}),"Reject"]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a request to view details"})]})]})]})]})}function une(){var u,h,p,m,g,j,v,w,x,S,P,O;const[e,t]=b.useState(30),{data:n,isLoading:a}=Vre(e),{data:s,isLoading:i}=Qre(),{data:l,isLoading:d}=Yre();return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Performance metrics and insights"})]}),r.jsxs("select",{value:e,onChange:N=>t(parseInt(N.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"7",children:"Last 7 days"}),r.jsx("option",{value:"30",children:"Last 30 days"}),r.jsx("option",{value:"90",children:"Last 90 days"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(Va,{title:"Tasks Completed",value:((u=n==null?void 0:n.metrics)==null?void 0:u.completedTasks)??0,icon:r.jsx(Ku,{className:"h-6 w-6"}),color:"green",trend:(h=n==null?void 0:n.trends)!=null&&h.completion&&n.trends.completion>0?"up":"down",change:((p=n==null?void 0:n.trends)==null?void 0:p.completion)??0}),r.jsx(Va,{title:"Avg Performance",value:`${Math.round(((m=n==null?void 0:n.metrics)==null?void 0:m.avgPerformance)??0)}%`,icon:r.jsx(Z3,{className:"h-6 w-6"}),color:"blue",trend:(g=n==null?void 0:n.trends)!=null&&g.performance&&n.trends.performance>0?"up":"down",change:((j=n==null?void 0:n.trends)==null?void 0:j.performance)??0}),r.jsx(Va,{title:"Total Cost",value:`$${(((v=n==null?void 0:n.metrics)==null?void 0:v.totalCost)??0).toLocaleString()}`,icon:r.jsx(eO,{className:"h-6 w-6"}),color:"purple",trend:(w=n==null?void 0:n.trends)!=null&&w.cost&&n.trends.cost<0?"up":"down",change:((x=n==null?void 0:n.trends)==null?void 0:x.cost)??0}),r.jsx(Va,{title:"Cost/Task",value:`$${(((S=n==null?void 0:n.metrics)==null?void 0:S.costPerTask)??0).toFixed(2)}`,icon:r.jsx(Qu,{className:"h-6 w-6"}),color:"gray"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Health Status"}),i?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(N=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]})]},N))}):(P=s==null?void 0:s.agents)!=null&&P.length?r.jsx("div",{className:"space-y-4",children:s.agents.map(N=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-medium",children:N.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx(Aw,{status:N.status,size:"sm"})]}),r.jsx(qc,{workload:N.workload,size:"sm",showPercentage:!0})]})]},N.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No health data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Coaching Needs"}),d?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},N))}):(O=l==null?void 0:l.agents)!=null&&O.length?r.jsx("div",{className:"space-y-3",children:l.agents.map(N=>r.jsxs("div",{className:`p-4 rounded-lg border ${N.priority==="high"?"bg-red-50 border-red-200":N.priority==="medium"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${N.priority==="high"?"bg-red-100 text-red-700":N.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:N.priority})]}),r.jsx("ul",{className:"space-y-1",children:N.needs.map((C,A)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),C]},A))})]},N.agentId))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ku,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"All agents performing well"}),r.jsx("p",{className:"text-xs text-gray-400",children:"No coaching needs identified"})]})]})]})]})}function hne(){var v,w;const[e,t]=b.useState(null),{data:n,isLoading:a}=tT(),{data:s,isLoading:i,refetch:l}=Hre(),d=Kre(),u=Gre(),h=async()=>{try{const x=await d.mutateAsync("manual");t(x.proposal.id),l()}catch(x){console.error("Failed to create proposal:",x)}},p=async x=>{try{await u.mutateAsync({proposalId:x}),t(null),l()}catch(S){console.error("Failed to apply proposal:",S)}},m=x=>x>=.9?"critical":x>=.8?"warning":"healthy",g=((v=s==null?void 0:s.proposals)==null?void 0:v.filter(x=>x.status==="pending"))??[],j=g.find(x=>x.id===e);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Workload Distribution"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and optimize agent workloads"})]}),r.jsxs("button",{onClick:h,disabled:d.isPending,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[r.jsx(wv,{className:`h-5 w-5 ${d.isPending?"animate-spin":""}`}),"Generate Rebalancing"]})]}),(n==null?void 0:n.stats)&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Average Workload"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.stdDeviation*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Std Deviation"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.stats.balanced}),r.jsx("p",{className:"text-sm text-gray-500",children:"Balanced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.stats.overloaded}),r.jsx("p",{className:"text-sm text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.stats.underutilized}),r.jsx("p",{className:"text-sm text-gray-500",children:"Underutilized"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Workloads"}),a?r.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(x=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-100 rounded w-full"})]})]},x))}):(w=n==null?void 0:n.snapshots)!=null&&w.length?r.jsx("div",{className:"space-y-4",children:n.snapshots.map(x=>r.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${x.status==="overloaded"?"bg-red-50 border-red-200":x.status==="underutilized"?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-bold",children:x.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:x.agentName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[x.taskCount," tasks"]}),r.jsx(Aw,{status:m(x.currentWorkload),size:"sm"})]})]}),r.jsx(qc,{workload:x.currentWorkload,showPercentage:!0,showStatus:!0})]})]},x.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rebalancing Proposals"}),i?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-20 bg-gray-100 rounded"}),r.jsx("div",{className:"h-20 bg-gray-100 rounded"})]}):g.length>0?r.jsx("div",{className:"space-y-4",children:g.map(x=>r.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e===x.id?"bg-indigo-50 border-indigo-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t(x.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Proposal #",x.id.slice(0,8)]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.createdAt).toLocaleDateString()})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[x.proposedChanges.length," changes, ~",Math.round(x.estimatedImprovement),"% improvement"]})]},x.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(wv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No pending proposals"}),r.jsx("button",{onClick:h,className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Generate one"})]}),j&&r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Proposed Changes"}),r.jsx("div",{className:"space-y-3",children:j.proposedChanges.map(x=>r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:x.fromAgentId}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"font-medium",children:x.toAgentId})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.taskIds.length," task(s)"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"From: "}),r.jsxs("span",{className:"text-red-600",children:[Math.round(x.estimatedImpact.fromWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{className:"text-green-600",children:[Math.round(x.estimatedImpact.fromWorkload.after*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"To: "}),r.jsxs("span",{children:[Math.round(x.estimatedImpact.toWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{children:[Math.round(x.estimatedImpact.toWorkload.after*100),"%"]})]})]})]},x.id))}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs("button",{onClick:()=>p(j.id),disabled:u.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(dI,{className:"h-4 w-4"}),"Apply"]}),r.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:r.jsx(uj,{className:"h-4 w-4"})})]})]})]})]})]})}function fne(){const[e,t]=b.useState(!1),{currentOrganization:n,organizations:a,switchOrganization:s}=ts();if(!n||a.length<=1)return null;const i=async l=>{t(!1),await s(l)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),r.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),r.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),a.map(l=>r.jsxs("button",{onClick:()=>i(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===n.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[r.jsx("div",{className:"font-medium",children:l.name}),r.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function mne({user:e,onLogout:t}){return r.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:r.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),r.jsx(fne,{}),e&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const pne=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],xne=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],gne=[{name:"AR Dashboard",path:"/ar",icon:""},{name:"Departments",path:"/ar/departments",icon:""},{name:"Positions",path:"/ar/positions",icon:""},{name:"Assignments",path:"/ar/assignments",icon:""},{name:"AR Approvals",path:"/ar/approvals",icon:""},{name:"AR Analytics",path:"/ar/analytics",icon:""},{name:"Workload",path:"/ar/workload",icon:""}],yne=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],vne=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],bne=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],jne=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"External Tools",path:"/marketplace-hub",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],wne=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Agent Monitor",path:"/admin/agent-monitor",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"N8n Instances",path:"/admin/n8n-instances",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function Nne(){const e=Js(),t=n=>n.map(a=>{const i=e.pathname===a.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return r.jsx("li",{children:r.jsxs(ht,{to:a.path,className:i,children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsx("span",{className:"font-medium",children:a.name})]})},a.path)});return r.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:r.jsx("nav",{className:"p-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("ul",{className:"space-y-2",children:t(pne)})}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),r.jsx("ul",{className:"space-y-2",children:t(xne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Agent Resources"}),r.jsx("ul",{className:"space-y-2",children:t(gne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),r.jsx("ul",{className:"space-y-2",children:t(yne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),r.jsx("ul",{className:"space-y-2",children:t(vne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),r.jsx("ul",{className:"space-y-2",children:t(bne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),r.jsx("ul",{className:"space-y-2",children:t(jne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),r.jsx("ul",{className:"space-y-2",children:t(wne)})]})]})})})}function Me({children:e}){const{user:t,logout:n}=ts();return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(mne,{user:t||void 0,onLogout:n}),r.jsx(Nne,{}),r.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function Te({children:e}){const{user:t,isLoading:n,fetchUser:a}=ts();return b.useEffect(()=>{a()},[a]),n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(J3,{to:"/login",replace:!0})}function Sne(){return r.jsx(GM,{children:r.jsxs(FM,{children:[r.jsx(Oe,{path:"/login",element:r.jsx(JM,{})}),r.jsx(Oe,{path:"/dashboard",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(j7,{})})})}),r.jsx(Oe,{path:"/okr",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(aD,{})})})}),r.jsx(Oe,{path:"/workflows",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(k7,{})})})}),r.jsx(Oe,{path:"/workflows/:id",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(C7,{})})})}),r.jsx(Oe,{path:"/executions",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(A7,{})})})}),r.jsx(Oe,{path:"/executions/:id",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(P7,{})})})}),r.jsx(Oe,{path:"/settings",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(T7,{})})})}),r.jsx(Oe,{path:"/settings/notion",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(R7,{})})})}),r.jsx(Oe,{path:"/settings/slack",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(M7,{})})})}),r.jsx(Oe,{path:"/settings/google-calendar",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(I7,{})})})}),r.jsx(Oe,{path:"/settings/identities",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(U7,{})})})}),r.jsx(Oe,{path:"/settings/members",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(WL,{})})})}),r.jsx(Oe,{path:"/approvals",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(HL,{})})})}),r.jsx(Oe,{path:"/activity",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(eD,{})})})}),r.jsx(Oe,{path:"/metrics/agents",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(tD,{})})})}),r.jsx(Oe,{path:"/org-changes",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(rD,{})})})}),r.jsx(Oe,{path:"/admin/agents",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(lD,{})})})}),r.jsx(Oe,{path:"/admin/skills",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(hD,{})})})}),r.jsx(Oe,{path:"/admin",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(yD,{})})})}),r.jsx(Oe,{path:"/admin/organizations",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(jD,{})})})}),r.jsx(Oe,{path:"/admin/identities",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(wD,{})})})}),r.jsx(Oe,{path:"/admin/optimization",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(tre,{})})})}),r.jsx(Oe,{path:"/admin/claude-max-accounts",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(hre,{})})})}),r.jsx(Oe,{path:"/admin/agent-monitor",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(jre,{})})})}),r.jsx(Oe,{path:"/admin/n8n-instances",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Nre,{})})})}),r.jsx(Oe,{path:"/conversations",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(fD,{})})})}),r.jsx(Oe,{path:"/search",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(gD,{})})})}),r.jsx(Oe,{path:"/analytics",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(jte,{})})})}),r.jsx(Oe,{path:"/costs",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ste,{})})})}),r.jsx(Oe,{path:"/billing",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(wte,{})})})}),r.jsx(Oe,{path:"/knowledge-graph",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ete,{})})})}),r.jsx(Oe,{path:"/patterns",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx($te,{})})})}),r.jsx(Oe,{path:"/feedback",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ote,{})})})}),r.jsx(Oe,{path:"/system-health",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(ere,{})})})}),r.jsx(Oe,{path:"/marketplace",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(_te,{})})})}),r.jsx(Oe,{path:"/marketplace-hub",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Tte,{})})})}),r.jsx(Oe,{path:"/marketplace/:extensionId",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Pte,{})})})}),r.jsx(Oe,{path:"/developer",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ate,{})})})}),r.jsx(Oe,{path:"/developer/publisher",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Lte,{})})})}),r.jsx(Oe,{path:"/sops/drafts",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Dte,{})})})}),r.jsx(Oe,{path:"/sops/editor/:id?",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Hte,{})})})}),r.jsx(Oe,{path:"/onboarding",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Rte,{})})})}),r.jsx(Oe,{path:"/org-change-wizard",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ite,{})})})}),r.jsx(Oe,{path:"/n8n/workflows",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(bre,{})})})}),r.jsx(Oe,{path:"/claude-connect",element:r.jsx(Te,{children:r.jsx(fre,{})})}),r.jsx(Oe,{path:"/ar",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Zre,{})})})}),r.jsx(Oe,{path:"/ar/departments",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(rne,{})})})}),r.jsx(Oe,{path:"/ar/positions",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(ane,{})})})}),r.jsx(Oe,{path:"/ar/assignments",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(one,{})})})}),r.jsx(Oe,{path:"/ar/approvals",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(dne,{})})})}),r.jsx(Oe,{path:"/ar/analytics",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(une,{})})})}),r.jsx(Oe,{path:"/ar/workload",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(hne,{})})})}),r.jsx(Oe,{path:"/",element:r.jsx(J3,{to:"/dashboard",replace:!0})})]})})}class kne extends Y.Component{constructor(){super(...arguments);xu(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(n){return{hasError:!0,errorMessage:n instanceof Error?n.message:String(n)}}componentDidCatch(n){const a=n instanceof Error?n.message:String(n);console.error("UI error:",a)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?r.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,r.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const Cne=new IR;uR.createRoot(document.getElementById("root")).render(r.jsx(Y.StrictMode,{children:r.jsx(kne,{children:r.jsx($R,{client:Cne,children:r.jsx(Sne,{})})})}));
