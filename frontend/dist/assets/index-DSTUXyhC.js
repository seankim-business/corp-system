var a6=Object.defineProperty;var G1=e=>{throw TypeError(e)};var s6=(e,t,r)=>t in e?a6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tu=(e,t,r)=>s6(e,typeof t!="symbol"?t+"":t,r),Wm=(e,t,r)=>t.has(e)||G1("Cannot "+r);var le=(e,t,r)=>(Wm(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?G1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(Wm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kt=(e,t,r)=>(Wm(e,t,"access private method"),r);var Ru=(e,t,r,n)=>({set _(s){$e(e,t,s,r)},get _(){return le(e,t,n)}});function i6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hm={exports:{}},Xo={},Km={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function o6(){if(V1)return Be;V1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function y(F,D,K){this.props=F,this.context=D,this.refs=j,this.updater=K||v}y.prototype.isReactComponent={},y.prototype.setState=function(F,D){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,D,"setState")},y.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=y.prototype;function _(F,D,K){this.props=F,this.context=D,this.refs=j,this.updater=K||v}var E=_.prototype=new k;E.constructor=_,b(E,y.prototype),E.isPureReactComponent=!0;var S=Array.isArray,N=Object.prototype.hasOwnProperty,P={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(F,D,K){var ie,ue={},se=null,te=null;if(D!=null)for(ie in D.ref!==void 0&&(te=D.ref),D.key!==void 0&&(se=""+D.key),D)N.call(D,ie)&&!C.hasOwnProperty(ie)&&(ue[ie]=D[ie]);var pe=arguments.length-2;if(pe===1)ue.children=K;else if(1<pe){for(var ce=Array(pe),Oe=0;Oe<pe;Oe++)ce[Oe]=arguments[Oe+2];ue.children=ce}if(F&&F.defaultProps)for(ie in pe=F.defaultProps,pe)ue[ie]===void 0&&(ue[ie]=pe[ie]);return{$$typeof:e,type:F,key:se,ref:te,props:ue,_owner:P.current}}function M(F,D){return{$$typeof:e,type:F.type,key:D,ref:F.ref,props:F.props,_owner:F._owner}}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function T(F){var D={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(K){return D[K]})}var $=/\/+/g;function G(F,D){return typeof F=="object"&&F!==null&&F.key!=null?T(""+F.key):D.toString(36)}function Q(F,D,K,ie,ue){var se=typeof F;(se==="undefined"||se==="boolean")&&(F=null);var te=!1;if(F===null)te=!0;else switch(se){case"string":case"number":te=!0;break;case"object":switch(F.$$typeof){case e:case t:te=!0}}if(te)return te=F,ue=ue(te),F=ie===""?"."+G(te,0):ie,S(ue)?(K="",F!=null&&(K=F.replace($,"$&/")+"/"),Q(ue,D,K,"",function(Oe){return Oe})):ue!=null&&(L(ue)&&(ue=M(ue,K+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+F)),D.push(ue)),1;if(te=0,ie=ie===""?".":ie+":",S(F))for(var pe=0;pe<F.length;pe++){se=F[pe];var ce=ie+G(se,pe);te+=Q(se,D,K,ce,ue)}else if(ce=x(F),typeof ce=="function")for(F=ce.call(F),pe=0;!(se=F.next()).done;)se=se.value,ce=ie+G(se,pe++),te+=Q(se,D,K,ce,ue);else if(se==="object")throw D=String(F),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return te}function z(F,D,K){if(F==null)return F;var ie=[],ue=0;return Q(F,ie,"","",function(se){return D.call(K,se,ue++)}),ie}function B(F){if(F._status===-1){var D=F._result;D=D(),D.then(function(K){(F._status===0||F._status===-1)&&(F._status=1,F._result=K)},function(K){(F._status===0||F._status===-1)&&(F._status=2,F._result=K)}),F._status===-1&&(F._status=0,F._result=D)}if(F._status===1)return F._result.default;throw F._result}var U={current:null},H={transition:null},Y={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:H,ReactCurrentOwner:P};function q(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:z,forEach:function(F,D,K){z(F,function(){D.apply(this,arguments)},K)},count:function(F){var D=0;return z(F,function(){D++}),D},toArray:function(F){return z(F,function(D){return D})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Be.Component=y,Be.Fragment=r,Be.Profiler=s,Be.PureComponent=_,Be.StrictMode=n,Be.Suspense=d,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Be.act=q,Be.cloneElement=function(F,D,K){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ie=b({},F.props),ue=F.key,se=F.ref,te=F._owner;if(D!=null){if(D.ref!==void 0&&(se=D.ref,te=P.current),D.key!==void 0&&(ue=""+D.key),F.type&&F.type.defaultProps)var pe=F.type.defaultProps;for(ce in D)N.call(D,ce)&&!C.hasOwnProperty(ce)&&(ie[ce]=D[ce]===void 0&&pe!==void 0?pe[ce]:D[ce])}var ce=arguments.length-2;if(ce===1)ie.children=K;else if(1<ce){pe=Array(ce);for(var Oe=0;Oe<ce;Oe++)pe[Oe]=arguments[Oe+2];ie.children=pe}return{$$typeof:e,type:F.type,key:ue,ref:se,props:ie,_owner:te}},Be.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},Be.createElement=R,Be.createFactory=function(F){var D=R.bind(null,F);return D.type=F,D},Be.createRef=function(){return{current:null}},Be.forwardRef=function(F){return{$$typeof:u,render:F}},Be.isValidElement=L,Be.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:B}},Be.memo=function(F,D){return{$$typeof:f,type:F,compare:D===void 0?null:D}},Be.startTransition=function(F){var D=H.transition;H.transition={};try{F()}finally{H.transition=D}},Be.unstable_act=q,Be.useCallback=function(F,D){return U.current.useCallback(F,D)},Be.useContext=function(F){return U.current.useContext(F)},Be.useDebugValue=function(){},Be.useDeferredValue=function(F){return U.current.useDeferredValue(F)},Be.useEffect=function(F,D){return U.current.useEffect(F,D)},Be.useId=function(){return U.current.useId()},Be.useImperativeHandle=function(F,D,K){return U.current.useImperativeHandle(F,D,K)},Be.useInsertionEffect=function(F,D){return U.current.useInsertionEffect(F,D)},Be.useLayoutEffect=function(F,D){return U.current.useLayoutEffect(F,D)},Be.useMemo=function(F,D){return U.current.useMemo(F,D)},Be.useReducer=function(F,D,K){return U.current.useReducer(F,D,K)},Be.useRef=function(F){return U.current.useRef(F)},Be.useState=function(F){return U.current.useState(F)},Be.useSyncExternalStore=function(F,D,K){return U.current.useSyncExternalStore(F,D,K)},Be.useTransition=function(){return U.current.useTransition()},Be.version="18.3.1",Be}var Y1;function qv(){return Y1||(Y1=1,Km.exports=o6()),Km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function l6(){if(X1)return Xo;X1=1;var e=qv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},x=null,v=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:x,ref:v,props:m,_owner:s.current}}return Xo.Fragment=r,Xo.jsx=l,Xo.jsxs=l,Xo}var Q1;function c6(){return Q1||(Q1=1,Hm.exports=l6()),Hm.exports}var a=c6(),O=qv();const V=Xe(O),u6=i6({__proto__:null,default:V},[O]);var Iu={},Gm={exports:{}},cr={},Vm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function d6(){return J1||(J1=1,(function(e){function t(H,Y){var q=H.length;H.push(Y);e:for(;0<q;){var F=q-1>>>1,D=H[F];if(0<s(D,Y))H[F]=Y,H[q]=D,q=F;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Y=H[0],q=H.pop();if(q!==Y){H[0]=q;e:for(var F=0,D=H.length,K=D>>>1;F<K;){var ie=2*(F+1)-1,ue=H[ie],se=ie+1,te=H[se];if(0>s(ue,q))se<D&&0>s(te,ue)?(H[F]=te,H[se]=q,F=se):(H[F]=ue,H[ie]=q,F=ie);else if(se<D&&0>s(te,q))H[F]=te,H[se]=q,F=se;else break e}}return Y}function s(H,Y){var q=H.sortIndex-Y.sortIndex;return q!==0?q:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,x=3,v=!1,b=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Y=r(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=H)n(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=r(f)}}function S(H){if(j=!1,E(H),!b)if(r(d)!==null)b=!0,B(N);else{var Y=r(f);Y!==null&&U(S,Y.startTime-H)}}function N(H,Y){b=!1,j&&(j=!1,k(R),R=-1),v=!0;var q=x;try{for(E(Y),m=r(d);m!==null&&(!(m.expirationTime>Y)||H&&!T());){var F=m.callback;if(typeof F=="function"){m.callback=null,x=m.priorityLevel;var D=F(m.expirationTime<=Y);Y=e.unstable_now(),typeof D=="function"?m.callback=D:m===r(d)&&n(d),E(Y)}else n(d);m=r(d)}if(m!==null)var K=!0;else{var ie=r(f);ie!==null&&U(S,ie.startTime-Y),K=!1}return K}finally{m=null,x=q,v=!1}}var P=!1,C=null,R=-1,M=5,L=-1;function T(){return!(e.unstable_now()-L<M)}function $(){if(C!==null){var H=e.unstable_now();L=H;var Y=!0;try{Y=C(!0,H)}finally{Y?G():(P=!1,C=null)}}else P=!1}var G;if(typeof _=="function")G=function(){_($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,z=Q.port2;Q.port1.onmessage=$,G=function(){z.postMessage(null)}}else G=function(){y($,0)};function B(H){C=H,P||(P=!0,G())}function U(H,Y){R=y(function(){H(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,B(N))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(H){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var q=x;x=Y;try{return H()}finally{x=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=x;x=H;try{return Y()}finally{x=q}},e.unstable_scheduleCallback=function(H,Y,q){var F=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,H={id:p++,callback:Y,priorityLevel:H,startTime:q,expirationTime:D,sortIndex:-1},q>F?(H.sortIndex=q,t(f,H),r(d)===null&&H===r(f)&&(j?(k(R),R=-1):j=!0,U(S,q-F))):(H.sortIndex=D,t(d,H),b||v||(b=!0,B(N))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var Y=x;return function(){var q=x;x=Y;try{return H.apply(this,arguments)}finally{x=q}}}})(Ym)),Ym}var Z1;function f6(){return Z1||(Z1=1,Vm.exports=d6()),Vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function h6(){if(eN)return cr;eN=1;var e=qv(),t=f6();function r(i){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,c){l(i,c),l(i+"Capture",c)}function l(i,c){for(s[i]=c,i=0;i<c.length;i++)n.add(c[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,c,h,g){if(c===null||typeof c>"u"||v(i,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(i,c,h,g,w,A,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=i,this.type=c,this.sanitizeURL=A,this.removeEmptyString=I}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var c=i[0];y[c]=new j(c,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function _(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var c=i.replace(k,_);y[c]=new j(c,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var c=i.replace(k,_);y[c]=new j(c,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var c=i.replace(k,_);y[c]=new j(c,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function E(i,c,h,g){var w=y.hasOwnProperty(c)?y[c]:null;(w!==null?w.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,h,w,g)&&(h=null),g||w===null?x(c)&&(h===null?i.removeAttribute(c):i.setAttribute(c,""+h)):w.mustUseProperty?i[w.propertyName]=h===null?w.type===3?!1:"":h:(c=w.attributeName,g=w.attributeNamespace,h===null?i.removeAttribute(c):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,g?i.setAttributeNS(g,c,h):i.setAttribute(c,h))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),P=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),T=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),H=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var q=Object.assign,F;function D(i){if(F===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+i}var K=!1;function ie(i,c){if(!i||K)return"";K=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ne){var g=ne}Reflect.construct(i,[],c)}else{try{c.call()}catch(ne){g=ne}i.call(c.prototype)}else{try{throw Error()}catch(ne){g=ne}i()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),A=g.stack.split(`
`),I=w.length-1,W=A.length-1;1<=I&&0<=W&&w[I]!==A[W];)W--;for(;1<=I&&0<=W;I--,W--)if(w[I]!==A[W]){if(I!==1||W!==1)do if(I--,W--,0>W||w[I]!==A[W]){var X=`
`+w[I].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=I&&0<=W);break}}}finally{K=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?D(i):""}function ue(i){switch(i.tag){case 5:return D(i.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case P:return"Portal";case M:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case $:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return c=i.displayName||null,c!==null?c:se(i.type)||"Memo";case B:c=i._payload,i=i._init;try{return se(i(c))}catch{}}return null}function te(i){var c=i.type;switch(i.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=c.render,i=i.displayName||i.name||"",c.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ce(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(i){var c=ce(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,c),g=""+i[c];if(!i.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,A=h.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return w.call(this)},set:function(I){g=""+I,A.call(this,I)}}),Object.defineProperty(i,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Te(i){i._valueTracker||(i._valueTracker=Oe(i))}function Z(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return i&&(g=ce(i)?i.checked?"true":"false":i.value),i=g,i!==h?(c.setValue(i),!0):!1}function ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function be(i,c){var h=c.checked;return q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function Je(i,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=pe(c.value!=null?c.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ft(i,c){c=c.checked,c!=null&&E(i,"checked",c,!1)}function Et(i,c){ft(i,c);var h=pe(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}c.hasOwnProperty("value")?sn(i,c.type,h):c.hasOwnProperty("defaultValue")&&sn(i,c.type,pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(i.defaultChecked=!!c.defaultChecked)}function Br(i,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+i._wrapperState.initialValue,h||c===i.value||(i.value=c),i.defaultValue=c}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function sn(i,c,h){(c!=="number"||ve(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var on=Array.isArray;function nr(i,c,h,g){if(i=i.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<i.length;h++)w=c.hasOwnProperty("$"+i[h].value),i[h].selected!==w&&(i[h].selected=w),w&&g&&(i[h].defaultSelected=!0)}else{for(h=""+pe(h),c=null,w=0;w<i.length;w++){if(i[w].value===h){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}c!==null||i[w].disabled||(c=i[w])}c!==null&&(c.selected=!0)}}function qr(i,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},c,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Cs(i,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(on(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}i._wrapperState={initialValue:pe(h)}}function co(i,c){var h=pe(c.value),g=pe(c.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),c.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function uo(i){var c=i.textContent;c===i._wrapperState.initialValue&&c!==""&&c!==null&&(i.value=c)}function ij(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function th(i,c){return i==null||i==="http://www.w3.org/1999/xhtml"?ij(c):i==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Sc,oj=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,w){MSApp.execUnsafeLocalFunction(function(){return i(c,h,g,w)})}:i})(function(i,c){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=c;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Sc.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}});function fo(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l4=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(i){l4.forEach(function(c){c=c+i.charAt(0).toUpperCase()+i.substring(1),ho[c]=ho[i]})});function lj(i,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||ho.hasOwnProperty(i)&&ho[i]?(""+c).trim():c+"px"}function cj(i,c){i=i.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,w=lj(h,c[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,w):i[h]=w}}var c4=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(i,c){if(c){if(c4[i]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function nh(i,c){if(i.indexOf("-")===-1)return typeof c.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function sh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ih=null,Es=null,Ts=null;function uj(i){if(i=Io(i)){if(typeof ih!="function")throw Error(r(280));var c=i.stateNode;c&&(c=Gc(c),ih(i.stateNode,i.type,c))}}function dj(i){Es?Ts?Ts.push(i):Ts=[i]:Es=i}function fj(){if(Es){var i=Es,c=Ts;if(Ts=Es=null,uj(i),c)for(i=0;i<c.length;i++)uj(c[i])}}function hj(i,c){return i(c)}function mj(){}var oh=!1;function pj(i,c,h){if(oh)return i(c,h);oh=!0;try{return hj(i,c,h)}finally{oh=!1,(Es!==null||Ts!==null)&&(mj(),fj())}}function mo(i,c){var h=i.stateNode;if(h===null)return null;var g=Gc(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var lh=!1;if(u)try{var po={};Object.defineProperty(po,"passive",{get:function(){lh=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{lh=!1}function u4(i,c,h,g,w,A,I,W,X){var ne=Array.prototype.slice.call(arguments,3);try{c.apply(h,ne)}catch(he){this.onError(he)}}var go=!1,kc=null,Oc=!1,ch=null,d4={onError:function(i){go=!0,kc=i}};function f4(i,c,h,g,w,A,I,W,X){go=!1,kc=null,u4.apply(d4,arguments)}function h4(i,c,h,g,w,A,I,W,X){if(f4.apply(this,arguments),go){if(go){var ne=kc;go=!1,kc=null}else throw Error(r(198));Oc||(Oc=!0,ch=ne)}}function Da(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function gj(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function xj(i){if(Da(i)!==i)throw Error(r(188))}function m4(i){var c=i.alternate;if(!c){if(c=Da(i),c===null)throw Error(r(188));return c!==i?null:i}for(var h=i,g=c;;){var w=h.return;if(w===null)break;var A=w.alternate;if(A===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===h)return xj(w),i;if(A===g)return xj(w),c;A=A.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=A;else{for(var I=!1,W=w.child;W;){if(W===h){I=!0,h=w,g=A;break}if(W===g){I=!0,g=w,h=A;break}W=W.sibling}if(!I){for(W=A.child;W;){if(W===h){I=!0,h=A,g=w;break}if(W===g){I=!0,g=A,h=w;break}W=W.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:c}function yj(i){return i=m4(i),i!==null?vj(i):null}function vj(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var c=vj(i);if(c!==null)return c;i=i.sibling}return null}var bj=t.unstable_scheduleCallback,jj=t.unstable_cancelCallback,p4=t.unstable_shouldYield,g4=t.unstable_requestPaint,xt=t.unstable_now,x4=t.unstable_getCurrentPriorityLevel,uh=t.unstable_ImmediatePriority,wj=t.unstable_UserBlockingPriority,Pc=t.unstable_NormalPriority,y4=t.unstable_LowPriority,Nj=t.unstable_IdlePriority,Ac=null,ln=null;function v4(i){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ac,i,void 0,(i.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:w4,b4=Math.log,j4=Math.LN2;function w4(i){return i>>>=0,i===0?32:31-(b4(i)/j4|0)|0}var _c=64,Cc=4194304;function xo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ec(i,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,w=i.suspendedLanes,A=i.pingedLanes,I=h&268435455;if(I!==0){var W=I&~w;W!==0?g=xo(W):(A&=I,A!==0&&(g=xo(A)))}else I=h&~w,I!==0?g=xo(I):A!==0&&(g=xo(A));if(g===0)return 0;if(c!==0&&c!==g&&(c&w)===0&&(w=g&-g,A=c&-c,w>=A||w===16&&(A&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=i.entangledLanes,c!==0)for(i=i.entanglements,c&=g;0<c;)h=31-zr(c),w=1<<h,g|=i[h],c&=~w;return g}function N4(i,c){switch(i){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S4(i,c){for(var h=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,A=i.pendingLanes;0<A;){var I=31-zr(A),W=1<<I,X=w[I];X===-1?((W&h)===0||(W&g)!==0)&&(w[I]=N4(W,c)):X<=c&&(i.expiredLanes|=W),A&=~W}}function dh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Sj(){var i=_c;return _c<<=1,(_c&4194240)===0&&(_c=64),i}function fh(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function yo(i,c,h){i.pendingLanes|=c,c!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,c=31-zr(c),i[c]=h}function k4(i,c){var h=i.pendingLanes&~c;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=c,i.mutableReadLanes&=c,i.entangledLanes&=c,c=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var w=31-zr(h),A=1<<w;c[w]=0,g[w]=-1,i[w]=-1,h&=~A}}function hh(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var g=31-zr(h),w=1<<g;w&c|i[g]&c&&(i[g]|=c),h&=~w}}var Qe=0;function kj(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Oj,mh,Pj,Aj,_j,ph=!1,Tc=[],Jn=null,Zn=null,ea=null,vo=new Map,bo=new Map,ta=[],O4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cj(i,c){switch(i){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":vo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(c.pointerId)}}function jo(i,c,h,g,w,A){return i===null||i.nativeEvent!==A?(i={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[w]},c!==null&&(c=Io(c),c!==null&&mh(c)),i):(i.eventSystemFlags|=g,c=i.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),i)}function P4(i,c,h,g,w){switch(c){case"focusin":return Jn=jo(Jn,i,c,h,g,w),!0;case"dragenter":return Zn=jo(Zn,i,c,h,g,w),!0;case"mouseover":return ea=jo(ea,i,c,h,g,w),!0;case"pointerover":var A=w.pointerId;return vo.set(A,jo(vo.get(A)||null,i,c,h,g,w)),!0;case"gotpointercapture":return A=w.pointerId,bo.set(A,jo(bo.get(A)||null,i,c,h,g,w)),!0}return!1}function Ej(i){var c=La(i.target);if(c!==null){var h=Da(c);if(h!==null){if(c=h.tag,c===13){if(c=gj(h),c!==null){i.blockedOn=c,_j(i.priority,function(){Pj(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rc(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=xh(i.domEventName,i.eventSystemFlags,c[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);ah=g,h.target.dispatchEvent(g),ah=null}else return c=Io(h),c!==null&&mh(c),i.blockedOn=h,!1;c.shift()}return!0}function Tj(i,c,h){Rc(i)&&h.delete(c)}function A4(){ph=!1,Jn!==null&&Rc(Jn)&&(Jn=null),Zn!==null&&Rc(Zn)&&(Zn=null),ea!==null&&Rc(ea)&&(ea=null),vo.forEach(Tj),bo.forEach(Tj)}function wo(i,c){i.blockedOn===c&&(i.blockedOn=null,ph||(ph=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A4)))}function No(i){function c(w){return wo(w,i)}if(0<Tc.length){wo(Tc[0],i);for(var h=1;h<Tc.length;h++){var g=Tc[h];g.blockedOn===i&&(g.blockedOn=null)}}for(Jn!==null&&wo(Jn,i),Zn!==null&&wo(Zn,i),ea!==null&&wo(ea,i),vo.forEach(c),bo.forEach(c),h=0;h<ta.length;h++)g=ta[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<ta.length&&(h=ta[0],h.blockedOn===null);)Ej(h),h.blockedOn===null&&ta.shift()}var Rs=S.ReactCurrentBatchConfig,Mc=!0;function _4(i,c,h,g){var w=Qe,A=Rs.transition;Rs.transition=null;try{Qe=1,gh(i,c,h,g)}finally{Qe=w,Rs.transition=A}}function C4(i,c,h,g){var w=Qe,A=Rs.transition;Rs.transition=null;try{Qe=4,gh(i,c,h,g)}finally{Qe=w,Rs.transition=A}}function gh(i,c,h,g){if(Mc){var w=xh(i,c,h,g);if(w===null)Mh(i,c,g,Ic,h),Cj(i,g);else if(P4(w,i,c,h,g))g.stopPropagation();else if(Cj(i,g),c&4&&-1<O4.indexOf(i)){for(;w!==null;){var A=Io(w);if(A!==null&&Oj(A),A=xh(i,c,h,g),A===null&&Mh(i,c,g,Ic,h),A===w)break;w=A}w!==null&&g.stopPropagation()}else Mh(i,c,g,null,h)}}var Ic=null;function xh(i,c,h,g){if(Ic=null,i=sh(g),i=La(i),i!==null)if(c=Da(i),c===null)i=null;else if(h=c.tag,h===13){if(i=gj(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null);return Ic=i,null}function Rj(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x4()){case uh:return 1;case wj:return 4;case Pc:case y4:return 16;case Nj:return 536870912;default:return 16}default:return 16}}var ra=null,yh=null,$c=null;function Mj(){if($c)return $c;var i,c=yh,h=c.length,g,w="value"in ra?ra.value:ra.textContent,A=w.length;for(i=0;i<h&&c[i]===w[i];i++);var I=h-i;for(g=1;g<=I&&c[h-g]===w[A-g];g++);return $c=w.slice(i,1<g?1-g:void 0)}function Dc(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function Lc(){return!0}function Ij(){return!1}function mr(i){function c(h,g,w,A,I){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(h=i[W],this[W]=h?h(A):A[W]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Lc:Ij,this.isPropagationStopped=Ij,this}return q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),c}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vh=mr(Ms),So=q({},Ms,{view:0,detail:0}),E4=mr(So),bh,jh,ko,Fc=q({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ko&&(ko&&i.type==="mousemove"?(bh=i.screenX-ko.screenX,jh=i.screenY-ko.screenY):jh=bh=0,ko=i),bh)},movementY:function(i){return"movementY"in i?i.movementY:jh}}),$j=mr(Fc),T4=q({},Fc,{dataTransfer:0}),R4=mr(T4),M4=q({},So,{relatedTarget:0}),wh=mr(M4),I4=q({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),$4=mr(I4),D4=q({},Ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),L4=mr(D4),F4=q({},Ms,{data:0}),Dj=mr(F4),B4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U4(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=z4[i])?!!c[i]:!1}function Nh(){return U4}var W4=q({},So,{key:function(i){if(i.key){var c=B4[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=Dc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(i){return i.type==="keypress"?Dc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),H4=mr(W4),K4=q({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lj=mr(K4),G4=q({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),V4=mr(G4),Y4=q({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),X4=mr(Y4),Q4=q({},Fc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J4=mr(Q4),Z4=[9,13,27,32],Sh=u&&"CompositionEvent"in window,Oo=null;u&&"documentMode"in document&&(Oo=document.documentMode);var e3=u&&"TextEvent"in window&&!Oo,Fj=u&&(!Sh||Oo&&8<Oo&&11>=Oo),Bj=" ",qj=!1;function zj(i,c){switch(i){case"keyup":return Z4.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Is=!1;function t3(i,c){switch(i){case"compositionend":return Uj(c);case"keypress":return c.which!==32?null:(qj=!0,Bj);case"textInput":return i=c.data,i===Bj&&qj?null:i;default:return null}}function r3(i,c){if(Is)return i==="compositionend"||!Sh&&zj(i,c)?(i=Mj(),$c=yh=ra=null,Is=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fj&&c.locale!=="ko"?null:c.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wj(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!n3[i.type]:c==="textarea"}function Hj(i,c,h,g){dj(g),c=Wc(c,"onChange"),0<c.length&&(h=new vh("onChange","change",null,h,g),i.push({event:h,listeners:c}))}var Po=null,Ao=null;function a3(i){cw(i,0)}function Bc(i){var c=Bs(i);if(Z(c))return i}function s3(i,c){if(i==="change")return c}var Kj=!1;if(u){var kh;if(u){var Oh="oninput"in document;if(!Oh){var Gj=document.createElement("div");Gj.setAttribute("oninput","return;"),Oh=typeof Gj.oninput=="function"}kh=Oh}else kh=!1;Kj=kh&&(!document.documentMode||9<document.documentMode)}function Vj(){Po&&(Po.detachEvent("onpropertychange",Yj),Ao=Po=null)}function Yj(i){if(i.propertyName==="value"&&Bc(Ao)){var c=[];Hj(c,Ao,i,sh(i)),pj(a3,c)}}function i3(i,c,h){i==="focusin"?(Vj(),Po=c,Ao=h,Po.attachEvent("onpropertychange",Yj)):i==="focusout"&&Vj()}function o3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bc(Ao)}function l3(i,c){if(i==="click")return Bc(c)}function c3(i,c){if(i==="input"||i==="change")return Bc(c)}function u3(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var Ur=typeof Object.is=="function"?Object.is:u3;function _o(i,c){if(Ur(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!d.call(c,w)||!Ur(i[w],c[w]))return!1}return!0}function Xj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qj(i,c){var h=Xj(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=c&&g>=c)return{node:h,offset:c-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Xj(h)}}function Jj(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?Jj(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Zj(){for(var i=window,c=ve();c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=ve(i.document)}return c}function Ph(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}function d3(i){var c=Zj(),h=i.focusedElem,g=i.selectionRange;if(c!==h&&h&&h.ownerDocument&&Jj(h.ownerDocument.documentElement,h)){if(g!==null&&Ph(h)){if(c=g.start,i=g.end,i===void 0&&(i=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(i,h.value.length);else if(i=(c=h.ownerDocument||document)&&c.defaultView||window,i.getSelection){i=i.getSelection();var w=h.textContent.length,A=Math.min(g.start,w);g=g.end===void 0?A:Math.min(g.end,w),!i.extend&&A>g&&(w=g,g=A,A=w),w=Qj(h,A);var I=Qj(h,g);w&&I&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),i.removeAllRanges(),A>g?(i.addRange(c),i.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),i.addRange(c)))}}for(c=[],i=h;i=i.parentNode;)i.nodeType===1&&c.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)i=c[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var f3=u&&"documentMode"in document&&11>=document.documentMode,$s=null,Ah=null,Co=null,_h=!1;function ew(i,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;_h||$s==null||$s!==ve(g)||(g=$s,"selectionStart"in g&&Ph(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Co&&_o(Co,g)||(Co=g,g=Wc(Ah,"onSelect"),0<g.length&&(c=new vh("onSelect","select",null,c,h),i.push({event:c,listeners:g}),c.target=$s)))}function qc(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Ds={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Ch={},tw={};u&&(tw=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function zc(i){if(Ch[i])return Ch[i];if(!Ds[i])return i;var c=Ds[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in tw)return Ch[i]=c[h];return i}var rw=zc("animationend"),nw=zc("animationiteration"),aw=zc("animationstart"),sw=zc("transitionend"),iw=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(i,c){iw.set(i,c),o(c,[i])}for(var Eh=0;Eh<ow.length;Eh++){var Th=ow[Eh],h3=Th.toLowerCase(),m3=Th[0].toUpperCase()+Th.slice(1);na(h3,"on"+m3)}na(rw,"onAnimationEnd"),na(nw,"onAnimationIteration"),na(aw,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(sw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function lw(i,c,h){var g=i.type||"unknown-event";i.currentTarget=h,h4(g,c,void 0,i),i.currentTarget=null}function cw(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],w=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var I=g.length-1;0<=I;I--){var W=g[I],X=W.instance,ne=W.currentTarget;if(W=W.listener,X!==A&&w.isPropagationStopped())break e;lw(w,W,ne),A=X}else for(I=0;I<g.length;I++){if(W=g[I],X=W.instance,ne=W.currentTarget,W=W.listener,X!==A&&w.isPropagationStopped())break e;lw(w,W,ne),A=X}}}if(Oc)throw i=ch,Oc=!1,ch=null,i}function st(i,c){var h=c[Bh];h===void 0&&(h=c[Bh]=new Set);var g=i+"__bubble";h.has(g)||(uw(c,i,2,!1),h.add(g))}function Rh(i,c,h){var g=0;c&&(g|=4),uw(h,i,g,c)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function To(i){if(!i[Uc]){i[Uc]=!0,n.forEach(function(h){h!=="selectionchange"&&(p3.has(h)||Rh(h,!1,i),Rh(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Uc]||(c[Uc]=!0,Rh("selectionchange",!1,c))}}function uw(i,c,h,g){switch(Rj(c)){case 1:var w=_4;break;case 4:w=C4;break;default:w=gh}h=w.bind(null,c,h,i),w=void 0,!lh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(c,h,{capture:!0,passive:w}):i.addEventListener(c,h,!0):w!==void 0?i.addEventListener(c,h,{passive:w}):i.addEventListener(c,h,!1)}function Mh(i,c,h,g,w){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var W=g.stateNode.containerInfo;if(W===w||W.nodeType===8&&W.parentNode===w)break;if(I===4)for(I=g.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===w||X.nodeType===8&&X.parentNode===w))return;I=I.return}for(;W!==null;){if(I=La(W),I===null)return;if(X=I.tag,X===5||X===6){g=A=I;continue e}W=W.parentNode}}g=g.return}pj(function(){var ne=A,he=sh(h),me=[];e:{var de=iw.get(i);if(de!==void 0){var ye=vh,Ne=i;switch(i){case"keypress":if(Dc(h)===0)break e;case"keydown":case"keyup":ye=H4;break;case"focusin":Ne="focus",ye=wh;break;case"focusout":Ne="blur",ye=wh;break;case"beforeblur":case"afterblur":ye=wh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=$j;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=R4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=V4;break;case rw:case nw:case aw:ye=$4;break;case sw:ye=X4;break;case"scroll":ye=E4;break;case"wheel":ye=J4;break;case"copy":case"cut":case"paste":ye=L4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Lj}var Se=(c&4)!==0,yt=!Se&&i==="scroll",ee=Se?de!==null?de+"Capture":null:de;Se=[];for(var J=ne,re;J!==null;){re=J;var ge=re.stateNode;if(re.tag===5&&ge!==null&&(re=ge,ee!==null&&(ge=mo(J,ee),ge!=null&&Se.push(Ro(J,ge,re)))),yt)break;J=J.return}0<Se.length&&(de=new ye(de,Ne,null,h,he),me.push({event:de,listeners:Se}))}}if((c&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",de&&h!==ah&&(Ne=h.relatedTarget||h.fromElement)&&(La(Ne)||Ne[kn]))break e;if((ye||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,ye?(Ne=h.relatedTarget||h.toElement,ye=ne,Ne=Ne?La(Ne):null,Ne!==null&&(yt=Da(Ne),Ne!==yt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(ye=null,Ne=ne),ye!==Ne)){if(Se=$j,ge="onMouseLeave",ee="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Lj,ge="onPointerLeave",ee="onPointerEnter",J="pointer"),yt=ye==null?de:Bs(ye),re=Ne==null?de:Bs(Ne),de=new Se(ge,J+"leave",ye,h,he),de.target=yt,de.relatedTarget=re,ge=null,La(he)===ne&&(Se=new Se(ee,J+"enter",Ne,h,he),Se.target=re,Se.relatedTarget=yt,ge=Se),yt=ge,ye&&Ne)t:{for(Se=ye,ee=Ne,J=0,re=Se;re;re=Ls(re))J++;for(re=0,ge=ee;ge;ge=Ls(ge))re++;for(;0<J-re;)Se=Ls(Se),J--;for(;0<re-J;)ee=Ls(ee),re--;for(;J--;){if(Se===ee||ee!==null&&Se===ee.alternate)break t;Se=Ls(Se),ee=Ls(ee)}Se=null}else Se=null;ye!==null&&dw(me,de,ye,Se,!1),Ne!==null&&yt!==null&&dw(me,yt,Ne,Se,!0)}}e:{if(de=ne?Bs(ne):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var ke=s3;else if(Wj(de))if(Kj)ke=c3;else{ke=o3;var Pe=i3}else(ye=de.nodeName)&&ye.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(ke=l3);if(ke&&(ke=ke(i,ne))){Hj(me,ke,h,he);break e}Pe&&Pe(i,de,ne),i==="focusout"&&(Pe=de._wrapperState)&&Pe.controlled&&de.type==="number"&&sn(de,"number",de.value)}switch(Pe=ne?Bs(ne):window,i){case"focusin":(Wj(Pe)||Pe.contentEditable==="true")&&($s=Pe,Ah=ne,Co=null);break;case"focusout":Co=Ah=$s=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,ew(me,h,he);break;case"selectionchange":if(f3)break;case"keydown":case"keyup":ew(me,h,he)}var Ae;if(Sh)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Is?zj(i,h)&&(Me="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Me="onCompositionStart");Me&&(Fj&&h.locale!=="ko"&&(Is||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Is&&(Ae=Mj()):(ra=he,yh="value"in ra?ra.value:ra.textContent,Is=!0)),Pe=Wc(ne,Me),0<Pe.length&&(Me=new Dj(Me,i,null,h,he),me.push({event:Me,listeners:Pe}),Ae?Me.data=Ae:(Ae=Uj(h),Ae!==null&&(Me.data=Ae)))),(Ae=e3?t3(i,h):r3(i,h))&&(ne=Wc(ne,"onBeforeInput"),0<ne.length&&(he=new Dj("onBeforeInput","beforeinput",null,h,he),me.push({event:he,listeners:ne}),he.data=Ae))}cw(me,c)})}function Ro(i,c,h){return{instance:i,listener:c,currentTarget:h}}function Wc(i,c){for(var h=c+"Capture",g=[];i!==null;){var w=i,A=w.stateNode;w.tag===5&&A!==null&&(w=A,A=mo(i,h),A!=null&&g.unshift(Ro(i,A,w)),A=mo(i,c),A!=null&&g.push(Ro(i,A,w))),i=i.return}return g}function Ls(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function dw(i,c,h,g,w){for(var A=c._reactName,I=[];h!==null&&h!==g;){var W=h,X=W.alternate,ne=W.stateNode;if(X!==null&&X===g)break;W.tag===5&&ne!==null&&(W=ne,w?(X=mo(h,A),X!=null&&I.unshift(Ro(h,X,W))):w||(X=mo(h,A),X!=null&&I.push(Ro(h,X,W)))),h=h.return}I.length!==0&&i.push({event:c,listeners:I})}var g3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function fw(i){return(typeof i=="string"?i:""+i).replace(g3,`
`).replace(x3,"")}function Hc(i,c,h){if(c=fw(c),fw(i)!==c&&h)throw Error(r(425))}function Kc(){}var Ih=null,$h=null;function Dh(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Lh=typeof setTimeout=="function"?setTimeout:void 0,y3=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(i){return hw.resolve(null).then(i).catch(b3)}:Lh;function b3(i){setTimeout(function(){throw i})}function Fh(i,c){var h=c,g=0;do{var w=h.nextSibling;if(i.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(g===0){i.removeChild(w),No(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=w}while(h);No(c)}function aa(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return i}function mw(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return i;c--}else h==="/$"&&c++}i=i.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),cn="__reactFiber$"+Fs,Mo="__reactProps$"+Fs,kn="__reactContainer$"+Fs,Bh="__reactEvents$"+Fs,j3="__reactListeners$"+Fs,w3="__reactHandles$"+Fs;function La(i){var c=i[cn];if(c)return c;for(var h=i.parentNode;h;){if(c=h[kn]||h[cn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=mw(i);i!==null;){if(h=i[cn])return h;i=mw(i)}return c}i=h,h=i.parentNode}return null}function Io(i){return i=i[cn]||i[kn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Bs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Gc(i){return i[Mo]||null}var qh=[],qs=-1;function sa(i){return{current:i}}function it(i){0>qs||(i.current=qh[qs],qh[qs]=null,qs--)}function tt(i,c){qs++,qh[qs]=i.current,i.current=c}var ia={},zt=sa(ia),ar=sa(!1),Fa=ia;function zs(i,c){var h=i.type.contextTypes;if(!h)return ia;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var w={},A;for(A in h)w[A]=c[A];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=w),w}function sr(i){return i=i.childContextTypes,i!=null}function Vc(){it(ar),it(zt)}function pw(i,c,h){if(zt.current!==ia)throw Error(r(168));tt(zt,c),tt(ar,h)}function gw(i,c,h){var g=i.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var w in g)if(!(w in c))throw Error(r(108,te(i)||"Unknown",w));return q({},h,g)}function Yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ia,Fa=zt.current,tt(zt,i),tt(ar,ar.current),!0}function xw(i,c,h){var g=i.stateNode;if(!g)throw Error(r(169));h?(i=gw(i,c,Fa),g.__reactInternalMemoizedMergedChildContext=i,it(ar),it(zt),tt(zt,i)):it(ar),tt(ar,h)}var On=null,Xc=!1,zh=!1;function yw(i){On===null?On=[i]:On.push(i)}function N3(i){Xc=!0,yw(i)}function oa(){if(!zh&&On!==null){zh=!0;var i=0,c=Qe;try{var h=On;for(Qe=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}On=null,Xc=!1}catch(w){throw On!==null&&(On=On.slice(i+1)),bj(uh,oa),w}finally{Qe=c,zh=!1}}return null}var Us=[],Ws=0,Qc=null,Jc=0,kr=[],Or=0,Ba=null,Pn=1,An="";function qa(i,c){Us[Ws++]=Jc,Us[Ws++]=Qc,Qc=i,Jc=c}function vw(i,c,h){kr[Or++]=Pn,kr[Or++]=An,kr[Or++]=Ba,Ba=i;var g=Pn;i=An;var w=32-zr(g)-1;g&=~(1<<w),h+=1;var A=32-zr(c)+w;if(30<A){var I=w-w%5;A=(g&(1<<I)-1).toString(32),g>>=I,w-=I,Pn=1<<32-zr(c)+w|h<<w|g,An=A+i}else Pn=1<<A|h<<w|g,An=i}function Uh(i){i.return!==null&&(qa(i,1),vw(i,1,0))}function Wh(i){for(;i===Qc;)Qc=Us[--Ws],Us[Ws]=null,Jc=Us[--Ws],Us[Ws]=null;for(;i===Ba;)Ba=kr[--Or],kr[Or]=null,An=kr[--Or],kr[Or]=null,Pn=kr[--Or],kr[Or]=null}var pr=null,gr=null,lt=!1,Wr=null;function bw(i,c){var h=Cr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=i,c=i.deletions,c===null?(i.deletions=[h],i.flags|=16):c.push(h)}function jw(i,c){switch(i.tag){case 5:var h=i.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(i.stateNode=c,pr=i,gr=aa(c.firstChild),!0):!1;case 6:return c=i.pendingProps===""||c.nodeType!==3?null:c,c!==null?(i.stateNode=c,pr=i,gr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ba!==null?{id:Pn,overflow:An}:null,i.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Cr(18,null,null,0),h.stateNode=c,h.return=i,i.child=h,pr=i,gr=null,!0):!1;default:return!1}}function Hh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kh(i){if(lt){var c=gr;if(c){var h=c;if(!jw(i,c)){if(Hh(i))throw Error(r(418));c=aa(h.nextSibling);var g=pr;c&&jw(i,c)?bw(g,h):(i.flags=i.flags&-4097|2,lt=!1,pr=i)}}else{if(Hh(i))throw Error(r(418));i.flags=i.flags&-4097|2,lt=!1,pr=i}}}function ww(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pr=i}function Zc(i){if(i!==pr)return!1;if(!lt)return ww(i),lt=!0,!1;var c;if((c=i.tag!==3)&&!(c=i.tag!==5)&&(c=i.type,c=c!=="head"&&c!=="body"&&!Dh(i.type,i.memoizedProps)),c&&(c=gr)){if(Hh(i))throw Nw(),Error(r(418));for(;c;)bw(i,c),c=aa(c.nextSibling)}if(ww(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(c===0){gr=aa(i.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}i=i.nextSibling}gr=null}}else gr=pr?aa(i.stateNode.nextSibling):null;return!0}function Nw(){for(var i=gr;i;)i=aa(i.nextSibling)}function Hs(){gr=pr=null,lt=!1}function Gh(i){Wr===null?Wr=[i]:Wr.push(i)}var S3=S.ReactCurrentBatchConfig;function $o(i,c,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,i));var w=g,A=""+i;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(I){var W=w.refs;I===null?delete W[A]:W[A]=I},c._stringRef=A,c)}if(typeof i!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,i))}return i}function eu(i,c){throw i=Object.prototype.toString.call(c),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i))}function Sw(i){var c=i._init;return c(i._payload)}function kw(i){function c(ee,J){if(i){var re=ee.deletions;re===null?(ee.deletions=[J],ee.flags|=16):re.push(J)}}function h(ee,J){if(!i)return null;for(;J!==null;)c(ee,J),J=J.sibling;return null}function g(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function w(ee,J){return ee=pa(ee,J),ee.index=0,ee.sibling=null,ee}function A(ee,J,re){return ee.index=re,i?(re=ee.alternate,re!==null?(re=re.index,re<J?(ee.flags|=2,J):re):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function I(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function W(ee,J,re,ge){return J===null||J.tag!==6?(J=Lm(re,ee.mode,ge),J.return=ee,J):(J=w(J,re),J.return=ee,J)}function X(ee,J,re,ge){var ke=re.type;return ke===C?he(ee,J,re.props.children,ge,re.key):J!==null&&(J.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&Sw(ke)===J.type)?(ge=w(J,re.props),ge.ref=$o(ee,J,re),ge.return=ee,ge):(ge=Su(re.type,re.key,re.props,null,ee.mode,ge),ge.ref=$o(ee,J,re),ge.return=ee,ge)}function ne(ee,J,re,ge){return J===null||J.tag!==4||J.stateNode.containerInfo!==re.containerInfo||J.stateNode.implementation!==re.implementation?(J=Fm(re,ee.mode,ge),J.return=ee,J):(J=w(J,re.children||[]),J.return=ee,J)}function he(ee,J,re,ge,ke){return J===null||J.tag!==7?(J=Ya(re,ee.mode,ge,ke),J.return=ee,J):(J=w(J,re),J.return=ee,J)}function me(ee,J,re){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Lm(""+J,ee.mode,re),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return re=Su(J.type,J.key,J.props,null,ee.mode,re),re.ref=$o(ee,null,J),re.return=ee,re;case P:return J=Fm(J,ee.mode,re),J.return=ee,J;case B:var ge=J._init;return me(ee,ge(J._payload),re)}if(on(J)||Y(J))return J=Ya(J,ee.mode,re,null),J.return=ee,J;eu(ee,J)}return null}function de(ee,J,re,ge){var ke=J!==null?J.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return ke!==null?null:W(ee,J,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return re.key===ke?X(ee,J,re,ge):null;case P:return re.key===ke?ne(ee,J,re,ge):null;case B:return ke=re._init,de(ee,J,ke(re._payload),ge)}if(on(re)||Y(re))return ke!==null?null:he(ee,J,re,ge,null);eu(ee,re)}return null}function ye(ee,J,re,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ee=ee.get(re)||null,W(J,ee,""+ge,ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case N:return ee=ee.get(ge.key===null?re:ge.key)||null,X(J,ee,ge,ke);case P:return ee=ee.get(ge.key===null?re:ge.key)||null,ne(J,ee,ge,ke);case B:var Pe=ge._init;return ye(ee,J,re,Pe(ge._payload),ke)}if(on(ge)||Y(ge))return ee=ee.get(re)||null,he(J,ee,ge,ke,null);eu(J,ge)}return null}function Ne(ee,J,re,ge){for(var ke=null,Pe=null,Ae=J,Me=J=0,Mt=null;Ae!==null&&Me<re.length;Me++){Ae.index>Me?(Mt=Ae,Ae=null):Mt=Ae.sibling;var He=de(ee,Ae,re[Me],ge);if(He===null){Ae===null&&(Ae=Mt);break}i&&Ae&&He.alternate===null&&c(ee,Ae),J=A(He,J,Me),Pe===null?ke=He:Pe.sibling=He,Pe=He,Ae=Mt}if(Me===re.length)return h(ee,Ae),lt&&qa(ee,Me),ke;if(Ae===null){for(;Me<re.length;Me++)Ae=me(ee,re[Me],ge),Ae!==null&&(J=A(Ae,J,Me),Pe===null?ke=Ae:Pe.sibling=Ae,Pe=Ae);return lt&&qa(ee,Me),ke}for(Ae=g(ee,Ae);Me<re.length;Me++)Mt=ye(Ae,ee,Me,re[Me],ge),Mt!==null&&(i&&Mt.alternate!==null&&Ae.delete(Mt.key===null?Me:Mt.key),J=A(Mt,J,Me),Pe===null?ke=Mt:Pe.sibling=Mt,Pe=Mt);return i&&Ae.forEach(function(ga){return c(ee,ga)}),lt&&qa(ee,Me),ke}function Se(ee,J,re,ge){var ke=Y(re);if(typeof ke!="function")throw Error(r(150));if(re=ke.call(re),re==null)throw Error(r(151));for(var Pe=ke=null,Ae=J,Me=J=0,Mt=null,He=re.next();Ae!==null&&!He.done;Me++,He=re.next()){Ae.index>Me?(Mt=Ae,Ae=null):Mt=Ae.sibling;var ga=de(ee,Ae,He.value,ge);if(ga===null){Ae===null&&(Ae=Mt);break}i&&Ae&&ga.alternate===null&&c(ee,Ae),J=A(ga,J,Me),Pe===null?ke=ga:Pe.sibling=ga,Pe=ga,Ae=Mt}if(He.done)return h(ee,Ae),lt&&qa(ee,Me),ke;if(Ae===null){for(;!He.done;Me++,He=re.next())He=me(ee,He.value,ge),He!==null&&(J=A(He,J,Me),Pe===null?ke=He:Pe.sibling=He,Pe=He);return lt&&qa(ee,Me),ke}for(Ae=g(ee,Ae);!He.done;Me++,He=re.next())He=ye(Ae,ee,Me,He.value,ge),He!==null&&(i&&He.alternate!==null&&Ae.delete(He.key===null?Me:He.key),J=A(He,J,Me),Pe===null?ke=He:Pe.sibling=He,Pe=He);return i&&Ae.forEach(function(n6){return c(ee,n6)}),lt&&qa(ee,Me),ke}function yt(ee,J,re,ge){if(typeof re=="object"&&re!==null&&re.type===C&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case N:e:{for(var ke=re.key,Pe=J;Pe!==null;){if(Pe.key===ke){if(ke=re.type,ke===C){if(Pe.tag===7){h(ee,Pe.sibling),J=w(Pe,re.props.children),J.return=ee,ee=J;break e}}else if(Pe.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&Sw(ke)===Pe.type){h(ee,Pe.sibling),J=w(Pe,re.props),J.ref=$o(ee,Pe,re),J.return=ee,ee=J;break e}h(ee,Pe);break}else c(ee,Pe);Pe=Pe.sibling}re.type===C?(J=Ya(re.props.children,ee.mode,ge,re.key),J.return=ee,ee=J):(ge=Su(re.type,re.key,re.props,null,ee.mode,ge),ge.ref=$o(ee,J,re),ge.return=ee,ee=ge)}return I(ee);case P:e:{for(Pe=re.key;J!==null;){if(J.key===Pe)if(J.tag===4&&J.stateNode.containerInfo===re.containerInfo&&J.stateNode.implementation===re.implementation){h(ee,J.sibling),J=w(J,re.children||[]),J.return=ee,ee=J;break e}else{h(ee,J);break}else c(ee,J);J=J.sibling}J=Fm(re,ee.mode,ge),J.return=ee,ee=J}return I(ee);case B:return Pe=re._init,yt(ee,J,Pe(re._payload),ge)}if(on(re))return Ne(ee,J,re,ge);if(Y(re))return Se(ee,J,re,ge);eu(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,J!==null&&J.tag===6?(h(ee,J.sibling),J=w(J,re),J.return=ee,ee=J):(h(ee,J),J=Lm(re,ee.mode,ge),J.return=ee,ee=J),I(ee)):h(ee,J)}return yt}var Ks=kw(!0),Ow=kw(!1),tu=sa(null),ru=null,Gs=null,Vh=null;function Yh(){Vh=Gs=ru=null}function Xh(i){var c=tu.current;it(tu),i._currentValue=c}function Qh(i,c,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),i===h)break;i=i.return}}function Vs(i,c){ru=i,Vh=Gs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&c)!==0&&(ir=!0),i.firstContext=null)}function Pr(i){var c=i._currentValue;if(Vh!==i)if(i={context:i,memoizedValue:c,next:null},Gs===null){if(ru===null)throw Error(r(308));Gs=i,ru.dependencies={lanes:0,firstContext:i}}else Gs=Gs.next=i;return c}var za=null;function Jh(i){za===null?za=[i]:za.push(i)}function Pw(i,c,h,g){var w=c.interleaved;return w===null?(h.next=h,Jh(c)):(h.next=w.next,w.next=h),c.interleaved=h,_n(i,g)}function _n(i,c){i.lanes|=c;var h=i.alternate;for(h!==null&&(h.lanes|=c),h=i,i=i.return;i!==null;)i.childLanes|=c,h=i.alternate,h!==null&&(h.childLanes|=c),h=i,i=i.return;return h.tag===3?h.stateNode:null}var la=!1;function Zh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Cn(i,c){return{eventTime:i,lane:c,tag:0,payload:null,callback:null,next:null}}function ca(i,c,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(We&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,_n(i,h)}return w=g.interleaved,w===null?(c.next=c,Jh(g)):(c.next=w.next,w.next=c),g.interleaved=c,_n(i,h)}function nu(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,hh(i,h)}}function _w(i,c){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?w=A=I:A=A.next=I,h=h.next}while(h!==null);A===null?w=A=c:A=A.next=c}else w=A=c;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}function au(i,c,h,g){var w=i.updateQueue;la=!1;var A=w.firstBaseUpdate,I=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var X=W,ne=X.next;X.next=null,I===null?A=ne:I.next=ne,I=X;var he=i.alternate;he!==null&&(he=he.updateQueue,W=he.lastBaseUpdate,W!==I&&(W===null?he.firstBaseUpdate=ne:W.next=ne,he.lastBaseUpdate=X))}if(A!==null){var me=w.baseState;I=0,he=ne=X=null,W=A;do{var de=W.lane,ye=W.eventTime;if((g&de)===de){he!==null&&(he=he.next={eventTime:ye,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ne=i,Se=W;switch(de=c,ye=h,Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){me=Ne.call(ye,me,de);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,de=typeof Ne=="function"?Ne.call(ye,me,de):Ne,de==null)break e;me=q({},me,de);break e;case 2:la=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,de=w.effects,de===null?w.effects=[W]:de.push(W))}else ye={eventTime:ye,lane:de,tag:W.tag,payload:W.payload,callback:W.callback,next:null},he===null?(ne=he=ye,X=me):he=he.next=ye,I|=de;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;de=W,W=de.next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}while(!0);if(he===null&&(X=me),w.baseState=X,w.firstBaseUpdate=ne,w.lastBaseUpdate=he,c=w.shared.interleaved,c!==null){w=c;do I|=w.lane,w=w.next;while(w!==c)}else A===null&&(w.shared.lanes=0);Ha|=I,i.lanes=I,i.memoizedState=me}}function Cw(i,c,h){if(i=c.effects,c.effects=null,i!==null)for(c=0;c<i.length;c++){var g=i[c],w=g.callback;if(w!==null){if(g.callback=null,g=h,typeof w!="function")throw Error(r(191,w));w.call(g)}}}var Do={},un=sa(Do),Lo=sa(Do),Fo=sa(Do);function Ua(i){if(i===Do)throw Error(r(174));return i}function em(i,c){switch(tt(Fo,c),tt(Lo,i),tt(un,Do),i=c.nodeType,i){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:th(null,"");break;default:i=i===8?c.parentNode:c,c=i.namespaceURI||null,i=i.tagName,c=th(c,i)}it(un),tt(un,c)}function Ys(){it(un),it(Lo),it(Fo)}function Ew(i){Ua(Fo.current);var c=Ua(un.current),h=th(c,i.type);c!==h&&(tt(Lo,i),tt(un,h))}function tm(i){Lo.current===i&&(it(un),it(Lo))}var ut=sa(0);function su(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var rm=[];function nm(){for(var i=0;i<rm.length;i++)rm[i]._workInProgressVersionPrimary=null;rm.length=0}var iu=S.ReactCurrentDispatcher,am=S.ReactCurrentBatchConfig,Wa=0,dt=null,Nt=null,Tt=null,ou=!1,Bo=!1,qo=0,k3=0;function Ut(){throw Error(r(321))}function sm(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!Ur(i[h],c[h]))return!1;return!0}function im(i,c,h,g,w,A){if(Wa=A,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,iu.current=i===null||i.memoizedState===null?_3:C3,i=h(g,w),Bo){A=0;do{if(Bo=!1,qo=0,25<=A)throw Error(r(301));A+=1,Tt=Nt=null,c.updateQueue=null,iu.current=E3,i=h(g,w)}while(Bo)}if(iu.current=uu,c=Nt!==null&&Nt.next!==null,Wa=0,Tt=Nt=dt=null,ou=!1,c)throw Error(r(300));return i}function om(){var i=qo!==0;return qo=0,i}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function Ar(){if(Nt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var c=Tt===null?dt.memoizedState:Tt.next;if(c!==null)Tt=c,Nt=i;else{if(i===null)throw Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?dt.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function zo(i,c){return typeof c=="function"?c(i):c}function lm(i){var c=Ar(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var g=Nt,w=g.baseQueue,A=h.pending;if(A!==null){if(w!==null){var I=w.next;w.next=A.next,A.next=I}g.baseQueue=w=A,h.pending=null}if(w!==null){A=w.next,g=g.baseState;var W=I=null,X=null,ne=A;do{var he=ne.lane;if((Wa&he)===he)X!==null&&(X=X.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:i(g,ne.action);else{var me={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};X===null?(W=X=me,I=g):X=X.next=me,dt.lanes|=he,Ha|=he}ne=ne.next}while(ne!==null&&ne!==A);X===null?I=g:X.next=W,Ur(g,c.memoizedState)||(ir=!0),c.memoizedState=g,c.baseState=I,c.baseQueue=X,h.lastRenderedState=g}if(i=h.interleaved,i!==null){w=i;do A=w.lane,dt.lanes|=A,Ha|=A,w=w.next;while(w!==i)}else w===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function cm(i){var c=Ar(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var g=h.dispatch,w=h.pending,A=c.memoizedState;if(w!==null){h.pending=null;var I=w=w.next;do A=i(A,I.action),I=I.next;while(I!==w);Ur(A,c.memoizedState)||(ir=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,g]}function Tw(){}function Rw(i,c){var h=dt,g=Ar(),w=c(),A=!Ur(g.memoizedState,w);if(A&&(g.memoizedState=w,ir=!0),g=g.queue,um($w.bind(null,h,g,i),[i]),g.getSnapshot!==c||A||Tt!==null&&Tt.memoizedState.tag&1){if(h.flags|=2048,Uo(9,Iw.bind(null,h,g,w,c),void 0,null),Rt===null)throw Error(r(349));(Wa&30)!==0||Mw(h,c,w)}return w}function Mw(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function Iw(i,c,h,g){c.value=h,c.getSnapshot=g,Dw(c)&&Lw(i)}function $w(i,c,h){return h(function(){Dw(c)&&Lw(i)})}function Dw(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!Ur(i,h)}catch{return!0}}function Lw(i){var c=_n(i,1);c!==null&&Vr(c,i,1,-1)}function Fw(i){var c=dn();return typeof i=="function"&&(i=i()),c.memoizedState=c.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:i},c.queue=i,i=i.dispatch=A3.bind(null,dt,i),[c.memoizedState,i]}function Uo(i,c,h,g){return i={tag:i,create:c,destroy:h,deps:g,next:null},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.lastEffect=i.next=i):(h=c.lastEffect,h===null?c.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,c.lastEffect=i)),i}function Bw(){return Ar().memoizedState}function lu(i,c,h,g){var w=dn();dt.flags|=i,w.memoizedState=Uo(1|c,h,void 0,g===void 0?null:g)}function cu(i,c,h,g){var w=Ar();g=g===void 0?null:g;var A=void 0;if(Nt!==null){var I=Nt.memoizedState;if(A=I.destroy,g!==null&&sm(g,I.deps)){w.memoizedState=Uo(c,h,A,g);return}}dt.flags|=i,w.memoizedState=Uo(1|c,h,A,g)}function qw(i,c){return lu(8390656,8,i,c)}function um(i,c){return cu(2048,8,i,c)}function zw(i,c){return cu(4,2,i,c)}function Uw(i,c){return cu(4,4,i,c)}function Ww(i,c){if(typeof c=="function")return i=i(),c(i),function(){c(null)};if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Hw(i,c,h){return h=h!=null?h.concat([i]):null,cu(4,4,Ww.bind(null,c,i),h)}function dm(){}function Kw(i,c){var h=Ar();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&sm(c,g[1])?g[0]:(h.memoizedState=[i,c],i)}function Gw(i,c){var h=Ar();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&sm(c,g[1])?g[0]:(i=i(),h.memoizedState=[i,c],i)}function Vw(i,c,h){return(Wa&21)===0?(i.baseState&&(i.baseState=!1,ir=!0),i.memoizedState=h):(Ur(h,c)||(h=Sj(),dt.lanes|=h,Ha|=h,i.baseState=!0),c)}function O3(i,c){var h=Qe;Qe=h!==0&&4>h?h:4,i(!0);var g=am.transition;am.transition={};try{i(!1),c()}finally{Qe=h,am.transition=g}}function Yw(){return Ar().memoizedState}function P3(i,c,h){var g=ha(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Xw(i))Qw(c,h);else if(h=Pw(i,c,h,g),h!==null){var w=Jt();Vr(h,i,g,w),Jw(h,c,g)}}function A3(i,c,h){var g=ha(i),w={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Xw(i))Qw(c,w);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var I=c.lastRenderedState,W=A(I,h);if(w.hasEagerState=!0,w.eagerState=W,Ur(W,I)){var X=c.interleaved;X===null?(w.next=w,Jh(c)):(w.next=X.next,X.next=w),c.interleaved=w;return}}catch{}finally{}h=Pw(i,c,w,g),h!==null&&(w=Jt(),Vr(h,i,g,w),Jw(h,c,g))}}function Xw(i){var c=i.alternate;return i===dt||c!==null&&c===dt}function Qw(i,c){Bo=ou=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function Jw(i,c,h){if((h&4194240)!==0){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,hh(i,h)}}var uu={readContext:Pr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},_3={readContext:Pr,useCallback:function(i,c){return dn().memoizedState=[i,c===void 0?null:c],i},useContext:Pr,useEffect:qw,useImperativeHandle:function(i,c,h){return h=h!=null?h.concat([i]):null,lu(4194308,4,Ww.bind(null,c,i),h)},useLayoutEffect:function(i,c){return lu(4194308,4,i,c)},useInsertionEffect:function(i,c){return lu(4,2,i,c)},useMemo:function(i,c){var h=dn();return c=c===void 0?null:c,i=i(),h.memoizedState=[i,c],i},useReducer:function(i,c,h){var g=dn();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:c},g.queue=i,i=i.dispatch=P3.bind(null,dt,i),[g.memoizedState,i]},useRef:function(i){var c=dn();return i={current:i},c.memoizedState=i},useState:Fw,useDebugValue:dm,useDeferredValue:function(i){return dn().memoizedState=i},useTransition:function(){var i=Fw(!1),c=i[0];return i=O3.bind(null,i[1]),dn().memoizedState=i,[c,i]},useMutableSource:function(){},useSyncExternalStore:function(i,c,h){var g=dt,w=dn();if(lt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Rt===null)throw Error(r(349));(Wa&30)!==0||Mw(g,c,h)}w.memoizedState=h;var A={value:h,getSnapshot:c};return w.queue=A,qw($w.bind(null,g,A,i),[i]),g.flags|=2048,Uo(9,Iw.bind(null,g,A,h,c),void 0,null),h},useId:function(){var i=dn(),c=Rt.identifierPrefix;if(lt){var h=An,g=Pn;h=(g&~(1<<32-zr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=qo++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=k3++,c=":"+c+"r"+h.toString(32)+":";return i.memoizedState=c},unstable_isNewReconciler:!1},C3={readContext:Pr,useCallback:Kw,useContext:Pr,useEffect:um,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:Uw,useMemo:Gw,useReducer:lm,useRef:Bw,useState:function(){return lm(zo)},useDebugValue:dm,useDeferredValue:function(i){var c=Ar();return Vw(c,Nt.memoizedState,i)},useTransition:function(){var i=lm(zo)[0],c=Ar().memoizedState;return[i,c]},useMutableSource:Tw,useSyncExternalStore:Rw,useId:Yw,unstable_isNewReconciler:!1},E3={readContext:Pr,useCallback:Kw,useContext:Pr,useEffect:um,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:Uw,useMemo:Gw,useReducer:cm,useRef:Bw,useState:function(){return cm(zo)},useDebugValue:dm,useDeferredValue:function(i){var c=Ar();return Nt===null?c.memoizedState=i:Vw(c,Nt.memoizedState,i)},useTransition:function(){var i=cm(zo)[0],c=Ar().memoizedState;return[i,c]},useMutableSource:Tw,useSyncExternalStore:Rw,useId:Yw,unstable_isNewReconciler:!1};function Hr(i,c){if(i&&i.defaultProps){c=q({},c),i=i.defaultProps;for(var h in i)c[h]===void 0&&(c[h]=i[h]);return c}return c}function fm(i,c,h,g){c=i.memoizedState,h=h(g,c),h=h==null?c:q({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var du={isMounted:function(i){return(i=i._reactInternals)?Da(i)===i:!1},enqueueSetState:function(i,c,h){i=i._reactInternals;var g=Jt(),w=ha(i),A=Cn(g,w);A.payload=c,h!=null&&(A.callback=h),c=ca(i,A,w),c!==null&&(Vr(c,i,w,g),nu(c,i,w))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var g=Jt(),w=ha(i),A=Cn(g,w);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=ca(i,A,w),c!==null&&(Vr(c,i,w,g),nu(c,i,w))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=Jt(),g=ha(i),w=Cn(h,g);w.tag=2,c!=null&&(w.callback=c),c=ca(i,w,g),c!==null&&(Vr(c,i,g,h),nu(c,i,g))}};function Zw(i,c,h,g,w,A,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,A,I):c.prototype&&c.prototype.isPureReactComponent?!_o(h,g)||!_o(w,A):!0}function e1(i,c,h){var g=!1,w=ia,A=c.contextType;return typeof A=="object"&&A!==null?A=Pr(A):(w=sr(c)?Fa:zt.current,g=c.contextTypes,A=(g=g!=null)?zs(i,w):ia),c=new c(h,A),i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=du,i.stateNode=c,c._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=A),c}function t1(i,c,h,g){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==i&&du.enqueueReplaceState(c,c.state,null)}function hm(i,c,h,g){var w=i.stateNode;w.props=h,w.state=i.memoizedState,w.refs={},Zh(i);var A=c.contextType;typeof A=="object"&&A!==null?w.context=Pr(A):(A=sr(c)?Fa:zt.current,w.context=zs(i,A)),w.state=i.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(fm(i,c,A,h),w.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&du.enqueueReplaceState(w,w.state,null),au(i,h,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Xs(i,c){try{var h="",g=c;do h+=ue(g),g=g.return;while(g);var w=h}catch(A){w=`
Error generating stack: `+A.message+`
`+A.stack}return{value:i,source:c,stack:w,digest:null}}function mm(i,c,h){return{value:i,source:null,stack:h??null,digest:c??null}}function pm(i,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var T3=typeof WeakMap=="function"?WeakMap:Map;function r1(i,c,h){h=Cn(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){yu||(yu=!0,Cm=g),pm(i,c)},h}function n1(i,c,h){h=Cn(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=c.value;h.payload=function(){return g(w)},h.callback=function(){pm(i,c)}}var A=i.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){pm(i,c),typeof g!="function"&&(da===null?da=new Set([this]):da.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),h}function a1(i,c,h){var g=i.pingCache;if(g===null){g=i.pingCache=new T3;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(h)||(w.add(h),i=K3.bind(null,i,c,h),c.then(i,i))}function s1(i){do{var c;if((c=i.tag===13)&&(c=i.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return i;i=i.return}while(i!==null);return null}function i1(i,c,h,g,w){return(i.mode&1)===0?(i===c?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Cn(-1,1),c.tag=2,ca(h,c,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var R3=S.ReactCurrentOwner,ir=!1;function Qt(i,c,h,g){c.child=i===null?Ow(c,null,h,g):Ks(c,i.child,h,g)}function o1(i,c,h,g,w){h=h.render;var A=c.ref;return Vs(c,w),g=im(i,c,h,g,A,w),h=om(),i!==null&&!ir?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~w,En(i,c,w)):(lt&&h&&Uh(c),c.flags|=1,Qt(i,c,g,w),c.child)}function l1(i,c,h,g,w){if(i===null){var A=h.type;return typeof A=="function"&&!Dm(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=A,c1(i,c,A,g,w)):(i=Su(h.type,null,g,c,c.mode,w),i.ref=c.ref,i.return=c,c.child=i)}if(A=i.child,(i.lanes&w)===0){var I=A.memoizedProps;if(h=h.compare,h=h!==null?h:_o,h(I,g)&&i.ref===c.ref)return En(i,c,w)}return c.flags|=1,i=pa(A,g),i.ref=c.ref,i.return=c,c.child=i}function c1(i,c,h,g,w){if(i!==null){var A=i.memoizedProps;if(_o(A,g)&&i.ref===c.ref)if(ir=!1,c.pendingProps=g=A,(i.lanes&w)!==0)(i.flags&131072)!==0&&(ir=!0);else return c.lanes=i.lanes,En(i,c,w)}return gm(i,c,h,g,w)}function u1(i,c,h){var g=c.pendingProps,w=g.children,A=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Js,xr),xr|=h;else{if((h&1073741824)===0)return i=A!==null?A.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:i,cachePool:null,transitions:null},c.updateQueue=null,tt(Js,xr),xr|=i,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:h,tt(Js,xr),xr|=g}else A!==null?(g=A.baseLanes|h,c.memoizedState=null):g=h,tt(Js,xr),xr|=g;return Qt(i,c,w,h),c.child}function d1(i,c){var h=c.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function gm(i,c,h,g,w){var A=sr(h)?Fa:zt.current;return A=zs(c,A),Vs(c,w),h=im(i,c,h,g,A,w),g=om(),i!==null&&!ir?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~w,En(i,c,w)):(lt&&g&&Uh(c),c.flags|=1,Qt(i,c,h,w),c.child)}function f1(i,c,h,g,w){if(sr(h)){var A=!0;Yc(c)}else A=!1;if(Vs(c,w),c.stateNode===null)hu(i,c),e1(c,h,g),hm(c,h,g,w),g=!0;else if(i===null){var I=c.stateNode,W=c.memoizedProps;I.props=W;var X=I.context,ne=h.contextType;typeof ne=="object"&&ne!==null?ne=Pr(ne):(ne=sr(h)?Fa:zt.current,ne=zs(c,ne));var he=h.getDerivedStateFromProps,me=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function";me||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==g||X!==ne)&&t1(c,I,g,ne),la=!1;var de=c.memoizedState;I.state=de,au(c,g,I,w),X=c.memoizedState,W!==g||de!==X||ar.current||la?(typeof he=="function"&&(fm(c,h,he,g),X=c.memoizedState),(W=la||Zw(c,h,W,g,de,X,ne))?(me||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),I.props=g,I.state=X,I.context=ne,g=W):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{I=c.stateNode,Aw(i,c),W=c.memoizedProps,ne=c.type===c.elementType?W:Hr(c.type,W),I.props=ne,me=c.pendingProps,de=I.context,X=h.contextType,typeof X=="object"&&X!==null?X=Pr(X):(X=sr(h)?Fa:zt.current,X=zs(c,X));var ye=h.getDerivedStateFromProps;(he=typeof ye=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==me||de!==X)&&t1(c,I,g,X),la=!1,de=c.memoizedState,I.state=de,au(c,g,I,w);var Ne=c.memoizedState;W!==me||de!==Ne||ar.current||la?(typeof ye=="function"&&(fm(c,h,ye,g),Ne=c.memoizedState),(ne=la||Zw(c,h,ne,g,de,Ne,X)||!1)?(he||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,Ne,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,Ne,X)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===i.memoizedProps&&de===i.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&de===i.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ne),I.props=g,I.state=Ne,I.context=X,g=ne):(typeof I.componentDidUpdate!="function"||W===i.memoizedProps&&de===i.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&de===i.memoizedState||(c.flags|=1024),g=!1)}return xm(i,c,h,g,A,w)}function xm(i,c,h,g,w,A){d1(i,c);var I=(c.flags&128)!==0;if(!g&&!I)return w&&xw(c,h,!1),En(i,c,A);g=c.stateNode,R3.current=c;var W=I&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,i!==null&&I?(c.child=Ks(c,i.child,null,A),c.child=Ks(c,null,W,A)):Qt(i,c,W,A),c.memoizedState=g.state,w&&xw(c,h,!0),c.child}function h1(i){var c=i.stateNode;c.pendingContext?pw(i,c.pendingContext,c.pendingContext!==c.context):c.context&&pw(i,c.context,!1),em(i,c.containerInfo)}function m1(i,c,h,g,w){return Hs(),Gh(w),c.flags|=256,Qt(i,c,h,g),c.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(i){return{baseLanes:i,cachePool:null,transitions:null}}function p1(i,c,h){var g=c.pendingProps,w=ut.current,A=!1,I=(c.flags&128)!==0,W;if((W=I)||(W=i!==null&&i.memoizedState===null?!1:(w&2)!==0),W?(A=!0,c.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),tt(ut,w&1),i===null)return Kh(c),i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((c.mode&1)===0?c.lanes=1:i.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=g.children,i=g.fallback,A?(g=c.mode,A=c.child,I={mode:"hidden",children:I},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=ku(I,g,0,null),i=Ya(i,g,h,null),A.return=c,i.return=c,A.sibling=i,c.child=A,c.child.memoizedState=vm(h),c.memoizedState=ym,i):bm(c,I));if(w=i.memoizedState,w!==null&&(W=w.dehydrated,W!==null))return M3(i,c,I,g,W,w,h);if(A){A=g.fallback,I=c.mode,w=i.child,W=w.sibling;var X={mode:"hidden",children:g.children};return(I&1)===0&&c.child!==w?(g=c.child,g.childLanes=0,g.pendingProps=X,c.deletions=null):(g=pa(w,X),g.subtreeFlags=w.subtreeFlags&14680064),W!==null?A=pa(W,A):(A=Ya(A,I,h,null),A.flags|=2),A.return=c,g.return=c,g.sibling=A,c.child=g,g=A,A=c.child,I=i.child.memoizedState,I=I===null?vm(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=i.childLanes&~h,c.memoizedState=ym,g}return A=i.child,i=A.sibling,g=pa(A,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,i!==null&&(h=c.deletions,h===null?(c.deletions=[i],c.flags|=16):h.push(i)),c.child=g,c.memoizedState=null,g}function bm(i,c){return c=ku({mode:"visible",children:c},i.mode,0,null),c.return=i,i.child=c}function fu(i,c,h,g){return g!==null&&Gh(g),Ks(c,i.child,null,h),i=bm(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function M3(i,c,h,g,w,A,I){if(h)return c.flags&256?(c.flags&=-257,g=mm(Error(r(422))),fu(i,c,I,g)):c.memoizedState!==null?(c.child=i.child,c.flags|=128,null):(A=g.fallback,w=c.mode,g=ku({mode:"visible",children:g.children},w,0,null),A=Ya(A,w,I,null),A.flags|=2,g.return=c,A.return=c,g.sibling=A,c.child=g,(c.mode&1)!==0&&Ks(c,i.child,null,I),c.child.memoizedState=vm(I),c.memoizedState=ym,A);if((c.mode&1)===0)return fu(i,c,I,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var W=g.dgst;return g=W,A=Error(r(419)),g=mm(A,g,void 0),fu(i,c,I,g)}if(W=(I&i.childLanes)!==0,ir||W){if(g=Rt,g!==null){switch(I&-I){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|I))!==0?0:w,w!==0&&w!==A.retryLane&&(A.retryLane=w,_n(i,w),Vr(g,i,w,-1))}return $m(),g=mm(Error(r(421))),fu(i,c,I,g)}return w.data==="$?"?(c.flags|=128,c.child=i.child,c=G3.bind(null,i),w._reactRetry=c,null):(i=A.treeContext,gr=aa(w.nextSibling),pr=c,lt=!0,Wr=null,i!==null&&(kr[Or++]=Pn,kr[Or++]=An,kr[Or++]=Ba,Pn=i.id,An=i.overflow,Ba=c),c=bm(c,g.children),c.flags|=4096,c)}function g1(i,c,h){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c),Qh(i.return,c,h)}function jm(i,c,h,g,w){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=h,A.tailMode=w)}function x1(i,c,h){var g=c.pendingProps,w=g.revealOrder,A=g.tail;if(Qt(i,c,g.children,h),g=ut.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&g1(i,h,c);else if(i.tag===19)g1(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(tt(ut,g),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)i=h.alternate,i!==null&&su(i)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),jm(c,!1,w,h,A);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(i=w.alternate,i!==null&&su(i)===null){c.child=w;break}i=w.sibling,w.sibling=h,h=w,w=i}jm(c,!0,h,null,A);break;case"together":jm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function hu(i,c){(c.mode&1)===0&&i!==null&&(i.alternate=null,c.alternate=null,c.flags|=2)}function En(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),Ha|=c.lanes,(h&c.childLanes)===0)return null;if(i!==null&&c.child!==i.child)throw Error(r(153));if(c.child!==null){for(i=c.child,h=pa(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=pa(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function I3(i,c,h){switch(c.tag){case 3:h1(c),Hs();break;case 5:Ew(c);break;case 1:sr(c.type)&&Yc(c);break;case 4:em(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,w=c.memoizedProps.value;tt(tu,g._currentValue),g._currentValue=w;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(tt(ut,ut.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?p1(i,c,h):(tt(ut,ut.current&1),i=En(i,c,h),i!==null?i.sibling:null);tt(ut,ut.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(i.flags&128)!==0){if(g)return x1(i,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),tt(ut,ut.current),g)break;return null;case 22:case 23:return c.lanes=0,u1(i,c,h)}return En(i,c,h)}var y1,wm,v1,b1;y1=function(i,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},wm=function(){},v1=function(i,c,h,g){var w=i.memoizedProps;if(w!==g){i=c.stateNode,Ua(un.current);var A=null;switch(h){case"input":w=be(i,w),g=be(i,g),A=[];break;case"select":w=q({},w,{value:void 0}),g=q({},g,{value:void 0}),A=[];break;case"textarea":w=qr(i,w),g=qr(i,g),A=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Kc)}rh(h,g);var I;h=null;for(ne in w)if(!g.hasOwnProperty(ne)&&w.hasOwnProperty(ne)&&w[ne]!=null)if(ne==="style"){var W=w[ne];for(I in W)W.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?A||(A=[]):(A=A||[]).push(ne,null));for(ne in g){var X=g[ne];if(W=w!=null?w[ne]:void 0,g.hasOwnProperty(ne)&&X!==W&&(X!=null||W!=null))if(ne==="style")if(W){for(I in W)!W.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in X)X.hasOwnProperty(I)&&W[I]!==X[I]&&(h||(h={}),h[I]=X[I])}else h||(A||(A=[]),A.push(ne,h)),h=X;else ne==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,W=W?W.__html:void 0,X!=null&&W!==X&&(A=A||[]).push(ne,X)):ne==="children"?typeof X!="string"&&typeof X!="number"||(A=A||[]).push(ne,""+X):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(X!=null&&ne==="onScroll"&&st("scroll",i),A||W===X||(A=[])):(A=A||[]).push(ne,X))}h&&(A=A||[]).push("style",h);var ne=A;(c.updateQueue=ne)&&(c.flags|=4)}},b1=function(i,c,h,g){h!==g&&(c.flags|=4)};function Wo(i,c){if(!lt)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Wt(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(c)for(var w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=h,c}function $3(i,c,h){var g=c.pendingProps;switch(Wh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return sr(c.type)&&Vc(),Wt(c),null;case 3:return g=c.stateNode,Ys(),it(ar),it(zt),nm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Zc(c)?c.flags|=4:i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wr!==null&&(Rm(Wr),Wr=null))),wm(i,c),Wt(c),null;case 5:tm(c);var w=Ua(Fo.current);if(h=c.type,i!==null&&c.stateNode!=null)v1(i,c,h,g,w),i.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(i=Ua(un.current),Zc(c)){g=c.stateNode,h=c.type;var A=c.memoizedProps;switch(g[cn]=c,g[Mo]=A,i=(c.mode&1)!==0,h){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(w=0;w<Eo.length;w++)st(Eo[w],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":Je(g,A),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},st("invalid",g);break;case"textarea":Cs(g,A),st("invalid",g)}rh(h,A),w=null;for(var I in A)if(A.hasOwnProperty(I)){var W=A[I];I==="children"?typeof W=="string"?g.textContent!==W&&(A.suppressHydrationWarning!==!0&&Hc(g.textContent,W,i),w=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(A.suppressHydrationWarning!==!0&&Hc(g.textContent,W,i),w=["children",""+W]):s.hasOwnProperty(I)&&W!=null&&I==="onScroll"&&st("scroll",g)}switch(h){case"input":Te(g),Br(g,A,!0);break;case"textarea":Te(g),uo(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Kc)}g=w,c.updateQueue=g,g!==null&&(c.flags|=4)}else{I=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ij(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=I.createElement(h,{is:g.is}):(i=I.createElement(h),h==="select"&&(I=i,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):i=I.createElementNS(i,h),i[cn]=c,i[Mo]=g,y1(i,c,!1,!1),c.stateNode=i;e:{switch(I=nh(h,g),h){case"dialog":st("cancel",i),st("close",i),w=g;break;case"iframe":case"object":case"embed":st("load",i),w=g;break;case"video":case"audio":for(w=0;w<Eo.length;w++)st(Eo[w],i);w=g;break;case"source":st("error",i),w=g;break;case"img":case"image":case"link":st("error",i),st("load",i),w=g;break;case"details":st("toggle",i),w=g;break;case"input":Je(i,g),w=be(i,g),st("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=q({},g,{value:void 0}),st("invalid",i);break;case"textarea":Cs(i,g),w=qr(i,g),st("invalid",i);break;default:w=g}rh(h,w),W=w;for(A in W)if(W.hasOwnProperty(A)){var X=W[A];A==="style"?cj(i,X):A==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&oj(i,X)):A==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&fo(i,X):typeof X=="number"&&fo(i,""+X):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?X!=null&&A==="onScroll"&&st("scroll",i):X!=null&&E(i,A,X,I))}switch(h){case"input":Te(i),Br(i,g,!1);break;case"textarea":Te(i),uo(i);break;case"option":g.value!=null&&i.setAttribute("value",""+pe(g.value));break;case"select":i.multiple=!!g.multiple,A=g.value,A!=null?nr(i,!!g.multiple,A,!1):g.defaultValue!=null&&nr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Kc)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wt(c),null;case 6:if(i&&c.stateNode!=null)b1(i,c,i.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(h=Ua(Fo.current),Ua(un.current),Zc(c)){if(g=c.stateNode,h=c.memoizedProps,g[cn]=c,(A=g.nodeValue!==h)&&(i=pr,i!==null))switch(i.tag){case 3:Hc(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hc(g.nodeValue,h,(i.mode&1)!==0)}A&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[cn]=c,c.stateNode=g}return Wt(c),null;case 13:if(it(ut),g=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&gr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Nw(),Hs(),c.flags|=98560,A=!1;else if(A=Zc(c),g!==null&&g.dehydrated!==null){if(i===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[cn]=c}else Hs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),A=!1}else Wr!==null&&(Rm(Wr),Wr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(i===null||(ut.current&1)!==0?St===0&&(St=3):$m())),c.updateQueue!==null&&(c.flags|=4),Wt(c),null);case 4:return Ys(),wm(i,c),i===null&&To(c.stateNode.containerInfo),Wt(c),null;case 10:return Xh(c.type._context),Wt(c),null;case 17:return sr(c.type)&&Vc(),Wt(c),null;case 19:if(it(ut),A=c.memoizedState,A===null)return Wt(c),null;if(g=(c.flags&128)!==0,I=A.rendering,I===null)if(g)Wo(A,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(I=su(i),I!==null){for(c.flags|=128,Wo(A,!1),g=I.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)A=h,i=g,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=i,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,i=I.dependencies,A.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return tt(ut,ut.current&1|2),c.child}i=i.sibling}A.tail!==null&&xt()>Zs&&(c.flags|=128,g=!0,Wo(A,!1),c.lanes=4194304)}else{if(!g)if(i=su(I),i!==null){if(c.flags|=128,g=!0,h=i.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Wo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!lt)return Wt(c),null}else 2*xt()-A.renderingStartTime>Zs&&h!==1073741824&&(c.flags|=128,g=!0,Wo(A,!1),c.lanes=4194304);A.isBackwards?(I.sibling=c.child,c.child=I):(h=A.last,h!==null?h.sibling=I:c.child=I,A.last=I)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=xt(),c.sibling=null,h=ut.current,tt(ut,g?h&1|2:h&1),c):(Wt(c),null);case 22:case 23:return Im(),g=c.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function D3(i,c){switch(Wh(c),c.tag){case 1:return sr(c.type)&&Vc(),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return Ys(),it(ar),it(zt),nm(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 5:return tm(c),null;case 13:if(it(ut),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Hs()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return it(ut),null;case 4:return Ys(),null;case 10:return Xh(c.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var mu=!1,Ht=!1,L3=typeof WeakSet=="function"?WeakSet:Set,je=null;function Qs(i,c){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){ht(i,c,g)}else h.current=null}function Nm(i,c,h){try{h()}catch(g){ht(i,c,g)}}var j1=!1;function F3(i,c){if(Ih=Mc,i=Zj(),Ph(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var I=0,W=-1,X=-1,ne=0,he=0,me=i,de=null;t:for(;;){for(var ye;me!==h||w!==0&&me.nodeType!==3||(W=I+w),me!==A||g!==0&&me.nodeType!==3||(X=I+g),me.nodeType===3&&(I+=me.nodeValue.length),(ye=me.firstChild)!==null;)de=me,me=ye;for(;;){if(me===i)break t;if(de===h&&++ne===w&&(W=I),de===A&&++he===g&&(X=I),(ye=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=ye}h=W===-1||X===-1?null:{start:W,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for($h={focusedElem:i,selectionRange:h},Mc=!1,je=c;je!==null;)if(c=je,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,je=i;else for(;je!==null;){c=je;try{var Ne=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Se=Ne.memoizedProps,yt=Ne.memoizedState,ee=c.stateNode,J=ee.getSnapshotBeforeUpdate(c.elementType===c.type?Se:Hr(c.type,Se),yt);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var re=c.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){ht(c,c.return,ge)}if(i=c.sibling,i!==null){i.return=c.return,je=i;break}je=c.return}return Ne=j1,j1=!1,Ne}function Ho(i,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var A=w.destroy;w.destroy=void 0,A!==void 0&&Nm(c,h,A)}w=w.next}while(w!==g)}}function pu(i,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function Sm(i){var c=i.ref;if(c!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof c=="function"?c(i):c.current=i}}function w1(i){var c=i.alternate;c!==null&&(i.alternate=null,w1(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&(delete c[cn],delete c[Mo],delete c[Bh],delete c[j3],delete c[w3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function N1(i){return i.tag===5||i.tag===3||i.tag===4}function S1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||N1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function km(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(i,c):h.insertBefore(i,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(i,h)):(c=h,c.appendChild(i)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Kc));else if(g!==4&&(i=i.child,i!==null))for(km(i,c,h),i=i.sibling;i!==null;)km(i,c,h),i=i.sibling}function Om(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Om(i,c,h),i=i.sibling;i!==null;)Om(i,c,h),i=i.sibling}var Ft=null,Kr=!1;function ua(i,c,h){for(h=h.child;h!==null;)k1(i,c,h),h=h.sibling}function k1(i,c,h){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ac,h)}catch{}switch(h.tag){case 5:Ht||Qs(h,c);case 6:var g=Ft,w=Kr;Ft=null,ua(i,c,h),Ft=g,Kr=w,Ft!==null&&(Kr?(i=Ft,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Ft.removeChild(h.stateNode));break;case 18:Ft!==null&&(Kr?(i=Ft,h=h.stateNode,i.nodeType===8?Fh(i.parentNode,h):i.nodeType===1&&Fh(i,h),No(i)):Fh(Ft,h.stateNode));break;case 4:g=Ft,w=Kr,Ft=h.stateNode.containerInfo,Kr=!0,ua(i,c,h),Ft=g,Kr=w;break;case 0:case 11:case 14:case 15:if(!Ht&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var A=w,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&Nm(h,c,I),w=w.next}while(w!==g)}ua(i,c,h);break;case 1:if(!Ht&&(Qs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(W){ht(h,c,W)}ua(i,c,h);break;case 21:ua(i,c,h);break;case 22:h.mode&1?(Ht=(g=Ht)||h.memoizedState!==null,ua(i,c,h),Ht=g):ua(i,c,h);break;default:ua(i,c,h)}}function O1(i){var c=i.updateQueue;if(c!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new L3),c.forEach(function(g){var w=V3.bind(null,i,g);h.has(g)||(h.add(g),g.then(w,w))})}}function Gr(i,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];try{var A=i,I=c,W=I;e:for(;W!==null;){switch(W.tag){case 5:Ft=W.stateNode,Kr=!1;break e;case 3:Ft=W.stateNode.containerInfo,Kr=!0;break e;case 4:Ft=W.stateNode.containerInfo,Kr=!0;break e}W=W.return}if(Ft===null)throw Error(r(160));k1(A,I,w),Ft=null,Kr=!1;var X=w.alternate;X!==null&&(X.return=null),w.return=null}catch(ne){ht(w,c,ne)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)P1(c,i),c=c.sibling}function P1(i,c){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gr(c,i),fn(i),g&4){try{Ho(3,i,i.return),pu(3,i)}catch(Se){ht(i,i.return,Se)}try{Ho(5,i,i.return)}catch(Se){ht(i,i.return,Se)}}break;case 1:Gr(c,i),fn(i),g&512&&h!==null&&Qs(h,h.return);break;case 5:if(Gr(c,i),fn(i),g&512&&h!==null&&Qs(h,h.return),i.flags&32){var w=i.stateNode;try{fo(w,"")}catch(Se){ht(i,i.return,Se)}}if(g&4&&(w=i.stateNode,w!=null)){var A=i.memoizedProps,I=h!==null?h.memoizedProps:A,W=i.type,X=i.updateQueue;if(i.updateQueue=null,X!==null)try{W==="input"&&A.type==="radio"&&A.name!=null&&ft(w,A),nh(W,I);var ne=nh(W,A);for(I=0;I<X.length;I+=2){var he=X[I],me=X[I+1];he==="style"?cj(w,me):he==="dangerouslySetInnerHTML"?oj(w,me):he==="children"?fo(w,me):E(w,he,me,ne)}switch(W){case"input":Et(w,A);break;case"textarea":co(w,A);break;case"select":var de=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!A.multiple;var ye=A.value;ye!=null?nr(w,!!A.multiple,ye,!1):de!==!!A.multiple&&(A.defaultValue!=null?nr(w,!!A.multiple,A.defaultValue,!0):nr(w,!!A.multiple,A.multiple?[]:"",!1))}w[Mo]=A}catch(Se){ht(i,i.return,Se)}}break;case 6:if(Gr(c,i),fn(i),g&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,A=i.memoizedProps;try{w.nodeValue=A}catch(Se){ht(i,i.return,Se)}}break;case 3:if(Gr(c,i),fn(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{No(c.containerInfo)}catch(Se){ht(i,i.return,Se)}break;case 4:Gr(c,i),fn(i);break;case 13:Gr(c,i),fn(i),w=i.child,w.flags&8192&&(A=w.memoizedState!==null,w.stateNode.isHidden=A,!A||w.alternate!==null&&w.alternate.memoizedState!==null||(_m=xt())),g&4&&O1(i);break;case 22:if(he=h!==null&&h.memoizedState!==null,i.mode&1?(Ht=(ne=Ht)||he,Gr(c,i),Ht=ne):Gr(c,i),fn(i),g&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!he&&(i.mode&1)!==0)for(je=i,he=i.child;he!==null;){for(me=je=he;je!==null;){switch(de=je,ye=de.child,de.tag){case 0:case 11:case 14:case 15:Ho(4,de,de.return);break;case 1:Qs(de,de.return);var Ne=de.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=de,h=de.return;try{c=g,Ne.props=c.memoizedProps,Ne.state=c.memoizedState,Ne.componentWillUnmount()}catch(Se){ht(g,h,Se)}}break;case 5:Qs(de,de.return);break;case 22:if(de.memoizedState!==null){C1(me);continue}}ye!==null?(ye.return=de,je=ye):C1(me)}he=he.sibling}e:for(he=null,me=i;;){if(me.tag===5){if(he===null){he=me;try{w=me.stateNode,ne?(A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(W=me.stateNode,X=me.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,W.style.display=lj("display",I))}catch(Se){ht(i,i.return,Se)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Se){ht(i,i.return,Se)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Gr(c,i),fn(i),g&4&&O1(i);break;case 21:break;default:Gr(c,i),fn(i)}}function fn(i){var c=i.flags;if(c&2){try{e:{for(var h=i.return;h!==null;){if(N1(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(fo(w,""),g.flags&=-33);var A=S1(i);Om(i,A,w);break;case 3:case 4:var I=g.stateNode.containerInfo,W=S1(i);km(i,W,I);break;default:throw Error(r(161))}}catch(X){ht(i,i.return,X)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function B3(i,c,h){je=i,A1(i)}function A1(i,c,h){for(var g=(i.mode&1)!==0;je!==null;){var w=je,A=w.child;if(w.tag===22&&g){var I=w.memoizedState!==null||mu;if(!I){var W=w.alternate,X=W!==null&&W.memoizedState!==null||Ht;W=mu;var ne=Ht;if(mu=I,(Ht=X)&&!ne)for(je=w;je!==null;)I=je,X=I.child,I.tag===22&&I.memoizedState!==null?E1(w):X!==null?(X.return=I,je=X):E1(w);for(;A!==null;)je=A,A1(A),A=A.sibling;je=w,mu=W,Ht=ne}_1(i)}else(w.subtreeFlags&8772)!==0&&A!==null?(A.return=w,je=A):_1(i)}}function _1(i){for(;je!==null;){var c=je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ht||pu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Ht)if(h===null)g.componentDidMount();else{var w=c.elementType===c.type?h.memoizedProps:Hr(c.type,h.memoizedProps);g.componentDidUpdate(w,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Cw(c,A,g);break;case 3:var I=c.updateQueue;if(I!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Cw(c,I,h)}break;case 5:var W=c.stateNode;if(h===null&&c.flags&4){h=W;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ne=c.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&No(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ht||c.flags&512&&Sm(c)}catch(de){ht(c,c.return,de)}}if(c===i){je=null;break}if(h=c.sibling,h!==null){h.return=c.return,je=h;break}je=c.return}}function C1(i){for(;je!==null;){var c=je;if(c===i){je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,je=h;break}je=c.return}}function E1(i){for(;je!==null;){var c=je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{pu(4,c)}catch(X){ht(c,h,X)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var w=c.return;try{g.componentDidMount()}catch(X){ht(c,w,X)}}var A=c.return;try{Sm(c)}catch(X){ht(c,A,X)}break;case 5:var I=c.return;try{Sm(c)}catch(X){ht(c,I,X)}}}catch(X){ht(c,c.return,X)}if(c===i){je=null;break}var W=c.sibling;if(W!==null){W.return=c.return,je=W;break}je=c.return}}var q3=Math.ceil,gu=S.ReactCurrentDispatcher,Pm=S.ReactCurrentOwner,_r=S.ReactCurrentBatchConfig,We=0,Rt=null,bt=null,Bt=0,xr=0,Js=sa(0),St=0,Ko=null,Ha=0,xu=0,Am=0,Go=null,or=null,_m=0,Zs=1/0,Tn=null,yu=!1,Cm=null,da=null,vu=!1,fa=null,bu=0,Vo=0,Em=null,ju=-1,wu=0;function Jt(){return(We&6)!==0?xt():ju!==-1?ju:ju=xt()}function ha(i){return(i.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:S3.transition!==null?(wu===0&&(wu=Sj()),wu):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:Rj(i.type)),i)}function Vr(i,c,h,g){if(50<Vo)throw Vo=0,Em=null,Error(r(185));yo(i,h,g),((We&2)===0||i!==Rt)&&(i===Rt&&((We&2)===0&&(xu|=h),St===4&&ma(i,Bt)),lr(i,g),h===1&&We===0&&(c.mode&1)===0&&(Zs=xt()+500,Xc&&oa()))}function lr(i,c){var h=i.callbackNode;S4(i,c);var g=Ec(i,i===Rt?Bt:0);if(g===0)h!==null&&jj(h),i.callbackNode=null,i.callbackPriority=0;else if(c=g&-g,i.callbackPriority!==c){if(h!=null&&jj(h),c===1)i.tag===0?N3(R1.bind(null,i)):yw(R1.bind(null,i)),v3(function(){(We&6)===0&&oa()}),h=null;else{switch(kj(g)){case 1:h=uh;break;case 4:h=wj;break;case 16:h=Pc;break;case 536870912:h=Nj;break;default:h=Pc}h=q1(h,T1.bind(null,i))}i.callbackPriority=c,i.callbackNode=h}}function T1(i,c){if(ju=-1,wu=0,(We&6)!==0)throw Error(r(327));var h=i.callbackNode;if(ei()&&i.callbackNode!==h)return null;var g=Ec(i,i===Rt?Bt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||c)c=Nu(i,g);else{c=g;var w=We;We|=2;var A=I1();(Rt!==i||Bt!==c)&&(Tn=null,Zs=xt()+500,Ga(i,c));do try{W3();break}catch(W){M1(i,W)}while(!0);Yh(),gu.current=A,We=w,bt!==null?c=0:(Rt=null,Bt=0,c=St)}if(c!==0){if(c===2&&(w=dh(i),w!==0&&(g=w,c=Tm(i,w))),c===1)throw h=Ko,Ga(i,0),ma(i,g),lr(i,xt()),h;if(c===6)ma(i,g);else{if(w=i.current.alternate,(g&30)===0&&!z3(w)&&(c=Nu(i,g),c===2&&(A=dh(i),A!==0&&(g=A,c=Tm(i,A))),c===1))throw h=Ko,Ga(i,0),ma(i,g),lr(i,xt()),h;switch(i.finishedWork=w,i.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Va(i,or,Tn);break;case 3:if(ma(i,g),(g&130023424)===g&&(c=_m+500-xt(),10<c)){if(Ec(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){Jt(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Lh(Va.bind(null,i,or,Tn),c);break}Va(i,or,Tn);break;case 4:if(ma(i,g),(g&4194240)===g)break;for(c=i.eventTimes,w=-1;0<g;){var I=31-zr(g);A=1<<I,I=c[I],I>w&&(w=I),g&=~A}if(g=w,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*q3(g/1960))-g,10<g){i.timeoutHandle=Lh(Va.bind(null,i,or,Tn),g);break}Va(i,or,Tn);break;case 5:Va(i,or,Tn);break;default:throw Error(r(329))}}}return lr(i,xt()),i.callbackNode===h?T1.bind(null,i):null}function Tm(i,c){var h=Go;return i.current.memoizedState.isDehydrated&&(Ga(i,c).flags|=256),i=Nu(i,c),i!==2&&(c=or,or=h,c!==null&&Rm(c)),i}function Rm(i){or===null?or=i:or.push.apply(or,i)}function z3(i){for(var c=i;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var w=h[g],A=w.getSnapshot;w=w.value;try{if(!Ur(A(),w))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ma(i,c){for(c&=~Am,c&=~xu,i.suspendedLanes|=c,i.pingedLanes&=~c,i=i.expirationTimes;0<c;){var h=31-zr(c),g=1<<h;i[h]=-1,c&=~g}}function R1(i){if((We&6)!==0)throw Error(r(327));ei();var c=Ec(i,0);if((c&1)===0)return lr(i,xt()),null;var h=Nu(i,c);if(i.tag!==0&&h===2){var g=dh(i);g!==0&&(c=g,h=Tm(i,g))}if(h===1)throw h=Ko,Ga(i,0),ma(i,c),lr(i,xt()),h;if(h===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=c,Va(i,or,Tn),lr(i,xt()),null}function Mm(i,c){var h=We;We|=1;try{return i(c)}finally{We=h,We===0&&(Zs=xt()+500,Xc&&oa())}}function Ka(i){fa!==null&&fa.tag===0&&(We&6)===0&&ei();var c=We;We|=1;var h=_r.transition,g=Qe;try{if(_r.transition=null,Qe=1,i)return i()}finally{Qe=g,_r.transition=h,We=c,(We&6)===0&&oa()}}function Im(){xr=Js.current,it(Js)}function Ga(i,c){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,y3(h)),bt!==null)for(h=bt.return;h!==null;){var g=h;switch(Wh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Vc();break;case 3:Ys(),it(ar),it(zt),nm();break;case 5:tm(g);break;case 4:Ys();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Xh(g.type._context);break;case 22:case 23:Im()}h=h.return}if(Rt=i,bt=i=pa(i.current,null),Bt=xr=c,St=0,Ko=null,Am=xu=Ha=0,or=Go=null,za!==null){for(c=0;c<za.length;c++)if(h=za[c],g=h.interleaved,g!==null){h.interleaved=null;var w=g.next,A=h.pending;if(A!==null){var I=A.next;A.next=w,g.next=I}h.pending=g}za=null}return i}function M1(i,c){do{var h=bt;try{if(Yh(),iu.current=uu,ou){for(var g=dt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}ou=!1}if(Wa=0,Tt=Nt=dt=null,Bo=!1,qo=0,Pm.current=null,h===null||h.return===null){St=1,Ko=c,bt=null;break}e:{var A=i,I=h.return,W=h,X=c;if(c=Bt,W.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ne=X,he=W,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var ye=s1(I);if(ye!==null){ye.flags&=-257,i1(ye,I,W,A,c),ye.mode&1&&a1(A,ne,c),c=ye,X=ne;var Ne=c.updateQueue;if(Ne===null){var Se=new Set;Se.add(X),c.updateQueue=Se}else Ne.add(X);break e}else{if((c&1)===0){a1(A,ne,c),$m();break e}X=Error(r(426))}}else if(lt&&W.mode&1){var yt=s1(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),i1(yt,I,W,A,c),Gh(Xs(X,W));break e}}A=X=Xs(X,W),St!==4&&(St=2),Go===null?Go=[A]:Go.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var ee=r1(A,X,c);_w(A,ee);break e;case 1:W=X;var J=A.type,re=A.stateNode;if((A.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(da===null||!da.has(re)))){A.flags|=65536,c&=-c,A.lanes|=c;var ge=n1(A,W,c);_w(A,ge);break e}}A=A.return}while(A!==null)}D1(h)}catch(ke){c=ke,bt===h&&h!==null&&(bt=h=h.return);continue}break}while(!0)}function I1(){var i=gu.current;return gu.current=uu,i===null?uu:i}function $m(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ha&268435455)===0&&(xu&268435455)===0||ma(Rt,Bt)}function Nu(i,c){var h=We;We|=2;var g=I1();(Rt!==i||Bt!==c)&&(Tn=null,Ga(i,c));do try{U3();break}catch(w){M1(i,w)}while(!0);if(Yh(),We=h,gu.current=g,bt!==null)throw Error(r(261));return Rt=null,Bt=0,St}function U3(){for(;bt!==null;)$1(bt)}function W3(){for(;bt!==null&&!p4();)$1(bt)}function $1(i){var c=B1(i.alternate,i,xr);i.memoizedProps=i.pendingProps,c===null?D1(i):bt=c,Pm.current=null}function D1(i){var c=i;do{var h=c.alternate;if(i=c.return,(c.flags&32768)===0){if(h=$3(h,c,xr),h!==null){bt=h;return}}else{if(h=D3(h,c),h!==null){h.flags&=32767,bt=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,bt=null;return}}if(c=c.sibling,c!==null){bt=c;return}bt=c=i}while(c!==null);St===0&&(St=5)}function Va(i,c,h){var g=Qe,w=_r.transition;try{_r.transition=null,Qe=1,H3(i,c,h,g)}finally{_r.transition=w,Qe=g}return null}function H3(i,c,h,g){do ei();while(fa!==null);if((We&6)!==0)throw Error(r(327));h=i.finishedWork;var w=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var A=h.lanes|h.childLanes;if(k4(i,A),i===Rt&&(bt=Rt=null,Bt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||vu||(vu=!0,q1(Pc,function(){return ei(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=_r.transition,_r.transition=null;var I=Qe;Qe=1;var W=We;We|=4,Pm.current=null,F3(i,h),P1(h,i),d3($h),Mc=!!Ih,$h=Ih=null,i.current=h,B3(h),g4(),We=W,Qe=I,_r.transition=A}else i.current=h;if(vu&&(vu=!1,fa=i,bu=w),A=i.pendingLanes,A===0&&(da=null),v4(h.stateNode),lr(i,xt()),c!==null)for(g=i.onRecoverableError,h=0;h<c.length;h++)w=c[h],g(w.value,{componentStack:w.stack,digest:w.digest});if(yu)throw yu=!1,i=Cm,Cm=null,i;return(bu&1)!==0&&i.tag!==0&&ei(),A=i.pendingLanes,(A&1)!==0?i===Em?Vo++:(Vo=0,Em=i):Vo=0,oa(),null}function ei(){if(fa!==null){var i=kj(bu),c=_r.transition,h=Qe;try{if(_r.transition=null,Qe=16>i?16:i,fa===null)var g=!1;else{if(i=fa,fa=null,bu=0,(We&6)!==0)throw Error(r(331));var w=We;for(We|=4,je=i.current;je!==null;){var A=je,I=A.child;if((je.flags&16)!==0){var W=A.deletions;if(W!==null){for(var X=0;X<W.length;X++){var ne=W[X];for(je=ne;je!==null;){var he=je;switch(he.tag){case 0:case 11:case 15:Ho(8,he,A)}var me=he.child;if(me!==null)me.return=he,je=me;else for(;je!==null;){he=je;var de=he.sibling,ye=he.return;if(w1(he),he===ne){je=null;break}if(de!==null){de.return=ye,je=de;break}je=ye}}}var Ne=A.alternate;if(Ne!==null){var Se=Ne.child;if(Se!==null){Ne.child=null;do{var yt=Se.sibling;Se.sibling=null,Se=yt}while(Se!==null)}}je=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,je=I;else e:for(;je!==null;){if(A=je,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Ho(9,A,A.return)}var ee=A.sibling;if(ee!==null){ee.return=A.return,je=ee;break e}je=A.return}}var J=i.current;for(je=J;je!==null;){I=je;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,je=re;else e:for(I=J;je!==null;){if(W=je,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:pu(9,W)}}catch(ke){ht(W,W.return,ke)}if(W===I){je=null;break e}var ge=W.sibling;if(ge!==null){ge.return=W.return,je=ge;break e}je=W.return}}if(We=w,oa(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ac,i)}catch{}g=!0}return g}finally{Qe=h,_r.transition=c}}return!1}function L1(i,c,h){c=Xs(h,c),c=r1(i,c,1),i=ca(i,c,1),c=Jt(),i!==null&&(yo(i,1,c),lr(i,c))}function ht(i,c,h){if(i.tag===3)L1(i,i,h);else for(;c!==null;){if(c.tag===3){L1(c,i,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(da===null||!da.has(g))){i=Xs(h,i),i=n1(c,i,1),c=ca(c,i,1),i=Jt(),c!==null&&(yo(c,1,i),lr(c,i));break}}c=c.return}}function K3(i,c,h){var g=i.pingCache;g!==null&&g.delete(c),c=Jt(),i.pingedLanes|=i.suspendedLanes&h,Rt===i&&(Bt&h)===h&&(St===4||St===3&&(Bt&130023424)===Bt&&500>xt()-_m?Ga(i,0):Am|=h),lr(i,c)}function F1(i,c){c===0&&((i.mode&1)===0?c=1:(c=Cc,Cc<<=1,(Cc&130023424)===0&&(Cc=4194304)));var h=Jt();i=_n(i,c),i!==null&&(yo(i,c,h),lr(i,h))}function G3(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),F1(i,h)}function V3(i,c){var h=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),F1(i,h)}var B1;B1=function(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps||ar.current)ir=!0;else{if((i.lanes&h)===0&&(c.flags&128)===0)return ir=!1,I3(i,c,h);ir=(i.flags&131072)!==0}else ir=!1,lt&&(c.flags&1048576)!==0&&vw(c,Jc,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;hu(i,c),i=c.pendingProps;var w=zs(c,zt.current);Vs(c,h),w=im(null,c,g,i,w,h);var A=om();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,sr(g)?(A=!0,Yc(c)):A=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Zh(c),w.updater=du,c.stateNode=w,w._reactInternals=c,hm(c,g,i,h),c=xm(null,c,g,!0,A,h)):(c.tag=0,lt&&A&&Uh(c),Qt(null,c,w,h),c=c.child),c;case 16:g=c.elementType;e:{switch(hu(i,c),i=c.pendingProps,w=g._init,g=w(g._payload),c.type=g,w=c.tag=X3(g),i=Hr(g,i),w){case 0:c=gm(null,c,g,i,h);break e;case 1:c=f1(null,c,g,i,h);break e;case 11:c=o1(null,c,g,i,h);break e;case 14:c=l1(null,c,g,Hr(g.type,i),h);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),gm(i,c,g,w,h);case 1:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),f1(i,c,g,w,h);case 3:e:{if(h1(c),i===null)throw Error(r(387));g=c.pendingProps,A=c.memoizedState,w=A.element,Aw(i,c),au(c,g,null,h);var I=c.memoizedState;if(g=I.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){w=Xs(Error(r(423)),c),c=m1(i,c,g,h,w);break e}else if(g!==w){w=Xs(Error(r(424)),c),c=m1(i,c,g,h,w);break e}else for(gr=aa(c.stateNode.containerInfo.firstChild),pr=c,lt=!0,Wr=null,h=Ow(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Hs(),g===w){c=En(i,c,h);break e}Qt(i,c,g,h)}c=c.child}return c;case 5:return Ew(c),i===null&&Kh(c),g=c.type,w=c.pendingProps,A=i!==null?i.memoizedProps:null,I=w.children,Dh(g,w)?I=null:A!==null&&Dh(g,A)&&(c.flags|=32),d1(i,c),Qt(i,c,I,h),c.child;case 6:return i===null&&Kh(c),null;case 13:return p1(i,c,h);case 4:return em(c,c.stateNode.containerInfo),g=c.pendingProps,i===null?c.child=Ks(c,null,g,h):Qt(i,c,g,h),c.child;case 11:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),o1(i,c,g,w,h);case 7:return Qt(i,c,c.pendingProps,h),c.child;case 8:return Qt(i,c,c.pendingProps.children,h),c.child;case 12:return Qt(i,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,w=c.pendingProps,A=c.memoizedProps,I=w.value,tt(tu,g._currentValue),g._currentValue=I,A!==null)if(Ur(A.value,I)){if(A.children===w.children&&!ar.current){c=En(i,c,h);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var W=A.dependencies;if(W!==null){I=A.child;for(var X=W.firstContext;X!==null;){if(X.context===g){if(A.tag===1){X=Cn(-1,h&-h),X.tag=2;var ne=A.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?X.next=X:(X.next=he.next,he.next=X),ne.pending=X}}A.lanes|=h,X=A.alternate,X!==null&&(X.lanes|=h),Qh(A.return,h,c),W.lanes|=h;break}X=X.next}}else if(A.tag===10)I=A.type===c.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=h,W=I.alternate,W!==null&&(W.lanes|=h),Qh(I,h,c),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===c){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Qt(i,c,w.children,h),c=c.child}return c;case 9:return w=c.type,g=c.pendingProps.children,Vs(c,h),w=Pr(w),g=g(w),c.flags|=1,Qt(i,c,g,h),c.child;case 14:return g=c.type,w=Hr(g,c.pendingProps),w=Hr(g.type,w),l1(i,c,g,w,h);case 15:return c1(i,c,c.type,c.pendingProps,h);case 17:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),hu(i,c),c.tag=1,sr(g)?(i=!0,Yc(c)):i=!1,Vs(c,h),e1(c,g,w),hm(c,g,w,h),xm(null,c,g,!0,i,h);case 19:return x1(i,c,h);case 22:return u1(i,c,h)}throw Error(r(156,c.tag))};function q1(i,c){return bj(i,c)}function Y3(i,c,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(i,c,h,g){return new Y3(i,c,h,g)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X3(i){if(typeof i=="function")return Dm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===z)return 14}return 2}function pa(i,c){var h=i.alternate;return h===null?(h=Cr(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Su(i,c,h,g,w,A){var I=2;if(g=i,typeof i=="function")Dm(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case C:return Ya(h.children,w,A,c);case R:I=8,w|=8;break;case M:return i=Cr(12,h,c,w|2),i.elementType=M,i.lanes=A,i;case G:return i=Cr(13,h,c,w),i.elementType=G,i.lanes=A,i;case Q:return i=Cr(19,h,c,w),i.elementType=Q,i.lanes=A,i;case U:return ku(h,w,A,c);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case T:I=9;break e;case $:I=11;break e;case z:I=14;break e;case B:I=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return c=Cr(I,h,c,w),c.elementType=i,c.type=g,c.lanes=A,c}function Ya(i,c,h,g){return i=Cr(7,i,g,c),i.lanes=h,i}function ku(i,c,h,g){return i=Cr(22,i,g,c),i.elementType=U,i.lanes=h,i.stateNode={isHidden:!1},i}function Lm(i,c,h){return i=Cr(6,i,null,c),i.lanes=h,i}function Fm(i,c,h){return c=Cr(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}function Q3(i,c,h,g,w){this.tag=c,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Bm(i,c,h,g,w,A,I,W,X){return i=new Q3(i,c,h,W,X),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Cr(3,null,null,c),i.current=A,A.stateNode=i,A.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(A),i}function J3(i,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:i,containerInfo:c,implementation:h}}function z1(i){if(!i)return ia;i=i._reactInternals;e:{if(Da(i)!==i||i.tag!==1)throw Error(r(170));var c=i;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(sr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(i.tag===1){var h=i.type;if(sr(h))return gw(i,h,c)}return c}function U1(i,c,h,g,w,A,I,W,X){return i=Bm(h,g,!0,i,w,A,I,W,X),i.context=z1(null),h=i.current,g=Jt(),w=ha(h),A=Cn(g,w),A.callback=c??null,ca(h,A,w),i.current.lanes=w,yo(i,w,g),lr(i,g),i}function Ou(i,c,h,g){var w=c.current,A=Jt(),I=ha(w);return h=z1(h),c.context===null?c.context=h:c.pendingContext=h,c=Cn(A,I),c.payload={element:i},g=g===void 0?null:g,g!==null&&(c.callback=g),i=ca(w,c,I),i!==null&&(Vr(i,w,I,A),nu(i,w,I)),I}function Pu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function W1(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function qm(i,c){W1(i,c),(i=i.alternate)&&W1(i,c)}function Z3(){return null}var H1=typeof reportError=="function"?reportError:function(i){console.error(i)};function zm(i){this._internalRoot=i}Au.prototype.render=zm.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(r(409));Ou(i,c,null,null)},Au.prototype.unmount=zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;Ka(function(){Ou(null,i,null,null)}),c[kn]=null}};function Au(i){this._internalRoot=i}Au.prototype.unstable_scheduleHydration=function(i){if(i){var c=Aj();i={blockedOn:null,target:i,priority:c};for(var h=0;h<ta.length&&c!==0&&c<ta[h].priority;h++);ta.splice(h,0,i),h===0&&Ej(i)}};function Um(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _u(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function K1(){}function e6(i,c,h,g,w){if(w){if(typeof g=="function"){var A=g;g=function(){var ne=Pu(I);A.call(ne)}}var I=U1(c,g,i,0,null,!1,!1,"",K1);return i._reactRootContainer=I,i[kn]=I.current,To(i.nodeType===8?i.parentNode:i),Ka(),I}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var W=g;g=function(){var ne=Pu(X);W.call(ne)}}var X=Bm(i,0,!1,null,null,!1,!1,"",K1);return i._reactRootContainer=X,i[kn]=X.current,To(i.nodeType===8?i.parentNode:i),Ka(function(){Ou(c,X,h,g)}),X}function Cu(i,c,h,g,w){var A=h._reactRootContainer;if(A){var I=A;if(typeof w=="function"){var W=w;w=function(){var X=Pu(I);W.call(X)}}Ou(c,I,i,w)}else I=e6(h,c,i,w,g);return Pu(I)}Oj=function(i){switch(i.tag){case 3:var c=i.stateNode;if(c.current.memoizedState.isDehydrated){var h=xo(c.pendingLanes);h!==0&&(hh(c,h|1),lr(c,xt()),(We&6)===0&&(Zs=xt()+500,oa()))}break;case 13:Ka(function(){var g=_n(i,1);if(g!==null){var w=Jt();Vr(g,i,1,w)}}),qm(i,1)}},mh=function(i){if(i.tag===13){var c=_n(i,134217728);if(c!==null){var h=Jt();Vr(c,i,134217728,h)}qm(i,134217728)}},Pj=function(i){if(i.tag===13){var c=ha(i),h=_n(i,c);if(h!==null){var g=Jt();Vr(h,i,c,g)}qm(i,c)}},Aj=function(){return Qe},_j=function(i,c){var h=Qe;try{return Qe=i,c()}finally{Qe=h}},ih=function(i,c,h){switch(c){case"input":if(Et(i,h),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==i&&g.form===i.form){var w=Gc(g);if(!w)throw Error(r(90));Z(g),Et(g,w)}}}break;case"textarea":co(i,h);break;case"select":c=h.value,c!=null&&nr(i,!!h.multiple,c,!1)}},hj=Mm,mj=Ka;var t6={usingClientEntryPoint:!1,Events:[Io,Bs,Gc,dj,fj,Mm]},Yo={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r6={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yj(i),i===null?null:i.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||Z3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Ac=Eu.inject(r6),ln=Eu}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6,cr.createPortal=function(i,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(c))throw Error(r(200));return J3(i,c,null,h)},cr.createRoot=function(i,c){if(!Um(i))throw Error(r(299));var h=!1,g="",w=H1;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=Bm(i,1,!1,null,null,h,!1,g,w),i[kn]=c.current,To(i.nodeType===8?i.parentNode:i),new zm(c)},cr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=yj(c),i=i===null?null:i.stateNode,i},cr.flushSync=function(i){return Ka(i)},cr.hydrate=function(i,c,h){if(!_u(c))throw Error(r(200));return Cu(null,i,c,!0,h)},cr.hydrateRoot=function(i,c,h){if(!Um(i))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,w=!1,A="",I=H1;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),c=U1(c,null,i,1,h??null,w,!1,A,I),i[kn]=c.current,To(i),g)for(i=0;i<g.length;i++)h=g[i],w=h._getVersion,w=w(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,w]:c.mutableSourceEagerHydrationData.push(h,w);return new Au(c)},cr.render=function(i,c,h){if(!_u(c))throw Error(r(200));return Cu(null,i,c,!1,h)},cr.unmountComponentAtNode=function(i){if(!_u(i))throw Error(r(40));return i._reactRootContainer?(Ka(function(){Cu(null,null,i,!1,function(){i._reactRootContainer=null,i[kn]=null})}),!0):!1},cr.unstable_batchedUpdates=Mm,cr.unstable_renderSubtreeIntoContainer=function(i,c,h,g){if(!_u(h))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Cu(i,c,h,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var tN;function J_(){if(tN)return Gm.exports;tN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gm.exports=h6(),Gm.exports}var rN;function m6(){if(rN)return Iu;rN=1;var e=J_();return Iu.createRoot=e.createRoot,Iu.hydrateRoot=e.hydrateRoot,Iu}var p6=m6();const g6=Xe(p6);var lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},x6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ba,Bv,U_,y6=(U_=class{constructor(){Ue(this,ba,x6);Ue(this,Bv,!1)}setTimeoutProvider(e){$e(this,ba,e)}setTimeout(e,t){return le(this,ba).setTimeout(e,t)}clearTimeout(e){le(this,ba).clearTimeout(e)}setInterval(e,t){return le(this,ba).setInterval(e,t)}clearInterval(e){le(this,ba).clearInterval(e)}},ba=new WeakMap,Bv=new WeakMap,U_),oy=new y6;function v6(e){setTimeout(e,0)}var cf=typeof window>"u"||"Deno"in globalThis;function Xr(){}function b6(e,t){return typeof e=="function"?e(t):e}function j6(e){return typeof e=="number"&&e>=0&&e!==1/0}function w6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ly(e,t){return typeof e=="function"?e(t):e}function N6(e,t){return typeof e=="function"?e(t):e}function nN(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==zv(l,t.options))return!1}else if(!jl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function aN(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(bl(t.options.mutationKey)!==bl(o))return!1}else if(!jl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zv(e,t){return((t==null?void 0:t.queryKeyHashFn)||bl)(e)}function bl(e){return JSON.stringify(e,(t,r)=>cy(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jl(e[r],t[r])):!1}var S6=Object.prototype.hasOwnProperty;function Z_(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=sN(e)&&sN(t);if(!n&&!(cy(e)&&cy(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,d=n?new Array(u):{};let f=0;for(let p=0;p<u;p++){const m=n?p:l[p],x=e[m],v=t[m];if(x===v){d[m]=x,(n?p<o:S6.call(e,m))&&f++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[m]=v;continue}const b=Z_(x,v,r+1);d[m]=b,b===x&&f++}return o===u&&f===o?e:d}function sN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cy(e){if(!iN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iN(e){return Object.prototype.toString.call(e)==="[object Object]"}function k6(e){return new Promise(t=>{oy.setTimeout(t,e)})}function O6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Z_(e,t):t}function P6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function A6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Uv=Symbol();function eC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _6(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var os,ja,mi,W_,C6=(W_=class extends lf{constructor(){super();Ue(this,os);Ue(this,ja);Ue(this,mi);$e(this,mi,t=>{if(!cf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,ja)||this.setEventListener(le(this,mi))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,ja))==null||t.call(this),$e(this,ja,void 0))}setEventListener(t){var r;$e(this,mi,t),(r=le(this,ja))==null||r.call(this),$e(this,ja,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){le(this,os)!==t&&($e(this,os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof le(this,os)=="boolean"?le(this,os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},os=new WeakMap,ja=new WeakMap,mi=new WeakMap,W_),tC=new C6;function E6(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var T6=v6;function R6(){let e=[],t=0,r=u=>{u()},n=u=>{u()},s=T6;const o=u=>{t?e.push(u):s(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var Zt=R6(),pi,wa,gi,H_,M6=(H_=class extends lf{constructor(){super();Ue(this,pi,!0);Ue(this,wa);Ue(this,gi);$e(this,gi,t=>{if(!cf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){le(this,wa)||this.setEventListener(le(this,gi))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,wa))==null||t.call(this),$e(this,wa,void 0))}setEventListener(t){var r;$e(this,gi,t),(r=le(this,wa))==null||r.call(this),$e(this,wa,t(this.setOnline.bind(this)))}setOnline(t){le(this,pi)!==t&&($e(this,pi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return le(this,pi)}},pi=new WeakMap,wa=new WeakMap,gi=new WeakMap,H_),ad=new M6;function I6(e){return Math.min(1e3*2**e,3e4)}function rC(e){return(e??"online")==="online"?ad.isOnline():!0}var uy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nC(e){let t=!1,r=0,n;const s=E6(),o=()=>s.status!=="pending",l=j=>{var y;if(!o()){const k=new uy(j);x(k),(y=e.onCancel)==null||y.call(e,k)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>tC.isFocused()&&(e.networkMode==="always"||ad.isOnline())&&e.canRun(),p=()=>rC(e.networkMode)&&e.canRun(),m=j=>{o()||(n==null||n(),s.resolve(j))},x=j=>{o()||(n==null||n(),s.reject(j))},v=()=>new Promise(j=>{var y;n=k=>{(o()||f())&&j(k)},(y=e.onPause)==null||y.call(e)}).then(()=>{var j;n=void 0,o()||(j=e.onContinue)==null||j.call(e)}),b=()=>{if(o())return;let j;const y=r===0?e.initialPromise:void 0;try{j=y??e.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(m).catch(k=>{var P;if(o())return;const _=e.retry??(cf?0:3),E=e.retryDelay??I6,S=typeof E=="function"?E(r,k):E,N=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,k);if(t||!N){x(k);return}r++,(P=e.onFail)==null||P.call(e,r,k),k6(S).then(()=>f()?void 0:v()).then(()=>{t?x(k):b()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(n==null||n(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?b():v().then(b),s)}}var ls,K_,aC=(K_=class{constructor(){Ue(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j6(this.gcTime)&&$e(this,ls,oy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cf?1/0:300*1e3))}clearGcTimeout(){le(this,ls)&&(oy.clearTimeout(le(this,ls)),$e(this,ls,void 0))}},ls=new WeakMap,K_),cs,xi,Mr,us,It,ic,ds,Qr,In,G_,$6=(G_=class extends aC{constructor(t){super();Ue(this,Qr);Ue(this,cs);Ue(this,xi);Ue(this,Mr);Ue(this,us);Ue(this,It);Ue(this,ic);Ue(this,ds);$e(this,ds,!1),$e(this,ic,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,us,t.client),$e(this,Mr,le(this,us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,cs,lN(this.options)),this.state=t.state??le(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,It))==null?void 0:t.promise}setOptions(t){if(this.options={...le(this,ic),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=lN(this.options);r.data!==void 0&&(this.setState(oN(r.data,r.dataUpdatedAt)),$e(this,cs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Mr).remove(this)}setData(t,r){const n=O6(this.state.data,t,this.options);return Kt(this,Qr,In).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Kt(this,Qr,In).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=le(this,It))==null?void 0:n.promise;return(s=le(this,It))==null||s.cancel(t),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,cs))}isActive(){return this.observers.some(t=>N6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ly(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!w6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,It))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,It))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(le(this,It)&&(le(this,ds)?le(this,It).cancel({revert:!0}):le(this,It).cancelRetry()),this.scheduleGc()),le(this,Mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,Qr,In).call(this,{type:"invalidate"})}async fetch(t,r){var d,f,p,m,x,v,b,j,y,k,_,E;if(this.state.fetchStatus!=="idle"&&((d=le(this,It))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,It))return le(this,It).continueRetry(),le(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(N=>N.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>($e(this,ds,!0),n.signal)})},o=()=>{const S=eC(this.options,r),P=(()=>{const C={client:le(this,us),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return $e(this,ds,!1),this.options.persister?this.options.persister(S,P,this):S(P)},u=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:le(this,us),state:this.state,fetchFn:o};return s(S),S})();(f=this.options.behavior)==null||f.onFetch(u,this),$e(this,xi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Kt(this,Qr,In).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),$e(this,It,nC({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:S=>{S instanceof uy&&S.revert&&this.setState({...le(this,xi),fetchStatus:"idle"}),n.abort()},onFail:(S,N)=>{Kt(this,Qr,In).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{Kt(this,Qr,In).call(this,{type:"pause"})},onContinue:()=>{Kt(this,Qr,In).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const S=await le(this,It).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(v=(x=le(this,Mr).config).onSuccess)==null||v.call(x,S,this),(j=(b=le(this,Mr).config).onSettled)==null||j.call(b,S,this.state.error,this),S}catch(S){if(S instanceof uy){if(S.silent)return le(this,It).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Kt(this,Qr,In).call(this,{type:"error",error:S}),(k=(y=le(this,Mr).config).onError)==null||k.call(y,S,this),(E=(_=le(this,Mr).config).onSettled)==null||E.call(_,this.state.data,S,this),S}finally{this.scheduleGc()}}},cs=new WeakMap,xi=new WeakMap,Mr=new WeakMap,us=new WeakMap,It=new WeakMap,ic=new WeakMap,ds=new WeakMap,Qr=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...D6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...oN(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,xi,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),le(this,Mr).notify({query:this,type:"updated",action:t})})},G_);function D6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function lN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function cN(e){return{onFetch:(t,r)=>{var p,m,x,v,b;const n=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let j=!1;const y=E=>{_6(E,()=>t.signal,()=>j=!0)},k=eC(t.options,t.fetchOptions),_=async(E,S,N)=>{if(j)return Promise.reject();if(S==null&&E.pages.length)return Promise.resolve(E);const C=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return y(T),T})(),R=await k(C),{maxPages:M}=t.options,L=N?A6:P6;return{pages:L(E.pages,R,M),pageParams:L(E.pageParams,S,M)}};if(s&&o.length){const E=s==="backward",S=E?L6:uN,N={pages:o,pageParams:l},P=S(n,N);u=await _(N,P,E)}else{const E=e??o.length;do{const S=d===0?l[0]??n.initialPageParam:uN(n,u);if(d>0&&S==null)break;u=await _(u,S),d++}while(d<E)}return u};t.options.persister?t.fetchFn=()=>{var j,y;return(y=(j=t.options).persister)==null?void 0:y.call(j,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function uN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function L6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var oc,mn,Gt,fs,pn,xa,V_,F6=(V_=class extends aC{constructor(t){super();Ue(this,pn);Ue(this,oc);Ue(this,mn);Ue(this,Gt);Ue(this,fs);$e(this,oc,t.client),this.mutationId=t.mutationId,$e(this,Gt,t.mutationCache),$e(this,mn,[]),this.state=t.state||B6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,mn).includes(t)||(le(this,mn).push(t),this.clearGcTimeout(),le(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,mn,le(this,mn).filter(r=>r!==t)),this.scheduleGc(),le(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,mn).length||(this.state.status==="pending"?this.scheduleGc():le(this,Gt).remove(this))}continue(){var t;return((t=le(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,m,x,v,b,j,y,k,_,E,S,N,P,C;const r=()=>{Kt(this,pn,xa).call(this,{type:"continue"})},n={client:le(this,oc),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,fs,nC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,M)=>{Kt(this,pn,xa).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{Kt(this,pn,xa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,Gt).canRun(this)}));const s=this.state.status==="pending",o=!le(this,fs).canStart();try{if(s)r();else{Kt(this,pn,xa).call(this,{type:"pending",variables:t,isPaused:o}),le(this,Gt).config.onMutate&&await le(this,Gt).config.onMutate(t,this,n);const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));M!==this.state.context&&Kt(this,pn,xa).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const R=await le(this,fs).start();return await((f=(d=le(this,Gt).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,n)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,t,this.state.context,n)),await((v=(x=le(this,Gt).config).onSettled)==null?void 0:v.call(x,R,null,this.state.variables,this.state.context,this,n)),await((j=(b=this.options).onSettled)==null?void 0:j.call(b,R,null,t,this.state.context,n)),Kt(this,pn,xa).call(this,{type:"success",data:R}),R}catch(R){try{await((k=(y=le(this,Gt).config).onError)==null?void 0:k.call(y,R,t,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((E=(_=this.options).onError)==null?void 0:E.call(_,R,t,this.state.context,n))}catch(M){Promise.reject(M)}try{await((N=(S=le(this,Gt).config).onSettled)==null?void 0:N.call(S,void 0,R,this.state.variables,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,R,t,this.state.context,n))}catch(M){Promise.reject(M)}throw Kt(this,pn,xa).call(this,{type:"error",error:R}),R}finally{le(this,Gt).runNext(this)}}},oc=new WeakMap,mn=new WeakMap,Gt=new WeakMap,fs=new WeakMap,pn=new WeakSet,xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{le(this,mn).forEach(n=>{n.onMutationUpdate(t)}),le(this,Gt).notify({mutation:this,type:"updated",action:t})})},V_);function B6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dn,Jr,lc,Y_,q6=(Y_=class extends lf{constructor(t={}){super();Ue(this,Dn);Ue(this,Jr);Ue(this,lc);this.config=t,$e(this,Dn,new Set),$e(this,Jr,new Map),$e(this,lc,0)}build(t,r,n){const s=new F6({client:t,mutationCache:this,mutationId:++Ru(this,lc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){le(this,Dn).add(t);const r=$u(t);if(typeof r=="string"){const n=le(this,Jr).get(r);n?n.push(t):le(this,Jr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,Dn).delete(t)){const r=$u(t);if(typeof r=="string"){const n=le(this,Jr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&le(this,Jr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$u(t);if(typeof r=="string"){const n=le(this,Jr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=$u(t);if(typeof r=="string"){const s=(n=le(this,Jr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{le(this,Dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,Dn).clear(),le(this,Jr).clear()})}getAll(){return Array.from(le(this,Dn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aN(r,n))}findAll(t={}){return this.getAll().filter(r=>aN(t,r))}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xr))))}},Dn=new WeakMap,Jr=new WeakMap,lc=new WeakMap,Y_);function $u(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gn,X_,z6=(X_=class extends lf{constructor(t={}){super();Ue(this,gn);this.config=t,$e(this,gn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??zv(s,r);let l=this.get(o);return l||(l=new $6({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){le(this,gn).has(t.queryHash)||(le(this,gn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=le(this,gn).get(t.queryHash);r&&(t.destroy(),r===t&&le(this,gn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,gn).get(t)}getAll(){return[...le(this,gn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>nN(t,n)):r}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gn=new WeakMap,X_),mt,Na,Sa,yi,vi,ka,bi,ji,Q_,U6=(Q_=class{constructor(e={}){Ue(this,mt);Ue(this,Na);Ue(this,Sa);Ue(this,yi);Ue(this,vi);Ue(this,ka);Ue(this,bi);Ue(this,ji);$e(this,mt,e.queryCache||new z6),$e(this,Na,e.mutationCache||new q6),$e(this,Sa,e.defaultOptions||{}),$e(this,yi,new Map),$e(this,vi,new Map),$e(this,ka,0)}mount(){Ru(this,ka)._++,le(this,ka)===1&&($e(this,bi,tC.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,mt).onFocus())})),$e(this,ji,ad.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,mt).onOnline())})))}unmount(){var e,t;Ru(this,ka)._--,le(this,ka)===0&&((e=le(this,bi))==null||e.call(this),$e(this,bi,void 0),(t=le(this,ji))==null||t.call(this),$e(this,ji,void 0))}isFetching(e){return le(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,Na).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=le(this,mt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ly(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return le(this,mt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=le(this,mt).get(n.queryHash),o=s==null?void 0:s.state.data,l=b6(t,o);if(l!==void 0)return le(this,mt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>le(this,mt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=le(this,mt);Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=le(this,mt);return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>le(this,mt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return Zt.batch(()=>(le(this,mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>le(this,mt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=le(this,mt).build(this,t);return r.isStaleByTime(ly(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=cN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=cN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ad.isOnline()?le(this,Na).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,mt)}getMutationCache(){return le(this,Na)}getDefaultOptions(){return le(this,Sa)}setDefaultOptions(e){$e(this,Sa,e)}setQueryDefaults(e,t){le(this,yi).set(bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,yi).values()],r={};return t.forEach(n=>{jl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){le(this,vi).set(bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,vi).values()],r={};return t.forEach(n=>{jl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Uv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,mt).clear(),le(this,Na).clear()}},mt=new WeakMap,Na=new WeakMap,Sa=new WeakMap,yi=new WeakMap,vi=new WeakMap,ka=new WeakMap,bi=new WeakMap,ji=new WeakMap,Q_),W6=O.createContext(void 0),H6=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(W6.Provider,{value:e,children:t}));J_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const dN="popstate";function K6(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:l,hash:u}=n.location;return dy("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:sd(s)}return V6(t,r,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G6(){return Math.random().toString(36).substr(2,8)}function fN(e,t){return{usr:e.state,key:e.key,idx:t}}function dy(e,t,r,n){return r===void 0&&(r=null),wl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yi(t):t,{state:r,key:t&&t.key||n||G6()})}function sd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function V6(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u=Oa.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(wl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Oa.Pop;let y=p(),k=y==null?null:y-f;f=y,d&&d({action:u,location:j.location,delta:k})}function x(y,k){u=Oa.Push;let _=dy(j.location,y,k);f=p()+1;let E=fN(_,f),S=j.createHref(_);try{l.pushState(E,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}o&&d&&d({action:u,location:j.location,delta:1})}function v(y,k){u=Oa.Replace;let _=dy(j.location,y,k);f=p();let E=fN(_,f),S=j.createHref(_);l.replaceState(E,"",S),o&&d&&d({action:u,location:j.location,delta:0})}function b(y){let k=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof y=="string"?y:sd(y);return _=_.replace(/ $/,"%20"),vt(k,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,k)}let j={get action(){return u},get location(){return e(s,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(dN,m),d=y,()=>{s.removeEventListener(dN,m),d=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let k=b(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:v,go(y){return l.go(y)}};return j}var hN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hN||(hN={}));function Y6(e,t,r){return r===void 0&&(r="/"),X6(e,t,r)}function X6(e,t,r,n){let s=typeof t=="string"?Yi(t):t,o=Hv(s.pathname||"/",r);if(o==null)return null;let l=sC(e);Q6(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=cR(o);u=iR(l[d],f)}return u}function sC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(vt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Aa([n,d.relativePath]),p=r.concat(d);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),sC(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:aR(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of iC(o.path))s(o,l,d)}),t}function iC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=iC(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Q6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const J6=/^:[\w-]+$/,Z6=3,eR=2,tR=1,rR=10,nR=-2,mN=e=>e==="*";function aR(e,t){let r=e.split("/"),n=r.length;return r.some(mN)&&(n+=nR),t&&(n+=eR),r.filter(s=>!mN(s)).reduce((s,o)=>s+(J6.test(o)?Z6:o===""?tR:rR),n)}function sR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function iR(e,t,r){let{routesMeta:n}=e,s={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=oR({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Aa([o,m.pathname]),pathnameBase:mR(Aa([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Aa([o,m.pathnameBase]))}return l}function oR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:x,isOptional:v}=p;if(x==="*"){let j=u[m]||"";l=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[m];return v&&!b?f[x]=void 0:f[x]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function lR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Wv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dR=e=>uR.test(e);function fR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Yi(e):e,o;if(r)if(dR(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Wv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?o=pN(r.substring(1),"/"):o=pN(r,t)}else o=t;return{pathname:o,search:pR(n),hash:gR(s)}}function pN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kv(e,t){let r=hR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Yi(e):(s=wl({},e),vt(!s.pathname||!s.pathname.includes("?"),Xm("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Xm("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Xm("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=fR(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),mR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oC=["post","put","patch","delete"];new Set(oC);const yR=["get",...oC];new Set(yR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}const Vv=O.createContext(null),vR=O.createContext(null),Ta=O.createContext(null),uf=O.createContext(null),Gn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),lC=O.createContext(null);function bR(e,t){let{relative:r}=t===void 0?{}:t;Xi()||vt(!1);let{basename:n,navigator:s}=O.useContext(Ta),{hash:o,pathname:l,search:u}=uC(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Aa([n,l])),s.createHref({pathname:d,search:u,hash:o})}function Xi(){return O.useContext(uf)!=null}function Ns(){return Xi()||vt(!1),O.useContext(uf).location}function cC(e){O.useContext(Ta).static||O.useLayoutEffect(e)}function Ss(){let{isDataRoute:e}=O.useContext(Gn);return e?RR():jR()}function jR(){Xi()||vt(!1);let e=O.useContext(Vv),{basename:t,future:r,navigator:n}=O.useContext(Ta),{matches:s}=O.useContext(Gn),{pathname:o}=Ns(),l=JSON.stringify(Kv(s,r.v7_relativeSplatPath)),u=O.useRef(!1);return cC(()=>{u.current=!0}),O.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=Gv(f,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Aa([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,o,e])}function df(){let{matches:e}=O.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function uC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Ta),{matches:s}=O.useContext(Gn),{pathname:o}=Ns(),l=JSON.stringify(Kv(s,n.v7_relativeSplatPath));return O.useMemo(()=>Gv(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function wR(e,t){return NR(e,t)}function NR(e,t,r,n){Xi()||vt(!1);let{navigator:s}=O.useContext(Ta),{matches:o}=O.useContext(Gn),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Ns(),p;if(t){var m;let y=typeof t=="string"?Yi(t):t;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||vt(!1),p=y}else p=f;let x=p.pathname||"/",v=x;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Y6(e,{pathname:v}),j=AR(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Aa([d,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Aa([d,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&j?O.createElement(uf.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Oa.Pop}},j):j}function SR(){let e=TR(),t=xR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const kR=O.createElement(SR,null);class OR extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Gn.Provider,{value:this.props.routeContext},O.createElement(lC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PR(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(Vv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Gn.Provider,{value:t},n)}function AR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||vt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:x,errors:v}=r,b=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,x)=>{let v,b=!1,j=null,y=null;r&&(v=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||kR,d&&(f<0&&x===0?(MR("route-fallback"),b=!0,y=null):f===x&&(b=!0,y=m.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,x+1)),_=()=>{let E;return v?E=j:b?E=y:m.route.Component?E=O.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,O.createElement(PR,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:r!=null},children:E})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?O.createElement(OR,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):_()},null)}var dC=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(dC||{}),fC=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(fC||{});function _R(e){let t=O.useContext(Vv);return t||vt(!1),t}function CR(e){let t=O.useContext(vR);return t||vt(!1),t}function ER(e){let t=O.useContext(Gn);return t||vt(!1),t}function hC(e){let t=ER(),r=t.matches[t.matches.length-1];return r.route.id||vt(!1),r.route.id}function TR(){var e;let t=O.useContext(lC),r=CR(),n=hC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function RR(){let{router:e}=_R(dC.UseNavigateStable),t=hC(fC.UseNavigateStable),r=O.useRef(!1);return cC(()=>{r.current=!0}),O.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Nl({fromRouteId:t},o)))},[e,t])}const gN={};function MR(e,t,r){gN[e]||(gN[e]=!0)}function IR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mC(e){let{to:t,replace:r,state:n,relative:s}=e;Xi()||vt(!1);let{future:o,static:l}=O.useContext(Ta),{matches:u}=O.useContext(Gn),{pathname:d}=Ns(),f=Ss(),p=Gv(t,Kv(u,o.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return O.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:s}),[f,m,s,r,n]),null}function Fe(e){vt(!1)}function $R(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Oa.Pop,navigator:o,static:l=!1,future:u}=e;Xi()&&vt(!1);let d=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:d,navigator:o,static:l,future:Nl({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof n=="string"&&(n=Yi(n));let{pathname:p="/",search:m="",hash:x="",state:v=null,key:b="default"}=n,j=O.useMemo(()=>{let y=Hv(p,d);return y==null?null:{location:{pathname:y,search:m,hash:x,state:v,key:b},navigationType:s}},[d,p,m,x,v,b,s]);return j==null?null:O.createElement(Ta.Provider,{value:f},O.createElement(uf.Provider,{children:r,value:j}))}function DR(e){let{children:t,location:r}=e;return wR(fy(t),r)}new Promise(()=>{});function fy(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let o=[...t,s];if(n.type===O.Fragment){r.push.apply(r,fy(n.props.children,o));return}n.type!==Fe&&vt(!1),!n.props.index||!n.props.children||vt(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=fy(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function LR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BR(e,t){return e.button===0&&(!t||t==="_self")&&!FR(e)}function my(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function qR(e,t){let r=my(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const zR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UR="6";try{window.__reactRouterVersion=UR}catch{}const WR="startTransition",xN=u6[WR];function HR(e){let{basename:t,children:r,future:n,window:s}=e,o=O.useRef();o.current==null&&(o.current=K6({window:s,v5Compat:!0}));let l=o.current,[u,d]=O.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=O.useCallback(m=>{f&&xN?xN(()=>d(m)):d(m)},[d,f]);return O.useLayoutEffect(()=>l.listen(p),[l,p]),O.useEffect(()=>IR(n),[n]),O.createElement($R,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,x=LR(t,zR),{basename:v}=O.useContext(Ta),b,j=!1;if(typeof f=="string"&&GR.test(f)&&(b=f,KR))try{let E=new URL(window.location.href),S=f.startsWith("//")?new URL(E.protocol+f):new URL(f),N=Hv(S.pathname,v);S.origin===E.origin&&N!=null?f=N+S.search+S.hash:j=!0}catch{}let y=bR(f,{relative:s}),k=VR(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function _(E){n&&n(E),E.defaultPrevented||k(E)}return O.createElement("a",hy({},x,{href:b||y,onClick:j||o?n:_,ref:r,target:d}))});var yN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yN||(yN={}));var vN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vN||(vN={}));function VR(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=Ss(),f=Ns(),p=uC(e,{relative:l});return O.useCallback(m=>{if(BR(m,r)){m.preventDefault();let x=n!==void 0?n:sd(f)===sd(p);d(e,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,p,n,s,r,e,o,l,u])}function ff(e){let t=O.useRef(my(e)),r=O.useRef(!1),n=Ns(),s=O.useMemo(()=>qR(n.search,r.current?null:t.current),[n.search]),o=Ss(),l=O.useCallback((u,d)=>{const f=my(typeof u=="function"?u(s):u);r.current=!0,o("?"+f,d)},[o,s]);return[s,l]}function YR({onClick:e,loading:t=!1}){return a.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),a.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),a.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),a.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const bN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function XR(){const[e]=ff(),[t,r]=O.useState(null);O.useEffect(()=>{const s=e.get("error");if(s&&bN[s]){r(bN[s]);const o=new URLSearchParams(e);o.delete("error");const l=o.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const n=()=>{window.location.href="/auth/google"};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),a.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),a.jsx(YR,{onClick:n}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const jN=e=>{let t;const r=new Set,n=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const x=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(v=>v(t,x))}},s=()=>t,u={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=t=e(n,s,u);return u},QR=(e=>e?jN(e):jN),JR=e=>e;function ZR(e,t=JR){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const wN=e=>{const t=QR(e),r=n=>ZR(t,n);return Object.assign(r,t),r},eM=(e=>e?wN(e):wN);function pC(e,t){return function(){return e.apply(t,arguments)}}const{toString:tM}=Object.prototype,{getPrototypeOf:Yv}=Object,{iterator:hf,toStringTag:gC}=Symbol,mf=(e=>t=>{const r=tM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nn=e=>(e=e.toLowerCase(),t=>mf(t)===e),pf=e=>t=>typeof t===e,{isArray:Qi}=Array,wi=pf("undefined");function cc(e){return e!==null&&!wi(e)&&e.constructor!==null&&!wi(e.constructor)&&dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xC=nn("ArrayBuffer");function rM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xC(e.buffer),t}const nM=pf("string"),dr=pf("function"),yC=pf("number"),uc=e=>e!==null&&typeof e=="object",aM=e=>e===!0||e===!1,ed=e=>{if(mf(e)!=="object")return!1;const t=Yv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gC in e)&&!(hf in e)},sM=e=>{if(!uc(e)||cc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},iM=nn("Date"),oM=nn("File"),lM=nn("Blob"),cM=nn("FileList"),uM=e=>uc(e)&&dr(e.pipe),dM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dr(e.append)&&((t=mf(e))==="formdata"||t==="object"&&dr(e.toString)&&e.toString()==="[object FormData]"))},fM=nn("URLSearchParams"),[hM,mM,pM,gM]=["ReadableStream","Request","Response","Headers"].map(nn),xM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Qi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(cc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,e[u],u,e)}}function vC(e,t){if(cc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bC=e=>!wi(e)&&e!==rs;function py(){const{caseless:e,skipUndefined:t}=bC(this)&&this||{},r={},n=(s,o)=>{const l=e&&vC(r,o)||o;ed(r[l])&&ed(s)?r[l]=py(r[l],s):ed(s)?r[l]=py({},s):Qi(s)?r[l]=s.slice():(!t||!wi(s))&&(r[l]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&dc(arguments[s],n);return r}const yM=(e,t,r,{allOwnKeys:n}={})=>(dc(t,(s,o)=>{r&&dr(s)?Object.defineProperty(e,o,{value:pC(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),vM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jM=(e,t,r,n)=>{let s,o,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Yv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},wM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},NM=e=>{if(!e)return null;if(Qi(e))return e;let t=e.length;if(!yC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yv(Uint8Array)),kM=(e,t)=>{const n=(e&&e[hf]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},OM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},PM=nn("HTMLFormElement"),AM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),NN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_M=nn("RegExp"),jC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dc(r,(s,o)=>{let l;(l=t(s,o,e))!==!1&&(n[o]=l||s)}),Object.defineProperties(e,n)},CM=e=>{jC(e,(t,r)=>{if(dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},EM=(e,t)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return Qi(e)?n(e):n(String(e).split(t)),r},TM=()=>{},RM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MM(e){return!!(e&&dr(e.append)&&e[gC]==="FormData"&&e[hf])}const IM=e=>{const t=new Array(10),r=(n,s)=>{if(uc(n)){if(t.indexOf(n)>=0)return;if(cc(n))return n;if(!("toJSON"in n)){t[s]=n;const o=Qi(n)?[]:{};return dc(n,(l,u)=>{const d=r(l,s+1);!wi(d)&&(o[u]=d)}),t[s]=void 0,o}}return n};return r(e,0)},$M=nn("AsyncFunction"),DM=e=>e&&(uc(e)||dr(e))&&dr(e.then)&&dr(e.catch),wC=((e,t)=>e?setImmediate:t?((r,n)=>(rs.addEventListener("message",({source:s,data:o})=>{s===rs&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),rs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dr(rs.postMessage)),LM=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||wC,FM=e=>e!=null&&dr(e[hf]),ae={isArray:Qi,isArrayBuffer:xC,isBuffer:cc,isFormData:dM,isArrayBufferView:rM,isString:nM,isNumber:yC,isBoolean:aM,isObject:uc,isPlainObject:ed,isEmptyObject:sM,isReadableStream:hM,isRequest:mM,isResponse:pM,isHeaders:gM,isUndefined:wi,isDate:iM,isFile:oM,isBlob:lM,isRegExp:_M,isFunction:dr,isStream:uM,isURLSearchParams:fM,isTypedArray:SM,isFileList:cM,forEach:dc,merge:py,extend:yM,trim:xM,stripBOM:vM,inherits:bM,toFlatObject:jM,kindOf:mf,kindOfTest:nn,endsWith:wM,toArray:NM,forEachEntry:kM,matchAll:OM,isHTMLForm:PM,hasOwnProperty:NN,hasOwnProp:NN,reduceDescriptors:jC,freezeMethods:CM,toObjectSet:EM,toCamelCase:AM,noop:TM,toFiniteNumber:RM,findKey:vC,global:rs,isContextDefined:bC,isSpecCompliantForm:MM,toJSONObject:IM,isAsyncFn:$M,isThenable:DM,setImmediate:wC,asap:LM,isIterable:FM};let Re=class NC extends Error{static from(t,r,n,s,o,l){const u=new NC(t.message,r||t.code,n,s,o);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,n,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}};Re.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Re.ERR_BAD_OPTION="ERR_BAD_OPTION";Re.ECONNABORTED="ECONNABORTED";Re.ETIMEDOUT="ETIMEDOUT";Re.ERR_NETWORK="ERR_NETWORK";Re.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Re.ERR_DEPRECATED="ERR_DEPRECATED";Re.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Re.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Re.ERR_CANCELED="ERR_CANCELED";Re.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Re.ERR_INVALID_URL="ERR_INVALID_URL";const BM=null;function gy(e){return ae.isPlainObject(e)||ae.isArray(e)}function SC(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function SN(e,t,r){return e?e.concat(t).map(function(s,o){return s=SC(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function qM(e){return ae.isArray(e)&&!e.some(gy)}const zM=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function gf(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,y){return!ae.isUndefined(y[j])});const n=r.metaTokens,s=r.visitor||p,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(ae.isDate(b))return b.toISOString();if(ae.isBoolean(b))return b.toString();if(!d&&ae.isBlob(b))throw new Re("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(b)||ae.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,j,y){let k=b;if(b&&!y&&typeof b=="object"){if(ae.endsWith(j,"{}"))j=n?j:j.slice(0,-2),b=JSON.stringify(b);else if(ae.isArray(b)&&qM(b)||(ae.isFileList(b)||ae.endsWith(j,"[]"))&&(k=ae.toArray(b)))return j=SC(j),k.forEach(function(E,S){!(ae.isUndefined(E)||E===null)&&t.append(l===!0?SN([j],S,o):l===null?j:j+"[]",f(E))}),!1}return gy(b)?!0:(t.append(SN(y,j,o),f(b)),!1)}const m=[],x=Object.assign(zM,{defaultVisitor:p,convertValue:f,isVisitable:gy});function v(b,j){if(!ae.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(b),ae.forEach(b,function(k,_){(!(ae.isUndefined(k)||k===null)&&s.call(t,k,ae.isString(_)?_.trim():_,j,x))===!0&&v(k,j?j.concat(_):[_])}),m.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return v(e),t}function kN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xv(e,t){this._pairs=[],e&&gf(e,this,t)}const kC=Xv.prototype;kC.append=function(t,r){this._pairs.push([t,r])};kC.toString=function(t){const r=t?function(n){return t.call(this,n,kN)}:kN;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function UM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function OC(e,t,r){if(!t)return e;const n=r&&r.encode||UM,s=ae.isFunction(r)?{serialize:r}:r,o=s&&s.serialize;let l;if(o?l=o(t,s):l=ae.isURLSearchParams(t)?t.toString():new Xv(t,s).toString(n),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class ON{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(n){n!==null&&t(n)})}}const PC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WM=typeof URLSearchParams<"u"?URLSearchParams:Xv,HM=typeof FormData<"u"?FormData:null,KM=typeof Blob<"u"?Blob:null,GM={isBrowser:!0,classes:{URLSearchParams:WM,FormData:HM,Blob:KM},protocols:["http","https","file","blob","url","data"]},Qv=typeof window<"u"&&typeof document<"u",xy=typeof navigator=="object"&&navigator||void 0,VM=Qv&&(!xy||["ReactNative","NativeScript","NS"].indexOf(xy.product)<0),YM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XM=Qv&&window.location.href||"http://localhost",QM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qv,hasStandardBrowserEnv:VM,hasStandardBrowserWebWorkerEnv:YM,navigator:xy,origin:XM},Symbol.toStringTag,{value:"Module"})),Xt={...QM,...GM};function JM(e,t){return gf(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,s,o){return Xt.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function ZM(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eI(e){const t={},r=Object.keys(e);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function AC(e){function t(r,n,s,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&ae.isArray(s)?s.length:l,d?(ae.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!ae.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],o)&&ae.isArray(s[l])&&(s[l]=eI(s[l])),!u)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(n,s)=>{t(ZM(n),s,r,0)}),r}return null}function tI(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const fc={transitional:PC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=ae.isObject(t);if(o&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return s?JSON.stringify(AC(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JM(t,this.formSerializer).toString();if((u=ae.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return gf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),tI(t)):t}],transformResponse:[function(t){const r=this.transitional||fc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Re.from(u,Re.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{fc.headers[e]={}});const rI=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&rI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},PN=Symbol("internals");function Qo(e){return e&&String(e).trim().toLowerCase()}function td(e){return e===!1||e==null?e:ae.isArray(e)?e.map(td):String(e)}function aI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const sI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qm(e,t,r,n,s){if(ae.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ae.isString(t)){if(ae.isString(n))return t.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(t)}}function iI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function oI(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,l){return this[n].call(this,t,s,o,l)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function o(u,d,f){const p=Qo(d);if(!p)throw new Error("header name must be a non-empty string");const m=ae.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=td(u))}const l=(u,d)=>ae.forEach(u,(f,p)=>o(f,p,d));if(ae.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ae.isString(t)&&(t=t.trim())&&!sI(t))l(nI(t),r);else if(ae.isObject(t)&&ae.isIterable(t)){let u={},d,f;for(const p of t){if(!ae.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ae.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Qo(t),t){const n=ae.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return aI(s);if(ae.isFunction(r))return r.call(this,s,n);if(ae.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Qo(t),t){const n=ae.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Qm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function o(l){if(l=Qo(l),l){const u=ae.findKey(n,l);u&&(!r||Qm(n,n[u],u,r))&&(delete n[u],s=!0)}}return ae.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!t||Qm(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,n={};return ae.forEach(this,(s,o)=>{const l=ae.findKey(n,o);if(l){r[l]=td(s),delete r[o];return}const u=t?iI(o):String(o).trim();u!==o&&delete r[o],r[u]=td(s),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[PN]=this[PN]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Qo(l);n[u]||(oI(s,l),n[u]=!0)}return ae.isArray(t)?t.forEach(o):o(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ae.freezeMethods(fr);function Jm(e,t){const r=this||fc,n=t||r,s=fr.from(n.headers);let o=n.data;return ae.forEach(e,function(u){o=u.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function _C(e){return!!(e&&e.__CANCEL__)}let hc=class extends Re{constructor(t,r,n){super(t??"canceled",Re.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function CC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Re("Request failed with status code "+r.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),r[s]=d,n[s]=f;let m=o,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),f-l<t)return;const v=p&&f-p;return v?Math.round(x*1e3/v):void 0}}function uI(e,t){let r=0,n=1e3/t,s,o;const l=(f,p=Date.now())=>{r=p,s=null,o&&(clearTimeout(o),o=null),e(...f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=n?l(f,p):(s=f,o||(o=setTimeout(()=>{o=null,l(s)},n-m)))},()=>s&&l(s)]}const id=(e,t,r=3)=>{let n=0;const s=cI(50,250);return uI(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=s(d),p=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},r)},AN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_N=e=>(...t)=>ae.asap(()=>e(...t)),dI=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,fI=Xt.hasStandardBrowserEnv?{write(e,t,r,n,s,o,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];ae.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),ae.isString(n)&&u.push(`path=${n}`),ae.isString(s)&&u.push(`domain=${s}`),o===!0&&u.push("secure"),ae.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EC(e,t,r){let n=!hI(t);return e&&(n||r==!1)?mI(e,t):t}const CN=e=>e instanceof fr?{...e}:e;function gs(e,t){t=t||{};const r={};function n(f,p,m,x){return ae.isPlainObject(f)&&ae.isPlainObject(p)?ae.merge.call({caseless:x},f,p):ae.isPlainObject(p)?ae.merge({},p):ae.isArray(p)?p.slice():p}function s(f,p,m,x){if(ae.isUndefined(p)){if(!ae.isUndefined(f))return n(void 0,f,m,x)}else return n(f,p,m,x)}function o(f,p){if(!ae.isUndefined(p))return n(void 0,p)}function l(f,p){if(ae.isUndefined(p)){if(!ae.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,m){if(m in t)return n(f,p);if(m in e)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>s(CN(f),CN(p),m,!0)};return ae.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||s,x=m(e[p],t[p],p);ae.isUndefined(x)&&m!==u||(r[p]=x)}),r}const TC=e=>{const t=gs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=fr.from(l),t.url=OC(EC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ae.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ae.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(Xt.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(t)),n||n!==!1&&dI(t.url))){const d=s&&o&&fI.read(o);d&&l.set(s,d)}return t},pI=typeof XMLHttpRequest<"u",gI=pI&&function(e){return new Promise(function(r,n){const s=TC(e);let o=s.data;const l=fr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,p,m,x,v,b;function j(){v&&v(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function k(){if(!y)return;const E=fr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:e,request:y};CC(function(C){r(C),j()},function(C){n(C),j()},N),y=null}"onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(k)},y.onabort=function(){y&&(n(new Re("Request aborted",Re.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const N=S&&S.message?S.message:"Network Error",P=new Re(N,Re.ERR_NETWORK,e,y);P.event=S||null,n(P),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||PC;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new Re(S,N.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,y)),y=null},o===void 0&&l.setContentType(null),"setRequestHeader"in y&&ae.forEach(l.toJSON(),function(S,N){y.setRequestHeader(N,S)}),ae.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),u&&u!=="json"&&(y.responseType=s.responseType),f&&([x,b]=id(f,!0),y.addEventListener("progress",x)),d&&y.upload&&([m,v]=id(d),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=E=>{y&&(n(!E||E.type?new hc(null,e,y):E),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const _=lI(s.url);if(_&&Xt.protocols.indexOf(_)===-1){n(new Re("Unsupported protocol "+_+":",Re.ERR_BAD_REQUEST,e));return}y.send(o||null)})},xI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const o=function(f){if(!s){s=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof Re?p:new hc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new Re(`timeout of ${t}ms exceeded`,Re.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),e=null)};e.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ae.asap(u),d}},yI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},vI=async function*(e,t){for await(const r of bI(e))yield*yI(r,t)},bI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},EN=(e,t,r,n)=>{const s=vI(e,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){u(),d.close();return}let m=p.byteLength;if(r){let x=o+=m;r(x)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},TN=64*1024,{isFunction:Du}=ae,jI=(({Request:e,Response:t})=>({Request:e,Response:t}))(ae.global),{ReadableStream:RN,TextEncoder:MN}=ae.global,IN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wI=e=>{e=ae.merge.call({skipUndefined:!0},jI,e);const{fetch:t,Request:r,Response:n}=e,s=t?Du(t):typeof fetch=="function",o=Du(r),l=Du(n);if(!s)return!1;const u=s&&Du(RN),d=s&&(typeof MN=="function"?(b=>j=>b.encode(j))(new MN):async b=>new Uint8Array(await new r(b).arrayBuffer())),f=o&&u&&IN(()=>{let b=!1;const j=new r(Xt.origin,{body:new RN,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),p=l&&u&&IN(()=>ae.isReadableStream(new n("").body)),m={stream:p&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(j,y)=>{let k=j&&j[b];if(k)return k.call(j);throw new Re(`Response type '${b}' is not supported`,Re.ERR_NOT_SUPPORT,y)})});const x=async b=>{if(b==null)return 0;if(ae.isBlob(b))return b.size;if(ae.isSpecCompliantForm(b))return(await new r(Xt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(b)||ae.isArrayBuffer(b))return b.byteLength;if(ae.isURLSearchParams(b)&&(b=b+""),ae.isString(b))return(await d(b)).byteLength},v=async(b,j)=>{const y=ae.toFiniteNumber(b.getContentLength());return y??x(j)};return async b=>{let{url:j,method:y,data:k,signal:_,cancelToken:E,timeout:S,onDownloadProgress:N,onUploadProgress:P,responseType:C,headers:R,withCredentials:M="same-origin",fetchOptions:L}=TC(b),T=t||fetch;C=C?(C+"").toLowerCase():"text";let $=xI([_,E&&E.toAbortSignal()],S),G=null;const Q=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let z;try{if(P&&f&&y!=="get"&&y!=="head"&&(z=await v(R,k))!==0){let F=new r(j,{method:"POST",body:k,duplex:"half"}),D;if(ae.isFormData(k)&&(D=F.headers.get("content-type"))&&R.setContentType(D),F.body){const[K,ie]=AN(z,id(_N(P)));k=EN(F.body,TN,K,ie)}}ae.isString(M)||(M=M?"include":"omit");const B=o&&"credentials"in r.prototype,U={...L,signal:$,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:k,duplex:"half",credentials:B?M:void 0};G=o&&new r(j,U);let H=await(o?T(G,L):T(j,U));const Y=p&&(C==="stream"||C==="response");if(p&&(N||Y&&Q)){const F={};["status","statusText","headers"].forEach(ue=>{F[ue]=H[ue]});const D=ae.toFiniteNumber(H.headers.get("content-length")),[K,ie]=N&&AN(D,id(_N(N),!0))||[];H=new n(EN(H.body,TN,K,()=>{ie&&ie(),Q&&Q()}),F)}C=C||"text";let q=await m[ae.findKey(m,C)||"text"](H,b);return!Y&&Q&&Q(),await new Promise((F,D)=>{CC(F,D,{data:q,headers:fr.from(H.headers),status:H.status,statusText:H.statusText,config:b,request:G})})}catch(B){throw Q&&Q(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,b,G),{cause:B.cause||B}):Re.from(B,B&&B.code,b,G)}}},NI=new Map,RC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,o=[n,s,r];let l=o.length,u=l,d,f,p=NI;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:wI(t)),p=f;return f};RC();const Jv={http:BM,xhr:gI,fetch:{get:RC}};ae.forEach(Jv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $N=e=>`- ${e}`,SI=e=>ae.isFunction(e)||e===null||e===!1;function kI(e,t){e=ae.isArray(e)?e:[e];const{length:r}=e;let n,s;const o={};for(let l=0;l<r;l++){n=e[l];let u;if(s=n,!SI(n)&&(s=Jv[(u=String(n)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${u}'`);if(s&&(ae.isFunction(s)||(s=s.get(t))))break;o[u||"#"+l]=s}if(!s){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map($N).join(`
`):" "+$N(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const MC={getAdapter:kI,adapters:Jv};function Zm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hc(null,e)}function DN(e){return Zm(e),e.headers=fr.from(e.headers),e.data=Jm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),MC.getAdapter(e.adapter||fc.adapter,e)(e).then(function(n){return Zm(e),n.data=Jm.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return _C(n)||(Zm(e),n&&n.response&&(n.response.data=Jm.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const IC="1.13.4",xf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const LN={};xf.transitional=function(t,r,n){function s(o,l){return"[Axios v"+IC+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new Re(s(l," has been removed"+(r?" in "+r:"")),Re.ERR_DEPRECATED);return r&&!LN[l]&&(LN[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,u):!0}};xf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function OI(e,t,r){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],l=t[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new Re("option "+o+" must be "+d,Re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}const rd={assertOptions:OI,validators:xf},hn=rd.validators;let hs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ON,response:new ON}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gs(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&rd.assertOptions(n,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),s!=null&&(ae.isFunction(s)?r.paramsSerializer={serialize:s}:rd.assertOptions(s,{encode:hn.function,serialize:hn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),rd.assertOptions(r,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&ae.merge(o.common,o[r.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=fr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let p,m=0,x;if(!d){const b=[DN.bind(this),void 0];for(b.unshift(...u),b.push(...f),x=b.length,p=Promise.resolve(r);m<x;)p=p.then(b[m++],b[m++]);return p}x=u.length;let v=r;for(;m<x;){const b=u[m++],j=u[m++];try{v=b(v)}catch(y){j.call(this,y);break}}try{p=DN.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,x=f.length;m<x;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=gs(this.defaults,t);const r=EC(t.baseURL,t.url,t.allowAbsoluteUrls);return OC(r,t.params,t.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(t){hs.prototype[t]=function(r,n){return this.request(gs(n||{},{method:t,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,u){return this.request(gs(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}hs.prototype[t]=r(),hs.prototype[t+"Form"]=r(!0)});let PI=class $C{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new hc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new $C(function(s){t=s}),cancel:t}}};function AI(e){return function(r){return e.apply(null,r)}}function _I(e){return ae.isObject(e)&&e.isAxiosError===!0}const yy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yy).forEach(([e,t])=>{yy[t]=e});function DC(e){const t=new hs(e),r=pC(hs.prototype.request,t);return ae.extend(r,hs.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return DC(gs(e,s))},r}const gt=DC(fc);gt.Axios=hs;gt.CanceledError=hc;gt.CancelToken=PI;gt.isCancel=_C;gt.VERSION=IC;gt.toFormData=gf;gt.AxiosError=Re;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=AI;gt.isAxiosError=_I;gt.mergeConfig=gs;gt.AxiosHeaders=fr;gt.formToJSON=e=>AC(ae.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=MC.getAdapter;gt.HttpStatusCode=yy;gt.default=gt;const{Axios:AJ,AxiosError:_J,CanceledError:CJ,isCancel:EJ,CancelToken:TJ,VERSION:RJ,all:MJ,Cancel:IJ,isAxiosError:$J,spread:DJ,toFormData:LJ,AxiosHeaders:FJ,HttpStatusCode:BJ,formToJSON:qJ,getAdapter:zJ,mergeConfig:UJ}=gt;class Ee extends Error{constructor(r,n,s){super(r);Tu(this,"status");Tu(this,"data");this.name="ApiError",this.status=n,this.data=s}}const Sl=gt.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function CI(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}Sl.interceptors.request.use(e=>{const t=CI();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function EI(e){var r,n;if(gt.isAxiosError(e)){const s=e,o=((r=s.response)==null?void 0:r.status)??null,l=(n=s.response)==null?void 0:n.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Ee(u,o,l)}const t=e instanceof Error?e.message:String(e);return new Ee(t,null,null)}let ep=!1,tp=null;async function TI(){try{return await Sl.post("/auth/refresh"),!0}catch{return!1}}Sl.interceptors.response.use(e=>e,async e=>{var r,n,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&t&&!t._retried&&!((n=t.url)!=null&&n.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,ep||(ep=!0,tp=TI());const o=await tp;return ep=!1,tp=null,o?Sl.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function fe(e){try{return(await Sl.request(e)).data}catch(t){throw EI(t)}}const wn=eM((e,t)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await fe({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await fe({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const n=await fe({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(n.redirectUrl){window.location.href=n.redirectUrl;return}window.location.reload()}catch(n){console.error("Switch organization failed:",n)}},setUser:r=>{e({user:r})}}));function RI(){const[e,t]=O.useState(null),[r,n]=O.useState(!0),[s,o]=O.useState(null),{user:l}=wn();O.useEffect(()=>{(async()=>{try{n(!0);const f=await fetch("/api/dashboard/stats",{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch dashboard stats");const p=await f.json();t(p),o(null)}catch(f){o(f instanceof Error?f.message:"Unknown error")}finally{n(!1)}})()},[]);const u=d=>d===0?"-":`${d}%`;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(l==null?void 0:l.name)||"User","! Here's your workflow overview."]})]}),s&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:s})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.totalWorkflows)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.recentExecutions)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:u((e==null?void 0:e.successRate)??0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.pendingApprovals)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(e==null?void 0:e.activeIntegrations)&&e.activeIntegrations.length>0&&a.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.activeIntegrations.map(d=>a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:d},d))})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),a.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[a.jsx("li",{children:"Create your first workflow"}),a.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),a.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function MI({workflow:e,onExecute:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function LC({workflowId:e,workflowName:t,isOpen:r,onClose:n,onSuccess:s}){const[o,l]=O.useState("{}"),[u,d]=O.useState("idle"),[f,p]=O.useState("");if(!r)return null;const m=async()=>{d("executing"),p("");try{let x={};o.trim()&&(x=JSON.parse(o)),await fe({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),d("success"),setTimeout(()=>{s==null||s(),n()},1500)}catch(x){x instanceof SyntaxError?p("Invalid JSON format"):x instanceof Ee?p(x.message):p("Execution failed"),d("error")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600 text-xl",children:""}),a.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("span",{className:"text-red-800",children:f})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:n,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function II({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=O.useState(""),[o,l]=O.useState(""),[u,d]=O.useState(!1),[f,p]=O.useState(null),m=async()=>{if(!n.trim()){p("Workflow name is required");return}d(!0),p(null);try{await fe({url:"/api/workflows",method:"POST",data:{name:n.trim(),description:o.trim()||void 0,enabled:!0,config:{}}}),r(),t(),s(""),l("")}catch(x){let v="Failed to create workflow";x instanceof Ee&&(x.status===403?v="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":v=x.message),p(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:o,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function $I(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState(null),[l,u]=O.useState(!1),d=async()=>{try{const x=await fe({url:"/api/workflows",method:"GET"});t(x.workflows)}catch(x){console.error("Failed to fetch workflows:",x)}finally{n(!1)}};O.useEffect(()=>{d()},[]);const f=x=>{const v=e.find(b=>b.id===x);v&&o(v)},p=()=>{o(null)},m=()=>{d()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),a.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>a.jsx(MI,{workflow:x,onExecute:f},x.id))}),s&&a.jsx(LC,{workflowId:s.id,workflowName:s.name,isOpen:!0,onClose:p,onSuccess:m}),a.jsx(II,{isOpen:l,onClose:()=>u(!1),onSuccess:d})]})}function DI(){var ue;const{id:e}=df(),t=Ss(),[r,n]=O.useState(null),[s,o]=O.useState(!0),[l,u]=O.useState(null),[d,f]=O.useState(!1),[p,m]=O.useState(!1),[x,v]=O.useState(!1),[b,j]=O.useState(!1),[y,k]=O.useState(!1),[_,E]=O.useState(!1),[S,N]=O.useState(!1),[P,C]=O.useState(null),[R,M]=O.useState(null),[L,T]=O.useState([]),[$,G]=O.useState(""),[Q,z]=O.useState(""),[B,U]=O.useState(!0),H=async()=>{if(e)try{const se=await fe({url:`/api/workflows/${e}`,method:"GET"});n(se.workflow),G(se.workflow.name),z(se.workflow.description||""),U(se.workflow.enabled)}catch(se){se instanceof Ee&&se.status===404?u("Workflow not found"):u("Failed to load workflow")}finally{o(!1)}};O.useEffect(()=>{H()},[e]);const Y=async()=>{if(!(!e||!$.trim())){m(!0);try{const se=await fe({url:`/api/workflows/${e}`,method:"PUT",data:{name:$.trim(),description:Q.trim()||null,enabled:B}});n(se.workflow),f(!1)}catch(se){const te=se instanceof Ee?se.message:"Failed to save";alert(te)}finally{m(!1)}}},q=async()=>{if(e){v(!0);try{await fe({url:`/api/workflows/${e}`,method:"DELETE"}),t("/workflows")}catch(se){const te=se instanceof Ee?se.message:"Failed to delete";alert(te),v(!1),k(!1)}}},F=async()=>{if(e){N(!0),M(null);try{const se=await fe({url:`/api/workflows/${e}/generate-sop`,method:"POST"});C(se.sop),T(se.sop.steps),E(!0)}catch(se){const te=se instanceof Ee?se.message:"Failed to generate SOP";M(te)}finally{N(!1)}}},D=()=>{P&&(alert(`SOP saved with ${L.length} steps. (This would save to database in production)`),E(!1))},K=(se,te,pe)=>{const ce=[...L];ce[se]={...ce[se],[te]:pe},T(ce)},ie=se=>{switch(se){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):l||!r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l||"Workflow not found"}),a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r.name})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:d?a.jsxs("div",{className:"space-y-4 max-w-xl",children:[a.jsx("input",{type:"text",value:$,onChange:se=>G(se.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),a.jsx("textarea",{value:Q,onChange:se=>z(se.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:B,onChange:se=>U(se.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[r.name,a.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-gray-600",children:r.description||"No description"})]})}),a.jsx("div",{className:"flex gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:Y,disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:p?"Saving...":"Save"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),a.jsx("button",{onClick:F,disabled:S,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:S?"Generating...":"Generate SOP"}),a.jsx("button",{onClick:()=>j(!0),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),a.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((ue=r.executions)==null?void 0:ue.length)||0})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),r.executions&&r.executions.length>0?a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.executions.map(se=>{const te=se.startedAt&&se.completedAt?Math.round((new Date(se.completedAt).getTime()-new Date(se.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ie(se.status)}`,children:se.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:se.startedAt?new Date(se.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te!==null?`${te}s`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx(At,{to:`/executions/${se.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},se.id)})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),b&&a.jsx(LC,{workflowId:r.id,workflowName:r.name,isOpen:!0,onClose:()=>j(!1),onSuccess:()=>{j(!1),H()}}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:q,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})}),_&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:R}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:L.map((se,te)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",te+1,": Title"]}),a.jsx("input",{type:"text",value:se.title,onChange:pe=>K(te,"title",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:se.expectedDuration,onChange:pe=>K(te,"expectedDuration",parseInt(pe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:se.description,onChange:pe=>K(te,"description",pe.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:se.approvalRequired,onChange:pe=>K(te,"approvalRequired",pe.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},se.id))}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:D,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function LI(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState("all");O.useEffect(()=>{(async()=>{try{const p=await fe({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{n(!1)}})()},[]);const l=e.filter(f=>s==="all"?!0:f.status===s),u=f=>{switch(f){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),a.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>o("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),a.jsx("button",{onClick:()=>o("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),a.jsx("button",{onClick:()=>o("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>{var m;const p=f.startedAt&&f.completedAt?Math.round((new Date(f.completedAt).getTime()-new Date(f.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(f.status)}`,children:[d(f.status)," ",f.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=f.workflow)==null?void 0:m.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.startedAt?new Date(f.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},f.id)})})]})})]})}function FI(){var z;const{id:e}=df(),[t,r]=O.useState(null),[n,s]=O.useState(null),[o,l]=O.useState(!0),[u,d]=O.useState(null),[f,p]=O.useState(!1),[m,x]=O.useState(!0),[v,b]=O.useState(!0),[j,y]=O.useState(null),[k,_]=O.useState(""),[E,S]=O.useState(!1),N=async()=>{var B;if(e)try{const U=await fe({url:`/api/executions/${e}`,method:"GET"});r(U.execution),(B=U.execution.workflow)!=null&&B.sopEnabled&&await P()}catch(U){U instanceof Ee&&U.status===404?d("Execution not found"):d("Failed to load execution")}finally{l(!1)}},P=async()=>{if(e)try{const B=await fe({url:`/api/executions/${e}/sop-progress`,method:"GET"});s(B.progress)}catch{console.error("Failed to load SOP progress")}};O.useEffect(()=>{N()},[e]);const C=async()=>{if(!(!(t!=null&&t.workflowId)||!(t!=null&&t.inputData))){p(!0);try{await fe({url:`/api/workflows/${t.workflowId}/execute`,method:"POST",data:{input:t.inputData}}),N()}catch(B){const U=B instanceof Ee?B.message:"Failed to retry";alert(U)}finally{p(!1)}}},R=async()=>{if(e){y("approve");try{await fe({url:`/api/executions/${e}/sop/approve`,method:"POST",data:{}}),await P(),await N()}catch(B){const U=B instanceof Ee?B.message:"Failed to approve step";alert(U)}finally{y(null)}}},M=async()=>{if(!(!e||!k.trim())){y("skip");try{await fe({url:`/api/executions/${e}/sop/skip`,method:"POST",data:{reason:k}}),S(!1),_(""),await P(),await N()}catch(B){const U=B instanceof Ee?B.message:"Failed to skip step";alert(U)}finally{y(null)}}},L=B=>{switch(B){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:B}}},T=(B,U,H)=>B.result?L(B.result.status):U===H?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},$=(B,U)=>{if(!B)return"-";const H=new Date(B).getTime(),Y=U?new Date(U).getTime():Date.now(),q=Math.round((Y-H)/1e3);if(q<60)return`${q}s`;const F=Math.floor(q/60),D=q%60;return`${F}m ${D}s`},G=B=>{navigator.clipboard.writeText(B)};if(o)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(u||!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u||"Execution not found"}),a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const Q=L(t.status);return a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsxs("span",{className:"text-gray-600",children:[t.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${Q.bg} ${Q.text}`,children:[a.jsx("span",{className:"text-2xl",children:Q.icon}),Q.label]}),((z=t.workflow)==null?void 0:z.sopEnabled)&&a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),t.workflow&&a.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",a.jsx(At,{to:`/workflows/${t.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:t.workflow.name})]})]}),t.status==="failed"&&a.jsx("button",{onClick:C,disabled:f,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:f?"Retrying...":"Retry Execution"})]}),n&&n.steps.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[n.completedSteps," / ",n.totalSteps," completed"]}),n.skippedSteps>0&&a.jsxs("span",{className:"text-gray-400",children:["(",n.skippedSteps," skipped)"]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(n.completedSteps+n.skippedSteps)/n.totalSteps*100}%`}})}),a.jsx("div",{className:"space-y-3",children:n.steps.map((B,U)=>{var q,F,D,K,ie,ue,se;const H=T(B,U,n.currentStep),Y=U===n.currentStep&&!((F=(q=B.result)==null?void 0:q.status)!=null&&F.match(/completed|skipped|failed/));return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${Y?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${H.bg} ${H.text} font-bold`,children:((D=B.result)==null?void 0:D.status)==="completed"||((K=B.result)==null?void 0:K.status)==="skipped"?H.icon:U+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:B.name}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${H.bg} ${H.text}`,children:B.type})]}),B.description&&a.jsx("p",{className:"text-sm text-gray-500 truncate",children:B.description}),((ie=B.result)==null?void 0:ie.skippedReason)&&a.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",B.result.skippedReason]}),((ue=B.result)==null?void 0:ue.error)&&a.jsx("p",{className:"text-sm text-red-600",children:B.result.error})]}),Y&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:R,disabled:j!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:j==="approve"?"...":"Approve"}),B.skippable!==!1&&a.jsx("button",{onClick:()=>S(!0),disabled:j!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((se=B.result)==null?void 0:se.completedAt)&&a.jsx("span",{className:"text-xs text-gray-400",children:new Date(B.result.completedAt).toLocaleTimeString()})]},B.id)})})]}),E&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),a.jsx("textarea",{value:k,onChange:B=>_(B.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{S(!1),_("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!k.trim()||j==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:j==="skip"?"Skipping...":"Skip Step"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),a.jsx("p",{className:"font-medium",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),a.jsx("p",{className:"font-medium",children:$(t.startedAt,t.completedAt)})]})]})]}),t.errorMessage&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),a.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:t.errorMessage})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[a.jsxs("button",{onClick:()=>x(!m),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),a.jsx("span",{className:"text-gray-400",children:m?"":""})]}),m&&a.jsx("div",{className:"p-6",children:t.inputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>G(JSON.stringify(t.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.inputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>b(!v),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),a.jsx("span",{className:"text-gray-400",children:v?"":""})]}),v&&a.jsx("div",{className:"p-6",children:t.outputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>G(JSON.stringify(t.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.outputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function BI(){const{user:e,currentOrganization:t}=wn(),[r,n]=O.useState((e==null?void 0:e.name)||""),[s,o]=O.useState(!1),[l,u]=O.useState({}),[d,f]=O.useState(""),[p,m]=O.useState(""),[x,v]=O.useState(""),[b,j]=O.useState(!1),[y,k]=O.useState(null),[_,E]=O.useState(null);O.useEffect(()=>{(async()=>{try{const M=await fe({url:"/api/organization/settings",method:"GET"});u(M.settings)}catch(M){console.error("Failed to fetch API key settings:",M)}})()},[]);const S=async()=>{j(!0),k(null),E(null);try{const R={};if(d&&(R.anthropicApiKey=d),p&&(R.openaiApiKey=p),x&&(R.openrouterApiKey=x),Object.keys(R).length===0){k("Please enter at least one API key"),j(!1);return}await fe({url:"/api/organization/settings/api-keys",method:"PUT",data:R});const M=await fe({url:"/api/organization/settings",method:"GET"});u(M.settings),f(""),m(""),v(""),E("API keys saved successfully")}catch(R){const M=R instanceof Ee?R.message:"Failed to save API keys";k(M)}finally{j(!1)}},N=async R=>{if(confirm(`Are you sure you want to delete ${R}?`))try{await fe({url:`/api/organization/settings/api-keys/${R}`,method:"DELETE"});const M=await fe({url:"/api/organization/settings",method:"GET"});u(M.settings),E(`${R} deleted successfully`)}catch(M){const L=M instanceof Ee?M.message:"Failed to delete API key";k(L)}},P=async()=>{o(!0);try{await fe({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(R){const M=R instanceof Ee?R.message:"Failed to update profile";console.error("Save failed:",R),alert(M)}finally{o(!1)}},C=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await fe({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(R){const M=R instanceof Ee?R.message:"Failed to logout from all devices";console.error("Logout all failed:",R),alert(M)}};return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:R=>n(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:P,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),a.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),y&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),_&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:_}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",l.anthropicApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.anthropicApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>N("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:d,onChange:R=>f(R.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",a.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",l.openaiApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openaiApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>N("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:p,onChange:R=>m(R.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",l.openrouterApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openrouterApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>N("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:x,onChange:R=>v(R.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:S,disabled:b||!d&&!p&&!x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Save API Keys"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),a.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function qI(){const[e,t]=ff(),[r,n]=O.useState(null),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(!1),[p,m]=O.useState(null);O.useEffect(()=>{const k=e.get("success"),_=e.get("error");k==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):_&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[_]||`Error: ${_}`}),t({})),x()},[e,t]);const x=async()=>{try{const k=await fe({url:"/api/notion/oauth/status",method:"GET"});n(k),k.connected&&await v()}catch(k){if(k instanceof Ee&&k.status===404){n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",k)}finally{u(!1)}},v=async()=>{try{const k=await fe({url:"/api/notion/databases",method:"GET"});o(k.databases||[])}catch{o([])}},b=()=>{window.location.href="/api/notion/oauth/install"},j=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){f(!0),m(null);try{await fe({url:"/api/notion/oauth/disconnect",method:"DELETE"}),n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),o([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{f(!1)}}};if(l)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const y=(r==null?void 0:r.connected)??!1;return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:y&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:r.workspaceIcon?a.jsx("img",{src:r.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName||"Notion Workspace"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.workspaceId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),r.botId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botId})]}),r.connectedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Connected:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.connectedAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),a.jsx("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),a.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),y&&s.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),a.jsx("button",{onClick:v,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:s.map(k=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:k.title}),a.jsx("p",{className:"text-sm text-gray-500 font-mono",children:k.id})]}),a.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},k.id))})]}),y&&s.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",a.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),a.jsx("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function zI(){const[e,t]=ff(),[r,n]=O.useState(null),[s,o]=O.useState(!0),[l,u]=O.useState(!1),[d,f]=O.useState(null);O.useEffect(()=>{const b=e.get("success"),j=e.get("error");b==="true"?(f({type:"success",text:"Slack workspace connected successfully!"}),t({})):j&&(f({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[j]||`Error: ${j}`}),t({})),p()},[e,t]);const p=async()=>{try{const b=await fe({url:"/api/slack/integration",method:"GET"});n(b.integration)}catch(b){if(b instanceof Ee&&b.status===404){n(null);return}console.error("Fetch integration error:",b)}finally{o(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},x=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),f(null);try{await fe({url:"/api/slack/integration",method:"DELETE"}),n(null),f({type:"success",text:"Slack disconnected successfully."})}catch{f({type:"error",text:"Failed to disconnect Slack."})}finally{u(!1)}}};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const v=!!(r!=null&&r.hasWorkspace&&(r!=null&&r.workspaceId));return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:v&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Installed:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:r.installedAt?new Date(r.installedAt).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(b=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:b},b))})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),a.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function UI(){const[e,t]=O.useState(null),[r,n]=O.useState([]),[s,o]=O.useState(""),[l,u]=O.useState(""),[d,f]=O.useState(""),[p,m]=O.useState(!0),[x,v]=O.useState(!1),[b,j]=O.useState(!1),[y,k]=O.useState(null);O.useEffect(()=>{_()},[]);const _=async()=>{try{const C=await fe({url:"/api/google-calendar/connection",method:"GET"});t(C.connection),f(C.connection.calendarId||""),await E()}catch(C){if(C instanceof Ee&&C.status===404){t(null);return}console.error("Fetch connection error:",C)}finally{m(!1)}},E=async()=>{try{const C=await fe({url:"/api/google-calendar/calendars",method:"GET"});n(C.calendars||[])}catch(C){console.error("Fetch calendars error:",C)}},S=async()=>{if(!s){k({type:"error",text:"Please enter an access token"});return}j(!0),k(null);try{const C=await fe({url:"/api/google-calendar/test",method:"POST",data:{accessToken:s,refreshToken:l||void 0}});C.success?k({type:"success",text:`Connection successful! Email: ${C.email}, ${C.calendars||0} calendars found.`}):k({type:"error",text:C.error||"Connection failed"})}catch(C){const R=C instanceof Ee?C.message:"Failed to test connection";k({type:"error",text:R})}finally{j(!1)}},N=async()=>{if(!s){k({type:"error",text:"Please enter an access token"});return}v(!0),k(null);try{const R=await fe({url:"/api/google-calendar/connection",method:e?"PUT":"POST",data:{accessToken:s,refreshToken:l||void 0,calendarId:d||void 0}});t(R.connection),k({type:"success",text:"Google Calendar connection saved successfully"}),await E(),o(""),u("")}catch(C){const R=C instanceof Ee?C.message:"Failed to save connection";k({type:"error",text:R})}finally{v(!1)}},P=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){v(!0),k(null);try{await fe({url:"/api/google-calendar/connection",method:"DELETE"}),t(null),n([]),f(""),k({type:"success",text:"Google Calendar connection deleted"})}catch(C){const R=C instanceof Ee?C.message:"Failed to delete connection";k({type:"error",text:R})}finally{v(!1)}}};return p?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:y.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),a.jsx("input",{id:"accessToken",type:"password",value:s,onChange:C=>o(C.target.value),placeholder:e?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),a.jsx("input",{id:"refreshToken",type:"password",value:l,onChange:C=>u(C.target.value),placeholder:e?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",a.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:S,disabled:b||!s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Testing...":"Test Connection"}),a.jsx("button",{onClick:N,disabled:x||!s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:P,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),a.jsxs("select",{id:"defaultCalendar",value:d,onChange:C=>f(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Primary Calendar --"}),r.map(C=>a.jsxs("option",{value:C.id,children:[C.summary," ",C.primary?"(Primary)":""]},C.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(C=>a.jsx("div",{className:`p-4 border rounded-lg transition ${C.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:[C.summary,C.primary&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),C.description&&a.jsx("p",{className:"text-sm text-gray-500",children:C.description}),a.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:C.id})]})})},C.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),a.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),a.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),a.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function WI({organizationId:e,isOpen:t,onClose:r,onSuccess:n}){const[s,o]=O.useState(""),[l,u]=O.useState("member"),[d,f]=O.useState(!1),[p,m]=O.useState(null),x=async()=>{if(!s.trim()){m("Email is required");return}f(!0),m(null);try{await fe({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),n(),r(),o(""),u("member")}catch(v){const b=v instanceof Ee?v.message:"Failed to invite member";m(b)}finally{f(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",value:s,onChange:v=>o(v.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",value:l,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"admin",children:"Admin - Full access"}),a.jsx("option",{value:"member",children:"Member - Can execute workflows"}),a.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function HI({userId:e,currentRole:t,organizationId:r,currentUserId:n,onSuccess:s}){const[o,l]=O.useState(!1),u=e===n,d=async f=>{if(f!==t){l(!0);try{await fe({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:f}}),s()}catch(p){const m=p instanceof Ee?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return a.jsxs("select",{value:t,onChange:f=>d(f.target.value),disabled:o||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${o?"opacity-50":""}`,children:[a.jsx("option",{value:"owner",children:"Owner"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})}function KI(){const{currentOrganization:e,user:t}=wn(),[r,n]=O.useState([]),[s,o]=O.useState(!0),[l,u]=O.useState(!1),d=e==null?void 0:e.id,f=t==null?void 0:t.id,p=async()=>{if(d)try{const v=await fe({url:`/api/organizations/${d}/members`,method:"GET"});n(v.members)}catch(v){console.error("Failed to fetch members:",v)}finally{o(!1)}};O.useEffect(()=>{p()},[d]);const m=async(v,b)=>{if(confirm(`Are you sure you want to remove ${b} from this organization?`))try{await fe({url:`/api/organizations/${d}/members/${v}`,method:"DELETE"}),p()}catch(j){const y=j instanceof Ee?j.message:"Failed to remove member";alert(y)}},x=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),a.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their roles"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:v.avatarUrl?a.jsx("img",{className:"h-10 w-10 rounded-full",src:v.avatarUrl,alt:v.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:v.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.name,v.userId===f&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d&&f&&a.jsx(HI,{userId:v.userId,currentRole:v.role,organizationId:d,currentUserId:f,onSuccess:p})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.status==="active"?"Active":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.joinedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.userId!==f&&a.jsx("button",{onClick:()=>m(v.userId,v.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},v.id))})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),d&&a.jsx(WI,{organizationId:d,isOpen:l,onClose:()=>u(!1),onSuccess:p})]})}function GI(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState(null),[l,u]=O.useState("pending"),[d,f]=O.useState("all"),[p,m]=O.useState({page:1,total:0,totalPages:0}),[x,v]=O.useState(null),b=async()=>{n(!0),o(null);try{const S=await fe({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:p.page,limit:20}});t(S.approvals),m({page:S.pagination.page,total:S.pagination.total,totalPages:S.pagination.totalPages})}catch(S){const N=S instanceof Ee?S.message:"Failed to fetch approvals";o(N)}finally{n(!1)}};O.useEffect(()=>{b()},[l,d,p.page]);const j=async(S,N)=>{v(S);try{await fe({url:`/api/approvals/${S}/respond`,method:"PUT",data:{action:N}}),b()}catch(P){const C=P instanceof Ee?P.message:"Failed to respond to approval";o(C)}finally{v(null)}},y=S=>{const N={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N[S]}`,children:S.charAt(0).toUpperCase()+S.slice(1)})},k=S=>{const N={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N[S].bg}`,children:S.charAt(0).toUpperCase()+S.slice(1)})},_=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=S=>new Date(S)<new Date;return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),a.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l,onChange:S=>{u(S.target.value),m(N=>({...N,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"all",children:"All"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d,onChange:S=>{f(S.target.value),m(N=>({...N,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"budget",children:"Budget"}),a.jsx("option",{value:"deployment",children:"Deployment"}),a.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"inbox":"check-circle"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),a.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:S.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(S.type)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(S.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(S.expiresAt)?a.jsx("span",{className:"text-red-600",children:"Expired"}):_(S.expiresAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.status==="pending"&&!E(S.expiresAt)?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(S.id,"approved"),disabled:x===S.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===S.id?"...":"Approve"}),a.jsx("button",{onClick:()=>j(S.id,"rejected"),disabled:x===S.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===S.id?"...":"Reject"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:S.respondedAt?_(S.respondedAt):"-"})})]},S.id))})]}),p.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>m(S=>({...S,page:S.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>m(S=>({...S,page:S.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const VI=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function YI(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:n=10,onEvent:s}=e,[o,l]=O.useState(!1),[u,d]=O.useState(null),[f,p]=O.useState(null),m=O.useRef(null),x=O.useRef(0),v=O.useRef(null),b=O.useRef(s),j=O.useRef([]);O.useEffect(()=>{b.current=s},[s]);const y=O.useCallback(()=>{m.current&&(j.current.forEach(({type:E,handler:S})=>{var N;(N=m.current)==null||N.removeEventListener(E,S)}),j.current=[],m.current.close(),m.current=null),v.current&&(clearTimeout(v.current),v.current=null)},[]),k=O.useCallback(()=>{y();const S=`${t}`;try{const N=new EventSource(S,{withCredentials:!0});m.current=N,N.onopen=()=>{l(!0),p(null),x.current=0},N.onerror=()=>{if(l(!1),y(),x.current<n){const P=r*Math.pow(2,x.current);x.current+=1,v.current=setTimeout(()=>{k()},P)}else p("Failed to connect to server. Please refresh the page.")},N.onmessage=P=>{var C;try{const R=JSON.parse(P.data),M={type:R.type||"message",data:R.data||R,timestamp:Date.now()};d(M),(C=b.current)==null||C.call(b,M)}catch{P.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",P.data)}},VI.forEach(P=>{const C=R=>{var M;try{const T=JSON.parse(R.data),$={type:P,data:T,timestamp:Date.now()};d($),(M=b.current)==null||M.call(b,$)}catch(L){console.warn(`Failed to parse ${P} event:`,L)}};N.addEventListener(P,C),j.current.push({type:P,handler:C})})}catch(N){p("Failed to create EventSource connection"),console.error("SSE connection error:",N)}},[t,r,n,y]),_=O.useCallback(()=>{x.current=0,k()},[k]);return O.useEffect(()=>(k(),y),[k,y]),{isConnected:o,lastEvent:u,error:f,reconnect:_}}const FN={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function XI(e){const t=e.toLowerCase().replace(/-/g,"_");return FN[t]||FN.default}function QI(e,t){switch(e){case"pending":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[a.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function JI(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function FC({agent:e,children:t,allAgents:r,depth:n,onSelectAgent:s}){const o=t.filter(l=>l.parentId===e.id);return a.jsxs("div",{className:`${n>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[a.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[a.jsx("span",{className:"text-xl",children:XI(e.agentType)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),QI(e.status,e.progress)]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&a.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&a.jsxs("span",{children:[" ",JI(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&a.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&a.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),o.length>0&&a.jsx("div",{className:"mt-1",children:o.map(l=>a.jsx(FC,{agent:l,children:r,allAgents:r,depth:n+1,onSelectAgent:s},l.id))})]})}function ZI({agents:e,selectedSessionId:t,onSelectAgent:r}){const n=O.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=O.useMemo(()=>n.filter(l=>!l.parentId),[n]),o=O.useMemo(()=>{const l=n.length,u=n.filter(p=>p.status==="completed").length,d=n.filter(p=>p.status==="failed").length,f=n.filter(p=>p.status==="in_progress").length;return{total:l,completed:u,failed:d,inProgress:f}},[n]);return n.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No active agents"}),a.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Total: ",o.total]}),o.inProgress>0&&a.jsxs("span",{className:"text-blue-600",children:[" ",o.inProgress," running"]}),o.completed>0&&a.jsxs("span",{className:"text-green-600",children:[" ",o.completed," done"]}),o.failed>0&&a.jsxs("span",{className:"text-red-600",children:[" ",o.failed," failed"]})]})]}),a.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>a.jsx(FC,{agent:l,children:n,allAgents:n,depth:0,onSelectAgent:r},l.id))})]})}function e$({accounts:e,selectedAccountId:t,onRefresh:r}){const[n,s]=O.useState(Date.now());O.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const o=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",u=m=>{if(!m)return null;const v=new Date(m).getTime()-n;if(v<=0)return null;const b=Math.floor(v/6e4);return b<60?`${b}m`:`${Math.floor(b/60)}h ${b%60}m`},d=[...e].sort((m,x)=>m.id===t?-1:x.id===t?1:x.priority-m.priority),f=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,x)=>m+x.estimatedUsagePercent,0)/e.length):0;return a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Claude Max Pool"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f,"/",e.length," active  ",p,"% avg usage"]})]}),r&&a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:d.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No accounts configured"})]}):d.map(m=>{const x=u(m.cooldownUntil),v=m.id===t;return a.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${v?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:o(m.status)}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),v&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),x&&a.jsxs("div",{className:"text-xs text-orange-600",children:[" ",x]})]})]}),a.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),a.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const t$=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function r$(){const[e,t]=O.useState([]),[r,n]=O.useState("all"),[s,o]=O.useState(new Map),[l,u]=O.useState([]),[d,f]=O.useState(),[p,m]=O.useState(),x=O.useCallback(P=>{const C={id:`${P.timestamp}-${Math.random().toString(36).slice(2)}`,type:P.type,data:P.data,timestamp:P.timestamp};t(M=>[C,...M].slice(0,100));const R=P.data;if(P.type==="agent:started"||P.type==="agent_delegated"){const M={id:R.activityId||R.id||C.id,sessionId:R.sessionId||"unknown",agentType:R.agentType||"unknown",agentName:R.agentName,category:R.category,status:"in_progress",parentId:R.parentActivityId,startedAt:new Date(P.timestamp).toISOString()};o(L=>new Map(L).set(M.id,M))}if(P.type==="agent:progress"){const M=R.activityId;M&&o(L=>{const T=new Map(L),$=T.get(M);return $&&T.set(M,{...$,progress:R.progress,status:"in_progress"}),T})}if(P.type==="agent:completed"||P.type==="agent:failed"){const M=R.activityId;M&&o(L=>{const T=new Map(L),$=T.get(M);return $&&T.set(M,{...$,status:P.type==="agent:completed"?"completed":"failed",duration:R.duration,errorMessage:R.errorMessage,completedAt:new Date(P.timestamp).toISOString()}),T})}P.type==="account_selected"&&(f(R.accountId),R.accounts&&u(R.accounts))},[]),{isConnected:v,error:b,reconnect:j}=YI({url:"/api/events",onEvent:x}),y=O.useMemo(()=>e.filter(P=>r==="all"?!0:P.type===r||P.type.startsWith(r.split(":")[0])),[e,r]),k=O.useMemo(()=>Array.from(s.values()),[s]),_=O.useMemo(()=>{const P=new Set(k.map(C=>C.sessionId));return Array.from(P)},[k]),E=P=>P.includes("started")?"bg-blue-100 text-blue-800":P.includes("completed")?"bg-green-100 text-green-800":P.includes("failed")||P.includes("error")?"bg-red-100 text-red-800":P.includes("progress")?"bg-yellow-100 text-yellow-800":P.includes("delegated")?"bg-purple-100 text-purple-800":P.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",S=P=>P.includes("started")?"":P.includes("completed")?"":P.includes("failed")?"":P.includes("progress")?"":P.includes("delegated")?"":P.includes("account")?"":"",N=P=>new Date(P).toLocaleTimeString();return a.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),a.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${v?"bg-green-500 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:v?"Live":"Disconnected"})]}),!v&&a.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),b&&a.jsx("span",{className:"text-sm text-red-600",children:b})]}),_.length>0&&a.jsxs("select",{value:p||"",onChange:P=>m(P.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Sessions"}),_.map(P=>a.jsxs("option",{value:P,children:["Session: ",P.slice(0,12),"..."]},P))]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsx(ZI,{agents:k,selectedSessionId:p,onSelectAgent:P=>m(P.sessionId)})}),a.jsx("div",{className:"lg:col-span-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," events"]})]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:t$.map(P=>a.jsx("button",{onClick:()=>n(P),className:`px-3 py-1 rounded-full text-xs transition ${r===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P==="all"?"All":P.replace(":"," ")},P))})]}),a.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:y.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),a.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):y.map(P=>a.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-xl",children:S(P.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${E(P.type)}`,children:P.type}),a.jsx("span",{className:"text-xs text-gray-500",children:N(P.timestamp)})]}),Object.keys(P.data).length>0&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:a.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(P.data,null,2)})})]})]})},P.id))}),e.length>0&&a.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:a.jsx("button",{onClick:()=>{t([]),o(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx(e$,{accounts:l,selectedAccountId:d,onRefresh:()=>{fetch("/api/claude-max-accounts").then(P=>P.json()).then(P=>u(P.accounts||[])).catch(console.error)}})})]})]})}const Jo={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function Lu(e){return e<1?`${Math.round(e*1e3)}ms`:e<60?`${e.toFixed(1)}s`:`${Math.floor(e/60)}m ${Math.round(e%60)}s`}function BN(e){return new Date(e).toLocaleString()}function Fu(e){return e>=95?"text-green-600":e>=80?"text-yellow-600":"text-red-600"}function n$(e){return e>=95?"bg-green-100":e>=80?"bg-yellow-100":"bg-red-100"}function a$(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(null),[p,m]=O.useState(null),[x,v]=O.useState(!0),[b,j]=O.useState(null),y=O.useCallback(async()=>{try{const[N,P,C]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!N.ok||!P.ok||!C.ok)throw new Error("Failed to fetch metrics");const R=await N.json(),M=await P.json(),L=await C.json();t(R.agents||[]),n(M.tools||[]),o(L.delegations||[]),m(R.timestamp),f(null)}catch(N){f(N instanceof Error?N.message:"Unknown error")}finally{u(!1)}},[]);O.useEffect(()=>{y()},[y]),O.useEffect(()=>{if(!x)return;const N=setInterval(y,3e4);return()=>clearInterval(N)},[x,y]);const k=e.reduce((N,P)=>N+P.activeSessions,0),_=e.reduce((N,P)=>N+P.totalExecutions,0),E=e.length>0?e.reduce((N,P)=>N+P.successRate,0)/e.length:0,S=b?e.find(N=>N.agentId===b):null;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),a.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:N=>v(N.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),a.jsx("button",{onClick:y,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Refreshing...":"Refresh"})]})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:k}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:k===0?"No active agents":"Currently running"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-3xl font-bold ${Fu(E)}`,children:[E.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r.reduce((N,P)=>N+P.totalCalls,0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),l?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(N=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},N))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(N=>a.jsxs("div",{onClick:()=>j(N.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${b===N.agentId?"ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:Jo[N.agentId]||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:N.name}),a.jsx("p",{className:"text-sm text-gray-500",children:N.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Executions"}),a.jsx("p",{className:"font-semibold",children:N.totalExecutions})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Success Rate"}),a.jsxs("p",{className:`font-semibold ${Fu(N.successRate)}`,children:[N.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),a.jsx("p",{className:"font-semibold",children:Lu(N.avgDuration)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),a.jsx("p",{className:"font-semibold",children:Lu(N.p95Duration)})]})]}),N.activeSessions>0&&a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-green-600",children:[N.activeSessions," active session",N.activeSessions>1?"s":""]})]}),N.lastError&&a.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[a.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",N.lastError.message]}),a.jsx("p",{className:"text-red-400 text-xs",children:BN(N.lastError.timestamp)})]})]},N.agentId))})]}),S&&a.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Jo[S.agentId]||""," ",S.name," Details"]}),a.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:`p-3 rounded-lg ${n$(S.successRate)}`,children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:`text-2xl font-bold ${Fu(S.successRate)}`,children:[S.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[S.errorRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Lu(S.avgDuration)})]}),a.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Lu(S.p95Duration)})]})]}),S.topTools.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S.topTools.map(N=>a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[N.name," (",N.count,")"]},N.name))})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):r.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),a.jsx("tbody",{children:r.slice(0,10).map(N=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:N.toolName}),a.jsx("td",{className:"text-right py-2 px-3",children:N.totalCalls}),a.jsxs("td",{className:`text-right py-2 px-3 ${Fu(N.successRate)}`,children:[N.successRate.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex gap-1",children:N.agentUsage.slice(0,3).map(P=>a.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${P.callCount} calls`,children:[Jo[P.agentId]||""," ",P.callCount]},P.agentId))})})]},N.toolName))})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):s.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsx("div",{className:"space-y-4",children:s.map(N=>a.jsxs("div",{className:"border-b pb-4 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:Jo[N.fromAgent]||""}),a.jsx("span",{className:"font-semibold capitalize",children:N.fromAgent}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-sm text-gray-500",children:[N.totalDelegations," delegations (",N.successRate.toFixed(1),"% success)"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:N.targets.map(P=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[a.jsx("span",{children:Jo[P.toAgent]||""}),a.jsx("span",{className:"capitalize",children:P.toAgent}),a.jsxs("span",{className:"text-gray-400",children:["(",P.count,")"]})]},P.toAgent))})]},N.fromAgent))})})]}),p&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",BN(p)]})]})}function s$(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState(""),[l,u]=O.useState(""),[d,f]=O.useState(0),p=20;O.useEffect(()=>{(async()=>{try{n(!0);const b=new URLSearchParams({limit:p.toString(),offset:d.toString()});s&&b.append("type",s),l&&b.append("impactLevel",l);const j=await fe({url:`/api/org-changes?${b.toString()}`,method:"GET"});t(j.data||[])}catch(b){console.error("Failed to fetch organization changes:",b)}finally{n(!1)}})()},[s,l,d]);const m=v=>{switch(v){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{switch(v){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),a.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),a.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:s,onChange:v=>{o(v.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"new_member",children:"New Member"}),a.jsx("option",{value:"role_change",children:"Role Change"}),a.jsx("option",{value:"workflow_added",children:"Workflow Added"}),a.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),a.jsx("option",{value:"integration_added",children:"Integration Added"}),a.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),a.jsxs("select",{value:l,onChange:v=>{u(v.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Impact Levels"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),a.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.jsx("span",{className:"mr-2",children:x(v.type)}),v.type.replace(/_/g," ")]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:v.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${m(v.impactLevel)}`,children:v.impactLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.createdAt).toLocaleString()})]},v.id))})]})}),e.length>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>f(Math.max(0,d-p)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+p,d+e.length)]}),a.jsx("button",{onClick:()=>f(d+p),disabled:e.length<p,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function i$({isOpen:e,onClose:t,onSuccess:r,objective:n,defaultQuarter:s,currentUserId:o}){const[l,u]=O.useState({title:"",description:"",quarter:s,ownerId:o,status:"on_track"}),[d,f]=O.useState(!1),[p,m]=O.useState(null);O.useEffect(()=>{u(n?{title:n.title,description:n.description||"",quarter:n.quarter,ownerId:n.ownerId,status:n.status}:{title:"",description:"",quarter:s,ownerId:o,status:"on_track"})},[n,s,o]);const x=async()=>{if(!l.title.trim()){m("Title is required");return}f(!0),m(null);try{n?await fe({url:`/api/okr/${n.id}`,method:"PUT",data:l}):await fe({url:"/api/okr",method:"POST",data:l}),r(),t()}catch(v){const b=v instanceof Ee?v.message:"Failed to save objective";m(b)}finally{f(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Objective":"New Objective"}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:l.title,onChange:v=>u({...l,title:v.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:v=>u({...l,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),a.jsx("input",{type:"text",value:l.quarter,onChange:v=>u({...l,quarter:v.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:v=>u({...l,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"on_track",children:"On Track"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":n?"Save Changes":"Create Objective"})]})]})})}):null}function o$({isOpen:e,onClose:t,onSuccess:r,objectiveId:n,keyResult:s}){const[o,l]=O.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[u,d]=O.useState(!1),[f,p]=O.useState(null);O.useEffect(()=>{l(s?{title:s.title,target:String(s.target),current:String(s.current),unit:s.unit,ownerId:s.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[s]);const m=async()=>{if(!o.title.trim()){p("Title is required");return}d(!0),p(null);try{const x={title:o.title,target:Number(o.target),current:Number(o.current),unit:o.unit,ownerId:o.ownerId||null};s?await fe({url:`/api/okr/key-results/${s.id}`,method:"PUT",data:x}):await fe({url:`/api/okr/${n}/key-results`,method:"POST",data:x}),r(),t()}catch(x){const v=x instanceof Ee?x.message:"Failed to save key result";p(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:s?"Edit Key Result":"New Key Result"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:o.title,onChange:x=>l({...o,title:x.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),a.jsx("input",{type:"number",value:o.target,onChange:x=>l({...o,target:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),a.jsx("input",{type:"number",value:o.current,onChange:x=>l({...o,current:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{value:o.unit,onChange:x=>l({...o,unit:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"%",children:"%"}),a.jsx("option",{value:"count",children:"Count"}),a.jsx("option",{value:"$",children:"$"}),a.jsx("option",{value:"score",children:"Score"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":s?"Save Changes":"Add Key Result"})]})]})})}):null}function l$({progress:e,status:t}){const r=()=>t==="behind"?"bg-red-500":t==="at_risk"?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${r()}`,style:{width:`${Math.min(e,100)}%`}})})}function c$({status:e}){const t={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},r={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.on_track}`,children:r[e]||e})}function u$({objective:e,onEdit:t,onDelete:r,onAddKeyResult:n,onEditKeyResult:s,onUpdateKeyResultProgress:o}){const[l,u]=O.useState(!0);return a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx(c$,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsx(l$,{progress:e.progress,status:e.status})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:a.jsx("span",{className:"text-lg",children:""})})]})]}),a.jsxs("div",{className:"mt-4 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("button",{onClick:()=>u(!l),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[a.jsx("span",{children:l?"":""}),"Key Results (",e.keyResults.length,")"]}),a.jsx("button",{onClick:()=>n(e.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),l&&a.jsx("div",{className:"space-y-3",children:e.keyResults.length===0?a.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):e.keyResults.map(d=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.title}),a.jsx("button",{onClick:()=>s(d),className:"text-gray-400 hover:text-gray-600",children:a.jsx("span",{className:"text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(d.progress,100)}%`}})})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"number",value:d.current,onChange:f=>o(d.id,Number(f.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),a.jsxs("span",{className:"text-gray-500",children:["/ ",d.target," ",d.unit]}),a.jsxs("span",{className:"font-medium text-gray-700",children:["(",d.progress,"%)"]})]})]})]},d.id))})]})]})})}function d$(){const{user:e}=wn(),[t,r]=O.useState([]),[n,s]=O.useState([]),[o,l]=O.useState(""),[u,d]=O.useState(!0),[f,p]=O.useState(null),[m,x]=O.useState(!1),[v,b]=O.useState(null),[j,y]=O.useState(!1),[k,_]=O.useState(""),[E,S]=O.useState(null),N=()=>{const z=new Date;return`${z.getFullYear()}-Q${Math.ceil((z.getMonth()+1)/3)}`},P=async()=>{try{const z=await fe({url:"/api/okr/meta/quarters",method:"GET"});s(z.quarters),z.quarters.length>0&&!o&&l(z.quarters[0])}catch(z){console.error("Failed to fetch quarters:",z)}},C=async()=>{if(o){d(!0),p(null);try{const z=await fe({url:"/api/okr",method:"GET",params:{quarter:o}});r(z.objectives)}catch(z){const B=z instanceof Ee?z.message:"Failed to fetch objectives";p(B)}finally{d(!1)}}};O.useEffect(()=>{P()},[]),O.useEffect(()=>{o&&C()},[o]);const R=async z=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await fe({url:`/api/okr/${z}`,method:"DELETE"}),C()}catch(B){const U=B instanceof Ee?B.message:"Failed to delete objective";p(U)}},M=async(z,B)=>{try{await fe({url:`/api/okr/key-results/${z}`,method:"PUT",data:{current:B}}),C()}catch(U){console.error("Failed to update key result:",U)}},L=()=>{b(null),x(!0)},T=z=>{b(z),x(!0)},$=z=>{_(z),S(null),y(!0)},G=z=>{_(z.objectiveId),S(z),y(!0)},Q=t.length>0?Math.round(t.reduce((z,B)=>z+B.progress,0)/t.length):0;return u&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),a.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),a.jsx("select",{value:o,onChange:z=>l(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:n.map(z=>a.jsx("option",{value:z,children:z},z))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," objective",t.length!==1?"s":""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${Q}%`}})}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Q,"%"]})]})]})]}),t.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),a.jsx("button",{onClick:L,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):a.jsx("div",{className:"space-y-6",children:t.map(z=>a.jsx(u$,{objective:z,onEdit:T,onDelete:R,onAddKeyResult:$,onEditKeyResult:G,onUpdateKeyResultProgress:M},z.id))}),a.jsx(i$,{isOpen:m,onClose:()=>x(!1),onSuccess:()=>{C(),P()},objective:v,defaultQuarter:o||N(),currentUserId:(e==null?void 0:e.id)||""}),a.jsx(o$,{isOpen:j,onClose:()=>y(!1),onSuccess:C,objectiveId:k,keyResult:E})]})}function f$({agent:e,onEdit:t,onDelete:r,onViewActivity:n,onToggleEnabled:s}){const[o,l]=O.useState(!1),[u,d]=O.useState(!1),f=async()=>{if(!(!s||u)){d(!0);try{await s(e,!e.enabled)}finally{d(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&a.jsx("button",{onClick:f,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),a.jsxs("button",{onClick:()=>l(!o),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[o?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Read:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>a.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Write:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>a.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[a.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const h$=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function m$({isOpen:e,onClose:t,onSuccess:r,agent:n,availableSkills:s,availableTools:o}){const l=!!n,[u,d]=O.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[f,p]=O.useState(""),[m,x]=O.useState(""),[v,b]=O.useState(""),[j,y]=O.useState(!1),[k,_]=O.useState(null);O.useEffect(()=>{d(n?{id:n.id,name:n.name,function:n.function,description:n.description,skills:[...n.skills],tools:[...n.tools],routing_keywords:[...n.routing_keywords],permissions:{read:[...n.permissions.read],write:[...n.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),_(null)},[n,e]);const E=async $=>{$.preventDefault(),y(!0),_(null);try{l?await fe({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await fe({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(G){const Q=G instanceof Ee?G.message:"Failed to save agent";_(Q)}finally{y(!1)}},S=()=>{f.trim()&&!u.routing_keywords.includes(f.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,f.trim()]}),p(""))},N=$=>{d({...u,routing_keywords:u.routing_keywords.filter(G=>G!==$)})},P=()=>{m.trim()&&!u.permissions.read.includes(m.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,m.trim()]}}),x(""))},C=$=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(G=>G!==$)}})},R=()=>{v.trim()&&!u.permissions.write.includes(v.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,v.trim()]}}),b(""))},M=$=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(G=>G!==$)}})},L=$=>{const G=u.skills.includes($)?u.skills.filter(Q=>Q!==$):[...u.skills,$];d({...u,skills:G})},T=$=>{const G=u.tools.includes($)?u.tools.filter(Q=>Q!==$):[...u.tools,$];d({...u,tools:G})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:k}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:$=>d({...u,id:$.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:$=>d({...u,name:$.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{id:"function",value:u.function,onChange:$=>d({...u,function:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:h$.map($=>a.jsx("option",{value:$.value,children:$.label},$.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:$=>d({...u,description:$.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map($=>a.jsx("button",{type:"button",onClick:()=>L($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes($.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:$.name},$.id)),s.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map($=>a.jsx("button",{type:"button",onClick:()=>T($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes($.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:$.description,children:$.name},$.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:$=>p($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),S()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map($=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[$,a.jsx("button",{type:"button",onClick:()=>N($),className:"text-orange-600 hover:text-orange-800",children:""})]},$))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:m,onChange:$=>x($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),P()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map($=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-green-700",children:$}),a.jsx("button",{type:"button",onClick:()=>C($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:$=>b($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),R()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map($=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-yellow-700",children:$}),a.jsx("button",{type:"button",onClick:()=>M($),className:"text-yellow-600 hover:text-yellow-800",children:""})]},$))})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function p$(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(null),[p,m]=O.useState(!1),[x,v]=O.useState(null),[b,j]=O.useState([]),[y,k]=O.useState(null),[_,E]=O.useState(""),[S,N]=O.useState("all"),P=async()=>{try{const B=await fe({url:"/api/admin/pending-prs?type=agent",method:"GET"});j(B.pullRequests)}catch(B){console.error("Failed to fetch pending PRs:",B)}},C=async()=>{try{const B=await fe({url:"/api/admin/agents",method:"GET"});t(B.agents)}catch(B){const U=B instanceof Ee?B.message:"Failed to fetch agents";f(U)}},R=async()=>{try{const B=await fe({url:"/api/admin/skills",method:"GET"});n(B.skills.map(U=>({id:U.id,name:U.name})))}catch(B){console.error("Failed to fetch skills:",B)}},M=async()=>{try{const B=await fe({url:"/api/admin/tools",method:"GET"});o(B.tools)}catch(B){console.error("Failed to fetch tools:",B)}};O.useEffect(()=>{(async()=>{u(!0),await Promise.all([C(),R(),M(),P()]),u(!1)})()},[]);const L=()=>{v(null),m(!0)},T=B=>{v(B),m(!0)},$=async B=>{if(confirm(`Are you sure you want to delete "${B.name}"? This will create a PR.`))try{const U=await fe({url:`/api/admin/agents/${B.id}`,method:"DELETE"});k(`PR created to delete agent. View at: ${U.pullRequest.html_url}`),C(),P()}catch(U){const H=U instanceof Ee?U.message:"Failed to delete agent";f(H)}},G=()=>{k("Changes submitted successfully. A GitHub PR has been created for review."),C(),P()},Q=B=>{window.location.href=`/activity?agent=${B.id}`},z=async(B,U)=>{try{const H=await fe({url:`/api/admin/agents/${B.id}`,method:"PUT",data:{...B,enabled:U}});k(`PR created to ${U?"enable":"disable"} agent. View at: ${H.pullRequest.html_url}`),C(),P()}catch(H){const Y=H instanceof Ee?H.message:"Failed to toggle agent status";f(Y)}};return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(B=>B.function)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(B=>B.skills)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(B=>B.tools)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:_,onChange:B=>E(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:S,onChange:B=>N(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(B=>B.function))).map(B=>a.jsx("option",{value:B,children:B.charAt(0).toUpperCase()+B.slice(1)},B))]})})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map(B=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:B.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",B.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:B.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:B.author_avatar,alt:B.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:B.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:B.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},B.number))})]})})]}),(()=>{const B=e.filter(U=>{const H=_.toLowerCase(),Y=!H||U.name.toLowerCase().includes(H)||U.id.toLowerCase().includes(H)||U.description.toLowerCase().includes(H)||U.routing_keywords.some(F=>F.toLowerCase().includes(H)),q=S==="all"||U.function===S;return Y&&q});return e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),a.jsx("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):B.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),a.jsx("button",{onClick:()=>{E(""),N("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map(U=>a.jsx(f$,{agent:U,onEdit:T,onDelete:$,onViewActivity:Q,onToggleEnabled:z},U.id))})})(),a.jsx(m$,{isOpen:p,onClose:()=>m(!1),onSuccess:G,agent:x,availableSkills:r,availableTools:s})]})}function g$({skill:e,onEdit:t,onDelete:r}){var l;const[n,s]=O.useState(!1),o=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-white",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.category)}`,children:e.category})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>a.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||a.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),a.jsxs("button",{onClick:()=>s(!n),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[n?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&a.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const x$=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],qN=["string","number","boolean","object","array"];function y$({isOpen:e,onClose:t,onSuccess:r,skill:n,availableAgents:s,availableTools:o}){const l=!!n,[u,d]=O.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[f,p]=O.useState(""),[m,x]=O.useState({name:"",type:"string",description:"",required:!1,default:""}),[v,b]=O.useState({name:"",type:"string",description:""}),[j,y]=O.useState(!1),[k,_]=O.useState(null);O.useEffect(()=>{d(n?{id:n.id,name:n.name,description:n.description,category:n.category,triggers:[...n.triggers],parameters:n.parameters?[...n.parameters]:[],outputs:n.outputs?[...n.outputs]:[],tools_required:[...n.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),_(null)},[n,e]);const E=async T=>{T.preventDefault(),y(!0),_(null);try{l?await fe({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await fe({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch($){const G=$ instanceof Ee?$.message:"Failed to save skill";_(G)}finally{y(!1)}},S=()=>{f.trim()&&!u.triggers.includes(f.trim())&&(d({...u,triggers:[...u.triggers,f.trim()]}),p(""))},N=T=>{d({...u,triggers:u.triggers.filter(($,G)=>G!==T)})},P=()=>{if(m.name.trim()&&m.description.trim()){const T={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{T.default=JSON.parse(m.default)}catch{T.default=m.default}d({...u,parameters:[...u.parameters,T]}),x({name:"",type:"string",description:"",required:!1,default:""})}},C=T=>{d({...u,parameters:u.parameters.filter(($,G)=>G!==T)})},R=()=>{v.name.trim()&&v.description.trim()&&(d({...u,outputs:[...u.outputs,{...v,name:v.name.trim(),description:v.description.trim()}]}),b({name:"",type:"string",description:""}))},M=T=>{d({...u,outputs:u.outputs.filter(($,G)=>G!==T)})},L=T=>{const $=u.tools_required.includes(T)?u.tools_required.filter(G=>G!==T):[...u.tools_required,T];d({...u,tools_required:$})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:k}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:T=>d({...u,id:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:u.category,onChange:T=>d({...u,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:x$.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&(T.preventDefault(),S()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((T,$)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[T,a.jsx("button",{type:"button",onClick:()=>N($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(T=>a.jsx("button",{type:"button",onClick:()=>L(T.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(T.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:T.description,children:T.name},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m.name,onChange:T=>x({...m,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:m.type,onChange:T=>x({...m,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:qN.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:m.description,onChange:T=>x({...m,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:m.required,onChange:T=>x({...m,required:T.target.checked}),className:"w-3 h-3"}),"Required"]}),a.jsx("input",{type:"text",value:m.default,onChange:T=>x({...m,default:T.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((T,$)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),T.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>C($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v.name,onChange:T=>b({...v,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:v.type,onChange:T=>b({...v,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:qN.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:v.description,onChange:T=>b({...v,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((T,$)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>M($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function v$(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(null),[p,m]=O.useState(!1),[x,v]=O.useState(null),[b,j]=O.useState([]),[y,k]=O.useState(null),[_,E]=O.useState("all"),[S,N]=O.useState(""),[P,C]=O.useState("skills"),[R,M]=O.useState([]),[L,T]=O.useState([]),[$,G]=O.useState([]),[Q,z]=O.useState(!1),B=async()=>{try{const te=await fe({url:"/api/admin/pending-prs?type=skill",method:"GET"});j(te.pullRequests)}catch(te){console.error("Failed to fetch pending PRs:",te)}},U=async()=>{try{const te=await fe({url:"/api/admin/skills",method:"GET"});t(te.skills)}catch(te){const pe=te instanceof Ee?te.message:"Failed to fetch skills";f(pe)}},H=async()=>{try{const te=await fe({url:"/api/admin/agents",method:"GET"});n(te.agents.map(pe=>({id:pe.id,name:pe.name})))}catch(te){console.error("Failed to fetch agents:",te)}},Y=async()=>{try{const te=await fe({url:"/api/admin/tools",method:"GET"});o(te.tools)}catch(te){console.error("Failed to fetch tools:",te)}},q=async()=>{z(!0);try{const[te,pe,ce]=await Promise.all([fe({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),fe({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),fe({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);M(te.metrics),T(pe.skills),G(ce.skills)}catch{}finally{z(!1)}};O.useEffect(()=>{(async()=>{u(!0),await Promise.all([U(),H(),Y(),B()]),u(!1)})()},[]),O.useEffect(()=>{P==="performance"&&q()},[P]);const F=()=>{v(null),m(!0)},D=te=>{v(te),m(!0)},K=async te=>{if(confirm(`Are you sure you want to delete "${te.name}"? This will create a PR.`))try{const pe=await fe({url:`/api/admin/skills/${te.id}`,method:"DELETE"});k(`PR created to delete skill. View at: ${pe.pullRequest.html_url}`),U(),B()}catch(pe){const ce=pe instanceof Ee?pe.message:"Failed to delete skill";f(ce)}},ie=()=>{k("Changes submitted successfully. A GitHub PR has been created for review."),U(),B()},ue=Array.from(new Set(e.map(te=>te.category))),se=e.filter(te=>{const pe=S.toLowerCase(),ce=!pe||te.name.toLowerCase().includes(pe)||te.id.toLowerCase().includes(pe)||te.description.toLowerCase().includes(pe)||te.triggers.some(Te=>Te.toLowerCase().includes(pe)),Oe=_==="all"||te.category===_;return ce&&Oe});return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),a.jsxs("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>C("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${P==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),a.jsx("button",{onClick:()=>C("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${P==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),P==="skills"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((te,pe)=>te+pe.triggers.length,0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((te,pe)=>{var ce;return te+(((ce=pe.agentDetails)==null?void 0:ce.length)||0)},0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:S,onChange:te=>N(te.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>E("all"),className:`px-3 py-1 text-sm rounded-full ${_==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),ue.map(te=>a.jsxs("button",{onClick:()=>E(te),className:`px-3 py-1 text-sm rounded-full capitalize ${_===te?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[te," (",e.filter(pe=>pe.category===te).length,")"]},te))]})]})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map(te=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:te.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",te.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:te.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:te.author_avatar,alt:te.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:te.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(te.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:te.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},te.number))})]})})]}),se.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?a.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):a.jsx("button",{onClick:()=>{N(""),E("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:se.map(te=>a.jsx(g$,{skill:te,onEdit:D,onDelete:K},te.id))})]}),P==="performance"&&a.jsx("div",{children:Q?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.length})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.reduce((te,pe)=>te+pe.totalExecutions,0).toLocaleString()})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:R.length>0?`${Math.round(R.reduce((te,pe)=>te+pe.successRate,0)/R.length*100)}%`:"N/A"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),a.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:$.length})]})]}),L.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:L.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:te.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:te.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${te.successRate>=.9?"text-green-600":te.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(te.successRate*100),"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[te.avgDurationMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[te.p95DurationMs,"ms"]})]},te.skillId))})]})})]}),$.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),a.jsx("div",{className:"space-y-3",children:$.map(te=>a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:te.skillId}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:te.successRate<.7?`Low success rate: ${Math.round(te.successRate*100)}%`:`High latency: ${te.avgDurationMs}ms avg`})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"text-gray-500",children:[te.totalExecutions," executions"]}),a.jsxs("div",{className:"text-gray-500",children:[te.failureCount," failures"]})]})]},te.skillId))})]}),R.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:te.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:te.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:te.successCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:te.failureCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${te.successRate>=.9?"text-green-600":te.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(te.successRate*100),"%"]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:te.avgDurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:te.p95DurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:te.lastExecutedAt?new Date(te.lastExecutedAt).toLocaleDateString():"Never"})]},te.skillId))})]})})]}),R.length===0&&!Q&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),a.jsx(y$,{isOpen:p,onClose:()=>m(!1),onSuccess:ie,skill:x,availableAgents:r,availableTools:s})]})}function b$(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState("all"),[l,u]=O.useState(null),[d,f]=O.useState(!1),[p,m]=O.useState(0);O.useEffect(()=>{x()},[s]);const x=async()=>{n(!0);try{const k=new URLSearchParams;s!=="all"&&k.set("source",s);const _=await fe({url:`/api/conversations${k.toString()?`?${k.toString()}`:""}`,method:"GET"});t(_.conversations||[]),m(_.total||0)}catch(k){console.error("Failed to fetch conversations:",k)}finally{n(!1)}},v=async k=>{f(!0);try{const _=await fe({url:`/api/conversations/${k}`,method:"GET"});u(_.conversation)}catch(_){console.error("Failed to fetch conversation detail:",_)}finally{f(!1)}},b=k=>{switch(k){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},j=k=>{switch(k){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=k=>{const _=new Date(k),S=new Date().getTime()-_.getTime(),N=Math.floor(S/(1e3*60*60)),P=Math.floor(S/(1e3*60*60*24));return N<1?"Just now":N<24?`${N}h ago`:P<7?`${P}d ago`:_.toLocaleDateString()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),a.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(k=>a.jsx("button",{onClick:()=>o(k),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===k?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:k==="all"?"All Sources":k},k))}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),a.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(k=>a.jsx("div",{onClick:()=>v(k.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===k.id?"bg-indigo-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(k.source)}`,children:[b(k.source)," ",k.source||"unknown"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[k.messageCount," messages"]})]}),a.jsx("p",{className:"text-sm text-gray-900 truncate",children:k.preview||"No preview available"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:k.userName}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:y(k.lastUsedAt)})]})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},k.id))})})]}),l&&a.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[a.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(l.source)}`,children:[b(l.source)," ",l.source||"unknown"]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((k,_)=>a.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${k.role==="user"?"bg-indigo-600 text-white":k.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[k.role==="system"&&a.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),k.timestamp&&a.jsx("p",{className:`text-xs mt-1 ${k.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(k.timestamp).toLocaleTimeString()})]})},_)),l.history.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const zN={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},j$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function w$({result:e,onClick:t,onCopyLink:r}){const[n,s]=O.useState(!1),o=zN[e.source]||zN.notion,l=f=>{f.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),r==null||r(e.url),setTimeout(()=>s(!1),2e3)},u=f=>{f.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=f=>f?new Date(f).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${o.bg} ${o.color}`,children:o.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500",children:j$[e.source]}),e.lastModified&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:n?a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?a.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):a.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const N$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function S$(){const[e,t]=O.useState(""),[r,n]=O.useState(null),[s,o]=O.useState(!1),[l,u]=O.useState(null),[d,f]=O.useState([]),[p,m]=O.useState(null),[x,v]=O.useState("");O.useEffect(()=>{const S=setTimeout(()=>{v(e)},300);return()=>clearTimeout(S)},[e]);const b=O.useCallback(async S=>{if(!S.trim()){n(null);return}o(!0),u(null);try{const N=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:S,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!N.ok)throw new Error("Search failed");const P=await N.json();n(P),P.results.length>0&&m(null)}catch(N){u(N instanceof Error?N.message:"Search failed")}finally{o(!1)}},[d]);O.useEffect(()=>{x&&b(x)},[x,b]);const j=async S=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:S.url,clickedSource:S.source})})}catch{}window.open(S.url,"_blank","noopener,noreferrer")},y=S=>{t(S)},k=async S=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:S})})}catch{}},_=S=>{f(N=>N.includes(S)?N.filter(P=>P!==S):[...N,S])},E=(r==null?void 0:r.sources.filter(S=>S.connected).map(S=>S.source))||[];return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),a.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),E.length>0&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),E.map(S=>{var N;return a.jsxs("button",{onClick:()=>_(S),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(S)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[N$[S],r&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",((N=r.sources.find(P=>P.source===S))==null?void 0:N.count)||0,")"]})]},S)})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&a.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),a.jsx("button",{onClick:()=>k(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&a.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?a.jsx("div",{className:"space-y-3",children:r.results.map((S,N)=>a.jsx(w$,{result:S,onClick:j},`${S.source}-${S.id}-${N}`))}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),a.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((S,N)=>a.jsxs("button",{onClick:()=>y(S),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),S]},N))})]})]}),!r&&!s&&!e&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),a.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function k$(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(null);O.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,x,v]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),x.ok&&n(await x.json()),v.ok){const b=await v.json();o(b.topOrganizations||[])}f(null)}catch{f("Failed to load dashboard data")}finally{u(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),a.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Bu,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),a.jsx(Bu,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),a.jsx(Bu,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),a.jsx(Bu,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),a.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),a.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),a.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},m))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsx(O$,{status:(r==null?void 0:r.status)||"healthy"})]}),a.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(m=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&a.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),a.jsx(P$,{status:m.status})]})]},m.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function Bu({title:e,value:t,subtext:r,trend:n,trendLabel:s,icon:o,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:o}),n!==void 0&&a.jsxs("span",{className:`text-sm font-medium ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?"+":"",n,"%"]})]}),a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function O$({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:n,label:s}=t[e];return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${n}`,children:s})}function P$({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function A$(){const[e,t]=O.useState([]),[r,n]=O.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,o]=O.useState(!0),[l,u]=O.useState(null),[d,f]=O.useState(""),[p,m]=O.useState("all"),[x,v]=O.useState("all"),[b,j]=O.useState("createdAt"),[y,k]=O.useState("desc"),_=O.useCallback(async()=>{o(!0);try{const L=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:b,sortOrder:y});d&&L.append("search",d),p!=="all"&&L.append("status",p),x!=="all"&&L.append("plan",x);const T=await fetch(`/api/admin/organizations?${L}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch organizations");const $=await T.json();t($.organizations||[]),n(G=>({...G,total:$.total||0,totalPages:Math.ceil(($.total||0)/G.pageSize)}))}catch(L){u(L instanceof Error?L.message:"Failed to load organizations")}finally{o(!1)}},[r.page,r.pageSize,d,p,x,b,y]);O.useEffect(()=>{_()},[_]);const E=L=>{b===L?k(y==="asc"?"desc":"asc"):(j(L),k("desc"))},S=async L=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${L}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");_()}catch(T){alert(T instanceof Error?T.message:"Failed to suspend organization")}},N=async L=>{try{if(!(await fetch(`/api/admin/organizations/${L}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");_()}catch(T){alert(T instanceof Error?T.message:"Failed to reactivate organization")}},P=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(L),C=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=L=>{switch(L.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:L=>{f(L.target.value),n(T=>({...T,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),a.jsxs("select",{value:p,onChange:L=>{m(L.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trial",children:"Trial"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"churned",children:"Churned"})]}),a.jsxs("select",{value:x,onChange:L=>{v(L.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("button",{onClick:_,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:a.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>E("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Organization",b==="name"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>E("userCount"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Users",b==="userCount"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>E("mrr"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["MRR",b==="mrr"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>E("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Created",b==="createdAt"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-500",children:L.slug})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${M(L.plan)}`,children:L.plan})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.userCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P(L.mrr)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(L.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/admin/organizations/${L.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),L.status==="active"?a.jsx("button",{onClick:()=>S(L.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):L.status==="suspended"?a.jsx("button",{onClick:()=>N(L.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},L.id))})]})}),r.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function Ji(e){return e.status===404||e.status===502}function mc({title:e,description:t,onRetry:r}){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("div",{className:"text-4xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),a.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),r&&a.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function BC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=BC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=BC(e))&&(n&&(n+=" "),n+=t);return n}var rp,UN;function hr(){if(UN)return rp;UN=1;var e=Array.isArray;return rp=e,rp}var np,WN;function qC(){if(WN)return np;WN=1;var e=typeof Mu=="object"&&Mu&&Mu.Object===Object&&Mu;return np=e,np}var ap,HN;function Nn(){if(HN)return ap;HN=1;var e=qC(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return ap=r,ap}var sp,KN;function pc(){if(KN)return sp;KN=1;var e=Nn(),t=e.Symbol;return sp=t,sp}var ip,GN;function _$(){if(GN)return ip;GN=1;var e=pc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function o(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=n.call(l);return f&&(u?l[s]=d:delete l[s]),p}return ip=o,ip}var op,VN;function C$(){if(VN)return op;VN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return op=r,op}var lp,YN;function Vn(){if(YN)return lp;YN=1;var e=pc(),t=_$(),r=C$(),n="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:n:o&&o in Object(u)?t(u):r(u)}return lp=l,lp}var cp,XN;function Yn(){if(XN)return cp;XN=1;function e(t){return t!=null&&typeof t=="object"}return cp=e,cp}var up,QN;function Zi(){if(QN)return up;QN=1;var e=Vn(),t=Yn(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return up=n,up}var dp,JN;function Zv(){if(JN)return dp;JN=1;var e=hr(),t=Zi(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return dp=s,dp}var fp,ZN;function Ra(){if(ZN)return fp;ZN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return fp=e,fp}var hp,e2;function eb(){if(e2)return hp;e2=1;var e=Vn(),t=Ra(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==s||d==r||d==o}return hp=l,hp}var mp,t2;function E$(){if(t2)return mp;t2=1;var e=Nn(),t=e["__core-js_shared__"];return mp=t,mp}var pp,r2;function T$(){if(r2)return pp;r2=1;var e=E$(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return pp=r,pp}var gp,n2;function zC(){if(n2)return gp;n2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return gp=r,gp}var xp,a2;function R$(){if(a2)return xp;a2=1;var e=eb(),t=T$(),r=Ra(),n=zC(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var v=e(x)?p:o;return v.test(n(x))}return xp=m,xp}var yp,s2;function M$(){if(s2)return yp;s2=1;function e(t,r){return t==null?void 0:t[r]}return yp=e,yp}var vp,i2;function ks(){if(i2)return vp;i2=1;var e=R$(),t=M$();function r(n,s){var o=t(n,s);return e(o)?o:void 0}return vp=r,vp}var bp,o2;function yf(){if(o2)return bp;o2=1;var e=ks(),t=e(Object,"create");return bp=t,bp}var jp,l2;function I$(){if(l2)return jp;l2=1;var e=yf();function t(){this.__data__=e?e(null):{},this.size=0}return jp=t,jp}var wp,c2;function $$(){if(c2)return wp;c2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return wp=e,wp}var Np,u2;function D$(){if(u2)return Np;u2=1;var e=yf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return Np=s,Np}var Sp,d2;function L$(){if(d2)return Sp;d2=1;var e=yf(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var o=this.__data__;return e?o[s]!==void 0:r.call(o,s)}return Sp=n,Sp}var kp,f2;function F$(){if(f2)return kp;f2=1;var e=yf(),t="__lodash_hash_undefined__";function r(n,s){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&s===void 0?t:s,this}return kp=r,kp}var Op,h2;function B$(){if(h2)return Op;h2=1;var e=I$(),t=$$(),r=D$(),n=L$(),s=F$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Op=o,Op}var Pp,m2;function q$(){if(m2)return Pp;m2=1;function e(){this.__data__=[],this.size=0}return Pp=e,Pp}var Ap,p2;function tb(){if(p2)return Ap;p2=1;function e(t,r){return t===r||t!==t&&r!==r}return Ap=e,Ap}var _p,g2;function vf(){if(g2)return _p;g2=1;var e=tb();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return _p=t,_p}var Cp,x2;function z$(){if(x2)return Cp;x2=1;var e=vf(),t=Array.prototype,r=t.splice;function n(s){var o=this.__data__,l=e(o,s);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Cp=n,Cp}var Ep,y2;function U$(){if(y2)return Ep;y2=1;var e=vf();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return Ep=t,Ep}var Tp,v2;function W$(){if(v2)return Tp;v2=1;var e=vf();function t(r){return e(this.__data__,r)>-1}return Tp=t,Tp}var Rp,b2;function H$(){if(b2)return Rp;b2=1;var e=vf();function t(r,n){var s=this.__data__,o=e(s,r);return o<0?(++this.size,s.push([r,n])):s[o][1]=n,this}return Rp=t,Rp}var Mp,j2;function bf(){if(j2)return Mp;j2=1;var e=q$(),t=z$(),r=U$(),n=W$(),s=H$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Mp=o,Mp}var Ip,w2;function rb(){if(w2)return Ip;w2=1;var e=ks(),t=Nn(),r=e(t,"Map");return Ip=r,Ip}var $p,N2;function K$(){if(N2)return $p;N2=1;var e=B$(),t=bf(),r=rb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return $p=n,$p}var Dp,S2;function G$(){if(S2)return Dp;S2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Dp=e,Dp}var Lp,k2;function jf(){if(k2)return Lp;k2=1;var e=G$();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Lp=t,Lp}var Fp,O2;function V$(){if(O2)return Fp;O2=1;var e=jf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Fp=t,Fp}var Bp,P2;function Y$(){if(P2)return Bp;P2=1;var e=jf();function t(r){return e(this,r).get(r)}return Bp=t,Bp}var qp,A2;function X$(){if(A2)return qp;A2=1;var e=jf();function t(r){return e(this,r).has(r)}return qp=t,qp}var zp,_2;function Q$(){if(_2)return zp;_2=1;var e=jf();function t(r,n){var s=e(this,r),o=s.size;return s.set(r,n),this.size+=s.size==o?0:1,this}return zp=t,zp}var Up,C2;function nb(){if(C2)return Up;C2=1;var e=K$(),t=V$(),r=Y$(),n=X$(),s=Q$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Up=o,Up}var Wp,E2;function UC(){if(E2)return Wp;E2=1;var e=nb(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var o=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,Wp=r,Wp}var Hp,T2;function J$(){if(T2)return Hp;T2=1;var e=UC(),t=500;function r(n){var s=e(n,function(l){return o.size===t&&o.clear(),l}),o=s.cache;return s}return Hp=r,Hp}var Kp,R2;function Z$(){if(R2)return Kp;R2=1;var e=J$(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return Kp=n,Kp}var Gp,M2;function ab(){if(M2)return Gp;M2=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,o=Array(s);++n<s;)o[n]=r(t[n],n,t);return o}return Gp=e,Gp}var Vp,I2;function eD(){if(I2)return Vp;I2=1;var e=pc(),t=ab(),r=hr(),n=Zi(),s=e?e.prototype:void 0,o=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Vp=l,Vp}var Yp,$2;function WC(){if($2)return Yp;$2=1;var e=eD();function t(r){return r==null?"":e(r)}return Yp=t,Yp}var Xp,D2;function HC(){if(D2)return Xp;D2=1;var e=hr(),t=Zv(),r=Z$(),n=WC();function s(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Xp=s,Xp}var Qp,L2;function wf(){if(L2)return Qp;L2=1;var e=Zi();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Qp=t,Qp}var Jp,F2;function sb(){if(F2)return Jp;F2=1;var e=HC(),t=wf();function r(n,s){s=e(s,n);for(var o=0,l=s.length;n!=null&&o<l;)n=n[t(s[o++])];return o&&o==l?n:void 0}return Jp=r,Jp}var Zp,B2;function KC(){if(B2)return Zp;B2=1;var e=sb();function t(r,n,s){var o=r==null?void 0:e(r,n);return o===void 0?s:o}return Zp=t,Zp}var tD=KC();const Nr=Xe(tD);var eg,q2;function rD(){if(q2)return eg;q2=1;function e(t){return t==null}return eg=e,eg}var nD=rD();const De=Xe(nD);var tg,z2;function aD(){if(z2)return tg;z2=1;var e=Vn(),t=hr(),r=Yn(),n="[object String]";function s(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return tg=s,tg}var sD=aD();const xs=Xe(sD);var iD=eb();const Ie=Xe(iD);var oD=Ra();const eo=Xe(oD);var rg={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function lD(){if(U2)return Ve;U2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var k=y.$$typeof;switch(k){case e:switch(y=y.type,y){case r:case s:case n:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case x:case m:case o:return y;default:return k}}case t:return k}}}return Ve.ContextConsumer=l,Ve.ContextProvider=o,Ve.Element=e,Ve.ForwardRef=d,Ve.Fragment=r,Ve.Lazy=x,Ve.Memo=m,Ve.Portal=t,Ve.Profiler=s,Ve.StrictMode=n,Ve.Suspense=f,Ve.SuspenseList=p,Ve.isAsyncMode=function(){return!1},Ve.isConcurrentMode=function(){return!1},Ve.isContextConsumer=function(y){return j(y)===l},Ve.isContextProvider=function(y){return j(y)===o},Ve.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ve.isForwardRef=function(y){return j(y)===d},Ve.isFragment=function(y){return j(y)===r},Ve.isLazy=function(y){return j(y)===x},Ve.isMemo=function(y){return j(y)===m},Ve.isPortal=function(y){return j(y)===t},Ve.isProfiler=function(y){return j(y)===s},Ve.isStrictMode=function(y){return j(y)===n},Ve.isSuspense=function(y){return j(y)===f},Ve.isSuspenseList=function(y){return j(y)===p},Ve.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===f||y===p||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===m||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},Ve.typeOf=j,Ve}var W2;function cD(){return W2||(W2=1,rg.exports=lD()),rg.exports}var uD=cD(),ng,H2;function GC(){if(H2)return ng;H2=1;var e=Vn(),t=Yn(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return ng=n,ng}var ag,K2;function dD(){if(K2)return ag;K2=1;var e=GC();function t(r){return e(r)&&r!=+r}return ag=t,ag}var fD=dD();const gc=Xe(fD);var hD=GC();const mD=Xe(hD);var er=function(t){return t===0?0:t>0?1:-1},ns=function(t){return xs(t)&&t.indexOf("%")===t.length-1},xe=function(t){return mD(t)&&!gc(t)},pD=function(t){return De(t)},_t=function(t){return xe(t)||xs(t)},gD=0,to=function(t){var r=++gD;return"".concat(t||"").concat(r)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!xs(t))return n;var o;if(ns(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return gc(o)&&(o=n),s&&o>r&&(o=r),o},va=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},jr=function(t,r){return xe(t)&&xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function od(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Nr(n,t))===r})}var yD=function(t,r){return xe(t)&&xe(r)?t-r:xs(t)&&xs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function di(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}var vD=["viewBox","children"],bD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G2=["points","pathLength"],sg={svg:vD,polygon:G2,polyline:G2},ib=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ld=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!eo(n))return null;var s={};return Object.keys(n).forEach(function(o){ib.includes(o)&&(s[o]=r||function(l){return n[o](n,l)})}),s},jD=function(t,r,n){return function(s){return t(r,n,s),null}},ys=function(t,r,n){if(!eo(t)||vy(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(o){var l=t[o];ib.includes(o)&&typeof l=="function"&&(s||(s={}),s[o]=jD(l,r,n))}),s},wD=["children"],ND=["children"];function V2(e,t){if(e==null)return{};var r=SD(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}var Y2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},X2=null,ig=null,ob=function e(t){if(t===X2&&Array.isArray(ig))return ig;var r=[];return O.Children.forEach(t,function(n){De(n)||(uD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ig=r,X2=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return qn(s)}):n=[qn(t)],ob(e).forEach(function(s){var o=Nr(s,"type.displayName")||Nr(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}function br(e,t){var r=Sr(e,t);return r&&r[0]}var Q2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!xe(n)||n<=0||!xe(s)||s<=0)},kD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OD=function(t){return t&&t.type&&xs(t.type)&&kD.indexOf(t.type)>=0},PD=function(t){return t&&by(t)==="object"&&"clipDot"in t},AD=function(t,r,n,s){var o,l=(o=sg==null?void 0:sg[s])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ie(t)&&(s&&l.includes(r)||bD.includes(r))||n&&ib.includes(r)},_e=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!eo(s))return null;var o={};return Object.keys(s).forEach(function(l){var u;AD((u=s)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=s[l])}),o},jy=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return J2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],l=r[s];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!J2(o,l))return!1}return!0},J2=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},s=n.children,o=V2(n,wD),l=r.props||{},u=l.children,d=V2(l,ND);return s&&u?di(o,d)&&jy(s,u):!s&&!u?di(o,d):!1}return!1},Z2=function(t,r){var n=[],s={};return ob(t).forEach(function(o,l){if(OD(o))n.push(o);else if(o){var u=qn(o.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!s[u])){var m=f(o,u,l);n.push(m),s[u]=!0}}}),n},_D=function(t){var r=t&&t.type;return r&&Y2[r]?Y2[r]:null},CD=function(t,r){return ob(r).indexOf(t)},ED=["children","width","height","viewBox","className","style","title","desc"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function TD(e,t){if(e==null)return{};var r=RD(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ny(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=TD(e,ED),p=s||{width:r,height:n,x:0,y:0},m=Le("recharts-surface",o);return V.createElement("svg",wy({},_e(f,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var MD=["children","className"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function ID(e,t){if(e==null)return{};var r=$D(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $D(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=V.forwardRef(function(e,t){var r=e.children,n=e.className,s=ID(e,MD),o=Le("recharts-layer",n);return V.createElement("g",Sy({className:o},_e(s,!0),{ref:t}),r)}),rn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]},og,eS;function DD(){if(eS)return og;eS=1;function e(t,r,n){var s=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++s<o;)l[s]=t[s+r];return l}return og=e,og}var lg,tS;function LD(){if(tS)return lg;tS=1;var e=DD();function t(r,n,s){var o=r.length;return s=s===void 0?o:s,!n&&s>=o?r:e(r,n,s)}return lg=t,lg}var cg,rS;function VC(){if(rS)return cg;rS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+o+"]");function d(f){return u.test(f)}return cg=d,cg}var ug,nS;function FD(){if(nS)return ug;nS=1;function e(t){return t.split("")}return ug=e,ug}var dg,aS;function BD(){if(aS)return dg;aS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=f+"?",j="["+o+"]?",y="(?:"+v+"(?:"+[p,m,x].join("|")+")"+j+b+")*",k=j+b+y,_="(?:"+[p+u+"?",u,m,x,l].join("|")+")",E=RegExp(d+"(?="+d+")|"+_+k,"g");function S(N){return N.match(E)||[]}return dg=S,dg}var fg,sS;function qD(){if(sS)return fg;sS=1;var e=FD(),t=VC(),r=BD();function n(s){return t(s)?r(s):e(s)}return fg=n,fg}var hg,iS;function zD(){if(iS)return hg;iS=1;var e=LD(),t=VC(),r=qD(),n=WC();function s(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return hg=s,hg}var mg,oS;function UD(){if(oS)return mg;oS=1;var e=zD(),t=e("toUpperCase");return mg=t,mg}var WD=UD();const Nf=Xe(WD);function nt(e){return function(){return e}}const YC=Math.cos,cd=Math.sin,an=Math.sqrt,ud=Math.PI,Sf=2*ud,ky=Math.PI,Oy=2*ky,Za=1e-6,HD=Oy-Za;function XC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function KD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XC;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class GD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XC:KD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=s-r,p=l-t,m=u-r,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Za)if(!(Math.abs(m*d-f*p)>Za)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,b=s-u,j=d*d+f*f,y=v*v+b*b,k=Math.sqrt(j),_=Math.sqrt(x),E=o*Math.tan((ky-Math.acos((j+x-y)/(2*k*_)))/2),S=E/_,N=E/k;Math.abs(S-1)>Za&&this._append`L${t+S*p},${r+S*m}`,this._append`A${o},${o},0,0,${+(m*v>p*b)},${this._x1=t+N*d},${this._y1=r+N*f}`}}arc(t,r,n,s,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(s),d=n*Math.sin(s),f=t+u,p=r+d,m=1^l,x=l?s-o:o-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Za||Math.abs(this._y1-p)>Za)&&this._append`L${f},${p}`,n&&(x<0&&(x=x%Oy+Oy),x>HD?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:x>Za&&this._append`A${n},${n},0,${+(x>=ky)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function lb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new GD(t)}function cb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QC(e){this._context=e}QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kf(e){return new QC(e)}function JC(e){return e[0]}function ZC(e){return e[1]}function eE(e,t){var r=nt(!0),n=null,s=kf,o=null,l=lb(u);e=typeof e=="function"?e:e===void 0?JC:nt(e),t=typeof t=="function"?t:t===void 0?ZC:nt(t);function u(d){var f,p=(d=cb(d)).length,m,x=!1,v;for(n==null&&(o=s(v=l())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(m,f,d),+t(m,f,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,n!=null&&(o=s(n)),u):s},u.context=function(d){return arguments.length?(d==null?n=o=null:o=s(n=d),u):n},u}function qu(e,t,r){var n=null,s=nt(!0),o=null,l=kf,u=null,d=lb(f);e=typeof e=="function"?e:e===void 0?JC:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZC:nt(+r);function f(m){var x,v,b,j=(m=cb(m)).length,y,k=!1,_,E=new Array(j),S=new Array(j);for(o==null&&(u=l(_=d())),x=0;x<=j;++x){if(!(x<j&&s(y=m[x],x,m))===k)if(k=!k)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=x-1;b>=v;--b)u.point(E[b],S[b]);u.lineEnd(),u.areaEnd()}k&&(E[x]=+e(y,x,m),S[x]=+t(y,x,m),u.point(n?+n(y,x,m):E[x],r?+r(y,x,m):S[x]))}if(_)return u=null,_+""||null}function p(){return eE().defined(s).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:nt(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class tE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VD(e){return new tE(e,!0)}function YD(e){return new tE(e,!1)}const ub={draw(e,t){const r=an(t/ud);e.moveTo(r,0),e.arc(0,0,r,0,Sf)}},XD={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rE=an(1/3),QD=rE*2,JD={draw(e,t){const r=an(t/QD),n=r*rE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ZD={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},e8=.8908130915292852,nE=cd(ud/10)/cd(7*ud/10),t8=cd(Sf/10)*nE,r8=-YC(Sf/10)*nE,n8={draw(e,t){const r=an(t*e8),n=t8*r,s=r8*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const l=Sf*o/5,u=YC(l),d=cd(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*s,d*n+u*s)}e.closePath()}},pg=an(3),a8={draw(e,t){const r=-an(t/(pg*3));e.moveTo(0,r*2),e.lineTo(-pg*r,-r),e.lineTo(pg*r,-r),e.closePath()}},Er=-.5,Tr=an(3)/2,Py=1/an(12),s8=(Py/2+1)*3,i8={draw(e,t){const r=an(t/s8),n=r/2,s=r*Py,o=n,l=r*Py+r,u=-o,d=l;e.moveTo(n,s),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Er*n-Tr*s,Tr*n+Er*s),e.lineTo(Er*o-Tr*l,Tr*o+Er*l),e.lineTo(Er*u-Tr*d,Tr*u+Er*d),e.lineTo(Er*n+Tr*s,Er*s-Tr*n),e.lineTo(Er*o+Tr*l,Er*l-Tr*o),e.lineTo(Er*u+Tr*d,Er*d-Tr*u),e.closePath()}};function o8(e,t){let r=null,n=lb(s);e=typeof e=="function"?e:nt(e||ub),t=typeof t=="function"?t:nt(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:nt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:nt(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function dd(){}function fd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aE(e){this._context=e}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l8(e){return new aE(e)}function sE(e){this._context=e}sE.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c8(e){return new sE(e)}function iE(e){this._context=e}iE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u8(e){return new iE(e)}function oE(e){this._context=e}oE.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d8(e){return new oE(e)}function lS(e){return e<0?-1:1}function cS(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),u=(o*s+l*n)/(n+s);return(lS(o)+lS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function uS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,s+u*t,o-u,l-u*r,o,l)}function hd(e){this._context=e}hd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,uS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,uS(this,r=cS(this,e,t)),r);break;default:gg(this,this._t0,r=cS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lE(e){this._context=new cE(e)}(lE.prototype=Object.create(hd.prototype)).point=function(e,t){hd.prototype.point.call(this,t,e)};function cE(e){this._context=e}cE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function f8(e){return new hd(e)}function h8(e){return new lE(e)}function uE(e){this._context=e}uE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dS(e),s=dS(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dS(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),l=new Array(r);for(s[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function m8(e){return new uE(e)}function Of(e,t){this._context=e,this._t=t}Of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function p8(e){return new Of(e,.5)}function g8(e){return new Of(e,0)}function x8(e){return new Of(e,1)}function Ni(e,t){if((l=e.length)>1)for(var r=1,n,s,o=e[t[0]],l,u=o.length;r<l;++r)for(s=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ay(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function y8(e,t){return e[t]}function v8(e){const t=[];return t.key=e,t}function b8(){var e=nt([]),t=Ay,r=Ni,n=y8;function s(o){var l=Array.from(e.apply(this,arguments),v8),u,d=l.length,f=-1,p;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(m,l[u].key,f,o)]).data=m;for(u=0,p=cb(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:nt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:nt(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Ay:typeof o=="function"?o:nt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??Ni,s):r},s}function j8(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,l;s<o;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}Ni(e,t)}}function w8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ni(e,t)}}function N8(e,t){if(!(!((l=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[n][1]||0,x=p[n-1][1]||0,v=(m-x)/2,b=0;b<u;++b){var j=e[t[b]],y=j[n][1]||0,k=j[n-1][1]||0;v+=y-k}d+=m,f+=v*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=f/d)}s[n-1][1]+=s[n-1][0]=r,Ni(e,t)}}function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}var S8=["type","size","sizeType"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return t=O8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=P8(e,"string");return kl(t)=="symbol"?t:t+""}function P8(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e,t){if(e==null)return{};var r=_8(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dE={symbolCircle:ub,symbolCross:XD,symbolDiamond:JD,symbolSquare:ZD,symbolStar:n8,symbolTriangle:a8,symbolWye:i8},C8=Math.PI/180,E8=function(t){var r="symbol".concat(Nf(t));return dE[r]||ub},T8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*C8;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},R8=function(t,r){dE["symbol".concat(Nf(t))]=r},db=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,o=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=A8(t,S8),f=hS(hS({},d),{},{type:n,size:o,sizeType:u}),p=function(){var y=E8(n),k=o8().type(y).size(T8(o,u,n));return k()},m=f.className,x=f.cx,v=f.cy,b=_e(f,!0);return x===+x&&v===+v&&o===+o?V.createElement("path",_y({},b,{className:Le("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(v,")"),d:p()})):null};db.registerSymbol=R8;function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hE(n.key),n)}}function D8(e,t,r){return t&&$8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L8(e,t,r){return t=md(t),F8(e,fE()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function F8(e,t){if(t&&(Si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8(e)}function B8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fE=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function q8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ey(e,t)}function Ol(e,t,r){return t=hE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e){var t=z8(e,"string");return Si(t)=="symbol"?t:t+""}function z8(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rr=32,fb=(function(e){function t(){return I8(this,t),L8(this,t,arguments)}return q8(t,e),D8(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=Rr/2,l=Rr/6,u=Rr/3,d=n.inactive?s:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Rr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var f=M8({},n);return delete f.legendIcon,V.cloneElement(n.legendIcon,f)}return V.createElement(db,{fill:d,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,p={x:0,y:0,width:Rr,height:Rr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,b){var j=v.formatter||d,y=Le(Ol(Ol({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var k=Ie(v.value)?null:v.value;rn(!Ie(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=v.inactive?f:v.color;return V.createElement("li",Cy({className:y,style:m,key:"legend-item-".concat(b)},ys(n.props,v,b)),V.createElement(Ny,{width:l,height:l,viewBox:p,style:x},n.renderIcon(v)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},j?j(k,v,b):k))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,l=n.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(O.PureComponent);Ol(fb,"displayName","Legend");Ol(fb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xg,pS;function U8(){if(pS)return xg;pS=1;var e=bf();function t(){this.__data__=new e,this.size=0}return xg=t,xg}var yg,gS;function W8(){if(gS)return yg;gS=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return yg=e,yg}var vg,xS;function H8(){if(xS)return vg;xS=1;function e(t){return this.__data__.get(t)}return vg=e,vg}var bg,yS;function K8(){if(yS)return bg;yS=1;function e(t){return this.__data__.has(t)}return bg=e,bg}var jg,vS;function G8(){if(vS)return jg;vS=1;var e=bf(),t=rb(),r=nb(),n=200;function s(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return jg=s,jg}var wg,bS;function mE(){if(bS)return wg;bS=1;var e=bf(),t=U8(),r=W8(),n=H8(),s=K8(),o=G8();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=s,l.prototype.set=o,wg=l,wg}var Ng,jS;function V8(){if(jS)return Ng;jS=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Ng=t,Ng}var Sg,wS;function Y8(){if(wS)return Sg;wS=1;function e(t){return this.__data__.has(t)}return Sg=e,Sg}var kg,NS;function pE(){if(NS)return kg;NS=1;var e=nb(),t=V8(),r=Y8();function n(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new e;++o<l;)this.add(s[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,kg=n,kg}var Og,SS;function gE(){if(SS)return Og;SS=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return Og=e,Og}var Pg,kS;function xE(){if(kS)return Pg;kS=1;function e(t,r){return t.has(r)}return Pg=e,Pg}var Ag,OS;function yE(){if(OS)return Ag;OS=1;var e=pE(),t=gE(),r=xE(),n=1,s=2;function o(l,u,d,f,p,m){var x=d&n,v=l.length,b=u.length;if(v!=b&&!(x&&b>v))return!1;var j=m.get(l),y=m.get(u);if(j&&y)return j==u&&y==l;var k=-1,_=!0,E=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++k<v;){var S=l[k],N=u[k];if(f)var P=x?f(N,S,k,u,l,m):f(S,N,k,l,u,m);if(P!==void 0){if(P)continue;_=!1;break}if(E){if(!t(u,function(C,R){if(!r(E,R)&&(S===C||p(S,C,d,f,m)))return E.push(R)})){_=!1;break}}else if(!(S===N||p(S,N,d,f,m))){_=!1;break}}return m.delete(l),m.delete(u),_}return Ag=o,Ag}var _g,PS;function X8(){if(PS)return _g;PS=1;var e=Nn(),t=e.Uint8Array;return _g=t,_g}var Cg,AS;function Q8(){if(AS)return Cg;AS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,o){n[++r]=[o,s]}),n}return Cg=e,Cg}var Eg,_S;function hb(){if(_S)return Eg;_S=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return Eg=e,Eg}var Tg,CS;function J8(){if(CS)return Tg;CS=1;var e=pc(),t=X8(),r=tb(),n=yE(),s=Q8(),o=hb(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",x="[object Number]",v="[object RegExp]",b="[object Set]",j="[object String]",y="[object Symbol]",k="[object ArrayBuffer]",_="[object DataView]",E=e?e.prototype:void 0,S=E?E.valueOf:void 0;function N(P,C,R,M,L,T,$){switch(R){case _:if(P.byteLength!=C.byteLength||P.byteOffset!=C.byteOffset)return!1;P=P.buffer,C=C.buffer;case k:return!(P.byteLength!=C.byteLength||!T(new t(P),new t(C)));case d:case f:case x:return r(+P,+C);case p:return P.name==C.name&&P.message==C.message;case v:case j:return P==C+"";case m:var G=s;case b:var Q=M&l;if(G||(G=o),P.size!=C.size&&!Q)return!1;var z=$.get(P);if(z)return z==C;M|=u,$.set(P,C);var B=n(G(P),G(C),M,L,T,$);return $.delete(P),B;case y:if(S)return S.call(P)==S.call(C)}return!1}return Tg=N,Tg}var Rg,ES;function vE(){if(ES)return Rg;ES=1;function e(t,r){for(var n=-1,s=r.length,o=t.length;++n<s;)t[o+n]=r[n];return t}return Rg=e,Rg}var Mg,TS;function Z8(){if(TS)return Mg;TS=1;var e=vE(),t=hr();function r(n,s,o){var l=s(n);return t(n)?l:e(l,o(n))}return Mg=r,Mg}var Ig,RS;function eL(){if(RS)return Ig;RS=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,o=0,l=[];++n<s;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return Ig=e,Ig}var $g,MS;function tL(){if(MS)return $g;MS=1;function e(){return[]}return $g=e,$g}var Dg,IS;function rL(){if(IS)return Dg;IS=1;var e=eL(),t=tL(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return n.call(l,u)}))}:t;return Dg=o,Dg}var Lg,$S;function nL(){if($S)return Lg;$S=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return Lg=e,Lg}var Fg,DS;function aL(){if(DS)return Fg;DS=1;var e=Vn(),t=Yn(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Fg=n,Fg}var Bg,LS;function mb(){if(LS)return Bg;LS=1;var e=aL(),t=Yn(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!s.call(l,"callee")};return Bg=o,Bg}var ul={exports:{}},qg,FS;function sL(){if(FS)return qg;FS=1;function e(){return!1}return qg=e,qg}ul.exports;var BS;function bE(){return BS||(BS=1,(function(e,t){var r=Nn(),n=sL(),s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(ul,ul.exports)),ul.exports}var zg,qS;function pb(){if(qS)return zg;qS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var o=typeof n;return s=s??e,!!s&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return zg=r,zg}var Ug,zS;function gb(){if(zS)return Ug;zS=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Ug=t,Ug}var Wg,US;function iL(){if(US)return Wg;US=1;var e=Vn(),t=gb(),r=Yn(),n="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",x="[object RegExp]",v="[object Set]",b="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",k="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",T={};T[_]=T[E]=T[S]=T[N]=T[P]=T[C]=T[R]=T[M]=T[L]=!0,T[n]=T[s]=T[y]=T[o]=T[k]=T[l]=T[u]=T[d]=T[f]=T[p]=T[m]=T[x]=T[v]=T[b]=T[j]=!1;function $(G){return r(G)&&t(G.length)&&!!T[e(G)]}return Wg=$,Wg}var Hg,WS;function jE(){if(WS)return Hg;WS=1;function e(t){return function(r){return t(r)}}return Hg=e,Hg}var dl={exports:{}};dl.exports;var HS;function oL(){return HS||(HS=1,(function(e,t){var r=qC(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,l=o&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(dl,dl.exports)),dl.exports}var Kg,KS;function wE(){if(KS)return Kg;KS=1;var e=iL(),t=jE(),r=oL(),n=r&&r.isTypedArray,s=n?t(n):e;return Kg=s,Kg}var Gg,GS;function lL(){if(GS)return Gg;GS=1;var e=nL(),t=mb(),r=hr(),n=bE(),s=pb(),o=wE(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=r(f),x=!m&&t(f),v=!m&&!x&&n(f),b=!m&&!x&&!v&&o(f),j=m||x||v||b,y=j?e(f.length,String):[],k=y.length;for(var _ in f)(p||u.call(f,_))&&!(j&&(_=="length"||v&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||s(_,k)))&&y.push(_);return y}return Gg=d,Gg}var Vg,VS;function cL(){if(VS)return Vg;VS=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Vg=t,Vg}var Yg,YS;function NE(){if(YS)return Yg;YS=1;function e(t,r){return function(n){return t(r(n))}}return Yg=e,Yg}var Xg,XS;function uL(){if(XS)return Xg;XS=1;var e=NE(),t=e(Object.keys,Object);return Xg=t,Xg}var Qg,QS;function dL(){if(QS)return Qg;QS=1;var e=cL(),t=uL(),r=Object.prototype,n=r.hasOwnProperty;function s(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return Qg=s,Qg}var Jg,JS;function xc(){if(JS)return Jg;JS=1;var e=eb(),t=gb();function r(n){return n!=null&&t(n.length)&&!e(n)}return Jg=r,Jg}var Zg,ZS;function Pf(){if(ZS)return Zg;ZS=1;var e=lL(),t=dL(),r=xc();function n(s){return r(s)?e(s):t(s)}return Zg=n,Zg}var ex,ek;function fL(){if(ek)return ex;ek=1;var e=Z8(),t=rL(),r=Pf();function n(s){return e(s,r,t)}return ex=n,ex}var tx,tk;function hL(){if(tk)return tx;tk=1;var e=fL(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(o,l,u,d,f,p){var m=u&t,x=e(o),v=x.length,b=e(l),j=b.length;if(v!=j&&!m)return!1;for(var y=v;y--;){var k=x[y];if(!(m?k in l:n.call(l,k)))return!1}var _=p.get(o),E=p.get(l);if(_&&E)return _==l&&E==o;var S=!0;p.set(o,l),p.set(l,o);for(var N=m;++y<v;){k=x[y];var P=o[k],C=l[k];if(d)var R=m?d(C,P,k,l,o,p):d(P,C,k,o,l,p);if(!(R===void 0?P===C||f(P,C,u,d,p):R)){S=!1;break}N||(N=k=="constructor")}if(S&&!N){var M=o.constructor,L=l.constructor;M!=L&&"constructor"in o&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(S=!1)}return p.delete(o),p.delete(l),S}return tx=s,tx}var rx,rk;function mL(){if(rk)return rx;rk=1;var e=ks(),t=Nn(),r=e(t,"DataView");return rx=r,rx}var nx,nk;function pL(){if(nk)return nx;nk=1;var e=ks(),t=Nn(),r=e(t,"Promise");return nx=r,nx}var ax,ak;function SE(){if(ak)return ax;ak=1;var e=ks(),t=Nn(),r=e(t,"Set");return ax=r,ax}var sx,sk;function gL(){if(sk)return sx;sk=1;var e=ks(),t=Nn(),r=e(t,"WeakMap");return sx=r,sx}var ix,ik;function xL(){if(ik)return ix;ik=1;var e=mL(),t=rb(),r=pL(),n=SE(),s=gL(),o=Vn(),l=zC(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",x="[object DataView]",v=l(e),b=l(t),j=l(r),y=l(n),k=l(s),_=o;return(e&&_(new e(new ArrayBuffer(1)))!=x||t&&_(new t)!=u||r&&_(r.resolve())!=f||n&&_(new n)!=p||s&&_(new s)!=m)&&(_=function(E){var S=o(E),N=S==d?E.constructor:void 0,P=N?l(N):"";if(P)switch(P){case v:return x;case b:return u;case j:return f;case y:return p;case k:return m}return S}),ix=_,ix}var ox,ok;function yL(){if(ok)return ox;ok=1;var e=mE(),t=yE(),r=J8(),n=hL(),s=xL(),o=hr(),l=bE(),u=wE(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function b(j,y,k,_,E,S){var N=o(j),P=o(y),C=N?p:s(j),R=P?p:s(y);C=C==f?m:C,R=R==f?m:R;var M=C==m,L=R==m,T=C==R;if(T&&l(j)){if(!l(y))return!1;N=!0,M=!1}if(T&&!M)return S||(S=new e),N||u(j)?t(j,y,k,_,E,S):r(j,y,C,k,_,E,S);if(!(k&d)){var $=M&&v.call(j,"__wrapped__"),G=L&&v.call(y,"__wrapped__");if($||G){var Q=$?j.value():j,z=G?y.value():y;return S||(S=new e),E(Q,z,k,_,S)}}return T?(S||(S=new e),n(j,y,k,_,E,S)):!1}return ox=b,ox}var lx,lk;function xb(){if(lk)return lx;lk=1;var e=yL(),t=Yn();function r(n,s,o,l,u){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,o,l,r,u)}return lx=r,lx}var cx,ck;function vL(){if(ck)return cx;ck=1;var e=mE(),t=xb(),r=1,n=2;function s(o,l,u,d){var f=u.length,p=f,m=!d;if(o==null)return!p;for(o=Object(o);f--;){var x=u[f];if(m&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++f<p;){x=u[f];var v=x[0],b=o[v],j=x[1];if(m&&x[2]){if(b===void 0&&!(v in o))return!1}else{var y=new e;if(d)var k=d(b,j,v,o,l,y);if(!(k===void 0?t(j,b,r|n,d,y):k))return!1}}return!0}return cx=s,cx}var ux,uk;function kE(){if(uk)return ux;uk=1;var e=Ra();function t(r){return r===r&&!e(r)}return ux=t,ux}var dx,dk;function bL(){if(dk)return dx;dk=1;var e=kE(),t=Pf();function r(n){for(var s=t(n),o=s.length;o--;){var l=s[o],u=n[l];s[o]=[l,u,e(u)]}return s}return dx=r,dx}var fx,fk;function OE(){if(fk)return fx;fk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return fx=e,fx}var hx,hk;function jL(){if(hk)return hx;hk=1;var e=vL(),t=bL(),r=OE();function n(s){var o=t(s);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===s||e(l,s,o)}}return hx=n,hx}var mx,mk;function wL(){if(mk)return mx;mk=1;function e(t,r){return t!=null&&r in Object(t)}return mx=e,mx}var px,pk;function NL(){if(pk)return px;pk=1;var e=HC(),t=mb(),r=hr(),n=pb(),s=gb(),o=wf();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,x=!1;++p<m;){var v=o(d[p]);if(!(x=u!=null&&f(u,v)))break;u=u[v]}return x||++p!=m?x:(m=u==null?0:u.length,!!m&&s(m)&&n(v,m)&&(r(u)||t(u)))}return px=l,px}var gx,gk;function SL(){if(gk)return gx;gk=1;var e=wL(),t=NL();function r(n,s){return n!=null&&t(n,s,e)}return gx=r,gx}var xx,xk;function kL(){if(xk)return xx;xk=1;var e=xb(),t=KC(),r=SL(),n=Zv(),s=kE(),o=OE(),l=wf(),u=1,d=2;function f(p,m){return n(p)&&s(m)?o(l(p),m):function(x){var v=t(x,p);return v===void 0&&v===m?r(x,p):e(m,v,u|d)}}return xx=f,xx}var yx,yk;function ro(){if(yk)return yx;yk=1;function e(t){return t}return yx=e,yx}var vx,vk;function OL(){if(vk)return vx;vk=1;function e(t){return function(r){return r==null?void 0:r[t]}}return vx=e,vx}var bx,bk;function PL(){if(bk)return bx;bk=1;var e=sb();function t(r){return function(n){return e(n,r)}}return bx=t,bx}var jx,jk;function AL(){if(jk)return jx;jk=1;var e=OL(),t=PL(),r=Zv(),n=wf();function s(o){return r(o)?e(n(o)):t(o)}return jx=s,jx}var wx,wk;function Sn(){if(wk)return wx;wk=1;var e=jL(),t=kL(),r=ro(),n=hr(),s=AL();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):s(l)}return wx=o,wx}var Nx,Nk;function PE(){if(Nk)return Nx;Nk=1;function e(t,r,n,s){for(var o=t.length,l=n+(s?1:-1);s?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return Nx=e,Nx}var Sx,Sk;function _L(){if(Sk)return Sx;Sk=1;function e(t){return t!==t}return Sx=e,Sx}var kx,kk;function CL(){if(kk)return kx;kk=1;function e(t,r,n){for(var s=n-1,o=t.length;++s<o;)if(t[s]===r)return s;return-1}return kx=e,kx}var Ox,Ok;function EL(){if(Ok)return Ox;Ok=1;var e=PE(),t=_L(),r=CL();function n(s,o,l){return o===o?r(s,o,l):e(s,t,l)}return Ox=n,Ox}var Px,Pk;function TL(){if(Pk)return Px;Pk=1;var e=EL();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return Px=t,Px}var Ax,Ak;function RL(){if(Ak)return Ax;Ak=1;function e(t,r,n){for(var s=-1,o=t==null?0:t.length;++s<o;)if(n(r,t[s]))return!0;return!1}return Ax=e,Ax}var _x,_k;function ML(){if(_k)return _x;_k=1;function e(){}return _x=e,_x}var Cx,Ck;function IL(){if(Ck)return Cx;Ck=1;var e=SE(),t=ML(),r=hb(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Cx=s,Cx}var Ex,Ek;function $L(){if(Ek)return Ex;Ek=1;var e=pE(),t=TL(),r=RL(),n=xE(),s=IL(),o=hb(),l=200;function u(d,f,p){var m=-1,x=t,v=d.length,b=!0,j=[],y=j;if(p)b=!1,x=r;else if(v>=l){var k=f?null:s(d);if(k)return o(k);b=!1,x=n,y=new e}else y=f?[]:j;e:for(;++m<v;){var _=d[m],E=f?f(_):_;if(_=p||_!==0?_:0,b&&E===E){for(var S=y.length;S--;)if(y[S]===E)continue e;f&&y.push(E),j.push(_)}else x(y,E,p)||(y!==j&&y.push(E),j.push(_))}return j}return Ex=u,Ex}var Tx,Tk;function DL(){if(Tk)return Tx;Tk=1;var e=Sn(),t=$L();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return Tx=r,Tx}var LL=DL();const Rk=Xe(LL);function AE(e,t,r){return t===!0?Rk(e,r):Ie(t)?Rk(e,t):e}function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}var FL=["ref"];function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CE(n.key),n)}}function qL(e,t,r){return t&&Ik(e.prototype,t),r&&Ik(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zL(e,t,r){return t=pd(t),UL(e,_E()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function UL(e,t){if(t&&(ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WL(e)}function WL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_E=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function HL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ty(e,t)}function Af(e,t,r){return t=CE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CE(e){var t=KL(e,"string");return ki(t)=="symbol"?t:t+""}function KL(e,t){if(ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GL(e,t){if(e==null)return{};var r=VL(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YL(e){return e.value}function XL(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=GL(t,FL);return V.createElement(fb,r)}var $k=1,_a=(function(e){function t(){var r;BL(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=zL(this,t,[].concat(s)),Af(r,"lastBoundingBox",{width:-1,height:-1}),r}return HL(t,e),qL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>$k||Math.abs(s.height-this.lastBoundingBox.height)>$k)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,p=s.chartHeight,m,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var b=this.getBBoxSnapshot();x={top:((p||0)-b.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Rn(Rn({},m),x)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,p=s.payload,m=Rn(Rn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},XL(o,Rn(Rn({},this.props),{},{payload:AE(p,f,YL)})))}}],[{key:"getWithHeight",value:function(n,s){var o=Rn(Rn({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&xe(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||s}:null}}])})(O.PureComponent);Af(_a,"displayName","Legend");Af(_a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Rx,Dk;function QL(){if(Dk)return Rx;Dk=1;var e=pc(),t=mb(),r=hr(),n=e?e.isConcatSpreadable:void 0;function s(o){return r(o)||t(o)||!!(n&&o&&o[n])}return Rx=s,Rx}var Mx,Lk;function EE(){if(Lk)return Mx;Lk=1;var e=vE(),t=QL();function r(n,s,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var p=n[d];s>0&&o(p)?s>1?r(p,s-1,o,l,u):e(u,p):l||(u[u.length]=p)}return u}return Mx=r,Mx}var Ix,Fk;function JL(){if(Fk)return Ix;Fk=1;function e(t){return function(r,n,s){for(var o=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return Ix=e,Ix}var $x,Bk;function ZL(){if(Bk)return $x;Bk=1;var e=JL(),t=e();return $x=t,$x}var Dx,qk;function TE(){if(qk)return Dx;qk=1;var e=ZL(),t=Pf();function r(n,s){return n&&e(n,s,t)}return Dx=r,Dx}var Lx,zk;function eF(){if(zk)return Lx;zk=1;var e=xc();function t(r,n){return function(s,o){if(s==null)return s;if(!e(s))return r(s,o);for(var l=s.length,u=n?l:-1,d=Object(s);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return s}}return Lx=t,Lx}var Fx,Uk;function yb(){if(Uk)return Fx;Uk=1;var e=TE(),t=eF(),r=t(e);return Fx=r,Fx}var Bx,Wk;function RE(){if(Wk)return Bx;Wk=1;var e=yb(),t=xc();function r(n,s){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=s(u,d,f)}),l}return Bx=r,Bx}var qx,Hk;function tF(){if(Hk)return qx;Hk=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return qx=e,qx}var zx,Kk;function rF(){if(Kk)return zx;Kk=1;var e=Zi();function t(r,n){if(r!==n){var s=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,p=n===n,m=e(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||o&&d&&p||!s&&p||!l)return 1;if(!o&&!u&&!m&&r<n||m&&s&&l&&!o&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return zx=t,zx}var Ux,Gk;function nF(){if(Gk)return Ux;Gk=1;var e=rF();function t(r,n,s){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=s.length;++o<d;){var p=e(l[o],u[o]);if(p){if(o>=f)return p;var m=s[o];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Ux=t,Ux}var Wx,Vk;function aF(){if(Vk)return Wx;Vk=1;var e=ab(),t=sb(),r=Sn(),n=RE(),s=tF(),o=jE(),l=nF(),u=ro(),d=hr();function f(p,m,x){m.length?m=e(m,function(j){return d(j)?function(y){return t(y,j.length===1?j[0]:j)}:j}):m=[u];var v=-1;m=e(m,o(r));var b=n(p,function(j,y,k){var _=e(m,function(E){return E(j)});return{criteria:_,index:++v,value:j}});return s(b,function(j,y){return l(j,y,x)})}return Wx=f,Wx}var Hx,Yk;function sF(){if(Yk)return Hx;Yk=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Hx=e,Hx}var Kx,Xk;function iF(){if(Xk)return Kx;Xk=1;var e=sF(),t=Math.max;function r(n,s,o){return s=t(s===void 0?n.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=o(f),e(n,this,p)}}return Kx=r,Kx}var Gx,Qk;function oF(){if(Qk)return Gx;Qk=1;function e(t){return function(){return t}}return Gx=e,Gx}var Vx,Jk;function ME(){if(Jk)return Vx;Jk=1;var e=ks(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Vx=t,Vx}var Yx,Zk;function lF(){if(Zk)return Yx;Zk=1;var e=oF(),t=ME(),r=ro(),n=t?function(s,o){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Yx=n,Yx}var Xx,eO;function cF(){if(eO)return Xx;eO=1;var e=800,t=16,r=Date.now;function n(s){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return Xx=n,Xx}var Qx,tO;function uF(){if(tO)return Qx;tO=1;var e=lF(),t=cF(),r=t(e);return Qx=r,Qx}var Jx,rO;function dF(){if(rO)return Jx;rO=1;var e=ro(),t=iF(),r=uF();function n(s,o){return r(t(s,o,e),s+"")}return Jx=n,Jx}var Zx,nO;function _f(){if(nO)return Zx;nO=1;var e=tb(),t=xc(),r=pb(),n=Ra();function s(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Zx=s,Zx}var e0,aO;function fF(){if(aO)return e0;aO=1;var e=EE(),t=aF(),r=dF(),n=_f(),s=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return e0=s,e0}var hF=fF();const vb=Xe(hF);function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function mF(e,t){return yF(e)||xF(e,t)||gF(e,t)||pF()}function pF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gF(e,t){if(e){if(typeof e=="string")return sO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(e,t)}}function sO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function yF(e){if(Array.isArray(e))return e}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=jF(e,"string");return Pl(t)=="symbol"?t:t+""}function jF(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(e){return Array.isArray(e)&&_t(e[0])&&_t(e[1])?e.join(" ~ "):e}var NF=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,o=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,x=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,j=t.label,y=t.labelFormatter,k=t.accessibilityLayer,_=k===void 0?!1:k,E=function(){if(p&&p.length){var $={padding:0,margin:0},G=(x?vb(p,x):p).map(function(Q,z){if(Q.type==="none")return null;var B=t0({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),U=Q.formatter||m||wF,H=Q.value,Y=Q.name,q=H,F=Y;if(U&&q!=null&&F!=null){var D=U(H,Y,Q,z,p);if(Array.isArray(D)){var K=mF(D,2);q=K[0],F=K[1]}else q=D}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:B},_t(F)?V.createElement("span",{className:"recharts-tooltip-item-name"},F):null,_t(F)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},q),V.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:$},G)}return null},S=t0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=t0({margin:0},f),P=!De(j),C=P?j:"",R=Le("recharts-default-tooltip",v),M=Le("recharts-tooltip-label",b);P&&y&&p!==void 0&&p!==null&&(C=y(j,p));var L=_?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Ry({className:R,style:S},L),V.createElement("p",{className:M,style:N},V.isValidElement(C)?C:"".concat(C)),E())};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function zu(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=kF(e,"string");return Al(t)=="symbol"?t:t+""}function kF(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zo="recharts-tooltip-wrapper",OF={visibility:"hidden"};function PF(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Le(Zo,zu(zu(zu(zu({},"".concat(Zo,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(Zo,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(Zo,"-bottom"),xe(n)&&t&&xe(t.y)&&n>=t.y),"".concat(Zo,"-top"),xe(n)&&t&&xe(t.y)&&n<t.y))}function oO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&xe(o[n]))return o[n];var p=r[n]-u-s,m=r[n]+s;if(t[n])return l[n]?p:m;if(l[n]){var x=p,v=d[n];return x<v?Math.max(m,d[n]):Math.max(p,d[n])}var b=m+u,j=d[n]+f;return b>j?Math.max(p,d[n]):Math.max(m,d[n])}function AF(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _F(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=oO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=oO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=AF({translateX:p,translateY:m,useTranslate3d:u})):f=OF,{cssProperties:f,cssClasses:PF({translateX:p,translateY:m,coordinate:r})}}function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$E(n.key),n)}}function TF(e,t,r){return t&&EF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RF(e,t,r){return t=gd(t),MF(e,IE()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function MF(e,t){if(t&&(Oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IF(e)}function IF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IE=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function $F(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},My(e,t)}function Iy(e,t,r){return t=$E(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $E(e){var t=DF(e,"string");return Oi(t)=="symbol"?t:t+""}function DF(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uO=1,LF=(function(e){function t(){var r;CF(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=RF(this,t,[].concat(s)),Iy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Iy(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return $F(t,e),TF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uO||Math.abs(n.height-this.state.lastBoundingBox.height)>uO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,p=s.coordinate,m=s.hasPayload,x=s.isAnimationActive,v=s.offset,b=s.position,j=s.reverseDirection,y=s.useTranslate3d,k=s.viewBox,_=s.wrapperStyle,E=_F({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:b,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:k}),S=E.cssClasses,N=E.cssProperties,P=cO(cO({transition:x&&o?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},_);return V.createElement("div",{tabIndex:-1,className:S,style:P,ref:function(R){n.wrapperNode=R}},f)}}])})(O.PureComponent),FF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Os={isSsr:FF()};function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LE(n.key),n)}}function zF(e,t,r){return t&&qF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UF(e,t,r){return t=xd(t),WF(e,DE()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function WF(e,t){if(t&&(Pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HF(e)}function HF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DE=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function KF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$y(e,t)}function bb(e,t,r){return t=LE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LE(e){var t=GF(e,"string");return Pi(t)=="symbol"?t:t+""}function GF(e,t){if(Pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VF(e){return e.dataKey}function YF(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(NF,t)}var Ir=(function(e){function t(){return BF(this,t),UF(this,t,arguments)}return KF(t,e),zF(t,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,p=s.coordinate,m=s.filterNull,x=s.isAnimationActive,v=s.offset,b=s.payload,j=s.payloadUniqBy,y=s.position,k=s.reverseDirection,_=s.useTranslate3d,E=s.viewBox,S=s.wrapperStyle,N=b??[];m&&N.length&&(N=AE(b.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),j,VF));var P=N.length>0;return V.createElement(LF,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:o,coordinate:p,hasPayload:P,offset:v,position:y,reverseDirection:k,useTranslate3d:_,viewBox:E,wrapperStyle:S},YF(f,fO(fO({},this.props),{},{payload:N})))}}])})(O.PureComponent);bb(Ir,"displayName","Tooltip");bb(Ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Os.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r0,hO;function XF(){if(hO)return r0;hO=1;var e=Nn(),t=function(){return e.Date.now()};return r0=t,r0}var n0,mO;function QF(){if(mO)return n0;mO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return n0=t,n0}var a0,pO;function JF(){if(pO)return a0;pO=1;var e=QF(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return a0=r,a0}var s0,gO;function FE(){if(gO)return s0;gO=1;var e=JF(),t=Ra(),r=Zi(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?n:+f}return s0=d,s0}var i0,xO;function ZF(){if(xO)return i0;xO=1;var e=Ra(),t=XF(),r=FE(),n="Expected a function",s=Math.max,o=Math.min;function l(u,d,f){var p,m,x,v,b,j,y=0,k=!1,_=!1,E=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(k=!!f.leading,_="maxWait"in f,x=_?s(r(f.maxWait)||0,d):x,E="trailing"in f?!!f.trailing:E);function S(G){var Q=p,z=m;return p=m=void 0,y=G,v=u.apply(z,Q),v}function N(G){return y=G,b=setTimeout(R,d),k?S(G):v}function P(G){var Q=G-j,z=G-y,B=d-Q;return _?o(B,x-z):B}function C(G){var Q=G-j,z=G-y;return j===void 0||Q>=d||Q<0||_&&z>=x}function R(){var G=t();if(C(G))return M(G);b=setTimeout(R,P(G))}function M(G){return b=void 0,E&&p?S(G):(p=m=void 0,v)}function L(){b!==void 0&&clearTimeout(b),y=0,p=j=m=b=void 0}function T(){return b===void 0?v:M(t())}function $(){var G=t(),Q=C(G);if(p=arguments,m=this,j=G,Q){if(b===void 0)return N(j);if(_)return clearTimeout(b),b=setTimeout(R,d),S(j)}return b===void 0&&(b=setTimeout(R,d)),v}return $.cancel=L,$.flush=T,$}return i0=l,i0}var o0,yO;function e7(){if(yO)return o0;yO=1;var e=ZF(),t=Ra(),r="Expected a function";function n(s,o,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,o,{leading:u,maxWait:o,trailing:d})}return o0=n,o0}var t7=e7();const BE=Xe(t7);function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return t=n7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=a7(e,"string");return _l(t)=="symbol"?t:t+""}function a7(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s7(e,t){return c7(e)||l7(e,t)||o7(e,t)||i7()}function i7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7(e,t){if(e){if(typeof e=="string")return bO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(e,t)}}function bO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function c7(e){if(Array.isArray(e))return e}var jb=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,x=e.maxHeight,v=e.children,b=e.debounce,j=b===void 0?0:b,y=e.id,k=e.className,_=e.onResize,E=e.style,S=E===void 0?{}:E,N=O.useRef(null),P=O.useRef();P.current=_,O.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=O.useState({containerWidth:s.width,containerHeight:s.height}),R=s7(C,2),M=R[0],L=R[1],T=O.useCallback(function(G,Q){L(function(z){var B=Math.round(G),U=Math.round(Q);return z.containerWidth===B&&z.containerHeight===U?z:{containerWidth:B,containerHeight:U}})},[]);O.useEffect(function(){var G=function(Y){var q,F=Y[0].contentRect,D=F.width,K=F.height;T(D,K),(q=P.current)===null||q===void 0||q.call(P,D,K)};j>0&&(G=BE(G,j,{trailing:!0,leading:!1}));var Q=new ResizeObserver(G),z=N.current.getBoundingClientRect(),B=z.width,U=z.height;return T(B,U),Q.observe(N.current),function(){Q.disconnect()}},[T,j]);var $=O.useMemo(function(){var G=M.containerWidth,Q=M.containerHeight;if(G<0||Q<0)return null;rn(ns(l)||ns(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=ns(l)?G:l,B=ns(d)?Q:d;r&&r>0&&(z?B=z/r:B&&(z=B*r),x&&B>x&&(B=x)),rn(z>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,B,l,d,p,m,r);var U=!Array.isArray(v)&&qn(v.type).endsWith("Chart");return V.Children.map(v,function(H){return V.isValidElement(H)?O.cloneElement(H,Uu({width:z,height:B},U?{style:Uu({height:"100%",width:"100%",maxHeight:B,maxWidth:z},H.props.style)}:{})):H})},[r,v,d,x,m,p,M,l]);return V.createElement("div",{id:y?"".concat(y):void 0,className:Le("recharts-responsive-container",k),style:Uu(Uu({},S),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:x}),ref:N},$)}),Cf=function(t){return null};Cf.displayName="Cell";function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){u7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u7(e,t,r){return t=d7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=f7(e,"string");return Cl(t)=="symbol"?t:t+""}function f7(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ti={widthCache:{},cacheCount:0},h7=2e3,m7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wO="recharts_measurement_span";function p7(e){var t=Dy({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var hl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Os.isSsr)return{width:0,height:0};var n=p7(r),s=JSON.stringify({text:t,copyStyle:n});if(ti.widthCache[s])return ti.widthCache[s];try{var o=document.getElementById(wO);o||(o=document.createElement("span"),o.setAttribute("id",wO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=Dy(Dy({},m7),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return ti.widthCache[s]=d,++ti.cacheCount>h7&&(ti.cacheCount=0,ti.widthCache={}),d}catch{return{width:0,height:0}}},g7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function yd(e,t){return b7(e)||v7(e,t)||y7(e,t)||x7()}function x7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function b7(e){if(Array.isArray(e))return e}function j7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N7(n.key),n)}}function w7(e,t,r){return t&&SO(e.prototype,t),r&&SO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N7(e){var t=S7(e,"string");return El(t)=="symbol"?t:t+""}function S7(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,O7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P7=Object.keys(qE),ii="NaN";function A7(e,t){return e*qE[t]}var Wu=(function(){function e(t,r){j7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!k7.test(r)&&(this.num=NaN,this.unit=""),P7.includes(r)&&(this.num=A7(t,r),this.unit="px")}return w7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=O7.exec(r))!==null&&n!==void 0?n:[],o=yd(s,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function zE(e){if(e.includes(ii))return ii;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=kO.exec(t))!==null&&r!==void 0?r:[],s=yd(n,4),o=s[1],l=s[2],u=s[3],d=Wu.parse(o??""),f=Wu.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return ii;t=t.replace(kO,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=OO.exec(t))!==null&&m!==void 0?m:[],v=yd(x,4),b=v[1],j=v[2],y=v[3],k=Wu.parse(b??""),_=Wu.parse(y??""),E=j==="+"?k.add(_):k.subtract(_);if(E.isNaN())return ii;t=t.replace(OO,E.toString())}return t}var PO=/\(([^()]*)\)/;function _7(e){for(var t=e;t.includes("(");){var r=PO.exec(t),n=yd(r,2),s=n[1];t=t.replace(PO,zE(s))}return t}function C7(e){var t=e.replace(/\s+/g,"");return t=_7(t),t=zE(t),t}function E7(e){try{return C7(e)}catch{return ii}}function l0(e){var t=E7(e.slice(5,-1));return t===ii?"":t}var T7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],R7=["dx","dy","angle","className","breakAll"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function AO(e,t){if(e==null)return{};var r=M7(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _O(e,t){return L7(e)||D7(e,t)||$7(e,t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return CO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function L7(e){if(Array.isArray(e))return e}var UE=/[ \f\n\r\t\v\u2028\u2029]+/,WE=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(UE));var l=o.map(function(d){return{word:d,width:hl(d,s).width}}),u=n?0:hl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},F7=function(t,r,n,s,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=xe(l),m=u,x=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(B,U){var H=U.word,Y=U.width,q=B[B.length-1];if(q&&(s==null||o||q.width+Y+n<Number(s)))q.words.push(H),q.width+=Y+n;else{var F={words:[H],width:Y};B.push(F)}return B},[])},v=x(r),b=function(z){return z.reduce(function(B,U){return B.width>U.width?B:U})};if(!p)return v;for(var j="",y=function(z){var B=m.slice(0,z),U=WE({breakAll:f,style:d,children:B+j}).wordsWithComputedWidth,H=x(U),Y=H.length>l||b(H).width>Number(s);return[Y,H]},k=0,_=m.length-1,E=0,S;k<=_&&E<=m.length-1;){var N=Math.floor((k+_)/2),P=N-1,C=y(P),R=_O(C,2),M=R[0],L=R[1],T=y(N),$=_O(T,1),G=$[0];if(!M&&!G&&(k=N+1),M&&G&&(_=N-1),!M&&G){S=L;break}E++}return S||v},EO=function(t){var r=De(t)?[]:t.toString().split(UE);return[{words:r}]},B7=function(t){var r=t.width,n=t.scaleToFit,s=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Os.isSsr){var d,f,p=WE({breakAll:l,children:s,style:o});if(p){var m=p.wordsWithComputedWidth,x=p.spaceWidth;d=m,f=x}else return EO(s);return F7({breakAll:l,children:s,maxLines:u,style:o},d,f,r,n)}return EO(s)},TO="#808080",vs=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,x=t.textAnchor,v=x===void 0?"start":x,b=t.verticalAnchor,j=b===void 0?"end":b,y=t.fill,k=y===void 0?TO:y,_=AO(t,T7),E=O.useMemo(function(){return B7({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:m,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,m,_.style,_.width]),S=_.dx,N=_.dy,P=_.angle,C=_.className,R=_.breakAll,M=AO(_,R7);if(!_t(n)||!_t(o))return null;var L=n+(xe(S)?S:0),T=o+(xe(N)?N:0),$;switch(j){case"start":$=l0("calc(".concat(f,")"));break;case"middle":$=l0("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:$=l0("calc(".concat(E.length-1," * -").concat(u,")"));break}var G=[];if(m){var Q=E[0].width,z=_.width;G.push("scale(".concat((xe(z)?z/Q:1)/Q,")"))}return P&&G.push("rotate(".concat(P,", ").concat(L,", ").concat(T,")")),G.length&&(M.transform=G.join(" ")),V.createElement("text",Ly({},_e(M,!0),{x:L,y:T,className:Le("recharts-text",C),textAnchor:v,fill:k.includes("url")?TO:k}),E.map(function(B,U){var H=B.words.join(R?"":" ");return V.createElement("tspan",{x:L,dy:U===0?$:u,key:"".concat(H,"-").concat(U)},H)}))};function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wb(e){let t,r,n;e.length!==2?(t=Ca,r=(u,d)=>Ca(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ca||e===q7?e:z7,r=e,n=e);function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,d,f=0,p=u.length){const m=s(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:s,center:l,right:o}}function z7(){return 0}function HE(e){return e===null?NaN:+e}function*U7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const W7=wb(Ca),yc=W7.right;wb(HE).center;class RO extends Map{constructor(t,r=G7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(MO(this,t))}has(t){return super.has(MO(this,t))}set(t,r){return super.set(H7(this,t),r)}delete(t){return super.delete(K7(this,t))}}function MO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function H7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function K7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function G7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function V7(e=Ca){if(e===Ca)return KE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function KE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Y7=Math.sqrt(50),X7=Math.sqrt(10),Q7=Math.sqrt(2);function vd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),l=o>=Y7?10:o>=X7?5:o>=Q7?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?vd(e,t,r*2):[u,d,f]}function Fy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,l]=n?vd(t,e,r):vd(e,t,r);if(!(o>=s))return[];const u=o-s+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function By(e,t,r){return t=+t,e=+e,r=+r,vd(e,t,r)[2]}function qy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?By(t,e,r):By(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function IO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $O(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GE(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?KE:V7(s);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*m/d+x)),b=Math.min(n,Math.floor(t+(d-f)*m/d+x));GE(e,t,v,b,s)}const o=e[t];let l=r,u=n;for(el(e,r,t),s(e[n],o)>0&&el(e,r,n);l<u;){for(el(e,l,u),++l,--u;s(e[l],o)<0;)++l;for(;s(e[u],o)>0;)--u}s(e[r],o)===0?el(e,r,u):(++u,el(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function el(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function J7(e,t,r){if(e=Float64Array.from(U7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $O(e);if(t>=1)return IO(e);var n,s=(n-1)*t,o=Math.floor(s),l=IO(GE(e,o).subarray(0,o+1)),u=$O(e.subarray(o+1));return l+(u-l)*(s-o)}}function Z7(e,t,r=HE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(s-o)}}function eB(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zy=Symbol("implicit");function Nb(){var e=new RO,t=[],r=[],n=zy;function s(o){let l=e.get(o);if(l===void 0){if(n!==zy)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new RO;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Nb(t,r).unknown(n)},Fr.apply(s,arguments),s}function Tl(){var e=Nb().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var x=t().length,v=s<n,b=v?s:n,j=v?n:s;o=(j-b)/Math.max(1,x-d+f*2),u&&(o=Math.floor(o)),b+=(j-b-o*(x-d))*p,l=o*(1-d),u&&(b=Math.round(b),l=Math.round(l));var y=eB(x).map(function(k){return b+o*k});return r(v?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),m()):p},e.copy=function(){return Tl(t(),[n,s]).round(u).paddingInner(d).paddingOuter(f).align(p)},Fr.apply(m(),arguments)}function VE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VE(t())},e}function ml(){return VE(Tl.apply(null,arguments).paddingInner(1))}function Sb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vc(){}var Rl=.7,bd=1/Rl,fi="\\s*([+-]?\\d+)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tB=/^#([0-9a-f]{3,8})$/,rB=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),nB=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),aB=new RegExp(`^rgba\\(${fi},${fi},${fi},${Ml}\\)$`),sB=new RegExp(`^rgba\\(${yn},${yn},${yn},${Ml}\\)$`),iB=new RegExp(`^hsl\\(${Ml},${yn},${yn}\\)$`),oB=new RegExp(`^hsla\\(${Ml},${yn},${yn},${Ml}\\)$`),DO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sb(vc,Il,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LO,formatHex:LO,formatHex8:lB,formatHsl:cB,formatRgb:FO,toString:FO});function LO(){return this.rgb().formatHex()}function lB(){return this.rgb().formatHex8()}function cB(){return XE(this).formatHsl()}function FO(){return this.rgb().formatRgb()}function Il(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?BO(t):r===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rB.exec(e))?new ur(t[1],t[2],t[3],1):(t=nB.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aB.exec(e))?Hu(t[1],t[2],t[3],t[4]):(t=sB.exec(e))?Hu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iB.exec(e))?UO(t[1],t[2]/100,t[3]/100,1):(t=oB.exec(e))?UO(t[1],t[2]/100,t[3]/100,t[4]):DO.hasOwnProperty(e)?BO(DO[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function BO(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function Hu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ur(e,t,r,n)}function uB(e){return e instanceof vc||(e=Il(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function Uy(e,t,r,n){return arguments.length===1?uB(e):new ur(e,t,r,n??1)}function ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sb(ur,Uy,YE(vc,{brighter(e){return e=e==null?bd:Math.pow(bd,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rl:Math.pow(Rl,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(ms(this.r),ms(this.g),ms(this.b),jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qO,formatHex:qO,formatHex8:dB,formatRgb:zO,toString:zO}));function qO(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function dB(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function zO(){const e=jd(this.opacity);return`${e===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${e===1?")":`, ${e})`}`}function jd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=ms(e),(e<16?"0":"")+e.toString(16)}function UO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function XE(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof vc||(e=Il(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-s,d=(o+s)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+s:2-o-s,l*=60):u=d>0&&d<1?0:l,new tn(l,u,d,e.opacity)}function fB(e,t,r,n){return arguments.length===1?XE(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sb(tn,fB,YE(vc,{brighter(e){return e=e==null?bd:Math.pow(bd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rl:Math.pow(Rl,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new ur(c0(e>=240?e-240:e+120,s,n),c0(e,s,n),c0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new tn(WO(this.h),Ku(this.s),Ku(this.l),jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jd(this.opacity);return`${e===1?"hsl(":"hsla("}${WO(this.h)}, ${Ku(this.s)*100}%, ${Ku(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WO(e){return e=(e||0)%360,e<0?e+360:e}function Ku(e){return Math.max(0,Math.min(1,e||0))}function c0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kb=e=>()=>e;function hB(e,t){return function(r){return e+r*t}}function mB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pB(e){return(e=+e)==1?QE:function(t,r){return r-t?mB(t,r,e):kb(isNaN(t)?r:t)}}function QE(e,t){var r=t-e;return r?hB(e,r):kb(isNaN(e)?t:e)}const HO=(function e(t){var r=pB(t);function n(s,o){var l=r((s=Uy(s)).r,(o=Uy(o)).r),u=r(s.g,o.g),d=r(s.b,o.b),f=QE(s.opacity,o.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return n.gamma=e,n})(1);function gB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function xB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)s[l]=no(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=s[l](u);return o}}function vB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bB(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=no(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var Wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u0=new RegExp(Wy.source,"g");function jB(e){return function(){return e}}function wB(e){return function(t){return e(t)+""}}function NB(e,t){var r=Wy.lastIndex=u0.lastIndex=0,n,s,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Wy.exec(e))&&(s=u0.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:wd(n,s)})),r=u0.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?wB(d[0].x):jB(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function no(e,t){var r=typeof t,n;return t==null||r==="boolean"?kb(t):(r==="number"?wd:r==="string"?(n=Il(t))?(t=n,HO):NB:t instanceof Il?HO:t instanceof Date?vB:xB(t)?gB:Array.isArray(t)?yB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bB:wd)(e,t)}function Ob(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function SB(e,t){t===void 0&&(t=e,e=no);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function kB(e){return function(){return e}}function Nd(e){return+e}var KO=[0,1];function rr(e){return e}function Hy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kB(isNaN(t)?NaN:.5)}function OB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function PB(e,t,r){var n=e[0],s=e[1],o=t[0],l=t[1];return s<n?(n=Hy(s,n),o=r(l,o)):(n=Hy(n,s),o=r(o,l)),function(u){return o(n(u))}}function AB(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=Hy(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=yc(e,u,1,n)-1;return o[d](s[d](u))}}function bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ef(){var e=KO,t=KO,r=no,n,s,o,l=rr,u,d,f;function p(){var x=Math.min(e.length,t.length);return l!==rr&&(l=OB(e[0],e[x-1])),u=x>2?AB:PB,d=f=null,m}function m(x){return x==null||isNaN(x=+x)?o:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return m.invert=function(x){return l(s((f||(f=u(t,e.map(n),wd)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,Nd),p()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=Ob,p()},m.clamp=function(x){return arguments.length?(l=x?!0:rr,p()):l!==rr},m.interpolate=function(x){return arguments.length?(r=x,p()):r},m.unknown=function(x){return arguments.length?(o=x,m):o},function(x,v){return n=x,s=v,p()}}function Pb(){return Ef()(rr,rr)}function _B(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ai(e){return e=Sd(Math.abs(e)),e?e[1]:NaN}function CB(e,t){return function(r,n){for(var s=r.length,o=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(s-=u,s+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function EB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $l(e){if(!(t=TB.exec(e)))throw new Error("invalid format: "+e);var t;return new Ab({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$l.prototype=Ab.prototype;function Ab(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RB(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var kd;function MB(e,t){var r=Sd(e,t);if(!r)return kd=void 0,e.toPrecision(t);var n=r[0],s=r[1],o=s-(kd=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Sd(e,Math.max(0,t+o-1))[0]}function GO(e,t){var r=Sd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const VO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_B,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GO(e*100,t),r:GO,s:MB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YO(e){return e}var XO=Array.prototype.map,QO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IB(e){var t=e.grouping===void 0||e.thousands===void 0?YO:CB(XO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?YO:EB(XO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,x){m=$l(m);var v=m.fill,b=m.align,j=m.sign,y=m.symbol,k=m.zero,_=m.width,E=m.comma,S=m.precision,N=m.trim,P=m.type;P==="n"?(E=!0,P="g"):VO[P]||(S===void 0&&(S=12),N=!0,P="g"),(k||v==="0"&&b==="=")&&(k=!0,v="0",b="=");var C=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),R=(y==="$"?n:/[%p]/.test(P)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),M=VO[P],L=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function T($){var G=C,Q=R,z,B,U;if(P==="c")Q=M($)+Q,$="";else{$=+$;var H=$<0||1/$<0;if($=isNaN($)?d:M(Math.abs($),S),N&&($=RB($)),H&&+$==0&&j!=="+"&&(H=!1),G=(H?j==="("?j:u:j==="-"||j==="("?"":j)+G,Q=(P==="s"&&!isNaN($)&&kd!==void 0?QO[8+kd/3]:"")+Q+(H&&j==="("?")":""),L){for(z=-1,B=$.length;++z<B;)if(U=$.charCodeAt(z),48>U||U>57){Q=(U===46?s+$.slice(z+1):$.slice(z))+Q,$=$.slice(0,z);break}}}E&&!k&&($=t($,1/0));var Y=G.length+$.length+Q.length,q=Y<_?new Array(_-Y+1).join(v):"";switch(E&&k&&($=t(q+$,q.length?_-Q.length:1/0),q=""),b){case"<":$=G+$+Q+q;break;case"=":$=G+q+$+Q;break;case"^":$=q.slice(0,Y=q.length>>1)+G+$+Q+q.slice(Y);break;default:$=q+G+$+Q;break}return o($)}return T.toString=function(){return m+""},T}function p(m,x){var v=Math.max(-8,Math.min(8,Math.floor(Ai(x)/3)))*3,b=Math.pow(10,-v),j=f((m=$l(m),m.type="f",m),{suffix:QO[8+v/3]});return function(y){return j(b*y)}}return{format:f,formatPrefix:p}}var Gu,_b,JE;$B({thousands:",",grouping:[3],currency:["$",""]});function $B(e){return Gu=IB(e),_b=Gu.format,JE=Gu.formatPrefix,Gu}function DB(e){return Math.max(0,-Ai(Math.abs(e)))}function LB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ai(t)/3)))*3-Ai(Math.abs(e)))}function FB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ai(t)-Ai(e))+1}function ZE(e,t,r,n){var s=qy(e,t,r),o;switch(n=$l(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=LB(s,l))&&(n.precision=o),JE(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=FB(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=DB(s))&&(n.precision=o-(n.type==="%")*2);break}}return _b(n)}function Ma(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return ZE(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,l=n[s],u=n[o],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=s,s=o,o=f);p-- >0;){if(f=By(l,u,r),f===d)return n[s]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Od(){var e=Pb();return e.copy=function(){return bc(e,Od())},Fr.apply(e,arguments),Ma(e)}function e5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return e5(e).unknown(t)},e=arguments.length?Array.from(e,Nd):[0,1],Ma(r)}function t5(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],l;return o<s&&(l=r,r=n,n=l,l=s,s=o,o=l),e[r]=t.floor(s),e[n]=t.ceil(o),e}function JO(e){return Math.log(e)}function ZO(e){return Math.exp(e)}function BB(e){return-Math.log(-e)}function qB(e){return-Math.exp(-e)}function zB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UB(e){return e===10?zB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eP(e){return(t,r)=>-e(-t,r)}function Cb(e){const t=e(JO,ZO),r=t.domain;let n=10,s,o;function l(){return s=WB(n),o=UB(n),r()[0]<0?(s=eP(s),o=eP(o),e(BB,qB)):e(JO,ZO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let x=s(f),v=s(p),b,j;const y=u==null?10:+u;let k=[];if(!(n%1)&&v-x<y){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(b=1;b<n;++b)if(j=x<0?b/o(-x):b*o(x),!(j<f)){if(j>p)break;k.push(j)}}else for(;x<=v;++x)for(b=n-1;b>=1;--b)if(j=x>0?b/o(-x):b*o(x),!(j<f)){if(j>p)break;k.push(j)}k.length*2<y&&(k=Fy(f,p,y))}else k=Fy(x,v,Math.min(v-x,y)).map(o);return m?k.reverse():k},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=$l(d)).precision==null&&(d.trim=!0),d=_b(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let m=p/o(Math.round(s(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},t.nice=()=>r(t5(r(),{floor:u=>o(Math.floor(s(u))),ceil:u=>o(Math.ceil(s(u)))})),t}function r5(){const e=Cb(Ef()).domain([1,10]);return e.copy=()=>bc(e,r5()).base(e.base()),Fr.apply(e,arguments),e}function tP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Eb(e){var t=1,r=e(tP(t),rP(t));return r.constant=function(n){return arguments.length?e(tP(t=+n),rP(t)):t},Ma(r)}function n5(){var e=Eb(Ef());return e.copy=function(){return bc(e,n5()).constant(e.constant())},Fr.apply(e,arguments)}function nP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KB(e){return e<0?-e*e:e*e}function Tb(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(HB,KB):e(nP(r),nP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ma(t)}function Rb(){var e=Tb(Ef());return e.copy=function(){return bc(e,Rb()).exponent(e.exponent())},Fr.apply(e,arguments),e}function GB(){return Rb.apply(null,arguments).exponent(.5)}function aP(e){return Math.sign(e)*e*e}function VB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a5(){var e=Pb(),t=[0,1],r=!1,n;function s(o){var l=VB(e(o));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(o){return e.invert(aP(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Nd)).map(aP)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return a5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(s,arguments),Ma(s)}function s5(){var e=[],t=[],r=[],n;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=Z7(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[yc(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),s()},o.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return s5().domain(e).range(t).unknown(n)},Fr.apply(o,arguments)}function i5(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function l(d){return d!=null&&d<=d?s[yc(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return i5().domain([e,t]).range(s).unknown(o)},Fr.apply(Ma(l),arguments)}function o5(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[yc(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return o5().domain(e).range(t).unknown(r)},Fr.apply(s,arguments)}const d0=new Date,f0=new Date;function Ct(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const l=s(o),u=s.ceil(o);return o-l<u-o?l:u},s.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),s.range=(o,l,u)=>{const d=[];if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},s.filter=o=>Ct(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(s.count=(o,l)=>(d0.setTime(+o),f0.setTime(+l),e(d0),e(f0),Math.floor(r(d0,f0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?l=>n(l)%o===0:l=>s.count(0,l)%o===0):s)),s}const Pd=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pd);Pd.range;const Ln=1e3,Dr=Ln*60,Fn=Dr*60,Wn=Fn*24,Mb=Wn*7,sP=Wn*30,h0=Wn*365,ss=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCSeconds());ss.range;const Ib=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Ib.range;const $b=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());$b.range;const Db=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());Db.range;const Lb=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());Lb.range;const jc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Wn,e=>e.getDate()-1);jc.range;const Tf=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);Tf.range;const l5=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));l5.range;function Ps(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Mb)}const Rf=Ps(0),Ad=Ps(1),YB=Ps(2),XB=Ps(3),_i=Ps(4),QB=Ps(5),JB=Ps(6);Rf.range;Ad.range;YB.range;XB.range;_i.range;QB.range;JB.range;function As(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Mb)}const Mf=As(0),_d=As(1),ZB=As(2),eq=As(3),Ci=As(4),tq=As(5),rq=As(6);Mf.range;_d.range;ZB.range;eq.range;Ci.range;tq.range;rq.range;const Fb=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fb.range;const Bb=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bb.range;const Hn=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hn.range;const Kn=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function c5(e,t,r,n,s,o){const l=[[ss,1,Ln],[ss,5,5*Ln],[ss,15,15*Ln],[ss,30,30*Ln],[o,1,Dr],[o,5,5*Dr],[o,15,15*Dr],[o,30,30*Dr],[s,1,Fn],[s,3,3*Fn],[s,6,6*Fn],[s,12,12*Fn],[n,1,Wn],[n,2,2*Wn],[r,1,Mb],[t,1,sP],[t,3,3*sP],[e,1,h0]];function u(f,p,m){const x=p<f;x&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:d(f,p,m),b=v?v.range(f,+p+1):[];return x?b.reverse():b}function d(f,p,m){const x=Math.abs(p-f)/m,v=wb(([,,y])=>y).right(l,x);if(v===l.length)return e.every(qy(f/h0,p/h0,m));if(v===0)return Pd.every(Math.max(qy(f,p,m),1));const[b,j]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return b.every(j)}return[u,d]}const[nq,aq]=c5(Kn,Bb,Mf,l5,Lb,$b),[sq,iq]=c5(Hn,Fb,Rf,jc,Db,Ib);function m0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oq(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=rl(s),p=nl(s),m=rl(o),x=nl(o),v=rl(l),b=nl(l),j=rl(u),y=nl(u),k=rl(d),_=nl(d),E={a:U,A:H,b:Y,B:q,c:null,d:dP,e:dP,f:Cq,g:Bq,G:zq,H:Pq,I:Aq,j:_q,L:u5,m:Eq,M:Tq,p:F,q:D,Q:mP,s:pP,S:Rq,u:Mq,U:Iq,V:$q,w:Dq,W:Lq,x:null,X:null,y:Fq,Y:qq,Z:Uq,"%":hP},S={a:K,A:ie,b:ue,B:se,c:null,d:fP,e:fP,f:Gq,g:nz,G:sz,H:Wq,I:Hq,j:Kq,L:f5,m:Vq,M:Yq,p:te,q:pe,Q:mP,s:pP,S:Xq,u:Qq,U:Jq,V:Zq,w:ez,W:tz,x:null,X:null,y:rz,Y:az,Z:iz,"%":hP},N={a:L,A:T,b:$,B:G,c:Q,d:cP,e:cP,f:Nq,g:lP,G:oP,H:uP,I:uP,j:vq,L:wq,m:yq,M:bq,p:M,q:xq,Q:kq,s:Oq,S:jq,u:fq,U:hq,V:mq,w:dq,W:pq,x:z,X:B,y:lP,Y:oP,Z:gq,"%":Sq};E.x=P(r,E),E.X=P(n,E),E.c=P(t,E),S.x=P(r,S),S.X=P(n,S),S.c=P(t,S);function P(ce,Oe){return function(Te){var Z=[],ve=-1,be=0,Je=ce.length,ft,Et,Br;for(Te instanceof Date||(Te=new Date(+Te));++ve<Je;)ce.charCodeAt(ve)===37&&(Z.push(ce.slice(be,ve)),(Et=iP[ft=ce.charAt(++ve)])!=null?ft=ce.charAt(++ve):Et=ft==="e"?" ":"0",(Br=Oe[ft])&&(ft=Br(Te,Et)),Z.push(ft),be=ve+1);return Z.push(ce.slice(be,ve)),Z.join("")}}function C(ce,Oe){return function(Te){var Z=tl(1900,void 0,1),ve=R(Z,ce,Te+="",0),be,Je;if(ve!=Te.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(be=p0(tl(Z.y,0,1)),Je=be.getUTCDay(),be=Je>4||Je===0?_d.ceil(be):_d(be),be=Tf.offset(be,(Z.V-1)*7),Z.y=be.getUTCFullYear(),Z.m=be.getUTCMonth(),Z.d=be.getUTCDate()+(Z.w+6)%7):(be=m0(tl(Z.y,0,1)),Je=be.getDay(),be=Je>4||Je===0?Ad.ceil(be):Ad(be),be=jc.offset(be,(Z.V-1)*7),Z.y=be.getFullYear(),Z.m=be.getMonth(),Z.d=be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Je="Z"in Z?p0(tl(Z.y,0,1)).getUTCDay():m0(tl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Je+5)%7:Z.w+Z.U*7-(Je+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,p0(Z)):m0(Z)}}function R(ce,Oe,Te,Z){for(var ve=0,be=Oe.length,Je=Te.length,ft,Et;ve<be;){if(Z>=Je)return-1;if(ft=Oe.charCodeAt(ve++),ft===37){if(ft=Oe.charAt(ve++),Et=N[ft in iP?Oe.charAt(ve++):ft],!Et||(Z=Et(ce,Te,Z))<0)return-1}else if(ft!=Te.charCodeAt(Z++))return-1}return Z}function M(ce,Oe,Te){var Z=f.exec(Oe.slice(Te));return Z?(ce.p=p.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function L(ce,Oe,Te){var Z=v.exec(Oe.slice(Te));return Z?(ce.w=b.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function T(ce,Oe,Te){var Z=m.exec(Oe.slice(Te));return Z?(ce.w=x.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function $(ce,Oe,Te){var Z=k.exec(Oe.slice(Te));return Z?(ce.m=_.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function G(ce,Oe,Te){var Z=j.exec(Oe.slice(Te));return Z?(ce.m=y.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function Q(ce,Oe,Te){return R(ce,t,Oe,Te)}function z(ce,Oe,Te){return R(ce,r,Oe,Te)}function B(ce,Oe,Te){return R(ce,n,Oe,Te)}function U(ce){return l[ce.getDay()]}function H(ce){return o[ce.getDay()]}function Y(ce){return d[ce.getMonth()]}function q(ce){return u[ce.getMonth()]}function F(ce){return s[+(ce.getHours()>=12)]}function D(ce){return 1+~~(ce.getMonth()/3)}function K(ce){return l[ce.getUTCDay()]}function ie(ce){return o[ce.getUTCDay()]}function ue(ce){return d[ce.getUTCMonth()]}function se(ce){return u[ce.getUTCMonth()]}function te(ce){return s[+(ce.getUTCHours()>=12)]}function pe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Oe=P(ce+="",E);return Oe.toString=function(){return ce},Oe},parse:function(ce){var Oe=C(ce+="",!1);return Oe.toString=function(){return ce},Oe},utcFormat:function(ce){var Oe=P(ce+="",S);return Oe.toString=function(){return ce},Oe},utcParse:function(ce){var Oe=C(ce+="",!0);return Oe.toString=function(){return ce},Oe}}}var iP={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,lq=/^%/,cq=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function uq(e){return e.replace(cq,"\\$&")}function rl(e){return new RegExp("^(?:"+e.map(uq).join("|")+")","i")}function nl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oP(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function jq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function wq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Sq(e,t,r){var n=lq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function kq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Oq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dP(e,t){return Ge(e.getDate(),t,2)}function Pq(e,t){return Ge(e.getHours(),t,2)}function Aq(e,t){return Ge(e.getHours()%12||12,t,2)}function _q(e,t){return Ge(1+jc.count(Hn(e),e),t,3)}function u5(e,t){return Ge(e.getMilliseconds(),t,3)}function Cq(e,t){return u5(e,t)+"000"}function Eq(e,t){return Ge(e.getMonth()+1,t,2)}function Tq(e,t){return Ge(e.getMinutes(),t,2)}function Rq(e,t){return Ge(e.getSeconds(),t,2)}function Mq(e){var t=e.getDay();return t===0?7:t}function Iq(e,t){return Ge(Rf.count(Hn(e)-1,e),t,2)}function d5(e){var t=e.getDay();return t>=4||t===0?_i(e):_i.ceil(e)}function $q(e,t){return e=d5(e),Ge(_i.count(Hn(e),e)+(Hn(e).getDay()===4),t,2)}function Dq(e){return e.getDay()}function Lq(e,t){return Ge(Ad.count(Hn(e)-1,e),t,2)}function Fq(e,t){return Ge(e.getFullYear()%100,t,2)}function Bq(e,t){return e=d5(e),Ge(e.getFullYear()%100,t,2)}function qq(e,t){return Ge(e.getFullYear()%1e4,t,4)}function zq(e,t){var r=e.getDay();return e=r>=4||r===0?_i(e):_i.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function Uq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function fP(e,t){return Ge(e.getUTCDate(),t,2)}function Wq(e,t){return Ge(e.getUTCHours(),t,2)}function Hq(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function Kq(e,t){return Ge(1+Tf.count(Kn(e),e),t,3)}function f5(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function Gq(e,t){return f5(e,t)+"000"}function Vq(e,t){return Ge(e.getUTCMonth()+1,t,2)}function Yq(e,t){return Ge(e.getUTCMinutes(),t,2)}function Xq(e,t){return Ge(e.getUTCSeconds(),t,2)}function Qq(e){var t=e.getUTCDay();return t===0?7:t}function Jq(e,t){return Ge(Mf.count(Kn(e)-1,e),t,2)}function h5(e){var t=e.getUTCDay();return t>=4||t===0?Ci(e):Ci.ceil(e)}function Zq(e,t){return e=h5(e),Ge(Ci.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function ez(e){return e.getUTCDay()}function tz(e,t){return Ge(_d.count(Kn(e)-1,e),t,2)}function rz(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function nz(e,t){return e=h5(e),Ge(e.getUTCFullYear()%100,t,2)}function az(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function sz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ci(e):Ci.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function iz(){return"+0000"}function hP(){return"%"}function mP(e){return+e}function pP(e){return Math.floor(+e/1e3)}var ri,m5,p5;oz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oz(e){return ri=oq(e),m5=ri.format,ri.parse,p5=ri.utcFormat,ri.utcParse,ri}function lz(e){return new Date(e)}function cz(e){return e instanceof Date?+e:+new Date(+e)}function qb(e,t,r,n,s,o,l,u,d,f){var p=Pb(),m=p.invert,x=p.domain,v=f(".%L"),b=f(":%S"),j=f("%I:%M"),y=f("%I %p"),k=f("%a %d"),_=f("%b %d"),E=f("%B"),S=f("%Y");function N(P){return(d(P)<P?v:u(P)<P?b:l(P)<P?j:o(P)<P?y:n(P)<P?s(P)<P?k:_:r(P)<P?E:S)(P)}return p.invert=function(P){return new Date(m(P))},p.domain=function(P){return arguments.length?x(Array.from(P,cz)):x().map(lz)},p.ticks=function(P){var C=x();return e(C[0],C[C.length-1],P??10)},p.tickFormat=function(P,C){return C==null?N:f(C)},p.nice=function(P){var C=x();return(!P||typeof P.range!="function")&&(P=t(C[0],C[C.length-1],P??10)),P?x(t5(C,P)):p},p.copy=function(){return bc(p,qb(e,t,r,n,s,o,l,u,d,f))},p}function uz(){return Fr.apply(qb(sq,iq,Hn,Fb,Rf,jc,Db,Ib,ss,m5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dz(){return Fr.apply(qb(nq,aq,Kn,Bb,Mf,Tf,Lb,$b,ss,p5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function If(){var e=0,t=1,r,n,s,o,l=rr,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(o(m)-r)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(x){var v,b;return arguments.length?([v,b]=x,l=m(v,b),f):[l(0),l(1)]}}return f.range=p(no),f.rangeRound=p(Ob),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),f}}function Ia(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function g5(){var e=Ma(If()(rr));return e.copy=function(){return Ia(e,g5())},Xn.apply(e,arguments)}function x5(){var e=Cb(If()).domain([1,10]);return e.copy=function(){return Ia(e,x5()).base(e.base())},Xn.apply(e,arguments)}function y5(){var e=Eb(If());return e.copy=function(){return Ia(e,y5()).constant(e.constant())},Xn.apply(e,arguments)}function zb(){var e=Tb(If());return e.copy=function(){return Ia(e,zb()).exponent(e.exponent())},Xn.apply(e,arguments)}function fz(){return zb.apply(null,arguments).exponent(.5)}function v5(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>J7(e,o/n))},r.copy=function(){return v5(t).domain(e)},Xn.apply(r,arguments)}function $f(){var e=0,t=.5,r=1,n=1,s,o,l,u,d,f=rr,p,m=!1,x;function v(j){return isNaN(j=+j)?x:(j=.5+((j=+p(j))-o)*(n*j<n*o?u:d),f(m?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,t,r]=j,s=p(e=+e),o=p(t=+t),l=p(r=+r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),n=o<s?-1:1,v):[e,t,r]},v.clamp=function(j){return arguments.length?(m=!!j,v):m},v.interpolator=function(j){return arguments.length?(f=j,v):f};function b(j){return function(y){var k,_,E;return arguments.length?([k,_,E]=y,f=SB(j,[k,_,E]),v):[f(0),f(.5),f(1)]}}return v.range=b(no),v.rangeRound=b(Ob),v.unknown=function(j){return arguments.length?(x=j,v):x},function(j){return p=j,s=j(e),o=j(t),l=j(r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),n=o<s?-1:1,v}}function b5(){var e=Ma($f()(rr));return e.copy=function(){return Ia(e,b5())},Xn.apply(e,arguments)}function j5(){var e=Cb($f()).domain([.1,1,10]);return e.copy=function(){return Ia(e,j5()).base(e.base())},Xn.apply(e,arguments)}function w5(){var e=Eb($f());return e.copy=function(){return Ia(e,w5()).constant(e.constant())},Xn.apply(e,arguments)}function Ub(){var e=Tb($f());return e.copy=function(){return Ia(e,Ub()).exponent(e.exponent())},Xn.apply(e,arguments)}function hz(){return Ub.apply(null,arguments).exponent(.5)}const gP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tl,scaleDiverging:b5,scaleDivergingLog:j5,scaleDivergingPow:Ub,scaleDivergingSqrt:hz,scaleDivergingSymlog:w5,scaleIdentity:e5,scaleImplicit:zy,scaleLinear:Od,scaleLog:r5,scaleOrdinal:Nb,scalePoint:ml,scalePow:Rb,scaleQuantile:s5,scaleQuantize:i5,scaleRadial:a5,scaleSequential:g5,scaleSequentialLog:x5,scaleSequentialPow:zb,scaleSequentialQuantile:v5,scaleSequentialSqrt:fz,scaleSequentialSymlog:y5,scaleSqrt:GB,scaleSymlog:n5,scaleThreshold:o5,scaleTime:uz,scaleUtc:dz,tickFormat:ZE},Symbol.toStringTag,{value:"Module"}));var g0,xP;function Df(){if(xP)return g0;xP=1;var e=Zi();function t(r,n,s){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return g0=t,g0}var x0,yP;function N5(){if(yP)return x0;yP=1;function e(t,r){return t>r}return x0=e,x0}var y0,vP;function mz(){if(vP)return y0;vP=1;var e=Df(),t=N5(),r=ro();function n(s){return s&&s.length?e(s,r,t):void 0}return y0=n,y0}var pz=mz();const Lf=Xe(pz);var v0,bP;function S5(){if(bP)return v0;bP=1;function e(t,r){return t<r}return v0=e,v0}var b0,jP;function gz(){if(jP)return b0;jP=1;var e=Df(),t=S5(),r=ro();function n(s){return s&&s.length?e(s,r,t):void 0}return b0=n,b0}var xz=gz();const Ff=Xe(xz);var j0,wP;function yz(){if(wP)return j0;wP=1;var e=ab(),t=Sn(),r=RE(),n=hr();function s(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return j0=s,j0}var w0,NP;function vz(){if(NP)return w0;NP=1;var e=EE(),t=yz();function r(n,s){return e(t(n,s),1)}return w0=r,w0}var bz=vz();const jz=Xe(bz);var N0,SP;function wz(){if(SP)return N0;SP=1;var e=xb();function t(r,n){return e(r,n)}return N0=t,N0}var Nz=wz();const wc=Xe(Nz);var ao=1e9,Sz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hb,ct=!0,Lr="[DecimalError] ",ps=Lr+"Invalid argument: ",Wb=Lr+"Exponent out of range: ",so=Math.floor,es=Math.pow,kz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,$t=1e7,ot=7,k5=9007199254740991,Cd=so(k5/ot),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return zn(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return et(zn(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return wt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Lr+"NaN");if(r.s<1)throw Error(Lr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(ct=!1,t=zn(Dl(r,o),Dl(e,o),o),ct=!0,et(t,s))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A5(t,e):O5(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Lr+"NaN");return r.s?(ct=!1,t=zn(r,e,0,1).times(e),ct=!0,r.minus(t)):et(new n(r),s)};we.naturalExponential=we.exp=function(){return P5(this)};we.naturalLogarithm=we.ln=function(){return Dl(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O5(t,e):A5(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ps+e);if(t=wt(s)+1,n=s.d.length-1,r=n*ot+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,s,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=wt(u),ct=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=xn(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=so((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=l=r+3;;)if(o=n,n=o.plus(zn(u,o,l+2)).times(.5),xn(o.d).slice(0,l)===(t=xn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(et(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return ct=!0,et(n,r)};we.times=we.mul=function(e){var t,r,n,s,o,l,u,d,f,p=this,m=p.constructor,x=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=x.length,f=v.length,d<f&&(o=x,x=v,v=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,s=d+n;s>n;)u=o[s]+v[n]*x[s-n-1]+t,o[s--]=u%$t|0,t=u/$t|0;o[s]=(o[s]+t)%$t|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,ct?et(e,m.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,ao),t===void 0?t=n.rounding:bn(t,0,8),et(r,e+wt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=bs(n,!0):(bn(e,0,ao),t===void 0?t=s.rounding:bn(t,0,8),n=et(new s(n),e+1,t),r=bs(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?bs(s):(bn(e,0,ao),t===void 0?t=o.rounding:bn(t,0,8),n=et(new o(s),e+wt(s)+1,t),r=bs(n.abs(),!1,e+wt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return et(new t(e),wt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,s,o,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(wr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(wr))return u;if(n=d.precision,e.eq(wr))return et(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=p<0?-p:p)<=k5){for(s=new d(wr),t=Math.ceil(n/ot+4),ct=!1;r%2&&(s=s.times(u),OP(s.d,t)),r=so(r/2),r!==0;)u=u.times(u),OP(u.d,t);return ct=!0,e.s<0?new d(wr).div(s):et(s,n)}}else if(o<0)throw Error(Lr+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ct=!1,s=e.times(Dl(u,n+f)),ct=!0,s=P5(s),s.s=o,s};we.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=wt(s),n=bs(s,r<=o.toExpNeg||r>=o.toExpPos)):(bn(e,1,ao),t===void 0?t=o.rounding:bn(t,0,8),s=et(new o(s),e,t),r=wt(s),n=bs(s,e<=r||r<=o.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,ao),t===void 0?t=n.rounding:bn(t,0,8)),et(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return bs(e,t<=r.toExpNeg||t>=r.toExpPos)};function O5(e,t){var r,n,s,o,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ct?et(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),o=l-s,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,s=l,u=d.length),l=Math.ceil(m/ot),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/$t|0,d[o]%=$t;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,ct?et(t,m):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ps+e)}function xn(e){var t,r,n,s=e.length-1,o="",l=e[0];if(s>0){for(o+=l,t=1;t<s;t++)n=e[t]+"",r=ot-n.length,r&&(o+=ya(r)),o+=n;l=e[t],n=l+"",r=ot-n.length,r&&(o+=ya(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var zn=(function(){function e(n,s){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*s+l,n[u]=o%$t|0,l=o/$t|0;return l&&n.unshift(l),n}function t(n,s,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=s[u]){d=n[u]>s[u]?1:-1;break}return d}function r(n,s,o){for(var l=0;o--;)n[o]-=l,l=n[o]<s[o]?1:0,n[o]=l*$t+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,l){var u,d,f,p,m,x,v,b,j,y,k,_,E,S,N,P,C,R,M=n.constructor,L=n.s==s.s?1:-1,T=n.d,$=s.d;if(!n.s)return new M(n);if(!s.s)throw Error(Lr+"Division by zero");for(d=n.e-s.e,C=$.length,N=T.length,v=new M(L),b=v.d=[],f=0;$[f]==(T[f]||0);)++f;if($[f]>(T[f]||0)&&--d,o==null?_=o=M.precision:l?_=o+(wt(n)-wt(s))+1:_=o,_<0)return new M(0);if(_=_/ot+2|0,f=0,C==1)for(p=0,$=$[0],_++;(f<N||p)&&_--;f++)E=p*$t+(T[f]||0),b[f]=E/$|0,p=E%$|0;else{for(p=$t/($[0]+1)|0,p>1&&($=e($,p),T=e(T,p),C=$.length,N=T.length),S=C,j=T.slice(0,C),y=j.length;y<C;)j[y++]=0;R=$.slice(),R.unshift(0),P=$[0],$[1]>=$t/2&&++P;do p=0,u=t($,j,C,y),u<0?(k=j[0],C!=y&&(k=k*$t+(j[1]||0)),p=k/P|0,p>1?(p>=$t&&(p=$t-1),m=e($,p),x=m.length,y=j.length,u=t(m,j,x,y),u==1&&(p--,r(m,C<x?R:$,x))):(p==0&&(u=p=1),m=$.slice()),x=m.length,x<y&&m.unshift(0),r(j,m,y),u==-1&&(y=j.length,u=t($,j,C,y),u<1&&(p++,r(j,C<y?R:$,y))),y=j.length):u===0&&(p++,j=[0]),b[f++]=p,u&&j[0]?j[y++]=T[S]||0:(j=[T[S]],y=1);while((S++<N||j[0]!==void 0)&&_--)}return b[0]||b.shift(),v.e=d,et(v,l?o+wt(v)+1:o)}})();function P5(e,t){var r,n,s,o,l,u,d=0,f=0,p=e.constructor,m=p.precision;if(wt(e)>16)throw Error(Wb+wt(e));if(!e.s)return new p(wr);for(ct=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(es(2,f))/Math.LN10*2+5|0,u+=n,r=s=o=new p(wr),p.precision=u;;){if(s=et(s.times(e),u),r=r.times(++d),l=o.plus(zn(s,r,u)),xn(l.d).slice(0,u)===xn(o.d).slice(0,u)){for(;f--;)o=et(o.times(o),u);return p.precision=m,t==null?(ct=!0,et(o,m)):o}o=l}}function wt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function S0(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(Lr+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function Dl(e,t){var r,n,s,o,l,u,d,f,p,m=1,x=10,v=e,b=v.d,j=v.constructor,y=j.precision;if(v.s<1)throw Error(Lr+(v.s?"NaN":"-Infinity"));if(v.eq(wr))return new j(0);if(t==null?(ct=!1,f=y):f=t,v.eq(10))return t==null&&(ct=!0),S0(j,f);if(f+=x,j.precision=f,r=xn(b),n=r.charAt(0),o=wt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=xn(v.d),n=r.charAt(0),m++;o=wt(v),n>1?(v=new j("0."+r),o++):v=new j(n+"."+r.slice(1))}else return d=S0(j,f+2,y).times(o+""),v=Dl(new j(n+"."+r.slice(1)),f-x).plus(d),j.precision=y,t==null?(ct=!0,et(v,y)):v;for(u=l=v=zn(v.minus(wr),v.plus(wr),f),p=et(v.times(v),f),s=3;;){if(l=et(l.times(p),f),d=u.plus(zn(l,new j(s),f)),xn(d.d).slice(0,f)===xn(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(S0(j,f+2,y).times(o+""))),u=zn(u,new j(m),f),j.precision=y,t==null?(ct=!0,et(u,y)):u;u=d,s+=2}}function kP(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=so(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ot;n<s;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>Cd||e.e<-Cd))throw Error(Wb+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,s,o,l,u,d,f,p,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=ot,s=t,f=m[p=0];else{if(p=Math.ceil((n+1)/ot),o=m.length,p>=o)return e;for(f=o=m[p],l=1;o>=10;o/=10)l++;n%=ot,s=n-ot+l}if(r!==void 0&&(o=es(10,l-s-1),u=f/o%10|0,d=t<0||m[p+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?s>0?f/es(10,l-s):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=wt(e),m.length=1,t=t-o-1,m[0]=es(10,(ot-t%ot)%ot),e.e=so(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,o=1,p--):(m.length=p+1,o=es(10,ot-n),m[p]=s>0?(f/es(10,l-s)%es(10,s)|0)*o:0),d)for(;;)if(p==0){(m[0]+=o)==$t&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=$t)break;m[p--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(ct&&(e.e>Cd||e.e<-Cd))throw Error(Wb+wt(e));return e}function A5(e,t){var r,n,s,o,l,u,d,f,p,m,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ct?et(t,v):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,n=f,u=d.length),s=Math.max(Math.ceil(v/ot),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(o=s;o&&d[--o]===0;)d[o]=$t-1;--d[o],d[s]+=$t}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ct?et(t,v):t):new x(0)}function bs(e,t,r){var n,s=wt(e),o=xn(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+ya(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ya(-s-1)+o,r&&(n=r-l)>0&&(o+=ya(n))):s>=l?(o+=ya(s+1-l),r&&(n=r-s-1)>0&&(o=o+"."+ya(n))):((n=s+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(o+="."),o+=ya(n))),e.s<0?"-"+o:o}function OP(e,t){if(e.length>t)return e.length=t,!0}function _5(e){var t,r,n;function s(o){var l=this;if(!(l instanceof s))return new s(o);if(l.constructor=s,o instanceof s){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ps+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return kP(l,o.toString())}else if(typeof o!="string")throw Error(ps+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,kz.test(o))kP(l,o);else throw Error(ps+o)}if(s.prototype=we,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=_5,s.config=s.set=Oz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Oz(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,r,n,s=["precision",1,ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(so(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ps+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ps+r+": "+n);return this}var Hb=_5(Sz);wr=new Hb(1);const Ze=Hb;function Pz(e){return Ez(e)||Cz(e)||_z(e)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(e,t){if(e){if(typeof e=="string")return Ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(e,t)}}function Cz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ez(e){if(Array.isArray(e))return Ky(e)}function Ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tz=function(t){return t},C5={},E5=function(t){return t===C5},PP=function(t){return function r(){return arguments.length===0||arguments.length===1&&E5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Rz=function e(t,r){return t===1?r:PP(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var l=s.filter(function(u){return u!==C5}).length;return l>=t?r.apply(void 0,s):e(t-l,PP(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=s.map(function(m){return E5(m)?d.shift():m});return r.apply(void 0,Pz(p).concat(d))}))})},Bf=function(t){return Rz(t.length,t)},Gy=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Mz=Bf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Iz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Tz;var s=r.reverse(),o=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},Vy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},T5=function(t){var r=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function $z(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function Dz(e,t,r){for(var n=new Ze(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var Lz=Bf(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Fz=Bf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Bz=Bf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const qf={rangeStep:Dz,getDigitCount:$z,interpolateNumber:Lz,uninterpolateNumber:Fz,uninterpolateTruncation:Bz};function Yy(e){return Uz(e)||zz(e)||R5(e)||qz()}function qz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Uz(e){if(Array.isArray(e))return Xy(e)}function Ll(e,t){return Kz(e)||Hz(e,t)||R5(e,t)||Wz()}function Wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hz(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){s=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(s)throw o}}return r}}function Kz(e){if(Array.isArray(e))return e}function M5(e){var t=Ll(e,2),r=t[0],n=t[1],s=r,o=n;return r>n&&(s=n,o=r),[s,o]}function I5(e,t,r){if(e.lte(0))return new Ze(0);var n=qf.getDigitCount(e.toNumber()),s=new Ze(10).pow(n),o=e.div(s),l=n!==1?.05:.1,u=new Ze(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new Ze(Math.ceil(d))}function Gz(e,t,r){var n=1,s=new Ze(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(qf.getDigitCount(e)-1),s=new Ze(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Ze(Math.floor(e)))}else e===0?s=new Ze(Math.floor((t-1)/2)):r||(s=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=Iz(Mz(function(d){return s.add(new Ze(d-l).mul(n)).toNumber()}),Gy);return u(0,t)}function $5(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=I5(new Ze(t).sub(e).div(r-1),n,s),l;e<=0&&t>=0?l=new Ze(0):(l=new Ze(e).add(t).div(2),l=l.sub(new Ze(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Ze(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?$5(e,t,r,n,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new Ze(u).mul(o)),tickMax:l.add(new Ze(d).mul(o))})}function Vz(e){var t=Ll(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=M5([r,n]),d=Ll(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Yy(Gy(0,s-1).map(function(){return 1/0}))):[].concat(Yy(Gy(0,s-1).map(function(){return-1/0})),[p]);return r>n?Vy(m):m}if(f===p)return Gz(f,s,o);var x=$5(f,p,l,o),v=x.step,b=x.tickMin,j=x.tickMax,y=qf.rangeStep(b,j.add(new Ze(.1).mul(v)),v);return r>n?Vy(y):y}function Yz(e,t){var r=Ll(e,2),n=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=M5([n,s]),u=Ll(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,s];if(d===f)return[d];var p=Math.max(t,2),m=I5(new Ze(f).sub(d).div(p-1),o,0),x=[].concat(Yy(qf.rangeStep(new Ze(d),new Ze(f).sub(new Ze(.99).mul(m)),m)),[f]);return n>s?Vy(x):x}var Xz=T5(Vz),Qz=T5(Yz),Jz="Invariant failed";function js(e,t){throw new Error(Jz)}var Zz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function e9(e,t){return a9(e)||n9(e,t)||r9(e,t)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(e,t){if(e){if(typeof e=="string")return AP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(e,t)}}function AP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function a9(e){if(Array.isArray(e))return e}function s9(e,t){if(e==null)return{};var r=i9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function o9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F5(n.key),n)}}function c9(e,t,r){return t&&l9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u9(e,t,r){return t=Td(t),d9(e,D5()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function d9(e,t){if(t&&(Ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f9(e)}function f9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function h9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qy(e,t)}function L5(e,t,r){return t=F5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=m9(e,"string");return Ei(t)=="symbol"?t:t+""}function m9(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nc=(function(e){function t(){return o9(this,t),u9(this,t,arguments)}return h9(t,e),c9(t,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,x=s9(n,Zz),v=_e(x,!1);this.props.direction==="x"&&p.type!=="number"&&js();var b=d.map(function(j){var y=f(j,u),k=y.x,_=y.y,E=y.value,S=y.errorVal;if(!S)return null;var N=[],P,C;if(Array.isArray(S)){var R=e9(S,2);P=R[0],C=R[1]}else P=C=S;if(o==="vertical"){var M=p.scale,L=_+s,T=L+l,$=L-l,G=M(E-P),Q=M(E+C);N.push({x1:Q,y1:T,x2:Q,y2:$}),N.push({x1:G,y1:L,x2:Q,y2:L}),N.push({x1:G,y1:T,x2:G,y2:$})}else if(o==="horizontal"){var z=m.scale,B=k+s,U=B-l,H=B+l,Y=z(E-P),q=z(E+C);N.push({x1:U,y1:q,x2:H,y2:q}),N.push({x1:B,y1:Y,x2:B,y2:q}),N.push({x1:U,y1:Y,x2:H,y2:Y})}return V.createElement(Ke,Ed({className:"recharts-errorBar",key:"bar-".concat(N.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},v),N.map(function(F){return V.createElement("line",Ed({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return V.createElement(Ke,{className:"recharts-errorBars"},b)}}])})(V.Component);L5(Nc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});L5(Nc,"displayName","ErrorBar");function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){p9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p9(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=x9(e,"string");return Fl(t)=="symbol"?t:t+""}function x9(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B5=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,o=t.legendContent,l=br(r,_a);if(!l)return null;var u=_a.defaultProps,d=u!==void 0?Xa(Xa({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(p,m){var x=m.item,v=m.props,b=v.sectors||v.data||[];return p.concat(b.map(function(j){return{type:l.props.iconType||x.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):f=(n||[]).map(function(p){var m=p.item,x=m.type.defaultProps,v=x!==void 0?Xa(Xa({},x),m.props):{},b=v.dataKey,j=v.name,y=v.legendType,k=v.hide;return{inactive:k,dataKey:b,type:d.iconType||y||"square",color:Kb(m),value:j||b,payload:v}}),Xa(Xa(Xa({},d),_a.getWithHeight(l,s)),{},{payload:f,item:l})};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function CP(e){return j9(e)||b9(e)||v9(e)||y9()}function y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function b9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j9(e){if(Array.isArray(e))return Jy(e)}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hi(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=N9(e,"string");return Bl(t)=="symbol"?t:t+""}function N9(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e,t,r){return De(e)||De(t)?r:_t(t)?Nr(e,t,r):Ie(t)?t(e):r}function pl(e,t,r,n){var s=jz(e,function(u){return Pt(u,t)});if(r==="number"){var o=s.filter(function(u){return xe(u)||parseFloat(u)});return o.length?[Ff(o),Lf(o)]:[1/0,-1/0]}var l=n?s.filter(function(u){return!De(u)}):s;return l.map(function(u){return _t(u)||u instanceof Date?u:""})}var S9=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var p=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,x=f>=u-1?s[0].coordinate:s[f+1].coordinate,v=void 0;if(er(m-p)!==er(x-m)){var b=[];if(er(x-m)===er(d[1]-d[0])){v=x;var j=m+d[1]-d[0];b[0]=Math.min(j,(j+p)/2),b[1]=Math.max(j,(j+p)/2)}else{v=p;var y=x+d[1]-d[0];b[0]=Math.min(m,(y+m)/2),b[1]=Math.max(m,(y+m)/2)}var k=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>k[0]&&t<=k[1]||t>=b[0]&&t<=b[1]){l=s[f].index;break}}else{var _=Math.min(p,x),E=Math.max(p,x);if(t>(_+m)/2&&t<=(E+m)/2){l=s[f].index;break}}}else for(var S=0;S<u;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<u-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===u-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){l=n[S].index;break}return l},Kb=function(t){var r,n=t,s=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},k9=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var p=o[u[d]].stackGroups,m=Object.keys(p),x=0,v=m.length;x<v;x++){var b=p[m[x]],j=b.items,y=b.cateAxisId,k=j.filter(function(C){return qn(C.type).indexOf("Bar")>=0});if(k&&k.length){var _=k[0].type.defaultProps,E=_!==void 0?pt(pt({},_),k[0].props):k[0].props,S=E.barSize,N=E[y];l[N]||(l[N]=[]);var P=De(S)?r:S;l[N].push({item:k[0],stackList:k.slice(1),barSize:De(P)?void 0:tr(P,n,0)})}}return l},O9=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=tr(r,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=s/d,b=l.reduce(function(S,N){return S+N.barSize||0},0);b+=(d-1)*f,b>=s&&(b-=(d-1)*f,f=0),b>=s&&v>0&&(x=!0,v*=.9,b=d*v);var j=(s-b)/2>>0,y={offset:j-f,size:0};p=l.reduce(function(S,N){var P={item:N.item,position:{offset:y.offset+y.size+f,size:x?v:N.barSize}},C=[].concat(CP(S),[P]);return y=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){C.push({item:R,position:y})}),C},m)}else{var k=tr(n,s,0,!0);s-2*k-(d-1)*f<=0&&(f=0);var _=(s-2*k-(d-1)*f)/d;_>1&&(_>>=0);var E=u===+u?Math.min(_,u):_;p=l.reduce(function(S,N,P){var C=[].concat(CP(S),[{item:N.item,position:{offset:k+(_+f)*P+(_-E)/2,size:E}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){C.push({item:R,position:C[C.length-1].position})}),C},m)}return p},P9=function(t,r,n,s){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=B5({children:o,legendWidth:d});if(f){var p=s||{},m=p.width,x=p.height,v=f.align,b=f.verticalAlign,j=f.layout;if((j==="vertical"||j==="horizontal"&&b==="middle")&&v!=="center"&&xe(t[v]))return pt(pt({},t),{},hi({},v,t[v]+(m||0)));if((j==="horizontal"||j==="vertical"&&v==="center")&&b!=="middle"&&xe(t[b]))return pt(pt({},t),{},hi({},b,t[b]+(x||0)))}return t},A9=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q5=function(t,r,n,s,o){var l=r.props.children,u=Sr(l,Nc).filter(function(f){return A9(s,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=Pt(p,n);if(De(m))return f;var x=Array.isArray(m)?[Ff(m),Lf(m)]:[m,m],v=d.reduce(function(b,j){var y=Pt(p,j,0),k=x[0]-Math.abs(Array.isArray(y)?y[0]:y),_=x[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(k,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},_9=function(t,r,n,s,o){var l=r.map(function(u){return q5(t,u,n,o,s)}).filter(function(u){return!De(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},z5=function(t,r,n,s,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&q5(t,d,f,s)||pl(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},U5=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},W5=function(t,r,n,s){if(s)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Bn=function(t,r,n){if(!t)return null;var s=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||n)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?er(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var x=o?o.indexOf(m):m;return{coordinate:s(x)+f,value:m,offset:f}});return p.filter(function(m){return!gc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:s(m)+f,value:m,index:x,offset:f}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,x){return{coordinate:s(m)+f,value:o?o[m]:m,index:x,offset:f}})},k0=new WeakMap,Vu=function(t,r){if(typeof r!="function")return t;k0.has(t)||k0.set(t,new WeakMap);var n=k0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},H5=function(t,r,n){var s=t.scale,o=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Tl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Od(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ml(),realScaleType:"point"}:o==="category"?{scale:Tl(),realScaleType:"band"}:{scale:Od(),realScaleType:"linear"};if(xs(s)){var d="scale".concat(Nf(s));return{scale:(gP[d]||ml)(),realScaleType:gP[d]?d:"point"}}return Ie(s)?{scale:s}:{scale:ml(),realScaleType:"point"}},TP=1e-4,K5=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),o=Math.min(s[0],s[1])-TP,l=Math.max(s[0],s[1])+TP,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},C9=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},E9=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(o[0]=n),(!xe(t[1])||t[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},T9=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,l=0,u=0;u<r;++u){var d=gc(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},R9=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,l=0;l<r;++l){var u=gc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},M9={sign:T9,expand:j8,none:Ni,silhouette:w8,wiggle:N8,positive:R9},I9=function(t,r,n){var s=r.map(function(u){return u.props.dataKey}),o=M9[n],l=b8().keys(s).value(function(u,d){return+Pt(u,d,0)}).order(Ay).offset(o);return l(t)},$9=function(t,r,n,s,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,x){var v,b=(v=x.type)!==null&&v!==void 0&&v.defaultProps?pt(pt({},x.type.defaultProps),x.props):x.props,j=b.stackId,y=b.hide;if(y)return m;var k=b[n],_=m[k]||{hasStack:!1,stackGroups:{}};if(_t(j)){var E=_.stackGroups[j]||{numericAxisId:n,cateAxisId:s,items:[]};E.items.push(x),_.hasStack=!0,_.stackGroups[j]=E}else _.stackGroups[to("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[x]};return pt(pt({},m),{},hi({},k,_))},d),p={};return Object.keys(f).reduce(function(m,x){var v=f[x];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(j,y){var k=v.stackGroups[y];return pt(pt({},j),{},hi({},y,{numericAxisId:n,cateAxisId:s,items:k.items,stackedData:I9(t,k.items,o)}))},b)}return pt(pt({},m),{},hi({},x,v))},p)},G5=function(t,r){var n=r.realScaleType,s=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=Xz(f,o,u);return t.domain([Ff(p),Lf(p)]),{niceTicks:p}}if(o&&s==="number"){var m=t.domain(),x=Qz(m,o,u);return{niceTicks:x}}return null};function RP(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(s[t.dataKey])){var u=od(r,"value",s[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Pt(s,De(l)?t.dataKey:l);return De(d)?null:t.scale(d)}var MP=function(t){var r=t.axis,n=t.ticks,s=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+s:null;var d=Pt(l,r.dataKey,r.domain[u]);return De(d)?null:r.scale(d)-o/2+s},D9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},L9=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(_t(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},F9=function(t){return t.reduce(function(r,n){return[Ff(n.concat([r[0]]).filter(xe)),Lf(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},V5=function(t,r,n){return Object.keys(t).reduce(function(s,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,p){var m=F9(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},IP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$P=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zy=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(xe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(IP.test(t[0])){var o=+IP.exec(t[0])[1];s[0]=r[0]-o}else Ie(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(xe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if($P.test(t[1])){var l=+$P.exec(t[1])[1];s[1]=r[1]+l}else Ie(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Rd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var o=vb(r,function(m){return m.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],p=o[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},DP=function(t,r,n){return!t||!t.length||wc(t,Nr(n,"type.defaultProps.domain"))?r:t},Y5=function(t,r){var n=t.type.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return pt(pt({},_e(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:o||s,color:Kb(t),value:Pt(r,s),type:d,payload:r,chartType:f,hide:p})};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X5(e,t,r){return t=B9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=q9(e,"string");return ql(t)=="symbol"?t:t+""}function q9(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e,t){return K9(e)||H9(e,t)||W9(e,t)||U9()}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e,t){if(e){if(typeof e=="string")return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function K9(e){if(Array.isArray(e))return e}var Md=Math.PI/180,G9=function(t){return t*180/Math.PI},at=function(t,r,n,s){return{x:t+Math.cos(-Md*s)*n,y:r+Math.sin(-Md*s)*n}},Q5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},V9=function(t,r,n,s,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=tr(t.cx,l,l/2),m=tr(t.cy,u,u/2),x=Q5(l,u,n),v=tr(t.innerRadius,x,0),b=tr(t.outerRadius,x,x*.8),j=Object.keys(r);return j.reduce(function(y,k){var _=r[k],E=_.domain,S=_.reversed,N;if(De(_.range))s==="angleAxis"?N=[d,f]:s==="radiusAxis"&&(N=[v,b]),S&&(N=[N[1],N[0]]);else{N=_.range;var P=N,C=z9(P,2);d=C[0],f=C[1]}var R=H5(_,o),M=R.realScaleType,L=R.scale;L.domain(E).range(N),K5(L);var T=G5(L,$n($n({},_),{},{realScaleType:M})),$=$n($n($n({},_),T),{},{range:N,radius:b,realScaleType:M,scale:L,cx:p,cy:m,innerRadius:v,outerRadius:b,startAngle:d,endAngle:f});return $n($n({},y),{},X5({},k,$))},{})},Y9=function(t,r){var n=t.x,s=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-l,2))},X9=function(t,r){var n=t.x,s=t.y,o=r.cx,l=r.cy,u=Y9({x:n,y:s},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:G9(f),angleInRadian:f}},Q9=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(s,o);return{startAngle:r-l*360,endAngle:n-l*360}},J9=function(t,r){var n=r.startAngle,s=r.endAngle,o=Math.floor(n/360),l=Math.floor(s/360),u=Math.min(o,l);return t+u*360},BP=function(t,r){var n=t.x,s=t.y,o=X9({x:n,y:s},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=Q9(r),m=p.startAngle,x=p.endAngle,v=u,b;if(m<=x){for(;v>x;)v-=360;for(;v<m;)v+=360;b=v>=m&&v<=x}else{for(;v>m;)v-=360;for(;v<x;)v+=360;b=v>=x&&v<=m}return b?$n($n({},r),{},{radius:l,angle:J9(v,r)}):null},J5=function(t){return!O.isValidElement(t)&&!Ie(t)&&typeof t!="boolean"?t.className:""};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var Z9=["offset"];function eU(e){return aU(e)||nU(e)||rU(e)||tU()}function tU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(e,t){if(e){if(typeof e=="string")return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ev(e,t)}}function nU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aU(e){if(Array.isArray(e))return ev(e)}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sU(e,t){if(e==null)return{};var r=iU(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return t=lU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return zl(t)=="symbol"?t:t+""}function cU(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var uU=function(t){var r=t.value,n=t.formatter,s=De(t.children)?r:t.children;return Ie(n)?n(s):s},dU=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),360);return n*s},fU=function(t,r,n){var s=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,p=d.cy,m=d.innerRadius,x=d.outerRadius,v=d.startAngle,b=d.endAngle,j=d.clockWise,y=(m+x)/2,k=dU(v,b),_=k>=0?1:-1,E,S;s==="insideStart"?(E=v+_*l,S=j):s==="insideEnd"?(E=b-_*l,S=!j):s==="end"&&(E=b+_*l,S=j),S=k<=0?S:!S;var N=at(f,p,y,E),P=at(f,p,y,E+(S?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),R=De(t.id)?to("recharts-radial-line-"):t.id;return V.createElement("text",Ul({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:R,d:C})),V.createElement("textPath",{xlinkHref:"#".concat(R)},r))},hU=function(t){var r=t.viewBox,n=t.offset,s=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,p=o.startAngle,m=o.endAngle,x=(p+m)/2;if(s==="outside"){var v=at(l,u,f+n,x),b=v.x,j=v.y;return{x:b,y:j,textAnchor:b>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,k=at(l,u,y,x),_=k.x,E=k.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},mU=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,x=m*s,v=m>0?"end":"start",b=m>0?"start":"end",j=f>=0?1:-1,y=j*s,k=j>0?"end":"start",_=j>0?"start":"end";if(o==="top"){var E={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},E),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var S={x:u+f/2,y:d+p+x,textAnchor:"middle",verticalAnchor:b};return Ot(Ot({},S),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(o==="left"){var N={x:u-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return Ot(Ot({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(o==="right"){var P={x:u+f+y,y:d+p/2,textAnchor:_,verticalAnchor:"middle"};return Ot(Ot({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:p}:{})}var C=n?{width:f,height:p}:{};return o==="insideLeft"?Ot({x:u+y,y:d+p/2,textAnchor:_,verticalAnchor:"middle"},C):o==="insideRight"?Ot({x:u+f-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},C):o==="insideTop"?Ot({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:b},C):o==="insideBottom"?Ot({x:u+f/2,y:d+p-x,textAnchor:"middle",verticalAnchor:v},C):o==="insideTopLeft"?Ot({x:u+y,y:d+x,textAnchor:_,verticalAnchor:b},C):o==="insideTopRight"?Ot({x:u+f-y,y:d+x,textAnchor:k,verticalAnchor:b},C):o==="insideBottomLeft"?Ot({x:u+y,y:d+p-x,textAnchor:_,verticalAnchor:v},C):o==="insideBottomRight"?Ot({x:u+f-y,y:d+p-x,textAnchor:k,verticalAnchor:v},C):eo(o)&&(xe(o.x)||ns(o.x))&&(xe(o.y)||ns(o.y))?Ot({x:u+tr(o.x,f),y:d+tr(o.y,p),textAnchor:"end",verticalAnchor:"end"},C):Ot({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},C)},pU=function(t){return"cx"in t&&xe(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=sU(e,Z9),s=Ot({offset:r},n),o=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,p=s.className,m=p===void 0?"":p,x=s.textBreakAll;if(!o||De(u)&&De(d)&&!O.isValidElement(f)&&!Ie(f))return null;if(O.isValidElement(f))return O.cloneElement(f,s);var v;if(Ie(f)){if(v=O.createElement(f,s),O.isValidElement(v))return v}else v=uU(s);var b=pU(o),j=_e(s,!0);if(b&&(l==="insideStart"||l==="insideEnd"||l==="end"))return fU(s,v,j);var y=b?hU(s):mU(s);return V.createElement(vs,Ul({className:Le("recharts-label",m)},j,y,{breakAll:x}),v)}Dt.displayName="Label";var Z5=function(t){var r=t.cx,n=t.cy,s=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,x=t.y,v=t.top,b=t.left,j=t.width,y=t.height,k=t.clockWise,_=t.labelViewBox;if(_)return _;if(xe(j)&&xe(y)){if(xe(m)&&xe(x))return{x:m,y:x,width:j,height:y};if(xe(v)&&xe(b))return{x:v,y:b,width:j,height:y}}return xe(m)&&xe(x)?{x:m,y:x,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:o||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:k}:t.viewBox?t.viewBox:{}},gU=function(t,r){return t?t===!0?V.createElement(Dt,{key:"label-implicit",viewBox:r}):_t(t)?V.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Dt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?V.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):eo(t)?V.createElement(Dt,Ul({viewBox:r},t,{key:"label-implicit"})):null:null},xU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,o=Z5(t),l=Sr(s,Dt).map(function(d,f){return O.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=gU(t.label,r||o);return[u].concat(eU(l))};Dt.parseViewBox=Z5;Dt.renderCallByParent=xU;var O0,zP;function yU(){if(zP)return O0;zP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return O0=e,O0}var vU=yU();const bU=Xe(vU);function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}var jU=["valueAccessor"],wU=["data","dataKey","clockWise","id","textBreakAll"];function NU(e){return PU(e)||OU(e)||kU(e)||SU()}function SU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}}function OU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PU(e){if(Array.isArray(e))return tv(e)}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return t=_U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=CU(e,"string");return Wl(t)=="symbol"?t:t+""}function CU(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HP(e,t){if(e==null)return{};var r=EU(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TU=function(t){return Array.isArray(t.value)?bU(t.value):t.value};function Un(e){var t=e.valueAccessor,r=t===void 0?TU:t,n=HP(e,jU),s=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=HP(n,wU);return!s||!s.length?null:V.createElement(Ke,{className:"recharts-label-list"},s.map(function(p,m){var x=De(o)?r(p,m):Pt(p&&p.payload,o),v=De(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(Dt,Id({},_e(p,!0),f,v,{parentViewBox:p.parentViewBox,value:x,textBreakAll:d,viewBox:Dt.parseViewBox(De(l)?p:WP(WP({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Un.displayName="LabelList";function RU(e,t){return e?e===!0?V.createElement(Un,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Ie(e)?V.createElement(Un,{key:"labelList-implicit",data:t,content:e}):eo(e)?V.createElement(Un,Id({data:t},e,{key:"labelList-implicit"})):null:null}function MU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sr(n,Un).map(function(l,u){return O.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var o=RU(e.label,t);return[o].concat(NU(s))}Un.renderCallByParent=MU;function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=DU(e,"string");return Hl(t)=="symbol"?t:t+""}function DU(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LU=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Yu=function(t){var r=t.cx,n=t.cy,s=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/Md,x=f?o:o+l*m,v=at(r,n,p,x),b=at(r,n,s,x),j=f?o-l*m:o,y=at(r,n,p*Math.cos(m*Md),j);return{center:v,circleTangency:b,lineTangency:y,theta:m}},eT=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=LU(l,u),f=l+d,p=at(r,n,o,l),m=at(r,n,o,f),x="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var v=at(r,n,s,l),b=at(r,n,s,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},FU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=er(p-f),x=Yu({cx:r,cy:n,radius:o,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),v=x.circleTangency,b=x.lineTangency,j=x.theta,y=Yu({cx:r,cy:n,radius:o,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),k=y.circleTangency,_=y.lineTangency,E=y.theta,S=d?Math.abs(f-p):Math.abs(f-p)-j-E;if(S<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):eT({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var P=Yu({cx:r,cy:n,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),C=P.circleTangency,R=P.lineTangency,M=P.theta,L=Yu({cx:r,cy:n,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=L.circleTangency,$=L.lineTangency,G=L.theta,Q=d?Math.abs(f-p):Math.abs(f-p)-M-G;if(Q<0&&l===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},BU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tT=function(t){var r=GP(GP({},BU),t),n=r.cx,s=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,x=r.className;if(l<o||p===m)return null;var v=Le("recharts-sector",x),b=l-o,j=tr(u,b,0,!0),y;return j>0&&Math.abs(p-m)<360?y=FU({cx:n,cy:s,innerRadius:o,outerRadius:l,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=eT({cx:n,cy:s,innerRadius:o,outerRadius:l,startAngle:p,endAngle:m}),V.createElement("path",rv({},_e(r,!0),{className:v,d:y,role:"img"}))};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(this,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return t=zU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=UU(e,"string");return Kl(t)=="symbol"?t:t+""}function UU(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XP={curveBasisClosed:c8,curveBasisOpen:u8,curveBasis:l8,curveBumpX:VD,curveBumpY:YD,curveLinearClosed:d8,curveLinear:kf,curveMonotoneX:f8,curveMonotoneY:h8,curveNatural:m8,curveStep:p8,curveStepAfter:x8,curveStepBefore:g8},Xu=function(t){return t.x===+t.x&&t.y===+t.y},al=function(t){return t.x},sl=function(t){return t.y},WU=function(t,r){if(Ie(t))return t;var n="curve".concat(Nf(t));return(n==="curveMonotone"||n==="curveBump")&&r?XP["".concat(n).concat(r==="vertical"?"Y":"X")]:XP[n]||kf},HU=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,o=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=WU(n,u),m=f?o.filter(function(j){return Xu(j)}):o,x;if(Array.isArray(l)){var v=f?l.filter(function(j){return Xu(j)}):l,b=m.map(function(j,y){return YP(YP({},j),{},{base:v[y]})});return u==="vertical"?x=qu().y(sl).x1(al).x0(function(j){return j.base.x}):x=qu().x(al).y1(sl).y0(function(j){return j.base.y}),x.defined(Xu).curve(p),x(b)}return u==="vertical"&&xe(l)?x=qu().y(sl).x1(al).x0(l):xe(l)?x=qu().x(al).y1(sl).y0(l):x=eE().x(al).y(sl),x.defined(Xu).curve(p),x(m)},$d=function(t){var r=t.className,n=t.points,s=t.path,o=t.pathRef;if((!n||!n.length)&&!s)return null;var l=n&&n.length?HU(t):s;return O.createElement("path",nv({},_e(t,!1),ld(t),{className:Le("recharts-curve",r),d:l,ref:o}))},P0={exports:{}},A0,QP;function KU(){if(QP)return A0;QP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A0=e,A0}var _0,JP;function GU(){if(JP)return _0;JP=1;var e=KU();function t(){}function r(){}return r.resetWarningCache=t,_0=function(){function n(l,u,d,f,p,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function s(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},_0}var ZP;function VU(){return ZP||(ZP=1,P0.exports=GU()()),P0.exports}var YU=VU();const Ye=Xe(YU),{getOwnPropertyNames:XU,getOwnPropertySymbols:QU}=Object,{hasOwnProperty:JU}=Object.prototype;function C0(e,t){return function(n,s,o){return e(n,s,o)&&t(n,s,o)}}function Qu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:o}=s,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,s);return o.delete(r),o.delete(n),d}}function ZU(e){return e!=null?e[Symbol.toStringTag]:void 0}function eA(e){return XU(e).concat(QU(e))}const eW=Object.hasOwn||((e,t)=>JU.call(e,t));function _s(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const tW="__v",rW="__o",nW="_owner",{getOwnPropertyDescriptor:tA,keys:rA}=Object;function aW(e,t){return e.byteLength===t.byteLength&&Dd(new Uint8Array(e),new Uint8Array(t))}function sW(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function iW(e,t){return e.byteLength===t.byteLength&&Dd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function oW(e,t){return _s(e.getTime(),t.getTime())}function lW(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cW(e,t){return e===t}function nA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let p=!1,m=0;for(;(u=f.next())&&!u.done;){if(s[m]){m++;continue}const x=l.value,v=u.value;if(r.equals(x[0],v[0],d,m,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const uW=_s;function dW(e,t,r){const n=rA(e);let s=n.length;if(rA(t).length!==s)return!1;for(;s-- >0;)if(!rT(e,t,r,n[s]))return!1;return!0}function il(e,t,r){const n=eA(e);let s=n.length;if(eA(t).length!==s)return!1;let o,l,u;for(;s-- >0;)if(o=n[s],!rT(e,t,r,o)||(l=tA(e,o),u=tA(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function fW(e,t){return _s(e.valueOf(),t.valueOf())}function hW(e,t){return e.source===t.source&&e.flags===t.flags}function aA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!s[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function Dd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mW(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function rT(e,t,r,n){return(n===nW||n===rW||n===tW)&&(e.$$typeof||t.$$typeof)?!0:eW(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const pW="[object ArrayBuffer]",gW="[object Arguments]",xW="[object Boolean]",yW="[object DataView]",vW="[object Date]",bW="[object Error]",jW="[object Map]",wW="[object Number]",NW="[object Object]",SW="[object RegExp]",kW="[object Set]",OW="[object String]",PW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},AW="[object URL]",_W=Object.prototype.toString;function CW({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:b}){return function(y,k,_){if(y===k)return!0;if(y==null||k==null)return!1;const E=typeof y;if(E!==typeof k)return!1;if(E!=="object")return E==="number"?u(y,k,_):E==="function"?o(y,k,_):!1;const S=y.constructor;if(S!==k.constructor)return!1;if(S===Object)return d(y,k,_);if(Array.isArray(y))return t(y,k,_);if(S===Date)return n(y,k,_);if(S===RegExp)return p(y,k,_);if(S===Map)return l(y,k,_);if(S===Set)return m(y,k,_);const N=_W.call(y);if(N===vW)return n(y,k,_);if(N===SW)return p(y,k,_);if(N===jW)return l(y,k,_);if(N===kW)return m(y,k,_);if(N===NW)return typeof y.then!="function"&&typeof k.then!="function"&&d(y,k,_);if(N===AW)return v(y,k,_);if(N===bW)return s(y,k,_);if(N===gW)return d(y,k,_);if(PW[N])return x(y,k,_);if(N===pW)return e(y,k,_);if(N===yW)return r(y,k,_);if(N===xW||N===wW||N===OW)return f(y,k,_);if(b){let P=b[N];if(!P){const C=ZU(y);C&&(P=b[C])}if(P)return P(y,k,_)}return!1}}function EW({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:aW,areArraysEqual:r?il:sW,areDataViewsEqual:iW,areDatesEqual:oW,areErrorsEqual:lW,areFunctionsEqual:cW,areMapsEqual:r?C0(nA,il):nA,areNumbersEqual:uW,areObjectsEqual:r?il:dW,arePrimitiveWrappersEqual:fW,areRegExpsEqual:hW,areSetsEqual:r?C0(aA,il):aA,areTypedArraysEqual:r?C0(Dd,il):Dd,areUrlsEqual:mW,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Qu(n.areArraysEqual),o=Qu(n.areMapsEqual),l=Qu(n.areObjectsEqual),u=Qu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function TW(e){return function(t,r,n,s,o,l,u){return e(t,r,u)}}function RW({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(u,d,{cache:f,equals:n,meta:p,strict:s})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const o={cache:void 0,equals:n,meta:void 0,strict:s};return function(u,d){return t(u,d,o)}}const MW=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:()=>_s});$a({strict:!0,createInternalComparator:()=>_s});$a({circular:!0,createInternalComparator:()=>_s});$a({circular:!0,createInternalComparator:()=>_s,strict:!0});function $a(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,o=EW(e),l=CW(o),u=r?r(l):TW(l);return RW({circular:t,comparator:l,createState:n,equals:u,strict:s})}function IW(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(o){r<0&&(r=o),o-r>t?(e(o),r=-1):IW(s)};requestAnimationFrame(n)}function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function $W(e){return BW(e)||FW(e)||LW(e)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(e,t){if(e){if(typeof e=="string")return iA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(e,t)}}function iA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BW(e){if(Array.isArray(e))return e}function qW(){var e={},t=function(){return null},r=!1,n=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=$W(l),d=u[0],f=u.slice(1);if(typeof d=="number"){sA(s.bind(null,f),d);return}s(d),sA(s.bind(null,f));return}av(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){nT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nT(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=UW(e,"string");return Gl(t)==="symbol"?t:String(t)}function UW(e,t){if(Gl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WW=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},HW=function(t){return t},KW=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gl=function(t,r){return Object.keys(r).reduce(function(n,s){return lA(lA({},n),{},nT({},s,t(s,r[s])))},{})},cA=function(t,r,n){return t.map(function(s){return"".concat(KW(s)," ").concat(r,"ms ").concat(n)}).join(",")};function GW(e,t){return XW(e)||YW(e,t)||aT(e,t)||VW()}function VW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function XW(e){if(Array.isArray(e))return e}function QW(e){return eH(e)||ZW(e)||aT(e)||JW()}function JW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aT(e,t){if(e){if(typeof e=="string")return sv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sv(e,t)}}function ZW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eH(e){if(Array.isArray(e))return sv(e)}function sv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ld=1e-4,sT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},iT=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},uA=function(t,r){return function(n){var s=sT(t,r);return iT(s,n)}},tH=function(t,r){return function(n){var s=sT(t,r),o=[].concat(QW(s.map(function(l,u){return l*u}).slice(1)),[0]);return iT(o,n)}},dA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,l=1,u=1;break;case"ease":s=.25,o=.1,l=.25,u=1;break;case"ease-in":s=.42,o=0,l=1,u=1;break;case"ease-out":s=.42,o=0,l=.58,u=1;break;case"ease-in-out":s=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=GW(f,4);s=p[0],o=p[1],l=p[2],u=p[3]}}}var m=uA(s,l),x=uA(o,u),v=tH(s,l),b=function(k){return k>1?1:k<0?0:k},j=function(k){for(var _=k>1?1:k,E=_,S=0;S<8;++S){var N=m(E)-_,P=v(E);if(Math.abs(N-_)<Ld||P<Ld)return x(E);E=b(E-N/P)}return x(E)};return j.isStepper=!1,j},rH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,o=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,x){var v=-(p-m)*n,b=x*o,j=x+(v-b)*u/1e3,y=x*u/1e3+p;return Math.abs(y-m)<Ld&&Math.abs(j)<Ld?[m,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},nH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dA(s);case"spring":return rH();default:if(s.split("(")[0]==="cubic-bezier")return dA(s)}return typeof s=="function"?s:null};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function fA(e){return iH(e)||sH(e)||oT(e)||aH()}function aH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iH(e){if(Array.isArray(e))return ov(e)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){iv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iv(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=lH(e,"string");return Vl(t)==="symbol"?t:String(t)}function lH(e,t){if(Vl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cH(e,t){return fH(e)||dH(e,t)||oT(e,t)||uH()}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oT(e,t){if(e){if(typeof e=="string")return ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(e,t)}}function ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function fH(e){if(Array.isArray(e))return e}var Fd=function(t,r,n){return t+(r-t)*n},lv=function(t){var r=t.from,n=t.to;return r!==n},hH=function e(t,r,n){var s=gl(function(o,l){if(lv(l)){var u=t(l.from,l.to,l.velocity),d=cH(u,2),f=d[0],p=d[1];return qt(qt({},l),{},{from:f,velocity:p})}return l},r);return n<1?gl(function(o,l){return lv(l)?qt(qt({},l),{},{velocity:Fd(l.velocity,s[o].velocity,n),from:Fd(l.from,s[o].from,n)}):l},r):e(t,s,n-1)};const mH=(function(e,t,r,n,s){var o=WW(e,t),l=o.reduce(function(y,k){return qt(qt({},y),{},iv({},k,[e[k],t[k]]))},{}),u=o.reduce(function(y,k){return qt(qt({},y),{},iv({},k,{from:e[k],velocity:0,to:t[k]}))},{}),d=-1,f,p,m=function(){return null},x=function(){return gl(function(k,_){return _.from},u)},v=function(){return!Object.values(u).filter(lv).length},b=function(k){f||(f=k);var _=k-f,E=_/r.dt;u=hH(r,u,E),s(qt(qt(qt({},e),t),x())),f=k,v()||(d=requestAnimationFrame(m))},j=function(k){p||(p=k);var _=(k-p)/n,E=gl(function(N,P){return Fd.apply(void 0,fA(P).concat([r(_)]))},l);if(s(qt(qt(qt({},e),t),E)),_<1)d=requestAnimationFrame(m);else{var S=gl(function(N,P){return Fd.apply(void 0,fA(P).concat([r(1)]))},l);s(qt(qt(qt({},e),t),S))}};return m=r.isStepper?b:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Ti(e){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(e)}var pH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gH(e,t){if(e==null)return{};var r=xH(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xH(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function E0(e){return jH(e)||bH(e)||vH(e)||yH()}function yH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,t){if(e){if(typeof e=="string")return cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(e,t)}}function bH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jH(e){if(Array.isArray(e))return cv(e)}function cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fl(e,t,r){return t=lT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lT(n.key),n)}}function SH(e,t,r){return t&&NH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lT(e){var t=kH(e,"string");return Ti(t)==="symbol"?t:String(t)}function kH(e,t){if(Ti(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ti(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uv(e,t)}function uv(e,t){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uv(e,t)}function PH(e){var t=AH();return function(){var n=Bd(e),s;if(t){var o=Bd(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return dv(this,s)}}function dv(e,t){if(t&&(Ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fv(e)}function fv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}var jn=(function(e){OH(r,e);var t=PH(r);function r(n,s){var o;wH(this,r),o=t.call(this,n,s);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,x=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(fv(o)),o.changeStyle=o.changeStyle.bind(fv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:p}),dv(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof x=="function")return o.state={style:f},dv(o);o.state={style:d?fl({},d,f):f}}else o.state={style:{}};return o}return SH(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,l=s.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,p=o.to,m=o.from,x=this.state.style;if(u){if(!l){var v={style:d?fl({},d,p):p};this.state&&x&&(d&&x[d]!==p||!d&&x!==p)&&this.setState(v);return}if(!(MW(s.to,p)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=b||f?m:s.to;if(this.state&&x){var y={style:d?fl({},d,j):j};(d&&x[d]!==j||!d&&x!==j)&&this.setState(y)}this.runAnimation(Yr(Yr({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,l=s.from,u=s.to,d=s.duration,f=s.easing,p=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,v=mH(l,u,nH(f),d,this.changeStyle),b=function(){o.stopJSAnimation=v()};this.manager.start([x,p,b,d,m])}},{key:"runStepAnimation",value:function(s){var o=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],p=f.style,m=f.duration,x=m===void 0?0:m,v=function(j,y,k){if(k===0)return j;var _=y.duration,E=y.easing,S=E===void 0?"ease":E,N=y.style,P=y.properties,C=y.onAnimationEnd,R=k>0?l[k-1]:y,M=P||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(E0(j),[o.runJSAnimation.bind(o,{from:R.style,to:N,duration:_,easing:S}),_]);var L=cA(M,_,S),T=Yr(Yr(Yr({},R.style),N),{},{transition:L});return[].concat(E0(j),[T,_,C]).filter(HW)};return this.manager.start([d].concat(E0(l.reduce(v,[p,Math.max(x,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=qW());var o=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,v=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var j=u?fl({},u,d):d,y=cA(Object.keys(j),l,f);b.start([p,o,Yr(Yr({},j),{},{transition:y}),l,m])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=gH(s,pH),f=O.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!u||f===0||l<=0)return o;var m=function(v){var b=v.props,j=b.style,y=j===void 0?{}:j,k=b.className,_=O.cloneElement(v,Yr(Yr({},d),{},{style:Yr(Yr({},y),p),className:k}));return _};return f===1?m(O.Children.only(o)):V.createElement("div",null,O.Children.map(o,function(x){return m(x)}))}}]),r})(O.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function _H(e,t){return RH(e)||TH(e,t)||EH(e,t)||CH()}function CH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function RH(e){if(Array.isArray(e))return e}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return t=IH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=$H(e,"string");return Yl(t)=="symbol"?t:t+""}function $H(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yA=function(t,r,n,s,o){var l=Math.min(Math.abs(n)/2,Math.abs(s)/2),u=s>=0?1:-1,d=n>=0?1:-1,f=s>=0&&n>=0||s<0&&n<0?1:0,p;if(l>0&&o instanceof Array){for(var m=[0,0,0,0],x=0,v=4;x<v;x++)m[x]=o[x]>l?l:o[x];p="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),p+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*m[1])),p+="L ".concat(t+n,",").concat(r+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+s)),p+="L ".concat(t+d*m[3],",").concat(r+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*m[3])),p+="Z"}else if(l>0&&o===+o&&o>0){var b=Math.min(l,o);p="M ".concat(t,",").concat(r+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+d*b,",").concat(r,`
            L `).concat(t+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*b,`
            L `).concat(t+n,",").concat(r+s-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-d*b,",").concat(r+s,`
            L `).concat(t+d*b,",").concat(r+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*b," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return p},DH=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),p=Math.max(o,o+u),m=Math.min(l,l+d),x=Math.max(l,l+d);return n>=f&&n<=p&&s>=m&&s<=x}return!1},LH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gb=function(t){var r=xA(xA({},LH),t),n=O.useRef(),s=O.useState(-1),o=_H(s,2),l=o[0],u=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,x=r.radius,v=r.className,b=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isAnimationActive,_=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var E=Le("recharts-rectangle",v);return _?V.createElement(jn,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:j,animationEasing:b,isActive:_},function(S){var N=S.width,P=S.height,C=S.x,R=S.y;return V.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:k,easing:b},V.createElement("path",qd({},_e(r,!0),{className:E,d:yA(C,R,N,P,x),ref:n})))}):V.createElement("path",qd({},_e(r,!0),{className:E,d:yA(d,f,p,m,x)}))},FH=["points","className","baseLinePoints","connectNulls"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}function BH(e,t){if(e==null)return{};var r=qH(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vA(e){return HH(e)||WH(e)||UH(e)||zH()}function zH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(e,t){if(e){if(typeof e=="string")return hv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hv(e,t)}}function WH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HH(e){if(Array.isArray(e))return hv(e)}function hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bA=function(t){return t&&t.x===+t.x&&t.y===+t.y},KH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){bA(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),bA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xl=function(t,r){var n=KH(t);r&&(n=[n.reduce(function(o,l){return[].concat(vA(o),vA(l))},[])]);var s=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},GH=function(t,r,n){var s=xl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(xl(r.reverse(),n).slice(1))},VH=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,o=t.connectNulls,l=BH(t,FH);if(!r||!r.length)return null;var u=Le("recharts-polygon",n);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=GH(r,s,o);return V.createElement("g",{className:u},V.createElement("path",oi({},_e(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?V.createElement("path",oi({},_e(l,!0),{fill:"none",d:xl(r,o)})):null,d?V.createElement("path",oi({},_e(l,!0),{fill:"none",d:xl(s,o)})):null)}var p=xl(r,o);return V.createElement("path",oi({},_e(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}var zf=function(t){var r=t.cx,n=t.cy,s=t.r,o=t.className,l=Le("recharts-dot",o);return r===+r&&n===+n&&s===+s?O.createElement("circle",mv({},_e(t,!1),ld(t),{className:l,cx:r,cy:n,r:s})):null};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}var YH=["x","y","top","left","width","height","className"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(this,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return t=JH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JH(e){var t=ZH(e,"string");return Xl(t)=="symbol"?t:t+""}function ZH(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eK(e,t){if(e==null)return{};var r=tK(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rK=function(t,r,n,s,o,l){return"M".concat(t,",").concat(o,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(n)},nK=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,x=t.height,v=x===void 0?0:x,b=t.className,j=eK(t,YH),y=XH({x:n,y:o,top:u,left:f,width:m,height:v},j);return!xe(n)||!xe(o)||!xe(m)||!xe(v)||!xe(u)||!xe(f)?null:V.createElement("path",pv({},_e(y,!0),{className:Le("recharts-cross",b),d:rK(n,o,m,v,u,f)}))},T0,wA;function aK(){if(wA)return T0;wA=1;var e=Df(),t=N5(),r=Sn();function n(s,o){return s&&s.length?e(s,r(o,2),t):void 0}return T0=n,T0}var sK=aK();const iK=Xe(sK);var R0,NA;function oK(){if(NA)return R0;NA=1;var e=Df(),t=Sn(),r=S5();function n(s,o){return s&&s.length?e(s,t(o,2),r):void 0}return R0=n,R0}var lK=oK();const cK=Xe(lK);var uK=["cx","cy","angle","ticks","axisLine"],dK=["ticks","tick","angle","tickFormatter","stroke"];function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){Uf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kA(e,t){if(e==null)return{};var r=fK(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uT(n.key),n)}}function mK(e,t,r){return t&&OA(e.prototype,t),r&&OA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pK(e,t,r){return t=zd(t),gK(e,cT()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function gK(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xK(e)}function xK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cT=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function yK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gv(e,t)}function Uf(e,t,r){return t=uT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uT(e){var t=vK(e,"string");return Ri(t)=="symbol"?t:t+""}function vK(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=(function(e){function t(){return hK(this,t),pK(this,t,arguments)}return yK(t,e),mK(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return at(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=iK(u,function(p){return p.coordinate||0}),f=cK(u,function(p){return p.coordinate||0});return{cx:s,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=kA(n,uK),p=u.reduce(function(b,j){return[Math.min(b[0],j.coordinate),Math.max(b[1],j.coordinate)]},[1/0,-1/0]),m=at(s,o,p[0],l),x=at(s,o,p[1],l),v=Qa(Qa(Qa({},_e(f,!1)),{},{fill:"none"},_e(d,!1)),{},{x1:m.x,y1:m.y,x2:x.x,y2:x.y});return V.createElement("line",yl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,p=kA(s,dK),m=this.getTickTextAnchor(),x=_e(p,!1),v=_e(l,!1),b=o.map(function(j,y){var k=n.getTickValueCoord(j),_=Qa(Qa(Qa(Qa({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},x),{},{stroke:"none",fill:f},v),{},{index:y},k),{},{payload:j});return V.createElement(Ke,yl({className:Le("recharts-polar-radius-axis-tick",J5(l)),key:"tick-".concat(j.coordinate)},ys(n.props,j,y)),t.renderTickItem(l,_,d?d(j.value,y):j.value))});return V.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.axisLine,l=n.tick;return!s||!s.length?null:V.createElement(Ke,{className:Le("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):Ie(n)?l=n(s):l=V.createElement(vs,yl({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(O.PureComponent);Uf(Wf,"displayName","PolarRadiusAxis");Uf(Wf,"axisType","radiusAxis");Uf(Wf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fT(n.key),n)}}function jK(e,t,r){return t&&AA(e.prototype,t),r&&AA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wK(e,t,r){return t=Ud(t),NK(e,dT()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function NK(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SK(e)}function SK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dT=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function kK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xv(e,t)}function xv(e,t){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xv(e,t)}function Hf(e,t,r){return t=fT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fT(e){var t=OK(e,"string");return Mi(t)=="symbol"?t:t+""}function OK(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PK=Math.PI/180,_A=1e-5,Kf=(function(e){function t(){return bK(this,t),wK(this,t,arguments)}return kK(t,e),jK(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,p=f||8,m=at(o,l,u,n.coordinate),x=at(o,l,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,o=Math.cos(-n.coordinate*PK),l;return o>_A?l=s==="outer"?"start":"end":o<-_A?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=Ja(Ja({},_e(this.props,!1)),{},{fill:"none"},_e(u,!1));if(d==="circle")return V.createElement(zf,ts({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:o,r:l}));var p=this.props.ticks,m=p.map(function(x){return at(s,o,l,x.coordinate)});return V.createElement(VH,ts({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,p=_e(this.props,!1),m=_e(l,!1),x=Ja(Ja({},p),{},{fill:"none"},_e(u,!1)),v=o.map(function(b,j){var y=n.getTickLineCoord(b),k=n.getTickTextAnchor(b),_=Ja(Ja(Ja({textAnchor:k},p),{},{stroke:"none",fill:f},m),{},{index:j,payload:b,x:y.x2,y:y.y2});return V.createElement(Ke,ts({className:Le("recharts-polar-angle-axis-tick",J5(l)),key:"tick-".concat(b.coordinate)},ys(n.props,b,j)),u&&V.createElement("line",ts({className:"recharts-polar-angle-axis-tick-line"},x,y)),l&&t.renderTickItem(l,_,d?d(b.value,j):b.value))});return V.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!s||!s.length?null:V.createElement(Ke,{className:Le("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):Ie(n)?l=n(s):l=V.createElement(vs,ts({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(O.PureComponent);Hf(Kf,"displayName","PolarAngleAxis");Hf(Kf,"axisType","angleAxis");Hf(Kf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var M0,CA;function AK(){if(CA)return M0;CA=1;var e=NE(),t=e(Object.getPrototypeOf,Object);return M0=t,M0}var I0,EA;function _K(){if(EA)return I0;EA=1;var e=Vn(),t=AK(),r=Yn(),n="[object Object]",s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return I0=f,I0}var CK=_K();const EK=Xe(CK);var $0,TA;function TK(){if(TA)return $0;TA=1;var e=Vn(),t=Yn(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return $0=n,$0}var RK=TK();const MK=Xe(RK);function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function IK(e,t){return FK(e)||LK(e,t)||DK(e,t)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function FK(e){if(Array.isArray(e))return e}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){BK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=zK(e,"string");return Ql(t)=="symbol"?t:t+""}function zK(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $A=function(t,r,n,s,o){var l=n-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-s,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},UK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WK=function(t){var r=IA(IA({},UK),t),n=O.useRef(),s=O.useState(-1),o=IK(s,2),l=o[0],u=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,x=r.height,v=r.className,b=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||x!==+x||p===0&&m===0||x===0)return null;var _=Le("recharts-trapezoid",v);return k?V.createElement(jn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:x,x:d,y:f},duration:j,animationEasing:b,isActive:k},function(E){var S=E.upperWidth,N=E.lowerWidth,P=E.height,C=E.x,R=E.y;return V.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:b},V.createElement("path",Wd({},_e(r,!0),{className:_,d:$A(C,R,S,N,P),ref:n})))}):V.createElement("g",null,V.createElement("path",Wd({},_e(r,!0),{className:_,d:$A(d,f,p,m,x)})))},HK=["option","shapeType","propTransformer","activeClassName","isActive"];function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function KK(e,t){if(e==null)return{};var r=GK(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return Jl(t)=="symbol"?t:t+""}function XK(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e,t){return Hd(Hd({},t),e)}function JK(e,t){return e==="symbols"}function LA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(Gb,r);case"trapezoid":return V.createElement(WK,r);case"sector":return V.createElement(tT,r);case"symbols":if(JK(t))return V.createElement(db,r);break;default:return null}}function ZK(e){return O.isValidElement(e)?e.props:e}function hT(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?QK:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=KK(e,HK),f;if(O.isValidElement(t))f=O.cloneElement(t,Hd(Hd({},d),ZK(t)));else if(Ie(t))f=t(d);else if(EK(t)&&!MK(t)){var p=s(t,d);f=V.createElement(LA,{shapeType:r,elementProps:p})}else{var m=d;f=V.createElement(LA,{shapeType:r,elementProps:m})}return u?V.createElement(Ke,{className:l},f):f}function Gf(e,t){return t!=null&&"trapezoids"in e.props}function Vf(e,t){return t!=null&&"sectors"in e.props}function Zl(e,t){return t!=null&&"points"in e.props}function eG(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&o}function tG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function rG(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function nG(e,t){var r;return Gf(e,t)?r=eG:Vf(e,t)?r=tG:Zl(e,t)&&(r=rG),r}function aG(e,t){var r;return Gf(e,t)?r="trapezoids":Vf(e,t)?r="sectors":Zl(e,t)&&(r="points"),r}function sG(e,t){if(Gf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zl(e,t)?t.payload:{}}function iG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=aG(r,t),o=sG(r,t),l=n.filter(function(d,f){var p=wc(o,d),m=r.props[s].filter(function(b){var j=nG(r,t);return j(b,t)}),x=r.props[s].indexOf(m[m.length-1]),v=f===x;return p&&v}),u=n.indexOf(l[l.length-1]);return u}var nd;function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(this,arguments)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pT(n.key),n)}}function lG(e,t,r){return t&&BA(e.prototype,t),r&&BA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cG(e,t,r){return t=Kd(t),uG(e,mT()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function uG(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dG(e)}function dG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mT=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function fG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yv(e,t)}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yv(e,t)}function $r(e,t,r){return t=pT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pT(e){var t=hG(e,"string");return Ii(t)=="symbol"?t:t+""}function hG(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=(function(e){function t(r){var n;return oG(this,t),n=cG(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",to("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ie(s)&&s()}),$r(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ie(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return fG(t,e),lG(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,p=_e(this.props,!1),m=_e(l,!1),x=_e(u,!1),v=l&&l.offsetRadius||20,b=n.map(function(j,y){var k=(j.startAngle+j.endAngle)/2,_=at(j.cx,j.cy,j.outerRadius+v,k),E=rt(rt(rt(rt({},p),j),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(_.x,j.cx)},_),S=rt(rt(rt(rt({},p),j),{},{fill:"none",stroke:j.fill},x),{},{index:y,points:[at(j.cx,j.cy,j.outerRadius,k),_]}),N=d;return De(d)&&De(f)?N="value":De(d)&&(N=f),V.createElement(Ke,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,S,"line"),t.renderLabelItem(l,E,Pt(j,N)))});return V.createElement(Ke,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var s=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(p),x=d&&s.hasActiveIndex()?d:null,v=m?l:x,b=rt(rt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(Ke,li({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ys(s.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),V.createElement(hT,li({option:v,isActive:m,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,o=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state,x=m.prevSectors,v=m.prevIsAnimationActive;return V.createElement(jn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var j=b.t,y=[],k=o&&o[0],_=k.startAngle;return o.forEach(function(E,S){var N=x&&x[S],P=S>0?Nr(E,"paddingAngle",0):0;if(N){var C=jr(N.endAngle-N.startAngle,E.endAngle-E.startAngle),R=rt(rt({},E),{},{startAngle:_+P,endAngle:_+C(j)+P});y.push(R),_=R.endAngle}else{var M=E.endAngle,L=E.startAngle,T=jr(0,M-L),$=T(j),G=rt(rt({},E),{},{startAngle:_+P,endAngle:_+$+P});y.push(G),_=G.endAngle}}),V.createElement(Ke,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&s&&s.length&&(!l||!wc(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,o=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,p=s.cy,m=s.innerRadius,x=s.outerRadius,v=s.isAnimationActive,b=this.state.isAnimationFinished;if(o||!l||!l.length||!xe(f)||!xe(p)||!xe(m)||!xe(x))return null;var j=Le("recharts-pie",u);return V.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:j,ref:function(k){n.pieRef=k}},this.renderSectors(),d&&this.renderLabels(l),Dt.renderCallByParent(this.props,null,!1),(!v||b)&&Un.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,o){if(V.isValidElement(n))return V.cloneElement(n,s);if(Ie(n))return n(s);var l=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement($d,li({},s,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,s,o){if(V.isValidElement(n))return V.cloneElement(n,s);var l=o;if(Ie(n)&&(l=n(s),V.isValidElement(l)))return l;var u=Le("recharts-pie-label-text",typeof n!="boolean"&&!Ie(n)?n.className:"");return V.createElement(vs,li({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(O.PureComponent);nd=Qn;$r(Qn,"displayName","Pie");$r(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Os.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Qn,"parseDeltaAngle",function(e,t){var r=er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Qn,"getRealPieData",function(e){var t=e.data,r=e.children,n=_e(e,!1),s=Sr(r,Cf);return t&&t.length?t.map(function(o,l){return rt(rt(rt({payload:o},n),o),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(o){return rt(rt({},n),o.props)}):[]});$r(Qn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,o=t.height,l=Q5(s,o),u=n+tr(e.cx,s,s/2),d=r+tr(e.cy,o,o/2),f=tr(e.innerRadius,l,0),p=tr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});$r(Qn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?rt(rt({},t.type.defaultProps),t.props):t.props,s=nd.getRealPieData(n);if(!s||!s.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,x=n.tooltipType,v=Math.abs(n.minAngle),b=nd.parseCoordinateOfPie(n,r),j=nd.parseDeltaAngle(l,u),y=Math.abs(j),k=f;De(f)&&De(m)?(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):De(f)&&(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var _=s.filter(function(R){return Pt(R,k,0)!==0}).length,E=(y>=360?_:_-1)*d,S=y-_*v-E,N=s.reduce(function(R,M){var L=Pt(M,k,0);return R+(xe(L)?L:0)},0),P;if(N>0){var C;P=s.map(function(R,M){var L=Pt(R,k,0),T=Pt(R,p,M),$=(xe(L)?L:0)/N,G;M?G=C.endAngle+er(j)*d*(L!==0?1:0):G=l;var Q=G+er(j)*((L!==0?v:0)+$*S),z=(G+Q)/2,B=(b.innerRadius+b.outerRadius)/2,U=[{name:T,value:L,payload:R,dataKey:k,type:x}],H=at(b.cx,b.cy,B,z);return C=rt(rt(rt({percent:$,cornerRadius:o,name:T,tooltipPayload:U,midAngle:z,middleRadius:B,tooltipPosition:H},R),b),{},{value:Pt(R,k),startAngle:G,endAngle:Q,payload:R,paddingAngle:er(j)*d}),C})}return rt(rt({},b),{},{sectors:P,data:s})});var D0,qA;function mG(){if(qA)return D0;qA=1;var e=Math.ceil,t=Math.max;function r(n,s,o,l){for(var u=-1,d=t(e((s-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return D0=r,D0}var L0,zA;function gT(){if(zA)return L0;zA=1;var e=FE(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var o=s<0?-1:1;return o*r}return s===s?s:0}return L0=n,L0}var F0,UA;function pG(){if(UA)return F0;UA=1;var e=mG(),t=_f(),r=gT();function n(s){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,s)}}return F0=n,F0}var B0,WA;function gG(){if(WA)return B0;WA=1;var e=pG(),t=e();return B0=t,B0}var xG=gG();const Gd=Xe(xG);function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xT(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=vG(e,"string");return ec(t)=="symbol"?t:t+""}function vG(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bG=["Webkit","Moz","O","ms"],jG=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),s=bG.reduce(function(o,l){return KA(KA({},o),{},xT({},l+n,r))},{});return s[t]=r,s};function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vT(n.key),n)}}function NG(e,t,r){return t&&VA(e.prototype,t),r&&VA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SG(e,t,r){return t=Yd(t),kG(e,yT()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function kG(e,t){if(t&&($i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OG(e)}function OG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yT=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vv(e,t)}function vr(e,t,r){return t=vT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vT(e){var t=AG(e,"string");return $i(t)=="symbol"?t:t+""}function AG(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _G=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=ml().domain(Gd(0,d)).range([o,o+l-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(s),scale:f,scaleValues:p}},YA=function(t){return t.changedTouches&&!!t.changedTouches.length},Di=(function(e){function t(r){var n;return wG(this,t),n=SG(this,t,[r]),vr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),vr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vr(n,"handleSlideDragStart",function(s){var o=YA(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return PG(t,e),NG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(s,o),x=Math.max(s,o),v=t.getIndexInRange(l,m),b=t.getIndexInRange(l,x);return{startIndex:v-v%d,endIndex:b===p?p:b-b%d}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,l=s.tickFormatter,u=s.dataKey,d=Pt(o[n],u,n);return Ie(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,x=d.startIndex,v=d.endIndex,b=d.onChange,j=n.pageX-o;j>0?j=Math.min(j,f+p-m-u,f+p-m-l):j<0&&(j=Math.max(j,f-l,f-u));var y=this.getIndex({startX:l+j,endX:u+j});(y.startIndex!==x||y.endIndex!==v)&&b&&b(y),this.setState({startX:l+j,endX:u+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=YA(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],p=this.props,m=p.x,x=p.width,v=p.travellerWidth,b=p.onChange,j=p.gap,y=p.data,k={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,m+x-v-f):_<0&&(_=Math.max(_,m-f)),k[l]=f+_;var E=this.getIndex(k),S=E.startIndex,N=E.endIndex,P=function(){var R=y.length-1;return l==="startX"&&(u>d?S%j===0:N%j===0)||u<d&&N===R||l==="endX"&&(u>d?N%j===0:S%j===0)||u>d&&N===R};this.setState(vr(vr({},l,f+_),"brushMoveStartX",n.pageX),function(){b&&P()&&b(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var x=m+n;if(!(x===-1||x>=u.length)){var v=u[x];s==="startX"&&v>=f||s==="endX"&&v<=d||this.setState(vr({},s,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return V.createElement("rect",{stroke:f,fill:d,x:s,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=O.Children.only(f);return m?V.cloneElement(m,{x:s,y:o,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,x=d.traveller,v=d.ariaLabel,b=d.data,j=d.startIndex,y=d.endIndex,k=Math.max(n,this.props.x),_=q0(q0({},_e(this.props,!1)),{},{x:k,y:f,width:p,height:m}),E=v||"Min value: ".concat((o=b[j])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=b[y])===null||l===void 0?void 0:l.name);return V.createElement(Ke,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,_))}},{key:"renderSlide",value:function(n,s){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,p=Math.min(n,s)+f,m=Math.max(Math.abs(s-n)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,x=p.endX,v=5,b={pointerEvents:"none",fill:f};return V.createElement(Ke,{className:"recharts-brush-texts"},V.createElement(vs,Vd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-v,y:l+u/2},b),this.getTextOfTick(s)),V.createElement(vs,Vd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+d+v,y:l+u/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,x=this.state,v=x.startX,b=x.endX,j=x.isTextActive,y=x.isSlideMoving,k=x.isTravellerMoving,_=x.isTravellerFocused;if(!s||!s.length||!xe(u)||!xe(d)||!xe(f)||!xe(p)||f<=0||p<=0)return null;var E=Le("recharts-brush",o),S=V.Children.count(l)===1,N=jG("userSelect","none");return V.createElement(Ke,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(j||y||k||_||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:o,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return V.isValidElement(n)?o=V.cloneElement(n,s):Ie(n)?o=n(s):o=t.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(o!==s.prevData||f!==s.prevUpdateId)return q0({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?_G({data:o,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var x=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>s?u=d:l=d}return s>=n[u]?u:l}}])})(O.PureComponent);vr(Di,"displayName","Brush");vr(Di,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var z0,XA;function CG(){if(XA)return z0;XA=1;var e=yb();function t(r,n){var s;return e(r,function(o,l,u){return s=n(o,l,u),!s}),!!s}return z0=t,z0}var U0,QA;function EG(){if(QA)return U0;QA=1;var e=gE(),t=Sn(),r=CG(),n=hr(),s=_f();function o(l,u,d){var f=n(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return U0=o,U0}var TG=EG();const RG=Xe(TG);var vn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},W0,JA;function MG(){if(JA)return W0;JA=1;var e=ME();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return W0=t,W0}var H0,ZA;function IG(){if(ZA)return H0;ZA=1;var e=MG(),t=TE(),r=Sn();function n(s,o){var l={};return o=r(o,3),t(s,function(u,d,f){e(l,d,o(u,d,f))}),l}return H0=n,H0}var $G=IG();const DG=Xe($G);var K0,e_;function LG(){if(e_)return K0;e_=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return K0=e,K0}var G0,t_;function FG(){if(t_)return G0;t_=1;var e=yb();function t(r,n){var s=!0;return e(r,function(o,l,u){return s=!!n(o,l,u),s}),s}return G0=t,G0}var V0,r_;function BG(){if(r_)return V0;r_=1;var e=LG(),t=FG(),r=Sn(),n=hr(),s=_f();function o(l,u,d){var f=n(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return V0=o,V0}var qG=BG();const bT=Xe(qG);var zG=["x","y"];function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=HG(e,"string");return tc(t)=="symbol"?t:t+""}function HG(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KG(e,t){if(e==null)return{};var r=GG(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VG(e,t){var r=e.x,n=e.y,s=KG(e,zG),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||s.height),p=parseInt(f,10),m="".concat(t.width||s.width),x=parseInt(m,10);return ol(ol(ol(ol(ol({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function a_(e){return V.createElement(hT,bv({shapeType:"rectangle",propTransformer:VG,activeClassName:"recharts-active-bar"},e))}var YG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var o=xe(n)||pD(n);return o?t(n,s):(o||js(),r)}},XG=["value","background"],jT;function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function QG(e,t){if(e==null)return{};var r=JG(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(this,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NT(n.key),n)}}function eV(e,t,r){return t&&i_(e.prototype,t),r&&i_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tV(e,t,r){return t=Qd(t),rV(e,wT()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function rV(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nV(e)}function nV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function aV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function jv(e,t){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jv(e,t)}function Pa(e,t,r){return t=NT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e){var t=sV(e,"string");return Li(t)=="symbol"?t:t+""}function sV(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ea=(function(e){function t(){var r;ZG(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=tV(this,t,[].concat(s)),Pa(r,"state",{isAnimationFinished:!1}),Pa(r,"id",to("recharts-bar-")),Pa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Pa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return aV(t,e),eV(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,p=_e(this.props,!1);return n&&n.map(function(m,x){var v=x===d,b=v?f:l,j=jt(jt(jt({},p),m),{},{isActive:v,option:b,index:x,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ke,Xd({className:"recharts-bar-rectangle"},ys(s.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),V.createElement(a_,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,m=s.animationId,x=this.state.prevData;return V.createElement(jn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,j=o.map(function(y,k){var _=x&&x[k];if(_){var E=jr(_.x,y.x),S=jr(_.y,y.y),N=jr(_.width,y.width),P=jr(_.height,y.height);return jt(jt({},y),{},{x:E(b),y:S(b),width:N(b),height:P(b)})}if(l==="horizontal"){var C=jr(0,y.height),R=C(b);return jt(jt({},y),{},{y:y.y+y.height-R,height:R})}var M=jr(0,y.width),L=M(b);return jt(jt({},y),{},{width:L})});return V.createElement(Ke,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&s&&s.length&&(!l||!wc(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,l=s.dataKey,u=s.activeIndex,d=_e(this.props.background,!1);return o.map(function(f,p){f.value;var m=f.background,x=QG(f,XG);if(!m)return null;var v=jt(jt(jt(jt(jt({},x),{},{fill:"#eee"},m),d),ys(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return V.createElement(a_,Xd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Sr(p,Nc);if(!m)return null;var x=f==="vertical"?l[0].height/2:l[0].width/2,v=function(y,k){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Pt(y,k)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ke,b,m.map(function(j){return V.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,x=n.height,v=n.isAnimationActive,b=n.background,j=n.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,k=Le("recharts-bar",l),_=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,S=_||E,N=De(j)?this.id:j;return V.createElement(Ke,{className:k},_||E?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(N)},V.createElement("rect",{x:_?f:f-m/2,y:E?p:p-x/2,width:_?m:m*2,height:E?x:x*2}))):null,V.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!v||y)&&Un.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(O.PureComponent);jT=Ea;Pa(Ea,"displayName","Bar");Pa(Ea,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Os.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pa(Ea,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,v=C9(n,r);if(!v)return null;var b=t.layout,j=r.type.defaultProps,y=j!==void 0?jt(jt({},j),r.props):r.props,k=y.dataKey,_=y.children,E=y.minPointSize,S=b==="horizontal"?l:o,N=f?S.scale.domain():null,P=D9({numericAxis:S}),C=Sr(_,Cf),R=m.map(function(M,L){var T,$,G,Q,z,B;f?T=E9(f[p+L],N):(T=Pt(M,k),Array.isArray(T)||(T=[P,T]));var U=YG(E,jT.defaultProps.minPointSize)(T[1],L);if(b==="horizontal"){var H,Y=[l.scale(T[0]),l.scale(T[1])],q=Y[0],F=Y[1];$=MP({axis:o,ticks:u,bandSize:s,offset:v.offset,entry:M,index:L}),G=(H=F??q)!==null&&H!==void 0?H:void 0,Q=v.size;var D=q-F;if(z=Number.isNaN(D)?0:D,B={x:$,y:l.y,width:Q,height:l.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var K=er(z||U)*(Math.abs(U)-Math.abs(z));G-=K,z+=K}}else{var ie=[o.scale(T[0]),o.scale(T[1])],ue=ie[0],se=ie[1];if($=ue,G=MP({axis:l,ticks:d,bandSize:s,offset:v.offset,entry:M,index:L}),Q=se-ue,z=v.size,B={x:o.x,y:G,width:o.width,height:z},Math.abs(U)>0&&Math.abs(Q)<Math.abs(U)){var te=er(Q||U)*(Math.abs(U)-Math.abs(Q));Q+=te}}return jt(jt(jt({},M),{},{x:$,y:G,width:Q,height:z,value:f?T:T[1],payload:M,background:B},C&&C[L]&&C[L].props),{},{tooltipPayload:[Y5(r,M)],tooltipPosition:{x:$+Q/2,y:G+z/2}})});return jt({data:R,layout:b},x)});function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function iV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function oV(e,t,r){return t&&o_(e.prototype,t),r&&o_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){Yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e,t,r){return t=ST(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=lV(e,"string");return rc(t)=="symbol"?t:t+""}function lV(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kT=function(t,r,n,s,o){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!br(f,Ea);return p.reduce(function(v,b){var j=r[b],y=j.orientation,k=j.domain,_=j.padding,E=_===void 0?{}:_,S=j.mirror,N=j.reversed,P="".concat(y).concat(S?"Mirror":""),C,R,M,L,T;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var $=k[1]-k[0],G=1/0,Q=j.categoricalDomain.sort(yD);if(Q.forEach(function(ie,ue){ue>0&&(G=Math.min((ie||0)-(Q[ue-1]||0),G))}),Number.isFinite(G)){var z=G/$,B=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(C=z*B/2),j.padding==="no-gap"){var U=tr(t.barCategoryGap,z*B),H=z*B/2;C=H-U-(H-U)/B*U}}}s==="xAxis"?R=[n.left+(E.left||0)+(C||0),n.left+n.width-(E.right||0)-(C||0)]:s==="yAxis"?R=d==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(C||0),n.top+n.height-(E.bottom||0)-(C||0)]:R=j.range,N&&(R=[R[1],R[0]]);var Y=H5(j,o,x),q=Y.scale,F=Y.realScaleType;q.domain(k).range(R),K5(q);var D=G5(q,Zr(Zr({},j),{},{realScaleType:F}));s==="xAxis"?(T=y==="top"&&!S||y==="bottom"&&S,M=n.left,L=m[P]-T*j.height):s==="yAxis"&&(T=y==="left"&&!S||y==="right"&&S,M=m[P]-T*j.width,L=n.top);var K=Zr(Zr(Zr({},j),D),{},{realScaleType:F,x:M,y:L,scale:q,width:s==="xAxis"?n.width:j.width,height:s==="yAxis"?n.height:j.height});return K.bandSize=Rd(K,D),!j.hide&&s==="xAxis"?m[P]+=(T?-1:1)*K.height:j.hide||(m[P]+=(T?-1:1)*K.width),Zr(Zr({},v),{},Yf({},b,K))},{})},OT=function(t,r){var n=t.x,s=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(s,l),width:Math.abs(o-n),height:Math.abs(l-s)}},cV=function(t){var r=t.x1,n=t.y1,s=t.x2,o=t.y2;return OT({x:r,y:n},{x:s,y:o})},PT=(function(){function e(t){iV(this,e),this.scale=t}return oV(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Yf(PT,"EPS",1e-4);var Vb=function(t){var r=Object.keys(t).reduce(function(n,s){return Zr(Zr({},n),{},Yf({},s,PT.create(t[s])))},{});return Zr(Zr({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return DG(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return bT(s,function(o,l){return r[l].isInRange(o)})}})};function uV(e){return(e%180+180)%180}var dV=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=uV(s),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Y0,c_;function fV(){if(c_)return Y0;c_=1;var e=Sn(),t=xc(),r=Pf();function n(s){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(m){return f(d[m],m,d)}}var p=s(o,l,u);return p>-1?d[f?o[p]:p]:void 0}}return Y0=n,Y0}var X0,u_;function hV(){if(u_)return X0;u_=1;var e=gT();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return X0=t,X0}var Q0,d_;function mV(){if(d_)return Q0;d_=1;var e=PE(),t=Sn(),r=hV(),n=Math.max;function s(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return Q0=s,Q0}var J0,f_;function pV(){if(f_)return J0;f_=1;var e=fV(),t=mV(),r=e(t);return J0=r,J0}var gV=pV();const xV=Xe(gV);var yV=UC();const vV=Xe(yV);var bV=vV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Yb=O.createContext(void 0),Xb=O.createContext(void 0),AT=O.createContext(void 0),_T=O.createContext({}),CT=O.createContext(void 0),ET=O.createContext(0),TT=O.createContext(0),h_=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=bV(o);return V.createElement(Yb.Provider,{value:n},V.createElement(Xb.Provider,{value:s},V.createElement(_T.Provider,{value:o},V.createElement(AT.Provider,{value:p},V.createElement(CT.Provider,{value:l},V.createElement(ET.Provider,{value:f},V.createElement(TT.Provider,{value:d},u)))))))},jV=function(){return O.useContext(CT)},RT=function(t){var r=O.useContext(Yb);r==null&&js();var n=r[t];return n==null&&js(),n},wV=function(){var t=O.useContext(Yb);return va(t)},NV=function(){var t=O.useContext(Xb),r=xV(t,function(n){return bT(n.domain,Number.isFinite)});return r||va(t)},MT=function(t){var r=O.useContext(Xb);r==null&&js();var n=r[t];return n==null&&js(),n},SV=function(){var t=O.useContext(AT);return t},kV=function(){return O.useContext(_T)},Qb=function(){return O.useContext(TT)},Jb=function(){return O.useContext(ET)};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function OV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$T(n.key),n)}}function AV(e,t,r){return t&&PV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _V(e,t,r){return t=Jd(t),CV(e,IT()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function CV(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EV(e)}function EV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IT=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function TV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wv(e,t)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){Zb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zb(e,t,r){return t=$T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $T(e){var t=RV(e,"string");return Fi(t)=="symbol"?t:t+""}function RV(e,t){if(Fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MV(e,t){return LV(e)||DV(e,t)||$V(e,t)||IV()}function IV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function LV(e){if(Array.isArray(e))return e}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}var FV=function(t,r){var n;return V.isValidElement(t)?n=V.cloneElement(t,r):Ie(t)?n=t(r):n=V.createElement("line",Nv({},r,{className:"recharts-reference-line-line"})),n},BV=function(t,r,n,s,o,l,u,d,f){var p=o.x,m=o.y,x=o.width,v=o.height;if(n){var b=f.y,j=t.y.apply(b,{position:l});if(vn(f,"discard")&&!t.y.isInRange(j))return null;var y=[{x:p+x,y:j},{x:p,y:j}];return d==="left"?y.reverse():y}if(r){var k=f.x,_=t.x.apply(k,{position:l});if(vn(f,"discard")&&!t.x.isInRange(_))return null;var E=[{x:_,y:m+v},{x:_,y:m}];return u==="top"?E.reverse():E}if(s){var S=f.segment,N=S.map(function(P){return t.apply(P,{position:l})});return vn(f,"discard")&&RG(N,function(P){return!t.isInRange(P)})?null:N}return null};function qV(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=jV(),p=RT(s),m=MT(o),x=SV();if(!f||!x)return null;rn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Vb({x:p.scale,y:m.scale}),b=_t(t),j=_t(r),y=n&&n.length===2,k=BV(v,b,j,y,x,e.position,p.orientation,m.orientation,e);if(!k)return null;var _=MV(k,2),E=_[0],S=E.x,N=E.y,P=_[1],C=P.x,R=P.y,M=vn(e,"hidden")?"url(#".concat(f,")"):void 0,L=p_(p_({clipPath:M},_e(e,!0)),{},{x1:S,y1:N,x2:C,y2:R});return V.createElement(Ke,{className:Le("recharts-reference-line",u)},FV(l,L),Dt.renderCallByParent(e,cV({x1:S,y1:N,x2:C,y2:R})))}var ej=(function(e){function t(){return OV(this,t),_V(this,t,arguments)}return TV(t,e),AV(t,[{key:"render",value:function(){return V.createElement(qV,this.props)}}])})(V.Component);Zb(ej,"displayName","ReferenceLine");Zb(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(this,arguments)}function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LT(n.key),n)}}function WV(e,t,r){return t&&UV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HV(e,t,r){return t=Zd(t),KV(e,DT()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GV(e)}function GV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function VV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kv(e,t)}function kv(e,t){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kv(e,t)}function Xf(e,t,r){return t=LT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LT(e){var t=YV(e,"string");return Bi(t)=="symbol"?t:t+""}function YV(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XV=function(t){var r=t.x,n=t.y,s=t.xAxis,o=t.yAxis,l=Vb({x:s.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return vn(t,"discard")&&!l.isInRange(u)?null:u},Qf=(function(e){function t(){return zV(this,t),HV(this,t,arguments)}return VV(t,e),WV(t,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=_t(s),p=_t(o);if(rn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=XV(this.props);if(!m)return null;var x=m.x,v=m.y,b=this.props,j=b.shape,y=b.className,k=vn(this.props,"hidden")?"url(#".concat(d,")"):void 0,_=y_(y_({clipPath:k},_e(this.props,!0)),{},{cx:x,cy:v});return V.createElement(Ke,{className:Le("recharts-reference-dot",y)},t.renderDot(j,_),Dt.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(V.Component);Xf(Qf,"displayName","ReferenceDot");Xf(Qf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xf(Qf,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ie(e)?r=e(t):r=V.createElement(zf,Sv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(this,arguments)}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BT(n.key),n)}}function ZV(e,t,r){return t&&JV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eY(e,t,r){return t=ef(t),tY(e,FT()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function tY(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rY(e)}function rY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function nY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Pv(e,t)}function Jf(e,t,r){return t=BT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BT(e){var t=aY(e,"string");return qi(t)=="symbol"?t:t+""}function aY(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sY=function(t,r,n,s,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var x=Vb({x:p.scale,y:m.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},b={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(f,{position:"end"}):x.y.rangeMax};return vn(o,"discard")&&(!x.isInRange(v)||!x.isInRange(b))?null:OT(v,b)},Zf=(function(e){function t(){return QV(this,t),eY(this,t,arguments)}return nY(t,e),ZV(t,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;rn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=_t(s),x=_t(o),v=_t(l),b=_t(u),j=this.props.shape;if(!m&&!x&&!v&&!b&&!j)return null;var y=sY(m,x,v,b,this.props);if(!y&&!j)return null;var k=vn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return V.createElement(Ke,{className:Le("recharts-reference-area",d)},t.renderRect(j,b_(b_({clipPath:k},_e(this.props,!0)),y)),Dt.renderCallByParent(this.props,y))}}])})(V.Component);Jf(Zf,"displayName","ReferenceArea");Jf(Zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jf(Zf,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ie(e)?r=e(t):r=V.createElement(Gb,Ov({},t,{className:"recharts-reference-area-rect"})),r});function qT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function iY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dV(n,r)}function oY(e,t,r){var n=r==="width",s=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?s:o,end:n?s+l:o+u}:{start:n?s+l:o+u,end:n?s:o}}function tf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function lY(e,t){return qT(e,t+1)}function cY(e,t,r,n,s){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,m=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:qT(n,f)};var j=d,y,k=function(){return y===void 0&&(y=r(b,j)),y},_=b.coordinate,E=d===0||tf(e,_,k,p,u);E||(d=0,p=l,f+=1),E&&(p=_+e*(k()/2+s),d+=f)},x;f<=o.length;)if(x=m(),x)return x.v;return[]}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return t=dY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return nc(t)=="symbol"?t:t+""}function fY(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e,t,r,n,s){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(x){var v=o[x],b,j=function(){return b===void 0&&(b=r(v,x)),b};if(x===l-1){var y=e*(v.coordinate+e*j()/2-d);o[x]=v=Vt(Vt({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else o[x]=v=Vt(Vt({},v),{},{tickCoord:v.coordinate});var k=tf(e,v.tickCoord,j,u,d);k&&(d=v.tickCoord-e*(j()/2+s),o[x]=Vt(Vt({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return o}function mY(e,t,r,n,s,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var p=n[u-1],m=r(p,u-1),x=e*(p.coordinate+e*m/2-f);l[u-1]=p=Vt(Vt({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var v=tf(e,p.tickCoord,function(){return m},d,f);v&&(f=p.tickCoord-e*(m/2+s),l[u-1]=Vt(Vt({},p),{},{isShow:!0}))}for(var b=o?u-1:u,j=function(_){var E=l[_],S,N=function(){return S===void 0&&(S=r(E,_)),S};if(_===0){var P=e*(E.coordinate-e*N()/2-d);l[_]=E=Vt(Vt({},E),{},{tickCoord:P<0?E.coordinate-P*e:E.coordinate})}else l[_]=E=Vt(Vt({},E),{},{tickCoord:E.coordinate});var C=tf(e,E.tickCoord,N,d,f);C&&(d=E.tickCoord+e*(N()/2+s),l[_]=Vt(Vt({},E),{},{isShow:!0}))},y=0;y<b;y++)j(y);return l}function tj(e,t,r){var n=e.tick,s=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!n)return[];if(xe(d)||Os.isSsr)return lY(s,typeof d=="number"&&xe(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",b=p&&v==="width"?hl(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=function(E,S){var N=Ie(f)?f(E.value,S):E.value;return v==="width"?iY(hl(N,{fontSize:t,letterSpacing:r}),b,m):hl(N,{fontSize:t,letterSpacing:r})[v]},y=s.length>=2?er(s[1].coordinate-s[0].coordinate):1,k=oY(o,y,v);return d==="equidistantPreserveStart"?cY(y,k,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?x=mY(y,k,j,s,l,d==="preserveStartEnd"):x=hY(y,k,j,s,l),x.filter(function(_){return _.isShow}))}var pY=["viewBox"],gY=["viewBox"],xY=["ticks"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){rj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z0(e,t){if(e==null)return{};var r=yY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UT(n.key),n)}}function bY(e,t,r){return t&&N_(e.prototype,t),r&&N_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jY(e,t,r){return t=rf(t),wY(e,zT()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function wY(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function SY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Av(e,t)}function rj(e,t,r){return t=UT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=kY(e,"string");return zi(t)=="symbol"?t:t+""}function kY(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=(function(e){function t(r){var n;return vY(this,t),n=jY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return SY(t,e),bY(t,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,l=Z0(n,pY),u=this.props,d=u.viewBox,f=Z0(u,gY);return!di(o,d)||!di(l,f)||!di(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,m=s.mirror,x=s.tickMargin,v,b,j,y,k,_,E=m?-1:1,S=n.tickSize||p,N=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=b=n.coordinate,y=l+ +!m*d,j=y-E*S,_=j-E*x,k=N;break;case"left":j=y=n.coordinate,b=o+ +!m*u,v=b-E*S,k=v-E*x,_=N;break;case"right":j=y=n.coordinate,b=o+ +m*u,v=b+E*S,k=v+E*x,_=N;break;default:v=b=n.coordinate,y=l+ +m*d,j=y+E*S,_=j+E*x,k=N;break}return{line:{x1:v,y1:j,x2:b,y2:y},tick:{x:k,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,l;switch(s){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=kt(kt(kt({},_e(this.props,!1)),_e(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!f||d==="bottom"&&f);m=kt(kt({},m),{},{x1:s,y1:o+x*u,x2:s+l,y2:o+x*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);m=kt(kt({},m),{},{x1:s+v*l,y1:o,x2:s+v*l,y2:o+u})}return V.createElement("line",ci({},m,{className:Le("recharts-cartesian-axis-line",Nr(p,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,x=u.unit,v=tj(kt(kt({},this.props),{},{ticks:n}),s,o),b=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=_e(this.props,!1),k=_e(p,!1),_=kt(kt({},y),{},{fill:"none"},_e(d,!1)),E=v.map(function(S,N){var P=l.getTickLineCoord(S),C=P.line,R=P.tick,M=kt(kt(kt(kt({textAnchor:b,verticalAnchor:j},y),{},{stroke:"none",fill:f},k),R),{},{index:N,payload:S,visibleTicksCount:v.length,tickFormatter:m});return V.createElement(Ke,ci({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ys(l.props,S,N)),d&&V.createElement("line",ci({},_,C,{className:Le("recharts-cartesian-axis-tick-line",Nr(d,"className"))})),p&&t.renderTickItem(p,M,"".concat(Ie(m)?m(S.value,N):S.value).concat(x||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,p=s.hide;if(p)return null;var m=this.props,x=m.ticks,v=Z0(m,xY),b=x;return Ie(d)&&(b=x&&x.length>0?d(this.props):d(v)),l<=0||u<=0||!b||!b.length?null:V.createElement(Ke,{className:Le("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var l,u=Le(s.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(n)?l=V.cloneElement(n,kt(kt({},s),{},{className:u})):Ie(n)?l=n(kt(kt({},s),{},{className:u})):l=V.createElement(vs,ci({},s,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(O.Component);rj(io,"displayName","CartesianAxis");rj(io,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OY=["x1","y1","x2","y2","key"],PY=["offset"];function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){AY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AY(e,t,r){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=CY(e,"string");return ws(t)=="symbol"?t:t+""}function CY(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function k_(e,t){if(e==null)return{};var r=EY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:s,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WT(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,l=t.y2,u=t.key,d=k_(t,OY),f=_e(d,!1);f.offset;var p=k_(f,PY);r=V.createElement("line",is({},p,{x1:n,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function RY(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var f=Yt(Yt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return WT(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function MY(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var f=Yt(Yt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return WT(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function IY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(x){return Math.round(x+s-s)}).sort(function(x,v){return x-v});s!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var b=!p[v+1],j=b?s+l-x:p[v+1]-x;if(j<=0)return null;var y=v%t.length;return V.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:j,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function $Y(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var b=!p[v+1],j=b?o+u-x:p[v+1]-x;if(j<=0)return null;var y=v%n.length;return V.createElement("rect",{key:"react-".concat(v),x,y:l,width:j,height:d,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var DY=function(t,r){var n=t.xAxis,s=t.width,o=t.height,l=t.offset;return W5(tj(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.left,l.left+l.width,r)},LY=function(t,r){var n=t.yAxis,s=t.width,o=t.height,l=t.offset;return W5(tj(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.top,l.top+l.height,r)},ni={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nj(e){var t,r,n,s,o,l,u=Qb(),d=Jb(),f=kV(),p=Yt(Yt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ni.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ni.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ni.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ni.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ni.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ni.verticalFill,x:xe(e.x)?e.x:f.left,y:xe(e.y)?e.y:f.top,width:xe(e.width)?e.width:f.width,height:xe(e.height)?e.height:f.height}),m=p.x,x=p.y,v=p.width,b=p.height,j=p.syncWithTicks,y=p.horizontalValues,k=p.verticalValues,_=wV(),E=NV();if(!xe(v)||v<=0||!xe(b)||b<=0||!xe(m)||m!==+m||!xe(x)||x!==+x)return null;var S=p.verticalCoordinatesGenerator||DY,N=p.horizontalCoordinatesGenerator||LY,P=p.horizontalPoints,C=p.verticalPoints;if((!P||!P.length)&&Ie(N)){var R=y&&y.length,M=N({yAxis:E?Yt(Yt({},E),{},{ticks:R?y:E.ticks}):void 0,width:u,height:d,offset:f},R?!0:j);rn(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ws(M),"]")),Array.isArray(M)&&(P=M)}if((!C||!C.length)&&Ie(S)){var L=k&&k.length,T=S({xAxis:_?Yt(Yt({},_),{},{ticks:L?k:_.ticks}):void 0,width:u,height:d,offset:f},L?!0:j);rn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ws(T),"]")),Array.isArray(T)&&(C=T)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(TY,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),V.createElement(RY,is({},p,{offset:f,horizontalPoints:P,xAxis:_,yAxis:E})),V.createElement(MY,is({},p,{offset:f,verticalPoints:C,xAxis:_,yAxis:E})),V.createElement(IY,is({},p,{horizontalPoints:P})),V.createElement($Y,is({},p,{verticalPoints:C})))}nj.displayName="CartesianGrid";var FY=["type","layout","connectNulls","ref"],BY=["key"];function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function O_(e,t){if(e==null)return{};var r=qY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ai(e){return HY(e)||WY(e)||UY(e)||zY()}function zY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(e,t)}}function WY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HY(e){if(Array.isArray(e))return _v(e)}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KT(n.key),n)}}function GY(e,t,r){return t&&A_(e.prototype,t),r&&A_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VY(e,t,r){return t=nf(t),YY(e,HT()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function YY(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(e)}function XY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function QY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cv(e,t)}function en(e,t,r){return t=KT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KT(e){var t=JY(e,"string");return Ui(t)=="symbol"?t:t+""}function JY(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wi=(function(e){function t(){var r;KY(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=VY(this,t,[].concat(s)),en(r,"state",{isAnimationFinished:!0,totalLength:0}),en(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),en(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(k,_){return k+_});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),m=l%f,x=u-l,v=[],b=0,j=0;b<d.length;j+=d[b],++b)if(j+d[b]>m){v=[].concat(ai(d.slice(0,b)),[m-j]);break}var y=v.length%2===0?[0,x]:[x];return[].concat(ai(t.repeat(d,p)),ai(v),y).map(function(k){return"".concat(k,"px")}).join(", ")}),en(r,"id",to("recharts-line-")),en(r,"pathRef",function(l){r.mainCurve=l}),en(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),en(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return QY(t,e),GY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Sr(p,Nc);if(!m)return null;var x=function(j,y){return{x:j.x,y:j.y,value:j.value,errorVal:Pt(j.payload,y)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ke,v,m.map(function(b){return V.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,s,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=_e(this.props,!1),x=_e(d,!0),v=f.map(function(j,y){var k=yr(yr(yr({key:"dot-".concat(y),r:3},m),x),{},{index:y,cx:j.x,cy:j.y,value:j.value,dataKey:p,payload:j.payload,points:f});return t.renderDotItem(d,k)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return V.createElement(Ke,vl({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,s,o,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=O_(u,FY),x=yr(yr(yr({},_e(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:p});return V.createElement($d,vl({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,x=l.animationEasing,v=l.animationId,b=l.animateNewValues,j=l.width,y=l.height,k=this.state,_=k.prevPoints,E=k.totalLength;return V.createElement(jn,{begin:p,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(_){var P=_.length/u.length,C=u.map(function($,G){var Q=Math.floor(G*P);if(_[Q]){var z=_[Q],B=jr(z.x,$.x),U=jr(z.y,$.y);return yr(yr({},$),{},{x:B(N),y:U(N)})}if(b){var H=jr(j*2,$.x),Y=jr(y/2,$.y);return yr(yr({},$),{},{x:H(N),y:Y(N)})}return yr(yr({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(C,n,s)}var R=jr(0,E),M=R(N),L;if(d){var T="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});L=o.getStrokeDasharray(M,E,T)}else L=o.generateSimpleStrokeDasharray(E,M);return o.renderCurveStatically(u,n,s,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,s){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!wc(f,l))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(l,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,p=s.yAxis,m=s.top,x=s.left,v=s.width,b=s.height,j=s.isAnimationActive,y=s.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,_=u.length===1,E=Le("recharts-line",d),S=f&&f.allowDataOverflow,N=p&&p.allowDataOverflow,P=S||N,C=De(y)?this.id:y,R=(n=_e(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=R.r,L=M===void 0?3:M,T=R.strokeWidth,$=T===void 0?2:T,G=PD(l)?l:{},Q=G.clipDot,z=Q===void 0?!0:Q,B=L*2+$;return V.createElement(Ke,{className:E},S||N?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(C)},V.createElement("rect",{x:S?x:x-v/2,y:N?m:m-b/2,width:S?v:v*2,height:N?b:b*2})),!z&&V.createElement("clipPath",{id:"clipPath-dots-".concat(C)},V.createElement("rect",{x:x-B/2,y:m-B/2,width:v+B,height:b+B}))):null,!_&&this.renderCurve(P,C),this.renderErrorBar(P,C),(_||l)&&this.renderDots(P,z,C),(!j||k)&&Un.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var o=n.length%2!==0?[].concat(ai(n),[0]):n,l=[],u=0;u<s;++u)l=[].concat(ai(l),ai(o));return l}},{key:"renderDotItem",value:function(n,s){var o;if(V.isValidElement(n))o=V.cloneElement(n,s);else if(Ie(n))o=n(s);else{var l=s.key,u=O_(s,BY),d=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");o=V.createElement(zf,vl({key:l},u,{className:d}))}return o}}])})(O.PureComponent);en(Wi,"displayName","Line");en(Wi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Os.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});en(Wi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(x,v){var b=Pt(x,l);return p==="horizontal"?{x:RP({axis:r,ticks:s,bandSize:u,entry:x,index:v}),y:De(b)?null:n.scale(b),value:b,payload:x}:{x:De(b)?null:r.scale(b),y:RP({axis:n,ticks:o,bandSize:u,entry:x,index:v}),value:b,payload:x}});return yr({points:m,layout:p},f)});function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function ZY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YT(n.key),n)}}function tX(e,t,r){return t&&eX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rX(e,t,r){return t=af(t),nX(e,GT()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function nX(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aX(e)}function aX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function sX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ev(e,t)}function VT(e,t,r){return t=YT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(e){var t=iX(e,"string");return Hi(t)=="symbol"?t:t+""}function iX(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function oX(e){var t=e.xAxisId,r=Qb(),n=Jb(),s=RT(t);return s==null?null:O.createElement(io,Tv({},s,{className:Le("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Bn(l,!0)}}))}var oo=(function(e){function t(){return ZY(this,t),rX(this,t,arguments)}return sX(t,e),tX(t,[{key:"render",value:function(){return O.createElement(oX,this.props)}}])})(O.Component);VT(oo,"displayName","XAxis");VT(oo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JT(n.key),n)}}function uX(e,t,r){return t&&cX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dX(e,t,r){return t=sf(t),fX(e,XT()?Reflect.construct(t,r||[],sf(e).constructor):t.apply(e,r))}function fX(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(e)}function hX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XT=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function mX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rv(e,t)}function Rv(e,t){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rv(e,t)}function QT(e,t,r){return t=JT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JT(e){var t=pX(e,"string");return Ki(t)=="symbol"?t:t+""}function pX(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(this,arguments)}var gX=function(t){var r=t.yAxisId,n=Qb(),s=Jb(),o=MT(r);return o==null?null:O.createElement(io,Mv({},o,{className:Le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(u){return Bn(u,!0)}}))},lo=(function(e){function t(){return lX(this,t),dX(this,t,arguments)}return mX(t,e),uX(t,[{key:"render",value:function(){return O.createElement(gX,this.props)}}])})(O.Component);QT(lo,"displayName","YAxis");QT(lo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function __(e){return bX(e)||vX(e)||yX(e)||xX()}function xX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(e,t){if(e){if(typeof e=="string")return Iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iv(e,t)}}function vX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bX(e){if(Array.isArray(e))return Iv(e)}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $v=function(t,r,n,s,o){var l=Sr(t,ej),u=Sr(t,Qf),d=[].concat(__(l),__(u)),f=Sr(t,Zf),p="".concat(s,"Id"),m=s[0],x=r;if(d.length&&(x=d.reduce(function(j,y){if(y.props[p]===n&&vn(y.props,"extendDomain")&&xe(y.props[m])){var k=y.props[m];return[Math.min(j[0],k),Math.max(j[1],k)]}return j},x)),f.length){var v="".concat(m,"1"),b="".concat(m,"2");x=f.reduce(function(j,y){if(y.props[p]===n&&vn(y.props,"extendDomain")&&xe(y.props[v])&&xe(y.props[b])){var k=y.props[v],_=y.props[b];return[Math.min(j[0],k,_),Math.max(j[1],k,_)]}return j},x)}return o&&o.length&&(x=o.reduce(function(j,y){return xe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},x)),x},ey={exports:{}},C_;function jX(){return C_||(C_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new s(p,m||d,x),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,v=m.length,b=new Array(v);x<v;x++)b[x]=m[x].fn;return b},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,x,v,b){var j=r?r+f:f;if(!this._events[j])return!1;var y=this._events[j],k=arguments.length,_,E;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),k){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,x),!0;case 5:return y.fn.call(y.context,p,m,x,v),!0;case 6:return y.fn.call(y.context,p,m,x,v,b),!0}for(E=1,_=new Array(k-1);E<k;E++)_[E-1]=arguments[E];y.fn.apply(y.context,_)}else{var S=y.length,N;for(E=0;E<S;E++)switch(y[E].once&&this.removeListener(f,y[E].fn,void 0,!0),k){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,p);break;case 3:y[E].fn.call(y[E].context,p,m);break;case 4:y[E].fn.call(y[E].context,p,m,x);break;default:if(!_)for(N=1,_=new Array(k-1);N<k;N++)_[N-1]=arguments[N];y[E].fn.apply(y[E].context,_)}}return!0},u.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,x){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!x||b.once)&&(!m||b.context===m)&&l(this,v);else{for(var j=0,y=[],k=b.length;j<k;j++)(b[j].fn!==p||x&&!b[j].once||m&&b[j].context!==m)&&y.push(b[j]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(ey)),ey.exports}var wX=jX();const NX=Xe(wX);var ty=new NX,ry="recharts.syncMouseEvents";function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function SX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZT(n.key),n)}}function OX(e,t,r){return t&&kX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ny(e,t,r){return t=ZT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZT(e){var t=PX(e,"string");return ac(t)=="symbol"?t:t+""}function PX(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AX=(function(){function e(){SX(this,e),ny(this,"activeIndex",0),ny(this,"coordinateList",[]),ny(this,"layout","horizontal")}return OX(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,o=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=o+d+f,x=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function _X(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&xe(n)&&xe(s))return!0}return!1}function CX(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function e4(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,o=e.endAngle,l=at(t,r,n,s),u=at(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function EX(e,t,r){var n,s,o,l;if(e==="horizontal")n=t.x,o=n,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,x=at(u,d,f,m),v=at(u,d,p,m);n=x.x,s=x.y,o=v.x,l=v.y}else return e4(t);return[{x:n,y:s},{x:o,y:l}]}function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){TX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TX(e,t,r){return t=RX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=MX(e,"string");return sc(t)=="symbol"?t:t+""}function MX(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IX(e){var t,r,n=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||x!=="ScatterChart"&&s!=="axis")return null;var b,j=$d;if(x==="ScatterChart")b=l,j=nK;else if(x==="BarChart")b=CX(m,l,d,p),j=Gb;else if(m==="radial"){var y=e4(l),k=y.cx,_=y.cy,E=y.radius,S=y.startAngle,N=y.endAngle;b={cx:k,cy:_,startAngle:S,endAngle:N,innerRadius:E,outerRadius:E},j=tT}else b={points:EX(m,l,d)},j=$d;var P=Ju(Ju(Ju(Ju({stroke:"#ccc",pointerEvents:"none"},d),b),_e(v,!1)),{},{payload:u,payloadIndex:f,className:Le("recharts-tooltip-cursor",v.className)});return O.isValidElement(v)?O.cloneElement(v,P):O.createElement(j,P)}var $X=["item"],DX=["children","className","width","height","style","compact","title","desc"];function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}function T_(e,t){return BX(e)||FX(e,t)||r4(e,t)||LX()}function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function BX(e){if(Array.isArray(e))return e}function R_(e,t){if(e==null)return{};var r=qX(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n4(n.key),n)}}function WX(e,t,r){return t&&UX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e,t,r){return t=of(t),KX(e,t4()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function KX(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(e)}function GX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dv(e,t)}function Dv(e,t){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dv(e,t)}function Vi(e){return QX(e)||XX(e)||r4(e)||YX()}function YX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r4(e,t){if(e){if(typeof e=="string")return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lv(e,t)}}function XX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QX(e){if(Array.isArray(e))return Lv(e)}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ce(e,t,r){return t=n4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e){var t=JX(e,"string");return Gi(t)=="symbol"?t:t+""}function JX(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZX={xAxis:["bottom","top"],yAxis:["left","right"]},eQ={width:"100%",height:"100%"},a4={x:0,y:0};function Zu(e){return e}var tQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},rQ=function(t,r,n,s){var o=r.find(function(p){return p&&p.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=s.radius;return oe(oe(oe({},s),at(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=s.angle;return oe(oe(oe({},s),at(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return a4},eh=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Vi(u),Vi(f)):u},[]);return l.length>0?l:t&&t.length&&xe(s)&&xe(o)?t.slice(s,o+1):[]};function s4(e){return e==="number"?[0,"auto"]:void 0}var Fv=function(t,r,n,s){var o=t.graphicalItems,l=t.tooltipAxis,u=eh(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?u:m;x=od(v,l.dataKey,s)}else x=m&&m[n]||u[n];return x?[].concat(Vi(d),[Y5(f,x)]):d},[])},I_=function(t,r,n,s){var o=s||{x:t.chartX,y:t.chartY},l=tQ(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=S9(l,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,x=Fv(t,r,p,m),v=rQ(n,u,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:x,activeCoordinate:v}}return null},nQ=function(t,r){var n=r.axes,s=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=t.stackOffset,v=U5(p,o);return n.reduce(function(b,j){var y,k=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,_=k.type,E=k.dataKey,S=k.allowDataOverflow,N=k.allowDuplicatedCategory,P=k.scale,C=k.ticks,R=k.includeHidden,M=k[l];if(b[M])return b;var L=eh(t.data,{graphicalItems:s.filter(function(D){var K,ie=l in D.props?D.props[l]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[l];return ie===M}),dataStartIndex:d,dataEndIndex:f}),T=L.length,$,G,Q;_X(k.domain,S,_)&&($=Zy(k.domain,null,S),v&&(_==="number"||P!=="auto")&&(Q=pl(L,E,"category")));var z=s4(_);if(!$||$.length===0){var B,U=(B=k.domain)!==null&&B!==void 0?B:z;if(E){if($=pl(L,E,_),_==="category"&&v){var H=xD($);N&&H?(G=$,$=Gd(0,T)):N||($=DP(U,$,j).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(Vi(D),[K])},[]))}else if(_==="category")N?$=$.filter(function(D){return D!==""&&!De(D)}):$=DP(U,$,j).reduce(function(D,K){return D.indexOf(K)>=0||K===""||De(K)?D:[].concat(Vi(D),[K])},[]);else if(_==="number"){var Y=_9(L,s.filter(function(D){var K,ie,ue=l in D.props?D.props[l]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[l],se="hide"in D.props?D.props.hide:(ie=D.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return ue===M&&(R||!se)}),E,o,p);Y&&($=Y)}v&&(_==="number"||P!=="auto")&&(Q=pl(L,E,"category"))}else v?$=Gd(0,T):u&&u[M]&&u[M].hasStack&&_==="number"?$=x==="expand"?[0,1]:V5(u[M].stackGroups,d,f):$=z5(L,s.filter(function(D){var K=l in D.props?D.props[l]:D.type.defaultProps[l],ie="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===M&&(R||!ie)}),_,p,!0);if(_==="number")$=$v(m,$,M,o,C),U&&($=Zy(U,$,S));else if(_==="category"&&U){var q=U,F=$.every(function(D){return q.indexOf(D)>=0});F&&($=q)}}return oe(oe({},b),{},Ce({},M,oe(oe({},k),{},{axisType:o,domain:$,categoricalDomain:Q,duplicateDomain:G,originalDomain:(y=k.domain)!==null&&y!==void 0?y:z,isCategorical:v,layout:p})))},{})},aQ=function(t,r){var n=r.graphicalItems,s=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=eh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),v=x.length,b=U5(p,o),j=-1;return n.reduce(function(y,k){var _=k.type.defaultProps!==void 0?oe(oe({},k.type.defaultProps),k.props):k.props,E=_[l],S=s4("number");if(!y[E]){j++;var N;return b?N=Gd(0,v):u&&u[E]&&u[E].hasStack?(N=V5(u[E].stackGroups,d,f),N=$v(m,N,E,o)):(N=Zy(S,z5(x,n.filter(function(P){var C,R,M=l in P.props?P.props[l]:(C=P.type.defaultProps)===null||C===void 0?void 0:C[l],L="hide"in P.props?P.props.hide:(R=P.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===E&&!L}),"number",p),s.defaultProps.allowDataOverflow),N=$v(m,N,E,o)),oe(oe({},y),{},Ce({},E,oe(oe({axisType:o},s.defaultProps),{},{hide:!0,orientation:Nr(ZX,"".concat(o,".").concat(j%2),null),domain:N,originalDomain:S,isCategorical:b,layout:p})))}return y},{})},sQ=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(s,"Id"),x=Sr(p,o),v={};return x&&x.length?v=nQ(t,{axes:x,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(v=aQ(t,{Axis:o,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},iQ=function(t){var r=va(t),n=Bn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vb(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Rd(r,n)}},$_=function(t){var r=t.children,n=t.defaultShowTooltip,s=br(r,Di),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},oQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},D_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lQ=function(t,r){var n=t.props,s=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,x=n.margin||{},v=br(m,Di),b=br(m,_a),j=Object.keys(d).reduce(function(N,P){var C=d[P],R=C.orientation;return!C.mirror&&!C.hide?oe(oe({},N),{},Ce({},R,N[R]+C.width)):N},{left:x.left||0,right:x.right||0}),y=Object.keys(l).reduce(function(N,P){var C=l[P],R=C.orientation;return!C.mirror&&!C.hide?oe(oe({},N),{},Ce({},R,Nr(N,"".concat(R))+C.height)):N},{top:x.top||0,bottom:x.bottom||0}),k=oe(oe({},y),j),_=k.bottom;v&&(k.bottom+=v.props.height||Di.defaultProps.height),b&&r&&(k=P9(k,s,n,r));var E=f-k.left-k.right,S=p-k.top-k.bottom;return oe(oe({brushBottom:_},k),{},{width:Math.max(E,0),height:Math.max(S,0)})},cQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},aj=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,o=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,x=function(k,_){var E=_.graphicalItems,S=_.stackGroups,N=_.offset,P=_.updateId,C=_.dataStartIndex,R=_.dataEndIndex,M=k.barSize,L=k.layout,T=k.barGap,$=k.barCategoryGap,G=k.maxBarSize,Q=D_(L),z=Q.numericAxisName,B=Q.cateAxisName,U=oQ(E),H=[];return E.forEach(function(Y,q){var F=eh(k.data,{graphicalItems:[Y],dataStartIndex:C,dataEndIndex:R}),D=Y.type.defaultProps!==void 0?oe(oe({},Y.type.defaultProps),Y.props):Y.props,K=D.dataKey,ie=D.maxBarSize,ue=D["".concat(z,"Id")],se=D["".concat(B,"Id")],te={},pe=d.reduce(function(nr,qr){var Cs=_["".concat(qr.axisType,"Map")],co=D["".concat(qr.axisType,"Id")];Cs&&Cs[co]||qr.axisType==="zAxis"||js();var uo=Cs[co];return oe(oe({},nr),{},Ce(Ce({},qr.axisType,uo),"".concat(qr.axisType,"Ticks"),Bn(uo)))},te),ce=pe[B],Oe=pe["".concat(B,"Ticks")],Te=S&&S[ue]&&S[ue].hasStack&&L9(Y,S[ue].stackGroups),Z=qn(Y.type).indexOf("Bar")>=0,ve=Rd(ce,Oe),be=[],Je=U&&k9({barSize:M,stackGroups:S,totalSize:cQ(pe,B)});if(Z){var ft,Et,Br=De(ie)?G:ie,sn=(ft=(Et=Rd(ce,Oe,!0))!==null&&Et!==void 0?Et:Br)!==null&&ft!==void 0?ft:0;be=O9({barGap:T,barCategoryGap:$,bandSize:sn!==ve?sn:ve,sizeList:Je[se],maxBarSize:Br}),sn!==ve&&(be=be.map(function(nr){return oe(oe({},nr),{},{position:oe(oe({},nr.position),{},{offset:nr.position.offset-sn/2})})}))}var on=Y&&Y.type&&Y.type.getComposedData;on&&H.push({props:oe(oe({},on(oe(oe({},pe),{},{displayedData:F,props:k,dataKey:K,item:Y,bandSize:ve,barPosition:be,offset:N,stackedData:Te,layout:L,dataStartIndex:C,dataEndIndex:R}))),{},Ce(Ce(Ce({key:Y.key||"item-".concat(q)},z,pe[z]),B,pe[B]),"animationId",P)),childIndex:CD(Y,k.children),item:Y})}),H},v=function(k,_){var E=k.props,S=k.dataStartIndex,N=k.dataEndIndex,P=k.updateId;if(!Q2({props:E}))return null;var C=E.children,R=E.layout,M=E.stackOffset,L=E.data,T=E.reverseStackOrder,$=D_(R),G=$.numericAxisName,Q=$.cateAxisName,z=Sr(C,n),B=$9(L,z,"".concat(G,"Id"),"".concat(Q,"Id"),M,T),U=d.reduce(function(D,K){var ie="".concat(K.axisType,"Map");return oe(oe({},D),{},Ce({},ie,sQ(E,oe(oe({},K),{},{graphicalItems:z,stackGroups:K.axisType===G&&B,dataStartIndex:S,dataEndIndex:N}))))},{}),H=lQ(oe(oe({},U),{},{props:E,graphicalItems:z}),_==null?void 0:_.legendBBox);Object.keys(U).forEach(function(D){U[D]=p(E,U[D],H,D.replace("Map",""),r)});var Y=U["".concat(Q,"Map")],q=iQ(Y),F=x(E,oe(oe({},U),{},{dataStartIndex:S,dataEndIndex:N,updateId:P,graphicalItems:z,stackGroups:B,offset:H}));return oe(oe({formattedGraphicalItems:F,graphicalItems:z,offset:H,stackGroups:B},q),U)},b=(function(y){function k(_){var E,S,N;return zX(this,k),N=HX(this,k,[_]),Ce(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(N,"accessibilityManager",new AX),Ce(N,"handleLegendBBoxUpdate",function(P){if(P){var C=N.state,R=C.dataStartIndex,M=C.dataEndIndex,L=C.updateId;N.setState(oe({legendBBox:P},v({props:N.props,dataStartIndex:R,dataEndIndex:M,updateId:L},oe(oe({},N.state),{},{legendBBox:P}))))}}),Ce(N,"handleReceiveSyncEvent",function(P,C,R){if(N.props.syncId===P){if(R===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Ce(N,"handleBrushChange",function(P){var C=P.startIndex,R=P.endIndex;if(C!==N.state.dataStartIndex||R!==N.state.dataEndIndex){var M=N.state.updateId;N.setState(function(){return oe({dataStartIndex:C,dataEndIndex:R},v({props:N.props,dataStartIndex:C,dataEndIndex:R,updateId:M},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:R})}}),Ce(N,"handleMouseEnter",function(P){var C=N.getMouseInfo(P);if(C){var R=oe(oe({},C),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var M=N.props.onMouseEnter;Ie(M)&&M(R,P)}}),Ce(N,"triggeredAfterMouseMove",function(P){var C=N.getMouseInfo(P),R=C?oe(oe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var M=N.props.onMouseMove;Ie(M)&&M(R,P)}),Ce(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ce(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ce(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),Ce(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var R=N.props.onMouseLeave;Ie(R)&&R(C,P)}),Ce(N,"handleOuterEvent",function(P){var C=_D(P),R=Nr(N.props,"".concat(C));if(C&&Ie(R)){var M,L;/.*touch.*/i.test(C)?L=N.getMouseInfo(P.changedTouches[0]):L=N.getMouseInfo(P),R((M=L)!==null&&M!==void 0?M:{},P)}}),Ce(N,"handleClick",function(P){var C=N.getMouseInfo(P);if(C){var R=oe(oe({},C),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var M=N.props.onClick;Ie(M)&&M(R,P)}}),Ce(N,"handleMouseDown",function(P){var C=N.props.onMouseDown;if(Ie(C)){var R=N.getMouseInfo(P);C(R,P)}}),Ce(N,"handleMouseUp",function(P){var C=N.props.onMouseUp;if(Ie(C)){var R=N.getMouseInfo(P);C(R,P)}}),Ce(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ce(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),Ce(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),Ce(N,"handleDoubleClick",function(P){var C=N.props.onDoubleClick;if(Ie(C)){var R=N.getMouseInfo(P);C(R,P)}}),Ce(N,"handleContextMenu",function(P){var C=N.props.onContextMenu;if(Ie(C)){var R=N.getMouseInfo(P);C(R,P)}}),Ce(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&ty.emit(ry,N.props.syncId,P,N.eventEmitterSymbol)}),Ce(N,"applySyncEvent",function(P){var C=N.props,R=C.layout,M=C.syncMethod,L=N.state.updateId,T=P.dataStartIndex,$=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(oe({dataStartIndex:T,dataEndIndex:$},v({props:N.props,dataStartIndex:T,dataEndIndex:$,updateId:L},N.state)));else if(P.activeTooltipIndex!==void 0){var G=P.chartX,Q=P.chartY,z=P.activeTooltipIndex,B=N.state,U=B.offset,H=B.tooltipTicks;if(!U)return;if(typeof M=="function")z=M(H,P);else if(M==="value"){z=-1;for(var Y=0;Y<H.length;Y++)if(H[Y].value===P.activeLabel){z=Y;break}}var q=oe(oe({},U),{},{x:U.left,y:U.top}),F=Math.min(G,q.x+q.width),D=Math.min(Q,q.y+q.height),K=H[z]&&H[z].value,ie=Fv(N.state,N.props.data,z),ue=H[z]?{x:R==="horizontal"?H[z].coordinate:F,y:R==="horizontal"?D:H[z].coordinate}:a4;N.setState(oe(oe({},P),{},{activeLabel:K,activeCoordinate:ue,activePayload:ie,activeTooltipIndex:z}))}else N.setState(P)}),Ce(N,"renderCursor",function(P){var C,R=N.state,M=R.isTooltipActive,L=R.activeCoordinate,T=R.activePayload,$=R.offset,G=R.activeTooltipIndex,Q=R.tooltipAxisBandSize,z=N.getTooltipEventType(),B=(C=P.props.active)!==null&&C!==void 0?C:M,U=N.props.layout,H=P.key||"_recharts-cursor";return V.createElement(IX,{key:H,activeCoordinate:L,activePayload:T,activeTooltipIndex:G,chartName:r,element:P,isActive:B,layout:U,offset:$,tooltipAxisBandSize:Q,tooltipEventType:z})}),Ce(N,"renderPolarAxis",function(P,C,R){var M=Nr(P,"type.axisType"),L=Nr(N.state,"".concat(M,"Map")),T=P.type.defaultProps,$=T!==void 0?oe(oe({},T),P.props):P.props,G=L&&L[$["".concat(M,"Id")]];return O.cloneElement(P,oe(oe({},G),{},{className:Le(M,G.className),key:P.key||"".concat(C,"-").concat(R),ticks:Bn(G,!0)}))}),Ce(N,"renderPolarGrid",function(P){var C=P.props,R=C.radialLines,M=C.polarAngles,L=C.polarRadius,T=N.state,$=T.radiusAxisMap,G=T.angleAxisMap,Q=va($),z=va(G),B=z.cx,U=z.cy,H=z.innerRadius,Y=z.outerRadius;return O.cloneElement(P,{polarAngles:Array.isArray(M)?M:Bn(z,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(L)?L:Bn(Q,!0).map(function(q){return q.coordinate}),cx:B,cy:U,innerRadius:H,outerRadius:Y,key:P.key||"polar-grid",radialLines:R})}),Ce(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,C=N.props,R=C.children,M=C.width,L=C.height,T=N.props.margin||{},$=M-(T.left||0)-(T.right||0),G=B5({children:R,formattedGraphicalItems:P,legendWidth:$,legendContent:f});if(!G)return null;var Q=G.item,z=R_(G,$X);return O.cloneElement(Q,oe(oe({},z),{},{chartWidth:M,chartHeight:L,margin:T,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ce(N,"renderTooltip",function(){var P,C=N.props,R=C.children,M=C.accessibilityLayer,L=br(R,Ir);if(!L)return null;var T=N.state,$=T.isTooltipActive,G=T.activeCoordinate,Q=T.activePayload,z=T.activeLabel,B=T.offset,U=(P=L.props.active)!==null&&P!==void 0?P:$;return O.cloneElement(L,{viewBox:oe(oe({},B),{},{x:B.left,y:B.top}),active:U,label:z,payload:U?Q:[],coordinate:G,accessibilityLayer:M})}),Ce(N,"renderBrush",function(P){var C=N.props,R=C.margin,M=C.data,L=N.state,T=L.offset,$=L.dataStartIndex,G=L.dataEndIndex,Q=L.updateId;return O.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Vu(N.handleBrushChange,P.props.onChange),data:M,x:xe(P.props.x)?P.props.x:T.left,y:xe(P.props.y)?P.props.y:T.top+T.height+T.brushBottom-(R.bottom||0),width:xe(P.props.width)?P.props.width:T.width,startIndex:$,endIndex:G,updateId:"brush-".concat(Q)})}),Ce(N,"renderReferenceElement",function(P,C,R){if(!P)return null;var M=N,L=M.clipPathId,T=N.state,$=T.xAxisMap,G=T.yAxisMap,Q=T.offset,z=P.type.defaultProps||{},B=P.props,U=B.xAxisId,H=U===void 0?z.xAxisId:U,Y=B.yAxisId,q=Y===void 0?z.yAxisId:Y;return O.cloneElement(P,{key:P.key||"".concat(C,"-").concat(R),xAxis:$[H],yAxis:G[q],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:L})}),Ce(N,"renderActivePoints",function(P){var C=P.item,R=P.activePoint,M=P.basePoint,L=P.childIndex,T=P.isRange,$=[],G=C.props.key,Q=C.item.type.defaultProps!==void 0?oe(oe({},C.item.type.defaultProps),C.item.props):C.item.props,z=Q.activeDot,B=Q.dataKey,U=oe(oe({index:L,dataKey:B,cx:R.x,cy:R.y,r:4,fill:Kb(C.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},_e(z,!1)),ld(z));return $.push(k.renderActiveDot(z,U,"".concat(G,"-activePoint-").concat(L))),M?$.push(k.renderActiveDot(z,oe(oe({},U),{},{cx:M.x,cy:M.y}),"".concat(G,"-basePoint-").concat(L))):T&&$.push(null),$}),Ce(N,"renderGraphicChild",function(P,C,R){var M=N.filterFormatItem(P,C,R);if(!M)return null;var L=N.getTooltipEventType(),T=N.state,$=T.isTooltipActive,G=T.tooltipAxis,Q=T.activeTooltipIndex,z=T.activeLabel,B=N.props.children,U=br(B,Ir),H=M.props,Y=H.points,q=H.isRange,F=H.baseLine,D=M.item.type.defaultProps!==void 0?oe(oe({},M.item.type.defaultProps),M.item.props):M.item.props,K=D.activeDot,ie=D.hide,ue=D.activeBar,se=D.activeShape,te=!!(!ie&&$&&U&&(K||ue||se)),pe={};L!=="axis"&&U&&U.props.trigger==="click"?pe={onClick:Vu(N.handleItemMouseEnter,P.props.onClick)}:L!=="axis"&&(pe={onMouseLeave:Vu(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Vu(N.handleItemMouseEnter,P.props.onMouseEnter)});var ce=O.cloneElement(P,oe(oe({},M.props),pe));function Oe(qr){return typeof G.dataKey=="function"?G.dataKey(qr.payload):null}if(te)if(Q>=0){var Te,Z;if(G.dataKey&&!G.allowDuplicatedCategory){var ve=typeof G.dataKey=="function"?Oe:"payload.".concat(G.dataKey.toString());Te=od(Y,ve,z),Z=q&&F&&od(F,ve,z)}else Te=Y==null?void 0:Y[Q],Z=q&&F&&F[Q];if(se||ue){var be=P.props.activeIndex!==void 0?P.props.activeIndex:Q;return[O.cloneElement(P,oe(oe(oe({},M.props),pe),{},{activeIndex:be})),null,null]}if(!De(Te))return[ce].concat(Vi(N.renderActivePoints({item:M,activePoint:Te,basePoint:Z,childIndex:Q,isRange:q})))}else{var Je,ft=(Je=N.getItemByXY(N.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ce},Et=ft.graphicalItem,Br=Et.item,sn=Br===void 0?P:Br,on=Et.childIndex,nr=oe(oe(oe({},M.props),pe),{},{activeIndex:on});return[O.cloneElement(sn,nr),null,null]}return q?[ce,null,null]:[ce,null]}),Ce(N,"renderCustomized",function(P,C,R){return O.cloneElement(P,oe(oe({key:"recharts-customized-".concat(R)},N.props),N.state))}),Ce(N,"renderMap",{CartesianGrid:{handler:Zu,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Zu},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Zu},YAxis:{handler:Zu},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:to("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=BE(N.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return VX(k,y),WX(k,[{key:"componentDidMount",value:function(){var E,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,S=E.children,N=E.data,P=E.height,C=E.layout,R=br(S,Ir);if(R){var M=R.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=Fv(this.state,N,M,L),$=this.state.tooltipTicks[M].coordinate,G=(this.state.offset.top+P)/2,Q=C==="horizontal",z=Q?{x:$,y:G}:{y:$,x:G},B=this.state.formattedGraphicalItems.find(function(H){var Y=H.item;return Y.type.name==="Scatter"});B&&(z=oe(oe({},z),B.props.points[M].tooltipPosition),T=B.props.points[M].tooltipPayload);var U={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:L,activePayload:T,activeCoordinate:z};this.setState(U),this.renderCursor(R),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){jy([br(E.children,Ir)],[br(this.props.children,Ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=br(this.props.children,Ir);if(E&&typeof E.props.shared=="boolean"){var S=E.props.shared?"axis":"item";return u.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),P=g7(N),C={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},R=N.width/S.offsetWidth||1,M=this.inRange(C.chartX,C.chartY,R);if(!M)return null;var L=this.state,T=L.xAxisMap,$=L.yAxisMap,G=this.getTooltipEventType(),Q=I_(this.state,this.props.data,this.props.layout,M);if(G!=="axis"&&T&&$){var z=va(T).scale,B=va($).scale,U=z&&z.invert?z.invert(C.chartX):null,H=B&&B.invert?B.invert(C.chartY):null;return oe(oe({},C),{},{xValue:U,yValue:H},Q)}return Q?oe(oe({},C),Q):null}},{key:"inRange",value:function(E,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,C=E/N,R=S/N;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,L=C>=M.left&&C<=M.left+M.width&&R>=M.top&&R<=M.top+M.height;return L?{x:C,y:R}:null}var T=this.state,$=T.angleAxisMap,G=T.radiusAxisMap;if($&&G){var Q=va($);return BP({x:C,y:R},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,S=this.getTooltipEventType(),N=br(E,Ir),P={};N&&S==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=ld(this.props,this.handleOuterEvent);return oe(oe({},C),P)}},{key:"addListener",value:function(){ty.on(ry,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ty.removeListener(ry,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,S,N){for(var P=this.state.formattedGraphicalItems,C=0,R=P.length;C<R;C++){var M=P[C];if(M.item===E||M.props.key===E.key||S===qn(M.item.type)&&N===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,S=this.state.offset,N=S.left,P=S.top,C=S.height,R=S.width;return V.createElement("defs",null,V.createElement("clipPath",{id:E},V.createElement("rect",{x:N,y:P,height:C,width:R})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(S,N){var P=T_(N,2),C=P[0],R=P[1];return oe(oe({},S),{},Ce({},C,R.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(S,N){var P=T_(N,2),C=P[0],R=P[1];return oe(oe({},S),{},Ce({},C,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(E){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(E){var S=this.state,N=S.formattedGraphicalItems,P=S.activeItem;if(N&&N.length)for(var C=0,R=N.length;C<R;C++){var M=N[C],L=M.props,T=M.item,$=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,G=qn(T.type);if(G==="Bar"){var Q=(L.data||[]).find(function(H){return DH(E,H)});if(Q)return{graphicalItem:M,payload:Q}}else if(G==="RadialBar"){var z=(L.data||[]).find(function(H){return BP(E,H)});if(z)return{graphicalItem:M,payload:z}}else if(Gf(M,P)||Vf(M,P)||Zl(M,P)){var B=iG({graphicalItem:M,activeTooltipItem:P,itemData:$.data}),U=$.activeIndex===void 0?B:$.activeIndex;return{graphicalItem:oe(oe({},M),{},{childIndex:U}),payload:Zl(M,P)?$.data[B]:M.props.data[B]}}}return null}},{key:"render",value:function(){var E=this;if(!Q2(this))return null;var S=this.props,N=S.children,P=S.className,C=S.width,R=S.height,M=S.style,L=S.compact,T=S.title,$=S.desc,G=R_(S,DX),Q=_e(G,!1);if(L)return V.createElement(h_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(Ny,ui({},Q,{width:C,height:R,title:T,desc:$}),this.renderClipPath(),Z2(N,this.renderMap)));if(this.props.accessibilityLayer){var z,B;Q.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,Q.role=(B=this.props.role)!==null&&B!==void 0?B:"application",Q.onKeyDown=function(H){E.accessibilityManager.keyboardEvent(H)},Q.onFocus=function(){E.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(h_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",ui({className:Le("recharts-wrapper",P),style:oe({position:"relative",cursor:"default",width:C,height:R},M)},U,{ref:function(Y){E.container=Y}}),V.createElement(Ny,ui({},Q,{width:C,height:R,title:T,desc:$,style:eQ}),this.renderClipPath(),Z2(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(O.Component);Ce(b,"displayName",r),Ce(b,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ce(b,"getDerivedStateFromProps",function(y,k){var _=y.dataKey,E=y.data,S=y.children,N=y.width,P=y.height,C=y.layout,R=y.stackOffset,M=y.margin,L=k.dataStartIndex,T=k.dataEndIndex;if(k.updateId===void 0){var $=$_(y);return oe(oe(oe({},$),{},{updateId:0},v(oe(oe({props:y},$),{},{updateId:0}),k)),{},{prevDataKey:_,prevData:E,prevWidth:N,prevHeight:P,prevLayout:C,prevStackOffset:R,prevMargin:M,prevChildren:S})}if(_!==k.prevDataKey||E!==k.prevData||N!==k.prevWidth||P!==k.prevHeight||C!==k.prevLayout||R!==k.prevStackOffset||!di(M,k.prevMargin)){var G=$_(y),Q={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},z=oe(oe({},I_(k,E,C)),{},{updateId:k.updateId+1}),B=oe(oe(oe({},G),Q),z);return oe(oe(oe({},B),v(oe({props:y},B),k)),{},{prevDataKey:_,prevData:E,prevWidth:N,prevHeight:P,prevLayout:C,prevStackOffset:R,prevMargin:M,prevChildren:S})}if(!jy(S,k.prevChildren)){var U,H,Y,q,F=br(S,Di),D=F&&(U=(H=F.props)===null||H===void 0?void 0:H.startIndex)!==null&&U!==void 0?U:L,K=F&&(Y=(q=F.props)===null||q===void 0?void 0:q.endIndex)!==null&&Y!==void 0?Y:T,ie=D!==L||K!==T,ue=!De(E),se=ue&&!ie?k.updateId:k.updateId+1;return oe(oe({updateId:se},v(oe(oe({props:y},k),{},{updateId:se,dataStartIndex:D,dataEndIndex:K}),k)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:K})}return null}),Ce(b,"renderActiveDot",function(y,k,_){var E;return O.isValidElement(y)?E=O.cloneElement(y,k):Ie(y)?E=y(k):E=V.createElement(zf,k),V.createElement(Ke,{className:"recharts-active-dot",key:_},E)});var j=O.forwardRef(function(k,_){return V.createElement(b,ui({},k,{ref:_}))});return j.displayName=b.displayName,j},uQ=aj({chartName:"LineChart",GraphicalChild:Wi,axisComponents:[{axisType:"xAxis",AxisComp:oo},{axisType:"yAxis",AxisComp:lo}],formatAxisMap:kT}),dQ=aj({chartName:"BarChart",GraphicalChild:Ea,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oo},{axisType:"yAxis",AxisComp:lo}],formatAxisMap:kT}),fQ=aj({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Kf},{axisType:"radiusAxis",AxisComp:Wf}],formatAxisMap:V9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const L_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],hQ=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function mQ({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:n=>n.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:n=>`${n}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:n=>`${n}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:n=>`$${(n/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:n=>n.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:n=>n.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>a.jsxs("div",{className:`${n.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n.title}),a.jsx("p",{className:`text-2xl font-bold ${n.color}`,children:t?"-":n.format(n.value)})]},n.title))})}function pQ({data:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx(jb,{width:"100%",height:256,children:a.jsxs(uQ,{data:e,children:[a.jsx(nj,{strokeDasharray:"3 3"}),a.jsx(oo,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(lo,{tick:{fontSize:12}}),a.jsx(Ir,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,n)=>[r.toLocaleString(),n]}),a.jsx(_a,{}),a.jsx(Wi,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),a.jsx(Wi,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function gQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(n=>n.totalCostCents>0).slice(0,8).map(n=>({name:n.agentName||n.agentId.slice(0,8),value:n.totalCostCents}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx(jb,{width:"100%",height:256,children:a.jsxs(fQ,{children:[a.jsx(Qn,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:s})=>`${n} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,s)=>a.jsx(Cf,{fill:L_[s%L_.length]},`cell-${s}`))}),a.jsx(Ir,{formatter:n=>[`$${(n/100).toFixed(2)}`,"Cost"]})]})})]})}function xQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(n=>({name:n.agentName||n.agentId.slice(0,8),avgLatency:n.avgLatencyMs,p95Latency:n.p95LatencyMs}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),a.jsx(jb,{width:"100%",height:256,children:a.jsxs(dQ,{data:r,children:[a.jsx(nj,{strokeDasharray:"3 3"}),a.jsx(oo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(lo,{tick:{fontSize:12}}),a.jsx(Ir,{formatter:n=>[`${n}ms`,""]}),a.jsx(_a,{}),a.jsx(Ea,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),a.jsx(Ea,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function yQ({agents:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,n)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},n))})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function vQ({trends:e,loading:t}){if(t||e.length===0)return null;const r=o=>{switch(o){case"up":return"^";case"down":return"v";default:return"-"}},n=o=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(o.metric),u=["avgLatencyMs","totalCostCents"].includes(o.metric);return o.direction==="stable"?"text-gray-600 bg-gray-100":o.direction==="up"&&l||o.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=o=>o.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(o=>a.jsxs("div",{className:`rounded-lg p-3 ${n(o)}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:s(o.metric)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:r(o.direction)}),a.jsxs("span",{className:"text-sm",children:[o.changePercent>0?"+":"",o.changePercent.toFixed(1),"%"]})]})]},o.metric))})]})}function bQ({entries:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,s)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const r=n=>{switch(n){case"up":return a.jsx("span",{className:"text-green-500",children:"^"});case"down":return a.jsx("span",{className:"text-red-500",children:"v"});default:return a.jsx("span",{className:"text-gray-400",children:"-"})}};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${n.rank===1?"bg-yellow-400 text-yellow-900":n.rank===2?"bg-gray-300 text-gray-700":n.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:n.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.agentName||n.agentId.slice(0,8)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",n.score.toFixed(1)," ",r(n.trend)]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[n.executions.toLocaleString()," executions"]}),a.jsxs("p",{className:"text-gray-500",children:[n.successRate,"% success"]})]})]},n.agentId))})]})}function jQ({data:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let o=1;e.forEach(u=>{const f=new Date(u.date).getDay();f>=0&&f<7&&u.hour>=0&&u.hour<24&&(s[f][u.hour]+=u.value,o=Math.max(o,s[f][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/o;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-max",children:[a.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>a.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),n.map((u,d)=>a.jsxs("div",{className:"flex gap-0.5 items-center",children:[a.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(f=>a.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[d][f])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${f}:00 - ${s[d][f]} executions`},f))]},u)),a.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),a.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function wQ({anomalies:e,loading:t}){return t||e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,n)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},n))})]})}function NQ({onExport:e,loading:t}){const[r,n]=O.useState(!1);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):a.jsx(a.Fragment,{children:"Export"})}),r&&!t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[a.jsx("button",{onClick:()=>{e("csv"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),a.jsx("button",{onClick:()=>{e("pdf"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function SQ(){const[e,t]=O.useState("week"),[r,n]=O.useState(!0),[s,o]=O.useState(!1),[l,u]=O.useState(null),[d,f]=O.useState(!1),[p,m]=O.useState(!0),[x,v]=O.useState(null),[b,j]=O.useState([]),[y,k]=O.useState([]),[_,E]=O.useState([]),[S,N]=O.useState([]),P=O.useCallback(async()=>{var R,M,L,T;n(!0),u(null);try{const[$,G,Q,z]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Ji($)){f(!0);return}if(!$.ok)throw new Error("Failed to fetch overview");if(!G.ok)throw new Error("Failed to fetch agent metrics");if(!Q.ok)throw new Error("Failed to fetch leaderboard");if(!z.ok)throw new Error("Failed to fetch trends");const[B,U,H,Y]=await Promise.all([$.json(),G.json(),Q.json(),z.json()]);v(B.data),j(((R=U.data)==null?void 0:R.agents)||[]),k(((M=H.data)==null?void 0:M.leaderboard)||[]),E(((L=Y.data)==null?void 0:L.trends)||[]),N(((T=Y.data)==null?void 0:T.anomalies)||[])}catch($){u($ instanceof Error?$.message:"Failed to load analytics"),console.error("Analytics fetch error:",$)}finally{n(!1)}},[e]),C=async R=>{o(!0);try{const M=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:R,period:e})});if(!M.ok)throw new Error("Export failed");const L=await M.blob(),T=window.URL.createObjectURL(L),$=document.createElement("a");$.href=T,$.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${R}`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(T)}catch(M){console.error("Export error:",M),u("Failed to export report")}finally{o(!1)}};return O.useEffect(()=>{P()},[P]),O.useEffect(()=>{if(!p)return;const R=setInterval(P,6e4);return()=>clearInterval(R)},[p,P]),d?a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsx(mc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:P})]}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("select",{value:e,onChange:R=>t(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:hQ.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:R=>m(R.target.checked),className:"rounded"}),"Auto-refresh"]}),a.jsx(NQ,{onExport:C,loading:s})]})]}),l&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,a.jsx("button",{onClick:P,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(wQ,{anomalies:S,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(mQ,{metrics:x,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(vQ,{trends:_,loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsx(pQ,{data:(x==null?void 0:x.dailyTrend)||[],loading:r}),a.jsx(gQ,{agents:b,loading:r})]}),a.jsx("div",{className:"mb-6",children:a.jsx(xQ,{agents:b,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(jQ,{data:((x==null?void 0:x.dailyTrend)||[]).flatMap(R=>Array.from({length:24},(M,L)=>({date:R.date,hour:L,value:Math.floor(R.executions*(L>=9&&L<=17?.08:.02))}))),loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(yQ,{agents:b,loading:r}),a.jsx(bQ,{entries:y,loading:r})]})]})}const kQ=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,o]=O.useState(null),[l,u]=O.useState(null),[d,f]=O.useState(null),[p,m]=O.useState([]),[x,v]=O.useState("monthly"),[b,j]=O.useState(!0),[y,k]=O.useState(null);O.useEffect(()=>{_()},[]);const _=async()=>{try{j(!0),k(null);const[M,L,T,$]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!M.ok||!L.ok||!T.ok)throw new Error("Failed to load billing data");const G=await M.json(),Q=await L.json(),z=await T.json(),B=await $.json();t(G.plans),n(Q.subscription),o(z.usage),u(z.limits),f(z.percentages),m(B.invoices)}catch(M){k(M instanceof Error?M.message:"An error occurred")}finally{j(!1)}},E=async M=>{try{const L=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:M,billingInterval:x})});if(!L.ok){const $=await L.json();throw new Error($.error||"Failed to create checkout session")}const{url:T}=await L.json();T&&(window.location.href=T)}catch(L){k(L instanceof Error?L.message:"Failed to upgrade")}},S=async()=>{try{const M=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const T=await M.json();throw new Error(T.error||"Failed to open billing portal")}const{url:L}=await M.json();L&&(window.location.href=L)}catch(M){k(M instanceof Error?M.message:"Failed to open billing portal")}},N=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const M=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to cancel subscription")}await _()}catch(M){k(M instanceof Error?M.message:"Failed to cancel")}},P=async()=>{try{const M=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to reactivate subscription")}await _()}catch(M){k(M instanceof Error?M.message:"Failed to reactivate")}},C=M=>M===-1?"Unlimited":M.toLocaleString(),R=M=>`${(M/1073741824).toFixed(2)} GB`;return b?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,a.jsx("button",{onClick:()=>k(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),a.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&a.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),a.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&a.jsx("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?a.jsx("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?a.jsx("button",{onClick:N,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&d&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ll,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:d.executions}),a.jsx(ll,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),a.jsx(ll,{label:"Agents",current:s.agents,limit:l.agents,percentage:d.agents}),a.jsx(ll,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:d.workflows}),a.jsx(ll,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:d.team_members}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Storage"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[R(s.storage_bytes)," / ",C(l.storageGb)," GB"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>v("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>v("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(M=>a.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${M.popular?"ring-2 ring-blue-500":""}`,children:[M.popular&&a.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:M.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:M.description}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?M.pricing.yearly:M.pricing.monthly}),M.pricing.monthlyRaw>0&&a.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),a.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",C(M.limits.agents)," Agents"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",C(M.limits.workflows)," Workflows"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",C(M.limits.executionsPerMonth)," Executions/month"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",C(M.limits.teamMembers)," Team members"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",M.limits.storageGb," GB Storage"]}),M.features.githubIntegration&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," GitHub Integration"]}),M.features.advancedAnalytics&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Advanced Analytics"]}),M.features.prioritySupport&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Priority Support"]}),M.features.sso&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," SSO"]})]}),(r==null?void 0:r.planId)===M.id?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):M.id==="free"?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):M.pricing.monthlyRaw===-1?a.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):a.jsxs("button",{onClick:()=>E(M.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",M.name]})]},M.id))})]}),p.length>0&&a.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:p.map(M=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:new Date(M.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"py-3 px-4",children:M.amountFormatted}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(OQ,{status:M.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[M.hostedInvoiceUrl&&a.jsx("a",{href:M.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),M.invoicePdfUrl&&a.jsx("a",{href:M.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},M.id))})]})})]})]})},ll=({label:e,current:t,limit:r,percentage:n})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),o=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:e}),a.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(r)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${o(n)} h-2 rounded-full transition-all`,style:{width:`${Math.min(n,100)}%`}})})]})},Mn=()=>a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),OQ=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function PQ(){const[e,t]=O.useState(null),[r,n]=O.useState([]),[s,o]=O.useState(null),[l,u]=O.useState(!0),[d,f]=O.useState(null),[p,m]=O.useState(!1),[x,v]=O.useState("month"),[b,j]=O.useState(""),[y,k]=O.useState(!1),{user:_}=wn();O.useEffect(()=>{E()},[x]);const E=async()=>{try{u(!0),f(null);const[L,T,$]=await Promise.all([fetch(`/api/costs/summary?period=${x}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Ji(L)){m(!0);return}if(!L.ok||!T.ok||!$.ok)throw new Error("Failed to fetch cost data");const[G,Q,z]=await Promise.all([L.json(),T.json(),$.json()]);t(G.data),n(Q.data.trend),o(z.data),z.data.budgetCents&&j((z.data.budgetCents/100).toString())}catch(L){f(L instanceof Error?L.message:"Unknown error")}finally{u(!1)}},S=async()=>{try{k(!0);const L=b?Math.round(parseFloat(b)*100):null,T=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:L})});if(!T.ok){const $=await T.json();throw new Error($.message||"Failed to update budget")}await E()}catch(L){f(L instanceof Error?L.message:"Failed to update budget")}finally{k(!1)}},N=L=>`$${(L/100).toFixed(2)}`,P=L=>L.toLocaleString(),C=L=>{switch(L){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},R=L=>{switch(L){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},M=()=>Math.max(...r.map(L=>L.totalCostCents),1);return p?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),a.jsx(mc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:E})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?a.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:N(s.spentCents)}),s.budgetCents&&a.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",N(s.budgetCents)]}),a.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all ${C(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),a.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${N(s.remainingCents)} remaining this month`:"No budget limit set"})]}):a.jsx("p",{className:"text-gray-500",children:"No budget data available"}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:b,onChange:L=>j(L.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{onClick:S,disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...":"Save"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),a.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(L=>a.jsx("button",{onClick:()=>v(L),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===L?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:L==="day"?"Today":L==="week"?"This Week":"This Month"},L))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:N((e==null?void 0:e.totalCostCents)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:P((e==null?void 0:e.requestCount)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P((e==null?void 0:e.totalInputTokens)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P((e==null?void 0:e.totalOutputTokens)??0)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(L=>a.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},L))}):e!=null&&e.byAgent&&e.byAgent.length>0?a.jsx("div",{className:"space-y-4",children:e.byAgent.map(L=>{const T=e.totalCostCents>0?Math.round(L.totalCostCents/e.totalCostCents*100):0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:L.agentName||L.agentId.slice(0,8)}),a.jsxs("span",{className:"text-sm text-gray-600",children:[N(L.totalCostCents)," (",T,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${T}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[P(L.requestCount)," requests"]})]})]},L.agentId)})}):a.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?a.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?a.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map(L=>{const T=L.totalCostCents>0?Math.max(L.totalCostCents/M()*100,4):2;return a.jsxs("div",{className:"flex-1 group relative",title:`${L.date}: ${N(L.totalCostCents)}`,children:[a.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${T}%`}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[L.date,": ",N(L.totalCostCents)]})})]},L.date)})}):a.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(L=>a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},L))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,L],[,T])=>T.costCents-L.costCents).map(([L,T])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:L}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:N(T.costCents)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:P(T.requests)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:N(T.requests>0?Math.round(T.costCents/T.requests):0)})]},L))})]})}):a.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const AQ=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],_Q=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],CQ=()=>{const[e,t]=O.useState("keys"),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState(null),[d,f]=O.useState(!0),[p,m]=O.useState(null),[x,v]=O.useState(!1),[b,j]=O.useState(""),[y,k]=O.useState([]),[_,E]=O.useState("free"),[S,N]=O.useState(null),[P,C]=O.useState(!1),[R,M]=O.useState(""),[L,T]=O.useState([]),[$,G]=O.useState(null),Q=O.useCallback(async()=>{f(!0),m(null);try{const[K,ie,ue]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(K.ok){const se=await K.json();n(se.data||[])}if(ie.ok){const se=await ie.json();o(se.data||[])}if(ue.ok){const se=await ue.json();u(se.data||null)}}catch(K){m("Failed to load data"),console.error("Error fetching developer portal data:",K)}finally{f(!1)}},[]);O.useEffect(()=>{Q()},[Q]);const z=async()=>{try{const K=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,scopes:y,rateLimitTier:_})});if(K.ok){const ie=await K.json();N(ie.data.key),n(ue=>[...ue,ie.data]),j(""),k([]),E("free")}else{const ie=await K.json();m(ie.message||"Failed to create API key")}}catch{m("Failed to create API key")}},B=async K=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${K}`,{method:"DELETE"})).ok&&n(ue=>ue.map(se=>se.id===K?{...se,status:"revoked"}:se))}catch{m("Failed to revoke API key")}},U=async()=>{try{const K=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:R,events:L})});if(K.ok){const ie=await K.json();G(ie.data.secret),o(ue=>[...ue,ie.data]),M(""),T([])}else{const ie=await K.json();m(ie.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},H=async K=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${K}`,{method:"DELETE"})).ok&&o(ue=>ue.filter(se=>se.id!==K))}catch{m("Failed to delete webhook")}},Y=async K=>{try{const ue=await(await fetch(`/api/organization/webhooks/${K}/test`,{method:"POST"})).json();ue.data.success?alert(`Webhook test successful! Response time: ${ue.data.latencyMs}ms`):alert(`Webhook test failed: ${ue.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},q=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",F=K=>{switch(K){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},D=K=>{switch(K){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,a.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(K=>a.jsxs("button",{onClick:()=>t(K),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[K==="keys"&&"API Keys",K==="webhooks"&&"Webhooks",K==="docs"&&"Documentation"]},K))})}),e==="keys"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(K=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[K.scopes.slice(0,3).join(", "),K.scopes.length>3&&` +${K.scopes.length-3} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[K.keyPrefix,"..."]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(K.rateLimitTier)}`,children:K.rateLimitTier})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(K.status)}`,children:K.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(K.lastUsedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.totalRequests.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:K.status==="active"&&a.jsx("button",{onClick:()=>B(K.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},K.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),a.jsx("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(K=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:K.url})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[K.events.slice(0,2).join(", "),K.events.length>2&&` +${K.events.length-2} more`]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(K.status)}`,children:K.status}),K.failureCount>0&&a.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",K.failureCount," failures)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastSuccess?a.jsx("span",{className:"text-green-600",children:q(K.lastSuccess)}):K.lastFailure?a.jsx("span",{className:"text-red-600",children:q(K.lastFailure)}):"Never"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[a.jsx("button",{onClick:()=>Y(K.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),a.jsx("button",{onClick:()=>H(K.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},K.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),a.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),a.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),a.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(K=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${K.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.method}),a.jsx("code",{className:"text-gray-900",children:K.path}),a.jsx("span",{className:"ml-3 text-gray-500",children:K.desc})]},K.path))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500",children:[a.jsx("th",{className:"pb-2",children:"Tier"}),a.jsx("th",{className:"pb-2",children:"Per Minute"}),a.jsx("th",{className:"pb-2",children:"Per Day"})]})}),a.jsxs("tbody",{className:"text-gray-900",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Free"}),a.jsx("td",{children:"60"}),a.jsx("td",{children:"1,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Pro"}),a.jsx("td",{children:"300"}),a.jsx("td",{children:"10,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Enterprise"}),a.jsx("td",{children:"1,000"}),a.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:S?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:S})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(S),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{v(!1),N(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:b,onChange:K=>j(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),a.jsxs("select",{value:_,onChange:K=>E(K.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),a.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),a.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:AQ.map(K=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:y.includes(K),onChange:ie=>{ie.target.checked?k(ue=>[...ue,K]):k(ue=>ue.filter(se=>se!==K))},className:"mr-2"}),K]},K))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:z,disabled:!b||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:$?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:$})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText($),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{C(!1),G(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:R,onChange:K=>M(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:_Q.map(K=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:L.includes(K),onChange:ie=>{ie.target.checked?T(ue=>[...ue,K]):T(ue=>ue.filter(se=>se!==K))},className:"mr-2"}),K]},K))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:U,disabled:!R||L.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function EQ(){const{slug:e}=df(),[t,r]=O.useState(null),[n,s]=O.useState([]),[o,l]=O.useState(null),[u,d]=O.useState([]),[f,p]=O.useState([]),[m,x]=O.useState(!1),[v,b]=O.useState(!0),[j,y]=O.useState(!1),[k,_]=O.useState(null),[E,S]=O.useState("overview"),[N,P]=O.useState(null),C=O.useCallback(async()=>{if(e){b(!0);try{const U=await fe({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(U.extension)}catch(U){U instanceof Ee&&U.status===404?_("Extension not found"):_("Failed to load extension")}finally{b(!1)}}},[e]),R=O.useCallback(async()=>{if(e)try{const U=await fe({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(U.reviews.items),l(U.summary)}catch(U){console.error("Failed to fetch reviews:",U)}},[e]),M=O.useCallback(async()=>{if(e)try{const U=await fe({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(U.versions)}catch(U){console.error("Failed to fetch versions:",U)}},[e]),L=O.useCallback(async()=>{if(e)try{const U=await fe({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(U.extensions)}catch(U){console.error("Failed to fetch similar:",U)}},[e]),T=O.useCallback(async()=>{try{const U=await fe({url:"/api/marketplace/installed",method:"GET"});x(U.installed.some(H=>H.extension.slug===e))}catch{}},[e]);O.useEffect(()=>{C(),R(),M(),L(),T()},[C,R,M,L,T]);const $=async()=>{if(t){y(!0);try{await fe({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(U){const H=U instanceof Ee?U.message:"Install failed";alert(H)}finally{y(!1)}}},G=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await fe({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(U){const H=U instanceof Ee?U.message:"Uninstall failed";alert(H)}},Q=U=>U>=1e6?`${(U/1e6).toFixed(1)}M`:U>=1e3?`${(U/1e3).toFixed(1)}K`:String(U),z=U=>{if(U.pricing==="free")return"Free";if(!U.price)return"Paid";const H=(U.price.amount/100).toFixed(2),Y=U.price.interval?`/${U.price.interval}`:"";return`$${H}${Y}`},B=(U,H="sm")=>{const Y=[],q=H==="lg"?"text-xl":"text-sm";for(let F=1;F<=5;F++)Y.push(a.jsx("span",{className:`${F<=U?"text-yellow-400":"text-gray-300"} ${q}`,children:""},F));return Y};return v?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):k||!t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:k||"Extension not found"}),a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:t.name})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?a.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx("span",{children:t.publisherName}),t.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(t)}),m?a.jsx("button",{onClick:G,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):a.jsx("button",{onClick:$,disabled:j,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:j?"Installing...":"Install"})]})]}),a.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[B(Math.round(t.stats.rating)),a.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[Q(t.stats.downloads)," downloads"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[Q(t.stats.activeInstalls)," active installs"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(U=>a.jsx(At,{to:`/marketplace?q=${U}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:U},U))})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(U=>a.jsxs("button",{onClick:()=>S(U),className:`py-3 text-sm font-medium border-b-2 -mb-px ${E===U?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[U==="overview"&&"Overview",U==="reviews"&&`Reviews (${t.stats.reviewCount})`,U==="versions"&&"Version History"]},U))})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[E==="overview"&&a.jsxs("div",{children:[t.screenshots.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((U,H)=>a.jsx("img",{src:U,alt:`Screenshot ${H+1}`,onClick:()=>P(U),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},H))})]}),a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),E==="reviews"&&a.jsxs("div",{children:[o&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:o.average.toFixed(1)}),a.jsx("div",{className:"flex justify-center mt-1",children:B(Math.round(o.average),"lg")}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[o.count," reviews"]})]}),a.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(U=>a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 w-3",children:U}),a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${o.count>0?o.distribution[U]/o.count*100:0}%`}})}),a.jsx("span",{className:"text-sm text-gray-500 w-8",children:o.distribution[U]||0})]},U))})]})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):a.jsx("div",{className:"space-y-4",children:n.map(U=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:U.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[B(U.rating),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",U.userName,"  ",new Date(U.createdAt).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[U.helpfulCount," found helpful"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:U.body}),U.publisherResponse&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.publisherResponse.body})]})]},U.id))})]}),E==="versions"&&a.jsx("div",{className:"space-y-4",children:u.map(U=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["v",U.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:U.publishedAt?new Date(U.publishedAt).toLocaleDateString():"Unpublished"})]}),U.changelog&&a.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:U.changelog})]},U.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Version"}),a.jsx("dd",{className:"text-gray-900",children:t.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Category"}),a.jsx("dd",{className:"text-gray-900",children:t.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),a.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Published"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),a.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&a.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&a.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&a.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),a.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(U=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",U]},U))})]}),f.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),a.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(U=>a.jsxs(At,{to:`/marketplace/${U.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:U.icon?a.jsx("img",{src:U.icon,alt:"",className:"w-6 h-6 rounded"}):a.jsx("span",{children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",U.stats.rating.toFixed(1)]})]})]},U.id))})]})]})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>P(null),children:a.jsx("img",{src:N,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function TQ(){var P;const[e,t]=O.useState(null),[r,n]=O.useState([]),[s,o]=O.useState(null),[l,u]=O.useState(!0),[d,f]=O.useState(null),[p,m]=O.useState(!1),[x,v]=O.useState(null),[b,j]=O.useState(30);O.useEffect(()=>{y()},[b]);const y=async()=>{u(!0),f(null);try{const[C,R]=await Promise.all([fetch(`/api/feedback/analysis?days=${b}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Ji(C)){m(!0);return}if(!C.ok||!R.ok)throw new Error("Failed to fetch feedback data");const M=await C.json(),L=await R.json();t(M),n(L.actions),o(L.stats)}catch(C){f(C instanceof Error?C.message:"An error occurred")}finally{u(!1)}},k=async C=>{v(C);try{if(!(await fetch(`/api/feedback/actions/${C}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to apply action")}finally{v(null)}},_=async C=>{v(C);try{if(!(await fetch(`/api/feedback/actions/${C}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to dismiss action")}finally{v(null)}},E=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await y()}catch(C){f(C instanceof Error?C.message:"Failed to process feedback")}},S=C=>{switch(C){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},N=C=>{switch(C){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),a.jsx(mc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:y})]}):l?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(C=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},C))})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:b,onChange:C=>j(parseInt(C.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([C,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(C)}`,children:C}),a.jsx("span",{className:"text-gray-700 font-medium",children:R})]},C)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((C,R)=>R[1]-C[1]).slice(0,5).map(([C,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:C.replace(/_/g," ")}),a.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:R})]},C)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(C=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(C.priority)}`,children:C.priority}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:C.type.replace(/_/g," ")}),C.autoApplicable&&a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),a.jsx("p",{className:"mt-2 text-gray-900",children:C.description}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",C.estimatedImpact.affectedRequests," requests, +",(C.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>k(C.id),disabled:x===C.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:x===C.id?"...":"Apply"}),a.jsx("button",{onClick:()=>_(C.id),disabled:x===C.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},C.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(P=e==null?void 0:e.recentFeedback)==null?void 0:P.slice(0,10).map(C=>{var R;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[C.type,C.rating&&a.jsxs("span",{className:"ml-1",children:["(",C.rating,"/5)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.sentiment&&a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S(C.sentiment)}`,children:C.sentiment})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((R=C.category)==null?void 0:R.replace(/_/g," "))||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:C.originalRequest}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})]},C.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const si={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},ay={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function RQ(){const[e,t]=O.useState(!1),[r,n]=O.useState(null),[s,o]=O.useState(!1),[l,u]=O.useState(null),[d,f]=O.useState(null),[p,m]=O.useState(null),[x,v]=O.useState([]),[b,j]=O.useState(""),[y,k]=O.useState([]),[_,E]=O.useState([]),[S,N]=O.useState(!1),P=O.useRef(null),C=O.useRef(null),R=O.useCallback(async()=>{try{const z=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Ji(z)){o(!0);return}if(!z.ok)throw new Error("Failed to fetch stats");const B=await z.json();u(B)}catch(z){console.error("Error fetching stats:",z)}},[]),M=O.useCallback(async z=>{t(!0),n(null);try{let B="/api/knowledge-graph/visualization";z&&z.length>0&&(B=`/api/knowledge-graph/visualization/filtered?nodeTypes=${z.join(",")}`);const U=await fetch(B,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch graph");const H=await U.json();f(H)}catch(B){n(B instanceof Error?B.message:"Unknown error")}finally{t(!1)}},[]),L=async()=>{N(!0),n(null);try{const z=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!z.ok)throw new Error("Failed to build graph");const B=await z.json();alert(`Graph built: ${B.nodeCount} nodes, ${B.edgeCount} edges`),await Promise.all([R(),M(_)])}catch(z){n(z instanceof Error?z.message:"Failed to build graph")}finally{N(!1)}},T=async()=>{if(!b.trim()){k([]);return}try{const z=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(b)}&limit=10`,{credentials:"include"});if(!z.ok)throw new Error("Search failed");const B=await z.json();k(B.nodes||[])}catch(z){console.error("Search error:",z)}},$=async z=>{try{const B=await fetch(`/api/knowledge-graph/related/${z}?depth=2&limit=20`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch related nodes");const U=await B.json();v(U.related||[])}catch(B){console.error("Error fetching related:",B)}},G=async z=>{m(z),await $(z.id)},Q=z=>{E(B=>B.includes(z)?B.filter(H=>H!==z):[...B,z])};return O.useEffect(()=>{M(_)},[_,M]),O.useEffect(()=>{R(),M()},[R,M]),O.useEffect(()=>{if(!d||!P.current)return;const z=P.current,B=z.getContext("2d");if(!B)return;const U=z.parentElement;U&&(z.width=U.clientWidth,z.height=U.clientHeight),B.fillStyle="#1a1a2e",B.fillRect(0,0,z.width,z.height);const H=d.nodes.map(F=>({...F,x:Math.random()*z.width,y:Math.random()*z.height,vx:0,vy:0})),Y=new Map(H.map(F=>[F.id,F]));for(let F=0;F<100;F++){for(let D=0;D<H.length;D++)for(let K=D+1;K<H.length;K++){const ie=H[K].x-H[D].x,ue=H[K].y-H[D].y,se=Math.sqrt(ie*ie+ue*ue)||1,te=1e3/(se*se);H[D].vx-=ie/se*te,H[D].vy-=ue/se*te,H[K].vx+=ie/se*te,H[K].vy+=ue/se*te}for(const D of d.edges){const K=Y.get(D.from),ie=Y.get(D.to);if(K&&ie){const ue=ie.x-K.x,se=ie.y-K.y,te=Math.sqrt(ue*ue+se*se)||1,pe=te*.01;K.vx+=ue/te*pe,K.vy+=se/te*pe,ie.vx-=ue/te*pe,ie.vy-=se/te*pe}}for(const D of H)D.vx+=(z.width/2-D.x)*.001,D.vy+=(z.height/2-D.y)*.001;for(const D of H)D.x+=D.vx*.1,D.y+=D.vy*.1,D.vx*=.9,D.vy*=.9,D.x=Math.max(50,Math.min(z.width-50,D.x)),D.y=Math.max(50,Math.min(z.height-50,D.y))}B.strokeStyle="#4a4a6a",B.lineWidth=1;for(const F of d.edges){const D=Y.get(F.from),K=Y.get(F.to);D&&K&&(B.beginPath(),B.moveTo(D.x,D.y),B.lineTo(K.x,K.y),B.stroke())}for(const F of H){const D=si[F.group]||"#9E9E9E",K=F.size||15;B.beginPath(),B.arc(F.x,F.y,K,0,Math.PI*2),B.fillStyle=D,B.fill(),B.strokeStyle=(p==null?void 0:p.id)===F.id?"#ffffff":"#000000",B.lineWidth=(p==null?void 0:p.id)===F.id?3:1,B.stroke(),B.fillStyle="#ffffff",B.font="11px sans-serif",B.textAlign="center",B.fillText(F.label.slice(0,15),F.x,F.y+K+12)}C.current=H;const q=F=>{const D=z.getBoundingClientRect(),K=F.clientX-D.left,ie=F.clientY-D.top;for(const ue of H)if(Math.sqrt((K-ue.x)**2+(ie-ue.y)**2)<=(ue.size||15)){G(ue);return}m(null),v([])};return z.addEventListener("click",q),()=>z.removeEventListener("click",q)},[d,p]),s?a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),a.jsx("button",{onClick:()=>{o(!1),R(),M()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("button",{onClick:L,disabled:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Building...":"Rebuild Graph"})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[a.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),a.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),a.jsx("div",{className:"text-gray-400",children:"Edges"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),a.jsx("div",{className:"text-gray-400",children:"Density"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),a.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:b,onChange:z=>j(z.target.value),onKeyDown:z=>z.key==="Enter"&&T(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),a.jsx("button",{onClick:T,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),y.length>0&&a.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:y.map(z=>a.jsxs("button",{onClick:()=>G(z),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:si[z.group]||"#9E9E9E"}}),z.label]},z.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ay).map(([z,B])=>a.jsx("button",{onClick:()=>Q(z),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${_.includes(z)?"opacity-100":_.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:_.includes(z)||_.length===0?si[z]:"#4a4a6a"},children:B},z))}),_.length>0&&a.jsx("button",{onClick:()=>E([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:si[p.group]||"#9E9E9E"}}),a.jsx("span",{className:"font-semibold",children:p.label})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",ay[p.group]||p.group]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",x.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(z=>a.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>G({id:z.node.id,label:z.node.label,group:z.node.type}),children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:si[z.node.type]||"#9E9E9E"}}),a.jsx("span",{className:"flex-1 truncate",children:z.node.label}),a.jsx("span",{className:"text-gray-500",children:z.edge.type})]},z.node.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(ay).map(([z,B])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:si[z]}}),B]},z))})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),a.jsx("div",{className:"text-sm",children:r}),a.jsx("button",{onClick:()=>M(_),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&d&&d.nodes.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),a.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),a.jsx("button",{onClick:L,disabled:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:S?"Building...":"Build Graph"})]})}),a.jsx("canvas",{ref:P,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function MQ(){const[e,t]=ff(),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState([]),[d,f]=O.useState(null),[p,m]=O.useState(0),[x,v]=O.useState(!0),[b,j]=O.useState(e.get("q")||""),[y,k]=O.useState(e.get("category")||""),[_,E]=O.useState(e.get("pricing")||""),[S,N]=O.useState(e.get("sort")||"popular"),[P,C]=O.useState(1),[R,M]=O.useState([]),[L,T]=O.useState(null),$=O.useCallback(async()=>{v(!0);try{const D=new URLSearchParams;b&&D.set("q",b),y&&D.set("category",y),_&&D.set("pricing",_),D.set("sort",S),D.set("page",String(P)),D.set("limit","20");const ie=await fe({url:`${b?"/api/marketplace/search":"/api/marketplace/extensions"}?${D.toString()}`,method:"GET"});n(ie.extensions||ie.items||[]),m(ie.total),ie.facets&&f(ie.facets)}catch(D){console.error("Failed to fetch extensions:",D)}finally{v(!1)}},[b,y,_,S,P]),G=O.useCallback(async()=>{try{const D=await fe({url:"/api/marketplace/featured",method:"GET"});o(D.extensions)}catch(D){console.error("Failed to fetch featured:",D)}},[]),Q=O.useCallback(async()=>{try{const D=await fe({url:"/api/marketplace/categories",method:"GET"});u(D.categories)}catch(D){console.error("Failed to fetch categories:",D)}},[]),z=O.useCallback(async()=>{try{const D=await fe({url:"/api/marketplace/suggestions",method:"GET"});M(D.suggestions||[])}catch{}},[]);O.useEffect(()=>{Q(),G(),z()},[Q,G,z]),O.useEffect(()=>{$()},[$]),O.useEffect(()=>{const D=new URLSearchParams;b&&D.set("q",b),y&&D.set("category",y),_&&D.set("pricing",_),S!=="popular"&&D.set("sort",S),t(D)},[b,y,_,S,t]);const B=D=>{D.preventDefault(),C(1),$()},U=async D=>{T(D);try{await fe({url:`/api/marketplace/suggestions/${D}/accept`,method:"POST"}),M(K=>K.filter(ie=>ie.patternId!==D))}catch(K){console.error("Failed to accept suggestion:",K)}finally{T(null)}},H=async D=>{try{await fe({url:`/api/marketplace/suggestions/${D}/dismiss`,method:"POST"}),M(K=>K.filter(ie=>ie.patternId!==D))}catch(K){console.error("Failed to dismiss suggestion:",K)}},Y=D=>D>=1e6?`${(D/1e6).toFixed(1)}M`:D>=1e3?`${(D/1e3).toFixed(1)}K`:String(D),q=D=>{if(D.pricing==="free")return"Free";if(!D.price)return"Paid";const K=(D.price.amount/100).toFixed(2),ie=D.price.interval?`/${D.price.interval}`:"";return`$${K}${ie}`},F=D=>{const K=[];for(let ie=1;ie<=5;ie++)K.push(a.jsx("span",{className:ie<=D?"text-yellow-400":"text-gray-300",children:""},ie));return K};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),a.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),a.jsxs("form",{onSubmit:B,className:"flex gap-3 max-w-2xl",children:[a.jsx("input",{type:"text",value:b,onChange:D=>j(D.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[!b&&s.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(D=>a.jsx(At,{to:`/marketplace/${D.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:D.icon?a.jsx("img",{src:D.icon,alt:"",className:"w-10 h-10 rounded-lg"}):a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.name}),a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),a.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:a.jsxs("span",{className:"flex items-center text-yellow-500",children:[F(Math.round(D.stats.rating)),a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",D.stats.reviewCount,")"]})]})})]})]})},D.id))})]}),R.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),a.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[R.length," suggestion",R.length!==1?"s":""]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(D=>a.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:D.patternType==="composite"?"":D.patternType==="sequence"?"":""})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(D.confidence*100)}% confidence`,children:a.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${D.confidence*100}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(D.confidence*100),"%"]})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900",children:D.suggestedName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.suggestedDescription}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:D.suggestedTriggers.slice(0,3).map(K=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:K},K))}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",D.frequency,"x as ",D.patternType," pattern"]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("button",{onClick:()=>U(D.patternId),disabled:L===D.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:L===D.patternId?"Creating...":"Create Skill"}),a.jsx("button",{onClick:()=>H(D.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},D.patternId))})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-56 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{k(""),C(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(D=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{k(D.slug),C(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===D.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{children:D.name}),D.extensionCount!==void 0&&a.jsx("span",{className:"text-xs text-gray-400",children:D.extensionCount})]})},D.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),a.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(D=>a.jsx("li",{children:a.jsx("button",{onClick:()=>{E(D),C(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${_===D?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:D===""?"All":D.charAt(0).toUpperCase()+D.slice(1)})},D))})]}),d&&d.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(D=>a.jsx("button",{onClick:()=>j(D.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:D.name},D.name))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),a.jsxs("select",{value:S,onChange:D=>{N(D.target.value),C(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"recent",children:"Recently Added"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"trending",children:"Trending"})]})]}),x?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(D=>a.jsx(At,{to:`/marketplace/${D.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:D.icon?a.jsx("img",{src:D.icon,alt:"",className:"w-8 h-8 rounded-lg"}):a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:D.name}),D.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:D.publisherName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",D.stats.rating.toFixed(1)]}),a.jsxs("span",{className:"text-gray-400",children:[Y(D.stats.downloads)," downloads"]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D.pricing==="free"?"bg-green-100 text-green-700":D.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:q(D)})]})]})]})},D.id))}),p>20&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>C(D=>Math.max(1,D-1)),disabled:P===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",P," of ",Math.ceil(p/20)]}),a.jsx("button",{onClick:()=>C(D=>D+1),disabled:P>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const F_={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},sy=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function IQ(){var H;const e=Ss(),{user:t}=wn(),[r,n]=O.useState(null),[s,o]=O.useState([]),[l,u]=O.useState(!0),[d,f]=O.useState(!1),[p,m]=O.useState(null),[x,v]=O.useState(""),[b,j]=O.useState(""),[y,k]=O.useState(""),[_,E]=O.useState(null),[S,N]=O.useState([]),[P,C]=O.useState("");O.useEffect(()=>{R(),M()},[]);const R=async()=>{try{const q=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(q.data)n(q.data),q.data.data&&(v(q.data.data.companyName||""),j(q.data.data.industry||""),k(q.data.data.teamSize||""),E(q.data.data.templateId||null),N(q.data.data.selectedAgents||[]));else{const D=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();n(D.data)}}catch(Y){m(Y instanceof Error?Y.message:"Failed to load")}finally{u(!1)}},M=async()=>{try{const q=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();o(q.data||[])}catch(Y){console.error("Failed to fetch templates",Y)}},L=async(Y,q)=>{f(!0),m(null);try{const D=await(await fetch(`/api/onboarding/step/${Y}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:q})})).json();if(!D.success)throw new Error(D.error);n(D.data),D.data.isComplete&&e("/dashboard")}catch(F){m(F instanceof Error?F.message:"Failed to complete step")}finally{f(!1)}},T=async Y=>{f(!0),m(null);try{const F=await(await fetch(`/api/onboarding/step/${Y}/skip`,{method:"POST",credentials:"include"})).json();if(!F.success)throw new Error(F.error);n(F.data)}catch(q){m(q instanceof Error?q.message:"Failed to skip step")}finally{f(!1)}},$=()=>{if(!x.trim()){m("Company name is required");return}L("company_info",{companyName:x,industry:b,teamSize:y})},G=async()=>{if(!_){m("Please select a template");return}f(!0),m(null);try{const q=await(await fetch(`/api/onboarding/templates/${_}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:S}})})).json();if(!q.success)throw new Error(q.error);await R()}catch(Y){m(Y instanceof Error?Y.message:"Failed to apply template")}finally{f(!1)}},Q=()=>{const Y=P.split(/[,\n]/).map(q=>q.trim()).filter(q=>q);if(Y.length===0){T("invite_team");return}L("invite_team",{invitedEmails:Y})},z=(r==null?void 0:r.currentStep)||"company_info",B=F_[z],U=sy.indexOf(z);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",U+1," of ",sy.length-1]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:B.titleKo}),a.jsx("p",{className:"text-gray-600",children:B.descriptionKo})]}),p&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:p})}),z==="company_info"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",value:x,onChange:Y=>v(Y.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsxs("select",{value:b,onChange:Y=>j(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select industry"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),a.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),a.jsx("option",{value:"manufacturing",children:"Manufacturing"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),a.jsxs("select",{value:y,onChange:Y=>k(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select team size"}),a.jsx("option",{value:"1-5",children:"1-5 people"}),a.jsx("option",{value:"6-20",children:"6-20 people"}),a.jsx("option",{value:"21-50",children:"21-50 people"}),a.jsx("option",{value:"51-200",children:"51-200 people"}),a.jsx("option",{value:"200+",children:"200+ people"})]})]}),a.jsx("button",{onClick:$,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),z==="google_workspace"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),a.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),z==="select_template"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(Y=>a.jsxs("button",{onClick:()=>E(Y.id),className:`p-6 border-2 rounded-xl text-left transition ${_===Y.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:Y.icon}),a.jsx("h3",{className:"font-semibold text-gray-900",children:Y.nameKo}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.descriptionKo}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Y.agents.filter(q=>q.enabled).length," agents,"," ",Y.id==="custom"?"configure yourself":"pre-configured"]})]},Y.id))}),a.jsx("button",{onClick:G,disabled:d||!_,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),z==="customize_agents"&&a.jsxs("div",{className:"space-y-6",children:[_&&a.jsx("div",{className:"space-y-4",children:(H=s.find(Y=>Y.id===_))==null?void 0:H.agents.map(Y=>a.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:Y.enabled||S.includes(Y.id),onChange:q=>{q.target.checked?N([...S,Y.id]):N(S.filter(F=>F!==Y.id))},className:"h-4 w-4 text-indigo-600 rounded"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),a.jsx("div",{className:"text-sm text-gray-500",children:Y.description})]})]},Y.id))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),a.jsx("button",{onClick:()=>L("customize_agents",{selectedAgents:S}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),z==="connect_slack"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),a.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),z==="invite_team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),a.jsx("textarea",{value:P,onChange:Y=>C(Y.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),a.jsx("button",{onClick:Q,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":P.trim()?"Send Invites":"Continue"})]})]}),z==="first_workflow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),a.jsx("button",{onClick:()=>{L("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),z==="completed"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),z!=="completed"&&a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:sy.slice(0,-1).map(Y=>{const q=r==null?void 0:r.completedSteps.includes(Y),F=r==null?void 0:r.skippedSteps.includes(Y),D=Y===z;return a.jsx("div",{className:`w-3 h-3 rounded-full ${q?"bg-green-500":F?"bg-gray-300":D?"bg-indigo-600":"bg-gray-200"}`,title:F_[Y].title},Y)})})]})]})}const $Q=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],cl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},B_={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function DQ(){var H,Y;const e=Ss(),[t,r]=O.useState(B_),[n,s]=O.useState(!1),[o,l]=O.useState(!1),[u,d]=O.useState(null),[f,p]=O.useState(null),[m,x]=O.useState(""),[v,b]=O.useState(""),[j,y]=O.useState(""),[k,_]=O.useState(""),[E,S]=O.useState(""),N=O.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),d(null);try{const q=await fe({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(F=>({...F,analysis:q,selectedSkills:q.suggestedSkills,selectedTools:q.suggestedTools}))}catch(q){const F=q instanceof Ee?q.message:"   ";d(F)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);O.useEffect(()=>{t.step===3&&!t.analysis&&N()},[t.step,t.analysis,N]);const P=q=>{r(F=>({...F,changeType:q}))},C=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(q=>({...q,step:q.step+1}))},R=()=>{d(null),r(q=>({...q,step:q.step-1}))},M=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const q=await fe({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:q.prUrl,changeId:q.changeId})}catch(q){const F=q instanceof Ee?q.message:"    ";d(F)}finally{l(!1)}},L=q=>{r(F=>({...F,selectedSkills:F.selectedSkills.includes(q)?F.selectedSkills.filter(D=>D!==q):[...F.selectedSkills,q]}))},T=q=>{r(F=>({...F,selectedTools:F.selectedTools.includes(q)?F.selectedTools.filter(D=>D!==q):[...F.selectedTools,q]}))},$=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(r(q=>({...q,customSkills:[...q.customSkills,m.trim()]})),x(""))},G=()=>{v.trim()&&!t.customTools.includes(v.trim())&&(r(q=>({...q,customTools:[...q.customTools,v.trim()]})),b(""))},Q=(q,F,D)=>{F.trim()&&!t.permissions[q].includes(F.trim())&&(r(K=>({...K,permissions:{...K.permissions,[q]:[...K.permissions[q],F.trim()]}})),D(""))},z=(q,F)=>{r(D=>({...D,permissions:{...D.permissions,[q]:D.permissions[q].filter(K=>K!==F)}}))},B=q=>{switch(q){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},U=q=>{switch(q){case"low":return"";case"medium":return"";case"high":return""}};return f?a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),a.jsx("a",{href:f.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:f.prUrl})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),a.jsx("button",{onClick:()=>{r(B_),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(q=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${q===t.step?"bg-indigo-600 text-white":q<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:q<t.step?"":q}),q<5&&a.jsx("div",{className:`w-16 h-1 mx-2 ${q<t.step?"bg-indigo-600":"bg-gray-200"}`})]},q))}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[a.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),a.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(cl).map(q=>{const F=cl[q],D=t.changeType===q;return a.jsxs("button",{onClick:()=>P(q),className:`p-4 rounded-lg border-2 text-left transition-all ${D?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),a.jsx("div",{className:"font-semibold text-gray-900",children:F.title}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:F.titleEn}),a.jsx("div",{className:"text-sm text-gray-600",children:F.description})]},q)})})]}),t.step===2&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&cl[t.changeType].emoji," ",t.changeType&&cl[t.changeType].title," (Step 2/5)"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),a.jsxs("select",{value:t.teamFunction,onChange:q=>r(F=>({...F,teamFunction:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:""}),$Q.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),a.jsx("input",{type:"text",value:t.entityName,onChange:q=>r(F=>({...F,entityName:q.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("textarea",{value:t.description,onChange:q=>r(F=>({...F,description:q.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):a.jsxs("div",{className:"space-y-6",children:[t.analysis&&a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(H=t.analysis)==null?void 0:H.suggestedSkills.map(q=>a.jsx("button",{onClick:()=>L(q),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(q)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:q},q)),t.customSkills.map(q=>a.jsxs("button",{onClick:()=>r(F=>({...F,customSkills:F.customSkills.filter(D=>D!==q)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[q," "]},q))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:q=>x(q.target.value),onKeyPress:q=>q.key==="Enter"&&$(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(Y=t.analysis)==null?void 0:Y.suggestedTools.map(q=>a.jsx("button",{onClick:()=>T(q),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(q)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:q},q)),t.customTools.map(q=>a.jsxs("button",{onClick:()=>r(F=>({...F,customTools:F.customTools.filter(D=>D!==q)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[q," "]},q))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:q=>b(q.target.value),onKeyPress:q=>q.key==="Enter"&&G(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(q=>a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[q,a.jsx("button",{onClick:()=>z("read",q),className:"ml-1 hover:text-blue-900",children:""})]},q))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:j,onChange:q=>y(q.target.value),onKeyPress:q=>q.key==="Enter"&&Q("read",j,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Q("read",j,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(q=>a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[q,a.jsx("button",{onClick:()=>z("write",q),className:"ml-1 hover:text-green-900",children:""})]},q))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:k,onChange:q=>_(q.target.value),onKeyPress:q=>q.key==="Enter"&&Q("write",k,_),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Q("write",k,_),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(q=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[q,a.jsx("button",{onClick:()=>z("deny",q),className:"ml-1 hover:text-red-900",children:""})]},q))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:E,onChange:q=>S(q.target.value),onKeyPress:q=>q.key==="Enter"&&Q("deny",E,S),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Q("deny",E,S),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:" :"}),a.jsx("span",{className:"font-medium",children:t.changeType&&cl[t.changeType].title})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),a.jsx("span",{className:"font-medium",children:t.teamFunction})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"font-medium",children:t.entityName})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"text-gray-700",children:t.description})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(q=>a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:q},q))})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(q=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:q},q))})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${B(t.analysis.riskLevel)}`,children:[": ",U(t.analysis.riskLevel)]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),a.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((q,F)=>a.jsx("li",{className:"text-sm text-gray-700",children:q},F))})]})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),a.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(q=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",q]},q))]}),t.analysis.filesModified.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(q=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",q]},q))]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):R,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?a.jsx("button",{onClick:C,disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):a.jsx("button",{onClick:M,disabled:o,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?" ...":"  PR "})]})]})}function LQ(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState(null),[l,u]=O.useState(!1),[d,f]=O.useState("all"),[p,m]=O.useState(!1);O.useEffect(()=>{x()},[d]);const x=async()=>{try{n(!0);const E=new URLSearchParams;d!=="all"&&E.set("type",d),E.set("status","active"),E.set("limit","50");const S=await fetch(`/api/patterns?${E}`,{credentials:"include"});if(Ji(S)){u(!0);return}if(!S.ok)throw new Error("Failed to fetch patterns");const N=await S.json();t(N.patterns),o(null)}catch(E){o(E instanceof Error?E.message:"Unknown error")}finally{n(!1)}},v=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await x()}catch(E){o(E instanceof Error?E.message:"Analysis failed")}finally{m(!1)}},b=async E=>{try{if(!(await fetch(`/api/patterns/${E}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(N=>N.id!==E))}catch(S){o(S instanceof Error?S.message:"Failed to dismiss")}},j=async E=>{try{const S=await fetch(`/api/patterns/${E}/generate-sop`,{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Failed to generate SOP");const N=await S.json();window.location.href=`/sop-drafts/${N.draft.id}`}catch(S){o(S instanceof Error?S.message:"Failed to generate SOP")}},y=()=>{const E={sequence:0,cluster:0,time:0};let S=0;for(const N of e)E[N.type]++,S+=N.confidence;return{total:e.length,byType:E,avgConfidence:e.length>0?S/e.length:0}},k=E=>{var N;const S=E.data;switch(E.type){case"sequence":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((N=S.sequence)==null?void 0:N.join("  "))||"N/A"]});case"cluster":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Intent:"})," ",S.commonIntent||"Similar requests"]});case"time":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Schedule:"})," ",S.description||"Recurring pattern"]});default:return null}},_=y();return l?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx(mc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:x})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx("button",{onClick:v,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.byType.sequence})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.byType.cluster})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_.byType.time})]})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(E=>a.jsx("button",{onClick:()=>f(E),className:`px-4 py-2 rounded-lg ${d===E?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),a.jsx("button",{onClick:v,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(E=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.type==="sequence"?"bg-blue-100 text-blue-700":E.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:E.type}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(E.confidence*100),"% confidence"]})]}),a.jsx("div",{className:"mb-3",children:k(E)}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Frequency: ",E.frequency]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(E.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:a.jsx("div",{className:`h-full rounded-full ${E.confidence>=.8?"bg-green-500":E.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${E.confidence*100}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(E.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),a.jsx("button",{onClick:()=>b(E.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},E.id))})]})})}function FQ(){const[e,t]=O.useState(null),[r,n]=O.useState([]),[s,o]=O.useState(null),[l,u]=O.useState([]),[d,f]=O.useState(!0),[p,m]=O.useState(!1),[x,v]=O.useState(!1),[b,j]=O.useState("30d"),[y,k]=O.useState("overview"),[_,E]=O.useState({name:"",slug:"",email:"",website:"",description:""}),S=O.useCallback(async()=>{try{const T=await fe({url:"/api/marketplace/publishers/me",method:"GET"});return t(T.publisher),!0}catch(T){return T instanceof Ee&&T.status===404&&v(!0),!1}},[]),N=O.useCallback(async()=>{try{const T=await fe({url:"/api/marketplace/publishers/me/extensions",method:"GET"});n(T.extensions)}catch(T){console.error("Failed to fetch extensions:",T)}},[]),P=O.useCallback(async()=>{try{const T=await fe({url:`/api/marketplace/publishers/me/analytics?period=${b}`,method:"GET"});o(T.analytics)}catch(T){console.error("Failed to fetch analytics:",T)}},[b]),C=O.useCallback(async()=>{try{const T=await fe({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(T.payouts)}catch(T){console.error("Failed to fetch payouts:",T)}},[]);O.useEffect(()=>{(async()=>{f(!0),await S()&&await Promise.all([N(),P(),C()]),f(!1)})()},[S,N,P,C]),O.useEffect(()=>{e&&P()},[b,e,P]);const R=async T=>{T.preventDefault(),m(!0);try{const $=await fe({url:"/api/marketplace/publishers/register",method:"POST",data:_});t($.publisher),v(!1)}catch($){const G=$ instanceof Ee?$.message:"Registration failed";alert(G)}finally{m(!1)}},M=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:String(T),L=T=>`$${(T/100).toFixed(2)}`;return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?a.jsxs("div",{className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),a.jsx("input",{type:"text",value:_.name,onChange:T=>E({..._,name:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),a.jsx("input",{type:"text",value:_.slug,onChange:T=>E({..._,slug:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",value:_.email,onChange:T=>E({..._,email:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",value:_.website,onChange:T=>E({..._,website:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:_.description,onChange:T=>E({..._,description:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&a.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),a.jsx(At,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(T=>a.jsxs("button",{onClick:()=>k(T),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===T?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[T==="overview"&&"Overview",T==="extensions"&&`Extensions (${r.length})`,T==="payouts"&&"Payouts"]},T))})}),y==="overview"&&s&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("select",{value:b,onChange:T=>j(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(s.totalDownloads)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(s.totalInstalls)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:L(s.totalRevenue)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),a.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((T,$)=>{const G=Math.max(...s.downloadTrend.map(z=>z.count))||1,Q=T.count/G*100;return a.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(Q,2)}%`},title:`${T.date}: ${T.count} downloads`},$)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"pb-3",children:"Extension"}),a.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),a.jsx("th",{className:"pb-3 text-right",children:"Installs"}),a.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),a.jsx("tbody",{children:s.extensionStats.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium text-gray-900",children:T.name}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(T.downloads)}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(T.installs)}),a.jsx("td",{className:"py-3 text-right text-green-600",children:L(T.revenue)}),a.jsxs("td",{className:"py-3 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.rating.toFixed(1)]})]},T.extensionId))})]})]})]}),y==="extensions"&&a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),a.jsx(At,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Extension"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Downloads"}),a.jsx("th",{className:"p-4 text-right",children:"Rating"}),a.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),a.jsx("tbody",{children:r.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4",children:a.jsx(At,{to:`/marketplace/${T.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:T.name})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="published"?"bg-green-100 text-green-700":T.status==="review"?"bg-yellow-100 text-yellow-700":T.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-right text-gray-600",children:M(T.stats.downloads)}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.stats.rating.toFixed(1),a.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",T.stats.reviewCount,")"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.pricing})})]},T.id))})]})}),y==="payouts"&&a.jsxs("div",{children:[!e.payoutEnabled&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),a.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Period"}),a.jsx("th",{className:"p-4",children:"Amount"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4",children:"Paid Date"})]})}),a.jsx("tbody",{children:l.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(T.periodStart).toLocaleDateString()," -"," ",new Date(T.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"p-4 font-medium text-green-600",children:L(T.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="processing"?"bg-blue-100 text-blue-700":T.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-gray-600",children:T.paidAt?new Date(T.paidAt).toLocaleDateString():"-"})]},T.id))})]})})]})]}):null}function BQ(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,o]=O.useState(null),[l,u]=O.useState(null),[d,f]=O.useState("all"),[p,m]=O.useState(""),[x,v]=O.useState(!1);O.useEffect(()=>{b()},[d]);const b=async()=>{try{n(!0);const S=new URLSearchParams;d!=="all"&&S.set("status",d),S.set("limit","50");const N=await fetch(`/api/sop-drafts?${S}`,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch drafts");const P=await N.json();t(P.drafts),o(null)}catch(S){o(S instanceof Error?S.message:"Unknown error")}finally{n(!1)}},j=async S=>{try{if(!(await fetch(`/api/sop-drafts/${S}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(P=>P.id===S?{...P,status:"approved",reviewedAt:new Date().toISOString()}:P)),u(null)}catch(N){o(N instanceof Error?N.message:"Failed to approve")}},y=async S=>{try{if(!(await fetch(`/api/sop-drafts/${S}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(P=>P.id===S?{...P,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:P)),v(!1),m(""),u(null)}catch(N){o(N instanceof Error?N.message:"Failed to reject")}},k=async S=>{try{const N=await fetch(`/api/sop-drafts/${S.id}/yaml`,{credentials:"include"});if(!N.ok)throw new Error("Failed to download YAML");const P=await N.blob(),C=window.URL.createObjectURL(P),R=document.createElement("a");R.href=C,R.download=`${S.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(C)}catch(N){o(N instanceof Error?N.message:"Failed to download")}},_=S=>{switch(S){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},E=S=>{switch(S){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),a.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(S=>a.jsx("button",{onClick:()=>f(S),className:`px-4 py-2 rounded-lg ${d===S?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All":S.replace("_"," ").replace(/\b\w/g,N=>N.toUpperCase())},S))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-1/3",children:r?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):a.jsx("div",{className:"space-y-3",children:e.map(S=>a.jsxs("div",{onClick:()=>u(S),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===S.id?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:S.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_(S.status)}`,children:S.status.replace("_"," ")})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:S.description}),a.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:S.function}),a.jsx("span",{children:""}),a.jsxs("span",{children:[S.steps.length," steps"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(S.confidence*100),"%"]})]})]},S.id))})}),a.jsx("div",{className:"flex-1",children:l?a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full ${_(l.status)}`,children:l.status.replace("_"," ")})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Function: ",l.function]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Source: ",l.sourceType]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),a.jsx("div",{className:"space-y-3",children:l.steps.map((S,N)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:N+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:E(S.type)}),a.jsx("span",{className:"font-medium",children:S.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:S.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),S.agentId&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",S.agentId]}),S.toolName&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",S.toolName]})]})]},S.id))})]}),l.status==="rejected"&&l.rejectionReason&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>k(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),a.jsx("button",{onClick:()=>{v(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),a.jsx("button",{onClick:()=>j(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&a.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>k(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),a.jsx("textarea",{value:p,onChange:S=>m(S.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>y(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const qQ={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function zQ({step:e,index:t,isSelected:r,isDragging:n,onSelect:s,onDragStart:o,onDragEnd:l}){const u=O.useMemo(()=>qQ[e.type],[e.type]);return a.jsxs("div",{draggable:!0,onDragStart:o,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${n?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&a.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function UQ({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:n,onAddStep:s}){const[o,l]=O.useState(null),[u,d]=O.useState(null),f=O.useRef(null),p=O.useCallback(j=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(j)),l(j)},[]),m=O.useCallback(()=>{l(null),d(null)},[]),x=O.useCallback(j=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",o!==null&&j!==o&&d(j)},[o]),v=O.useCallback(j=>y=>{y.preventDefault();const k=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(k)&&k!==j&&n(k,j),l(null),d(null)},[n]),b=j=>j>=e.length-1?null:a.jsxs("div",{className:"flex justify-center my-2",children:[a.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),a.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:a.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return a.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:f,children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),a.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Automated"})]}),a.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Manual"})]}),a.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Approval"})]})]})}),a.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),a.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[e.map((j,y)=>a.jsxs("div",{children:[u===y&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),a.jsx("div",{onDragOver:x(y),onDrop:v(y),children:a.jsx(zQ,{step:j,index:y,isSelected:t===y,isDragging:o===y,onSelect:()=>r(y),onDragStart:p(y),onDragEnd:m})}),b(y)]},j.id+"-"+y)),u===e.length&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:j=>{j.preventDefault(),d(e.length)},onDrop:v(e.length),children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function WQ({step:e,onUpdate:t,onDelete:r,onClose:n}){var x,v;const[s,o]=O.useState(e),[l,u]=O.useState("");if(O.useEffect(()=>{o(e)},[e]),!s)return a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(b,j)=>{const y={...s,[b]:j};o(y),t(y)},f=b=>{const j={...s,conditional:{when:b}};o(j),t(j)},p=()=>{if(!l.trim())return;const b=[...s.checklist||[],l.trim()];d("checklist",b),u("")},m=b=>{var y;const j=((y=s.checklist)==null?void 0:y.filter((k,_)=>_!==b))||[];d("checklist",j.length>0?j:void 0)};return a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:s.type,onChange:b=>d("type",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"automated",children:" Automated"}),a.jsx("option",{value:"manual",children:" Manual"}),a.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),a.jsx("input",{type:"text",value:s.id,onChange:b=>d("id",b.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:s.name,onChange:b=>d("name",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:s.description||"",onChange:b=>d("description",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),a.jsx("input",{type:"text",value:s.agent||"",onChange:b=>d("agent",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),a.jsx("input",{type:"text",value:s.tool||"",onChange:b=>d("tool",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsx("input",{type:"text",value:s.assignee||"",onChange:b=>d("assignee",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:b=>d("requires_approval",b.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),a.jsx("input",{type:"text",value:s.approver||"",onChange:b=>d("approver",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),a.jsxs("select",{value:s.timeout||"",onChange:b=>d("timeout",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"No timeout"}),a.jsx("option",{value:"5m",children:"5 minutes"}),a.jsx("option",{value:"15m",children:"15 minutes"}),a.jsx("option",{value:"30m",children:"30 minutes"}),a.jsx("option",{value:"1h",children:"1 hour"}),a.jsx("option",{value:"2h",children:"2 hours"}),a.jsx("option",{value:"4h",children:"4 hours"}),a.jsx("option",{value:"8h",children:"8 hours"}),a.jsx("option",{value:"24h",children:"24 hours"}),a.jsx("option",{value:"48h",children:"48 hours"}),a.jsx("option",{value:"72h",children:"72 hours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),a.jsx("input",{type:"text",value:((x=s.conditional)==null?void 0:x.when)||"",onChange:b=>b.target.value?f(b.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),a.jsxs("div",{className:"space-y-2",children:[(v=s.checklist)==null?void 0:v.map((b,j)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:b}),a.jsx("button",{onClick:()=>m(j),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},j)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),onKeyDown:b=>b.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),a.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function HQ({sopId:e,isOpen:t,onClose:r}){const[n,s]=O.useState("{}"),[o,l]=O.useState(null),[u,d]=O.useState(!1),[f,p]=O.useState(null),[m,x]=O.useState(0),v=async()=>{if(e){d(!0),p(null);try{const y=JSON.parse(n),k=await fe({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(k.simulation),x(0)}catch(y){y instanceof SyntaxError?p("Invalid JSON in input data"):y instanceof Ee?p(y.message):p("Failed to simulate SOP")}finally{d(!1)}}},b=y=>{if(y<60)return`${y}m`;const k=Math.floor(y/60),_=y%60;if(k<24)return _>0?`${k}h ${_}m`:`${k}h`;const E=Math.floor(k/24),S=k%24;return S>0?`${E}d ${S}h`:`${E}d`},j=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:n,onChange:y=>s(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),a.jsx("button",{onClick:v,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),f&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),o&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:o.sopName}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",a.jsx("span",{className:"font-medium",children:o.totalSteps})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",a.jsx("span",{className:"font-medium",children:b(o.estimatedTotalDuration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",a.jsxs("span",{className:"font-medium",children:[o.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),a.jsx("div",{className:"space-y-3",children:o.steps.map((y,k)=>{const _=j(y.type),E=k===m;return a.jsx("div",{onClick:()=>x(k),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${E?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:k+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${_.color}`,children:[_.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),a.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&a.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),E&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",a.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",a.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",a.jsx("span",{children:y.assignee})]}),y.approver&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",a.jsx("span",{children:y.approver})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",a.jsx("span",{children:b(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Checklist:"}),a.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((S,N)=>a.jsx("li",{className:"text-gray-600",children:S},N))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),a.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:b(y.estimatedDuration)})]})},y.id)})})]}),o.exceptionHandlers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),a.jsx("div",{className:"space-y-2",children:o.exceptionHandlers.map((y,k)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-500",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:y.condition}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&a.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},k))})]})]})]})]})}):null}const KQ=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function GQ(){const{id:e}=df(),t=Ss(),r=!!e,[n,s]=O.useState([]),[o,l]=O.useState(!0),[u,d]=O.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[f,p]=O.useState([{pattern:""}]),[m,x]=O.useState([]),[v,b]=O.useState([]),[j,y]=O.useState(null),[k,_]=O.useState(!1),[E,S]=O.useState(!1),[N,P]=O.useState(null),[C,R]=O.useState(null),[M,L]=O.useState(!1),[T,$]=O.useState(!1),[G,Q]=O.useState(""),[z,B]=O.useState("editor"),U=O.useCallback(async()=>{try{const Z=await fe({url:"/api/sops",method:"GET"});s(Z.sops)}catch(Z){console.error("Failed to fetch SOP list:",Z)}finally{l(!1)}},[]),H=O.useCallback(async Z=>{_(!0),P(null);try{const be=(await fe({url:`/api/sops/${Z}`,method:"GET"})).sop;d(be.metadata),p(be.triggers),x(be.steps),b(be.exception_handling||[])}catch(ve){ve instanceof Ee?P(ve.message):P("Failed to load SOP")}finally{_(!1)}},[]),Y=O.useCallback(async()=>{if(e)try{const Z=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(Z.ok){const ve=await Z.text();Q(ve)}}catch(Z){console.error("Failed to fetch YAML:",Z)}},[e]);O.useEffect(()=>{U()},[U]),O.useEffect(()=>{e?H(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),x([]),b([]),y(null))},[e,H]),O.useEffect(()=>{T&&e&&Y()},[T,e,Y]);const q=Z=>{const ve={id:`step-${Date.now()}`,name:`New ${Z==="automated"?"Automated":Z==="manual"?"Manual":"Approval"} Step`,type:Z};x([...m,ve]),y(m.length)},F=Z=>{if(j===null)return;const ve=[...m];ve[j]=Z,x(ve)},D=()=>{if(j===null)return;const Z=m.filter((ve,be)=>be!==j);x(Z),y(null)},K=(Z,ve)=>{const be=[...m],[Je]=be.splice(Z,1);be.splice(ve,0,Je),x(be),j===Z&&y(ve)},ie=()=>{p([...f,{pattern:""}])},ue=(Z,ve)=>{const be=[...f];be[Z]={pattern:ve},p(be)},se=Z=>{f.length<=1||p(f.filter((ve,be)=>be!==Z))},te=()=>{b([...v,{condition:"",action:"notify_owner"}])},pe=(Z,ve,be)=>{const Je=[...v];Je[Z]={...Je[Z],[ve]:be},b(Je)},ce=Z=>{b(v.filter((ve,be)=>be!==Z))},Oe=async()=>{if(!u.id.trim()){P("SOP ID is required");return}if(!u.name.trim()){P("SOP name is required");return}if(!u.owner.trim()){P("Owner is required");return}if(f.every(ve=>!ve.pattern.trim())){P("At least one trigger pattern is required");return}if(m.length===0){P("At least one step is required");return}S(!0),P(null),R(null);const Z={metadata:u,triggers:f.filter(ve=>ve.pattern.trim()),steps:m,exception_handling:v.filter(ve=>ve.condition.trim())};try{r?(await fe({url:`/api/sops/${e}`,method:"PUT",data:Z}),R("SOP updated successfully")):(await fe({url:"/api/sops",method:"POST",data:Z}),R("SOP created successfully"),t(`/sops/${u.id}`)),U()}catch(ve){ve instanceof Ee?P(ve.message):P("Failed to save SOP")}finally{S(!1)}},Te=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await fe({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),U()}catch(Z){Z instanceof Ee?P(Z.message):P("Failed to delete SOP")}};return k?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("nav",{className:"text-sm mb-1",children:[a.jsx(At,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>$(!T),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:T?"Hide YAML":"View YAML"}),a.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),a.jsx("button",{onClick:Te,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),a.jsx("button",{onClick:Oe,disabled:E,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:E?"Saving...":r?"Update SOP":"Create SOP"})]})]}),N&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:N}),C&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:C})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsx("div",{className:"p-4",children:a.jsxs(At,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New SOP"})]})}),a.jsx("nav",{className:"px-2 pb-4",children:o?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):n.length===0?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):n.map(Z=>a.jsxs(At,{to:`/sops/${Z.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===Z.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"font-medium truncate",children:Z.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[Z.function,"  ",Z.stepCount," steps"]})]},Z.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(Z=>a.jsxs("button",{onClick:()=>B(Z),className:`py-3 text-sm font-medium border-b-2 transition-colors ${z===Z?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[Z==="editor"&&"Step Editor",Z==="triggers"&&"Triggers & Metadata",Z==="exceptions"&&"Exception Handlers"]},Z))})}),z==="editor"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(UQ,{steps:m,selectedStepIndex:j,onSelectStep:y,onReorderSteps:K,onAddStep:q}),a.jsx(WQ,{step:j!==null?m[j]:null,onUpdate:F,onDelete:D,onClose:()=>y(null)})]}),z==="triggers"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),a.jsx("input",{type:"text",value:u.id,onChange:Z=>d({...u,id:Z.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:u.name,onChange:Z=>d({...u,name:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{value:u.function,onChange:Z=>d({...u,function:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:KQ.map(Z=>a.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),a.jsx("input",{type:"text",value:u.owner,onChange:Z=>d({...u,owner:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",value:u.version,onChange:Z=>d({...u,version:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),a.jsx("button",{onClick:ie,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),a.jsx("div",{className:"space-y-3",children:f.map((Z,ve)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:Z.pattern,onChange:be=>ue(ve,be.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),f.length>1&&a.jsx("button",{onClick:()=>se(ve),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},ve))})]})]})}),z==="exceptions"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),a.jsx("button",{onClick:te,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),v.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No exception handlers defined"}),a.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):a.jsx("div",{className:"space-y-4",children:v.map((Z,ve)=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),a.jsxs("select",{value:Z.condition,onChange:be=>pe(ve,"condition",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select condition..."}),a.jsx("option",{value:"step.failed",children:"Step Failed"}),a.jsx("option",{value:"step.timeout",children:"Step Timeout"}),a.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),a.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),a.jsxs("select",{value:Z.action,onChange:be=>pe(ve,"action",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"notify_owner",children:"Notify Owner"}),a.jsx("option",{value:"escalate",children:"Escalate"}),a.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),a.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),a.jsx("option",{value:"return_to_step",children:"Return to Step"}),a.jsx("option",{value:"send_reminder",children:"Send Reminder"}),a.jsx("option",{value:"request_revision",children:"Request Revision"}),a.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),a.jsx("input",{type:"text",value:Z.target||"",onChange:be=>pe(ve,"target",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),a.jsx("input",{type:"text",value:Z.message||"",onChange:be=>pe(ve,"message",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),a.jsx("button",{onClick:()=>ce(ve),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},ve))})]})})})]})]}),T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),a.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:G||"Loading..."})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),a.jsx(HQ,{sopId:e||null,isOpen:M,onClose:()=>L(!1)})]})}function VQ(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function YQ(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function i4(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function XQ(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function sj(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function q_(e){return new Date(e).toLocaleDateString()}function o4(e){return new Date(e).toLocaleString()}function z_(e){switch(e){case"up":return"";case"down":return"";default:return""}}function QQ({score:e,status:t}){return a.jsxs("div",{className:`rounded-lg p-6 ${YQ(e)} text-center`,children:[a.jsx("div",{className:`text-6xl font-bold ${VQ(e)}`,children:e}),a.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),a.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${i4(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function iy({title:e,value:t,subtitle:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function JQ({agent:e}){return a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i4(e.status)}`,children:e.status})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",a.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),a.jsx("span",{className:"ml-1 text-gray-400",children:z_(e.trends.executionsTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Success:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",a.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),a.jsx("span",{className:"ml-1 text-gray-400",children:z_(e.trends.latencyTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function ZQ({anomaly:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`text-sm font-medium ${XQ(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${sj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",o4(e.detectedAt)]})]})}function eJ({gap:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${sj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function tJ({recommendation:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${sj(e.priority)}`,children:e.priority})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",a.jsx("span",{className:"text-gray-700",children:e.impact})]}),a.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function rJ(){const[e,t]=O.useState(null),[r,n]=O.useState([]),[s,o]=O.useState([]),[l,u]=O.useState([]),[d,f]=O.useState(!0),[p,m]=O.useState(null),[x,v]=O.useState(!1),[b,j]=O.useState(!0),[y,k]=O.useState("agents"),_=O.useCallback(async()=>{try{const[C,R,M,L]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Ji(C)){v(!0),f(!1);return}if(!C.ok)throw new Error("Failed to fetch health data");const T=await C.json();if(t(T.data),R.ok){const $=await R.json();n($.data||[])}if(M.ok){const $=await M.json();o($.data||[])}if(L.ok){const $=await L.json();u($.data||[])}m(null)}catch(C){m(C instanceof Error?C.message:"Unknown error")}finally{f(!1)}},[]);O.useEffect(()=>{_()},[_]),O.useEffect(()=>{if(!b)return;const C=setInterval(_,6e4);return()=>clearInterval(C)},[b,_]);const E=async C=>{try{(await fetch(`/api/meta-agent/recommendations/${C}/accept`,{method:"POST",credentials:"include"})).ok&&o(M=>M.filter(L=>L.id!==C))}catch(R){console.error("Failed to accept recommendation",R)}},S=async C=>{try{(await fetch(`/api/meta-agent/recommendations/${C}/reject`,{method:"POST",credentials:"include"})).ok&&o(M=>M.filter(L=>L.id!==C))}catch(R){console.error("Failed to reject recommendation",R)}},N=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&_()}catch(C){console.error("Failed to generate report",C)}},P=async()=>{try{f(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&_()}catch(C){console.error("Failed to run system check",C)}finally{f(!1)}};return d&&!e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x?a.jsx(mc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:_}):p&&!e?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[a.jsx("h3",{className:"font-medium",children:"Error loading system health"}),a.jsx("p",{children:p}),a.jsx("button",{onClick:_,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),a.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?o4(e.timestamp):"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),a.jsx("button",{onClick:N,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:C=>j(C.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(QQ,{score:e.overallScore,status:e.status}),a.jsx(iy,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),a.jsx(iy,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),a.jsx(iy,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(C=>C.severity==="critical"||C.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(C=>C.severity==="critical").length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(C=>C.severity==="critical").map((C,R)=>a.jsx(ZQ,{anomaly:C},R))})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(C=>a.jsxs("button",{onClick:()=>k(C),className:`py-2 px-4 border-b-2 font-medium text-sm ${y===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,C==="gaps"&&`Knowledge Gaps (${r.length})`,C==="recommendations"&&`Recommendations (${s.length})`,C==="reports"&&`Reports (${l.length})`]},C))})}),y==="agents"&&e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(C=>a.jsx(JQ,{agent:C},C.agentId))}),y==="gaps"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((C,R)=>a.jsx(eJ,{gap:C},R))}),y==="recommendations"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(C=>a.jsx(tJ,{recommendation:C,onAccept:E,onReject:S},C.id))}),y==="reports"&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(C=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:[C.type.charAt(0).toUpperCase()+C.type.slice(1)," Report"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[q_(C.periodStart)," - ",q_(C.periodEnd)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:`/api/meta-agent/reports/${C.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),a.jsx("a",{href:`/api/meta-agent/reports/${C.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},C.id))})]})}function nJ(){const{currentOrganization:e}=wn(),[t,r]=O.useState("experiments"),[n,s]=O.useState([]),[o,l]=O.useState(null),[u,d]=O.useState([]),[f,p]=O.useState(!0),[m,x]=O.useState("");O.useEffect(()=>{v()},[e]);async function v(){p(!0);try{const[y,k,_]=await Promise.all([fe({url:"/api/optimization/experiments"}),fe({url:"/api/optimization/costs",params:{days:30}}),fe({url:"/api/optimization/models"})]);s(y.experiments||[]),l(k.analysis||null),d(_.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{p(!1)}}async function b(y){try{await fe({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await v()}catch(k){console.error("Failed to start experiment:",k)}}async function j(y){try{await fe({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await v()}catch(k){console.error("Failed to stop experiment:",k)}}return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),a.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>a.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&a.jsx(aJ,{experiments:n,onStart:b,onStop:j}),t==="prompts"&&a.jsx(oJ,{selectedAgent:m,onAgentChange:x}),t==="routing"&&a.jsx(lJ,{selectedAgent:m,onAgentChange:x}),t==="models"&&a.jsx(cJ,{models:u}),t==="costs"&&o&&a.jsx(uJ,{analysis:o})]})}function aJ({experiments:e,onStart:t,onStop:r}){const n=e.filter(o=>o.status==="running"),s=e.filter(o=>o.status==="completed");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),n.length===0?a.jsx("p",{className:"text-gray-500",children:"No active experiments"}):a.jsx("div",{className:"space-y-4",children:n.map(o=>a.jsx(sJ,{experiment:o,onStart:t,onStop:r},o.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?a.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):a.jsx("div",{className:"space-y-4",children:s.map(o=>a.jsx(iJ,{experiment:o},o.id))})]})]})}function sJ({experiment:e,onStart:t,onStop:r}){const n={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${n[e.status]}`,children:e.status}),e.status==="draft"&&a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function iJ({experiment:e}){const t=e.results;return t?a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Control"}),a.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),a.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),a.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),a.jsxs("div",{className:"mt-4 text-sm",children:[a.jsxs("p",{children:["Improvement: ",a.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),a.jsxs("p",{children:["Confidence: ",a.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&a.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function oJ({selectedAgent:e,onAgentChange:t}){const[r,n]=O.useState([]),[s,o]=O.useState(!1);async function l(u){if(u){o(!0);try{const d=await fe({url:`/api/optimization/agents/${u}/prompts`});n(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{o(!1)}}}return O.useEffect(()=>{e&&l(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?a.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):a.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return a.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&a.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function lJ({selectedAgent:e,onAgentChange:t}){var f,p;const[r,n]=O.useState(null),[s,o]=O.useState(null),[l,u]=O.useState(!1);async function d(m){if(m){u(!0);try{const[x,v]=await Promise.all([fe({url:`/api/optimization/agents/${m}/routing/analysis`}),fe({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);n(x.analysis||null),o(v||null)}catch(x){console.error("Failed to load routing:",x)}finally{u(!1)}}}return O.useEffect(()=>{e&&d(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),a.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),a.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&a.jsxs(a.Fragment,{children:[((f=s.additions)==null?void 0:f.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function cJ({models:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function uJ({analysis:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),a.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?a.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):a.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),a.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}function dJ(){const[e,t]=O.useState(!1),{currentOrganization:r,organizations:n,switchOrganization:s}=wn();if(!r||n.length<=1)return null;const o=async l=>{t(!1),await s(l)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),n.map(l=>a.jsxs("button",{onClick:()=>o(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function fJ({user:e,onLogout:t}){return a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),a.jsx(dJ,{}),e&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const hJ=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],mJ=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],pJ=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],gJ=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],xJ=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],yJ=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],vJ=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function bJ(){const e=Ns(),t=r=>r.map(n=>{const o=e.pathname===n.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return a.jsx("li",{children:a.jsxs(At,{to:n.path,className:o,children:[a.jsx("span",{className:"text-xl",children:n.icon}),a.jsx("span",{className:"font-medium",children:n.name})]})},n.path)});return a.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:a.jsx("nav",{className:"p-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("ul",{className:"space-y-2",children:t(hJ)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),a.jsx("ul",{className:"space-y-2",children:t(mJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),a.jsx("ul",{className:"space-y-2",children:t(pJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),a.jsx("ul",{className:"space-y-2",children:t(gJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),a.jsx("ul",{className:"space-y-2",children:t(xJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),a.jsx("ul",{className:"space-y-2",children:t(yJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),a.jsx("ul",{className:"space-y-2",children:t(vJ)})]})]})})})}function qe({children:e}){const{user:t,logout:r}=wn();return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(fJ,{user:t||void 0,onLogout:r}),a.jsx(bJ,{}),a.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function ze({children:e}){const{user:t,isLoading:r,fetchUser:n}=wn();return O.useEffect(()=>{n()},[n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(mC,{to:"/login",replace:!0})}function jJ(){return a.jsx(HR,{children:a.jsxs(DR,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(XR,{})}),a.jsx(Fe,{path:"/dashboard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(RI,{})})})}),a.jsx(Fe,{path:"/okr",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(d$,{})})})}),a.jsx(Fe,{path:"/workflows",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx($I,{})})})}),a.jsx(Fe,{path:"/workflows/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(DI,{})})})}),a.jsx(Fe,{path:"/executions",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(LI,{})})})}),a.jsx(Fe,{path:"/executions/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(FI,{})})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(BI,{})})})}),a.jsx(Fe,{path:"/settings/notion",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(qI,{})})})}),a.jsx(Fe,{path:"/settings/slack",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(zI,{})})})}),a.jsx(Fe,{path:"/settings/google-calendar",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(UI,{})})})}),a.jsx(Fe,{path:"/settings/members",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(KI,{})})})}),a.jsx(Fe,{path:"/approvals",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(GI,{})})})}),a.jsx(Fe,{path:"/activity",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(r$,{})})})}),a.jsx(Fe,{path:"/metrics/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(a$,{})})})}),a.jsx(Fe,{path:"/org-changes",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(s$,{})})})}),a.jsx(Fe,{path:"/admin/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(p$,{})})})}),a.jsx(Fe,{path:"/admin/skills",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(v$,{})})})}),a.jsx(Fe,{path:"/admin",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(k$,{})})})}),a.jsx(Fe,{path:"/admin/organizations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(A$,{})})})}),a.jsx(Fe,{path:"/admin/optimization",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(nJ,{})})})}),a.jsx(Fe,{path:"/conversations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(b$,{})})})}),a.jsx(Fe,{path:"/search",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(S$,{})})})}),a.jsx(Fe,{path:"/analytics",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(SQ,{})})})}),a.jsx(Fe,{path:"/costs",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(PQ,{})})})}),a.jsx(Fe,{path:"/billing",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(kQ,{})})})}),a.jsx(Fe,{path:"/knowledge-graph",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(RQ,{})})})}),a.jsx(Fe,{path:"/patterns",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(LQ,{})})})}),a.jsx(Fe,{path:"/feedback",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(TQ,{})})})}),a.jsx(Fe,{path:"/system-health",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(rJ,{})})})}),a.jsx(Fe,{path:"/marketplace",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(MQ,{})})})}),a.jsx(Fe,{path:"/marketplace/:extensionId",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(EQ,{})})})}),a.jsx(Fe,{path:"/developer",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(CQ,{})})})}),a.jsx(Fe,{path:"/developer/publisher",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(FQ,{})})})}),a.jsx(Fe,{path:"/sops/drafts",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(BQ,{})})})}),a.jsx(Fe,{path:"/sops/editor/:id?",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(GQ,{})})})}),a.jsx(Fe,{path:"/onboarding",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(IQ,{})})})}),a.jsx(Fe,{path:"/org-change-wizard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(DQ,{})})})}),a.jsx(Fe,{path:"/",element:a.jsx(mC,{to:"/dashboard",replace:!0})})]})})}class wJ extends V.Component{constructor(){super(...arguments);Tu(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const n=r instanceof Error?r.message:String(r);console.error("UI error:",n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?a.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,a.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const NJ=new U6;g6.createRoot(document.getElementById("root")).render(a.jsx(V.StrictMode,{children:a.jsx(wJ,{children:a.jsx(H6,{client:NJ,children:a.jsx(jJ,{})})})}));
