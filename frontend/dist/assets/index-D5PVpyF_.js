var P8=Object.defineProperty;var Y2=e=>{throw TypeError(e)};var A8=(e,t,r)=>t in e?P8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ud=(e,t,r)=>A8(e,typeof t!="symbol"?t+"":t,r),Pp=(e,t,r)=>t.has(e)||Y2("Cannot "+r);var Q=(e,t,r)=>(Pp(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?Y2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(Pp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(Pp(e,t,"access private method"),r);var dd=(e,t,r,n)=>({set _(s){ye(e,t,s,r)},get _(){return Q(e,t,n)}});function E8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ap={exports:{}},Ol={},Ep={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function _8(){if(X2)return Ue;X2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function y(B,L,G){this.props=B,this.context=L,this.refs=j,this.updater=G||b}y.prototype.isReactComponent={},y.prototype.setState=function(B,L){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,L,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function S(){}S.prototype=y.prototype;function A(B,L,G){this.props=B,this.context=L,this.refs=j,this.updater=G||b}var _=A.prototype=new S;_.constructor=A,v(_,y.prototype),_.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(B,L,G){var ee,ue={},ge=null,ie=null;if(L!=null)for(ee in L.ref!==void 0&&(ie=L.ref),L.key!==void 0&&(ge=""+L.key),L)C.call(L,ee)&&!P.hasOwnProperty(ee)&&(ue[ee]=L[ee]);var xe=arguments.length-2;if(xe===1)ue.children=G;else if(1<xe){for(var ce=Array(xe),Oe=0;Oe<xe;Oe++)ce[Oe]=arguments[Oe+2];ue.children=ce}if(B&&B.defaultProps)for(ee in xe=B.defaultProps,xe)ue[ee]===void 0&&(ue[ee]=xe[ee]);return{$$typeof:e,type:B,key:ge,ref:ie,props:ue,_owner:O.current}}function $(B,L){return{$$typeof:e,type:B.type,key:L,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function T(B){var L={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(G){return L[G]})}var M=/\/+/g;function H(B,L){return typeof B=="object"&&B!==null&&B.key!=null?T(""+B.key):L.toString(36)}function Y(B,L,G,ee,ue){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(ge){case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case e:case t:ie=!0}}if(ie)return ie=B,ue=ue(ie),B=ee===""?"."+H(ie,0):ee,k(ue)?(G="",B!=null&&(G=B.replace(M,"$&/")+"/"),Y(ue,L,G,"",function(Oe){return Oe})):ue!=null&&(I(ue)&&(ue=$(ue,G+(!ue.key||ie&&ie.key===ue.key?"":(""+ue.key).replace(M,"$&/")+"/")+B)),L.push(ue)),1;if(ie=0,ee=ee===""?".":ee+":",k(B))for(var xe=0;xe<B.length;xe++){ge=B[xe];var ce=ee+H(ge,xe);ie+=Y(ge,L,G,ce,ue)}else if(ce=x(B),typeof ce=="function")for(B=ce.call(B),xe=0;!(ge=B.next()).done;)ge=ge.value,ce=ee+H(ge,xe++),ie+=Y(ge,L,G,ce,ue);else if(ge==="object")throw L=String(B),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ie}function q(B,L,G){if(B==null)return B;var ee=[],ue=0;return Y(B,ee,"","",function(ge){return L.call(G,ge,ue++)}),ee}function U(B){if(B._status===-1){var L=B._result;L=L(),L.then(function(G){(B._status===0||B._status===-1)&&(B._status=1,B._result=G)},function(G){(B._status===0||B._status===-1)&&(B._status=2,B._result=G)}),B._status===-1&&(B._status=0,B._result=L)}if(B._status===1)return B._result.default;throw B._result}var F={current:null},W={transition:null},X={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:q,forEach:function(B,L,G){q(B,function(){L.apply(this,arguments)},G)},count:function(B){var L=0;return q(B,function(){L++}),L},toArray:function(B){return q(B,function(L){return L})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ue.Component=y,Ue.Fragment=r,Ue.Profiler=s,Ue.PureComponent=A,Ue.StrictMode=n,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ue.act=z,Ue.cloneElement=function(B,L,G){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ee=v({},B.props),ue=B.key,ge=B.ref,ie=B._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,ie=O.current),L.key!==void 0&&(ue=""+L.key),B.type&&B.type.defaultProps)var xe=B.type.defaultProps;for(ce in L)C.call(L,ce)&&!P.hasOwnProperty(ce)&&(ee[ce]=L[ce]===void 0&&xe!==void 0?xe[ce]:L[ce])}var ce=arguments.length-2;if(ce===1)ee.children=G;else if(1<ce){xe=Array(ce);for(var Oe=0;Oe<ce;Oe++)xe[Oe]=arguments[Oe+2];ee.children=xe}return{$$typeof:e,type:B.type,key:ue,ref:ge,props:ee,_owner:ie}},Ue.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Ue.createElement=R,Ue.createFactory=function(B){var L=R.bind(null,B);return L.type=B,L},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:u,render:B}},Ue.isValidElement=I,Ue.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:U}},Ue.memo=function(B,L){return{$$typeof:f,type:B,compare:L===void 0?null:L}},Ue.startTransition=function(B){var L=W.transition;W.transition={};try{B()}finally{W.transition=L}},Ue.unstable_act=z,Ue.useCallback=function(B,L){return F.current.useCallback(B,L)},Ue.useContext=function(B){return F.current.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B){return F.current.useDeferredValue(B)},Ue.useEffect=function(B,L){return F.current.useEffect(B,L)},Ue.useId=function(){return F.current.useId()},Ue.useImperativeHandle=function(B,L,G){return F.current.useImperativeHandle(B,L,G)},Ue.useInsertionEffect=function(B,L){return F.current.useInsertionEffect(B,L)},Ue.useLayoutEffect=function(B,L){return F.current.useLayoutEffect(B,L)},Ue.useMemo=function(B,L){return F.current.useMemo(B,L)},Ue.useReducer=function(B,L,G){return F.current.useReducer(B,L,G)},Ue.useRef=function(B){return F.current.useRef(B)},Ue.useState=function(B){return F.current.useState(B)},Ue.useSyncExternalStore=function(B,L,G){return F.current.useSyncExternalStore(B,L,G)},Ue.useTransition=function(){return F.current.useTransition()},Ue.version="18.3.1",Ue}var J2;function Bb(){return J2||(J2=1,Ep.exports=_8()),Ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function T8(){if(Z2)return Ol;Z2=1;var e=Bb(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},x=null,b=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:x,ref:b,props:m,_owner:s.current}}return Ol.Fragment=r,Ol.jsx=l,Ol.jsxs=l,Ol}var eN;function R8(){return eN||(eN=1,Ap.exports=T8()),Ap.exports}var a=R8(),N=Bb();const V=Ze(N),M8=E8({__proto__:null,default:V},[N]);var hd={},_p={exports:{}},mr={},Tp={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function I8(){return tN||(tN=1,(function(e){function t(W,X){var z=W.length;W.push(X);e:for(;0<z;){var B=z-1>>>1,L=W[B];if(0<s(L,X))W[B]=X,W[z]=L,z=B;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var X=W[0],z=W.pop();if(z!==X){W[0]=z;e:for(var B=0,L=W.length,G=L>>>1;B<G;){var ee=2*(B+1)-1,ue=W[ee],ge=ee+1,ie=W[ge];if(0>s(ue,z))ge<L&&0>s(ie,ue)?(W[B]=ie,W[ge]=z,B=ge):(W[B]=ue,W[ee]=z,B=ee);else if(ge<L&&0>s(ie,z))W[B]=ie,W[ge]=z,B=ge;else break e}}return X}function s(W,X){var z=W.sortIndex-X.sortIndex;return z!==0?z:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,x=3,b=!1,v=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var X=r(f);X!==null;){if(X.callback===null)n(f);else if(X.startTime<=W)n(f),X.sortIndex=X.expirationTime,t(d,X);else break;X=r(f)}}function k(W){if(j=!1,_(W),!v)if(r(d)!==null)v=!0,U(C);else{var X=r(f);X!==null&&F(k,X.startTime-W)}}function C(W,X){v=!1,j&&(j=!1,S(R),R=-1),b=!0;var z=x;try{for(_(X),m=r(d);m!==null&&(!(m.expirationTime>X)||W&&!T());){var B=m.callback;if(typeof B=="function"){m.callback=null,x=m.priorityLevel;var L=B(m.expirationTime<=X);X=e.unstable_now(),typeof L=="function"?m.callback=L:m===r(d)&&n(d),_(X)}else n(d);m=r(d)}if(m!==null)var G=!0;else{var ee=r(f);ee!==null&&F(k,ee.startTime-X),G=!1}return G}finally{m=null,x=z,b=!1}}var O=!1,P=null,R=-1,$=5,I=-1;function T(){return!(e.unstable_now()-I<$)}function M(){if(P!==null){var W=e.unstable_now();I=W;var X=!0;try{X=P(!0,W)}finally{X?H():(O=!1,P=null)}}else O=!1}var H;if(typeof A=="function")H=function(){A(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,q=Y.port2;Y.port1.onmessage=M,H=function(){q.postMessage(null)}}else H=function(){y(M,0)};function U(W){P=W,O||(O=!0,H())}function F(W,X){R=y(function(){W(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,U(C))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var z=x;x=X;try{return W()}finally{x=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=x;x=W;try{return X()}finally{x=z}},e.unstable_scheduleCallback=function(W,X,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,W={id:p++,callback:X,priorityLevel:W,startTime:z,expirationTime:L,sortIndex:-1},z>B?(W.sortIndex=z,t(f,W),r(d)===null&&W===r(f)&&(j?(S(R),R=-1):j=!0,F(k,z-B))):(W.sortIndex=L,t(d,W),v||b||(v=!0,U(C))),W},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(W){var X=x;return function(){var z=x;x=X;try{return W.apply(this,arguments)}finally{x=z}}}})(Rp)),Rp}var rN;function $8(){return rN||(rN=1,Tp.exports=I8()),Tp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function D8(){if(nN)return mr;nN=1;var e=Bb(),t=$8();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function b(o,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,h,g){if(c===null||typeof c>"u"||b(o,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(o,c,h,g,w,E,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=E,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){y[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];y[c]=new j(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){y[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){y[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){y[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){y[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){y[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){y[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){y[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,A);y[c]=new j(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,A);y[c]=new j(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,A);y[c]=new j(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){y[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){y[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,c,h,g){var w=y.hasOwnProperty(c)?y[c]:null;(w!==null?w.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,h,w,g)&&(h=null),g||w===null?x(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):w.mustUseProperty?o[w.propertyName]=h===null?w.type===3?!1:"":h:(c=w.attributeName,g=w.attributeNamespace,h===null?o.removeAttribute(c):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,g?o.setAttributeNS(g,c,h):o.setAttribute(c,h))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),W=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var z=Object.assign,B;function L(o){if(B===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);B=c&&c[1]||""}return`
`+B+o}var G=!1;function ee(o,c){if(!o||G)return"";G=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var g=ae}Reflect.construct(o,[],c)}else{try{c.call()}catch(ae){g=ae}o.call(c.prototype)}else{try{throw Error()}catch(ae){g=ae}o()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var w=ae.stack.split(`
`),E=g.stack.split(`
`),D=w.length-1,K=E.length-1;1<=D&&0<=K&&w[D]!==E[K];)K--;for(;1<=D&&0<=K;D--,K--)if(w[D]!==E[K]){if(D!==1||K!==1)do if(D--,K--,0>K||w[D]!==E[K]){var J=`
`+w[D].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=D&&0<=K);break}}}finally{G=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?L(o):""}function ue(o){switch(o.tag){case 5:return L(o.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function ge(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case O:return"Portal";case $:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case T:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return c=o.displayName||null,c!==null?c:ge(o.type)||"Memo";case U:c=o._payload,o=o._init;try{return ge(o(c))}catch{}}return null}function ie(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ce(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(o){var c=ce(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,E=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(D){g=""+D,E.call(this,D)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Re(o){o._valueTracker||(o._valueTracker=Oe(o))}function te(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=ce(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function je(o,c){var h=c.checked;return z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function tt(o,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=xe(c.value!=null?c.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function gt(o,c){c=c.checked,c!=null&&_(o,"checked",c,!1)}function $t(o,c){gt(o,c);var h=xe(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?mn(o,c.type,h):c.hasOwnProperty("defaultValue")&&mn(o,c.type,xe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Qr(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function mn(o,c,h){(c!=="number"||be(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var pn=Array.isArray;function lr(o,c,h,g){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&g&&(o[h].defaultSelected=!0)}else{for(h=""+xe(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function Yr(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ri(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(pn(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:xe(h)}}function zo(o,c){var h=xe(c.value),g=xe(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function qo(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function cw(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?cw(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ru,uw=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,w){MSApp.execUnsafeLocalFunction(function(){return o(c,h,g,w)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ru.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Uo(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T6=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(o){T6.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Wo[c]=Wo[o]})});function dw(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Wo.hasOwnProperty(o)&&Wo[o]?(""+c).trim():c+"px"}function fw(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,w=dw(h,c[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,w):o[h]=w}}var R6=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(o,c){if(c){if(R6[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function zh(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function Uh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wh=null,ni=null,ai=null;function hw(o){if(o=fl(o)){if(typeof Wh!="function")throw Error(r(280));var c=o.stateNode;c&&(c=ku(c),Wh(o.stateNode,o.type,c))}}function mw(o){ni?ai?ai.push(o):ai=[o]:ni=o}function pw(){if(ni){var o=ni,c=ai;if(ai=ni=null,hw(o),c)for(o=0;o<c.length;o++)hw(c[o])}}function gw(o,c){return o(c)}function xw(){}var Hh=!1;function yw(o,c,h){if(Hh)return o(c,h);Hh=!0;try{return gw(o,c,h)}finally{Hh=!1,(ni!==null||ai!==null)&&(xw(),pw())}}function Ho(o,c){var h=o.stateNode;if(h===null)return null;var g=ku(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Kh=!1;if(u)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Kh=!1}function M6(o,c,h,g,w,E,D,K,J){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(h,ae)}catch(fe){this.onError(fe)}}var Go=!1,nu=null,au=!1,Gh=null,I6={onError:function(o){Go=!0,nu=o}};function $6(o,c,h,g,w,E,D,K,J){Go=!1,nu=null,M6.apply(I6,arguments)}function D6(o,c,h,g,w,E,D,K,J){if($6.apply(this,arguments),Go){if(Go){var ae=nu;Go=!1,nu=null}else throw Error(r(198));au||(au=!0,Gh=ae)}}function rs(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function vw(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function bw(o){if(rs(o)!==o)throw Error(r(188))}function L6(o){var c=o.alternate;if(!c){if(c=rs(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return bw(w),o;if(E===g)return bw(w),c;E=E.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=E;else{for(var D=!1,K=w.child;K;){if(K===h){D=!0,h=w,g=E;break}if(K===g){D=!0,g=w,h=E;break}K=K.sibling}if(!D){for(K=E.child;K;){if(K===h){D=!0,h=E,g=w;break}if(K===g){D=!0,g=E,h=w;break}K=K.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function jw(o){return o=L6(o),o!==null?ww(o):null}function ww(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=ww(o);if(c!==null)return c;o=o.sibling}return null}var Nw=t.unstable_scheduleCallback,Sw=t.unstable_cancelCallback,F6=t.unstable_shouldYield,B6=t.unstable_requestPaint,jt=t.unstable_now,z6=t.unstable_getCurrentPriorityLevel,Vh=t.unstable_ImmediatePriority,kw=t.unstable_UserBlockingPriority,su=t.unstable_NormalPriority,q6=t.unstable_LowPriority,Cw=t.unstable_IdlePriority,iu=null,gn=null;function U6(o){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(iu,o,void 0,(o.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:K6,W6=Math.log,H6=Math.LN2;function K6(o){return o>>>=0,o===0?32:31-(W6(o)/H6|0)|0}var ou=64,lu=4194304;function Vo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function cu(o,c){var h=o.pendingLanes;if(h===0)return 0;var g=0,w=o.suspendedLanes,E=o.pingedLanes,D=h&268435455;if(D!==0){var K=D&~w;K!==0?g=Vo(K):(E&=D,E!==0&&(g=Vo(E)))}else D=h&~w,D!==0?g=Vo(D):E!==0&&(g=Vo(E));if(g===0)return 0;if(c!==0&&c!==g&&(c&w)===0&&(w=g&-g,E=c&-c,w>=E||w===16&&(E&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=g;0<c;)h=31-Xr(c),w=1<<h,g|=o[h],c&=~w;return g}function G6(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V6(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes;0<E;){var D=31-Xr(E),K=1<<D,J=w[D];J===-1?((K&h)===0||(K&g)!==0)&&(w[D]=G6(K,c)):J<=c&&(o.expiredLanes|=K),E&=~K}}function Qh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ow(){var o=ou;return ou<<=1,(ou&4194240)===0&&(ou=64),o}function Yh(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Qo(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Xr(c),o[c]=h}function Q6(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var w=31-Xr(h),E=1<<w;c[w]=0,g[w]=-1,o[w]=-1,h&=~E}}function Xh(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-Xr(h),w=1<<g;w&c|o[g]&c&&(o[g]|=c),h&=~w}}var et=0;function Pw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Aw,Jh,Ew,_w,Tw,Zh=!1,uu=[],ua=null,da=null,fa=null,Yo=new Map,Xo=new Map,ha=[],Y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(o,c){switch(o){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Yo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(c.pointerId)}}function Jo(o,c,h,g,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[w]},c!==null&&(c=fl(c),c!==null&&Jh(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function X6(o,c,h,g,w){switch(c){case"focusin":return ua=Jo(ua,o,c,h,g,w),!0;case"dragenter":return da=Jo(da,o,c,h,g,w),!0;case"mouseover":return fa=Jo(fa,o,c,h,g,w),!0;case"pointerover":var E=w.pointerId;return Yo.set(E,Jo(Yo.get(E)||null,o,c,h,g,w)),!0;case"gotpointercapture":return E=w.pointerId,Xo.set(E,Jo(Xo.get(E)||null,o,c,h,g,w)),!0}return!1}function Mw(o){var c=ns(o.target);if(c!==null){var h=rs(c);if(h!==null){if(c=h.tag,c===13){if(c=vw(h),c!==null){o.blockedOn=c,Tw(o.priority,function(){Ew(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function du(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=tm(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);qh=g,h.target.dispatchEvent(g),qh=null}else return c=fl(h),c!==null&&Jh(c),o.blockedOn=h,!1;c.shift()}return!0}function Iw(o,c,h){du(o)&&h.delete(c)}function J6(){Zh=!1,ua!==null&&du(ua)&&(ua=null),da!==null&&du(da)&&(da=null),fa!==null&&du(fa)&&(fa=null),Yo.forEach(Iw),Xo.forEach(Iw)}function Zo(o,c){o.blockedOn===c&&(o.blockedOn=null,Zh||(Zh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J6)))}function el(o){function c(w){return Zo(w,o)}if(0<uu.length){Zo(uu[0],o);for(var h=1;h<uu.length;h++){var g=uu[h];g.blockedOn===o&&(g.blockedOn=null)}}for(ua!==null&&Zo(ua,o),da!==null&&Zo(da,o),fa!==null&&Zo(fa,o),Yo.forEach(c),Xo.forEach(c),h=0;h<ha.length;h++)g=ha[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<ha.length&&(h=ha[0],h.blockedOn===null);)Mw(h),h.blockedOn===null&&ha.shift()}var si=k.ReactCurrentBatchConfig,fu=!0;function Z6(o,c,h,g){var w=et,E=si.transition;si.transition=null;try{et=1,em(o,c,h,g)}finally{et=w,si.transition=E}}function eT(o,c,h,g){var w=et,E=si.transition;si.transition=null;try{et=4,em(o,c,h,g)}finally{et=w,si.transition=E}}function em(o,c,h,g){if(fu){var w=tm(o,c,h,g);if(w===null)ym(o,c,g,hu,h),Rw(o,g);else if(X6(w,o,c,h,g))g.stopPropagation();else if(Rw(o,g),c&4&&-1<Y6.indexOf(o)){for(;w!==null;){var E=fl(w);if(E!==null&&Aw(E),E=tm(o,c,h,g),E===null&&ym(o,c,g,hu,h),E===w)break;w=E}w!==null&&g.stopPropagation()}else ym(o,c,g,null,h)}}var hu=null;function tm(o,c,h,g){if(hu=null,o=Uh(g),o=ns(o),o!==null)if(c=rs(o),c===null)o=null;else if(h=c.tag,h===13){if(o=vw(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return hu=o,null}function $w(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z6()){case Vh:return 1;case kw:return 4;case su:case q6:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var ma=null,rm=null,mu=null;function Dw(){if(mu)return mu;var o,c=rm,h=c.length,g,w="value"in ma?ma.value:ma.textContent,E=w.length;for(o=0;o<h&&c[o]===w[o];o++);var D=h-o;for(g=1;g<=D&&c[h-g]===w[E-g];g++);return mu=w.slice(o,1<g?1-g:void 0)}function pu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function gu(){return!0}function Lw(){return!1}function jr(o){function c(h,g,w,E,D){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(E):E[K]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gu:Lw,this.isPropagationStopped=Lw,this}return z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),c}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=jr(ii),tl=z({},ii,{view:0,detail:0}),tT=jr(tl),am,sm,rl,xu=z({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==rl&&(rl&&o.type==="mousemove"?(am=o.screenX-rl.screenX,sm=o.screenY-rl.screenY):sm=am=0,rl=o),am)},movementY:function(o){return"movementY"in o?o.movementY:sm}}),Fw=jr(xu),rT=z({},xu,{dataTransfer:0}),nT=jr(rT),aT=z({},tl,{relatedTarget:0}),im=jr(aT),sT=z({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),iT=jr(sT),oT=z({},ii,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lT=jr(oT),cT=z({},ii,{data:0}),Bw=jr(cT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hT(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=fT[o])?!!c[o]:!1}function om(){return hT}var mT=z({},tl,{key:function(o){if(o.key){var c=uT[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=pu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?dT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(o){return o.type==="keypress"?pu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),pT=jr(mT),gT=z({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zw=jr(gT),xT=z({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),yT=jr(xT),vT=z({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),bT=jr(vT),jT=z({},xu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=jr(jT),NT=[9,13,27,32],lm=u&&"CompositionEvent"in window,nl=null;u&&"documentMode"in document&&(nl=document.documentMode);var ST=u&&"TextEvent"in window&&!nl,qw=u&&(!lm||nl&&8<nl&&11>=nl),Uw=" ",Ww=!1;function Hw(o,c){switch(o){case"keyup":return NT.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var oi=!1;function kT(o,c){switch(o){case"compositionend":return Kw(c);case"keypress":return c.which!==32?null:(Ww=!0,Uw);case"textInput":return o=c.data,o===Uw&&Ww?null:o;default:return null}}function CT(o,c){if(oi)return o==="compositionend"||!lm&&Hw(o,c)?(o=Dw(),mu=rm=ma=null,oi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qw&&c.locale!=="ko"?null:c.data;default:return null}}var OT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!OT[o.type]:c==="textarea"}function Vw(o,c,h,g){mw(g),c=wu(c,"onChange"),0<c.length&&(h=new nm("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var al=null,sl=null;function PT(o){f1(o,0)}function yu(o){var c=fi(o);if(te(c))return o}function AT(o,c){if(o==="change")return c}var Qw=!1;if(u){var cm;if(u){var um="oninput"in document;if(!um){var Yw=document.createElement("div");Yw.setAttribute("oninput","return;"),um=typeof Yw.oninput=="function"}cm=um}else cm=!1;Qw=cm&&(!document.documentMode||9<document.documentMode)}function Xw(){al&&(al.detachEvent("onpropertychange",Jw),sl=al=null)}function Jw(o){if(o.propertyName==="value"&&yu(sl)){var c=[];Vw(c,sl,o,Uh(o)),yw(PT,c)}}function ET(o,c,h){o==="focusin"?(Xw(),al=c,sl=h,al.attachEvent("onpropertychange",Jw)):o==="focusout"&&Xw()}function _T(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yu(sl)}function TT(o,c){if(o==="click")return yu(c)}function RT(o,c){if(o==="input"||o==="change")return yu(c)}function MT(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Jr=typeof Object.is=="function"?Object.is:MT;function il(o,c){if(Jr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!d.call(c,w)||!Jr(o[w],c[w]))return!1}return!0}function Zw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function e1(o,c){var h=Zw(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Zw(h)}}function t1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?t1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function r1(){for(var o=window,c=be();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=be(o.document)}return c}function dm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function IT(o){var c=r1(),h=o.focusedElem,g=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&t1(h.ownerDocument.documentElement,h)){if(g!==null&&dm(h)){if(c=g.start,o=g.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var w=h.textContent.length,E=Math.min(g.start,w);g=g.end===void 0?E:Math.min(g.end,w),!o.extend&&E>g&&(w=g,g=E,E=w),w=e1(h,E);var D=e1(h,g);w&&D&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),o.removeAllRanges(),E>g?(o.addRange(c),o.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $T=u&&"documentMode"in document&&11>=document.documentMode,li=null,fm=null,ol=null,hm=!1;function n1(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hm||li==null||li!==be(g)||(g=li,"selectionStart"in g&&dm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ol&&il(ol,g)||(ol=g,g=wu(fm,"onSelect"),0<g.length&&(c=new nm("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=li)))}function vu(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ci={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},mm={},a1={};u&&(a1=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function bu(o){if(mm[o])return mm[o];if(!ci[o])return o;var c=ci[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in a1)return mm[o]=c[h];return o}var s1=bu("animationend"),i1=bu("animationiteration"),o1=bu("animationstart"),l1=bu("transitionend"),c1=new Map,u1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(o,c){c1.set(o,c),i(c,[o])}for(var pm=0;pm<u1.length;pm++){var gm=u1[pm],DT=gm.toLowerCase(),LT=gm[0].toUpperCase()+gm.slice(1);pa(DT,"on"+LT)}pa(s1,"onAnimationEnd"),pa(i1,"onAnimationIteration"),pa(o1,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(l1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function d1(o,c,h){var g=o.type||"unknown-event";o.currentTarget=h,D6(g,c,void 0,o),o.currentTarget=null}function f1(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],w=g.event;g=g.listeners;e:{var E=void 0;if(c)for(var D=g.length-1;0<=D;D--){var K=g[D],J=K.instance,ae=K.currentTarget;if(K=K.listener,J!==E&&w.isPropagationStopped())break e;d1(w,K,ae),E=J}else for(D=0;D<g.length;D++){if(K=g[D],J=K.instance,ae=K.currentTarget,K=K.listener,J!==E&&w.isPropagationStopped())break e;d1(w,K,ae),E=J}}}if(au)throw o=Gh,au=!1,Gh=null,o}function lt(o,c){var h=c[Sm];h===void 0&&(h=c[Sm]=new Set);var g=o+"__bubble";h.has(g)||(h1(c,o,2,!1),h.add(g))}function xm(o,c,h){var g=0;c&&(g|=4),h1(h,o,g,c)}var ju="_reactListening"+Math.random().toString(36).slice(2);function cl(o){if(!o[ju]){o[ju]=!0,n.forEach(function(h){h!=="selectionchange"&&(FT.has(h)||xm(h,!1,o),xm(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ju]||(c[ju]=!0,xm("selectionchange",!1,c))}}function h1(o,c,h,g){switch($w(c)){case 1:var w=Z6;break;case 4:w=eT;break;default:w=em}h=w.bind(null,c,h,o),w=void 0,!Kh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function ym(o,c,h,g,w){var E=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var K=g.stateNode.containerInfo;if(K===w||K.nodeType===8&&K.parentNode===w)break;if(D===4)for(D=g.return;D!==null;){var J=D.tag;if((J===3||J===4)&&(J=D.stateNode.containerInfo,J===w||J.nodeType===8&&J.parentNode===w))return;D=D.return}for(;K!==null;){if(D=ns(K),D===null)return;if(J=D.tag,J===5||J===6){g=E=D;continue e}K=K.parentNode}}g=g.return}yw(function(){var ae=E,fe=Uh(h),he=[];e:{var de=c1.get(o);if(de!==void 0){var ve=nm,Se=o;switch(o){case"keypress":if(pu(h)===0)break e;case"keydown":case"keyup":ve=pT;break;case"focusin":Se="focus",ve=im;break;case"focusout":Se="blur",ve=im;break;case"beforeblur":case"afterblur":ve=im;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=yT;break;case s1:case i1:case o1:ve=iT;break;case l1:ve=bT;break;case"scroll":ve=tT;break;case"wheel":ve=wT;break;case"copy":case"cut":case"paste":ve=lT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=zw}var ke=(c&4)!==0,wt=!ke&&o==="scroll",re=ke?de!==null?de+"Capture":null:de;ke=[];for(var Z=ae,ne;Z!==null;){ne=Z;var me=ne.stateNode;if(ne.tag===5&&me!==null&&(ne=me,re!==null&&(me=Ho(Z,re),me!=null&&ke.push(ul(Z,me,ne)))),wt)break;Z=Z.return}0<ke.length&&(de=new ve(de,Se,null,h,fe),he.push({event:de,listeners:ke}))}}if((c&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",de&&h!==qh&&(Se=h.relatedTarget||h.fromElement)&&(ns(Se)||Se[Rn]))break e;if((ve||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,ve?(Se=h.relatedTarget||h.toElement,ve=ae,Se=Se?ns(Se):null,Se!==null&&(wt=rs(Se),Se!==wt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=ae),ve!==Se)){if(ke=Fw,me="onMouseLeave",re="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(ke=zw,me="onPointerLeave",re="onPointerEnter",Z="pointer"),wt=ve==null?de:fi(ve),ne=Se==null?de:fi(Se),de=new ke(me,Z+"leave",ve,h,fe),de.target=wt,de.relatedTarget=ne,me=null,ns(fe)===ae&&(ke=new ke(re,Z+"enter",Se,h,fe),ke.target=ne,ke.relatedTarget=wt,me=ke),wt=me,ve&&Se)t:{for(ke=ve,re=Se,Z=0,ne=ke;ne;ne=ui(ne))Z++;for(ne=0,me=re;me;me=ui(me))ne++;for(;0<Z-ne;)ke=ui(ke),Z--;for(;0<ne-Z;)re=ui(re),ne--;for(;Z--;){if(ke===re||re!==null&&ke===re.alternate)break t;ke=ui(ke),re=ui(re)}ke=null}else ke=null;ve!==null&&m1(he,de,ve,ke,!1),Se!==null&&wt!==null&&m1(he,wt,Se,ke,!0)}}e:{if(de=ae?fi(ae):window,ve=de.nodeName&&de.nodeName.toLowerCase(),ve==="select"||ve==="input"&&de.type==="file")var Ce=AT;else if(Gw(de))if(Qw)Ce=RT;else{Ce=_T;var Ae=ET}else(ve=de.nodeName)&&ve.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ce=TT);if(Ce&&(Ce=Ce(o,ae))){Vw(he,Ce,h,fe);break e}Ae&&Ae(o,de,ae),o==="focusout"&&(Ae=de._wrapperState)&&Ae.controlled&&de.type==="number"&&mn(de,"number",de.value)}switch(Ae=ae?fi(ae):window,o){case"focusin":(Gw(Ae)||Ae.contentEditable==="true")&&(li=Ae,fm=ae,ol=null);break;case"focusout":ol=fm=li=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,n1(he,h,fe);break;case"selectionchange":if($T)break;case"keydown":case"keyup":n1(he,h,fe)}var Ee;if(lm)e:{switch(o){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else oi?Hw(o,h)&&(Ie="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ie="onCompositionStart");Ie&&(qw&&h.locale!=="ko"&&(oi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&oi&&(Ee=Dw()):(ma=fe,rm="value"in ma?ma.value:ma.textContent,oi=!0)),Ae=wu(ae,Ie),0<Ae.length&&(Ie=new Bw(Ie,o,null,h,fe),he.push({event:Ie,listeners:Ae}),Ee?Ie.data=Ee:(Ee=Kw(h),Ee!==null&&(Ie.data=Ee)))),(Ee=ST?kT(o,h):CT(o,h))&&(ae=wu(ae,"onBeforeInput"),0<ae.length&&(fe=new Bw("onBeforeInput","beforeinput",null,h,fe),he.push({event:fe,listeners:ae}),fe.data=Ee))}f1(he,c)})}function ul(o,c,h){return{instance:o,listener:c,currentTarget:h}}function wu(o,c){for(var h=c+"Capture",g=[];o!==null;){var w=o,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Ho(o,h),E!=null&&g.unshift(ul(o,E,w)),E=Ho(o,c),E!=null&&g.push(ul(o,E,w))),o=o.return}return g}function ui(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function m1(o,c,h,g,w){for(var E=c._reactName,D=[];h!==null&&h!==g;){var K=h,J=K.alternate,ae=K.stateNode;if(J!==null&&J===g)break;K.tag===5&&ae!==null&&(K=ae,w?(J=Ho(h,E),J!=null&&D.unshift(ul(h,J,K))):w||(J=Ho(h,E),J!=null&&D.push(ul(h,J,K)))),h=h.return}D.length!==0&&o.push({event:c,listeners:D})}var BT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function p1(o){return(typeof o=="string"?o:""+o).replace(BT,`
`).replace(zT,"")}function Nu(o,c,h){if(c=p1(c),p1(o)!==c&&h)throw Error(r(425))}function Su(){}var vm=null,bm=null;function jm(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(o){return g1.resolve(null).then(o).catch(WT)}:wm;function WT(o){setTimeout(function(){throw o})}function Nm(o,c){var h=c,g=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(g===0){o.removeChild(w),el(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=w}while(h);el(c)}function ga(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function x1(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var di=Math.random().toString(36).slice(2),xn="__reactFiber$"+di,dl="__reactProps$"+di,Rn="__reactContainer$"+di,Sm="__reactEvents$"+di,HT="__reactListeners$"+di,KT="__reactHandles$"+di;function ns(o){var c=o[xn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Rn]||h[xn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=x1(o);o!==null;){if(h=o[xn])return h;o=x1(o)}return c}o=h,h=o.parentNode}return null}function fl(o){return o=o[xn]||o[Rn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function fi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function ku(o){return o[dl]||null}var km=[],hi=-1;function xa(o){return{current:o}}function ct(o){0>hi||(o.current=km[hi],km[hi]=null,hi--)}function at(o,c){hi++,km[hi]=o.current,o.current=c}var ya={},Gt=xa(ya),cr=xa(!1),as=ya;function mi(o,c){var h=o.type.contextTypes;if(!h)return ya;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in h)w[E]=c[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=w),w}function ur(o){return o=o.childContextTypes,o!=null}function Cu(){ct(cr),ct(Gt)}function y1(o,c,h){if(Gt.current!==ya)throw Error(r(168));at(Gt,c),at(cr,h)}function v1(o,c,h){var g=o.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var w in g)if(!(w in c))throw Error(r(108,ie(o)||"Unknown",w));return z({},h,g)}function Ou(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ya,as=Gt.current,at(Gt,o),at(cr,cr.current),!0}function b1(o,c,h){var g=o.stateNode;if(!g)throw Error(r(169));h?(o=v1(o,c,as),g.__reactInternalMemoizedMergedChildContext=o,ct(cr),ct(Gt),at(Gt,o)):ct(cr),at(cr,h)}var Mn=null,Pu=!1,Cm=!1;function j1(o){Mn===null?Mn=[o]:Mn.push(o)}function GT(o){Pu=!0,j1(o)}function va(){if(!Cm&&Mn!==null){Cm=!0;var o=0,c=et;try{var h=Mn;for(et=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}Mn=null,Pu=!1}catch(w){throw Mn!==null&&(Mn=Mn.slice(o+1)),Nw(Vh,va),w}finally{et=c,Cm=!1}}return null}var pi=[],gi=0,Au=null,Eu=0,Rr=[],Mr=0,ss=null,In=1,$n="";function is(o,c){pi[gi++]=Eu,pi[gi++]=Au,Au=o,Eu=c}function w1(o,c,h){Rr[Mr++]=In,Rr[Mr++]=$n,Rr[Mr++]=ss,ss=o;var g=In;o=$n;var w=32-Xr(g)-1;g&=~(1<<w),h+=1;var E=32-Xr(c)+w;if(30<E){var D=w-w%5;E=(g&(1<<D)-1).toString(32),g>>=D,w-=D,In=1<<32-Xr(c)+w|h<<w|g,$n=E+o}else In=1<<E|h<<w|g,$n=o}function Om(o){o.return!==null&&(is(o,1),w1(o,1,0))}function Pm(o){for(;o===Au;)Au=pi[--gi],pi[gi]=null,Eu=pi[--gi],pi[gi]=null;for(;o===ss;)ss=Rr[--Mr],Rr[Mr]=null,$n=Rr[--Mr],Rr[Mr]=null,In=Rr[--Mr],Rr[Mr]=null}var wr=null,Nr=null,dt=!1,Zr=null;function N1(o,c){var h=Lr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function S1(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,wr=o,Nr=ga(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,wr=o,Nr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=ss!==null?{id:In,overflow:$n}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Lr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,wr=o,Nr=null,!0):!1;default:return!1}}function Am(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Em(o){if(dt){var c=Nr;if(c){var h=c;if(!S1(o,c)){if(Am(o))throw Error(r(418));c=ga(h.nextSibling);var g=wr;c&&S1(o,c)?N1(g,h):(o.flags=o.flags&-4097|2,dt=!1,wr=o)}}else{if(Am(o))throw Error(r(418));o.flags=o.flags&-4097|2,dt=!1,wr=o}}}function k1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;wr=o}function _u(o){if(o!==wr)return!1;if(!dt)return k1(o),dt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!jm(o.type,o.memoizedProps)),c&&(c=Nr)){if(Am(o))throw C1(),Error(r(418));for(;c;)N1(o,c),c=ga(c.nextSibling)}if(k1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Nr=ga(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Nr=null}}else Nr=wr?ga(o.stateNode.nextSibling):null;return!0}function C1(){for(var o=Nr;o;)o=ga(o.nextSibling)}function xi(){Nr=wr=null,dt=!1}function _m(o){Zr===null?Zr=[o]:Zr.push(o)}var VT=k.ReactCurrentBatchConfig;function hl(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,o));var w=g,E=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(D){var K=w.refs;D===null?delete K[E]:K[E]=D},c._stringRef=E,c)}if(typeof o!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,o))}return o}function Tu(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function O1(o){var c=o._init;return c(o._payload)}function P1(o){function c(re,Z){if(o){var ne=re.deletions;ne===null?(re.deletions=[Z],re.flags|=16):ne.push(Z)}}function h(re,Z){if(!o)return null;for(;Z!==null;)c(re,Z),Z=Z.sibling;return null}function g(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function w(re,Z){return re=Oa(re,Z),re.index=0,re.sibling=null,re}function E(re,Z,ne){return re.index=ne,o?(ne=re.alternate,ne!==null?(ne=ne.index,ne<Z?(re.flags|=2,Z):ne):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function D(re){return o&&re.alternate===null&&(re.flags|=2),re}function K(re,Z,ne,me){return Z===null||Z.tag!==6?(Z=wp(ne,re.mode,me),Z.return=re,Z):(Z=w(Z,ne),Z.return=re,Z)}function J(re,Z,ne,me){var Ce=ne.type;return Ce===P?fe(re,Z,ne.props.children,me,ne.key):Z!==null&&(Z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===U&&O1(Ce)===Z.type)?(me=w(Z,ne.props),me.ref=hl(re,Z,ne),me.return=re,me):(me=rd(ne.type,ne.key,ne.props,null,re.mode,me),me.ref=hl(re,Z,ne),me.return=re,me)}function ae(re,Z,ne,me){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ne.containerInfo||Z.stateNode.implementation!==ne.implementation?(Z=Np(ne,re.mode,me),Z.return=re,Z):(Z=w(Z,ne.children||[]),Z.return=re,Z)}function fe(re,Z,ne,me,Ce){return Z===null||Z.tag!==7?(Z=ms(ne,re.mode,me,Ce),Z.return=re,Z):(Z=w(Z,ne),Z.return=re,Z)}function he(re,Z,ne){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=wp(""+Z,re.mode,ne),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return ne=rd(Z.type,Z.key,Z.props,null,re.mode,ne),ne.ref=hl(re,null,Z),ne.return=re,ne;case O:return Z=Np(Z,re.mode,ne),Z.return=re,Z;case U:var me=Z._init;return he(re,me(Z._payload),ne)}if(pn(Z)||X(Z))return Z=ms(Z,re.mode,ne,null),Z.return=re,Z;Tu(re,Z)}return null}function de(re,Z,ne,me){var Ce=Z!==null?Z.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ce!==null?null:K(re,Z,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return ne.key===Ce?J(re,Z,ne,me):null;case O:return ne.key===Ce?ae(re,Z,ne,me):null;case U:return Ce=ne._init,de(re,Z,Ce(ne._payload),me)}if(pn(ne)||X(ne))return Ce!==null?null:fe(re,Z,ne,me,null);Tu(re,ne)}return null}function ve(re,Z,ne,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number")return re=re.get(ne)||null,K(Z,re,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return re=re.get(me.key===null?ne:me.key)||null,J(Z,re,me,Ce);case O:return re=re.get(me.key===null?ne:me.key)||null,ae(Z,re,me,Ce);case U:var Ae=me._init;return ve(re,Z,ne,Ae(me._payload),Ce)}if(pn(me)||X(me))return re=re.get(ne)||null,fe(Z,re,me,Ce,null);Tu(Z,me)}return null}function Se(re,Z,ne,me){for(var Ce=null,Ae=null,Ee=Z,Ie=Z=0,Ft=null;Ee!==null&&Ie<ne.length;Ie++){Ee.index>Ie?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Ke=de(re,Ee,ne[Ie],me);if(Ke===null){Ee===null&&(Ee=Ft);break}o&&Ee&&Ke.alternate===null&&c(re,Ee),Z=E(Ke,Z,Ie),Ae===null?Ce=Ke:Ae.sibling=Ke,Ae=Ke,Ee=Ft}if(Ie===ne.length)return h(re,Ee),dt&&is(re,Ie),Ce;if(Ee===null){for(;Ie<ne.length;Ie++)Ee=he(re,ne[Ie],me),Ee!==null&&(Z=E(Ee,Z,Ie),Ae===null?Ce=Ee:Ae.sibling=Ee,Ae=Ee);return dt&&is(re,Ie),Ce}for(Ee=g(re,Ee);Ie<ne.length;Ie++)Ft=ve(Ee,re,Ie,ne[Ie],me),Ft!==null&&(o&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Ie:Ft.key),Z=E(Ft,Z,Ie),Ae===null?Ce=Ft:Ae.sibling=Ft,Ae=Ft);return o&&Ee.forEach(function(Pa){return c(re,Pa)}),dt&&is(re,Ie),Ce}function ke(re,Z,ne,me){var Ce=X(ne);if(typeof Ce!="function")throw Error(r(150));if(ne=Ce.call(ne),ne==null)throw Error(r(151));for(var Ae=Ce=null,Ee=Z,Ie=Z=0,Ft=null,Ke=ne.next();Ee!==null&&!Ke.done;Ie++,Ke=ne.next()){Ee.index>Ie?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Pa=de(re,Ee,Ke.value,me);if(Pa===null){Ee===null&&(Ee=Ft);break}o&&Ee&&Pa.alternate===null&&c(re,Ee),Z=E(Pa,Z,Ie),Ae===null?Ce=Pa:Ae.sibling=Pa,Ae=Pa,Ee=Ft}if(Ke.done)return h(re,Ee),dt&&is(re,Ie),Ce;if(Ee===null){for(;!Ke.done;Ie++,Ke=ne.next())Ke=he(re,Ke.value,me),Ke!==null&&(Z=E(Ke,Z,Ie),Ae===null?Ce=Ke:Ae.sibling=Ke,Ae=Ke);return dt&&is(re,Ie),Ce}for(Ee=g(re,Ee);!Ke.done;Ie++,Ke=ne.next())Ke=ve(Ee,re,Ie,Ke.value,me),Ke!==null&&(o&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ie:Ke.key),Z=E(Ke,Z,Ie),Ae===null?Ce=Ke:Ae.sibling=Ke,Ae=Ke);return o&&Ee.forEach(function(O8){return c(re,O8)}),dt&&is(re,Ie),Ce}function wt(re,Z,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===P&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:e:{for(var Ce=ne.key,Ae=Z;Ae!==null;){if(Ae.key===Ce){if(Ce=ne.type,Ce===P){if(Ae.tag===7){h(re,Ae.sibling),Z=w(Ae,ne.props.children),Z.return=re,re=Z;break e}}else if(Ae.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===U&&O1(Ce)===Ae.type){h(re,Ae.sibling),Z=w(Ae,ne.props),Z.ref=hl(re,Ae,ne),Z.return=re,re=Z;break e}h(re,Ae);break}else c(re,Ae);Ae=Ae.sibling}ne.type===P?(Z=ms(ne.props.children,re.mode,me,ne.key),Z.return=re,re=Z):(me=rd(ne.type,ne.key,ne.props,null,re.mode,me),me.ref=hl(re,Z,ne),me.return=re,re=me)}return D(re);case O:e:{for(Ae=ne.key;Z!==null;){if(Z.key===Ae)if(Z.tag===4&&Z.stateNode.containerInfo===ne.containerInfo&&Z.stateNode.implementation===ne.implementation){h(re,Z.sibling),Z=w(Z,ne.children||[]),Z.return=re,re=Z;break e}else{h(re,Z);break}else c(re,Z);Z=Z.sibling}Z=Np(ne,re.mode,me),Z.return=re,re=Z}return D(re);case U:return Ae=ne._init,wt(re,Z,Ae(ne._payload),me)}if(pn(ne))return Se(re,Z,ne,me);if(X(ne))return ke(re,Z,ne,me);Tu(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Z!==null&&Z.tag===6?(h(re,Z.sibling),Z=w(Z,ne),Z.return=re,re=Z):(h(re,Z),Z=wp(ne,re.mode,me),Z.return=re,re=Z),D(re)):h(re,Z)}return wt}var yi=P1(!0),A1=P1(!1),Ru=xa(null),Mu=null,vi=null,Tm=null;function Rm(){Tm=vi=Mu=null}function Mm(o){var c=Ru.current;ct(Ru),o._currentValue=c}function Im(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function bi(o,c){Mu=o,Tm=vi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(dr=!0),o.firstContext=null)}function Ir(o){var c=o._currentValue;if(Tm!==o)if(o={context:o,memoizedValue:c,next:null},vi===null){if(Mu===null)throw Error(r(308));vi=o,Mu.dependencies={lanes:0,firstContext:o}}else vi=vi.next=o;return c}var os=null;function $m(o){os===null?os=[o]:os.push(o)}function E1(o,c,h,g){var w=c.interleaved;return w===null?(h.next=h,$m(c)):(h.next=w.next,w.next=h),c.interleaved=h,Dn(o,g)}function Dn(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ba=!1;function Dm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ln(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ja(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(He&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,Dn(o,h)}return w=g.interleaved,w===null?(c.next=c,$m(g)):(c.next=w.next,w.next=c),g.interleaved=c,Dn(o,h)}function Iu(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Xh(o,h)}}function T1(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?w=E=D:E=E.next=D,h=h.next}while(h!==null);E===null?w=E=c:E=E.next=c}else w=E=c;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function $u(o,c,h,g){var w=o.updateQueue;ba=!1;var E=w.firstBaseUpdate,D=w.lastBaseUpdate,K=w.shared.pending;if(K!==null){w.shared.pending=null;var J=K,ae=J.next;J.next=null,D===null?E=ae:D.next=ae,D=J;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,K=fe.lastBaseUpdate,K!==D&&(K===null?fe.firstBaseUpdate=ae:K.next=ae,fe.lastBaseUpdate=J))}if(E!==null){var he=w.baseState;D=0,fe=ae=J=null,K=E;do{var de=K.lane,ve=K.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:ve,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Se=o,ke=K;switch(de=c,ve=h,ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){he=Se.call(ve,he,de);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,de=typeof Se=="function"?Se.call(ve,he,de):Se,de==null)break e;he=z({},he,de);break e;case 2:ba=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,de=w.effects,de===null?w.effects=[K]:de.push(K))}else ve={eventTime:ve,lane:de,tag:K.tag,payload:K.payload,callback:K.callback,next:null},fe===null?(ae=fe=ve,J=he):fe=fe.next=ve,D|=de;if(K=K.next,K===null){if(K=w.shared.pending,K===null)break;de=K,K=de.next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}while(!0);if(fe===null&&(J=he),w.baseState=J,w.firstBaseUpdate=ae,w.lastBaseUpdate=fe,c=w.shared.interleaved,c!==null){w=c;do D|=w.lane,w=w.next;while(w!==c)}else E===null&&(w.shared.lanes=0);us|=D,o.lanes=D,o.memoizedState=he}}function R1(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var g=o[c],w=g.callback;if(w!==null){if(g.callback=null,g=h,typeof w!="function")throw Error(r(191,w));w.call(g)}}}var ml={},yn=xa(ml),pl=xa(ml),gl=xa(ml);function ls(o){if(o===ml)throw Error(r(174));return o}function Lm(o,c){switch(at(gl,c),at(pl,o),at(yn,ml),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Fh(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Fh(c,o)}ct(yn),at(yn,c)}function ji(){ct(yn),ct(pl),ct(gl)}function M1(o){ls(gl.current);var c=ls(yn.current),h=Fh(c,o.type);c!==h&&(at(pl,o),at(yn,h))}function Fm(o){pl.current===o&&(ct(yn),ct(pl))}var ht=xa(0);function Du(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Bm=[];function zm(){for(var o=0;o<Bm.length;o++)Bm[o]._workInProgressVersionPrimary=null;Bm.length=0}var Lu=k.ReactCurrentDispatcher,qm=k.ReactCurrentBatchConfig,cs=0,mt=null,Ot=null,Dt=null,Fu=!1,xl=!1,yl=0,QT=0;function Vt(){throw Error(r(321))}function Um(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Jr(o[h],c[h]))return!1;return!0}function Wm(o,c,h,g,w,E){if(cs=E,mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Lu.current=o===null||o.memoizedState===null?ZT:e8,o=h(g,w),xl){E=0;do{if(xl=!1,yl=0,25<=E)throw Error(r(301));E+=1,Dt=Ot=null,c.updateQueue=null,Lu.current=t8,o=h(g,w)}while(xl)}if(Lu.current=qu,c=Ot!==null&&Ot.next!==null,cs=0,Dt=Ot=mt=null,Fu=!1,c)throw Error(r(300));return o}function Hm(){var o=yl!==0;return yl=0,o}function vn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?mt.memoizedState=Dt=o:Dt=Dt.next=o,Dt}function $r(){if(Ot===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Ot.next;var c=Dt===null?mt.memoizedState:Dt.next;if(c!==null)Dt=c,Ot=o;else{if(o===null)throw Error(r(310));Ot=o,o={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Dt===null?mt.memoizedState=Dt=o:Dt=Dt.next=o}return Dt}function vl(o,c){return typeof c=="function"?c(o):c}function Km(o){var c=$r(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=Ot,w=g.baseQueue,E=h.pending;if(E!==null){if(w!==null){var D=w.next;w.next=E.next,E.next=D}g.baseQueue=w=E,h.pending=null}if(w!==null){E=w.next,g=g.baseState;var K=D=null,J=null,ae=E;do{var fe=ae.lane;if((cs&fe)===fe)J!==null&&(J=J.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:o(g,ae.action);else{var he={lane:fe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};J===null?(K=J=he,D=g):J=J.next=he,mt.lanes|=fe,us|=fe}ae=ae.next}while(ae!==null&&ae!==E);J===null?D=g:J.next=K,Jr(g,c.memoizedState)||(dr=!0),c.memoizedState=g,c.baseState=D,c.baseQueue=J,h.lastRenderedState=g}if(o=h.interleaved,o!==null){w=o;do E=w.lane,mt.lanes|=E,us|=E,w=w.next;while(w!==o)}else w===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Gm(o){var c=$r(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,w=h.pending,E=c.memoizedState;if(w!==null){h.pending=null;var D=w=w.next;do E=o(E,D.action),D=D.next;while(D!==w);Jr(E,c.memoizedState)||(dr=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,g]}function I1(){}function $1(o,c){var h=mt,g=$r(),w=c(),E=!Jr(g.memoizedState,w);if(E&&(g.memoizedState=w,dr=!0),g=g.queue,Vm(F1.bind(null,h,g,o),[o]),g.getSnapshot!==c||E||Dt!==null&&Dt.memoizedState.tag&1){if(h.flags|=2048,bl(9,L1.bind(null,h,g,w,c),void 0,null),Lt===null)throw Error(r(349));(cs&30)!==0||D1(h,c,w)}return w}function D1(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=mt.updateQueue,c===null?(c={lastEffect:null,stores:null},mt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function L1(o,c,h,g){c.value=h,c.getSnapshot=g,B1(c)&&z1(o)}function F1(o,c,h){return h(function(){B1(c)&&z1(o)})}function B1(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Jr(o,h)}catch{return!0}}function z1(o){var c=Dn(o,1);c!==null&&nn(c,o,1,-1)}function q1(o){var c=vn();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:o},c.queue=o,o=o.dispatch=JT.bind(null,mt,o),[c.memoizedState,o]}function bl(o,c,h,g){return o={tag:o,create:c,destroy:h,deps:g,next:null},c=mt.updateQueue,c===null?(c={lastEffect:null,stores:null},mt.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o)),o}function U1(){return $r().memoizedState}function Bu(o,c,h,g){var w=vn();mt.flags|=o,w.memoizedState=bl(1|c,h,void 0,g===void 0?null:g)}function zu(o,c,h,g){var w=$r();g=g===void 0?null:g;var E=void 0;if(Ot!==null){var D=Ot.memoizedState;if(E=D.destroy,g!==null&&Um(g,D.deps)){w.memoizedState=bl(c,h,E,g);return}}mt.flags|=o,w.memoizedState=bl(1|c,h,E,g)}function W1(o,c){return Bu(8390656,8,o,c)}function Vm(o,c){return zu(2048,8,o,c)}function H1(o,c){return zu(4,2,o,c)}function K1(o,c){return zu(4,4,o,c)}function G1(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function V1(o,c,h){return h=h!=null?h.concat([o]):null,zu(4,4,G1.bind(null,c,o),h)}function Qm(){}function Q1(o,c){var h=$r();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Um(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function Y1(o,c){var h=$r();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Um(c,g[1])?g[0]:(o=o(),h.memoizedState=[o,c],o)}function X1(o,c,h){return(cs&21)===0?(o.baseState&&(o.baseState=!1,dr=!0),o.memoizedState=h):(Jr(h,c)||(h=Ow(),mt.lanes|=h,us|=h,o.baseState=!0),c)}function YT(o,c){var h=et;et=h!==0&&4>h?h:4,o(!0);var g=qm.transition;qm.transition={};try{o(!1),c()}finally{et=h,qm.transition=g}}function J1(){return $r().memoizedState}function XT(o,c,h){var g=ka(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Z1(o))e2(c,h);else if(h=E1(o,c,h,g),h!==null){var w=rr();nn(h,o,g,w),t2(h,c,g)}}function JT(o,c,h){var g=ka(o),w={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Z1(o))e2(c,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var D=c.lastRenderedState,K=E(D,h);if(w.hasEagerState=!0,w.eagerState=K,Jr(K,D)){var J=c.interleaved;J===null?(w.next=w,$m(c)):(w.next=J.next,J.next=w),c.interleaved=w;return}}catch{}finally{}h=E1(o,c,w,g),h!==null&&(w=rr(),nn(h,o,g,w),t2(h,c,g))}}function Z1(o){var c=o.alternate;return o===mt||c!==null&&c===mt}function e2(o,c){xl=Fu=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function t2(o,c,h){if((h&4194240)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Xh(o,h)}}var qu={readContext:Ir,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ZT={readContext:Ir,useCallback:function(o,c){return vn().memoizedState=[o,c===void 0?null:c],o},useContext:Ir,useEffect:W1,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,Bu(4194308,4,G1.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Bu(4194308,4,o,c)},useInsertionEffect:function(o,c){return Bu(4,2,o,c)},useMemo:function(o,c){var h=vn();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var g=vn();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},g.queue=o,o=o.dispatch=XT.bind(null,mt,o),[g.memoizedState,o]},useRef:function(o){var c=vn();return o={current:o},c.memoizedState=o},useState:q1,useDebugValue:Qm,useDeferredValue:function(o){return vn().memoizedState=o},useTransition:function(){var o=q1(!1),c=o[0];return o=YT.bind(null,o[1]),vn().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var g=mt,w=vn();if(dt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Lt===null)throw Error(r(349));(cs&30)!==0||D1(g,c,h)}w.memoizedState=h;var E={value:h,getSnapshot:c};return w.queue=E,W1(F1.bind(null,g,E,o),[o]),g.flags|=2048,bl(9,L1.bind(null,g,E,h,c),void 0,null),h},useId:function(){var o=vn(),c=Lt.identifierPrefix;if(dt){var h=$n,g=In;h=(g&~(1<<32-Xr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=yl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=QT++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},e8={readContext:Ir,useCallback:Q1,useContext:Ir,useEffect:Vm,useImperativeHandle:V1,useInsertionEffect:H1,useLayoutEffect:K1,useMemo:Y1,useReducer:Km,useRef:U1,useState:function(){return Km(vl)},useDebugValue:Qm,useDeferredValue:function(o){var c=$r();return X1(c,Ot.memoizedState,o)},useTransition:function(){var o=Km(vl)[0],c=$r().memoizedState;return[o,c]},useMutableSource:I1,useSyncExternalStore:$1,useId:J1,unstable_isNewReconciler:!1},t8={readContext:Ir,useCallback:Q1,useContext:Ir,useEffect:Vm,useImperativeHandle:V1,useInsertionEffect:H1,useLayoutEffect:K1,useMemo:Y1,useReducer:Gm,useRef:U1,useState:function(){return Gm(vl)},useDebugValue:Qm,useDeferredValue:function(o){var c=$r();return Ot===null?c.memoizedState=o:X1(c,Ot.memoizedState,o)},useTransition:function(){var o=Gm(vl)[0],c=$r().memoizedState;return[o,c]},useMutableSource:I1,useSyncExternalStore:$1,useId:J1,unstable_isNewReconciler:!1};function en(o,c){if(o&&o.defaultProps){c=z({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Ym(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:z({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Uu={isMounted:function(o){return(o=o._reactInternals)?rs(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var g=rr(),w=ka(o),E=Ln(g,w);E.payload=c,h!=null&&(E.callback=h),c=ja(o,E,w),c!==null&&(nn(c,o,w,g),Iu(c,o,w))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=rr(),w=ka(o),E=Ln(g,w);E.tag=1,E.payload=c,h!=null&&(E.callback=h),c=ja(o,E,w),c!==null&&(nn(c,o,w,g),Iu(c,o,w))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=rr(),g=ka(o),w=Ln(h,g);w.tag=2,c!=null&&(w.callback=c),c=ja(o,w,g),c!==null&&(nn(c,o,g,h),Iu(c,o,g))}};function r2(o,c,h,g,w,E,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,D):c.prototype&&c.prototype.isPureReactComponent?!il(h,g)||!il(w,E):!0}function n2(o,c,h){var g=!1,w=ya,E=c.contextType;return typeof E=="object"&&E!==null?E=Ir(E):(w=ur(c)?as:Gt.current,g=c.contextTypes,E=(g=g!=null)?mi(o,w):ya),c=new c(h,E),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Uu,o.stateNode=c,c._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=E),c}function a2(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Uu.enqueueReplaceState(c,c.state,null)}function Xm(o,c,h,g){var w=o.stateNode;w.props=h,w.state=o.memoizedState,w.refs={},Dm(o);var E=c.contextType;typeof E=="object"&&E!==null?w.context=Ir(E):(E=ur(c)?as:Gt.current,w.context=mi(o,E)),w.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ym(o,c,E,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&Uu.enqueueReplaceState(w,w.state,null),$u(o,h,w,g),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function wi(o,c){try{var h="",g=c;do h+=ue(g),g=g.return;while(g);var w=h}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:c,stack:w,digest:null}}function Jm(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Zm(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var r8=typeof WeakMap=="function"?WeakMap:Map;function s2(o,c,h){h=Ln(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){Yu||(Yu=!0,mp=g),Zm(o,c)},h}function i2(o,c,h){h=Ln(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var w=c.value;h.payload=function(){return g(w)},h.callback=function(){Zm(o,c)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Zm(o,c),typeof g!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),h}function o2(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new r8;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(h)||(w.add(h),o=g8.bind(null,o,c,h),c.then(o,o))}function l2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function c2(o,c,h,g,w){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ln(-1,1),c.tag=2,ja(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=w,o)}var n8=k.ReactCurrentOwner,dr=!1;function tr(o,c,h,g){c.child=o===null?A1(c,null,h,g):yi(c,o.child,h,g)}function u2(o,c,h,g,w){h=h.render;var E=c.ref;return bi(c,w),g=Wm(o,c,h,g,E,w),h=Hm(),o!==null&&!dr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,Fn(o,c,w)):(dt&&h&&Om(c),c.flags|=1,tr(o,c,g,w),c.child)}function d2(o,c,h,g,w){if(o===null){var E=h.type;return typeof E=="function"&&!jp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=E,f2(o,c,E,g,w)):(o=rd(h.type,null,g,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,(o.lanes&w)===0){var D=E.memoizedProps;if(h=h.compare,h=h!==null?h:il,h(D,g)&&o.ref===c.ref)return Fn(o,c,w)}return c.flags|=1,o=Oa(E,g),o.ref=c.ref,o.return=c,c.child=o}function f2(o,c,h,g,w){if(o!==null){var E=o.memoizedProps;if(il(E,g)&&o.ref===c.ref)if(dr=!1,c.pendingProps=g=E,(o.lanes&w)!==0)(o.flags&131072)!==0&&(dr=!0);else return c.lanes=o.lanes,Fn(o,c,w)}return ep(o,c,h,g,w)}function h2(o,c,h){var g=c.pendingProps,w=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Si,Sr),Sr|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,at(Si,Sr),Sr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,at(Si,Sr),Sr|=g}else E!==null?(g=E.baseLanes|h,c.memoizedState=null):g=h,at(Si,Sr),Sr|=g;return tr(o,c,w,h),c.child}function m2(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function ep(o,c,h,g,w){var E=ur(h)?as:Gt.current;return E=mi(c,E),bi(c,w),h=Wm(o,c,h,g,E,w),g=Hm(),o!==null&&!dr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,Fn(o,c,w)):(dt&&g&&Om(c),c.flags|=1,tr(o,c,h,w),c.child)}function p2(o,c,h,g,w){if(ur(h)){var E=!0;Ou(c)}else E=!1;if(bi(c,w),c.stateNode===null)Hu(o,c),n2(c,h,g),Xm(c,h,g,w),g=!0;else if(o===null){var D=c.stateNode,K=c.memoizedProps;D.props=K;var J=D.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Ir(ae):(ae=ur(h)?as:Gt.current,ae=mi(c,ae));var fe=h.getDerivedStateFromProps,he=typeof fe=="function"||typeof D.getSnapshotBeforeUpdate=="function";he||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==g||J!==ae)&&a2(c,D,g,ae),ba=!1;var de=c.memoizedState;D.state=de,$u(c,g,D,w),J=c.memoizedState,K!==g||de!==J||cr.current||ba?(typeof fe=="function"&&(Ym(c,h,fe,g),J=c.memoizedState),(K=ba||r2(c,h,K,g,de,J,ae))?(he||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=J),D.props=g,D.state=J,D.context=ae,g=K):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{D=c.stateNode,_1(o,c),K=c.memoizedProps,ae=c.type===c.elementType?K:en(c.type,K),D.props=ae,he=c.pendingProps,de=D.context,J=h.contextType,typeof J=="object"&&J!==null?J=Ir(J):(J=ur(h)?as:Gt.current,J=mi(c,J));var ve=h.getDerivedStateFromProps;(fe=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==he||de!==J)&&a2(c,D,g,J),ba=!1,de=c.memoizedState,D.state=de,$u(c,g,D,w);var Se=c.memoizedState;K!==he||de!==Se||cr.current||ba?(typeof ve=="function"&&(Ym(c,h,ve,g),Se=c.memoizedState),(ae=ba||r2(c,h,ae,g,de,Se,J)||!1)?(fe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Se,J),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Se,J)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||K===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Se),D.props=g,D.state=Se,D.context=J,g=ae):(typeof D.componentDidUpdate!="function"||K===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),g=!1)}return tp(o,c,h,g,E,w)}function tp(o,c,h,g,w,E){m2(o,c);var D=(c.flags&128)!==0;if(!g&&!D)return w&&b1(c,h,!1),Fn(o,c,E);g=c.stateNode,n8.current=c;var K=D&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,o!==null&&D?(c.child=yi(c,o.child,null,E),c.child=yi(c,null,K,E)):tr(o,c,K,E),c.memoizedState=g.state,w&&b1(c,h,!0),c.child}function g2(o){var c=o.stateNode;c.pendingContext?y1(o,c.pendingContext,c.pendingContext!==c.context):c.context&&y1(o,c.context,!1),Lm(o,c.containerInfo)}function x2(o,c,h,g,w){return xi(),_m(w),c.flags|=256,tr(o,c,h,g),c.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function np(o){return{baseLanes:o,cachePool:null,transitions:null}}function y2(o,c,h){var g=c.pendingProps,w=ht.current,E=!1,D=(c.flags&128)!==0,K;if((K=D)||(K=o!==null&&o.memoizedState===null?!1:(w&2)!==0),K?(E=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),at(ht,w&1),o===null)return Em(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=g.children,o=g.fallback,E?(g=c.mode,E=c.child,D={mode:"hidden",children:D},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=nd(D,g,0,null),o=ms(o,g,h,null),E.return=c,o.return=c,E.sibling=o,c.child=E,c.child.memoizedState=np(h),c.memoizedState=rp,o):ap(c,D));if(w=o.memoizedState,w!==null&&(K=w.dehydrated,K!==null))return a8(o,c,D,g,K,w,h);if(E){E=g.fallback,D=c.mode,w=o.child,K=w.sibling;var J={mode:"hidden",children:g.children};return(D&1)===0&&c.child!==w?(g=c.child,g.childLanes=0,g.pendingProps=J,c.deletions=null):(g=Oa(w,J),g.subtreeFlags=w.subtreeFlags&14680064),K!==null?E=Oa(K,E):(E=ms(E,D,h,null),E.flags|=2),E.return=c,g.return=c,g.sibling=E,c.child=g,g=E,E=c.child,D=o.child.memoizedState,D=D===null?np(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=o.childLanes&~h,c.memoizedState=rp,g}return E=o.child,o=E.sibling,g=Oa(E,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=g,c.memoizedState=null,g}function ap(o,c){return c=nd({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Wu(o,c,h,g){return g!==null&&_m(g),yi(c,o.child,null,h),o=ap(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function a8(o,c,h,g,w,E,D){if(h)return c.flags&256?(c.flags&=-257,g=Jm(Error(r(422))),Wu(o,c,D,g)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(E=g.fallback,w=c.mode,g=nd({mode:"visible",children:g.children},w,0,null),E=ms(E,w,D,null),E.flags|=2,g.return=c,E.return=c,g.sibling=E,c.child=g,(c.mode&1)!==0&&yi(c,o.child,null,D),c.child.memoizedState=np(D),c.memoizedState=rp,E);if((c.mode&1)===0)return Wu(o,c,D,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var K=g.dgst;return g=K,E=Error(r(419)),g=Jm(E,g,void 0),Wu(o,c,D,g)}if(K=(D&o.childLanes)!==0,dr||K){if(g=Lt,g!==null){switch(D&-D){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|D))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Dn(o,w),nn(g,o,w,-1))}return bp(),g=Jm(Error(r(421))),Wu(o,c,D,g)}return w.data==="$?"?(c.flags|=128,c.child=o.child,c=x8.bind(null,o),w._reactRetry=c,null):(o=E.treeContext,Nr=ga(w.nextSibling),wr=c,dt=!0,Zr=null,o!==null&&(Rr[Mr++]=In,Rr[Mr++]=$n,Rr[Mr++]=ss,In=o.id,$n=o.overflow,ss=c),c=ap(c,g.children),c.flags|=4096,c)}function v2(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Im(o.return,c,h)}function sp(o,c,h,g,w){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=w)}function b2(o,c,h){var g=c.pendingProps,w=g.revealOrder,E=g.tail;if(tr(o,c,g.children,h),g=ht.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v2(o,h,c);else if(o.tag===19)v2(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(at(ht,g),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Du(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),sp(c,!1,w,h,E);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Du(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}sp(c,!0,h,null,E);break;case"together":sp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Hu(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Fn(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),us|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=Oa(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Oa(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function s8(o,c,h){switch(c.tag){case 3:g2(c),xi();break;case 5:M1(c);break;case 1:ur(c.type)&&Ou(c);break;case 4:Lm(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,w=c.memoizedProps.value;at(Ru,g._currentValue),g._currentValue=w;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(at(ht,ht.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?y2(o,c,h):(at(ht,ht.current&1),o=Fn(o,c,h),o!==null?o.sibling:null);at(ht,ht.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(o.flags&128)!==0){if(g)return b2(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),at(ht,ht.current),g)break;return null;case 22:case 23:return c.lanes=0,h2(o,c,h)}return Fn(o,c,h)}var j2,ip,w2,N2;j2=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ip=function(){},w2=function(o,c,h,g){var w=o.memoizedProps;if(w!==g){o=c.stateNode,ls(yn.current);var E=null;switch(h){case"input":w=je(o,w),g=je(o,g),E=[];break;case"select":w=z({},w,{value:void 0}),g=z({},g,{value:void 0}),E=[];break;case"textarea":w=Yr(o,w),g=Yr(o,g),E=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Su)}Bh(h,g);var D;h=null;for(ae in w)if(!g.hasOwnProperty(ae)&&w.hasOwnProperty(ae)&&w[ae]!=null)if(ae==="style"){var K=w[ae];for(D in K)K.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in g){var J=g[ae];if(K=w!=null?w[ae]:void 0,g.hasOwnProperty(ae)&&J!==K&&(J!=null||K!=null))if(ae==="style")if(K){for(D in K)!K.hasOwnProperty(D)||J&&J.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in J)J.hasOwnProperty(D)&&K[D]!==J[D]&&(h||(h={}),h[D]=J[D])}else h||(E||(E=[]),E.push(ae,h)),h=J;else ae==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(E=E||[]).push(ae,J)):ae==="children"?typeof J!="string"&&typeof J!="number"||(E=E||[]).push(ae,""+J):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(J!=null&&ae==="onScroll"&&lt("scroll",o),E||K===J||(E=[])):(E=E||[]).push(ae,J))}h&&(E=E||[]).push("style",h);var ae=E;(c.updateQueue=ae)&&(c.flags|=4)}},N2=function(o,c,h,g){h!==g&&(c.flags|=4)};function jl(o,c){if(!dt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Qt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function i8(o,c,h){var g=c.pendingProps;switch(Pm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(c),null;case 1:return ur(c.type)&&Cu(),Qt(c),null;case 3:return g=c.stateNode,ji(),ct(cr),ct(Gt),zm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(_u(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zr!==null&&(xp(Zr),Zr=null))),ip(o,c),Qt(c),null;case 5:Fm(c);var w=ls(gl.current);if(h=c.type,o!==null&&c.stateNode!=null)w2(o,c,h,g,w),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Qt(c),null}if(o=ls(yn.current),_u(c)){g=c.stateNode,h=c.type;var E=c.memoizedProps;switch(g[xn]=c,g[dl]=E,o=(c.mode&1)!==0,h){case"dialog":lt("cancel",g),lt("close",g);break;case"iframe":case"object":case"embed":lt("load",g);break;case"video":case"audio":for(w=0;w<ll.length;w++)lt(ll[w],g);break;case"source":lt("error",g);break;case"img":case"image":case"link":lt("error",g),lt("load",g);break;case"details":lt("toggle",g);break;case"input":tt(g,E),lt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},lt("invalid",g);break;case"textarea":ri(g,E),lt("invalid",g)}Bh(h,E),w=null;for(var D in E)if(E.hasOwnProperty(D)){var K=E[D];D==="children"?typeof K=="string"?g.textContent!==K&&(E.suppressHydrationWarning!==!0&&Nu(g.textContent,K,o),w=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(E.suppressHydrationWarning!==!0&&Nu(g.textContent,K,o),w=["children",""+K]):s.hasOwnProperty(D)&&K!=null&&D==="onScroll"&&lt("scroll",g)}switch(h){case"input":Re(g),Qr(g,E,!0);break;case"textarea":Re(g),qo(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=Su)}g=w,c.updateQueue=g,g!==null&&(c.flags|=4)}else{D=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=cw(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=D.createElement(h,{is:g.is}):(o=D.createElement(h),h==="select"&&(D=o,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):o=D.createElementNS(o,h),o[xn]=c,o[dl]=g,j2(o,c,!1,!1),c.stateNode=o;e:{switch(D=zh(h,g),h){case"dialog":lt("cancel",o),lt("close",o),w=g;break;case"iframe":case"object":case"embed":lt("load",o),w=g;break;case"video":case"audio":for(w=0;w<ll.length;w++)lt(ll[w],o);w=g;break;case"source":lt("error",o),w=g;break;case"img":case"image":case"link":lt("error",o),lt("load",o),w=g;break;case"details":lt("toggle",o),w=g;break;case"input":tt(o,g),w=je(o,g),lt("invalid",o);break;case"option":w=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},w=z({},g,{value:void 0}),lt("invalid",o);break;case"textarea":ri(o,g),w=Yr(o,g),lt("invalid",o);break;default:w=g}Bh(h,w),K=w;for(E in K)if(K.hasOwnProperty(E)){var J=K[E];E==="style"?fw(o,J):E==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&uw(o,J)):E==="children"?typeof J=="string"?(h!=="textarea"||J!=="")&&Uo(o,J):typeof J=="number"&&Uo(o,""+J):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?J!=null&&E==="onScroll"&&lt("scroll",o):J!=null&&_(o,E,J,D))}switch(h){case"input":Re(o),Qr(o,g,!1);break;case"textarea":Re(o),qo(o);break;case"option":g.value!=null&&o.setAttribute("value",""+xe(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?lr(o,!!g.multiple,E,!1):g.defaultValue!=null&&lr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=Su)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Qt(c),null;case 6:if(o&&c.stateNode!=null)N2(o,c,o.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(h=ls(gl.current),ls(yn.current),_u(c)){if(g=c.stateNode,h=c.memoizedProps,g[xn]=c,(E=g.nodeValue!==h)&&(o=wr,o!==null))switch(o.tag){case 3:Nu(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Nu(g.nodeValue,h,(o.mode&1)!==0)}E&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[xn]=c,c.stateNode=g}return Qt(c),null;case 13:if(ct(ht),g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(dt&&Nr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)C1(),xi(),c.flags|=98560,E=!1;else if(E=_u(c),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[xn]=c}else xi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Qt(c),E=!1}else Zr!==null&&(xp(Zr),Zr=null),E=!0;if(!E)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(ht.current&1)!==0?Pt===0&&(Pt=3):bp())),c.updateQueue!==null&&(c.flags|=4),Qt(c),null);case 4:return ji(),ip(o,c),o===null&&cl(c.stateNode.containerInfo),Qt(c),null;case 10:return Mm(c.type._context),Qt(c),null;case 17:return ur(c.type)&&Cu(),Qt(c),null;case 19:if(ct(ht),E=c.memoizedState,E===null)return Qt(c),null;if(g=(c.flags&128)!==0,D=E.rendering,D===null)if(g)jl(E,!1);else{if(Pt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=Du(o),D!==null){for(c.flags|=128,jl(E,!1),g=D.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)E=h,o=g,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,o=D.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return at(ht,ht.current&1|2),c.child}o=o.sibling}E.tail!==null&&jt()>ki&&(c.flags|=128,g=!0,jl(E,!1),c.lanes=4194304)}else{if(!g)if(o=Du(D),o!==null){if(c.flags|=128,g=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),jl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!dt)return Qt(c),null}else 2*jt()-E.renderingStartTime>ki&&h!==1073741824&&(c.flags|=128,g=!0,jl(E,!1),c.lanes=4194304);E.isBackwards?(D.sibling=c.child,c.child=D):(h=E.last,h!==null?h.sibling=D:c.child=D,E.last=D)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=jt(),c.sibling=null,h=ht.current,at(ht,g?h&1|2:h&1),c):(Qt(c),null);case 22:case 23:return vp(),g=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(Sr&1073741824)!==0&&(Qt(c),c.subtreeFlags&6&&(c.flags|=8192)):Qt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function o8(o,c){switch(Pm(c),c.tag){case 1:return ur(c.type)&&Cu(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ji(),ct(cr),ct(Gt),zm(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Fm(c),null;case 13:if(ct(ht),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));xi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ct(ht),null;case 4:return ji(),null;case 10:return Mm(c.type._context),null;case 22:case 23:return vp(),null;case 24:return null;default:return null}}var Ku=!1,Yt=!1,l8=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ni(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){xt(o,c,g)}else h.current=null}function op(o,c,h){try{h()}catch(g){xt(o,c,g)}}var S2=!1;function c8(o,c){if(vm=fu,o=r1(),dm(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var D=0,K=-1,J=-1,ae=0,fe=0,he=o,de=null;t:for(;;){for(var ve;he!==h||w!==0&&he.nodeType!==3||(K=D+w),he!==E||g!==0&&he.nodeType!==3||(J=D+g),he.nodeType===3&&(D+=he.nodeValue.length),(ve=he.firstChild)!==null;)de=he,he=ve;for(;;){if(he===o)break t;if(de===h&&++ae===w&&(K=D),de===E&&++fe===g&&(J=D),(ve=he.nextSibling)!==null)break;he=de,de=he.parentNode}he=ve}h=K===-1||J===-1?null:{start:K,end:J}}else h=null}h=h||{start:0,end:0}}else h=null;for(bm={focusedElem:o,selectionRange:h},fu=!1,we=c;we!==null;)if(c=we,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,we=o;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var ke=Se.memoizedProps,wt=Se.memoizedState,re=c.stateNode,Z=re.getSnapshotBeforeUpdate(c.elementType===c.type?ke:en(c.type,ke),wt);re.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){xt(c,c.return,me)}if(o=c.sibling,o!==null){o.return=c.return,we=o;break}we=c.return}return Se=S2,S2=!1,Se}function wl(o,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&o)===o){var E=w.destroy;w.destroy=void 0,E!==void 0&&op(c,h,E)}w=w.next}while(w!==g)}}function Gu(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function lp(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function k2(o){var c=o.alternate;c!==null&&(o.alternate=null,k2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[xn],delete c[dl],delete c[Sm],delete c[HT],delete c[KT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function C2(o){return o.tag===5||o.tag===3||o.tag===4}function O2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||C2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cp(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Su));else if(g!==4&&(o=o.child,o!==null))for(cp(o,c,h),o=o.sibling;o!==null;)cp(o,c,h),o=o.sibling}function up(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(up(o,c,h),o=o.sibling;o!==null;)up(o,c,h),o=o.sibling}var Wt=null,tn=!1;function wa(o,c,h){for(h=h.child;h!==null;)P2(o,c,h),h=h.sibling}function P2(o,c,h){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(iu,h)}catch{}switch(h.tag){case 5:Yt||Ni(h,c);case 6:var g=Wt,w=tn;Wt=null,wa(o,c,h),Wt=g,tn=w,Wt!==null&&(tn?(o=Wt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Wt.removeChild(h.stateNode));break;case 18:Wt!==null&&(tn?(o=Wt,h=h.stateNode,o.nodeType===8?Nm(o.parentNode,h):o.nodeType===1&&Nm(o,h),el(o)):Nm(Wt,h.stateNode));break;case 4:g=Wt,w=tn,Wt=h.stateNode.containerInfo,tn=!0,wa(o,c,h),Wt=g,tn=w;break;case 0:case 11:case 14:case 15:if(!Yt&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var E=w,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&op(h,c,D),w=w.next}while(w!==g)}wa(o,c,h);break;case 1:if(!Yt&&(Ni(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(K){xt(h,c,K)}wa(o,c,h);break;case 21:wa(o,c,h);break;case 22:h.mode&1?(Yt=(g=Yt)||h.memoizedState!==null,wa(o,c,h),Yt=g):wa(o,c,h);break;default:wa(o,c,h)}}function A2(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new l8),c.forEach(function(g){var w=y8.bind(null,o,g);h.has(g)||(h.add(g),g.then(w,w))})}}function rn(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];try{var E=o,D=c,K=D;e:for(;K!==null;){switch(K.tag){case 5:Wt=K.stateNode,tn=!1;break e;case 3:Wt=K.stateNode.containerInfo,tn=!0;break e;case 4:Wt=K.stateNode.containerInfo,tn=!0;break e}K=K.return}if(Wt===null)throw Error(r(160));P2(E,D,w),Wt=null,tn=!1;var J=w.alternate;J!==null&&(J.return=null),w.return=null}catch(ae){xt(w,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)E2(c,o),c=c.sibling}function E2(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(rn(c,o),bn(o),g&4){try{wl(3,o,o.return),Gu(3,o)}catch(ke){xt(o,o.return,ke)}try{wl(5,o,o.return)}catch(ke){xt(o,o.return,ke)}}break;case 1:rn(c,o),bn(o),g&512&&h!==null&&Ni(h,h.return);break;case 5:if(rn(c,o),bn(o),g&512&&h!==null&&Ni(h,h.return),o.flags&32){var w=o.stateNode;try{Uo(w,"")}catch(ke){xt(o,o.return,ke)}}if(g&4&&(w=o.stateNode,w!=null)){var E=o.memoizedProps,D=h!==null?h.memoizedProps:E,K=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{K==="input"&&E.type==="radio"&&E.name!=null&&gt(w,E),zh(K,D);var ae=zh(K,E);for(D=0;D<J.length;D+=2){var fe=J[D],he=J[D+1];fe==="style"?fw(w,he):fe==="dangerouslySetInnerHTML"?uw(w,he):fe==="children"?Uo(w,he):_(w,fe,he,ae)}switch(K){case"input":$t(w,E);break;case"textarea":zo(w,E);break;case"select":var de=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var ve=E.value;ve!=null?lr(w,!!E.multiple,ve,!1):de!==!!E.multiple&&(E.defaultValue!=null?lr(w,!!E.multiple,E.defaultValue,!0):lr(w,!!E.multiple,E.multiple?[]:"",!1))}w[dl]=E}catch(ke){xt(o,o.return,ke)}}break;case 6:if(rn(c,o),bn(o),g&4){if(o.stateNode===null)throw Error(r(162));w=o.stateNode,E=o.memoizedProps;try{w.nodeValue=E}catch(ke){xt(o,o.return,ke)}}break;case 3:if(rn(c,o),bn(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{el(c.containerInfo)}catch(ke){xt(o,o.return,ke)}break;case 4:rn(c,o),bn(o);break;case 13:rn(c,o),bn(o),w=o.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(hp=jt())),g&4&&A2(o);break;case 22:if(fe=h!==null&&h.memoizedState!==null,o.mode&1?(Yt=(ae=Yt)||fe,rn(c,o),Yt=ae):rn(c,o),bn(o),g&8192){if(ae=o.memoizedState!==null,(o.stateNode.isHidden=ae)&&!fe&&(o.mode&1)!==0)for(we=o,fe=o.child;fe!==null;){for(he=we=fe;we!==null;){switch(de=we,ve=de.child,de.tag){case 0:case 11:case 14:case 15:wl(4,de,de.return);break;case 1:Ni(de,de.return);var Se=de.stateNode;if(typeof Se.componentWillUnmount=="function"){g=de,h=de.return;try{c=g,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(ke){xt(g,h,ke)}}break;case 5:Ni(de,de.return);break;case 22:if(de.memoizedState!==null){R2(he);continue}}ve!==null?(ve.return=de,we=ve):R2(he)}fe=fe.sibling}e:for(fe=null,he=o;;){if(he.tag===5){if(fe===null){fe=he;try{w=he.stateNode,ae?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(K=he.stateNode,J=he.memoizedProps.style,D=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=dw("display",D))}catch(ke){xt(o,o.return,ke)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=ae?"":he.memoizedProps}catch(ke){xt(o,o.return,ke)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===o)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===o)break e;for(;he.sibling===null;){if(he.return===null||he.return===o)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:rn(c,o),bn(o),g&4&&A2(o);break;case 21:break;default:rn(c,o),bn(o)}}function bn(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(C2(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Uo(w,""),g.flags&=-33);var E=O2(o);up(o,E,w);break;case 3:case 4:var D=g.stateNode.containerInfo,K=O2(o);cp(o,K,D);break;default:throw Error(r(161))}}catch(J){xt(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function u8(o,c,h){we=o,_2(o)}function _2(o,c,h){for(var g=(o.mode&1)!==0;we!==null;){var w=we,E=w.child;if(w.tag===22&&g){var D=w.memoizedState!==null||Ku;if(!D){var K=w.alternate,J=K!==null&&K.memoizedState!==null||Yt;K=Ku;var ae=Yt;if(Ku=D,(Yt=J)&&!ae)for(we=w;we!==null;)D=we,J=D.child,D.tag===22&&D.memoizedState!==null?M2(w):J!==null?(J.return=D,we=J):M2(w);for(;E!==null;)we=E,_2(E),E=E.sibling;we=w,Ku=K,Yt=ae}T2(o)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,we=E):T2(o)}}function T2(o){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yt||Gu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Yt)if(h===null)g.componentDidMount();else{var w=c.elementType===c.type?h.memoizedProps:en(c.type,h.memoizedProps);g.componentDidUpdate(w,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&R1(c,E,g);break;case 3:var D=c.updateQueue;if(D!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}R1(c,D,h)}break;case 5:var K=c.stateNode;if(h===null&&c.flags&4){h=K;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&h.focus();break;case"img":J.src&&(h.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var fe=ae.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&el(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||c.flags&512&&lp(c)}catch(de){xt(c,c.return,de)}}if(c===o){we=null;break}if(h=c.sibling,h!==null){h.return=c.return,we=h;break}we=c.return}}function R2(o){for(;we!==null;){var c=we;if(c===o){we=null;break}var h=c.sibling;if(h!==null){h.return=c.return,we=h;break}we=c.return}}function M2(o){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Gu(4,c)}catch(J){xt(c,h,J)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var w=c.return;try{g.componentDidMount()}catch(J){xt(c,w,J)}}var E=c.return;try{lp(c)}catch(J){xt(c,E,J)}break;case 5:var D=c.return;try{lp(c)}catch(J){xt(c,D,J)}}}catch(J){xt(c,c.return,J)}if(c===o){we=null;break}var K=c.sibling;if(K!==null){K.return=c.return,we=K;break}we=c.return}}var d8=Math.ceil,Vu=k.ReactCurrentDispatcher,dp=k.ReactCurrentOwner,Dr=k.ReactCurrentBatchConfig,He=0,Lt=null,St=null,Ht=0,Sr=0,Si=xa(0),Pt=0,Nl=null,us=0,Qu=0,fp=0,Sl=null,fr=null,hp=0,ki=1/0,Bn=null,Yu=!1,mp=null,Na=null,Xu=!1,Sa=null,Ju=0,kl=0,pp=null,Zu=-1,ed=0;function rr(){return(He&6)!==0?jt():Zu!==-1?Zu:Zu=jt()}function ka(o){return(o.mode&1)===0?1:(He&2)!==0&&Ht!==0?Ht&-Ht:VT.transition!==null?(ed===0&&(ed=Ow()),ed):(o=et,o!==0||(o=window.event,o=o===void 0?16:$w(o.type)),o)}function nn(o,c,h,g){if(50<kl)throw kl=0,pp=null,Error(r(185));Qo(o,h,g),((He&2)===0||o!==Lt)&&(o===Lt&&((He&2)===0&&(Qu|=h),Pt===4&&Ca(o,Ht)),hr(o,g),h===1&&He===0&&(c.mode&1)===0&&(ki=jt()+500,Pu&&va()))}function hr(o,c){var h=o.callbackNode;V6(o,c);var g=cu(o,o===Lt?Ht:0);if(g===0)h!==null&&Sw(h),o.callbackNode=null,o.callbackPriority=0;else if(c=g&-g,o.callbackPriority!==c){if(h!=null&&Sw(h),c===1)o.tag===0?GT($2.bind(null,o)):j1($2.bind(null,o)),UT(function(){(He&6)===0&&va()}),h=null;else{switch(Pw(g)){case 1:h=Vh;break;case 4:h=kw;break;case 16:h=su;break;case 536870912:h=Cw;break;default:h=su}h=W2(h,I2.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function I2(o,c){if(Zu=-1,ed=0,(He&6)!==0)throw Error(r(327));var h=o.callbackNode;if(Ci()&&o.callbackNode!==h)return null;var g=cu(o,o===Lt?Ht:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||c)c=td(o,g);else{c=g;var w=He;He|=2;var E=L2();(Lt!==o||Ht!==c)&&(Bn=null,ki=jt()+500,fs(o,c));do try{m8();break}catch(K){D2(o,K)}while(!0);Rm(),Vu.current=E,He=w,St!==null?c=0:(Lt=null,Ht=0,c=Pt)}if(c!==0){if(c===2&&(w=Qh(o),w!==0&&(g=w,c=gp(o,w))),c===1)throw h=Nl,fs(o,0),Ca(o,g),hr(o,jt()),h;if(c===6)Ca(o,g);else{if(w=o.current.alternate,(g&30)===0&&!f8(w)&&(c=td(o,g),c===2&&(E=Qh(o),E!==0&&(g=E,c=gp(o,E))),c===1))throw h=Nl,fs(o,0),Ca(o,g),hr(o,jt()),h;switch(o.finishedWork=w,o.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:hs(o,fr,Bn);break;case 3:if(Ca(o,g),(g&130023424)===g&&(c=hp+500-jt(),10<c)){if(cu(o,0)!==0)break;if(w=o.suspendedLanes,(w&g)!==g){rr(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=wm(hs.bind(null,o,fr,Bn),c);break}hs(o,fr,Bn);break;case 4:if(Ca(o,g),(g&4194240)===g)break;for(c=o.eventTimes,w=-1;0<g;){var D=31-Xr(g);E=1<<D,D=c[D],D>w&&(w=D),g&=~E}if(g=w,g=jt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*d8(g/1960))-g,10<g){o.timeoutHandle=wm(hs.bind(null,o,fr,Bn),g);break}hs(o,fr,Bn);break;case 5:hs(o,fr,Bn);break;default:throw Error(r(329))}}}return hr(o,jt()),o.callbackNode===h?I2.bind(null,o):null}function gp(o,c){var h=Sl;return o.current.memoizedState.isDehydrated&&(fs(o,c).flags|=256),o=td(o,c),o!==2&&(c=fr,fr=h,c!==null&&xp(c)),o}function xp(o){fr===null?fr=o:fr.push.apply(fr,o)}function f8(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var w=h[g],E=w.getSnapshot;w=w.value;try{if(!Jr(E(),w))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ca(o,c){for(c&=~fp,c&=~Qu,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-Xr(c),g=1<<h;o[h]=-1,c&=~g}}function $2(o){if((He&6)!==0)throw Error(r(327));Ci();var c=cu(o,0);if((c&1)===0)return hr(o,jt()),null;var h=td(o,c);if(o.tag!==0&&h===2){var g=Qh(o);g!==0&&(c=g,h=gp(o,g))}if(h===1)throw h=Nl,fs(o,0),Ca(o,c),hr(o,jt()),h;if(h===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,hs(o,fr,Bn),hr(o,jt()),null}function yp(o,c){var h=He;He|=1;try{return o(c)}finally{He=h,He===0&&(ki=jt()+500,Pu&&va())}}function ds(o){Sa!==null&&Sa.tag===0&&(He&6)===0&&Ci();var c=He;He|=1;var h=Dr.transition,g=et;try{if(Dr.transition=null,et=1,o)return o()}finally{et=g,Dr.transition=h,He=c,(He&6)===0&&va()}}function vp(){Sr=Si.current,ct(Si)}function fs(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,qT(h)),St!==null)for(h=St.return;h!==null;){var g=h;switch(Pm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Cu();break;case 3:ji(),ct(cr),ct(Gt),zm();break;case 5:Fm(g);break;case 4:ji();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:Mm(g.type._context);break;case 22:case 23:vp()}h=h.return}if(Lt=o,St=o=Oa(o.current,null),Ht=Sr=c,Pt=0,Nl=null,fp=Qu=us=0,fr=Sl=null,os!==null){for(c=0;c<os.length;c++)if(h=os[c],g=h.interleaved,g!==null){h.interleaved=null;var w=g.next,E=h.pending;if(E!==null){var D=E.next;E.next=w,g.next=D}h.pending=g}os=null}return o}function D2(o,c){do{var h=St;try{if(Rm(),Lu.current=qu,Fu){for(var g=mt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Fu=!1}if(cs=0,Dt=Ot=mt=null,xl=!1,yl=0,dp.current=null,h===null||h.return===null){Pt=1,Nl=c,St=null;break}e:{var E=o,D=h.return,K=h,J=c;if(c=Ht,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ae=J,fe=K,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ve=l2(D);if(ve!==null){ve.flags&=-257,c2(ve,D,K,E,c),ve.mode&1&&o2(E,ae,c),c=ve,J=ae;var Se=c.updateQueue;if(Se===null){var ke=new Set;ke.add(J),c.updateQueue=ke}else Se.add(J);break e}else{if((c&1)===0){o2(E,ae,c),bp();break e}J=Error(r(426))}}else if(dt&&K.mode&1){var wt=l2(D);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),c2(wt,D,K,E,c),_m(wi(J,K));break e}}E=J=wi(J,K),Pt!==4&&(Pt=2),Sl===null?Sl=[E]:Sl.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var re=s2(E,J,c);T1(E,re);break e;case 1:K=J;var Z=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Na===null||!Na.has(ne)))){E.flags|=65536,c&=-c,E.lanes|=c;var me=i2(E,K,c);T1(E,me);break e}}E=E.return}while(E!==null)}B2(h)}catch(Ce){c=Ce,St===h&&h!==null&&(St=h=h.return);continue}break}while(!0)}function L2(){var o=Vu.current;return Vu.current=qu,o===null?qu:o}function bp(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||(us&268435455)===0&&(Qu&268435455)===0||Ca(Lt,Ht)}function td(o,c){var h=He;He|=2;var g=L2();(Lt!==o||Ht!==c)&&(Bn=null,fs(o,c));do try{h8();break}catch(w){D2(o,w)}while(!0);if(Rm(),He=h,Vu.current=g,St!==null)throw Error(r(261));return Lt=null,Ht=0,Pt}function h8(){for(;St!==null;)F2(St)}function m8(){for(;St!==null&&!F6();)F2(St)}function F2(o){var c=U2(o.alternate,o,Sr);o.memoizedProps=o.pendingProps,c===null?B2(o):St=c,dp.current=null}function B2(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=i8(h,c,Sr),h!==null){St=h;return}}else{if(h=o8(h,c),h!==null){h.flags&=32767,St=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pt=6,St=null;return}}if(c=c.sibling,c!==null){St=c;return}St=c=o}while(c!==null);Pt===0&&(Pt=5)}function hs(o,c,h){var g=et,w=Dr.transition;try{Dr.transition=null,et=1,p8(o,c,h,g)}finally{Dr.transition=w,et=g}return null}function p8(o,c,h,g){do Ci();while(Sa!==null);if((He&6)!==0)throw Error(r(327));h=o.finishedWork;var w=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(Q6(o,E),o===Lt&&(St=Lt=null,Ht=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Xu||(Xu=!0,W2(su,function(){return Ci(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=Dr.transition,Dr.transition=null;var D=et;et=1;var K=He;He|=4,dp.current=null,c8(o,h),E2(h,o),IT(bm),fu=!!vm,bm=vm=null,o.current=h,u8(h),B6(),He=K,et=D,Dr.transition=E}else o.current=h;if(Xu&&(Xu=!1,Sa=o,Ju=w),E=o.pendingLanes,E===0&&(Na=null),U6(h.stateNode),hr(o,jt()),c!==null)for(g=o.onRecoverableError,h=0;h<c.length;h++)w=c[h],g(w.value,{componentStack:w.stack,digest:w.digest});if(Yu)throw Yu=!1,o=mp,mp=null,o;return(Ju&1)!==0&&o.tag!==0&&Ci(),E=o.pendingLanes,(E&1)!==0?o===pp?kl++:(kl=0,pp=o):kl=0,va(),null}function Ci(){if(Sa!==null){var o=Pw(Ju),c=Dr.transition,h=et;try{if(Dr.transition=null,et=16>o?16:o,Sa===null)var g=!1;else{if(o=Sa,Sa=null,Ju=0,(He&6)!==0)throw Error(r(331));var w=He;for(He|=4,we=o.current;we!==null;){var E=we,D=E.child;if((we.flags&16)!==0){var K=E.deletions;if(K!==null){for(var J=0;J<K.length;J++){var ae=K[J];for(we=ae;we!==null;){var fe=we;switch(fe.tag){case 0:case 11:case 15:wl(8,fe,E)}var he=fe.child;if(he!==null)he.return=fe,we=he;else for(;we!==null;){fe=we;var de=fe.sibling,ve=fe.return;if(k2(fe),fe===ae){we=null;break}if(de!==null){de.return=ve,we=de;break}we=ve}}}var Se=E.alternate;if(Se!==null){var ke=Se.child;if(ke!==null){Se.child=null;do{var wt=ke.sibling;ke.sibling=null,ke=wt}while(ke!==null)}}we=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,we=D;else e:for(;we!==null;){if(E=we,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:wl(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,we=re;break e}we=E.return}}var Z=o.current;for(we=Z;we!==null;){D=we;var ne=D.child;if((D.subtreeFlags&2064)!==0&&ne!==null)ne.return=D,we=ne;else e:for(D=Z;we!==null;){if(K=we,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Gu(9,K)}}catch(Ce){xt(K,K.return,Ce)}if(K===D){we=null;break e}var me=K.sibling;if(me!==null){me.return=K.return,we=me;break e}we=K.return}}if(He=w,va(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(iu,o)}catch{}g=!0}return g}finally{et=h,Dr.transition=c}}return!1}function z2(o,c,h){c=wi(h,c),c=s2(o,c,1),o=ja(o,c,1),c=rr(),o!==null&&(Qo(o,1,c),hr(o,c))}function xt(o,c,h){if(o.tag===3)z2(o,o,h);else for(;c!==null;){if(c.tag===3){z2(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Na===null||!Na.has(g))){o=wi(h,o),o=i2(c,o,1),c=ja(c,o,1),o=rr(),c!==null&&(Qo(c,1,o),hr(c,o));break}}c=c.return}}function g8(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),c=rr(),o.pingedLanes|=o.suspendedLanes&h,Lt===o&&(Ht&h)===h&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>jt()-hp?fs(o,0):fp|=h),hr(o,c)}function q2(o,c){c===0&&((o.mode&1)===0?c=1:(c=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var h=rr();o=Dn(o,c),o!==null&&(Qo(o,c,h),hr(o,h))}function x8(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),q2(o,h)}function y8(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),q2(o,h)}var U2;U2=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||cr.current)dr=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return dr=!1,s8(o,c,h);dr=(o.flags&131072)!==0}else dr=!1,dt&&(c.flags&1048576)!==0&&w1(c,Eu,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;Hu(o,c),o=c.pendingProps;var w=mi(c,Gt.current);bi(c,h),w=Wm(null,c,g,o,w,h);var E=Hm();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ur(g)?(E=!0,Ou(c)):E=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Dm(c),w.updater=Uu,c.stateNode=w,w._reactInternals=c,Xm(c,g,o,h),c=tp(null,c,g,!0,E,h)):(c.tag=0,dt&&E&&Om(c),tr(null,c,w,h),c=c.child),c;case 16:g=c.elementType;e:{switch(Hu(o,c),o=c.pendingProps,w=g._init,g=w(g._payload),c.type=g,w=c.tag=b8(g),o=en(g,o),w){case 0:c=ep(null,c,g,o,h);break e;case 1:c=p2(null,c,g,o,h);break e;case 11:c=u2(null,c,g,o,h);break e;case 14:c=d2(null,c,g,en(g.type,o),h);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:en(g,w),ep(o,c,g,w,h);case 1:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:en(g,w),p2(o,c,g,w,h);case 3:e:{if(g2(c),o===null)throw Error(r(387));g=c.pendingProps,E=c.memoizedState,w=E.element,_1(o,c),$u(c,g,null,h);var D=c.memoizedState;if(g=D.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){w=wi(Error(r(423)),c),c=x2(o,c,g,h,w);break e}else if(g!==w){w=wi(Error(r(424)),c),c=x2(o,c,g,h,w);break e}else for(Nr=ga(c.stateNode.containerInfo.firstChild),wr=c,dt=!0,Zr=null,h=A1(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(xi(),g===w){c=Fn(o,c,h);break e}tr(o,c,g,h)}c=c.child}return c;case 5:return M1(c),o===null&&Em(c),g=c.type,w=c.pendingProps,E=o!==null?o.memoizedProps:null,D=w.children,jm(g,w)?D=null:E!==null&&jm(g,E)&&(c.flags|=32),m2(o,c),tr(o,c,D,h),c.child;case 6:return o===null&&Em(c),null;case 13:return y2(o,c,h);case 4:return Lm(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=yi(c,null,g,h):tr(o,c,g,h),c.child;case 11:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:en(g,w),u2(o,c,g,w,h);case 7:return tr(o,c,c.pendingProps,h),c.child;case 8:return tr(o,c,c.pendingProps.children,h),c.child;case 12:return tr(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,w=c.pendingProps,E=c.memoizedProps,D=w.value,at(Ru,g._currentValue),g._currentValue=D,E!==null)if(Jr(E.value,D)){if(E.children===w.children&&!cr.current){c=Fn(o,c,h);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var K=E.dependencies;if(K!==null){D=E.child;for(var J=K.firstContext;J!==null;){if(J.context===g){if(E.tag===1){J=Ln(-1,h&-h),J.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var fe=ae.pending;fe===null?J.next=J:(J.next=fe.next,fe.next=J),ae.pending=J}}E.lanes|=h,J=E.alternate,J!==null&&(J.lanes|=h),Im(E.return,h,c),K.lanes|=h;break}J=J.next}}else if(E.tag===10)D=E.type===c.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(r(341));D.lanes|=h,K=D.alternate,K!==null&&(K.lanes|=h),Im(D,h,c),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===c){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}tr(o,c,w.children,h),c=c.child}return c;case 9:return w=c.type,g=c.pendingProps.children,bi(c,h),w=Ir(w),g=g(w),c.flags|=1,tr(o,c,g,h),c.child;case 14:return g=c.type,w=en(g,c.pendingProps),w=en(g.type,w),d2(o,c,g,w,h);case 15:return f2(o,c,c.type,c.pendingProps,h);case 17:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:en(g,w),Hu(o,c),c.tag=1,ur(g)?(o=!0,Ou(c)):o=!1,bi(c,h),n2(c,g,w),Xm(c,g,w,h),tp(null,c,g,!0,o,h);case 19:return b2(o,c,h);case 22:return h2(o,c,h)}throw Error(r(156,c.tag))};function W2(o,c){return Nw(o,c)}function v8(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(o,c,h,g){return new v8(o,c,h,g)}function jp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function b8(o){if(typeof o=="function")return jp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===q)return 14}return 2}function Oa(o,c){var h=o.alternate;return h===null?(h=Lr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function rd(o,c,h,g,w,E){var D=2;if(g=o,typeof o=="function")jp(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case P:return ms(h.children,w,E,c);case R:D=8,w|=8;break;case $:return o=Lr(12,h,c,w|2),o.elementType=$,o.lanes=E,o;case H:return o=Lr(13,h,c,w),o.elementType=H,o.lanes=E,o;case Y:return o=Lr(19,h,c,w),o.elementType=Y,o.lanes=E,o;case F:return nd(h,w,E,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:D=10;break e;case T:D=9;break e;case M:D=11;break e;case q:D=14;break e;case U:D=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Lr(D,h,c,w),c.elementType=o,c.type=g,c.lanes=E,c}function ms(o,c,h,g){return o=Lr(7,o,g,c),o.lanes=h,o}function nd(o,c,h,g){return o=Lr(22,o,g,c),o.elementType=F,o.lanes=h,o.stateNode={isHidden:!1},o}function wp(o,c,h){return o=Lr(6,o,null,c),o.lanes=h,o}function Np(o,c,h){return c=Lr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function j8(o,c,h,g,w){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Sp(o,c,h,g,w,E,D,K,J){return o=new j8(o,c,h,K,J),c===1?(c=1,E===!0&&(c|=8)):c=0,E=Lr(3,null,null,c),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(E),o}function w8(o,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:o,containerInfo:c,implementation:h}}function H2(o){if(!o)return ya;o=o._reactInternals;e:{if(rs(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var h=o.type;if(ur(h))return v1(o,h,c)}return c}function K2(o,c,h,g,w,E,D,K,J){return o=Sp(h,g,!0,o,w,E,D,K,J),o.context=H2(null),h=o.current,g=rr(),w=ka(h),E=Ln(g,w),E.callback=c??null,ja(h,E,w),o.current.lanes=w,Qo(o,w,g),hr(o,g),o}function ad(o,c,h,g){var w=c.current,E=rr(),D=ka(w);return h=H2(h),c.context===null?c.context=h:c.pendingContext=h,c=Ln(E,D),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ja(w,c,D),o!==null&&(nn(o,w,D,E),Iu(o,w,D)),D}function sd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function G2(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function kp(o,c){G2(o,c),(o=o.alternate)&&G2(o,c)}function N8(){return null}var V2=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cp(o){this._internalRoot=o}id.prototype.render=Cp.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));ad(o,c,null,null)},id.prototype.unmount=Cp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;ds(function(){ad(null,o,null,null)}),c[Rn]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var c=_w();o={blockedOn:null,target:o,priority:c};for(var h=0;h<ha.length&&c!==0&&c<ha[h].priority;h++);ha.splice(h,0,o),h===0&&Mw(o)}};function Op(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function od(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Q2(){}function S8(o,c,h,g,w){if(w){if(typeof g=="function"){var E=g;g=function(){var ae=sd(D);E.call(ae)}}var D=K2(c,g,o,0,null,!1,!1,"",Q2);return o._reactRootContainer=D,o[Rn]=D.current,cl(o.nodeType===8?o.parentNode:o),ds(),D}for(;w=o.lastChild;)o.removeChild(w);if(typeof g=="function"){var K=g;g=function(){var ae=sd(J);K.call(ae)}}var J=Sp(o,0,!1,null,null,!1,!1,"",Q2);return o._reactRootContainer=J,o[Rn]=J.current,cl(o.nodeType===8?o.parentNode:o),ds(function(){ad(c,J,h,g)}),J}function ld(o,c,h,g,w){var E=h._reactRootContainer;if(E){var D=E;if(typeof w=="function"){var K=w;w=function(){var J=sd(D);K.call(J)}}ad(c,D,o,w)}else D=S8(h,c,o,w,g);return sd(D)}Aw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=Vo(c.pendingLanes);h!==0&&(Xh(c,h|1),hr(c,jt()),(He&6)===0&&(ki=jt()+500,va()))}break;case 13:ds(function(){var g=Dn(o,1);if(g!==null){var w=rr();nn(g,o,1,w)}}),kp(o,1)}},Jh=function(o){if(o.tag===13){var c=Dn(o,134217728);if(c!==null){var h=rr();nn(c,o,134217728,h)}kp(o,134217728)}},Ew=function(o){if(o.tag===13){var c=ka(o),h=Dn(o,c);if(h!==null){var g=rr();nn(h,o,c,g)}kp(o,c)}},_w=function(){return et},Tw=function(o,c){var h=et;try{return et=o,c()}finally{et=h}},Wh=function(o,c,h){switch(c){case"input":if($t(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var w=ku(g);if(!w)throw Error(r(90));te(g),$t(g,w)}}}break;case"textarea":zo(o,h);break;case"select":c=h.value,c!=null&&lr(o,!!h.multiple,c,!1)}},gw=yp,xw=ds;var k8={usingClientEntryPoint:!1,Events:[fl,fi,ku,mw,pw,yp]},Cl={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C8={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jw(o),o===null?null:o.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||N8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{iu=cd.inject(C8),gn=cd}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k8,mr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(c))throw Error(r(200));return w8(o,c,null,h)},mr.createRoot=function(o,c){if(!Op(o))throw Error(r(299));var h=!1,g="",w=V2;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=Sp(o,1,!1,null,null,h,!1,g,w),o[Rn]=c.current,cl(o.nodeType===8?o.parentNode:o),new Cp(c)},mr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=jw(c),o=o===null?null:o.stateNode,o},mr.flushSync=function(o){return ds(o)},mr.hydrate=function(o,c,h){if(!od(c))throw Error(r(200));return ld(null,o,c,!0,h)},mr.hydrateRoot=function(o,c,h){if(!Op(o))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,w=!1,E="",D=V2;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),c=K2(c,null,o,1,h??null,w,!1,E,D),o[Rn]=c.current,cl(o),g)for(o=0;o<g.length;o++)h=g[o],w=h._getVersion,w=w(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,w]:c.mutableSourceEagerHydrationData.push(h,w);return new id(c)},mr.render=function(o,c,h){if(!od(c))throw Error(r(200));return ld(null,o,c,!1,h)},mr.unmountComponentAtNode=function(o){if(!od(o))throw Error(r(40));return o._reactRootContainer?(ds(function(){ld(null,null,o,!1,function(){o._reactRootContainer=null,o[Rn]=null})}),!0):!1},mr.unstable_batchedUpdates=yp,mr.unstable_renderSubtreeIntoContainer=function(o,c,h,g){if(!od(h))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return ld(o,c,h,!1,g)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var aN;function d4(){if(aN)return _p.exports;aN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_p.exports=D8(),_p.exports}var sN;function L8(){if(sN)return hd;sN=1;var e=d4();return hd.createRoot=e.createRoot,hd.hydrateRoot=e.hydrateRoot,hd}var F8=L8();const B8=Ze(F8);var Co=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},z8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ta,Fb,e4,q8=(e4=class{constructor(){Pe(this,Ta,z8);Pe(this,Fb,!1)}setTimeoutProvider(e){ye(this,Ta,e)}setTimeout(e,t){return Q(this,Ta).setTimeout(e,t)}clearTimeout(e){Q(this,Ta).clearTimeout(e)}setInterval(e,t){return Q(this,Ta).setInterval(e,t)}clearInterval(e){Q(this,Ta).clearInterval(e)}},Ta=new WeakMap,Fb=new WeakMap,e4),js=new q8;function U8(e){setTimeout(e,0)}var Bs=typeof window>"u"||"Deno"in globalThis;function ar(){}function W8(e,t){return typeof e=="function"?e(t):e}function Qy(e){return typeof e=="number"&&e>=0&&e!==1/0}function f4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ua(e,t){return typeof e=="function"?e(t):e}function Ur(e,t){return typeof e=="function"?e(t):e}function iN(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==zb(l,t.options))return!1}else if(!Xl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function oN(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(zs(t.options.mutationKey)!==zs(i))return!1}else if(!Xl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zb(e,t){return((t==null?void 0:t.queryKeyHashFn)||zs)(e)}function zs(e){return JSON.stringify(e,(t,r)=>Yy(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Xl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Xl(e[r],t[r])):!1}var H8=Object.prototype.hasOwnProperty;function h4(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=lN(e)&&lN(t);if(!n&&!(Yy(e)&&Yy(t)))return t;const i=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,d=n?new Array(u):{};let f=0;for(let p=0;p<u;p++){const m=n?p:l[p],x=e[m],b=t[m];if(x===b){d[m]=x,(n?p<i:H8.call(e,m))&&f++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[m]=b;continue}const v=h4(x,b,r+1);d[m]=v,v===x&&f++}return i===u&&f===i?e:d}function Ld(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function lN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yy(e){if(!cN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!cN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cN(e){return Object.prototype.toString.call(e)==="[object Object]"}function K8(e){return new Promise(t=>{js.setTimeout(t,e)})}function Xy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?h4(e,t):t}function G8(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function V8(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qb=Symbol();function m4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ub(e,t){return typeof e=="function"?e(...t):!!e}function Q8(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Os,Ra,Bi,t4,Y8=(t4=class extends Co{constructor(){super();Pe(this,Os);Pe(this,Ra);Pe(this,Bi);ye(this,Bi,t=>{if(!Bs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,Ra)||this.setEventListener(Q(this,Bi))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ra))==null||t.call(this),ye(this,Ra,void 0))}setEventListener(t){var r;ye(this,Bi,t),(r=Q(this,Ra))==null||r.call(this),ye(this,Ra,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Q(this,Os)!==t&&(ye(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,Os)=="boolean"?Q(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,Ra=new WeakMap,Bi=new WeakMap,t4),Wb=new Y8;function Jy(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var X8=U8;function J8(){let e=[],t=0,r=u=>{u()},n=u=>{u()},s=X8;const i=u=>{t?e.push(u):s(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var _t=J8(),zi,Ma,qi,r4,Z8=(r4=class extends Co{constructor(){super();Pe(this,zi,!0);Pe(this,Ma);Pe(this,qi);ye(this,qi,t=>{if(!Bs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Q(this,Ma)||this.setEventListener(Q(this,qi))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ma))==null||t.call(this),ye(this,Ma,void 0))}setEventListener(t){var r;ye(this,qi,t),(r=Q(this,Ma))==null||r.call(this),ye(this,Ma,t(this.setOnline.bind(this)))}setOnline(t){Q(this,zi)!==t&&(ye(this,zi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Q(this,zi)}},zi=new WeakMap,Ma=new WeakMap,qi=new WeakMap,r4),Fd=new Z8;function eR(e){return Math.min(1e3*2**e,3e4)}function p4(e){return(e??"online")==="online"?Fd.isOnline():!0}var Zy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function g4(e){let t=!1,r=0,n;const s=Jy(),i=()=>s.status!=="pending",l=j=>{var y;if(!i()){const S=new Zy(j);x(S),(y=e.onCancel)==null||y.call(e,S)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>Wb.isFocused()&&(e.networkMode==="always"||Fd.isOnline())&&e.canRun(),p=()=>p4(e.networkMode)&&e.canRun(),m=j=>{i()||(n==null||n(),s.resolve(j))},x=j=>{i()||(n==null||n(),s.reject(j))},b=()=>new Promise(j=>{var y;n=S=>{(i()||f())&&j(S)},(y=e.onPause)==null||y.call(e)}).then(()=>{var j;n=void 0,i()||(j=e.onContinue)==null||j.call(e)}),v=()=>{if(i())return;let j;const y=r===0?e.initialPromise:void 0;try{j=y??e.fn()}catch(S){j=Promise.reject(S)}Promise.resolve(j).then(m).catch(S=>{var O;if(i())return;const A=e.retry??(Bs?0:3),_=e.retryDelay??eR,k=typeof _=="function"?_(r,S):_,C=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,S);if(t||!C){x(S);return}r++,(O=e.onFail)==null||O.call(e,r,S),K8(k).then(()=>f()?void 0:b()).then(()=>{t?x(S):v()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(n==null||n(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?v():b().then(v),s)}}var Ps,n4,x4=(n4=class{constructor(){Pe(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qy(this.gcTime)&&ye(this,Ps,js.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bs?1/0:300*1e3))}clearGcTimeout(){Q(this,Ps)&&(js.clearTimeout(Q(this,Ps)),ye(this,Ps,void 0))}},Ps=new WeakMap,n4),As,Ui,qr,Es,Bt,$c,_s,sn,Un,a4,tR=(a4=class extends x4{constructor(t){super();Pe(this,sn);Pe(this,As);Pe(this,Ui);Pe(this,qr);Pe(this,Es);Pe(this,Bt);Pe(this,$c);Pe(this,_s);ye(this,_s,!1),ye(this,$c,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Es,t.client),ye(this,qr,Q(this,Es).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,As,dN(this.options)),this.state=t.state??Q(this,As),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Bt))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,$c),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=dN(this.options);r.data!==void 0&&(this.setState(uN(r.data,r.dataUpdatedAt)),ye(this,As,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,qr).remove(this)}setData(t,r){const n=Xy(this.state.data,t,this.options);return qe(this,sn,Un).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,sn,Un).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Q(this,Bt))==null?void 0:n.promise;return(s=Q(this,Bt))==null||s.cancel(t),r?r.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,As))}isActive(){return this.observers.some(t=>Ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ua(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!f4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Bt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Bt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,Bt)&&(Q(this,_s)?Q(this,Bt).cancel({revert:!0}):Q(this,Bt).cancelRetry()),this.scheduleGc()),Q(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,sn,Un).call(this,{type:"invalidate"})}async fetch(t,r){var d,f,p,m,x,b,v,j,y,S,A,_;if(this.state.fetchStatus!=="idle"&&((d=Q(this,Bt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Bt))return Q(this,Bt).continueRetry(),Q(this,Bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(C=>C.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ye(this,_s,!0),n.signal)})},i=()=>{const k=m4(this.options,r),O=(()=>{const P={client:Q(this,Es),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return ye(this,_s,!1),this.options.persister?this.options.persister(k,O,this):k(O)},u=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Q(this,Es),state:this.state,fetchFn:i};return s(k),k})();(f=this.options.behavior)==null||f.onFetch(u,this),ye(this,Ui,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&qe(this,sn,Un).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),ye(this,Bt,g4({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:k=>{k instanceof Zy&&k.revert&&this.setState({...Q(this,Ui),fetchStatus:"idle"}),n.abort()},onFail:(k,C)=>{qe(this,sn,Un).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{qe(this,sn,Un).call(this,{type:"pause"})},onContinue:()=>{qe(this,sn,Un).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const k=await Q(this,Bt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(b=(x=Q(this,qr).config).onSuccess)==null||b.call(x,k,this),(j=(v=Q(this,qr).config).onSettled)==null||j.call(v,k,this.state.error,this),k}catch(k){if(k instanceof Zy){if(k.silent)return Q(this,Bt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw qe(this,sn,Un).call(this,{type:"error",error:k}),(S=(y=Q(this,qr).config).onError)==null||S.call(y,k,this),(_=(A=Q(this,qr).config).onSettled)==null||_.call(A,this.state.data,k,this),k}finally{this.scheduleGc()}}},As=new WeakMap,Ui=new WeakMap,qr=new WeakMap,Es=new WeakMap,Bt=new WeakMap,$c=new WeakMap,_s=new WeakMap,sn=new WeakSet,Un=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...y4(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...uN(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Ui,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Q(this,qr).notify({query:this,type:"updated",action:t})})},a4);function y4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function dN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pr,We,Dc,nr,Ts,Wi,Hn,Ia,Lc,Hi,Ki,Rs,Ms,$a,Gi,Je,Bl,ev,tv,rv,nv,av,sv,iv,v4,s4,rR=(s4=class extends Co{constructor(t,r){super();Pe(this,Je);Pe(this,pr);Pe(this,We);Pe(this,Dc);Pe(this,nr);Pe(this,Ts);Pe(this,Wi);Pe(this,Hn);Pe(this,Ia);Pe(this,Lc);Pe(this,Hi);Pe(this,Ki);Pe(this,Rs);Pe(this,Ms);Pe(this,$a);Pe(this,Gi,new Set);this.options=r,ye(this,pr,t),ye(this,Ia,null),ye(this,Hn,Jy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,We).addObserver(this),fN(Q(this,We),this.options)?qe(this,Je,Bl).call(this):this.updateResult(),qe(this,Je,nv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ov(Q(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ov(Q(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,Je,av).call(this),qe(this,Je,sv).call(this),Q(this,We).removeObserver(this)}setOptions(t){const r=this.options,n=Q(this,We);if(this.options=Q(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ur(this.options.enabled,Q(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,Je,iv).call(this),Q(this,We).setOptions(this.options),r._defaulted&&!Ld(this.options,r)&&Q(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,We),observer:this});const s=this.hasListeners();s&&hN(Q(this,We),n,this.options,r)&&qe(this,Je,Bl).call(this),this.updateResult(),s&&(Q(this,We)!==n||Ur(this.options.enabled,Q(this,We))!==Ur(r.enabled,Q(this,We))||Ua(this.options.staleTime,Q(this,We))!==Ua(r.staleTime,Q(this,We)))&&qe(this,Je,ev).call(this);const i=qe(this,Je,tv).call(this);s&&(Q(this,We)!==n||Ur(this.options.enabled,Q(this,We))!==Ur(r.enabled,Q(this,We))||i!==Q(this,$a))&&qe(this,Je,rv).call(this,i)}getOptimisticResult(t){const r=Q(this,pr).getQueryCache().build(Q(this,pr),t),n=this.createResult(r,t);return aR(this,n)&&(ye(this,nr,n),ye(this,Wi,this.options),ye(this,Ts,Q(this,We).state)),n}getCurrentResult(){return Q(this,nr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Hn).status==="pending"&&Q(this,Hn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){Q(this,Gi).add(t)}getCurrentQuery(){return Q(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,pr).defaultQueryOptions(t),n=Q(this,pr).getQueryCache().build(Q(this,pr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qe(this,Je,Bl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,nr)))}createResult(t,r){var $;const n=Q(this,We),s=this.options,i=Q(this,nr),l=Q(this,Ts),u=Q(this,Wi),f=t!==n?t.state:Q(this,Dc),{state:p}=t;let m={...p},x=!1,b;if(r._optimisticResults){const I=this.hasListeners(),T=!I&&fN(t,r),M=I&&hN(t,n,r,s);(T||M)&&(m={...m,...y4(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:j,status:y}=m;b=m.data;let S=!1;if(r.placeholderData!==void 0&&b===void 0&&y==="pending"){let I;i!=null&&i.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(I=i.data,S=!0):I=typeof r.placeholderData=="function"?r.placeholderData(($=Q(this,Ki))==null?void 0:$.state.data,Q(this,Ki)):r.placeholderData,I!==void 0&&(y="success",b=Xy(i==null?void 0:i.data,I,r),x=!0)}if(r.select&&b!==void 0&&!S)if(i&&b===(l==null?void 0:l.data)&&r.select===Q(this,Lc))b=Q(this,Hi);else try{ye(this,Lc,r.select),b=r.select(b),b=Xy(i==null?void 0:i.data,b,r),ye(this,Hi,b),ye(this,Ia,null)}catch(I){ye(this,Ia,I)}Q(this,Ia)&&(v=Q(this,Ia),b=Q(this,Hi),j=Date.now(),y="error");const A=m.fetchStatus==="fetching",_=y==="pending",k=y==="error",C=_&&A,O=b!==void 0,R={status:y,fetchStatus:m.fetchStatus,isPending:_,isSuccess:y==="success",isError:k,isInitialLoading:C,isLoading:C,data:b,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:A,isRefetching:A&&!_,isLoadingError:k&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:k&&O,isStale:Hb(t,r),refetch:this.refetch,promise:Q(this,Hn),isEnabled:Ur(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,T=R.status==="error"&&!I,M=q=>{T?q.reject(R.error):I&&q.resolve(R.data)},H=()=>{const q=ye(this,Hn,R.promise=Jy());M(q)},Y=Q(this,Hn);switch(Y.status){case"pending":t.queryHash===n.queryHash&&M(Y);break;case"fulfilled":(T||R.data!==Y.value)&&H();break;case"rejected":(!T||R.error!==Y.reason)&&H();break}}return R}updateResult(){const t=Q(this,nr),r=this.createResult(Q(this,We),this.options);if(ye(this,Ts,Q(this,We).state),ye(this,Wi,this.options),Q(this,Ts).data!==void 0&&ye(this,Ki,Q(this,We)),Ld(r,t))return;ye(this,nr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,Gi).size)return!0;const l=new Set(i??Q(this,Gi));return this.options.throwOnError&&l.add("error"),Object.keys(Q(this,nr)).some(u=>{const d=u;return Q(this,nr)[d]!==t[d]&&l.has(d)})};qe(this,Je,v4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,Je,nv).call(this)}},pr=new WeakMap,We=new WeakMap,Dc=new WeakMap,nr=new WeakMap,Ts=new WeakMap,Wi=new WeakMap,Hn=new WeakMap,Ia=new WeakMap,Lc=new WeakMap,Hi=new WeakMap,Ki=new WeakMap,Rs=new WeakMap,Ms=new WeakMap,$a=new WeakMap,Gi=new WeakMap,Je=new WeakSet,Bl=function(t){qe(this,Je,iv).call(this);let r=Q(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ar)),r},ev=function(){qe(this,Je,av).call(this);const t=Ua(this.options.staleTime,Q(this,We));if(Bs||Q(this,nr).isStale||!Qy(t))return;const n=f4(Q(this,nr).dataUpdatedAt,t)+1;ye(this,Rs,js.setTimeout(()=>{Q(this,nr).isStale||this.updateResult()},n))},tv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,We)):this.options.refetchInterval)??!1},rv=function(t){qe(this,Je,sv).call(this),ye(this,$a,t),!(Bs||Ur(this.options.enabled,Q(this,We))===!1||!Qy(Q(this,$a))||Q(this,$a)===0)&&ye(this,Ms,js.setInterval(()=>{(this.options.refetchIntervalInBackground||Wb.isFocused())&&qe(this,Je,Bl).call(this)},Q(this,$a)))},nv=function(){qe(this,Je,ev).call(this),qe(this,Je,rv).call(this,qe(this,Je,tv).call(this))},av=function(){Q(this,Rs)&&(js.clearTimeout(Q(this,Rs)),ye(this,Rs,void 0))},sv=function(){Q(this,Ms)&&(js.clearInterval(Q(this,Ms)),ye(this,Ms,void 0))},iv=function(){const t=Q(this,pr).getQueryCache().build(Q(this,pr),this.options);if(t===Q(this,We))return;const r=Q(this,We);ye(this,We,t),ye(this,Dc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},v4=function(t){_t.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,nr))}),Q(this,pr).getQueryCache().notify({query:Q(this,We),type:"observerResultsUpdated"})})},s4);function nR(e,t){return Ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function fN(e,t){return nR(e,t)||e.state.data!==void 0&&ov(e,t,t.refetchOnMount)}function ov(e,t,r){if(Ur(t.enabled,e)!==!1&&Ua(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hb(e,t)}return!1}function hN(e,t,r,n){return(e!==t||Ur(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hb(e,r)}function Hb(e,t){return Ur(t.enabled,e)!==!1&&e.isStaleByTime(Ua(t.staleTime,e))}function aR(e,t){return!Ld(e.getCurrentResult(),t)}function mN(e){return{onFetch:(t,r)=>{var p,m,x,b,v;const n=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((b=t.state.data)==null?void 0:b.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let j=!1;const y=_=>{Q8(_,()=>t.signal,()=>j=!0)},S=m4(t.options,t.fetchOptions),A=async(_,k,C)=>{if(j)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const P=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:k,direction:C?"backward":"forward",meta:t.options.meta};return y(T),T})(),R=await S(P),{maxPages:$}=t.options,I=C?V8:G8;return{pages:I(_.pages,R,$),pageParams:I(_.pageParams,k,$)}};if(s&&i.length){const _=s==="backward",k=_?sR:pN,C={pages:i,pageParams:l},O=k(n,C);u=await A(C,O,_)}else{const _=e??i.length;do{const k=d===0?l[0]??n.initialPageParam:pN(n,u);if(d>0&&k==null)break;u=await A(u,k),d++}while(d<_)}return u};t.options.persister?t.fetchFn=()=>{var j,y;return(y=(j=t.options).persister)==null?void 0:y.call(j,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function pN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Fc,wn,Xt,Is,Nn,Aa,i4,iR=(i4=class extends x4{constructor(t){super();Pe(this,Nn);Pe(this,Fc);Pe(this,wn);Pe(this,Xt);Pe(this,Is);ye(this,Fc,t.client),this.mutationId=t.mutationId,ye(this,Xt,t.mutationCache),ye(this,wn,[]),this.state=t.state||b4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,wn).includes(t)||(Q(this,wn).push(t),this.clearGcTimeout(),Q(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,wn,Q(this,wn).filter(r=>r!==t)),this.scheduleGc(),Q(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,wn).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Xt).remove(this))}continue(){var t;return((t=Q(this,Is))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,m,x,b,v,j,y,S,A,_,k,C,O,P;const r=()=>{qe(this,Nn,Aa).call(this,{type:"continue"})},n={client:Q(this,Fc),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Is,g4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,$)=>{qe(this,Nn,Aa).call(this,{type:"failed",failureCount:R,error:$})},onPause:()=>{qe(this,Nn,Aa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Xt).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,Is).canStart();try{if(s)r();else{qe(this,Nn,Aa).call(this,{type:"pending",variables:t,isPaused:i}),Q(this,Xt).config.onMutate&&await Q(this,Xt).config.onMutate(t,this,n);const $=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));$!==this.state.context&&qe(this,Nn,Aa).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const R=await Q(this,Is).start();return await((f=(d=Q(this,Xt).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,n)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,t,this.state.context,n)),await((b=(x=Q(this,Xt).config).onSettled)==null?void 0:b.call(x,R,null,this.state.variables,this.state.context,this,n)),await((j=(v=this.options).onSettled)==null?void 0:j.call(v,R,null,t,this.state.context,n)),qe(this,Nn,Aa).call(this,{type:"success",data:R}),R}catch(R){try{await((S=(y=Q(this,Xt).config).onError)==null?void 0:S.call(y,R,t,this.state.context,this,n))}catch($){Promise.reject($)}try{await((_=(A=this.options).onError)==null?void 0:_.call(A,R,t,this.state.context,n))}catch($){Promise.reject($)}try{await((C=(k=Q(this,Xt).config).onSettled)==null?void 0:C.call(k,void 0,R,this.state.variables,this.state.context,this,n))}catch($){Promise.reject($)}try{await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,R,t,this.state.context,n))}catch($){Promise.reject($)}throw qe(this,Nn,Aa).call(this,{type:"error",error:R}),R}finally{Q(this,Xt).runNext(this)}}},Fc=new WeakMap,wn=new WeakMap,Xt=new WeakMap,Is=new WeakMap,Nn=new WeakSet,Aa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_t.batch(()=>{Q(this,wn).forEach(n=>{n.onMutationUpdate(t)}),Q(this,Xt).notify({mutation:this,type:"updated",action:t})})},i4);function b4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,on,Bc,o4,oR=(o4=class extends Co{constructor(t={}){super();Pe(this,Kn);Pe(this,on);Pe(this,Bc);this.config=t,ye(this,Kn,new Set),ye(this,on,new Map),ye(this,Bc,0)}build(t,r,n){const s=new iR({client:t,mutationCache:this,mutationId:++dd(this,Bc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Q(this,Kn).add(t);const r=md(t);if(typeof r=="string"){const n=Q(this,on).get(r);n?n.push(t):Q(this,on).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,Kn).delete(t)){const r=md(t);if(typeof r=="string"){const n=Q(this,on).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Q(this,on).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=md(t);if(typeof r=="string"){const n=Q(this,on).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=md(t);if(typeof r=="string"){const s=(n=Q(this,on).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_t.batch(()=>{Q(this,Kn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,Kn).clear(),Q(this,on).clear()})}getAll(){return Array.from(Q(this,Kn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>oN(r,n))}findAll(t={}){return this.getAll().filter(r=>oN(t,r))}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _t.batch(()=>Promise.all(t.map(r=>r.continue().catch(ar))))}},Kn=new WeakMap,on=new WeakMap,Bc=new WeakMap,o4);function md(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Gn,Da,gr,Vn,ta,Rd,lv,l4,lR=(l4=class extends Co{constructor(r,n){super();Pe(this,ta);Pe(this,Gn);Pe(this,Da);Pe(this,gr);Pe(this,Vn);ye(this,Gn,r),this.setOptions(n),this.bindMethods(),qe(this,ta,Rd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Q(this,Gn).defaultMutationOptions(r),Ld(this.options,n)||Q(this,Gn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,gr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&zs(n.mutationKey)!==zs(this.options.mutationKey)?this.reset():((s=Q(this,gr))==null?void 0:s.state.status)==="pending"&&Q(this,gr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,gr))==null||r.removeObserver(this)}onMutationUpdate(r){qe(this,ta,Rd).call(this),qe(this,ta,lv).call(this,r)}getCurrentResult(){return Q(this,Da)}reset(){var r;(r=Q(this,gr))==null||r.removeObserver(this),ye(this,gr,void 0),qe(this,ta,Rd).call(this),qe(this,ta,lv).call(this)}mutate(r,n){var s;return ye(this,Vn,n),(s=Q(this,gr))==null||s.removeObserver(this),ye(this,gr,Q(this,Gn).getMutationCache().build(Q(this,Gn),this.options)),Q(this,gr).addObserver(this),Q(this,gr).execute(r)}},Gn=new WeakMap,Da=new WeakMap,gr=new WeakMap,Vn=new WeakMap,ta=new WeakSet,Rd=function(){var n;const r=((n=Q(this,gr))==null?void 0:n.state)??b4();ye(this,Da,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},lv=function(r){_t.batch(()=>{var n,s,i,l,u,d,f,p;if(Q(this,Vn)&&this.hasListeners()){const m=Q(this,Da).variables,x=Q(this,Da).context,b={client:Q(this,Gn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=Q(this,Vn)).onSuccess)==null||s.call(n,r.data,m,x,b)}catch(v){Promise.reject(v)}try{(l=(i=Q(this,Vn)).onSettled)==null||l.call(i,r.data,null,m,x,b)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(d=(u=Q(this,Vn)).onError)==null||d.call(u,r.error,m,x,b)}catch(v){Promise.reject(v)}try{(p=(f=Q(this,Vn)).onSettled)==null||p.call(f,void 0,r.error,m,x,b)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(Q(this,Da))})})},l4),Sn,c4,cR=(c4=class extends Co{constructor(t={}){super();Pe(this,Sn);this.config=t,ye(this,Sn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??zb(s,r);let l=this.get(i);return l||(l=new tR({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){Q(this,Sn).has(t.queryHash)||(Q(this,Sn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,Sn).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,Sn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Sn).get(t)}getAll(){return[...Q(this,Sn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iN(t,n)):r}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sn=new WeakMap,c4),yt,La,Fa,Vi,Qi,Ba,Yi,Xi,u4,uR=(u4=class{constructor(e={}){Pe(this,yt);Pe(this,La);Pe(this,Fa);Pe(this,Vi);Pe(this,Qi);Pe(this,Ba);Pe(this,Yi);Pe(this,Xi);ye(this,yt,e.queryCache||new cR),ye(this,La,e.mutationCache||new oR),ye(this,Fa,e.defaultOptions||{}),ye(this,Vi,new Map),ye(this,Qi,new Map),ye(this,Ba,0)}mount(){dd(this,Ba)._++,Q(this,Ba)===1&&(ye(this,Yi,Wb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,yt).onFocus())})),ye(this,Xi,Fd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,yt).onOnline())})))}unmount(){var e,t;dd(this,Ba)._--,Q(this,Ba)===0&&((e=Q(this,Yi))==null||e.call(this),ye(this,Yi,void 0),(t=Q(this,Xi))==null||t.call(this),ye(this,Xi,void 0))}isFetching(e){return Q(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,La).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Q(this,yt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ua(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Q(this,yt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Q(this,yt).get(n.queryHash),i=s==null?void 0:s.state.data,l=W8(t,i);if(l!==void 0)return Q(this,yt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return _t.batch(()=>Q(this,yt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,yt);_t.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,yt);return _t.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_t.batch(()=>Q(this,yt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ar).catch(ar)}invalidateQueries(e,t={}){return _t.batch(()=>(Q(this,yt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_t.batch(()=>Q(this,yt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,yt).build(this,t);return r.isStaleByTime(Ua(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=mN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=mN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fd.isOnline()?Q(this,La).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,yt)}getMutationCache(){return Q(this,La)}getDefaultOptions(){return Q(this,Fa)}setDefaultOptions(e){ye(this,Fa,e)}setQueryDefaults(e,t){Q(this,Vi).set(zs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Vi).values()],r={};return t.forEach(n=>{Xl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Q(this,Qi).set(zs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Qi).values()],r={};return t.forEach(n=>{Xl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Fa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Fa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,yt).clear(),Q(this,La).clear()}},yt=new WeakMap,La=new WeakMap,Fa=new WeakMap,Vi=new WeakMap,Qi=new WeakMap,Ba=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,u4),j4=N.createContext(void 0),En=e=>{const t=N.useContext(j4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dR=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(j4.Provider,{value:e,children:t})),w4=N.createContext(!1),fR=()=>N.useContext(w4);w4.Provider;function hR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mR=N.createContext(hR()),pR=()=>N.useContext(mR),gR=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Ub(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},xR=e=>{N.useEffect(()=>{e.clearReset()},[e])},yR=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Ub(r,[e.error,n])),vR=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bR=(e,t)=>e.isLoading&&e.isFetching&&!t,jR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,gN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function wR(e,t,r){var x,b,v,j;const n=fR(),s=pR(),i=En(),l=i.defaultQueryOptions(e);(b=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||b.call(x,l);const u=i.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",vR(l),gR(l,s,u),xR(s);const d=!i.getQueryCache().get(l.queryHash),[f]=N.useState(()=>new t(i,l)),p=f.getOptimisticResult(l),m=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(y=>{const S=m?f.subscribe(_t.batchCalls(y)):ar;return f.updateResult(),S},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),N.useEffect(()=>{f.setOptions(l)},[l,f]),jR(l,p))throw gN(l,f,s);if(yR({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;if((j=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||j.call(v,l,p),l.experimental_prefetchInRender&&!Bs&&bR(p,n)){const y=d?gN(l,f,s):u==null?void 0:u.promise;y==null||y.catch(ar).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?p:f.trackResult(p)}function Va(e,t){return wR(e,rR)}function Qa(e,t){const r=En(),[n]=N.useState(()=>new lR(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const s=N.useSyncExternalStore(N.useCallback(l=>n.subscribe(_t.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((l,u)=>{n.mutate(l,u).catch(ar)},[n]);if(s.error&&Ub(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}d4();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}var za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(za||(za={}));const xN="popstate";function NR(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:l,hash:u}=n.location;return cv("",{pathname:i,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Bd(s)}return kR(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SR(){return Math.random().toString(36).substr(2,8)}function yN(e,t){return{usr:e.state,key:e.key,idx:t}}function cv(e,t,r,n){return r===void 0&&(r=null),Jl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oo(t):t,{state:r,key:t&&t.key||n||SR()})}function Bd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,u=za.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(Jl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=za.Pop;let y=p(),S=y==null?null:y-f;f=y,d&&d({action:u,location:j.location,delta:S})}function x(y,S){u=za.Push;let A=cv(j.location,y,S);f=p()+1;let _=yN(A,f),k=j.createHref(A);try{l.pushState(_,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}i&&d&&d({action:u,location:j.location,delta:1})}function b(y,S){u=za.Replace;let A=cv(j.location,y,S);f=p();let _=yN(A,f),k=j.createHref(A);l.replaceState(_,"",k),i&&d&&d({action:u,location:j.location,delta:0})}function v(y){let S=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof y=="string"?y:Bd(y);return A=A.replace(/ $/,"%20"),Nt(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let j={get action(){return u},get location(){return e(s,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(xN,m),d=y,()=>{s.removeEventListener(xN,m),d=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let S=v(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:b,go(y){return l.go(y)}};return j}var vN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vN||(vN={}));function CR(e,t,r){return r===void 0&&(r="/"),OR(e,t,r)}function OR(e,t,r,n){let s=typeof t=="string"?Oo(t):t,i=Gb(s.pathname||"/",r);if(i==null)return null;let l=N4(e);PR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=BR(i);u=DR(l[d],f)}return u}function N4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Wa([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),N4(i.children,t,p,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:IR(f,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let d of S4(i.path))s(i,l,d)}),t}function S4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=S4(n.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function PR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$R(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AR=/^:[\w-]+$/,ER=3,_R=2,TR=1,RR=10,MR=-2,bN=e=>e==="*";function IR(e,t){let r=e.split("/"),n=r.length;return r.some(bN)&&(n+=MR),t&&(n+=_R),r.filter(s=>!bN(s)).reduce((s,i)=>s+(AR.test(i)?ER:i===""?TR:RR),n)}function $R(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function DR(e,t,r){let{routesMeta:n}=e,s={},i="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=LR({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Wa([i,m.pathname]),pathnameBase:HR(Wa([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Wa([i,m.pathnameBase]))}return l}function LR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:x,isOptional:b}=p;if(x==="*"){let j=u[m]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[m];return b&&!v?f[x]=void 0:f[x]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function FR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qR=e=>zR.test(e);function UR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Oo(e):e,i;if(r)if(qR(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Kb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=jN(r.substring(1),"/"):i=jN(r,t)}else i=t;return{pathname:i,search:KR(n),hash:GR(s)}}function jN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vb(e,t){let r=WR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Oo(e):(s=Jl({},e),Nt(!s.pathname||!s.pathname.includes("?"),Mp("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Mp("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Mp("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,u;if(l==null)u=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=UR(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Wa=e=>e.join("/").replace(/\/\/+/g,"/"),HR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const k4=["post","put","patch","delete"];new Set(k4);const QR=["get",...k4];new Set(QR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}const Yb=N.createContext(null),YR=N.createContext(null),Ya=N.createContext(null),Hf=N.createContext(null),sa=N.createContext({outlet:null,matches:[],isDataRoute:!1}),C4=N.createContext(null);function XR(e,t){let{relative:r}=t===void 0?{}:t;Po()||Nt(!1);let{basename:n,navigator:s}=N.useContext(Ya),{hash:i,pathname:l,search:u}=P4(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Wa([n,l])),s.createHref({pathname:d,search:u,hash:i})}function Po(){return N.useContext(Hf)!=null}function Qs(){return Po()||Nt(!1),N.useContext(Hf).location}function O4(e){N.useContext(Ya).static||N.useLayoutEffect(e)}function Ys(){let{isDataRoute:e}=N.useContext(sa);return e?uM():JR()}function JR(){Po()||Nt(!1);let e=N.useContext(Yb),{basename:t,future:r,navigator:n}=N.useContext(Ya),{matches:s}=N.useContext(sa),{pathname:i}=Qs(),l=JSON.stringify(Vb(s,r.v7_relativeSplatPath)),u=N.useRef(!1);return O4(()=>{u.current=!0}),N.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=Qb(f,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Wa([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,i,e])}function Kf(){let{matches:e}=N.useContext(sa),t=e[e.length-1];return t?t.params:{}}function P4(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Ya),{matches:s}=N.useContext(sa),{pathname:i}=Qs(),l=JSON.stringify(Vb(s,n.v7_relativeSplatPath));return N.useMemo(()=>Qb(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function ZR(e,t){return eM(e,t)}function eM(e,t,r,n){Po()||Nt(!1);let{navigator:s}=N.useContext(Ya),{matches:i}=N.useContext(sa),l=i[i.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Qs(),p;if(t){var m;let y=typeof t=="string"?Oo(t):t;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||Nt(!1),p=y}else p=f;let x=p.pathname||"/",b=x;if(d!=="/"){let y=d.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=CR(e,{pathname:b}),j=sM(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Wa([d,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Wa([d,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&j?N.createElement(Hf.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:za.Pop}},j):j}function tM(){let e=cM(),t=VR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const rM=N.createElement(tM,null);class nM extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(sa.Provider,{value:this.props.routeContext},N.createElement(C4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aM(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(Yb);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(sa.Provider,{value:t},n)}function sM(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Nt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:x,errors:b}=r,v=m.route.loader&&x[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,x)=>{let b,v=!1,j=null,y=null;r&&(b=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||rM,d&&(f<0&&x===0?(dM("route-fallback"),v=!0,y=null):f===x&&(v=!0,y=m.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),A=()=>{let _;return b?_=j:v?_=y:m.route.Component?_=N.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,N.createElement(aM,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?N.createElement(nM,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var A4=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(A4||{}),E4=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(E4||{});function iM(e){let t=N.useContext(Yb);return t||Nt(!1),t}function oM(e){let t=N.useContext(YR);return t||Nt(!1),t}function lM(e){let t=N.useContext(sa);return t||Nt(!1),t}function _4(e){let t=lM(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function cM(){var e;let t=N.useContext(C4),r=oM(),n=_4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function uM(){let{router:e}=iM(A4.UseNavigateStable),t=_4(E4.UseNavigateStable),r=N.useRef(!1);return O4(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zl({fromRouteId:t},i)))},[e,t])}const wN={};function dM(e,t,r){wN[e]||(wN[e]=!0)}function fM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function T4(e){let{to:t,replace:r,state:n,relative:s}=e;Po()||Nt(!1);let{future:i,static:l}=N.useContext(Ya),{matches:u}=N.useContext(sa),{pathname:d}=Qs(),f=Ys(),p=Qb(t,Vb(u,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return N.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:s}),[f,m,s,r,n]),null}function De(e){Nt(!1)}function hM(e){let{basename:t="/",children:r=null,location:n,navigationType:s=za.Pop,navigator:i,static:l=!1,future:u}=e;Po()&&Nt(!1);let d=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:i,static:l,future:Zl({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);typeof n=="string"&&(n=Oo(n));let{pathname:p="/",search:m="",hash:x="",state:b=null,key:v="default"}=n,j=N.useMemo(()=>{let y=Gb(p,d);return y==null?null:{location:{pathname:y,search:m,hash:x,state:b,key:v},navigationType:s}},[d,p,m,x,b,v,s]);return j==null?null:N.createElement(Ya.Provider,{value:f},N.createElement(Hf.Provider,{children:r,value:j}))}function mM(e){let{children:t,location:r}=e;return ZR(uv(t),r)}new Promise(()=>{});function uv(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,uv(n.props.children,i));return}n.type!==De&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=uv(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}function pM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xM(e,t){return e.button===0&&(!t||t==="_self")&&!gM(e)}function fv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function yM(e,t){let r=fv(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const vM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bM="6";try{window.__reactRouterVersion=bM}catch{}const jM="startTransition",NN=M8[jM];function wM(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=NR({window:s,v5Compat:!0}));let l=i.current,[u,d]=N.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=N.useCallback(m=>{f&&NN?NN(()=>d(m)):d(m)},[d,f]);return N.useLayoutEffect(()=>l.listen(p),[l,p]),N.useEffect(()=>fM(n),[n]),N.createElement(hM,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const NM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,x=pM(t,vM),{basename:b}=N.useContext(Ya),v,j=!1;if(typeof f=="string"&&SM.test(f)&&(v=f,NM))try{let _=new URL(window.location.href),k=f.startsWith("//")?new URL(_.protocol+f):new URL(f),C=Gb(k.pathname,b);k.origin===_.origin&&C!=null?f=C+k.search+k.hash:j=!0}catch{}let y=XR(f,{relative:s}),S=kM(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function A(_){n&&n(_),_.defaultPrevented||S(_)}return N.createElement("a",dv({},x,{href:v||y,onClick:j||i?n:A,ref:r,target:d}))});var SN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SN||(SN={}));var kN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kN||(kN={}));function kM(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:u}=t===void 0?{}:t,d=Ys(),f=Qs(),p=P4(e,{relative:l});return N.useCallback(m=>{if(xM(m,r)){m.preventDefault();let x=n!==void 0?n:Bd(f)===Bd(p);d(e,{replace:x,state:s,preventScrollReset:i,relative:l,viewTransition:u})}},[f,d,p,n,s,r,e,i,l,u])}function Gf(e){let t=N.useRef(fv(e)),r=N.useRef(!1),n=Qs(),s=N.useMemo(()=>yM(n.search,r.current?null:t.current),[n.search]),i=Ys(),l=N.useCallback((u,d)=>{const f=fv(typeof u=="function"?u(s):u);r.current=!0,i("?"+f,d)},[i,s]);return[s,l]}function CM({onClick:e,loading:t=!1}){return a.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),a.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),a.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),a.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const CN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function OM(){const[e]=Gf(),[t,r]=N.useState(null);N.useEffect(()=>{const s=e.get("error");if(s&&CN[s]){r(CN[s]);const i=new URLSearchParams(e);i.delete("error");const l=i.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const n=()=>{const s="https://auth.nubabel.com";window.location.href=`${s}/auth/google`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),a.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),a.jsx(CM,{onClick:n}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}function pd({title:e,value:t,change:r,icon:n,trend:s}){const[i,l]=N.useState(0);return N.useEffect(()=>{if(typeof t!="number")return;const u=1e3,d=Date.now(),f=()=>{const p=Date.now()-d,m=Math.min(p/u,1),x=1-Math.pow(1-m,3);l(Math.round(x*t)),m<1&&requestAnimationFrame(f)};f()},[t]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("span",{className:"text-gray-400",children:n})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:typeof t=="number"?i.toLocaleString():t}),r!==void 0&&a.jsxs("div",{className:`text-sm mt-1 ${s==="up"?"text-green-600":s==="down"?"text-red-600":"text-gray-500"}`,children:[r>0?"+":"",r,"% from last week"]})]})}function PM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const AM=N.forwardRef(PM);function EM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const _M=N.forwardRef(EM);function TM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const RM=N.forwardRef(TM);function MM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const IM=N.forwardRef(MM);function $M({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const DM=N.forwardRef($M);function LM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const FM=N.forwardRef(LM);function BM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const zM=N.forwardRef(BM);function qM({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const UM=N.forwardRef(qM),WM=[{id:"new-workflow",label:"New Workflow",icon:a.jsx(FM,{className:"h-5 w-5"}),shortcut:"N",path:"/workflows/new"},{id:"run-workflow",label:"Run Workflow",icon:a.jsx(DM,{className:"h-5 w-5"}),shortcut:"R",path:"/workflows"},{id:"settings",label:"Settings",icon:a.jsx(_M,{className:"h-5 w-5"}),shortcut:"S",path:"/settings"},{id:"help",label:"Help & Docs",icon:a.jsx(zM,{className:"h-5 w-5"}),shortcut:"?",path:"/help"}];function HM(){const e=Ys();return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:WM.map(t=>a.jsxs("button",{onClick:()=>e(t.path),className:"flex items-center gap-3 px-3 py-2 text-left rounded-lg hover:bg-gray-50 transition-colors group",children:[a.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:t.icon}),a.jsx("span",{className:"flex-1 text-sm text-gray-700",children:t.label}),t.shortcut&&a.jsx("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded text-gray-500",children:t.shortcut})]},t.id))})]})}function KM(){const[e]=N.useState([{id:"1",type:"execution",title:"Workflow completed",description:"Daily report",timestamp:new Date,status:"success"},{id:"2",type:"message",title:"New message",description:"From Slack #general",timestamp:new Date(Date.now()-6e4)},{id:"3",type:"system",title:"System update",timestamp:new Date(Date.now()-12e4)}]),t={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[e.map((r,n)=>a.jsxs("div",{className:"flex items-start gap-3 py-2 animate-fade-in",style:{animationDelay:`${n*100}ms`},children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${r.status?t[r.status].split(" ")[0]:"bg-gray-300"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r.title}),r.description&&a.jsx("p",{className:"text-xs text-gray-500",children:r.description})]}),a.jsx("span",{className:"text-xs text-gray-400",children:GM(r.timestamp)})]},r.id)),e.length===0&&a.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No recent activity"})]})]})}function GM(e){const t=Date.now()-e.getTime();return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:`${Math.floor(t/36e5)}h ago`}function Ip({className:e="",style:t}){return a.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${e}`,style:t})}function gd(){return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-2",children:[a.jsx(Ip,{className:"h-3 w-1/2"}),a.jsx(Ip,{className:"h-8 w-2/3"}),a.jsx(Ip,{className:"h-3 w-1/3"})]})}function VM(){const[e]=N.useState(!1),[t,r]=N.useState({account:!0,slack:!1,workflow:!1}),n=s=>{r(i=>({...i,[s]:!i[s]}))};return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Welcome to Nubabel - AI-Powered Workflow Automation Platform"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e?a.jsxs(a.Fragment,{children:[a.jsx(gd,{}),a.jsx(gd,{}),a.jsx(gd,{}),a.jsx(gd,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(pd,{title:"Total Runs",value:"0",icon:a.jsx(AM,{className:"h-5 w-5"}),trend:"neutral",change:0}),a.jsx(pd,{title:"Active Users",value:"1",icon:a.jsx(UM,{className:"h-5 w-5"}),trend:"neutral",change:0}),a.jsx(pd,{title:"Total Cost",value:"$0.00",icon:a.jsx(RM,{className:"h-5 w-5"}),trend:"neutral",change:0}),a.jsx(pd,{title:"Errors",value:"0",icon:a.jsx(IM,{className:"h-5 w-5"}),trend:"neutral",change:0})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsx(HM,{}),a.jsx(KM,{})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Getting Started"}),a.jsx("p",{className:"text-blue-800 mb-4",children:"Complete these steps to start automating your workflows:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:t.account,onChange:()=>n("account"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),a.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.account?"line-through opacity-75":""}`,children:"Set up your account"})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:t.slack,onChange:()=>n("slack"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),a.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.slack?"line-through opacity-75":""}`,children:"Configure your integrations (Slack, Notion, etc.)"})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:t.workflow,onChange:()=>n("workflow"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),a.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.workflow?"line-through opacity-75":""}`,children:"Create and run your first workflow"})]})]})]})]})}function QM({workflow:e,onExecute:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function R4(e,t){return function(){return e.apply(t,arguments)}}const{toString:YM}=Object.prototype,{getPrototypeOf:Xb}=Object,{iterator:Vf,toStringTag:M4}=Symbol,Qf=(e=>t=>{const r=YM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fn=e=>(e=e.toLowerCase(),t=>Qf(t)===e),Yf=e=>t=>typeof t===e,{isArray:Ao}=Array,Ji=Yf("undefined");function zc(e){return e!==null&&!Ji(e)&&e.constructor!==null&&!Ji(e.constructor)&&yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const I4=fn("ArrayBuffer");function XM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&I4(e.buffer),t}const JM=Yf("string"),yr=Yf("function"),$4=Yf("number"),qc=e=>e!==null&&typeof e=="object",ZM=e=>e===!0||e===!1,Md=e=>{if(Qf(e)!=="object")return!1;const t=Xb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(M4 in e)&&!(Vf in e)},eI=e=>{if(!qc(e)||zc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tI=fn("Date"),rI=fn("File"),nI=fn("Blob"),aI=fn("FileList"),sI=e=>qc(e)&&yr(e.pipe),iI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yr(e.append)&&((t=Qf(e))==="formdata"||t==="object"&&yr(e.toString)&&e.toString()==="[object FormData]"))},oI=fn("URLSearchParams"),[lI,cI,uI,dI]=["ReadableStream","Request","Response","Headers"].map(fn),fI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ao(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(zc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let u;for(n=0;n<l;n++)u=i[n],t.call(null,e[u],u,e)}}function D4(e,t){if(zc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L4=e=>!Ji(e)&&e!==ws;function hv(){const{caseless:e,skipUndefined:t}=L4(this)&&this||{},r={},n=(s,i)=>{const l=e&&D4(r,i)||i;Md(r[l])&&Md(s)?r[l]=hv(r[l],s):Md(s)?r[l]=hv({},s):Ao(s)?r[l]=s.slice():(!t||!Ji(s))&&(r[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Uc(arguments[s],n);return r}const hI=(e,t,r,{allOwnKeys:n}={})=>(Uc(t,(s,i)=>{r&&yr(s)?Object.defineProperty(e,i,{value:R4(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),mI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pI=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gI=(e,t,r,n)=>{let s,i,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Xb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},xI=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},yI=e=>{if(!e)return null;if(Ao(e))return e;let t=e.length;if(!$4(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},vI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xb(Uint8Array)),bI=(e,t)=>{const n=(e&&e[Vf]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},jI=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},wI=fn("HTMLFormElement"),NI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ON=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),SI=fn("RegExp"),F4=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Uc(r,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(n[i]=l||s)}),Object.defineProperties(e,n)},kI=e=>{F4(e,(t,r)=>{if(yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(yr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},CI=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ao(e)?n(e):n(String(e).split(t)),r},OI=()=>{},PI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function AI(e){return!!(e&&yr(e.append)&&e[M4]==="FormData"&&e[Vf])}const EI=e=>{const t=new Array(10),r=(n,s)=>{if(qc(n)){if(t.indexOf(n)>=0)return;if(zc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ao(n)?[]:{};return Uc(n,(l,u)=>{const d=r(l,s+1);!Ji(d)&&(i[u]=d)}),t[s]=void 0,i}}return n};return r(e,0)},_I=fn("AsyncFunction"),TI=e=>e&&(qc(e)||yr(e))&&yr(e.then)&&yr(e.catch),B4=((e,t)=>e?setImmediate:t?((r,n)=>(ws.addEventListener("message",({source:s,data:i})=>{s===ws&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ws.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",yr(ws.postMessage)),RI=typeof queueMicrotask<"u"?queueMicrotask.bind(ws):typeof process<"u"&&process.nextTick||B4,MI=e=>e!=null&&yr(e[Vf]),se={isArray:Ao,isArrayBuffer:I4,isBuffer:zc,isFormData:iI,isArrayBufferView:XM,isString:JM,isNumber:$4,isBoolean:ZM,isObject:qc,isPlainObject:Md,isEmptyObject:eI,isReadableStream:lI,isRequest:cI,isResponse:uI,isHeaders:dI,isUndefined:Ji,isDate:tI,isFile:rI,isBlob:nI,isRegExp:SI,isFunction:yr,isStream:sI,isURLSearchParams:oI,isTypedArray:vI,isFileList:aI,forEach:Uc,merge:hv,extend:hI,trim:fI,stripBOM:mI,inherits:pI,toFlatObject:gI,kindOf:Qf,kindOfTest:fn,endsWith:xI,toArray:yI,forEachEntry:bI,matchAll:jI,isHTMLForm:wI,hasOwnProperty:ON,hasOwnProp:ON,reduceDescriptors:F4,freezeMethods:kI,toObjectSet:CI,toCamelCase:NI,noop:OI,toFiniteNumber:PI,findKey:D4,global:ws,isContextDefined:L4,isSpecCompliantForm:AI,toJSONObject:EI,isAsyncFn:_I,isThenable:TI,setImmediate:B4,asap:RI,isIterable:MI};let Me=class z4 extends Error{static from(t,r,n,s,i,l){const u=new z4(t.message,r||t.code,n,s,i);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,n,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}};Me.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Me.ERR_BAD_OPTION="ERR_BAD_OPTION";Me.ECONNABORTED="ECONNABORTED";Me.ETIMEDOUT="ETIMEDOUT";Me.ERR_NETWORK="ERR_NETWORK";Me.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Me.ERR_DEPRECATED="ERR_DEPRECATED";Me.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Me.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Me.ERR_CANCELED="ERR_CANCELED";Me.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Me.ERR_INVALID_URL="ERR_INVALID_URL";const II=null;function mv(e){return se.isPlainObject(e)||se.isArray(e)}function q4(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function PN(e,t,r){return e?e.concat(t).map(function(s,i){return s=q4(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function $I(e){return se.isArray(e)&&!e.some(mv)}const DI=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function Xf(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,y){return!se.isUndefined(y[j])});const n=r.metaTokens,s=r.visitor||p,i=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(se.isDate(v))return v.toISOString();if(se.isBoolean(v))return v.toString();if(!d&&se.isBlob(v))throw new Me("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(v)||se.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,j,y){let S=v;if(v&&!y&&typeof v=="object"){if(se.endsWith(j,"{}"))j=n?j:j.slice(0,-2),v=JSON.stringify(v);else if(se.isArray(v)&&$I(v)||(se.isFileList(v)||se.endsWith(j,"[]"))&&(S=se.toArray(v)))return j=q4(j),S.forEach(function(_,k){!(se.isUndefined(_)||_===null)&&t.append(l===!0?PN([j],k,i):l===null?j:j+"[]",f(_))}),!1}return mv(v)?!0:(t.append(PN(y,j,i),f(v)),!1)}const m=[],x=Object.assign(DI,{defaultVisitor:p,convertValue:f,isVisitable:mv});function b(v,j){if(!se.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(v),se.forEach(v,function(S,A){(!(se.isUndefined(S)||S===null)&&s.call(t,S,se.isString(A)?A.trim():A,j,x))===!0&&b(S,j?j.concat(A):[A])}),m.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return b(e),t}function AN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Jb(e,t){this._pairs=[],e&&Xf(e,this,t)}const U4=Jb.prototype;U4.append=function(t,r){this._pairs.push([t,r])};U4.toString=function(t){const r=t?function(n){return t.call(this,n,AN)}:AN;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function LI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function W4(e,t,r){if(!t)return e;const n=r&&r.encode||LI,s=se.isFunction(r)?{serialize:r}:r,i=s&&s.serialize;let l;if(i?l=i(t,s):l=se.isURLSearchParams(t)?t.toString():new Jb(t,s).toString(n),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class EN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const H4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FI=typeof URLSearchParams<"u"?URLSearchParams:Jb,BI=typeof FormData<"u"?FormData:null,zI=typeof Blob<"u"?Blob:null,qI={isBrowser:!0,classes:{URLSearchParams:FI,FormData:BI,Blob:zI},protocols:["http","https","file","blob","url","data"]},Zb=typeof window<"u"&&typeof document<"u",pv=typeof navigator=="object"&&navigator||void 0,UI=Zb&&(!pv||["ReactNative","NativeScript","NS"].indexOf(pv.product)<0),WI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HI=Zb&&window.location.href||"http://localhost",KI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zb,hasStandardBrowserEnv:UI,hasStandardBrowserWebWorkerEnv:WI,navigator:pv,origin:HI},Symbol.toStringTag,{value:"Module"})),er={...KI,...qI};function GI(e,t){return Xf(e,new er.classes.URLSearchParams,{visitor:function(r,n,s,i){return er.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function VI(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function K4(e){function t(r,n,s,i){let l=r[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=i>=r.length;return l=!l&&se.isArray(s)?s.length:l,d?(se.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!se.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],i)&&se.isArray(s[l])&&(s[l]=QI(s[l])),!u)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,s)=>{t(VI(n),s,r,0)}),r}return null}function YI(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Wc={transitional:H4,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=se.isObject(t);if(i&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(K4(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return GI(t,this.formSerializer).toString();if((u=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Xf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),YI(t)):t}],transformResponse:[function(t){const r=this.transitional||Wc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Wc.headers[e]={}});const XI=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&XI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_N=Symbol("internals");function Pl(e){return e&&String(e).trim().toLowerCase()}function Id(e){return e===!1||e==null?e:se.isArray(e)?e.map(Id):String(e)}function ZI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const e$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $p(e,t,r,n,s){if(se.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function t$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function r$(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,l){return this[n].call(this,t,s,i,l)},configurable:!0})})}let vr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(u,d,f){const p=Pl(d);if(!p)throw new Error("header name must be a non-empty string");const m=se.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=Id(u))}const l=(u,d)=>se.forEach(u,(f,p)=>i(f,p,d));if(se.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(se.isString(t)&&(t=t.trim())&&!e$(t))l(JI(t),r);else if(se.isObject(t)&&se.isIterable(t)){let u={},d,f;for(const p of t){if(!se.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?se.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Pl(t),t){const n=se.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return ZI(s);if(se.isFunction(r))return r.call(this,s,n);if(se.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Pl(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||$p(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(l){if(l=Pl(l),l){const u=se.findKey(n,l);u&&(!r||$p(n,n[u],u,r))&&(delete n[u],s=!0)}}return se.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||$p(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return se.forEach(this,(s,i)=>{const l=se.findKey(n,i);if(l){r[l]=Id(s),delete r[i];return}const u=t?t$(i):String(i).trim();u!==i&&delete r[i],r[u]=Id(s),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[_N]=this[_N]={accessors:{}}).accessors,s=this.prototype;function i(l){const u=Pl(l);n[u]||(r$(s,l),n[u]=!0)}return se.isArray(t)?t.forEach(i):i(t),this}};vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(vr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(vr);function Dp(e,t){const r=this||Wc,n=t||r,s=vr.from(n.headers);let i=n.data;return se.forEach(e,function(u){i=u.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function G4(e){return!!(e&&e.__CANCEL__)}let Hc=class extends Me{constructor(t,r,n){super(t??"canceled",Me.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function V4(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function n$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function a$(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[i];l||(l=f),r[s]=d,n[s]=f;let m=i,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),f-l<t)return;const b=p&&f-p;return b?Math.round(x*1e3/b):void 0}}function s$(e,t){let r=0,n=1e3/t,s,i;const l=(f,p=Date.now())=>{r=p,s=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=n?l(f,p):(s=f,i||(i=setTimeout(()=>{i=null,l(s)},n-m)))},()=>s&&l(s)]}const zd=(e,t,r=3)=>{let n=0;const s=a$(50,250);return s$(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,d=l-n,f=s(d),p=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},r)},TN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},RN=e=>(...t)=>se.asap(()=>e(...t)),i$=er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,o$=er.hasStandardBrowserEnv?{write(e,t,r,n,s,i,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];se.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),se.isString(n)&&u.push(`path=${n}`),se.isString(s)&&u.push(`domain=${s}`),i===!0&&u.push("secure"),se.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function l$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function c$(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Q4(e,t,r){let n=!l$(t);return e&&(n||r==!1)?c$(e,t):t}const MN=e=>e instanceof vr?{...e}:e;function qs(e,t){t=t||{};const r={};function n(f,p,m,x){return se.isPlainObject(f)&&se.isPlainObject(p)?se.merge.call({caseless:x},f,p):se.isPlainObject(p)?se.merge({},p):se.isArray(p)?p.slice():p}function s(f,p,m,x){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f,m,x)}else return n(f,p,m,x)}function i(f,p){if(!se.isUndefined(p))return n(void 0,p)}function l(f,p){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,m){if(m in t)return n(f,p);if(m in e)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>s(MN(f),MN(p),m,!0)};return se.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||s,x=m(e[p],t[p],p);se.isUndefined(x)&&m!==u||(r[p]=x)}),r}const Y4=e=>{const t=qs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:u}=t;if(t.headers=l=vr.from(l),t.url=W4(Q4(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(r)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(er.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&i$(t.url))){const d=s&&i&&o$.read(i);d&&l.set(s,d)}return t},u$=typeof XMLHttpRequest<"u",d$=u$&&function(e){return new Promise(function(r,n){const s=Y4(e);let i=s.data;const l=vr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,p,m,x,b,v;function j(){b&&b(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function S(){if(!y)return;const _=vr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:e,request:y};V4(function(P){r(P),j()},function(P){n(P),j()},C),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(n(new Me("Request aborted",Me.ECONNABORTED,e,y)),y=null)},y.onerror=function(k){const C=k&&k.message?k.message:"Network Error",O=new Me(C,Me.ERR_NETWORK,e,y);O.event=k||null,n(O),y=null},y.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||H4;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new Me(k,C.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,y)),y=null},i===void 0&&l.setContentType(null),"setRequestHeader"in y&&se.forEach(l.toJSON(),function(k,C){y.setRequestHeader(C,k)}),se.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),u&&u!=="json"&&(y.responseType=s.responseType),f&&([x,v]=zd(f,!0),y.addEventListener("progress",x)),d&&y.upload&&([m,b]=zd(d),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(p=_=>{y&&(n(!_||_.type?new Hc(null,e,y):_),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const A=n$(s.url);if(A&&er.protocols.indexOf(A)===-1){n(new Me("Unsupported protocol "+A+":",Me.ERR_BAD_REQUEST,e));return}y.send(i||null)})},f$=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(f){if(!s){s=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof Me?p:new Hc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new Me(`timeout of ${t}ms exceeded`,Me.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>se.asap(u),d}},h$=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},m$=async function*(e,t){for await(const r of p$(e))yield*h$(r,t)},p$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},IN=(e,t,r,n)=>{const s=m$(e,t);let i=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){u(),d.close();return}let m=p.byteLength;if(r){let x=i+=m;r(x)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},$N=64*1024,{isFunction:xd}=se,g$=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:DN,TextEncoder:LN}=se.global,FN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},x$=e=>{e=se.merge.call({skipUndefined:!0},g$,e);const{fetch:t,Request:r,Response:n}=e,s=t?xd(t):typeof fetch=="function",i=xd(r),l=xd(n);if(!s)return!1;const u=s&&xd(DN),d=s&&(typeof LN=="function"?(v=>j=>v.encode(j))(new LN):async v=>new Uint8Array(await new r(v).arrayBuffer())),f=i&&u&&FN(()=>{let v=!1;const j=new r(er.origin,{body:new DN,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),p=l&&u&&FN(()=>se.isReadableStream(new n("").body)),m={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(j,y)=>{let S=j&&j[v];if(S)return S.call(j);throw new Me(`Response type '${v}' is not supported`,Me.ERR_NOT_SUPPORT,y)})});const x=async v=>{if(v==null)return 0;if(se.isBlob(v))return v.size;if(se.isSpecCompliantForm(v))return(await new r(er.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(se.isArrayBufferView(v)||se.isArrayBuffer(v))return v.byteLength;if(se.isURLSearchParams(v)&&(v=v+""),se.isString(v))return(await d(v)).byteLength},b=async(v,j)=>{const y=se.toFiniteNumber(v.getContentLength());return y??x(j)};return async v=>{let{url:j,method:y,data:S,signal:A,cancelToken:_,timeout:k,onDownloadProgress:C,onUploadProgress:O,responseType:P,headers:R,withCredentials:$="same-origin",fetchOptions:I}=Y4(v),T=t||fetch;P=P?(P+"").toLowerCase():"text";let M=f$([A,_&&_.toAbortSignal()],k),H=null;const Y=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let q;try{if(O&&f&&y!=="get"&&y!=="head"&&(q=await b(R,S))!==0){let B=new r(j,{method:"POST",body:S,duplex:"half"}),L;if(se.isFormData(S)&&(L=B.headers.get("content-type"))&&R.setContentType(L),B.body){const[G,ee]=TN(q,zd(RN(O)));S=IN(B.body,$N,G,ee)}}se.isString($)||($=$?"include":"omit");const U=i&&"credentials"in r.prototype,F={...I,signal:M,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:S,duplex:"half",credentials:U?$:void 0};H=i&&new r(j,F);let W=await(i?T(H,I):T(j,F));const X=p&&(P==="stream"||P==="response");if(p&&(C||X&&Y)){const B={};["status","statusText","headers"].forEach(ue=>{B[ue]=W[ue]});const L=se.toFiniteNumber(W.headers.get("content-length")),[G,ee]=C&&TN(L,zd(RN(C),!0))||[];W=new n(IN(W.body,$N,G,()=>{ee&&ee(),Y&&Y()}),B)}P=P||"text";let z=await m[se.findKey(m,P)||"text"](W,v);return!X&&Y&&Y(),await new Promise((B,L)=>{V4(B,L,{data:z,headers:vr.from(W.headers),status:W.status,statusText:W.statusText,config:v,request:H})})}catch(U){throw Y&&Y(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,v,H),{cause:U.cause||U}):Me.from(U,U&&U.code,v,H)}}},y$=new Map,X4=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let l=i.length,u=l,d,f,p=y$;for(;u--;)d=i[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:x$(t)),p=f;return f};X4();const ej={http:II,xhr:d$,fetch:{get:X4}};se.forEach(ej,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const BN=e=>`- ${e}`,v$=e=>se.isFunction(e)||e===null||e===!1;function b$(e,t){e=se.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let l=0;l<r;l++){n=e[l];let u;if(s=n,!v$(n)&&(s=ej[(u=String(n)).toLowerCase()],s===void 0))throw new Me(`Unknown adapter '${u}'`);if(s&&(se.isFunction(s)||(s=s.get(t))))break;i[u||"#"+l]=s}if(!s){const l=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(BN).join(`
`):" "+BN(l[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const J4={getAdapter:b$,adapters:ej};function Lp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hc(null,e)}function zN(e){return Lp(e),e.headers=vr.from(e.headers),e.data=Dp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),J4.getAdapter(e.adapter||Wc.adapter,e)(e).then(function(n){return Lp(e),n.data=Dp.call(e,e.transformResponse,n),n.headers=vr.from(n.headers),n},function(n){return G4(n)||(Lp(e),n&&n.response&&(n.response.data=Dp.call(e,e.transformResponse,n.response),n.response.headers=vr.from(n.response.headers))),Promise.reject(n)})}const Z4="1.13.4",Jf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const qN={};Jf.transitional=function(t,r,n){function s(i,l){return"[Axios v"+Z4+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,u)=>{if(t===!1)throw new Me(s(l," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!qN[l]&&(qN[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,u):!0}};Jf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function j$(e,t,r){if(typeof e!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],l=t[i];if(l){const u=e[i],d=u===void 0||l(u,i,e);if(d!==!0)throw new Me("option "+i+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const $d={assertOptions:j$,validators:Jf},jn=$d.validators;let $s=class{constructor(t){this.defaults=t||{},this.interceptors={request:new EN,response:new EN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qs(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&$d.assertOptions(n,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),s!=null&&(se.isFunction(s)?r.paramsSerializer={serialize:s}:$d.assertOptions(s,{encode:jn.function,serialize:jn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$d.assertOptions(r,{baseUrl:jn.spelling("baseURL"),withXsrfToken:jn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&se.merge(i.common,i[r.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=vr.concat(l,i);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let p,m=0,x;if(!d){const v=[zN.bind(this),void 0];for(v.unshift(...u),v.push(...f),x=v.length,p=Promise.resolve(r);m<x;)p=p.then(v[m++],v[m++]);return p}x=u.length;let b=r;for(;m<x;){const v=u[m++],j=u[m++];try{b=v(b)}catch(y){j.call(this,y);break}}try{p=zN.call(this,b)}catch(v){return Promise.reject(v)}for(m=0,x=f.length;m<x;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=qs(this.defaults,t);const r=Q4(t.baseURL,t.url,t.allowAbsoluteUrls);return W4(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){$s.prototype[t]=function(r,n){return this.request(qs(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,u){return this.request(qs(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}$s.prototype[t]=r(),$s.prototype[t+"Form"]=r(!0)});let w$=class eE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(u=>{n.subscribe(u),i=u}).then(s);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,u){n.reason||(n.reason=new Hc(i,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eE(function(s){t=s}),cancel:t}}};function N$(e){return function(r){return e.apply(null,r)}}function S$(e){return se.isObject(e)&&e.isAxiosError===!0}const gv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gv).forEach(([e,t])=>{gv[t]=e});function tE(e){const t=new $s(e),r=R4($s.prototype.request,t);return se.extend(r,$s.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return tE(qs(e,s))},r}const bt=tE(Wc);bt.Axios=$s;bt.CanceledError=Hc;bt.CancelToken=w$;bt.isCancel=G4;bt.VERSION=Z4;bt.toFormData=Xf;bt.AxiosError=Me;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=N$;bt.isAxiosError=S$;bt.mergeConfig=qs;bt.AxiosHeaders=vr;bt.formToJSON=e=>K4(se.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=J4.getAdapter;bt.HttpStatusCode=gv;bt.default=bt;const{Axios:Hte,AxiosError:Kte,CanceledError:Gte,isCancel:Vte,CancelToken:Qte,VERSION:Yte,all:Xte,Cancel:Jte,isAxiosError:Zte,spread:ere,toFormData:tre,AxiosHeaders:rre,HttpStatusCode:nre,formToJSON:are,getAdapter:sre,mergeConfig:ire}=bt;class Ve extends Error{constructor(r,n,s){super(r);ud(this,"status");ud(this,"data");this.name="ApiError",this.status=n,this.data=s}}const Er=bt.create({baseURL:"https://auth.nubabel.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});function k$(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}Er.interceptors.request.use(e=>{const t=k$();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function C$(e){var r,n;if(bt.isAxiosError(e)){const s=e,i=((r=s.response)==null?void 0:r.status)??null,l=(n=s.response)==null?void 0:n.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Ve(u,i,l)}const t=e instanceof Error?e.message:String(e);return new Ve(t,null,null)}let Fp=!1,Bp=null;async function O$(){try{return await Er.post("/auth/refresh"),!0}catch{return!1}}Er.interceptors.response.use(e=>e,async e=>{var r,n,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&t&&!t._retried&&!((n=t.url)!=null&&n.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,Fp||(Fp=!0,Bp=O$());const i=await Bp;return Fp=!1,Bp=null,i?Er.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function le(e){try{return(await Er.request(e)).data}catch(t){throw C$(t)}}function P$({workflowId:e,workflowName:t,isOpen:r,onClose:n,onSuccess:s}){const[i,l]=N.useState("{}"),[u,d]=N.useState("idle"),[f,p]=N.useState("");if(!r)return null;const m=async()=>{d("executing"),p("");try{let x={};i.trim()&&(x=JSON.parse(i)),await le({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),d("success"),setTimeout(()=>{s==null||s(),n()},1500)}catch(x){x instanceof SyntaxError?p("Invalid JSON format"):x instanceof Ve?p(x.message):p("Execution failed"),d("error")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:i,onChange:x=>l(x.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600 text-xl",children:""}),a.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("span",{className:"text-red-800",children:f})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:n,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function A$({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=N.useState(""),[i,l]=N.useState(""),[u,d]=N.useState(!1),[f,p]=N.useState(null),m=async()=>{if(!n.trim()){p("Workflow name is required");return}d(!0),p(null);try{await le({url:"/api/workflows",method:"POST",data:{name:n.trim(),description:i.trim()||void 0,enabled:!0,config:{}}}),r(),t(),s(""),l("")}catch(x){let b="Failed to create workflow";x instanceof Ve&&(x.status===403?b="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":b=x.message),p(b)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:i,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function E$(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(null),[l,u]=N.useState(null),[d,f]=N.useState(!1),p=async()=>{try{i(null);const v=await le({url:"/api/workflows",method:"GET"});t(v.workflows)}catch(v){const j=v instanceof Ve?v.message:"Failed to fetch workflows";i(j)}finally{n(!1)}};N.useEffect(()=>{p()},[]);const m=v=>{const j=e.find(y=>y.id===v);j&&u(j)},x=()=>{u(null)},b=()=>{p()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),a.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),s&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:s})}),e.length===0&&!s?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>a.jsx(QM,{workflow:v,onExecute:m},v.id))}),l&&a.jsx(P$,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:x,onSuccess:b}),a.jsx(A$,{isOpen:d,onClose:()=>f(!1),onSuccess:p})]})}function _$(){const{id:e}=Kf(),[t,r]=N.useState(null),[n,s]=N.useState([]),[i,l]=N.useState(!0);N.useEffect(()=>{(async()=>{if(e)try{const[f,p]=await Promise.all([le({url:`/api/workflows/${e}`,method:"GET"}),le({url:`/api/workflows/${e}/executions`,method:"GET"})]);r(f.workflow),s(p.executions||[])}catch(f){console.error("Failed to fetch workflow:",f)}finally{l(!1)}})()},[e]);const u=d=>{switch(d){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):t?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Rt,{to:"/workflows",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to workflows"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),t.description&&a.jsx("p",{className:"text-gray-600",children:t.description})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${t.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.enabled?"Enabled":"Disabled"}),a.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Execute"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"-"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:n.length})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),n.length===0?a.jsx("div",{className:"p-12 text-center",children:a.jsx("p",{className:"text-gray-500",children:"No executions yet"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,10).map(d=>{const f=d.startedAt&&d.completedAt?Math.round((new Date(d.completedAt).getTime()-new Date(d.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(d.status)}`,children:d.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.startedAt?new Date(d.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f!==null?`${f}s`:"-"})]},d.id)})})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflow not found"}),a.jsx(Rt,{to:"/workflows",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to workflows"})]})}function T$(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState("all");N.useEffect(()=>{(async()=>{try{const p=await le({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{n(!1)}})()},[]);const l=e.filter(f=>s==="all"?!0:f.status===s),u=f=>{switch(f){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),a.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>i("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),a.jsx("button",{onClick:()=>i("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),a.jsx("button",{onClick:()=>i("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>{var m;const p=f.startedAt&&f.completedAt?Math.round((new Date(f.completedAt).getTime()-new Date(f.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(f.status)}`,children:[d(f.status)," ",f.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=f.workflow)==null?void 0:m.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.startedAt?new Date(f.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},f.id)})})]})})]})}function R$(){const{id:e}=Kf(),[t,r]=N.useState(null),[n,s]=N.useState(!0),[i,l]=N.useState(null);N.useEffect(()=>{(async()=>{if(e)try{const m=await le({url:`/api/executions/${e}`,method:"GET"});r(m.execution)}catch(m){console.error("Failed to fetch execution:",m),l(m instanceof Error?m.message:"An error occurred")}finally{s(!1)}})()},[e]);const u=p=>{switch(p){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=p=>{switch(p){case"success":return"";case"failed":return"";case"running":return"";default:return""}};if(n)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Execution not found"}),a.jsx(Rt,{to:"/executions",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to executions"})]});const f=t.startedAt&&t.completedAt?Math.round((new Date(t.completedAt).getTime()-new Date(t.startedAt).getTime())/1e3):null;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Rt,{to:"/executions",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to executions"}),i&&a.jsx("div",{className:"text-red-500 p-4 mb-4",children:i}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Execution Details"}),t.workflowName&&a.jsxs("p",{className:"text-gray-600",children:["Workflow: ",t.workflowName]})]}),a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${u(t.status)}`,children:[d(t.status)," ",t.status]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("p",{className:"mt-2 text-lg text-gray-900",children:f!==null?`${f}s`:"-"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Execution ID"}),a.jsx("p",{className:"mt-2 text-sm text-gray-900 font-mono truncate",children:t.id})]})]}),t.errorMessage&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Error"}),a.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap font-mono",children:t.errorMessage})]}),t.steps&&t.steps.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Execution Steps"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:t.steps.map((p,m)=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-sm font-medium text-gray-600",children:m+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:p.name}),a.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${u(p.status)}`,children:p.status})]}),p.error&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.error})]})]})},p.id))})]}),(t.input||t.output)&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.input&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input"})}),a.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.input,null,2)})]}),t.output&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output"})}),a.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.output,null,2)})]})]})]})}const UN=e=>{let t;const r=new Set,n=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const x=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(b=>b(t,x))}},s=()=>t,u={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=t=e(n,s,u);return u},M$=(e=>e?UN(e):UN),I$=e=>e;function $$(e,t=I$){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const WN=e=>{const t=M$(e),r=n=>$$(t,n);return Object.assign(r,t),r},rE=(e=>e?WN(e):WN),Xa=rE((e,t)=>({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await le({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],membership:r.membership||null,isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!1})}}},logout:async()=>{try{await le({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[],membership:null}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const n=await le({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(n.redirectUrl){window.location.href=n.redirectUrl;return}window.location.reload()}catch(n){console.error("Switch organization failed:",n)}},setUser:r=>{e({user:r})}}));function D$(){const{user:e,currentOrganization:t}=Xa(),[r,n]=N.useState((e==null?void 0:e.name)||""),[s,i]=N.useState(!1),l=async()=>{i(!0);try{await le({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(d){const f=d instanceof Ve?d.message:"Failed to update profile";console.error("Save failed:",d),alert(f)}finally{i(!1)}},u=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await le({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(d){const f=d instanceof Ve?d.message:"Failed to logout from all devices";console.error("Logout all failed:",d),alert(f)}};return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Member management coming soon"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),a.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function L$(){const[e,t]=Gf(),[r,n]=N.useState(null),[s,i]=N.useState([]),[l,u]=N.useState(!0),[d,f]=N.useState(!1),[p,m]=N.useState(null);N.useEffect(()=>{const S=e.get("success"),A=e.get("error");S==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):A&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[A]||`Error: ${A}`}),t({})),x()},[e,t]);const x=async()=>{try{const S=await le({url:"/api/notion/oauth/status",method:"GET"});n(S),S.connected&&await b()}catch(S){if(S instanceof Ve&&S.status===404){n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",S)}finally{u(!1)}},b=async()=>{try{const S=await le({url:"/api/notion/databases",method:"GET"});i(S.databases||[])}catch{i([])}},v=()=>{window.location.href="/api/notion/oauth/install"},j=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){f(!0),m(null);try{await le({url:"/api/notion/oauth/disconnect",method:"DELETE"}),n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),i([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{f(!1)}}};if(l)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const y=(r==null?void 0:r.connected)??!1;return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:y&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:r.workspaceIcon?a.jsx("img",{src:r.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName||"Notion Workspace"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.workspaceId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),r.botId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botId})]}),r.connectedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Connected:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.connectedAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:v,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),a.jsx("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),a.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),y&&s.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),a.jsx("button",{onClick:b,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:s.map(S=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:S.title}),a.jsx("p",{className:"text-sm text-gray-500 font-mono",children:S.id})]}),a.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},S.id))})]}),y&&s.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",a.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),a.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function F$(){const[e,t]=Gf(),[r,n]=N.useState(null),[s,i]=N.useState(!0),[l,u]=N.useState(!1),[d,f]=N.useState(null);N.useEffect(()=>{const v=e.get("success"),j=e.get("error");v==="true"?(f({type:"success",text:"Slack workspace connected successfully!"}),t({})):j&&(f({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[j]||`Error: ${j}`}),t({})),p()},[e,t]);const p=async()=>{try{const v=await le({url:"/api/slack/integration",method:"GET"});n(v.integration)}catch(v){if(v instanceof Ve&&v.status===404){n(null);return}console.error("Fetch integration error:",v)}finally{i(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},x=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),f(null);try{await le({url:"/api/slack/integration",method:"DELETE"}),n(null),f({type:"success",text:"Slack disconnected successfully."})}catch{f({type:"error",text:"Failed to disconnect Slack."})}finally{u(!1)}}};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const b=!!(r!=null&&r.hasWorkspace&&(r!=null&&r.workspaceId));return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:b&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Installed:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:r.installedAt?new Date(r.installedAt).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(v=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),a.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function B$(){const[e,t]=N.useState(null),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const u=await le({url:"/api/settings/google-calendar",method:"GET"});t(u.connection)}catch(u){console.error("Failed to fetch Google Calendar connection:",u)}finally{n(!1)}})()},[]);const s=async()=>{try{const l=await le({url:"/api/settings/google-calendar/connect",method:"POST"});window.location.href=l.authUrl}catch(l){console.error("Failed to initiate connection:",l)}},i=async()=>{if(confirm("Are you sure you want to disconnect Google Calendar?"))try{await le({url:"/api/settings/google-calendar/disconnect",method:"POST"}),t(null)}catch(l){console.error("Failed to disconnect:",l)}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Rt,{to:"/settings",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to settings"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Google Calendar to enable scheduling workflows"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Google Calendar"}),a.jsx("p",{className:"text-sm text-gray-500",children:e!=null&&e.connected?`Connected as ${e.email}`:"Not connected"})]}),e!=null&&e.connected?a.jsx("button",{onClick:i,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 font-medium",children:"Disconnect"}):a.jsx("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Connect"})]})}),(e==null?void 0:e.connected)&&e.calendars&&a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4",children:"Available Calendars"}),a.jsx("div",{className:"space-y-3",children:e.calendars.map(l=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-900",children:l.name}),l.primary&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Primary"})]})},l.id))})]}),!(e!=null&&e.connected)&&a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"What you can do with Google Calendar:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"Create and manage calendar events"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"Trigger workflows based on calendar events"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"Sync meeting schedules automatically"]})]})]})]})]})}function z$(){return Va({queryKey:["identities","user"],queryFn:async()=>(await le({url:"/api/identities",method:"GET"})).identities})}function q$(){return Va({queryKey:["identities","suggestions"],queryFn:async()=>(await le({url:"/api/identities/suggestions",method:"GET"})).suggestions})}function U$(){const e=En();return Qa({mutationFn:async({identityId:t,reason:r})=>le({url:`/api/identities/${t}/unlink`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]})}})}function W$(){const e=En();return Qa({mutationFn:async({suggestionId:t,reason:r})=>le({url:`/api/identities/suggestions/${t}/accept`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]}),e.invalidateQueries({queryKey:["identities","suggestions"]})}})}function H$(){const e=En();return Qa({mutationFn:async({suggestionId:t,reason:r})=>le({url:`/api/identities/suggestions/${t}/reject`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","suggestions"]})}})}const nE={slack:{name:"Slack",color:"#4A154B",icon:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})},google:{name:"Google",color:"#4285F4",icon:a.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})},notion:{name:"Notion",color:"#000000",icon:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"})})}};function K$({identity:e,onUnlink:t,isUnlinking:r}){const n=nE[e.provider];return a.jsxs("div",{className:"border-4 border-black bg-white",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:n.color,color:"white"},children:n.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:n.name}),e.displayName&&a.jsx("div",{className:"text-sm text-gray-900",children:e.displayName}),e.email&&a.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.email})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t-2 border-black",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Linked"}),a.jsx("div",{className:"text-sm font-mono",children:e.linkedAt?new Date(e.linkedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Method"}),a.jsx("div",{className:"text-sm font-mono uppercase",children:e.linkMethod||"N/A"})]})]})]}),a.jsx("div",{className:"border-t-4 border-black bg-gray-50 px-6 py-3",children:a.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-red-600 hover:text-white hover:border-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:r?"UNLINKING...":"UNLINK"})})]})}function G$({suggestion:e,onAccept:t,onReject:r,isProcessing:n}){const s=nE[e.externalIdentity.provider],i=Math.round(e.confidenceScore*100);return a.jsxs("div",{className:"border-4 border-black bg-yellow-50",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:s.color,color:"white"},children:s.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:s.name}),e.externalIdentity.displayName&&a.jsx("div",{className:"text-sm text-gray-900",children:e.externalIdentity.displayName}),e.externalIdentity.email&&a.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.externalIdentity.email})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Confidence"}),a.jsxs("div",{className:"text-2xl font-mono font-bold",children:[i,"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-black",children:[a.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Match Method"}),a.jsx("div",{className:"text-sm font-mono",children:e.matchMethod})]})]}),a.jsx("div",{className:"border-t-4 border-black bg-white px-6 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),disabled:n,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-green-400 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ACCEPT"}),a.jsx("button",{onClick:()=>r(e.id),disabled:n,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"REJECT"})]})})]})}function V$(){const[e,t]=N.useState(null),{data:r,isLoading:n}=z$(),{data:s,isLoading:i}=q$(),l=U$(),u=W$(),d=H$(),f=async j=>{if(confirm("Are you sure you want to unlink this identity?"))try{await l.mutateAsync({identityId:j}),t({type:"success",text:"Identity unlinked successfully"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to unlink identity"}),setTimeout(()=>t(null),5e3)}},p=async j=>{try{await u.mutateAsync({suggestionId:j}),t({type:"success",text:"Suggestion accepted and identity linked"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to accept suggestion"}),setTimeout(()=>t(null),5e3)}},m=async j=>{try{await d.mutateAsync({suggestionId:j}),t({type:"success",text:"Suggestion rejected"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to reject suggestion"}),setTimeout(()=>t(null),5e3)}};if(n||i)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block w-16 h-16 border-8 border-black border-t-transparent animate-spin"}),a.jsx("p",{className:"mt-4 font-mono font-bold uppercase tracking-wider",children:"LOADING..."})]})});const b=(r==null?void 0:r.filter(j=>j.linkStatus==="linked"))||[],v=s||[];return a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 pb-6 border-b-4 border-black",children:[a.jsx("h1",{className:"text-5xl font-mono font-black uppercase tracking-tighter mb-2",children:"Linked Identities"}),a.jsx("p",{className:"text-lg font-mono text-gray-700",children:"Manage external service connections to your account"})]}),e&&a.jsx("div",{className:`mb-6 p-4 border-4 font-mono ${e.type==="success"?"border-green-600 bg-green-50 text-green-900":"border-red-600 bg-red-50 text-red-900"}`,children:e.text}),v.length>0&&a.jsxs("div",{className:"mb-12",children:[a.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Pending Suggestions (",v.length,")"]}),a.jsx("p",{className:"text-sm font-mono text-gray-600 mb-6",children:"We found these identities that might belong to you. Review and accept or reject them."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(j=>a.jsx(G$,{suggestion:j,onAccept:p,onReject:m,isProcessing:u.isPending||d.isPending},j.id))})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Linked Identities (",b.length,")"]}),b.length===0?a.jsxs("div",{className:"border-4 border-black bg-gray-50 p-12 text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"square",strokeLinejoin:"miter",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),a.jsx("h3",{className:"font-mono font-bold text-lg uppercase tracking-tight text-gray-900 mb-2",children:"No Linked Identities"}),a.jsxs("p",{className:"font-mono text-sm text-gray-600",children:["You haven't linked any external service identities yet.",a.jsx("br",{}),"Check pending suggestions above or contact your administrator."]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(j=>a.jsx(K$,{identity:j,onUnlink:f,isUnlinking:l.isPending},j.id))})]})]})}function Q$(){return Va({queryKey:["member-identities"],queryFn:async()=>{const e=await le({url:"/api/admin/identities",method:"GET",params:{status:"linked",limit:1e3}}),t=new Map;return e.identities.forEach(r=>{if(r.userId){const n=t.get(r.userId)||[];n.push(r),t.set(r.userId,n)}}),t},staleTime:6e4})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=e=>{const t=X$(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:l,...u},d)=>N.createElement("svg",{ref:d,...J$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aE("lucide",s),...!i&&!Z$(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>N.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(e,t)=>{const r=N.forwardRef(({className:n,...s},i)=>N.createElement(eD,{ref:i,iconNode:t,className:aE(`lucide-${Y$(HN(e))}`,`lucide-${e}`,n),...s}));return r.displayName=HN(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],rD=pt("bookmark",tD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ds=pt("check",nD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sD=pt("chevron-right",aD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ec=pt("circle-alert",iD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qd=pt("circle-check-big",oD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cD=pt("clock",lD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KN=pt("copy",uD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sE=pt("external-link",dD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zf=pt("file-text",fD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tj=pt("link",hD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zp=pt("loader-circle",mD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eh=pt("mail",pD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],th=pt("message-square",gD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yD=pt("pen",xD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ud=pt("refresh-cw",vD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jD=pt("rotate-ccw",bD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ND=pt("search",wD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],kD=pt("terminal",SD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OD=pt("trash-2",CD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],AD=pt("unlink",PD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iE=pt("users",ED);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oE=pt("x",_D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RD=pt("zap",TD);function MD(){return Va({queryKey:["members","invite","sources"],queryFn:async()=>{const e=await fetch("/api/members/invite/sources",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch connected services");return(await e.json()).sources}})}function ID(e,t){return Va({queryKey:["members","invite","users",e,t],queryFn:async()=>{if(!e)return[];const r=new URLSearchParams({provider:e});t&&r.set("search",t);const n=await fetch(`/api/members/invite/users?${r}`,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch users");return(await n.json()).users},enabled:!!e,staleTime:3e4})}function $D(){const e=En();return Qa({mutationFn:async t=>{const r=await fetch("/api/members/invite",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to invite members")}return r.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["members"]}),e.invalidateQueries({queryKey:["members","invite","users"]})}})}function DD({provider:e,size:t=20}){const r={slack:a.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),google:a.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),notion:a.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.373.466l1.822 1.447zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.84-.046.934-.56.934-1.166V6.354c0-.606-.233-.933-.746-.886l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.747 0-.934-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.454-.233 4.763 7.278v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933l3.222-.186zm-14.617-7c-.094-.093-.047-.14.093-.14l13.028-.792c.14-.047.186.047.14.093l-1.868 1.447c-.28.233-.42.327-.747.373L2.775 2.808c-.186.046-.186.14-.047.186l1.914 1.04z"})})};return a.jsx("span",{className:"text-gray-600",children:r[e]})}function LD({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=N.useState(null),[i,l]=N.useState(""),[u,d]=N.useState(new Set),[f,p]=N.useState("member"),[m,x]=N.useState(!1),{data:b,isLoading:v}=MD(),{data:j,isLoading:y}=ID(n,i),S=$D();N.useEffect(()=>{b&&b.length>0&&!n&&s(b[0].provider)},[b,n]),N.useEffect(()=>{d(new Set),l("")},[n]),N.useEffect(()=>{e||(s(null),d(new Set),l(""),p("member"),x(!1),S.reset())},[e]);const A=N.useMemo(()=>{if(!j)return[];if(!i)return j;const P=i.toLowerCase();return j.filter(R=>{var $,I;return(($=R.displayName)==null?void 0:$.toLowerCase().includes(P))||((I=R.email)==null?void 0:I.toLowerCase().includes(P))})},[j,i]),_=P=>{d(R=>{const $=new Set(R);return $.has(P)?$.delete(P):$.add(P),$})},k=()=>{u.size===A.length?d(new Set):d(new Set(A.map(P=>P.providerUserId)))},C=async()=>{if(!(!n||u.size===0))try{(await S.mutateAsync({provider:n,providerUserIds:Array.from(u),role:f})).summary.invited>0&&r(),x(!0)}catch{}};if(!e)return null;const O=b==null?void 0:b.find(P=>P.provider===n);return a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] flex flex-col border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b-4 border-black bg-yellow-300",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Invite from Connected Services"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-black/10 transition-colors",children:a.jsx(oE,{size:24,strokeWidth:3})})]}),a.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:v?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(zp,{className:"animate-spin",size:32})}):b&&b.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[a.jsx(ec,{size:48,className:"text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-bold mb-2",children:"No Connected Services"}),a.jsx("p",{className:"text-gray-600 max-w-sm",children:"Connect Slack, Google, or Notion to invite members from those services."})]}):m&&S.data?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500 flex items-center justify-center mb-4",children:a.jsx(Ds,{size:32,className:"text-white",strokeWidth:3})}),a.jsx("h3",{className:"text-xl font-black mb-4",children:"Invitations Sent!"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[S.data.summary.invited>0&&a.jsxs("p",{className:"text-green-600 font-medium",children:[S.data.summary.invited," user",S.data.summary.invited!==1?"s":""," invited"]}),S.data.summary.alreadyMembers>0&&a.jsxs("p",{className:"text-yellow-600",children:[S.data.summary.alreadyMembers," already member",S.data.summary.alreadyMembers!==1?"s":""]}),S.data.summary.errors>0&&a.jsxs("p",{className:"text-red-600",children:[S.data.summary.errors," error",S.data.summary.errors!==1?"s":""]})]}),a.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 transition-colors",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex border-b-4 border-black bg-gray-100",children:b==null?void 0:b.map(P=>a.jsxs("button",{onClick:()=>s(P.provider),className:`flex-1 px-4 py-3 flex items-center justify-center gap-2 font-bold uppercase text-sm transition-colors ${n===P.provider?"bg-white border-r-4 border-black -mb-1 pb-4":"hover:bg-gray-200"}`,children:[a.jsx(DD,{provider:P.provider,size:18}),a.jsx("span",{children:P.provider}),a.jsx("span",{className:"px-2 py-0.5 bg-black text-white text-xs",children:P.userCount})]},P.provider))}),O&&a.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b-2 border-gray-200 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Workspace: "}),a.jsx("span",{className:"font-medium",children:O.workspaceName||O.provider})]}),a.jsx("div",{className:"px-6 py-4 border-b-2 border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(ND,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:i,onChange:P=>l(P.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border-2 border-black focus:outline-none focus:ring-2 focus:ring-yellow-300"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:y?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(zp,{className:"animate-spin",size:24})}):A.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(iE,{size:40,className:"mb-3"}),a.jsx("p",{className:"font-medium",children:"No users found"}),a.jsx("p",{className:"text-sm",children:i?"Try a different search term":"All users are already members"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200 flex items-center gap-3",children:a.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-sm font-medium hover:text-black transition-colors",children:[a.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center ${u.size===A.length&&A.length>0?"bg-yellow-300":"bg-white"}`,children:u.size===A.length&&A.length>0&&a.jsx(Ds,{size:14,strokeWidth:3})}),"Select All (",A.length,")"]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:A.map(P=>a.jsxs("button",{onClick:()=>_(P.providerUserId),className:"w-full px-6 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors text-left",children:[a.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center flex-shrink-0 ${u.has(P.providerUserId)?"bg-yellow-300":"bg-white"}`,children:u.has(P.providerUserId)&&a.jsx(Ds,{size:14,strokeWidth:3})}),P.avatarUrl?a.jsx("img",{src:P.avatarUrl,alt:"",className:"w-10 h-10 border-2 border-black"}):a.jsx("div",{className:"w-10 h-10 border-2 border-black bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:(P.displayName||P.email||"?").charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold truncate",children:P.displayName||P.email||"Unknown User"}),P.email&&P.displayName&&a.jsx("p",{className:"text-sm text-gray-500 truncate",children:P.email})]})]},P.providerUserId))})]})}),a.jsxs("div",{className:"px-6 py-4 border-t-4 border-black bg-gray-50",children:[S.error&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border-2 border-red-500 text-red-700 text-sm font-medium",children:S.error.message}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-bold uppercase",children:"Role:"}),a.jsxs("select",{value:f,onChange:P=>p(P.target.value),className:"px-3 py-2 border-2 border-black font-medium focus:outline-none focus:ring-2 focus:ring-yellow-300",children:[a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[u.size," selected"]}),a.jsx("button",{onClick:t,className:"px-4 py-2 border-2 border-black font-bold uppercase hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:C,disabled:u.size===0||S.isPending,className:"px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:S.isPending?a.jsxs(a.Fragment,{children:[a.jsx(zp,{size:16,className:"animate-spin"}),"Inviting..."]}):`Invite ${u.size>0?`(${u.size})`:""}`})]})]})]})]})})]})})}function FD({organizationId:e,isOpen:t,onClose:r,onSuccess:n}){const[s,i]=N.useState(""),[l,u]=N.useState("member"),[d,f]=N.useState(!1),[p,m]=N.useState(null),x=async()=>{if(!s.trim()){m("Email is required");return}f(!0),m(null);try{await le({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),n(),r(),i(""),u("member")}catch(b){const v=b instanceof Ve?b.message:"Failed to invite member";m(v)}finally{f(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",value:s,onChange:b=>i(b.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",value:l,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"admin",children:"Admin - Full access"}),a.jsx("option",{value:"member",children:"Member - Can execute workflows"}),a.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function BD({userId:e,currentRole:t,organizationId:r,currentUserId:n,onSuccess:s}){const[i,l]=N.useState(!1),u=e===n,d=async f=>{if(f!==t){l(!0);try{await le({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:f}}),s()}catch(p){const m=p instanceof Ve?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return a.jsxs("select",{value:t,onChange:f=>d(f.target.value),disabled:i||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${i?"opacity-50":""}`,children:[a.jsx("option",{value:"owner",children:"Owner"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})}const lE={slack:th,google:eh,notion:Zf},zD={slack:"bg-purple-100 text-purple-600",google:"bg-blue-100 text-blue-600",notion:"bg-gray-100 text-gray-600"},xv={slack:"Slack",google:"Google",notion:"Notion"};function qD({identity:e}){const t=lE[e.provider],r=zD[e.provider],n=xv[e.provider],s=e.email||e.displayName||`${n} Account`;return a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${r} transition-all hover:shadow-sm`,title:s,children:[a.jsx(t,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:n})]}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-10",children:s})]})}function UD({identities:e,allProviders:t}){return a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map(r=>{const n=e.find(i=>i.provider===r),s=lE[r];return n?a.jsx(qD,{identity:n},r):a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-50 text-gray-300 border border-gray-200",title:`No ${xv[r]} account linked`,children:[a.jsx(s,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:xv[r]})]},r)})})}function WD(){const{currentOrganization:e,user:t}=Xa(),[r,n]=N.useState([]),[s,i]=N.useState(!0),[l,u]=N.useState(!1),[d,f]=N.useState(!1),[p,m]=N.useState("all"),[x,b]=N.useState("all"),v=e==null?void 0:e.id,j=t==null?void 0:t.id,{data:y,isLoading:S}=Q$(),A=N.useCallback(async()=>{if(v)try{const P=await le({url:`/api/organizations/${v}/members`,method:"GET"});n(P.members)}catch(P){console.error("Failed to fetch members:",P)}finally{i(!1)}},[v]);N.useEffect(()=>{A()},[A]);const _=async(P,R)=>{if(confirm(`Are you sure you want to remove ${R} from this organization?`))try{await le({url:`/api/organizations/${v}/members/${P}`,method:"DELETE"}),A()}catch($){const I=$ instanceof Ve?$.message:"Failed to remove member";alert(I)}},k=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",C=r.filter(P=>{const R=(y==null?void 0:y.get(P.userId))||[];if(p!=="all"&&!R.some(I=>I.provider===p))return!1;if(x==="linked"){if(R.length===0)return!1}else if(x==="unlinked"&&R.length>0)return!1;return!0}),O={total:r.length,withSlack:r.filter(P=>((y==null?void 0:y.get(P.userId))||[]).some(R=>R.provider==="slack")).length,withGoogle:r.filter(P=>((y==null?void 0:y.get(P.userId))||[]).some(R=>R.provider==="google")).length,withNotion:r.filter(P=>((y==null?void 0:y.get(P.userId))||[]).some(R=>R.provider==="notion")).length,fullyLinked:r.filter(P=>((y==null?void 0:y.get(P.userId))||[]).length===3).length,noLinks:r.filter(P=>((y==null?void 0:y.get(P.userId))||[]).length===0).length};return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),a.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their linked accounts"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(iE,{size:18}),"Invite from Services"]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Invite by Email"]})]})]}),!S&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.total}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(th,{className:"w-4 h-4 text-purple-600"}),a.jsx("div",{className:"text-2xl font-bold text-purple-900",children:O.withSlack})]}),a.jsx("div",{className:"text-sm text-purple-700",children:"Slack Linked"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(eh,{className:"w-4 h-4 text-blue-600"}),a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:O.withGoogle})]}),a.jsx("div",{className:"text-sm text-blue-700",children:"Google Linked"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Zf,{className:"w-4 h-4 text-gray-600"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.withNotion})]}),a.jsx("div",{className:"text-sm text-gray-700",children:"Notion Linked"})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(tj,{className:"w-4 h-4 text-green-600"}),a.jsx("div",{className:"text-2xl font-bold text-green-900",children:O.fullyLinked})]}),a.jsx("div",{className:"text-sm text-green-700",children:"Fully Linked"})]}),a.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-900",children:O.noLinks}),a.jsx("div",{className:"text-sm text-orange-700",children:"No Links"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provider:"}),a.jsxs("select",{value:p,onChange:P=>m(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Providers"}),a.jsx("option",{value:"slack",children:"Slack Only"}),a.jsx("option",{value:"google",children:"Google Only"}),a.jsx("option",{value:"notion",children:"Notion Only"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Status:"}),a.jsxs("select",{value:x,onChange:P=>b(P.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Members"}),a.jsx("option",{value:"linked",children:"Has Linked Accounts"}),a.jsx("option",{value:"unlinked",children:"No Linked Accounts"})]})]}),a.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",C.length," of ",r.length," members"]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(P=>{const R=(y==null?void 0:y.get(P.userId))||[];return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:P.avatarUrl?a.jsx("img",{className:"h-10 w-10 rounded-full",src:P.avatarUrl,alt:P.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:P.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.name,P.userId===j&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:S?a.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):R.length>0?a.jsx(UD,{identities:R,allProviders:["slack","google","notion"]}):a.jsx("div",{className:"text-sm text-gray-400 italic",children:"No linked accounts"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v&&j&&a.jsx(BD,{userId:P.userId,currentRole:P.role,organizationId:v,currentUserId:j,onSuccess:A})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.status==="active"?"Active":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(P.joinedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:P.userId!==j&&a.jsx("button",{onClick:()=>_(P.userId,P.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},P.id)})})]}),C.length===0&&r.length>0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members match filters"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your filter criteria"})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),v&&a.jsx(FD,{organizationId:v,isOpen:l,onClose:()=>u(!1),onSuccess:A}),a.jsx(LD,{isOpen:d,onClose:()=>f(!1),onSuccess:A})]})}function HD(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(null),[l,u]=N.useState("pending"),[d,f]=N.useState("all"),[p,m]=N.useState({page:1,total:0,totalPages:0}),[x,b]=N.useState(null),v=N.useCallback(async()=>{n(!0),i(null);try{const k=await le({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:p.page,limit:20}});t(k.approvals),m({page:k.pagination.page,total:k.pagination.total,totalPages:k.pagination.totalPages})}catch(k){const C=k instanceof Ve?k.message:"Failed to fetch approvals";i(C)}finally{n(!1)}},[l,d,p.page]);N.useEffect(()=>{v()},[v]);const j=async(k,C)=>{b(k);try{await le({url:`/api/approvals/${k}/respond`,method:"PUT",data:{action:C}}),v()}catch(O){const P=O instanceof Ve?O.message:"Failed to respond to approval";i(P)}finally{b(null)}},y=k=>{const C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[k]}`,children:k.charAt(0).toUpperCase()+k.slice(1)})},S=k=>{const C={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[k].bg}`,children:k.charAt(0).toUpperCase()+k.slice(1)})},A=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=k=>new Date(k)<new Date;return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),a.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l,onChange:k=>{u(k.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"all",children:"All"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d,onChange:k=>{f(k.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"budget",children:"Budget"}),a.jsx("option",{value:"deployment",children:"Deployment"}),a.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"":""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),a.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:k.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(k.type)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(k.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(k.expiresAt)?a.jsx("span",{className:"text-red-600",children:"Expired"}):A(k.expiresAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.status==="pending"&&!_(k.expiresAt)?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(k.id,"approved"),disabled:x===k.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===k.id?"...":"Approve"}),a.jsx("button",{onClick:()=>j(k.id,"rejected"),disabled:x===k.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===k.id?"...":"Reject"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:k.respondedAt?A(k.respondedAt):"-"})})]},k.id))})]}),p.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>m(k=>({...k,page:k.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>m(k=>({...k,page:k.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const KD=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function GD(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:n=10,onEvent:s}=e,[i,l]=N.useState(!1),[u,d]=N.useState(null),[f,p]=N.useState(null),m=N.useRef(null),x=N.useRef(0),b=N.useRef(null),v=N.useRef(s),j=N.useRef([]);N.useEffect(()=>{v.current=s},[s]);const y=N.useCallback(()=>{m.current&&(j.current.forEach(({type:_,handler:k})=>{var C;(C=m.current)==null||C.removeEventListener(_,k)}),j.current=[],m.current.close(),m.current=null),b.current&&(clearTimeout(b.current),b.current=null)},[]),S=N.useCallback(()=>{y();const k=`https://auth.nubabel.com${t}`;try{const C=new EventSource(k,{withCredentials:!0});m.current=C,C.onopen=()=>{l(!0),p(null),x.current=0},C.onerror=()=>{if(l(!1),y(),x.current<n){const O=r*Math.pow(2,x.current);x.current+=1,b.current=setTimeout(()=>{S()},O)}else p("Failed to connect to server. Please refresh the page.")},C.onmessage=O=>{var P;try{const R=JSON.parse(O.data),$={type:R.type||"message",data:R.data||R,timestamp:Date.now()};d($),(P=v.current)==null||P.call(v,$)}catch{O.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",O.data)}},KD.forEach(O=>{const P=R=>{var $;try{const T=JSON.parse(R.data),M={type:O,data:T,timestamp:Date.now()};d(M),($=v.current)==null||$.call(v,M)}catch(I){console.warn(`Failed to parse ${O} event:`,I)}};C.addEventListener(O,P),j.current.push({type:O,handler:P})})}catch(C){p("Failed to create EventSource connection"),console.error("SSE connection error:",C)}},[t,r,n,y]),A=N.useCallback(()=>{x.current=0,S()},[S]);return N.useEffect(()=>(S(),y),[S,y]),{isConnected:i,lastEvent:u,error:f,reconnect:A}}const GN={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function VD(e){const t=e.toLowerCase().replace(/-/g,"_");return GN[t]||GN.default}function QD(e,t){switch(e){case"pending":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[a.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function YD(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function cE({agent:e,children:t,allAgents:r,depth:n,onSelectAgent:s}){const i=t.filter(l=>l.parentId===e.id);return a.jsxs("div",{className:`${n>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[a.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[a.jsx("span",{className:"text-xl",children:VD(e.agentType)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),QD(e.status,e.progress)]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&a.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&a.jsxs("span",{children:[" ",YD(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&a.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&a.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),i.length>0&&a.jsx("div",{className:"mt-1",children:i.map(l=>a.jsx(cE,{agent:l,children:r,allAgents:r,depth:n+1,onSelectAgent:s},l.id))})]})}function XD({agents:e,selectedSessionId:t,onSelectAgent:r}){const n=N.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=N.useMemo(()=>n.filter(l=>!l.parentId),[n]),i=N.useMemo(()=>{const l=n.length,u=n.filter(p=>p.status==="completed").length,d=n.filter(p=>p.status==="failed").length,f=n.filter(p=>p.status==="in_progress").length;return{total:l,completed:u,failed:d,inProgress:f}},[n]);return n.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No active agents"}),a.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Total: ",i.total]}),i.inProgress>0&&a.jsxs("span",{className:"text-blue-600",children:[" ",i.inProgress," running"]}),i.completed>0&&a.jsxs("span",{className:"text-green-600",children:[" ",i.completed," done"]}),i.failed>0&&a.jsxs("span",{className:"text-red-600",children:[" ",i.failed," failed"]})]})]}),a.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>a.jsx(cE,{agent:l,children:n,allAgents:n,depth:0,onSelectAgent:r},l.id))})]})}function JD({accounts:e,selectedAccountId:t,onRefresh:r}){const[n,s]=N.useState(Date.now());N.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const i=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",u=m=>{if(!m)return null;const b=new Date(m).getTime()-n;if(b<=0)return null;const v=Math.floor(b/6e4);return v<60?`${v}m`:`${Math.floor(v/60)}h ${v%60}m`},d=[...e].sort((m,x)=>m.id===t?-1:x.id===t?1:x.priority-m.priority),f=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,x)=>m+x.estimatedUsagePercent,0)/e.length):0;return a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Claude Max Pool"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f,"/",e.length," active  ",p,"% avg usage"]})]}),r&&a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:d.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No accounts configured"})]}):d.map(m=>{const x=u(m.cooldownUntil),b=m.id===t;return a.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${b?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:i(m.status)}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),b&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),x&&a.jsxs("div",{className:"text-xs text-orange-600",children:[" ",x]})]})]}),a.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),a.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const ZD=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function eL(){const[e,t]=N.useState([]),[r,n]=N.useState("all"),[s,i]=N.useState(new Map),[l,u]=N.useState([]),[d,f]=N.useState(),[p,m]=N.useState(),x=N.useCallback(O=>{const P={id:`${O.timestamp}-${Math.random().toString(36).slice(2)}`,type:O.type,data:O.data,timestamp:O.timestamp};t($=>[P,...$].slice(0,100));const R=O.data;if(O.type==="agent:started"||O.type==="agent_delegated"){const $={id:R.activityId||R.id||P.id,sessionId:R.sessionId||"unknown",agentType:R.agentType||"unknown",agentName:R.agentName,category:R.category,status:"in_progress",parentId:R.parentActivityId,startedAt:new Date(O.timestamp).toISOString()};i(I=>new Map(I).set($.id,$))}if(O.type==="agent:progress"){const $=R.activityId;$&&i(I=>{const T=new Map(I),M=T.get($);return M&&T.set($,{...M,progress:R.progress,status:"in_progress"}),T})}if(O.type==="agent:completed"||O.type==="agent:failed"){const $=R.activityId;$&&i(I=>{const T=new Map(I),M=T.get($);return M&&T.set($,{...M,status:O.type==="agent:completed"?"completed":"failed",duration:R.duration,errorMessage:R.errorMessage,completedAt:new Date(O.timestamp).toISOString()}),T})}O.type==="account_selected"&&(f(R.accountId),R.accounts&&u(R.accounts))},[]),{isConnected:b,error:v,reconnect:j}=GD({url:"/api/events",onEvent:x}),y=N.useMemo(()=>e.filter(O=>r==="all"?!0:O.type===r||O.type.startsWith(r.split(":")[0])),[e,r]),S=N.useMemo(()=>Array.from(s.values()),[s]),A=N.useMemo(()=>{const O=new Set(S.map(P=>P.sessionId));return Array.from(O)},[S]),_=O=>O.includes("started")?"bg-blue-100 text-blue-800":O.includes("completed")?"bg-green-100 text-green-800":O.includes("failed")||O.includes("error")?"bg-red-100 text-red-800":O.includes("progress")?"bg-yellow-100 text-yellow-800":O.includes("delegated")?"bg-purple-100 text-purple-800":O.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",k=O=>O.includes("started")?"":O.includes("completed")?"":O.includes("failed")?"":O.includes("progress")?"":O.includes("delegated")?"":O.includes("account")?"":"",C=O=>new Date(O).toLocaleTimeString();return a.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),a.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${b?"bg-green-500 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:b?"Live":"Disconnected"})]}),!b&&a.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),v&&a.jsx("span",{className:"text-sm text-red-600",children:v})]}),A.length>0&&a.jsxs("select",{value:p||"",onChange:O=>m(O.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Sessions"}),A.map(O=>a.jsxs("option",{value:O,children:["Session: ",O.slice(0,12),"..."]},O))]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsx(XD,{agents:S,selectedSessionId:p,onSelectAgent:O=>m(O.sessionId)})}),a.jsx("div",{className:"lg:col-span-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," events"]})]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:ZD.map(O=>a.jsx("button",{onClick:()=>n(O),className:`px-3 py-1 rounded-full text-xs transition ${r===O?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:O==="all"?"All":O.replace(":"," ")},O))})]}),a.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:y.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),a.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):y.map(O=>a.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-xl",children:k(O.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${_(O.type)}`,children:O.type}),a.jsx("span",{className:"text-xs text-gray-500",children:C(O.timestamp)})]}),Object.keys(O.data).length>0&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:a.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(O.data,null,2)})})]})]})},O.id))}),e.length>0&&a.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:a.jsx("button",{onClick:()=>{t([]),i(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx(JD,{accounts:l,selectedAccountId:d,onRefresh:()=>{fetch("/api/claude-max-accounts").then(O=>O.json()).then(O=>u(O.accounts||[])).catch(console.error)}})})]})]})}function tL(){var l,u,d;const[e,t]=N.useState(null),[r,n]=N.useState(!0),[s,i]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const p=await le({url:"/api/metrics/agents",method:"GET"});t(p)}catch(p){console.error("Failed to fetch metrics:",p),i(p instanceof Error?p.message:"An error occurred")}finally{n(!1)}})()},[]),r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading metrics..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),a.jsx("p",{className:"text-gray-600",children:"Monitor agent performance and statistics"})]}),s&&a.jsx("div",{className:"text-red-500 p-4",children:s}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalExecutions)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),a.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:[((l=e==null?void 0:e.overallSuccessRate)==null?void 0:l.toFixed(1))||0,"%"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Active Agents"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:((u=e==null?void 0:e.agents)==null?void 0:u.length)||0})]})]}),(d=e==null?void 0:e.agents)!=null&&d.length?a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Executions"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Run"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.agents.map(f=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.agentName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.totalExecutions}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${f.successRate>=90?"bg-green-100 text-green-800":f.successRate>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[f.successRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[f.avgDuration.toFixed(1),"s"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.lastExecution?new Date(f.lastExecution).toLocaleString():"-"})]},f.agentId))})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No metrics yet"}),a.jsx("p",{className:"text-gray-600",children:"Agent metrics will appear here after executions"})]})})]})}function rL(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(""),[l,u]=N.useState(""),[d,f]=N.useState(0),[p,m]=N.useState(null),[x,b]=N.useState(""),v=20;N.useEffect(()=>{(async()=>{try{n(!0);const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const O=await le({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(O.data||[])}catch(C){console.error("Failed to fetch organization changes:",C)}finally{n(!1)}})()},[s,l,d]);const j=k=>{switch(k){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=k=>{switch(k){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},S=k=>{switch(k){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},A=async k=>{try{await le({url:`/api/org-changes/${k}/link-pr`,method:"POST",data:{prUrl:x}});const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const O=await le({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(O.data||[]),m(null),b("")}catch(C){console.error("Failed to link PR:",C),alert("Failed to link PR. Please check the URL format.")}},_=async k=>{try{await le({url:`/api/org-changes/${k}/pr-status`,method:"GET"});const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const O=await le({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(O.data||[])}catch(C){console.error("Failed to sync PR status:",C)}};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),a.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),a.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:s,onChange:k=>{i(k.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"new_member",children:"New Member"}),a.jsx("option",{value:"role_change",children:"Role Change"}),a.jsx("option",{value:"workflow_added",children:"Workflow Added"}),a.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),a.jsx("option",{value:"integration_added",children:"Integration Added"}),a.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),a.jsxs("select",{value:l,onChange:k=>{u(k.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Impact Levels"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),a.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>{var C;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.jsx("span",{className:"mr-2",children:y(k.type)}),k.type.replace(/_/g," ")]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:k.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${j(k.impactLevel)}`,children:k.impactLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.prUrl&&((C=k.metadata)!=null&&C.pr)?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("a",{href:k.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S(k.metadata.pr.state)}`,children:[k.metadata.pr.state," #",k.metadata.pr.number]}),a.jsx("button",{onClick:()=>_(k.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===k.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:O=>b(O.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),a.jsx("button",{onClick:()=>A(k.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),a.jsx("button",{onClick:()=>{m(null),b("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):a.jsx("button",{onClick:()=>m(k.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.createdAt).toLocaleString()})]},k.id)})})]})}),e.length>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>f(Math.max(0,d-v)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+v,d+e.length)]}),a.jsx("button",{onClick:()=>f(d+v),disabled:e.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function nL(){const[e,t]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const l=await le({url:"/api/okrs",method:"GET"});t(l.objectives||[])}catch(l){console.error("Failed to fetch OKRs:",l)}finally{n(!1)}})()},[]);const s=i=>i>=70?"bg-green-500":i>=40?"bg-yellow-500":"bg-red-500";return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),a.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),a.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"New Objective"})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No OKRs yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first objective to start tracking progress"})]})}):a.jsx("div",{className:"space-y-6",children:e.map(i=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.title}),i.description&&a.jsx("p",{className:"text-gray-600 mt-1",children:i.description}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Owner: ",i.owner,i.dueDate&&` | Due: ${new Date(i.dueDate).toLocaleDateString()}`]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.progress,"%"]})})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:a.jsx("div",{className:`h-2 rounded-full ${s(i.progress)}`,style:{width:`${i.progress}%`}})}),i.keyResults.length>0&&a.jsxs("div",{className:"border-t pt-4 mt-4 space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase",children:"Key Results"}),i.keyResults.map(l=>{const u=l.targetValue>0?Math.round(l.currentValue/l.targetValue*100):0;return a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-700",children:l.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-1.5",children:a.jsx("div",{className:`h-1.5 rounded-full ${s(u)}`,style:{width:`${Math.min(u,100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[l.currentValue,"/",l.targetValue," ",l.unit]})]})]})},l.id)})]})]},i.id))})]})}function aL({agent:e,onEdit:t,onDelete:r,onViewActivity:n,onToggleEnabled:s}){const[i,l]=N.useState(!1),[u,d]=N.useState(!1),f=async()=>{if(!(!s||u)){d(!0);try{await s(e,!e.enabled)}finally{d(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&a.jsx("button",{onClick:f,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),a.jsxs("button",{onClick:()=>l(!i),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[i?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Read:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>a.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Write:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>a.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[a.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const sL=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function iL({isOpen:e,onClose:t,onSuccess:r,agent:n,availableSkills:s,availableTools:i}){const l=!!n,[u,d]=N.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[f,p]=N.useState(""),[m,x]=N.useState(""),[b,v]=N.useState(""),[j,y]=N.useState(!1),[S,A]=N.useState(null);N.useEffect(()=>{d(n?{id:n.id,name:n.name,function:n.function,description:n.description,skills:[...n.skills],tools:[...n.tools],routing_keywords:[...n.routing_keywords],permissions:{read:[...n.permissions.read],write:[...n.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),A(null)},[n,e]);const _=async M=>{M.preventDefault(),y(!0),A(null);try{l?await le({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await le({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(H){const Y=H instanceof Ve?H.message:"Failed to save agent";A(Y)}finally{y(!1)}},k=()=>{f.trim()&&!u.routing_keywords.includes(f.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,f.trim()]}),p(""))},C=M=>{d({...u,routing_keywords:u.routing_keywords.filter(H=>H!==M)})},O=()=>{m.trim()&&!u.permissions.read.includes(m.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,m.trim()]}}),x(""))},P=M=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(H=>H!==M)}})},R=()=>{b.trim()&&!u.permissions.write.includes(b.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,b.trim()]}}),v(""))},$=M=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(H=>H!==M)}})},I=M=>{const H=u.skills.includes(M)?u.skills.filter(Y=>Y!==M):[...u.skills,M];d({...u,skills:H})},T=M=>{const H=u.tools.includes(M)?u.tools.filter(Y=>Y!==M):[...u.tools,M];d({...u,tools:H})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:M=>d({...u,id:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:M=>d({...u,name:M.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{id:"function",value:u.function,onChange:M=>d({...u,function:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:sL.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:M=>d({...u,description:M.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map(M=>a.jsx("button",{type:"button",onClick:()=>I(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes(M.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:M.name},M.id)),s.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(M=>a.jsx("button",{type:"button",onClick:()=>T(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes(M.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:M.description,children:M.name},M.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),k()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map(M=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[M,a.jsx("button",{type:"button",onClick:()=>C(M),className:"text-orange-600 hover:text-orange-800",children:""})]},M))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:m,onChange:M=>x(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),O()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:O,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map(M=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-green-700",children:M}),a.jsx("button",{type:"button",onClick:()=>P(M),className:"text-green-600 hover:text-green-800",children:""})]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:b,onChange:M=>v(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),R()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map(M=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-yellow-700",children:M}),a.jsx("button",{type:"button",onClick:()=>$(M),className:"text-yellow-600 hover:text-yellow-800",children:""})]},M))})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function oL(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,u]=N.useState(!0),[d,f]=N.useState(null),[p,m]=N.useState(!1),[x,b]=N.useState(null),[v,j]=N.useState([]),[y,S]=N.useState(null),[A,_]=N.useState(""),[k,C]=N.useState("all"),O=async()=>{try{const U=await le({url:"/api/admin/pending-prs?type=agent",method:"GET"});j(U.pullRequests)}catch(U){console.error("Failed to fetch pending PRs:",U)}},P=async()=>{try{const U=await le({url:"/api/admin/agents",method:"GET"});t(U.agents)}catch(U){const F=U instanceof Ve?U.message:"Failed to fetch agents";f(F)}},R=async()=>{try{const U=await le({url:"/api/admin/skills",method:"GET"});n(U.skills.map(F=>({id:F.id,name:F.name})))}catch(U){console.error("Failed to fetch skills:",U)}},$=async()=>{try{const U=await le({url:"/api/admin/tools",method:"GET"});i(U.tools)}catch(U){console.error("Failed to fetch tools:",U)}};N.useEffect(()=>{(async()=>{u(!0),await Promise.all([P(),R(),$(),O()]),u(!1)})()},[]);const I=()=>{b(null),m(!0)},T=U=>{b(U),m(!0)},M=async U=>{if(confirm(`Are you sure you want to delete "${U.name}"? This will create a PR.`))try{const F=await le({url:`/api/admin/agents/${U.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${F.pullRequest.html_url}`),P(),O()}catch(F){const W=F instanceof Ve?F.message:"Failed to delete agent";f(W)}},H=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),P(),O()},Y=U=>{window.location.href=`/activity?agent=${U.id}`},q=async(U,F)=>{try{const W=await le({url:`/api/admin/agents/${U.id}`,method:"PUT",data:{...U,enabled:F}});S(`PR created to ${F?"enable":"disable"} agent. View at: ${W.pullRequest.html_url}`),P(),O()}catch(W){const X=W instanceof Ve?W.message:"Failed to toggle agent status";f(X)}};return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),a.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(U=>U.function)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(U=>U.skills)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(U=>U.tools)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:A,onChange:U=>_(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:k,onChange:U=>C(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(U=>U.function))).map(U=>a.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))]})})]}),v.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(U=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:U.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",U.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:U.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:U.author_avatar,alt:U.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:U.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(U.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:U.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},U.number))})]})})]}),(()=>{const U=e.filter(F=>{const W=A.toLowerCase(),X=!W||F.name.toLowerCase().includes(W)||F.id.toLowerCase().includes(W)||F.description.toLowerCase().includes(W)||F.routing_keywords.some(B=>B.toLowerCase().includes(W)),z=k==="all"||F.function===k;return X&&z});return e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),a.jsx("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):U.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),a.jsx("button",{onClick:()=>{_(""),C("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:U.map(F=>a.jsx(aL,{agent:F,onEdit:T,onDelete:M,onViewActivity:Y,onToggleEnabled:q},F.id))})})(),a.jsx(iL,{isOpen:p,onClose:()=>m(!1),onSuccess:H,agent:x,availableSkills:r,availableTools:s})]})}function lL({skill:e,onEdit:t,onDelete:r}){var l;const[n,s]=N.useState(!1),i=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-white",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(e.category)}`,children:e.category})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>a.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||a.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),a.jsxs("button",{onClick:()=>s(!n),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[n?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&a.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const cL=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],VN=["string","number","boolean","object","array"];function uL({isOpen:e,onClose:t,onSuccess:r,skill:n,availableAgents:s,availableTools:i}){const l=!!n,[u,d]=N.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[f,p]=N.useState(""),[m,x]=N.useState({name:"",type:"string",description:"",required:!1,default:""}),[b,v]=N.useState({name:"",type:"string",description:""}),[j,y]=N.useState(!1),[S,A]=N.useState(null);N.useEffect(()=>{d(n?{id:n.id,name:n.name,description:n.description,category:n.category,triggers:[...n.triggers],parameters:n.parameters?[...n.parameters]:[],outputs:n.outputs?[...n.outputs]:[],tools_required:[...n.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),A(null)},[n,e]);const _=async T=>{T.preventDefault(),y(!0),A(null);try{l?await le({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await le({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch(M){const H=M instanceof Ve?M.message:"Failed to save skill";A(H)}finally{y(!1)}},k=()=>{f.trim()&&!u.triggers.includes(f.trim())&&(d({...u,triggers:[...u.triggers,f.trim()]}),p(""))},C=T=>{d({...u,triggers:u.triggers.filter((M,H)=>H!==T)})},O=()=>{if(m.name.trim()&&m.description.trim()){const T={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{T.default=JSON.parse(m.default)}catch{T.default=m.default}d({...u,parameters:[...u.parameters,T]}),x({name:"",type:"string",description:"",required:!1,default:""})}},P=T=>{d({...u,parameters:u.parameters.filter((M,H)=>H!==T)})},R=()=>{b.name.trim()&&b.description.trim()&&(d({...u,outputs:[...u.outputs,{...b,name:b.name.trim(),description:b.description.trim()}]}),v({name:"",type:"string",description:""}))},$=T=>{d({...u,outputs:u.outputs.filter((M,H)=>H!==T)})},I=T=>{const M=u.tools_required.includes(T)?u.tools_required.filter(H=>H!==T):[...u.tools_required,T];d({...u,tools_required:M})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:T=>d({...u,id:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:u.category,onChange:T=>d({...u,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:cL.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&(T.preventDefault(),k()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((T,M)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[T,a.jsx("button",{type:"button",onClick:()=>C(M),className:"text-green-600 hover:text-green-800",children:""})]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(T=>a.jsx("button",{type:"button",onClick:()=>I(T.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(T.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:T.description,children:T.name},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m.name,onChange:T=>x({...m,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:m.type,onChange:T=>x({...m,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:VN.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:m.description,onChange:T=>x({...m,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:O,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:m.required,onChange:T=>x({...m,required:T.target.checked}),className:"w-3 h-3"}),"Required"]}),a.jsx("input",{type:"text",value:m.default,onChange:T=>x({...m,default:T.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((T,M)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),T.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>P(M),className:"text-gray-400 hover:text-gray-600",children:""})]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:b.name,onChange:T=>v({...b,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:b.type,onChange:T=>v({...b,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:VN.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:b.description,onChange:T=>v({...b,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((T,M)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>$(M),className:"text-gray-400 hover:text-gray-600",children:""})]},M))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function dL(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,u]=N.useState(!0),[d,f]=N.useState(null),[p,m]=N.useState(!1),[x,b]=N.useState(null),[v,j]=N.useState([]),[y,S]=N.useState(null),[A,_]=N.useState("all"),[k,C]=N.useState(""),[O,P]=N.useState("skills"),[R,$]=N.useState([]),[I,T]=N.useState([]),[M,H]=N.useState([]),[Y,q]=N.useState(!1),U=async()=>{try{const ie=await le({url:"/api/admin/pending-prs?type=skill",method:"GET"});j(ie.pullRequests)}catch(ie){console.error("Failed to fetch pending PRs:",ie)}},F=async()=>{try{const ie=await le({url:"/api/admin/skills",method:"GET"});t(ie.skills)}catch(ie){const xe=ie instanceof Ve?ie.message:"Failed to fetch skills";f(xe)}},W=async()=>{try{const ie=await le({url:"/api/admin/agents",method:"GET"});n(ie.agents.map(xe=>({id:xe.id,name:xe.name})))}catch(ie){console.error("Failed to fetch agents:",ie)}},X=async()=>{try{const ie=await le({url:"/api/admin/tools",method:"GET"});i(ie.tools)}catch(ie){console.error("Failed to fetch tools:",ie)}},z=async()=>{q(!0);try{const[ie,xe,ce]=await Promise.all([le({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),le({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),le({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);$(ie.metrics),T(xe.skills),H(ce.skills)}catch{}finally{q(!1)}};N.useEffect(()=>{(async()=>{u(!0),await Promise.all([F(),W(),X(),U()]),u(!1)})()},[]),N.useEffect(()=>{O==="performance"&&z()},[O]);const B=()=>{b(null),m(!0)},L=ie=>{b(ie),m(!0)},G=async ie=>{if(confirm(`Are you sure you want to delete "${ie.name}"? This will create a PR.`))try{const xe=await le({url:`/api/admin/skills/${ie.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${xe.pullRequest.html_url}`),F(),U()}catch(xe){const ce=xe instanceof Ve?xe.message:"Failed to delete skill";f(ce)}},ee=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),F(),U()},ue=Array.from(new Set(e.map(ie=>ie.category))),ge=e.filter(ie=>{const xe=k.toLowerCase(),ce=!xe||ie.name.toLowerCase().includes(xe)||ie.id.toLowerCase().includes(xe)||ie.description.toLowerCase().includes(xe)||ie.triggers.some(Re=>Re.toLowerCase().includes(xe)),Oe=A==="all"||ie.category===A;return ce&&Oe});return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),a.jsxs("button",{onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>P("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${O==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),a.jsx("button",{onClick:()=>P("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${O==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),O==="skills"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((ie,xe)=>ie+xe.triggers.length,0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((ie,xe)=>{var ce;return ie+(((ce=xe.agentDetails)==null?void 0:ce.length)||0)},0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:k,onChange:ie=>C(ie.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>_("all"),className:`px-3 py-1 text-sm rounded-full ${A==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),ue.map(ie=>a.jsxs("button",{onClick:()=>_(ie),className:`px-3 py-1 text-sm rounded-full capitalize ${A===ie?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[ie," (",e.filter(xe=>xe.category===ie).length,")"]},ie))]})]})]}),v.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(ie=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:ie.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",ie.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:ie.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:ie.author_avatar,alt:ie.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:ie.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(ie.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:ie.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},ie.number))})]})})]}),ge.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?a.jsx("button",{onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):a.jsx("button",{onClick:()=>{C(""),_("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ge.map(ie=>a.jsx(lL,{skill:ie,onEdit:L,onDelete:G},ie.id))})]}),O==="performance"&&a.jsx("div",{children:Y?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.length})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.reduce((ie,xe)=>ie+xe.totalExecutions,0).toLocaleString()})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:R.length>0?`${Math.round(R.reduce((ie,xe)=>ie+xe.successRate,0)/R.length*100)}%`:"N/A"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),a.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:M.length})]})]}),I.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(ie=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ie.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${ie.successRate>=.9?"text-green-600":ie.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ie.successRate*100),"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ie.avgDurationMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ie.p95DurationMs,"ms"]})]},ie.skillId))})]})})]}),M.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),a.jsx("div",{className:"space-y-3",children:M.map(ie=>a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:ie.skillId}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:ie.successRate<.7?`Low success rate: ${Math.round(ie.successRate*100)}%`:`High latency: ${ie.avgDurationMs}ms avg`})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"text-gray-500",children:[ie.totalExecutions," executions"]}),a.jsxs("div",{className:"text-gray-500",children:[ie.failureCount," failures"]})]})]},ie.skillId))})]}),R.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(ie=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ie.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:ie.successCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:ie.failureCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${ie.successRate>=.9?"text-green-600":ie.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ie.successRate*100),"%"]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.avgDurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.p95DurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:ie.lastExecutedAt?new Date(ie.lastExecutedAt).toLocaleDateString():"Never"})]},ie.skillId))})]})})]}),R.length===0&&!Y&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),a.jsx(uL,{isOpen:p,onClose:()=>m(!1),onSuccess:ee,skill:x,availableAgents:r,availableTools:s})]})}function fL(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState("all"),[l,u]=N.useState(null),[d,f]=N.useState(!1),[p,m]=N.useState(0);N.useEffect(()=>{x()},[s]);const x=async()=>{n(!0);try{const S=new URLSearchParams;s!=="all"&&S.set("source",s);const A=await le({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(A.conversations||[]),m(A.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{n(!1)}},b=async S=>{f(!0);try{const A=await le({url:`/api/conversations/${S}`,method:"GET"});u(A.conversation)}catch(A){console.error("Failed to fetch conversation detail:",A)}finally{f(!1)}},v=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},j=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=S=>{const A=new Date(S),k=new Date().getTime()-A.getTime(),C=Math.floor(k/(1e3*60*60)),O=Math.floor(k/(1e3*60*60*24));return C<1?"Just now":C<24?`${C}h ago`:O<7?`${O}d ago`:A.toLocaleDateString()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),a.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>a.jsx("button",{onClick:()=>i(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),a.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>a.jsx("div",{onClick:()=>b(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(S.source)}`,children:[v(S.source)," ",S.source||"unknown"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),a.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:y(S.lastUsedAt)})]})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&a.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[a.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(l.source)}`,children:[v(l.source)," ",l.source||"unknown"]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,A)=>a.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&a.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&a.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},A)),l.history.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const QN={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},hL={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function mL({result:e,onClick:t,onCopyLink:r}){const[n,s]=N.useState(!1),i=QN[e.source]||QN.notion,l=f=>{f.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),r==null||r(e.url),setTimeout(()=>s(!1),2e3)},u=f=>{f.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=f=>f?new Date(f).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${i.bg} ${i.color}`,children:i.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500",children:hL[e.source]}),e.lastModified&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:n?a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?a.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):a.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const pL={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function gL(){const[e,t]=N.useState(""),[r,n]=N.useState(null),[s,i]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState([]),[p,m]=N.useState(null),[x,b]=N.useState("");N.useEffect(()=>{const k=setTimeout(()=>{b(e)},300);return()=>clearTimeout(k)},[e]);const v=N.useCallback(async k=>{if(!k.trim()){n(null);return}i(!0),u(null);try{const C=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:k,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!C.ok)throw new Error("Search failed");const O=await C.json();n(O),O.results.length>0&&m(null)}catch(C){u(C instanceof Error?C.message:"Search failed")}finally{i(!1)}},[d]);N.useEffect(()=>{x&&v(x)},[x,v]);const j=async k=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:k.url,clickedSource:k.source})})}catch{}window.open(k.url,"_blank","noopener,noreferrer")},y=k=>{t(k)},S=async k=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:k})})}catch{}},A=k=>{f(C=>C.includes(k)?C.filter(O=>O!==k):[...C,k])},_=(r==null?void 0:r.sources.filter(k=>k.connected).map(k=>k.source))||[];return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),a.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:e,onChange:k=>t(k.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),_.length>0&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),_.map(k=>{var C;return a.jsxs("button",{onClick:()=>A(k),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(k)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[pL[k],r&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",((C=r.sources.find(O=>O.source===k))==null?void 0:C.count)||0,")"]})]},k)})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&a.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),a.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&a.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?a.jsx("div",{className:"space-y-3",children:r.results.map((k,C)=>a.jsx(mL,{result:k,onClick:j},`${k.source}-${k.id}-${C}`))}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),a.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((k,C)=>a.jsxs("button",{onClick:()=>y(k),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),k]},C))})]})]}),!r&&!s&&!e&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),a.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function xL(){const[e,t]=N.useState(null),[r,n]=N.useState(null),[s,i]=N.useState([]),[l,u]=N.useState(!0),[d,f]=N.useState(null);N.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,x,b]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),x.ok&&n(await x.json()),b.ok){const v=await b.json();i(v.topOrganizations||[])}f(null)}catch{f("Failed to load dashboard data")}finally{u(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),a.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(yd,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),a.jsx(yd,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),a.jsx(yd,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),a.jsx(yd,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),a.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),a.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),a.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},m))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsx(yL,{status:(r==null?void 0:r.status)||"healthy"})]}),a.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(m=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&a.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),a.jsx(vL,{status:m.status})]})]},m.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function yd({title:e,value:t,subtext:r,trend:n,trendLabel:s,icon:i,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:i}),n!==void 0&&a.jsxs("span",{className:`text-sm font-medium ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?"+":"",n,"%"]})]}),a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function yL({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:n,label:s}=t[e];return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${n}`,children:s})}function vL({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function bL(){const[e,t]=N.useState([]),[r,n]=N.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,i]=N.useState(!0),[l,u]=N.useState(null),[d,f]=N.useState(""),[p,m]=N.useState("all"),[x,b]=N.useState("all"),[v,j]=N.useState("createdAt"),[y,S]=N.useState("desc"),A=N.useCallback(async()=>{i(!0);try{const I=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:v,sortOrder:y});d&&I.append("search",d),p!=="all"&&I.append("status",p),x!=="all"&&I.append("plan",x);const T=await fetch(`/api/admin/organizations?${I}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch organizations");const M=await T.json();t(M.organizations||[]),n(H=>({...H,total:M.total||0,totalPages:Math.ceil((M.total||0)/H.pageSize)}))}catch(I){u(I instanceof Error?I.message:"Failed to load organizations")}finally{i(!1)}},[r.page,r.pageSize,d,p,x,v,y]);N.useEffect(()=>{A()},[A]);const _=I=>{v===I?S(y==="asc"?"desc":"asc"):(j(I),S("desc"))},k=async I=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${I}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");A()}catch(T){alert(T instanceof Error?T.message:"Failed to suspend organization")}},C=async I=>{try{if(!(await fetch(`/api/admin/organizations/${I}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");A()}catch(T){alert(T instanceof Error?T.message:"Failed to reactivate organization")}},O=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(I),P=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},$=I=>{switch(I.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:I=>{f(I.target.value),n(T=>({...T,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),a.jsxs("select",{value:p,onChange:I=>{m(I.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trial",children:"Trial"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"churned",children:"Churned"})]}),a.jsxs("select",{value:x,onChange:I=>{b(I.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:a.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Organization",v==="name"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("userCount"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Users",v==="userCount"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("mrr"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["MRR",v==="mrr"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Created",v==="createdAt"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:I.name}),a.jsx("div",{className:"text-sm text-gray-500",children:I.slug})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${$(I.plan)}`,children:I.plan})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(I.status)}`,children:I.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.userCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O(I.mrr)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(I.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/admin/organizations/${I.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),I.status==="active"?a.jsx("button",{onClick:()=>k(I.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):I.status==="suspended"?a.jsx("button",{onClick:()=>C(I.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},I.id))})]})}),r.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(I=>({...I,page:I.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),a.jsx("button",{onClick:()=>n(I=>({...I,page:I.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function jL(e){return Va({queryKey:["admin","identities",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.provider&&t.set("provider",e.provider),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=await fetch(`/api/admin/identities?${t}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch identities");return r.json()}})}function wL(){return Va({queryKey:["admin","identities","stats"],queryFn:async()=>{const e=await fetch("/api/admin/identities/stats",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch identity stats");return e.json()}})}function NL(){return Va({queryKey:["admin","identities","suggestions"],queryFn:async()=>{const e=await fetch("/api/admin/identities/suggestions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suggestions");return(await e.json()).suggestions}})}function SL(){const e=En();return Qa({mutationFn:async({identityId:t,userId:r,reason:n})=>{const s=await fetch(`/api/admin/identities/${t}/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r,reason:n})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to link identity")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function kL(){const e=En();return Qa({mutationFn:async({identityId:t,reason:r})=>{const n=await fetch(`/api/admin/identities/${t}/unlink`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to unlink identity")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function CL(){const e=En();return Qa({mutationFn:async({suggestionId:t,reason:r})=>{const n=await fetch(`/api/identities/suggestions/${t}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to accept suggestion")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function OL(){const e=En();return Qa({mutationFn:async({suggestionId:t,reason:r})=>{const n=await fetch(`/api/identities/suggestions/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to reject suggestion")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}function PL(){const[e,t]=N.useState("all"),[r,n]=N.useState("all"),[s,i]=N.useState(""),[l,u]=N.useState(1),[d,f]=N.useState(null),[p,m]=N.useState(""),{data:x}=wL(),{data:b,isLoading:v}=jL({status:e==="all"?void 0:e,provider:r==="all"?void 0:r,page:l,limit:20}),{data:j}=NL(),y=SL(),S=kL(),A=CL(),_=OL(),k=x||{total:0,linked:0,unlinked:0,suggested:0,byProvider:{slack:0,google:0,notion:0}},C=(b==null?void 0:b.identities)||[],O=(b==null?void 0:b.pagination)||{page:1,totalPages:0},P=C.filter(M=>{var Y,q,U,F,W,X;if(!s)return!0;const H=s.toLowerCase();return((Y=M.email)==null?void 0:Y.toLowerCase().includes(H))||((q=M.displayName)==null?void 0:q.toLowerCase().includes(H))||((F=(U=M.linkedUser)==null?void 0:U.email)==null?void 0:F.toLowerCase().includes(H))||((X=(W=M.linkedUser)==null?void 0:W.displayName)==null?void 0:X.toLowerCase().includes(H))}),R=M=>{if(!p.trim()){alert("Please enter a user ID");return}y.mutate({identityId:M,userId:p},{onSuccess:()=>{f(null),m("")},onError:H=>{alert(H.message)}})},$=M=>{confirm("Unlink this identity?")&&S.mutate({identityId:M},{onError:H=>{alert(H.message)}})},I=M=>{A.mutate({suggestionId:M},{onError:H=>{alert(H.message)}})},T=M=>{_.mutate({suggestionId:M},{onError:H=>{alert(H.message)}})};return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"border-b-4 border-white bg-black",children:a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter mb-2",children:"Identity"}),a.jsx("p",{className:"text-xl font-mono text-gray-400",children:"CONTROL PANEL"})]})}),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(vd,{label:"TOTAL",value:k.total,color:"border-white"}),a.jsx(vd,{label:"LINKED",value:k.linked,color:"border-green-500"}),a.jsx(vd,{label:"UNLINKED",value:k.unlinked,color:"border-red-500"}),a.jsx(vd,{label:"SUGGESTED",value:k.suggested,color:"border-yellow-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[a.jsx(qp,{provider:"SLACK",count:k.byProvider.slack,icon:a.jsx(th,{className:"w-8 h-8"})}),a.jsx(qp,{provider:"GOOGLE",count:k.byProvider.google,icon:a.jsx(eh,{className:"w-8 h-8"})}),a.jsx(qp,{provider:"NOTION",count:k.byProvider.notion,icon:a.jsx(Zf,{className:"w-8 h-8"})})]}),j&&j.length>0&&a.jsx(AL,{suggestions:j,onAccept:I,onReject:T}),a.jsx("div",{className:"border-4 border-white bg-black p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Search"}),a.jsx("input",{type:"text",value:s,onChange:M=>i(M.target.value),placeholder:"Email or name...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Status"}),a.jsxs("select",{value:e,onChange:M=>{t(M.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[a.jsx("option",{value:"all",children:"ALL"}),a.jsx("option",{value:"linked",children:"LINKED"}),a.jsx("option",{value:"unlinked",children:"UNLINKED"}),a.jsx("option",{value:"suggested",children:"SUGGESTED"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Provider"}),a.jsxs("select",{value:r,onChange:M=>{n(M.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[a.jsx("option",{value:"all",children:"ALL"}),a.jsx("option",{value:"slack",children:"SLACK"}),a.jsx("option",{value:"google",children:"GOOGLE"}),a.jsx("option",{value:"notion",children:"NOTION"})]})]})]})}),a.jsxs("div",{className:"border-4 border-white bg-black overflow-hidden",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-4 border-white",children:[a.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Provider"}),a.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Identity"}),a.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Status"}),a.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Linked User"}),a.jsx("th",{className:"text-right p-4 font-mono text-xs font-bold uppercase",children:"Actions"})]})}),a.jsx("tbody",{children:v?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center",children:a.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white border-t-transparent animate-spin"})})}):P.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center font-mono text-gray-600",children:"NO IDENTITIES FOUND"})}):P.map(M=>a.jsx(EL,{identity:M,onLink:()=>f(M),onUnlink:()=>$(M.id)},M.id))})]}),O.totalPages>1&&a.jsxs("div",{className:"border-t-4 border-white p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"font-mono text-sm",children:["PAGE ",O.page," / ",O.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>u(M=>Math.max(1,M-1)),disabled:l===1,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"PREV"}),a.jsx("button",{onClick:()=>u(M=>Math.min(O.totalPages,M+1)),disabled:l===O.totalPages,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"NEXT"})]})]})]})]}),d&&a.jsx(_L,{identity:d,linkUserId:p,setLinkUserId:m,onLink:()=>R(d.id),onClose:()=>{f(null),m("")},isLoading:y.isPending})]})}function vd({label:e,value:t,color:r}){return a.jsxs("div",{className:`border-4 ${r} bg-black p-6`,children:[a.jsx("div",{className:"text-5xl font-black mb-2",children:t}),a.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})}function qp({provider:e,count:t,icon:r}){return a.jsxs("div",{className:"border-4 border-white bg-black p-6 flex items-center gap-4",children:[a.jsx("div",{className:"text-white",children:r}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-black",children:t}),a.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})]})}function AL({suggestions:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"border-4 border-yellow-500 bg-black p-6 mb-8",children:[a.jsxs("h2",{className:"text-2xl font-black uppercase mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-4 h-4 bg-yellow-500 animate-pulse"}),"PENDING SUGGESTIONS (",e.length,")"]}),a.jsx("div",{className:"space-y-4",children:e.map(n=>a.jsxs("div",{className:"border-2 border-yellow-500 bg-black p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-mono text-sm mb-1",children:n.externalIdentity.displayName||n.externalIdentity.email}),a.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[n.externalIdentity.provider.toUpperCase()," "," ",n.suggestedUser.email]}),a.jsxs("div",{className:"text-xs text-yellow-500 font-mono mt-1",children:["CONFIDENCE: ",Math.round(n.confidenceScore*100),"%"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>t(n.id),className:"px-4 py-2 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-2",children:[a.jsx(Ds,{className:"w-4 h-4"}),"ACCEPT"]}),a.jsxs("button",{onClick:()=>r(n.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 font-mono font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-2",children:[a.jsx(oE,{className:"w-4 h-4"}),"REJECT"]})]})]},n.id))})]})}function EL({identity:e,onLink:t,onUnlink:r}){const n={slack:th,google:eh,notion:Zf}[e.provider],s={linked:"border-green-500 text-green-500",unlinked:"border-red-500 text-red-500",suggested:"border-yellow-500 text-yellow-500"};return a.jsxs("tr",{className:"border-b-2 border-gray-800 hover:bg-gray-900 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-xs uppercase",children:e.provider})]})}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-mono text-sm",children:e.displayName||e.email||"Unknown"}),e.email&&e.displayName&&a.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.email})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`inline-block px-3 py-1 border-2 ${s[e.linkStatus]} font-mono text-xs font-bold uppercase`,children:e.linkStatus})}),a.jsx("td",{className:"p-4",children:e.linkedUser?a.jsxs("div",{children:[a.jsx("div",{className:"font-mono text-sm",children:e.linkedUser.displayName}),a.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.linkedUser.email})]}):a.jsx("span",{className:"font-mono text-xs text-gray-600",children:"NOT LINKED"})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("div",{className:"flex justify-end gap-2",children:e.linkStatus==="linked"?a.jsxs("button",{onClick:r,className:"px-3 py-1.5 border-2 border-red-500 text-red-500 font-mono text-xs font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-1",children:[a.jsx(AD,{className:"w-3 h-3"}),"UNLINK"]}):a.jsxs("button",{onClick:t,className:"px-3 py-1.5 border-2 border-green-500 text-green-500 font-mono text-xs font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-1",children:[a.jsx(tj,{className:"w-3 h-3"}),"LINK"]})})})]})}function _L({identity:e,linkUserId:t,setLinkUserId:r,onLink:n,onClose:s,isLoading:i}){return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"border-4 border-white bg-black p-8 max-w-lg w-full",children:[a.jsx("h2",{className:"text-3xl font-black uppercase mb-6",children:"LINK IDENTITY"}),a.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-700",children:[a.jsx("div",{className:"font-mono text-sm mb-2",children:e.displayName||e.email||"Unknown"}),a.jsx("div",{className:"font-mono text-xs text-gray-500 uppercase",children:e.provider})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"User ID"}),a.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),placeholder:"Enter user ID...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500",autoFocus:!0})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:n,disabled:i,className:"flex-1 px-6 py-3 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:i?"LINKING...":"LINK"}),a.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-6 py-3 border-2 border-white text-white font-mono font-bold hover:bg-white hover:text-black transition-colors disabled:opacity-30",children:"CANCEL"})]})]})})}function Eo(e){return e.status===404||e.status===502}function Kc({title:e,description:t,onRetry:r}){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("div",{className:"text-4xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),a.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),r&&a.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function uE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=uE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=uE(e))&&(n&&(n+=" "),n+=t);return n}var Up,YN;function br(){if(YN)return Up;YN=1;var e=Array.isArray;return Up=e,Up}var Wp,XN;function dE(){if(XN)return Wp;XN=1;var e=typeof fd=="object"&&fd&&fd.Object===Object&&fd;return Wp=e,Wp}var Hp,JN;function _n(){if(JN)return Hp;JN=1;var e=dE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Hp=r,Hp}var Kp,ZN;function Gc(){if(ZN)return Kp;ZN=1;var e=_n(),t=e.Symbol;return Kp=t,Kp}var Gp,eS;function TL(){if(eS)return Gp;eS=1;var e=Gc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=n.call(l);return f&&(u?l[s]=d:delete l[s]),p}return Gp=i,Gp}var Vp,tS;function RL(){if(tS)return Vp;tS=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Vp=r,Vp}var Qp,rS;function ia(){if(rS)return Qp;rS=1;var e=Gc(),t=TL(),r=RL(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:n:i&&i in Object(u)?t(u):r(u)}return Qp=l,Qp}var Yp,nS;function oa(){if(nS)return Yp;nS=1;function e(t){return t!=null&&typeof t=="object"}return Yp=e,Yp}var Xp,aS;function _o(){if(aS)return Xp;aS=1;var e=ia(),t=oa(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Xp=n,Xp}var Jp,sS;function rj(){if(sS)return Jp;sS=1;var e=br(),t=_o(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Jp=s,Jp}var Zp,iS;function Ja(){if(iS)return Zp;iS=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Zp=e,Zp}var eg,oS;function nj(){if(oS)return eg;oS=1;var e=ia(),t=Ja(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==s||d==r||d==i}return eg=l,eg}var tg,lS;function ML(){if(lS)return tg;lS=1;var e=_n(),t=e["__core-js_shared__"];return tg=t,tg}var rg,cS;function IL(){if(cS)return rg;cS=1;var e=ML(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return rg=r,rg}var ng,uS;function fE(){if(uS)return ng;uS=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ng=r,ng}var ag,dS;function $L(){if(dS)return ag;dS=1;var e=nj(),t=IL(),r=Ja(),n=fE(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var b=e(x)?p:i;return b.test(n(x))}return ag=m,ag}var sg,fS;function DL(){if(fS)return sg;fS=1;function e(t,r){return t==null?void 0:t[r]}return sg=e,sg}var ig,hS;function Xs(){if(hS)return ig;hS=1;var e=$L(),t=DL();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return ig=r,ig}var og,mS;function rh(){if(mS)return og;mS=1;var e=Xs(),t=e(Object,"create");return og=t,og}var lg,pS;function LL(){if(pS)return lg;pS=1;var e=rh();function t(){this.__data__=e?e(null):{},this.size=0}return lg=t,lg}var cg,gS;function FL(){if(gS)return cg;gS=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return cg=e,cg}var ug,xS;function BL(){if(xS)return ug;xS=1;var e=rh(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return n.call(l,i)?l[i]:void 0}return ug=s,ug}var dg,yS;function zL(){if(yS)return dg;yS=1;var e=rh(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return dg=n,dg}var fg,vS;function qL(){if(vS)return fg;vS=1;var e=rh(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return fg=r,fg}var hg,bS;function UL(){if(bS)return hg;bS=1;var e=LL(),t=FL(),r=BL(),n=zL(),s=qL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,hg=i,hg}var mg,jS;function WL(){if(jS)return mg;jS=1;function e(){this.__data__=[],this.size=0}return mg=e,mg}var pg,wS;function aj(){if(wS)return pg;wS=1;function e(t,r){return t===r||t!==t&&r!==r}return pg=e,pg}var gg,NS;function nh(){if(NS)return gg;NS=1;var e=aj();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return gg=t,gg}var xg,SS;function HL(){if(SS)return xg;SS=1;var e=nh(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return xg=n,xg}var yg,kS;function KL(){if(kS)return yg;kS=1;var e=nh();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return yg=t,yg}var vg,CS;function GL(){if(CS)return vg;CS=1;var e=nh();function t(r){return e(this.__data__,r)>-1}return vg=t,vg}var bg,OS;function VL(){if(OS)return bg;OS=1;var e=nh();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return bg=t,bg}var jg,PS;function ah(){if(PS)return jg;PS=1;var e=WL(),t=HL(),r=KL(),n=GL(),s=VL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,jg=i,jg}var wg,AS;function sj(){if(AS)return wg;AS=1;var e=Xs(),t=_n(),r=e(t,"Map");return wg=r,wg}var Ng,ES;function QL(){if(ES)return Ng;ES=1;var e=UL(),t=ah(),r=sj();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Ng=n,Ng}var Sg,_S;function YL(){if(_S)return Sg;_S=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Sg=e,Sg}var kg,TS;function sh(){if(TS)return kg;TS=1;var e=YL();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return kg=t,kg}var Cg,RS;function XL(){if(RS)return Cg;RS=1;var e=sh();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Cg=t,Cg}var Og,MS;function JL(){if(MS)return Og;MS=1;var e=sh();function t(r){return e(this,r).get(r)}return Og=t,Og}var Pg,IS;function ZL(){if(IS)return Pg;IS=1;var e=sh();function t(r){return e(this,r).has(r)}return Pg=t,Pg}var Ag,$S;function e7(){if($S)return Ag;$S=1;var e=sh();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return Ag=t,Ag}var Eg,DS;function ij(){if(DS)return Eg;DS=1;var e=QL(),t=XL(),r=JL(),n=ZL(),s=e7();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Eg=i,Eg}var _g,LS;function hE(){if(LS)return _g;LS=1;var e=ij(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,_g=r,_g}var Tg,FS;function t7(){if(FS)return Tg;FS=1;var e=hE(),t=500;function r(n){var s=e(n,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return Tg=r,Tg}var Rg,BS;function r7(){if(BS)return Rg;BS=1;var e=t7(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return Rg=n,Rg}var Mg,zS;function oj(){if(zS)return Mg;zS=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return Mg=e,Mg}var Ig,qS;function n7(){if(qS)return Ig;qS=1;var e=Gc(),t=oj(),r=br(),n=_o(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Ig=l,Ig}var $g,US;function mE(){if(US)return $g;US=1;var e=n7();function t(r){return r==null?"":e(r)}return $g=t,$g}var Dg,WS;function pE(){if(WS)return Dg;WS=1;var e=br(),t=rj(),r=r7(),n=mE();function s(i,l){return e(i)?i:t(i,l)?[i]:r(n(i))}return Dg=s,Dg}var Lg,HS;function ih(){if(HS)return Lg;HS=1;var e=_o();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Lg=t,Lg}var Fg,KS;function lj(){if(KS)return Fg;KS=1;var e=pE(),t=ih();function r(n,s){s=e(s,n);for(var i=0,l=s.length;n!=null&&i<l;)n=n[t(s[i++])];return i&&i==l?n:void 0}return Fg=r,Fg}var Bg,GS;function gE(){if(GS)return Bg;GS=1;var e=lj();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return Bg=t,Bg}var a7=gE();const _r=Ze(a7);var zg,VS;function s7(){if(VS)return zg;VS=1;function e(t){return t==null}return zg=e,zg}var i7=s7();const Le=Ze(i7);var qg,QS;function o7(){if(QS)return qg;QS=1;var e=ia(),t=br(),r=oa(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return qg=s,qg}var l7=o7();const Us=Ze(l7);var c7=nj();const $e=Ze(c7);var u7=Ja();const To=Ze(u7);var Ug={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function d7(){if(YS)return Ye;YS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var S=y.$$typeof;switch(S){case e:switch(y=y.type,y){case r:case s:case n:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case x:case m:case i:return y;default:return S}}case t:return S}}}return Ye.ContextConsumer=l,Ye.ContextProvider=i,Ye.Element=e,Ye.ForwardRef=d,Ye.Fragment=r,Ye.Lazy=x,Ye.Memo=m,Ye.Portal=t,Ye.Profiler=s,Ye.StrictMode=n,Ye.Suspense=f,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(y){return j(y)===l},Ye.isContextProvider=function(y){return j(y)===i},Ye.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ye.isForwardRef=function(y){return j(y)===d},Ye.isFragment=function(y){return j(y)===r},Ye.isLazy=function(y){return j(y)===x},Ye.isMemo=function(y){return j(y)===m},Ye.isPortal=function(y){return j(y)===t},Ye.isProfiler=function(y){return j(y)===s},Ye.isStrictMode=function(y){return j(y)===n},Ye.isSuspense=function(y){return j(y)===f},Ye.isSuspenseList=function(y){return j(y)===p},Ye.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===f||y===p||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===m||y.$$typeof===i||y.$$typeof===l||y.$$typeof===d||y.$$typeof===v||y.getModuleId!==void 0)},Ye.typeOf=j,Ye}var XS;function f7(){return XS||(XS=1,Ug.exports=d7()),Ug.exports}var h7=f7(),Wg,JS;function xE(){if(JS)return Wg;JS=1;var e=ia(),t=oa(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return Wg=n,Wg}var Hg,ZS;function m7(){if(ZS)return Hg;ZS=1;var e=xE();function t(r){return e(r)&&r!=+r}return Hg=t,Hg}var p7=m7();const Vc=Ze(p7);var g7=xE();const x7=Ze(g7);var sr=function(t){return t===0?0:t>0?1:-1},Ns=function(t){return Us(t)&&t.indexOf("%")===t.length-1},pe=function(t){return x7(t)&&!Vc(t)},y7=function(t){return Le(t)},Mt=function(t){return pe(t)||Us(t)},v7=0,Ro=function(t){var r=++v7;return"".concat(t||"").concat(r)},ir=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!Us(t))return n;var i;if(Ns(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Vc(i)&&(i=n),s&&i>r&&(i=r),i},_a=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},b7=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Pr=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_r(n,t))===r})}var j7=function(t,r){return pe(t)&&pe(r)?t-r:Us(t)&&Us(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Di(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var w7=["viewBox","children"],N7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ek=["points","pathLength"],Kg={svg:w7,polygon:ek,polyline:ek},cj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!To(n))return null;var s={};return Object.keys(n).forEach(function(i){cj.includes(i)&&(s[i]=r||function(l){return n[i](n,l)})}),s},S7=function(t,r,n){return function(s){return t(r,n,s),null}},Ws=function(t,r,n){if(!To(t)||yv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];cj.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=S7(l,r,n))}),s},k7=["children"],C7=["children"];function tk(e,t){if(e==null)return{};var r=O7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}var rk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nk=null,Gg=null,uj=function e(t){if(t===nk&&Array.isArray(Gg))return Gg;var r=[];return N.Children.forEach(t,function(n){Le(n)||(h7.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Gg=r,nk=t,r};function Tr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Jn(s)}):n=[Jn(t)],uj(e).forEach(function(s){var i=_r(s,"type.displayName")||_r(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Or(e,t){var r=Tr(e,t);return r&&r[0]}var ak=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!pe(n)||n<=0||!pe(s)||s<=0)},P7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],A7=function(t){return t&&t.type&&Us(t.type)&&P7.indexOf(t.type)>=0},E7=function(t){return t&&vv(t)==="object"&&"clipDot"in t},_7=function(t,r,n,s){var i,l=(i=Kg==null?void 0:Kg[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!$e(t)&&(s&&l.includes(r)||N7.includes(r))||n&&cj.includes(r)},_e=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!To(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;_7((u=s)===null||u===void 0?void 0:u[l],l,r,n)&&(i[l]=s[l])}),i},bv=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return sk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!sk(i,l))return!1}return!0},sk=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},s=n.children,i=tk(n,k7),l=r.props||{},u=l.children,d=tk(l,C7);return s&&u?Di(i,d)&&bv(s,u):!s&&!u?Di(i,d):!1}return!1},ik=function(t,r){var n=[],s={};return uj(t).forEach(function(i,l){if(A7(i))n.push(i);else if(i){var u=Jn(i.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!s[u])){var m=f(i,u,l);n.push(m),s[u]=!0}}}),n},T7=function(t){var r=t&&t.type;return r&&rk[r]?rk[r]:null},R7=function(t,r){return uj(r).indexOf(t)},M7=["children","width","height","viewBox","className","style","title","desc"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(this,arguments)}function I7(e,t){if(e==null)return{};var r=$7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wv(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=I7(e,M7),p=s||{width:r,height:n,x:0,y:0},m=ze("recharts-surface",i);return V.createElement("svg",jv({},_e(f,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var D7=["children","className"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}function L7(e,t){if(e==null)return{};var r=F7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ge=V.forwardRef(function(e,t){var r=e.children,n=e.className,s=L7(e,D7),i=ze("recharts-layer",n);return V.createElement("g",Nv({className:i},_e(s,!0),{ref:t}),r)}),dn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Vg,ok;function B7(){if(ok)return Vg;ok=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return Vg=e,Vg}var Qg,lk;function z7(){if(lk)return Qg;lk=1;var e=B7();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return Qg=t,Qg}var Yg,ck;function yE(){if(ck)return Yg;ck=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return Yg=d,Yg}var Xg,uk;function q7(){if(uk)return Xg;uk=1;function e(t){return t.split("")}return Xg=e,Xg}var Jg,dk;function U7(){if(dk)return Jg;dk=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",v=f+"?",j="["+i+"]?",y="(?:"+b+"(?:"+[p,m,x].join("|")+")"+j+v+")*",S=j+v+y,A="(?:"+[p+u+"?",u,m,x,l].join("|")+")",_=RegExp(d+"(?="+d+")|"+A+S,"g");function k(C){return C.match(_)||[]}return Jg=k,Jg}var Zg,fk;function W7(){if(fk)return Zg;fk=1;var e=q7(),t=yE(),r=U7();function n(s){return t(s)?r(s):e(s)}return Zg=n,Zg}var ex,hk;function H7(){if(hk)return ex;hk=1;var e=z7(),t=yE(),r=W7(),n=mE();function s(i){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return ex=s,ex}var tx,mk;function K7(){if(mk)return tx;mk=1;var e=H7(),t=e("toUpperCase");return tx=t,tx}var G7=K7();const oh=Ze(G7);function it(e){return function(){return e}}const vE=Math.cos,Kd=Math.sin,hn=Math.sqrt,Gd=Math.PI,lh=2*Gd,Sv=Math.PI,kv=2*Sv,ys=1e-6,V7=kv-ys;function bE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Q7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bE;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Y7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bE:Q7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-t,f=s-r,p=l-t,m=u-r,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>ys)if(!(Math.abs(m*d-f*p)>ys)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,v=s-u,j=d*d+f*f,y=b*b+v*v,S=Math.sqrt(j),A=Math.sqrt(x),_=i*Math.tan((Sv-Math.acos((j+x-y)/(2*S*A)))/2),k=_/A,C=_/S;Math.abs(k-1)>ys&&this._append`L${t+k*p},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*b>p*v)},${this._x1=t+C*d},${this._y1=r+C*f}`}}arc(t,r,n,s,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(s),d=n*Math.sin(s),f=t+u,p=r+d,m=1^l,x=l?s-i:i-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ys||Math.abs(this._y1-p)>ys)&&this._append`L${f},${p}`,n&&(x<0&&(x=x%kv+kv),x>V7?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:x>ys&&this._append`A${n},${n},0,${+(x>=Sv)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function dj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Y7(t)}function fj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jE(e){this._context=e}jE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ch(e){return new jE(e)}function wE(e){return e[0]}function NE(e){return e[1]}function SE(e,t){var r=it(!0),n=null,s=ch,i=null,l=dj(u);e=typeof e=="function"?e:e===void 0?wE:it(e),t=typeof t=="function"?t:t===void 0?NE:it(t);function u(d){var f,p=(d=fj(d)).length,m,x=!1,b;for(n==null&&(i=s(b=l())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,f,d),+t(m,f,d));if(b)return i=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:it(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),u):s},u.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),u):n},u}function bd(e,t,r){var n=null,s=it(!0),i=null,l=ch,u=null,d=dj(f);e=typeof e=="function"?e:e===void 0?wE:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NE:it(+r);function f(m){var x,b,v,j=(m=fj(m)).length,y,S=!1,A,_=new Array(j),k=new Array(j);for(i==null&&(u=l(A=d())),x=0;x<=j;++x){if(!(x<j&&s(y=m[x],x,m))===S)if(S=!S)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),v=x-1;v>=b;--v)u.point(_[v],k[v]);u.lineEnd(),u.areaEnd()}S&&(_[x]=+e(y,x,m),k[x]=+t(y,x,m),u.point(n?+n(y,x,m):_[x],r?+r(y,x,m):k[x]))}if(A)return u=null,A+""||null}function p(){return SE().defined(s).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:it(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:it(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),f):i},f}class kE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function X7(e){return new kE(e,!0)}function J7(e){return new kE(e,!1)}const hj={draw(e,t){const r=hn(t/Gd);e.moveTo(r,0),e.arc(0,0,r,0,lh)}},Z7={draw(e,t){const r=hn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CE=hn(1/3),eF=CE*2,tF={draw(e,t){const r=hn(t/eF),n=r*CE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rF={draw(e,t){const r=hn(t),n=-r/2;e.rect(n,n,r,r)}},nF=.8908130915292852,OE=Kd(Gd/10)/Kd(7*Gd/10),aF=Kd(lh/10)*OE,sF=-vE(lh/10)*OE,iF={draw(e,t){const r=hn(t*nF),n=aF*r,s=sF*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const l=lh*i/5,u=vE(l),d=Kd(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*s,d*n+u*s)}e.closePath()}},rx=hn(3),oF={draw(e,t){const r=-hn(t/(rx*3));e.moveTo(0,r*2),e.lineTo(-rx*r,-r),e.lineTo(rx*r,-r),e.closePath()}},Fr=-.5,Br=hn(3)/2,Cv=1/hn(12),lF=(Cv/2+1)*3,cF={draw(e,t){const r=hn(t/lF),n=r/2,s=r*Cv,i=n,l=r*Cv+r,u=-i,d=l;e.moveTo(n,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(Fr*n-Br*s,Br*n+Fr*s),e.lineTo(Fr*i-Br*l,Br*i+Fr*l),e.lineTo(Fr*u-Br*d,Br*u+Fr*d),e.lineTo(Fr*n+Br*s,Fr*s-Br*n),e.lineTo(Fr*i+Br*l,Fr*l-Br*i),e.lineTo(Fr*u+Br*d,Fr*d-Br*u),e.closePath()}};function uF(e,t){let r=null,n=dj(s);e=typeof e=="function"?e:it(e||hj),t=typeof t=="function"?t:it(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:it(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:it(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Vd(){}function Qd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PE(e){this._context=e}PE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dF(e){return new PE(e)}function AE(e){this._context=e}AE.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fF(e){return new AE(e)}function EE(e){this._context=e}EE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hF(e){return new EE(e)}function _E(e){this._context=e}_E.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mF(e){return new _E(e)}function pk(e){return e<0?-1:1}function gk(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),u=(i*s+l*n)/(n+s);return(pk(i)+pk(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function xk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nx(e,t,r){var n=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,s+u*t,i-u,l-u*r,i,l)}function Yd(e){this._context=e}Yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nx(this,this._t0,xk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nx(this,xk(this,r=gk(this,e,t)),r);break;default:nx(this,this._t0,r=gk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TE(e){this._context=new RE(e)}(TE.prototype=Object.create(Yd.prototype)).point=function(e,t){Yd.prototype.point.call(this,t,e)};function RE(e){this._context=e}RE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function pF(e){return new Yd(e)}function gF(e){return new TE(e)}function ME(e){this._context=e}ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yk(e),s=yk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yk(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function xF(e){return new ME(e)}function uh(e,t){this._context=e,this._t=t}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function yF(e){return new uh(e,.5)}function vF(e){return new uh(e,0)}function bF(e){return new uh(e,1)}function Zi(e,t){if((l=e.length)>1)for(var r=1,n,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ov(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jF(e,t){return e[t]}function wF(e){const t=[];return t.key=e,t}function NF(){var e=it([]),t=Ov,r=Zi,n=jF;function s(i){var l=Array.from(e.apply(this,arguments),wF),u,d=l.length,f=-1,p;for(const m of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(m,l[u].key,f,i)]).data=m;for(u=0,p=fj(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:it(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:it(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Ov:typeof i=="function"?i:it(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Zi,s):r},s}function SF(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}Zi(e,t)}}function kF(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Zi(e,t)}}function CF(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,l;n<i;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[n][1]||0,x=p[n-1][1]||0,b=(m-x)/2,v=0;v<u;++v){var j=e[t[v]],y=j[n][1]||0,S=j[n-1][1]||0;b+=y-S}d+=m,f+=b*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=f/d)}s[n-1][1]+=s[n-1][0]=r,Zi(e,t)}}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}var OF=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=EF(e,"string");return tc(t)=="symbol"?t:t+""}function EF(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _F(e,t){if(e==null)return{};var r=TF(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IE={symbolCircle:hj,symbolCross:Z7,symbolDiamond:tF,symbolSquare:rF,symbolStar:iF,symbolTriangle:oF,symbolWye:cF},RF=Math.PI/180,MF=function(t){var r="symbol".concat(oh(t));return IE[r]||hj},IF=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*RF;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$F=function(t,r){IE["symbol".concat(oh(t))]=r},mj=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=_F(t,OF),f=bk(bk({},d),{},{type:n,size:i,sizeType:u}),p=function(){var y=MF(n),S=uF().type(y).size(IF(i,u,n));return S()},m=f.className,x=f.cx,b=f.cy,v=_e(f,!0);return x===+x&&b===+b&&i===+i?V.createElement("path",Pv({},v,{className:ze("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(b,")"),d:p()})):null};mj.registerSymbol=$F;function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){rc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DE(n.key),n)}}function BF(e,t,r){return t&&FF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zF(e,t,r){return t=Xd(t),qF(e,$E()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function qF(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UF(e)}function UF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($E=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function WF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ev(e,t)}function rc(e,t,r){return t=DE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DE(e){var t=HF(e,"string");return eo(t)=="symbol"?t:t+""}function HF(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zr=32,pj=(function(e){function t(){return LF(this,t),zF(this,t,arguments)}return WF(t,e),BF(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=zr/2,l=zr/6,u=zr/3,d=n.inactive?s:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:zr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(zr,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var f=DF({},n);return delete f.legendIcon,V.cloneElement(n.legendIcon,f)}return V.createElement(mj,{fill:d,cx:i,cy:i,size:zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,p={x:0,y:0,width:zr,height:zr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,v){var j=b.formatter||d,y=ze(rc(rc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",b.inactive));if(b.type==="none")return null;var S=$e(b.value)?null:b.value;dn(!$e(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?f:b.color;return V.createElement("li",Av({className:y,style:m,key:"legend-item-".concat(v)},Ws(n.props,b,v)),V.createElement(wv,{width:l,height:l,viewBox:p,style:x},n.renderIcon(b)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},j?j(S,b,v):S))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,l=n.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(N.PureComponent);rc(pj,"displayName","Legend");rc(pj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ax,wk;function KF(){if(wk)return ax;wk=1;var e=ah();function t(){this.__data__=new e,this.size=0}return ax=t,ax}var sx,Nk;function GF(){if(Nk)return sx;Nk=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return sx=e,sx}var ix,Sk;function VF(){if(Sk)return ix;Sk=1;function e(t){return this.__data__.get(t)}return ix=e,ix}var ox,kk;function QF(){if(kk)return ox;kk=1;function e(t){return this.__data__.has(t)}return ox=e,ox}var lx,Ck;function YF(){if(Ck)return lx;Ck=1;var e=ah(),t=sj(),r=ij(),n=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return lx=s,lx}var cx,Ok;function LE(){if(Ok)return cx;Ok=1;var e=ah(),t=KF(),r=GF(),n=VF(),s=QF(),i=YF();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=s,l.prototype.set=i,cx=l,cx}var ux,Pk;function XF(){if(Pk)return ux;Pk=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return ux=t,ux}var dx,Ak;function JF(){if(Ak)return dx;Ak=1;function e(t){return this.__data__.has(t)}return dx=e,dx}var fx,Ek;function FE(){if(Ek)return fx;Ek=1;var e=ij(),t=XF(),r=JF();function n(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,fx=n,fx}var hx,_k;function BE(){if(_k)return hx;_k=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return hx=e,hx}var mx,Tk;function zE(){if(Tk)return mx;Tk=1;function e(t,r){return t.has(r)}return mx=e,mx}var px,Rk;function qE(){if(Rk)return px;Rk=1;var e=FE(),t=BE(),r=zE(),n=1,s=2;function i(l,u,d,f,p,m){var x=d&n,b=l.length,v=u.length;if(b!=v&&!(x&&v>b))return!1;var j=m.get(l),y=m.get(u);if(j&&y)return j==u&&y==l;var S=-1,A=!0,_=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++S<b;){var k=l[S],C=u[S];if(f)var O=x?f(C,k,S,u,l,m):f(k,C,S,l,u,m);if(O!==void 0){if(O)continue;A=!1;break}if(_){if(!t(u,function(P,R){if(!r(_,R)&&(k===P||p(k,P,d,f,m)))return _.push(R)})){A=!1;break}}else if(!(k===C||p(k,C,d,f,m))){A=!1;break}}return m.delete(l),m.delete(u),A}return px=i,px}var gx,Mk;function ZF(){if(Mk)return gx;Mk=1;var e=_n(),t=e.Uint8Array;return gx=t,gx}var xx,Ik;function e9(){if(Ik)return xx;Ik=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return xx=e,xx}var yx,$k;function gj(){if($k)return yx;$k=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return yx=e,yx}var vx,Dk;function t9(){if(Dk)return vx;Dk=1;var e=Gc(),t=ZF(),r=aj(),n=qE(),s=e9(),i=gj(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",x="[object Number]",b="[object RegExp]",v="[object Set]",j="[object String]",y="[object Symbol]",S="[object ArrayBuffer]",A="[object DataView]",_=e?e.prototype:void 0,k=_?_.valueOf:void 0;function C(O,P,R,$,I,T,M){switch(R){case A:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case S:return!(O.byteLength!=P.byteLength||!T(new t(O),new t(P)));case d:case f:case x:return r(+O,+P);case p:return O.name==P.name&&O.message==P.message;case b:case j:return O==P+"";case m:var H=s;case v:var Y=$&l;if(H||(H=i),O.size!=P.size&&!Y)return!1;var q=M.get(O);if(q)return q==P;$|=u,M.set(O,P);var U=n(H(O),H(P),$,I,T,M);return M.delete(O),U;case y:if(k)return k.call(O)==k.call(P)}return!1}return vx=C,vx}var bx,Lk;function UE(){if(Lk)return bx;Lk=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return bx=e,bx}var jx,Fk;function r9(){if(Fk)return jx;Fk=1;var e=UE(),t=br();function r(n,s,i){var l=s(n);return t(n)?l:e(l,i(n))}return jx=r,jx}var wx,Bk;function n9(){if(Bk)return wx;Bk=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,l=[];++n<s;){var u=t[n];r(u,n,t)&&(l[i++]=u)}return l}return wx=e,wx}var Nx,zk;function a9(){if(zk)return Nx;zk=1;function e(){return[]}return Nx=e,Nx}var Sx,qk;function s9(){if(qk)return Sx;qk=1;var e=n9(),t=a9(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return n.call(l,u)}))}:t;return Sx=i,Sx}var kx,Uk;function i9(){if(Uk)return kx;Uk=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return kx=e,kx}var Cx,Wk;function o9(){if(Wk)return Cx;Wk=1;var e=ia(),t=oa(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Cx=n,Cx}var Ox,Hk;function xj(){if(Hk)return Ox;Hk=1;var e=o9(),t=oa(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!s.call(l,"callee")};return Ox=i,Ox}var zl={exports:{}},Px,Kk;function l9(){if(Kk)return Px;Kk=1;function e(){return!1}return Px=e,Px}zl.exports;var Gk;function WE(){return Gk||(Gk=1,(function(e,t){var r=_n(),n=l9(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(zl,zl.exports)),zl.exports}var Ax,Vk;function yj(){if(Vk)return Ax;Vk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return Ax=r,Ax}var Ex,Qk;function vj(){if(Qk)return Ex;Qk=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Ex=t,Ex}var _x,Yk;function c9(){if(Yk)return _x;Yk=1;var e=ia(),t=vj(),r=oa(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",x="[object RegExp]",b="[object Set]",v="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",$="[object Uint16Array]",I="[object Uint32Array]",T={};T[A]=T[_]=T[k]=T[C]=T[O]=T[P]=T[R]=T[$]=T[I]=!0,T[n]=T[s]=T[y]=T[i]=T[S]=T[l]=T[u]=T[d]=T[f]=T[p]=T[m]=T[x]=T[b]=T[v]=T[j]=!1;function M(H){return r(H)&&t(H.length)&&!!T[e(H)]}return _x=M,_x}var Tx,Xk;function HE(){if(Xk)return Tx;Xk=1;function e(t){return function(r){return t(r)}}return Tx=e,Tx}var ql={exports:{}};ql.exports;var Jk;function u9(){return Jk||(Jk=1,(function(e,t){var r=dE(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(ql,ql.exports)),ql.exports}var Rx,Zk;function KE(){if(Zk)return Rx;Zk=1;var e=c9(),t=HE(),r=u9(),n=r&&r.isTypedArray,s=n?t(n):e;return Rx=s,Rx}var Mx,e5;function d9(){if(e5)return Mx;e5=1;var e=i9(),t=xj(),r=br(),n=WE(),s=yj(),i=KE(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=r(f),x=!m&&t(f),b=!m&&!x&&n(f),v=!m&&!x&&!b&&i(f),j=m||x||b||v,y=j?e(f.length,String):[],S=y.length;for(var A in f)(p||u.call(f,A))&&!(j&&(A=="length"||b&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,S)))&&y.push(A);return y}return Mx=d,Mx}var Ix,t5;function f9(){if(t5)return Ix;t5=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Ix=t,Ix}var $x,r5;function GE(){if(r5)return $x;r5=1;function e(t,r){return function(n){return t(r(n))}}return $x=e,$x}var Dx,n5;function h9(){if(n5)return Dx;n5=1;var e=GE(),t=e(Object.keys,Object);return Dx=t,Dx}var Lx,a5;function m9(){if(a5)return Lx;a5=1;var e=f9(),t=h9(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&l.push(u);return l}return Lx=s,Lx}var Fx,s5;function Qc(){if(s5)return Fx;s5=1;var e=nj(),t=vj();function r(n){return n!=null&&t(n.length)&&!e(n)}return Fx=r,Fx}var Bx,i5;function dh(){if(i5)return Bx;i5=1;var e=d9(),t=m9(),r=Qc();function n(s){return r(s)?e(s):t(s)}return Bx=n,Bx}var zx,o5;function p9(){if(o5)return zx;o5=1;var e=r9(),t=s9(),r=dh();function n(s){return e(s,r,t)}return zx=n,zx}var qx,l5;function g9(){if(l5)return qx;l5=1;var e=p9(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,l,u,d,f,p){var m=u&t,x=e(i),b=x.length,v=e(l),j=v.length;if(b!=j&&!m)return!1;for(var y=b;y--;){var S=x[y];if(!(m?S in l:n.call(l,S)))return!1}var A=p.get(i),_=p.get(l);if(A&&_)return A==l&&_==i;var k=!0;p.set(i,l),p.set(l,i);for(var C=m;++y<b;){S=x[y];var O=i[S],P=l[S];if(d)var R=m?d(P,O,S,l,i,p):d(O,P,S,i,l,p);if(!(R===void 0?O===P||f(O,P,u,d,p):R)){k=!1;break}C||(C=S=="constructor")}if(k&&!C){var $=i.constructor,I=l.constructor;$!=I&&"constructor"in i&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof I=="function"&&I instanceof I)&&(k=!1)}return p.delete(i),p.delete(l),k}return qx=s,qx}var Ux,c5;function x9(){if(c5)return Ux;c5=1;var e=Xs(),t=_n(),r=e(t,"DataView");return Ux=r,Ux}var Wx,u5;function y9(){if(u5)return Wx;u5=1;var e=Xs(),t=_n(),r=e(t,"Promise");return Wx=r,Wx}var Hx,d5;function VE(){if(d5)return Hx;d5=1;var e=Xs(),t=_n(),r=e(t,"Set");return Hx=r,Hx}var Kx,f5;function v9(){if(f5)return Kx;f5=1;var e=Xs(),t=_n(),r=e(t,"WeakMap");return Kx=r,Kx}var Gx,h5;function b9(){if(h5)return Gx;h5=1;var e=x9(),t=sj(),r=y9(),n=VE(),s=v9(),i=ia(),l=fE(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",x="[object DataView]",b=l(e),v=l(t),j=l(r),y=l(n),S=l(s),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=x||t&&A(new t)!=u||r&&A(r.resolve())!=f||n&&A(new n)!=p||s&&A(new s)!=m)&&(A=function(_){var k=i(_),C=k==d?_.constructor:void 0,O=C?l(C):"";if(O)switch(O){case b:return x;case v:return u;case j:return f;case y:return p;case S:return m}return k}),Gx=A,Gx}var Vx,m5;function j9(){if(m5)return Vx;m5=1;var e=LE(),t=qE(),r=t9(),n=g9(),s=b9(),i=br(),l=WE(),u=KE(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",x=Object.prototype,b=x.hasOwnProperty;function v(j,y,S,A,_,k){var C=i(j),O=i(y),P=C?p:s(j),R=O?p:s(y);P=P==f?m:P,R=R==f?m:R;var $=P==m,I=R==m,T=P==R;if(T&&l(j)){if(!l(y))return!1;C=!0,$=!1}if(T&&!$)return k||(k=new e),C||u(j)?t(j,y,S,A,_,k):r(j,y,P,S,A,_,k);if(!(S&d)){var M=$&&b.call(j,"__wrapped__"),H=I&&b.call(y,"__wrapped__");if(M||H){var Y=M?j.value():j,q=H?y.value():y;return k||(k=new e),_(Y,q,S,A,k)}}return T?(k||(k=new e),n(j,y,S,A,_,k)):!1}return Vx=v,Vx}var Qx,p5;function bj(){if(p5)return Qx;p5=1;var e=j9(),t=oa();function r(n,s,i,l,u){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,l,r,u)}return Qx=r,Qx}var Yx,g5;function w9(){if(g5)return Yx;g5=1;var e=LE(),t=bj(),r=1,n=2;function s(i,l,u,d){var f=u.length,p=f,m=!d;if(i==null)return!p;for(i=Object(i);f--;){var x=u[f];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++f<p;){x=u[f];var b=x[0],v=i[b],j=x[1];if(m&&x[2]){if(v===void 0&&!(b in i))return!1}else{var y=new e;if(d)var S=d(v,j,b,i,l,y);if(!(S===void 0?t(j,v,r|n,d,y):S))return!1}}return!0}return Yx=s,Yx}var Xx,x5;function QE(){if(x5)return Xx;x5=1;var e=Ja();function t(r){return r===r&&!e(r)}return Xx=t,Xx}var Jx,y5;function N9(){if(y5)return Jx;y5=1;var e=QE(),t=dh();function r(n){for(var s=t(n),i=s.length;i--;){var l=s[i],u=n[l];s[i]=[l,u,e(u)]}return s}return Jx=r,Jx}var Zx,v5;function YE(){if(v5)return Zx;v5=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Zx=e,Zx}var e0,b5;function S9(){if(b5)return e0;b5=1;var e=w9(),t=N9(),r=YE();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return e0=n,e0}var t0,j5;function k9(){if(j5)return t0;j5=1;function e(t,r){return t!=null&&r in Object(t)}return t0=e,t0}var r0,w5;function C9(){if(w5)return r0;w5=1;var e=pE(),t=xj(),r=br(),n=yj(),s=vj(),i=ih();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,x=!1;++p<m;){var b=i(d[p]);if(!(x=u!=null&&f(u,b)))break;u=u[b]}return x||++p!=m?x:(m=u==null?0:u.length,!!m&&s(m)&&n(b,m)&&(r(u)||t(u)))}return r0=l,r0}var n0,N5;function O9(){if(N5)return n0;N5=1;var e=k9(),t=C9();function r(n,s){return n!=null&&t(n,s,e)}return n0=r,n0}var a0,S5;function P9(){if(S5)return a0;S5=1;var e=bj(),t=gE(),r=O9(),n=rj(),s=QE(),i=YE(),l=ih(),u=1,d=2;function f(p,m){return n(p)&&s(m)?i(l(p),m):function(x){var b=t(x,p);return b===void 0&&b===m?r(x,p):e(m,b,u|d)}}return a0=f,a0}var s0,k5;function Mo(){if(k5)return s0;k5=1;function e(t){return t}return s0=e,s0}var i0,C5;function A9(){if(C5)return i0;C5=1;function e(t){return function(r){return r==null?void 0:r[t]}}return i0=e,i0}var o0,O5;function E9(){if(O5)return o0;O5=1;var e=lj();function t(r){return function(n){return e(n,r)}}return o0=t,o0}var l0,P5;function _9(){if(P5)return l0;P5=1;var e=A9(),t=E9(),r=rj(),n=ih();function s(i){return r(i)?e(n(i)):t(i)}return l0=s,l0}var c0,A5;function Tn(){if(A5)return c0;A5=1;var e=S9(),t=P9(),r=Mo(),n=br(),s=_9();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):s(l)}return c0=i,c0}var u0,E5;function XE(){if(E5)return u0;E5=1;function e(t,r,n,s){for(var i=t.length,l=n+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return u0=e,u0}var d0,_5;function T9(){if(_5)return d0;_5=1;function e(t){return t!==t}return d0=e,d0}var f0,T5;function R9(){if(T5)return f0;T5=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return f0=e,f0}var h0,R5;function M9(){if(R5)return h0;R5=1;var e=XE(),t=T9(),r=R9();function n(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return h0=n,h0}var m0,M5;function I9(){if(M5)return m0;M5=1;var e=M9();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return m0=t,m0}var p0,I5;function $9(){if(I5)return p0;I5=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return p0=e,p0}var g0,$5;function D9(){if($5)return g0;$5=1;function e(){}return g0=e,g0}var x0,D5;function L9(){if(D5)return x0;D5=1;var e=VE(),t=D9(),r=gj(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return x0=s,x0}var y0,L5;function F9(){if(L5)return y0;L5=1;var e=FE(),t=I9(),r=$9(),n=zE(),s=L9(),i=gj(),l=200;function u(d,f,p){var m=-1,x=t,b=d.length,v=!0,j=[],y=j;if(p)v=!1,x=r;else if(b>=l){var S=f?null:s(d);if(S)return i(S);v=!1,x=n,y=new e}else y=f?[]:j;e:for(;++m<b;){var A=d[m],_=f?f(A):A;if(A=p||A!==0?A:0,v&&_===_){for(var k=y.length;k--;)if(y[k]===_)continue e;f&&y.push(_),j.push(A)}else x(y,_,p)||(y!==j&&y.push(_),j.push(A))}return j}return y0=u,y0}var v0,F5;function B9(){if(F5)return v0;F5=1;var e=Tn(),t=F9();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return v0=r,v0}var z9=B9();const B5=Ze(z9);function JE(e,t,r){return t===!0?B5(e,r):$e(t)?B5(e,t):e}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}var q9=["ref"];function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e_(n.key),n)}}function W9(e,t,r){return t&&q5(e.prototype,t),r&&q5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H9(e,t,r){return t=Jd(t),K9(e,ZE()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function K9(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(e)}function G9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZE=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function V9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_v(e,t)}function _v(e,t){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_v(e,t)}function fh(e,t,r){return t=e_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_(e){var t=Q9(e,"string");return to(t)=="symbol"?t:t+""}function Q9(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y9(e,t){if(e==null)return{};var r=X9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J9(e){return e.value}function Z9(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=Y9(t,q9);return V.createElement(pj,r)}var U5=1,Ha=(function(e){function t(){var r;U9(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=H9(this,t,[].concat(s)),fh(r,"lastBoundingBox",{width:-1,height:-1}),r}return V9(t,e),W9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>U5||Math.abs(s.height-this.lastBoundingBox.height)>U5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,p=s.chartHeight,m,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var v=this.getBBoxSnapshot();x={top:((p||0)-v.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return zn(zn({},m),x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,p=s.payload,m=zn(zn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},Z9(i,zn(zn({},this.props),{},{payload:JE(p,f,J9)})))}}],[{key:"getWithHeight",value:function(n,s){var i=zn(zn({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&pe(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||s}:null}}])})(N.PureComponent);fh(Ha,"displayName","Legend");fh(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var b0,W5;function eB(){if(W5)return b0;W5=1;var e=Gc(),t=xj(),r=br(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return b0=s,b0}var j0,H5;function t_(){if(H5)return j0;H5=1;var e=UE(),t=eB();function r(n,s,i,l,u){var d=-1,f=n.length;for(i||(i=t),u||(u=[]);++d<f;){var p=n[d];s>0&&i(p)?s>1?r(p,s-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return j0=r,j0}var w0,K5;function tB(){if(K5)return w0;K5=1;function e(t){return function(r,n,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(n(l[f],f,l)===!1)break}return r}}return w0=e,w0}var N0,G5;function rB(){if(G5)return N0;G5=1;var e=tB(),t=e();return N0=t,N0}var S0,V5;function r_(){if(V5)return S0;V5=1;var e=rB(),t=dh();function r(n,s){return n&&e(n,s,t)}return S0=r,S0}var k0,Q5;function nB(){if(Q5)return k0;Q5=1;var e=Qc();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=n?l:-1,d=Object(s);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return k0=t,k0}var C0,Y5;function jj(){if(Y5)return C0;Y5=1;var e=r_(),t=nB(),r=t(e);return C0=r,C0}var O0,X5;function n_(){if(X5)return O0;X5=1;var e=jj(),t=Qc();function r(n,s){var i=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++i]=s(u,d,f)}),l}return O0=r,O0}var P0,J5;function aB(){if(J5)return P0;J5=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return P0=e,P0}var A0,Z5;function sB(){if(Z5)return A0;Z5=1;var e=_o();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,p=n===n,m=e(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||i&&d&&p||!s&&p||!l)return 1;if(!i&&!u&&!m&&r<n||m&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return A0=t,A0}var E0,eC;function iB(){if(eC)return E0;eC=1;var e=sB();function t(r,n,s){for(var i=-1,l=r.criteria,u=n.criteria,d=l.length,f=s.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=f)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return r.index-n.index}return E0=t,E0}var _0,tC;function oB(){if(tC)return _0;tC=1;var e=oj(),t=lj(),r=Tn(),n=n_(),s=aB(),i=HE(),l=iB(),u=Mo(),d=br();function f(p,m,x){m.length?m=e(m,function(j){return d(j)?function(y){return t(y,j.length===1?j[0]:j)}:j}):m=[u];var b=-1;m=e(m,i(r));var v=n(p,function(j,y,S){var A=e(m,function(_){return _(j)});return{criteria:A,index:++b,value:j}});return s(v,function(j,y){return l(j,y,x)})}return _0=f,_0}var T0,rC;function lB(){if(rC)return T0;rC=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return T0=e,T0}var R0,nC;function cB(){if(nC)return R0;nC=1;var e=lB(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=i(f),e(n,this,p)}}return R0=r,R0}var M0,aC;function uB(){if(aC)return M0;aC=1;function e(t){return function(){return t}}return M0=e,M0}var I0,sC;function a_(){if(sC)return I0;sC=1;var e=Xs(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return I0=t,I0}var $0,iC;function dB(){if(iC)return $0;iC=1;var e=uB(),t=a_(),r=Mo(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return $0=n,$0}var D0,oC;function fB(){if(oC)return D0;oC=1;var e=800,t=16,r=Date.now;function n(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return D0=n,D0}var L0,lC;function hB(){if(lC)return L0;lC=1;var e=dB(),t=fB(),r=t(e);return L0=r,L0}var F0,cC;function mB(){if(cC)return F0;cC=1;var e=Mo(),t=cB(),r=hB();function n(s,i){return r(t(s,i,e),s+"")}return F0=n,F0}var B0,uC;function hh(){if(uC)return B0;uC=1;var e=aj(),t=Qc(),r=yj(),n=Ja();function s(i,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return B0=s,B0}var z0,dC;function pB(){if(dC)return z0;dC=1;var e=t_(),t=oB(),r=mB(),n=hh(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&n(i,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return z0=s,z0}var gB=pB();const wj=Ze(gB);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function xB(e,t){return jB(e)||bB(e,t)||vB(e,t)||yB()}function yB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vB(e,t){if(e){if(typeof e=="string")return fC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fC(e,t)}}function fC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function jB(e){if(Array.isArray(e))return e}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){wB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wB(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=SB(e,"string");return nc(t)=="symbol"?t:t+""}function SB(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e){return Array.isArray(e)&&Mt(e[0])&&Mt(e[1])?e.join(" ~ "):e}var CB=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,x=t.itemSorter,b=t.wrapperClassName,v=t.labelClassName,j=t.label,y=t.labelFormatter,S=t.accessibilityLayer,A=S===void 0?!1:S,_=function(){if(p&&p.length){var M={padding:0,margin:0},H=(x?wj(p,x):p).map(function(Y,q){if(Y.type==="none")return null;var U=q0({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),F=Y.formatter||m||kB,W=Y.value,X=Y.name,z=W,B=X;if(F&&z!=null&&B!=null){var L=F(W,X,Y,q,p);if(Array.isArray(L)){var G=xB(L,2);z=G[0],B=G[1]}else z=L}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:U},Mt(B)?V.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Mt(B)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},z),V.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:M},H)}return null},k=q0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=q0({margin:0},f),O=!Le(j),P=O?j:"",R=ze("recharts-default-tooltip",b),$=ze("recharts-tooltip-label",v);O&&y&&p!==void 0&&p!==null&&(P=y(j,p));var I=A?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Tv({className:R,style:k},I),V.createElement("p",{className:$,style:C},V.isValidElement(P)?P:"".concat(P)),_())};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function jd(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=PB(e,"string");return ac(t)=="symbol"?t:t+""}function PB(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Al="recharts-tooltip-wrapper",AB={visibility:"hidden"};function EB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ze(Al,jd(jd(jd(jd({},"".concat(Al,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Al,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Al,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Al,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function mC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var p=r[n]-u-s,m=r[n]+s;if(t[n])return l[n]?p:m;if(l[n]){var x=p,b=d[n];return x<b?Math.max(m,d[n]):Math.max(p,d[n])}var v=m+u,j=d[n]+f;return v>j?Math.max(p,d[n]):Math.max(m,d[n])}function _B(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=mC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=mC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=_B({translateX:p,translateY:m,useTranslate3d:u})):f=AB,{cssProperties:f,cssClasses:EB({translateX:p,translateY:m,coordinate:r})}}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i_(n.key),n)}}function IB(e,t,r){return t&&MB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $B(e,t,r){return t=Zd(t),DB(e,s_()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function DB(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LB(e)}function LB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s_=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function FB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rv(e,t)}function Rv(e,t){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rv(e,t)}function Mv(e,t,r){return t=i_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i_(e){var t=BB(e,"string");return ro(t)=="symbol"?t:t+""}function BB(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xC=1,zB=(function(e){function t(){var r;RB(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$B(this,t,[].concat(s)),Mv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mv(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return FB(t,e),IB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xC||Math.abs(n.height-this.state.lastBoundingBox.height)>xC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,p=s.coordinate,m=s.hasPayload,x=s.isAnimationActive,b=s.offset,v=s.position,j=s.reverseDirection,y=s.useTranslate3d,S=s.viewBox,A=s.wrapperStyle,_=TB({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:b,position:v,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:S}),k=_.cssClasses,C=_.cssProperties,O=gC(gC({transition:x&&i?"transform ".concat(u,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return V.createElement("div",{tabIndex:-1,className:k,style:O,ref:function(R){n.wrapperNode=R}},f)}}])})(N.PureComponent),qB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Js={isSsr:qB()};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){Nj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l_(n.key),n)}}function HB(e,t,r){return t&&WB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KB(e,t,r){return t=ef(t),GB(e,o_()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function GB(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VB(e)}function VB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o_=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function QB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}function Iv(e,t){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iv(e,t)}function Nj(e,t,r){return t=l_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(e){var t=YB(e,"string");return no(t)=="symbol"?t:t+""}function YB(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XB(e){return e.dataKey}function JB(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(CB,t)}var Wr=(function(e){function t(){return UB(this,t),KB(this,t,arguments)}return QB(t,e),HB(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,p=s.coordinate,m=s.filterNull,x=s.isAnimationActive,b=s.offset,v=s.payload,j=s.payloadUniqBy,y=s.position,S=s.reverseDirection,A=s.useTranslate3d,_=s.viewBox,k=s.wrapperStyle,C=v??[];m&&C.length&&(C=JE(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),j,XB));var O=C.length>0;return V.createElement(zB,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:i,coordinate:p,hasPayload:O,offset:b,position:y,reverseDirection:S,useTranslate3d:A,viewBox:_,wrapperStyle:k},JB(f,vC(vC({},this.props),{},{payload:C})))}}])})(N.PureComponent);Nj(Wr,"displayName","Tooltip");Nj(Wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Js.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U0,bC;function ZB(){if(bC)return U0;bC=1;var e=_n(),t=function(){return e.Date.now()};return U0=t,U0}var W0,jC;function ez(){if(jC)return W0;jC=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return W0=t,W0}var H0,wC;function tz(){if(wC)return H0;wC=1;var e=ez(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return H0=r,H0}var K0,NC;function c_(){if(NC)return K0;NC=1;var e=tz(),t=Ja(),r=_o(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?n:+f}return K0=d,K0}var G0,SC;function rz(){if(SC)return G0;SC=1;var e=Ja(),t=ZB(),r=c_(),n="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var p,m,x,b,v,j,y=0,S=!1,A=!1,_=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(S=!!f.leading,A="maxWait"in f,x=A?s(r(f.maxWait)||0,d):x,_="trailing"in f?!!f.trailing:_);function k(H){var Y=p,q=m;return p=m=void 0,y=H,b=u.apply(q,Y),b}function C(H){return y=H,v=setTimeout(R,d),S?k(H):b}function O(H){var Y=H-j,q=H-y,U=d-Y;return A?i(U,x-q):U}function P(H){var Y=H-j,q=H-y;return j===void 0||Y>=d||Y<0||A&&q>=x}function R(){var H=t();if(P(H))return $(H);v=setTimeout(R,O(H))}function $(H){return v=void 0,_&&p?k(H):(p=m=void 0,b)}function I(){v!==void 0&&clearTimeout(v),y=0,p=j=m=v=void 0}function T(){return v===void 0?b:$(t())}function M(){var H=t(),Y=P(H);if(p=arguments,m=this,j=H,Y){if(v===void 0)return C(j);if(A)return clearTimeout(v),v=setTimeout(R,d),k(j)}return v===void 0&&(v=setTimeout(R,d)),b}return M.cancel=I,M.flush=T,M}return G0=l,G0}var V0,kC;function nz(){if(kC)return V0;kC=1;var e=rz(),t=Ja(),r="Expected a function";function n(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return V0=n,V0}var az=nz();const u_=Ze(az);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return t=iz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=oz(e,"string");return sc(t)=="symbol"?t:t+""}function oz(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lz(e,t){return fz(e)||dz(e,t)||uz(e,t)||cz()}function cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uz(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function fz(e){if(Array.isArray(e))return e}var Sj=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,x=e.maxHeight,b=e.children,v=e.debounce,j=v===void 0?0:v,y=e.id,S=e.className,A=e.onResize,_=e.style,k=_===void 0?{}:_,C=N.useRef(null),O=N.useRef();O.current=A,N.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=N.useState({containerWidth:s.width,containerHeight:s.height}),R=lz(P,2),$=R[0],I=R[1],T=N.useCallback(function(H,Y){I(function(q){var U=Math.round(H),F=Math.round(Y);return q.containerWidth===U&&q.containerHeight===F?q:{containerWidth:U,containerHeight:F}})},[]);N.useEffect(function(){var H=function(X){var z,B=X[0].contentRect,L=B.width,G=B.height;T(L,G),(z=O.current)===null||z===void 0||z.call(O,L,G)};j>0&&(H=u_(H,j,{trailing:!0,leading:!1}));var Y=new ResizeObserver(H),q=C.current.getBoundingClientRect(),U=q.width,F=q.height;return T(U,F),Y.observe(C.current),function(){Y.disconnect()}},[T,j]);var M=N.useMemo(function(){var H=$.containerWidth,Y=$.containerHeight;if(H<0||Y<0)return null;dn(Ns(l)||Ns(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),dn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Ns(l)?H:l,U=Ns(d)?Y:d;r&&r>0&&(q?U=q/r:U&&(q=U*r),x&&U>x&&(U=x)),dn(q>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,U,l,d,p,m,r);var F=!Array.isArray(b)&&Jn(b.type).endsWith("Chart");return V.Children.map(b,function(W){return V.isValidElement(W)?N.cloneElement(W,wd({width:q,height:U},F?{style:wd({height:"100%",width:"100%",maxHeight:U,maxWidth:q},W.props.style)}:{})):W})},[r,b,d,x,m,p,$,l]);return V.createElement("div",{id:y?"".concat(y):void 0,className:ze("recharts-responsive-container",S),style:wd(wd({},k),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:x}),ref:C},M)}),mh=function(t){return null};mh.displayName="Cell";function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e,t,r){return t=mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=pz(e,"string");return ic(t)=="symbol"?t:t+""}function pz(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi={widthCache:{},cacheCount:0},gz=2e3,xz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AC="recharts_measurement_span";function yz(e){var t=$v({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Js.isSsr)return{width:0,height:0};var n=yz(r),s=JSON.stringify({text:t,copyStyle:n});if(Oi.widthCache[s])return Oi.widthCache[s];try{var i=document.getElementById(AC);i||(i=document.createElement("span"),i.setAttribute("id",AC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=$v($v({},xz),n);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Oi.widthCache[s]=d,++Oi.cacheCount>gz&&(Oi.cacheCount=0,Oi.widthCache={}),d}catch{return{width:0,height:0}}},vz=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function tf(e,t){return Nz(e)||wz(e,t)||jz(e,t)||bz()}function bz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Nz(e){if(Array.isArray(e))return e}function Sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cz(n.key),n)}}function kz(e,t,r){return t&&_C(e.prototype,t),r&&_C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cz(e){var t=Oz(e,"string");return oc(t)=="symbol"?t:t+""}function Oz(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Az=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,d_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ez=Object.keys(d_),Ti="NaN";function _z(e,t){return e*d_[t]}var Nd=(function(){function e(t,r){Sz(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Pz.test(r)&&(this.num=NaN,this.unit=""),Ez.includes(r)&&(this.num=_z(t,r),this.unit="px")}return kz(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Az.exec(r))!==null&&n!==void 0?n:[],i=tf(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function f_(e){if(e.includes(Ti))return Ti;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TC.exec(t))!==null&&r!==void 0?r:[],s=tf(n,4),i=s[1],l=s[2],u=s[3],d=Nd.parse(i??""),f=Nd.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Ti;t=t.replace(TC,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=RC.exec(t))!==null&&m!==void 0?m:[],b=tf(x,4),v=b[1],j=b[2],y=b[3],S=Nd.parse(v??""),A=Nd.parse(y??""),_=j==="+"?S.add(A):S.subtract(A);if(_.isNaN())return Ti;t=t.replace(RC,_.toString())}return t}var MC=/\(([^()]*)\)/;function Tz(e){for(var t=e;t.includes("(");){var r=MC.exec(t),n=tf(r,2),s=n[1];t=t.replace(MC,f_(s))}return t}function Rz(e){var t=e.replace(/\s+/g,"");return t=Tz(t),t=f_(t),t}function Mz(e){try{return Rz(e)}catch{return Ti}}function Q0(e){var t=Mz(e.slice(5,-1));return t===Ti?"":t}var Iz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$z=["dx","dy","angle","className","breakAll"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function IC(e,t){if(e==null)return{};var r=Dz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $C(e,t){return zz(e)||Bz(e,t)||Fz(e,t)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fz(e,t){if(e){if(typeof e=="string")return DC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(e,t)}}function DC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function zz(e){if(Array.isArray(e))return e}var h_=/[ \f\n\r\t\v\u2028\u2029]+/,m_=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];Le(r)||(n?i=r.toString().split(""):i=r.toString().split(h_));var l=i.map(function(d){return{word:d,width:Wl(d,s).width}}),u=n?0:Wl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},qz=function(t,r,n,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=pe(l),m=u,x=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(U,F){var W=F.word,X=F.width,z=U[U.length-1];if(z&&(s==null||i||z.width+X+n<Number(s)))z.words.push(W),z.width+=X+n;else{var B={words:[W],width:X};U.push(B)}return U},[])},b=x(r),v=function(q){return q.reduce(function(U,F){return U.width>F.width?U:F})};if(!p)return b;for(var j="",y=function(q){var U=m.slice(0,q),F=m_({breakAll:f,style:d,children:U+j}).wordsWithComputedWidth,W=x(F),X=W.length>l||v(W).width>Number(s);return[X,W]},S=0,A=m.length-1,_=0,k;S<=A&&_<=m.length-1;){var C=Math.floor((S+A)/2),O=C-1,P=y(O),R=$C(P,2),$=R[0],I=R[1],T=y(C),M=$C(T,1),H=M[0];if(!$&&!H&&(S=C+1),$&&H&&(A=C-1),!$&&H){k=I;break}_++}return k||b},LC=function(t){var r=Le(t)?[]:t.toString().split(h_);return[{words:r}]},Uz=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Js.isSsr){var d,f,p=m_({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,x=p.spaceWidth;d=m,f=x}else return LC(s);return qz({breakAll:l,children:s,maxLines:u,style:i},d,f,r,n)}return LC(s)},FC="#808080",Hs=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,x=t.textAnchor,b=x===void 0?"start":x,v=t.verticalAnchor,j=v===void 0?"end":v,y=t.fill,S=y===void 0?FC:y,A=IC(t,Iz),_=N.useMemo(function(){return Uz({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),k=A.dx,C=A.dy,O=A.angle,P=A.className,R=A.breakAll,$=IC(A,$z);if(!Mt(n)||!Mt(i))return null;var I=n+(pe(k)?k:0),T=i+(pe(C)?C:0),M;switch(j){case"start":M=Q0("calc(".concat(f,")"));break;case"middle":M=Q0("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:M=Q0("calc(".concat(_.length-1," * -").concat(u,")"));break}var H=[];if(m){var Y=_[0].width,q=A.width;H.push("scale(".concat((pe(q)?q/Y:1)/Y,")"))}return O&&H.push("rotate(".concat(O,", ").concat(I,", ").concat(T,")")),H.length&&($.transform=H.join(" ")),V.createElement("text",Dv({},_e($,!0),{x:I,y:T,className:ze("recharts-text",P),textAnchor:b,fill:S.includes("url")?FC:S}),_.map(function(U,F){var W=U.words.join(R?"":" ");return V.createElement("tspan",{x:I,dy:F===0?M:u,key:"".concat(W,"-").concat(F)},W)}))};function Ka(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kj(e){let t,r,n;e.length!==2?(t=Ka,r=(u,d)=>Ka(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ka||e===Wz?e:Hz,r=e,n=e);function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,d,f=0,p=u.length){const m=s(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:s,center:l,right:i}}function Hz(){return 0}function p_(e){return e===null?NaN:+e}function*Kz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gz=kj(Ka),Yc=Gz.right;kj(p_).center;class BC extends Map{constructor(t,r=Yz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(zC(this,t))}has(t){return super.has(zC(this,t))}set(t,r){return super.set(Vz(this,t),r)}delete(t){return super.delete(Qz(this,t))}}function zC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Vz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Qz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Yz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xz(e=Ka){if(e===Ka)return g_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function g_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jz=Math.sqrt(50),Zz=Math.sqrt(10),eq=Math.sqrt(2);function rf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),l=i>=Jz?10:i>=Zz?5:i>=eq?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?rf(e,t,r*2):[u,d,f]}function Lv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,l]=n?rf(t,e,r):rf(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function Fv(e,t,r){return t=+t,e=+e,r=+r,rf(e,t,r)[2]}function Bv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Fv(t,e,r):Fv(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function qC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function x_(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?g_:Xz(s);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*m/d+x)),v=Math.min(n,Math.floor(t+(d-f)*m/d+x));x_(e,t,b,v,s)}const i=e[t];let l=r,u=n;for(El(e,r,t),s(e[n],i)>0&&El(e,r,n);l<u;){for(El(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?El(e,r,u):(++u,El(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function El(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tq(e,t,r){if(e=Float64Array.from(Kz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UC(e);if(t>=1)return qC(e);var n,s=(n-1)*t,i=Math.floor(s),l=qC(x_(e,i).subarray(0,i+1)),u=UC(e.subarray(i+1));return l+(u-l)*(s-i)}}function rq(e,t,r=p_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function nq(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function la(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zv=Symbol("implicit");function Cj(){var e=new BC,t=[],r=[],n=zv;function s(i){let l=e.get(i);if(l===void 0){if(n!==zv)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Cj(t,r).unknown(n)},Vr.apply(s,arguments),s}function lc(){var e=Cj().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var x=t().length,b=s<n,v=b?s:n,j=b?n:s;i=(j-v)/Math.max(1,x-d+f*2),u&&(i=Math.floor(i)),v+=(j-v-i*(x-d))*p,l=i*(1-d),u&&(v=Math.round(v),l=Math.round(l));var y=nq(x).map(function(S){return v+i*S});return r(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),m()):p},e.copy=function(){return lc(t(),[n,s]).round(u).paddingInner(d).paddingOuter(f).align(p)},Vr.apply(m(),arguments)}function y_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return y_(t())},e}function Hl(){return y_(lc.apply(null,arguments).paddingInner(1))}function Oj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function v_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xc(){}var cc=.7,nf=1/cc,Li="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aq=/^#([0-9a-f]{3,8})$/,sq=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),iq=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),oq=new RegExp(`^rgba\\(${Li},${Li},${Li},${uc}\\)$`),lq=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${uc}\\)$`),cq=new RegExp(`^hsl\\(${uc},${Cn},${Cn}\\)$`),uq=new RegExp(`^hsla\\(${uc},${Cn},${Cn},${uc}\\)$`),WC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oj(Xc,dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HC,formatHex:HC,formatHex8:dq,formatHsl:fq,formatRgb:KC,toString:KC});function HC(){return this.rgb().formatHex()}function dq(){return this.rgb().formatHex8()}function fq(){return b_(this).formatHsl()}function KC(){return this.rgb().formatRgb()}function dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GC(t):r===3?new xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sq.exec(e))?new xr(t[1],t[2],t[3],1):(t=iq.exec(e))?new xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oq.exec(e))?Sd(t[1],t[2],t[3],t[4]):(t=lq.exec(e))?Sd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cq.exec(e))?YC(t[1],t[2]/100,t[3]/100,1):(t=uq.exec(e))?YC(t[1],t[2]/100,t[3]/100,t[4]):WC.hasOwnProperty(e)?GC(WC[e]):e==="transparent"?new xr(NaN,NaN,NaN,0):null}function GC(e){return new xr(e>>16&255,e>>8&255,e&255,1)}function Sd(e,t,r,n){return n<=0&&(e=t=r=NaN),new xr(e,t,r,n)}function hq(e){return e instanceof Xc||(e=dc(e)),e?(e=e.rgb(),new xr(e.r,e.g,e.b,e.opacity)):new xr}function qv(e,t,r,n){return arguments.length===1?hq(e):new xr(e,t,r,n??1)}function xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Oj(xr,qv,v_(Xc,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xr(Ls(this.r),Ls(this.g),Ls(this.b),af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:mq,formatRgb:QC,toString:QC}));function VC(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}`}function mq(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}${Ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function QC(){const e=af(this.opacity);return`${e===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${e===1?")":`, ${e})`}`}function af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ss(e){return e=Ls(e),(e<16?"0":"")+e.toString(16)}function YC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,r,n)}function b_(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof Xc||(e=dc(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new un(l,u,d,e.opacity)}function pq(e,t,r,n){return arguments.length===1?b_(e):new un(e,t,r,n??1)}function un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Oj(un,pq,v_(Xc,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new xr(Y0(e>=240?e-240:e+120,s,n),Y0(e,s,n),Y0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new un(XC(this.h),kd(this.s),kd(this.l),af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=af(this.opacity);return`${e===1?"hsl(":"hsla("}${XC(this.h)}, ${kd(this.s)*100}%, ${kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XC(e){return e=(e||0)%360,e<0?e+360:e}function kd(e){return Math.max(0,Math.min(1,e||0))}function Y0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pj=e=>()=>e;function gq(e,t){return function(r){return e+r*t}}function xq(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yq(e){return(e=+e)==1?j_:function(t,r){return r-t?xq(t,r,e):Pj(isNaN(t)?r:t)}}function j_(e,t){var r=t-e;return r?gq(e,r):Pj(isNaN(e)?t:e)}const JC=(function e(t){var r=yq(t);function n(s,i){var l=r((s=qv(s)).r,(i=qv(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=j_(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return n.gamma=e,n})(1);function vq(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function bq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jq(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)s[l]=Io(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<n;++l)i[l]=s[l](u);return i}}function wq(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Nq(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Io(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X0=new RegExp(Uv.source,"g");function Sq(e){return function(){return e}}function kq(e){return function(t){return e(t)+""}}function Cq(e,t){var r=Uv.lastIndex=X0.lastIndex=0,n,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Uv.exec(e))&&(s=X0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:sf(n,s)})),r=X0.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?kq(d[0].x):Sq(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function Io(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pj(t):(r==="number"?sf:r==="string"?(n=dc(t))?(t=n,JC):Cq:t instanceof dc?JC:t instanceof Date?wq:bq(t)?vq:Array.isArray(t)?jq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nq:sf)(e,t)}function Aj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Oq(e,t){t===void 0&&(t=e,e=Io);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function Pq(e){return function(){return e}}function of(e){return+e}var ZC=[0,1];function or(e){return e}function Wv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pq(isNaN(t)?NaN:.5)}function Aq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Eq(e,t,r){var n=e[0],s=e[1],i=t[0],l=t[1];return s<n?(n=Wv(s,n),i=r(l,i)):(n=Wv(n,s),i=r(i,l)),function(u){return i(n(u))}}function _q(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=Wv(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=Yc(e,u,1,n)-1;return i[d](s[d](u))}}function Jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=ZC,t=ZC,r=Io,n,s,i,l=or,u,d,f;function p(){var x=Math.min(e.length,t.length);return l!==or&&(l=Aq(e[0],e[x-1])),u=x>2?_q:Eq,d=f=null,m}function m(x){return x==null||isNaN(x=+x)?i:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return m.invert=function(x){return l(s((f||(f=u(t,e.map(n),sf)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,of),p()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=Aj,p()},m.clamp=function(x){return arguments.length?(l=x?!0:or,p()):l!==or},m.interpolate=function(x){return arguments.length?(r=x,p()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,b){return n=x,s=b,p()}}function Ej(){return ph()(or,or)}function Tq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ao(e){return e=lf(Math.abs(e)),e?e[1]:NaN}function Rq(e,t){return function(r,n){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Mq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Iq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(e){if(!(t=Iq.exec(e)))throw new Error("invalid format: "+e);var t;return new _j({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fc.prototype=_j.prototype;function _j(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $q(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var cf;function Dq(e,t){var r=lf(e,t);if(!r)return cf=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(cf=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lf(e,Math.max(0,t+i-1))[0]}function eO(e,t){var r=lf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const tO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eO(e*100,t),r:eO,s:Dq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rO(e){return e}var nO=Array.prototype.map,aO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lq(e){var t=e.grouping===void 0||e.thousands===void 0?rO:Rq(nO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rO:Mq(nO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,x){m=fc(m);var b=m.fill,v=m.align,j=m.sign,y=m.symbol,S=m.zero,A=m.width,_=m.comma,k=m.precision,C=m.trim,O=m.type;O==="n"?(_=!0,O="g"):tO[O]||(k===void 0&&(k=12),C=!0,O="g"),(S||b==="0"&&v==="=")&&(S=!0,b="0",v="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),R=(y==="$"?n:/[%p]/.test(O)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),$=tO[O],I=/[defgprs%]/.test(O);k=k===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function T(M){var H=P,Y=R,q,U,F;if(O==="c")Y=$(M)+Y,M="";else{M=+M;var W=M<0||1/M<0;if(M=isNaN(M)?d:$(Math.abs(M),k),C&&(M=$q(M)),W&&+M==0&&j!=="+"&&(W=!1),H=(W?j==="("?j:u:j==="-"||j==="("?"":j)+H,Y=(O==="s"&&!isNaN(M)&&cf!==void 0?aO[8+cf/3]:"")+Y+(W&&j==="("?")":""),I){for(q=-1,U=M.length;++q<U;)if(F=M.charCodeAt(q),48>F||F>57){Y=(F===46?s+M.slice(q+1):M.slice(q))+Y,M=M.slice(0,q);break}}}_&&!S&&(M=t(M,1/0));var X=H.length+M.length+Y.length,z=X<A?new Array(A-X+1).join(b):"";switch(_&&S&&(M=t(z+M,z.length?A-Y.length:1/0),z=""),v){case"<":M=H+M+Y+z;break;case"=":M=H+z+M+Y;break;case"^":M=z.slice(0,X=z.length>>1)+H+M+Y+z.slice(X);break;default:M=z+H+M+Y;break}return i(M)}return T.toString=function(){return m+""},T}function p(m,x){var b=Math.max(-8,Math.min(8,Math.floor(ao(x)/3)))*3,v=Math.pow(10,-b),j=f((m=fc(m),m.type="f",m),{suffix:aO[8+b/3]});return function(y){return j(v*y)}}return{format:f,formatPrefix:p}}var Cd,Tj,w_;Fq({thousands:",",grouping:[3],currency:["$",""]});function Fq(e){return Cd=Lq(e),Tj=Cd.format,w_=Cd.formatPrefix,Cd}function Bq(e){return Math.max(0,-ao(Math.abs(e)))}function zq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ao(t)/3)))*3-ao(Math.abs(e)))}function qq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ao(t)-ao(e))+1}function N_(e,t,r,n){var s=Bv(e,t,r),i;switch(n=fc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=zq(s,l))&&(n.precision=i),w_(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=qq(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Bq(s))&&(n.precision=i-(n.type==="%")*2);break}}return Tj(n)}function Za(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return N_(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,l=n[s],u=n[i],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);p-- >0;){if(f=Fv(l,u,r),f===d)return n[s]=l,n[i]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function uf(){var e=Ej();return e.copy=function(){return Jc(e,uf())},Vr.apply(e,arguments),Za(e)}function S_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,of),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return S_(e).unknown(t)},e=arguments.length?Array.from(e,of):[0,1],Za(r)}function k_(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],l;return i<s&&(l=r,r=n,n=l,l=s,s=i,i=l),e[r]=t.floor(s),e[n]=t.ceil(i),e}function sO(e){return Math.log(e)}function iO(e){return Math.exp(e)}function Uq(e){return-Math.log(-e)}function Wq(e){return-Math.exp(-e)}function Hq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kq(e){return e===10?Hq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oO(e){return(t,r)=>-e(-t,r)}function Rj(e){const t=e(sO,iO),r=t.domain;let n=10,s,i;function l(){return s=Gq(n),i=Kq(n),r()[0]<0?(s=oO(s),i=oO(i),e(Uq,Wq)):e(sO,iO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let x=s(f),b=s(p),v,j;const y=u==null?10:+u;let S=[];if(!(n%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),f>0){for(;x<=b;++x)for(v=1;v<n;++v)if(j=x<0?v/i(-x):v*i(x),!(j<f)){if(j>p)break;S.push(j)}}else for(;x<=b;++x)for(v=n-1;v>=1;--v)if(j=x>0?v/i(-x):v*i(x),!(j<f)){if(j>p)break;S.push(j)}S.length*2<y&&(S=Lv(f,p,y))}else S=Lv(x,b,Math.min(b-x,y)).map(i);return m?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=fc(d)).precision==null&&(d.trim=!0),d=Tj(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},t.nice=()=>r(k_(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function C_(){const e=Rj(ph()).domain([1,10]);return e.copy=()=>Jc(e,C_()).base(e.base()),Vr.apply(e,arguments),e}function lO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mj(e){var t=1,r=e(lO(t),cO(t));return r.constant=function(n){return arguments.length?e(lO(t=+n),cO(t)):t},Za(r)}function O_(){var e=Mj(ph());return e.copy=function(){return Jc(e,O_()).constant(e.constant())},Vr.apply(e,arguments)}function uO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qq(e){return e<0?-e*e:e*e}function Ij(e){var t=e(or,or),r=1;function n(){return r===1?e(or,or):r===.5?e(Vq,Qq):e(uO(r),uO(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Za(t)}function $j(){var e=Ij(ph());return e.copy=function(){return Jc(e,$j()).exponent(e.exponent())},Vr.apply(e,arguments),e}function Yq(){return $j.apply(null,arguments).exponent(.5)}function dO(e){return Math.sign(e)*e*e}function Xq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function P_(){var e=Ej(),t=[0,1],r=!1,n;function s(i){var l=Xq(e(i));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(i){return e.invert(dO(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,of)).map(dO)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return P_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vr.apply(s,arguments),Za(s)}function A_(){var e=[],t=[],r=[],n;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=rq(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Yc(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ka),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return A_().domain(e).range(t).unknown(n)},Vr.apply(i,arguments)}function E_(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[Yc(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return E_().domain([e,t]).range(s).unknown(i)},Vr.apply(Za(l),arguments)}function __(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Yc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return __().domain(e).range(t).unknown(r)},Vr.apply(s,arguments)}const J0=new Date,Z0=new Date;function It(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>It(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(J0.setTime(+i),Z0.setTime(+l),e(J0),e(Z0),Math.floor(r(J0,Z0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?l=>n(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const df=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);df.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):df);df.range;const Qn=1e3,Kr=Qn*60,Yn=Kr*60,ra=Yn*24,Dj=ra*7,fO=ra*30,ey=ra*365,ks=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCSeconds());ks.range;const Lj=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());Lj.range;const Fj=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());Fj.range;const Bj=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getHours());Bj.range;const zj=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCHours());zj.range;const Zc=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/ra,e=>e.getDate()-1);Zc.range;const gh=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);gh.range;const T_=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));T_.range;function Zs(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Dj)}const xh=Zs(0),ff=Zs(1),Jq=Zs(2),Zq=Zs(3),so=Zs(4),eU=Zs(5),tU=Zs(6);xh.range;ff.range;Jq.range;Zq.range;so.range;eU.range;tU.range;function ei(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dj)}const yh=ei(0),hf=ei(1),rU=ei(2),nU=ei(3),io=ei(4),aU=ei(5),sU=ei(6);yh.range;hf.range;rU.range;nU.range;io.range;aU.range;sU.range;const qj=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qj.range;const Uj=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Uj.range;const na=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});na.range;const aa=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});aa.range;function R_(e,t,r,n,s,i){const l=[[ks,1,Qn],[ks,5,5*Qn],[ks,15,15*Qn],[ks,30,30*Qn],[i,1,Kr],[i,5,5*Kr],[i,15,15*Kr],[i,30,30*Kr],[s,1,Yn],[s,3,3*Yn],[s,6,6*Yn],[s,12,12*Yn],[n,1,ra],[n,2,2*ra],[r,1,Dj],[t,1,fO],[t,3,3*fO],[e,1,ey]];function u(f,p,m){const x=p<f;x&&([f,p]=[p,f]);const b=m&&typeof m.range=="function"?m:d(f,p,m),v=b?b.range(f,+p+1):[];return x?v.reverse():v}function d(f,p,m){const x=Math.abs(p-f)/m,b=kj(([,,y])=>y).right(l,x);if(b===l.length)return e.every(Bv(f/ey,p/ey,m));if(b===0)return df.every(Math.max(Bv(f,p,m),1));const[v,j]=l[x/l[b-1][2]<l[b][2]/x?b-1:b];return v.every(j)}return[u,d]}const[iU,oU]=R_(aa,Uj,yh,T_,zj,Fj),[lU,cU]=R_(na,qj,xh,Zc,Bj,Lj);function ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _l(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uU(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Tl(s),p=Rl(s),m=Tl(i),x=Rl(i),b=Tl(l),v=Rl(l),j=Tl(u),y=Rl(u),S=Tl(d),A=Rl(d),_={a:F,A:W,b:X,B:z,c:null,d:yO,e:yO,f:RU,g:UU,G:HU,H:EU,I:_U,j:TU,L:M_,m:MU,M:IU,p:B,q:L,Q:jO,s:wO,S:$U,u:DU,U:LU,V:FU,w:BU,W:zU,x:null,X:null,y:qU,Y:WU,Z:KU,"%":bO},k={a:G,A:ee,b:ue,B:ge,c:null,d:vO,e:vO,f:YU,g:iW,G:lW,H:GU,I:VU,j:QU,L:$_,m:XU,M:JU,p:ie,q:xe,Q:jO,s:wO,S:ZU,u:eW,U:tW,V:rW,w:nW,W:aW,x:null,X:null,y:sW,Y:oW,Z:cW,"%":bO},C={a:I,A:T,b:M,B:H,c:Y,d:gO,e:gO,f:CU,g:pO,G:mO,H:xO,I:xO,j:wU,L:kU,m:jU,M:NU,p:$,q:bU,Q:PU,s:AU,S:SU,u:pU,U:gU,V:xU,w:mU,W:yU,x:q,X:U,y:pO,Y:mO,Z:vU,"%":OU};_.x=O(r,_),_.X=O(n,_),_.c=O(t,_),k.x=O(r,k),k.X=O(n,k),k.c=O(t,k);function O(ce,Oe){return function(Re){var te=[],be=-1,je=0,tt=ce.length,gt,$t,Qr;for(Re instanceof Date||(Re=new Date(+Re));++be<tt;)ce.charCodeAt(be)===37&&(te.push(ce.slice(je,be)),($t=hO[gt=ce.charAt(++be)])!=null?gt=ce.charAt(++be):$t=gt==="e"?" ":"0",(Qr=Oe[gt])&&(gt=Qr(Re,$t)),te.push(gt),je=be+1);return te.push(ce.slice(je,be)),te.join("")}}function P(ce,Oe){return function(Re){var te=_l(1900,void 0,1),be=R(te,ce,Re+="",0),je,tt;if(be!=Re.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Oe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(je=ry(_l(te.y,0,1)),tt=je.getUTCDay(),je=tt>4||tt===0?hf.ceil(je):hf(je),je=gh.offset(je,(te.V-1)*7),te.y=je.getUTCFullYear(),te.m=je.getUTCMonth(),te.d=je.getUTCDate()+(te.w+6)%7):(je=ty(_l(te.y,0,1)),tt=je.getDay(),je=tt>4||tt===0?ff.ceil(je):ff(je),je=Zc.offset(je,(te.V-1)*7),te.y=je.getFullYear(),te.m=je.getMonth(),te.d=je.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),tt="Z"in te?ry(_l(te.y,0,1)).getUTCDay():ty(_l(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(tt+5)%7:te.w+te.U*7-(tt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,ry(te)):ty(te)}}function R(ce,Oe,Re,te){for(var be=0,je=Oe.length,tt=Re.length,gt,$t;be<je;){if(te>=tt)return-1;if(gt=Oe.charCodeAt(be++),gt===37){if(gt=Oe.charAt(be++),$t=C[gt in hO?Oe.charAt(be++):gt],!$t||(te=$t(ce,Re,te))<0)return-1}else if(gt!=Re.charCodeAt(te++))return-1}return te}function $(ce,Oe,Re){var te=f.exec(Oe.slice(Re));return te?(ce.p=p.get(te[0].toLowerCase()),Re+te[0].length):-1}function I(ce,Oe,Re){var te=b.exec(Oe.slice(Re));return te?(ce.w=v.get(te[0].toLowerCase()),Re+te[0].length):-1}function T(ce,Oe,Re){var te=m.exec(Oe.slice(Re));return te?(ce.w=x.get(te[0].toLowerCase()),Re+te[0].length):-1}function M(ce,Oe,Re){var te=S.exec(Oe.slice(Re));return te?(ce.m=A.get(te[0].toLowerCase()),Re+te[0].length):-1}function H(ce,Oe,Re){var te=j.exec(Oe.slice(Re));return te?(ce.m=y.get(te[0].toLowerCase()),Re+te[0].length):-1}function Y(ce,Oe,Re){return R(ce,t,Oe,Re)}function q(ce,Oe,Re){return R(ce,r,Oe,Re)}function U(ce,Oe,Re){return R(ce,n,Oe,Re)}function F(ce){return l[ce.getDay()]}function W(ce){return i[ce.getDay()]}function X(ce){return d[ce.getMonth()]}function z(ce){return u[ce.getMonth()]}function B(ce){return s[+(ce.getHours()>=12)]}function L(ce){return 1+~~(ce.getMonth()/3)}function G(ce){return l[ce.getUTCDay()]}function ee(ce){return i[ce.getUTCDay()]}function ue(ce){return d[ce.getUTCMonth()]}function ge(ce){return u[ce.getUTCMonth()]}function ie(ce){return s[+(ce.getUTCHours()>=12)]}function xe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Oe=O(ce+="",_);return Oe.toString=function(){return ce},Oe},parse:function(ce){var Oe=P(ce+="",!1);return Oe.toString=function(){return ce},Oe},utcFormat:function(ce){var Oe=O(ce+="",k);return Oe.toString=function(){return ce},Oe},utcParse:function(ce){var Oe=P(ce+="",!0);return Oe.toString=function(){return ce},Oe}}}var hO={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,dU=/^%/,fU=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function hU(e){return e.replace(fU,"\\$&")}function Tl(e){return new RegExp("^(?:"+e.map(hU).join("|")+")","i")}function Rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mU(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pU(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mO(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pO(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bU(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gO(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wU(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function NU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SU(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kU(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function CU(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OU(e,t,r){var n=dU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PU(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function AU(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yO(e,t){return Qe(e.getDate(),t,2)}function EU(e,t){return Qe(e.getHours(),t,2)}function _U(e,t){return Qe(e.getHours()%12||12,t,2)}function TU(e,t){return Qe(1+Zc.count(na(e),e),t,3)}function M_(e,t){return Qe(e.getMilliseconds(),t,3)}function RU(e,t){return M_(e,t)+"000"}function MU(e,t){return Qe(e.getMonth()+1,t,2)}function IU(e,t){return Qe(e.getMinutes(),t,2)}function $U(e,t){return Qe(e.getSeconds(),t,2)}function DU(e){var t=e.getDay();return t===0?7:t}function LU(e,t){return Qe(xh.count(na(e)-1,e),t,2)}function I_(e){var t=e.getDay();return t>=4||t===0?so(e):so.ceil(e)}function FU(e,t){return e=I_(e),Qe(so.count(na(e),e)+(na(e).getDay()===4),t,2)}function BU(e){return e.getDay()}function zU(e,t){return Qe(ff.count(na(e)-1,e),t,2)}function qU(e,t){return Qe(e.getFullYear()%100,t,2)}function UU(e,t){return e=I_(e),Qe(e.getFullYear()%100,t,2)}function WU(e,t){return Qe(e.getFullYear()%1e4,t,4)}function HU(e,t){var r=e.getDay();return e=r>=4||r===0?so(e):so.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function KU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function vO(e,t){return Qe(e.getUTCDate(),t,2)}function GU(e,t){return Qe(e.getUTCHours(),t,2)}function VU(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function QU(e,t){return Qe(1+gh.count(aa(e),e),t,3)}function $_(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function YU(e,t){return $_(e,t)+"000"}function XU(e,t){return Qe(e.getUTCMonth()+1,t,2)}function JU(e,t){return Qe(e.getUTCMinutes(),t,2)}function ZU(e,t){return Qe(e.getUTCSeconds(),t,2)}function eW(e){var t=e.getUTCDay();return t===0?7:t}function tW(e,t){return Qe(yh.count(aa(e)-1,e),t,2)}function D_(e){var t=e.getUTCDay();return t>=4||t===0?io(e):io.ceil(e)}function rW(e,t){return e=D_(e),Qe(io.count(aa(e),e)+(aa(e).getUTCDay()===4),t,2)}function nW(e){return e.getUTCDay()}function aW(e,t){return Qe(hf.count(aa(e)-1,e),t,2)}function sW(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function iW(e,t){return e=D_(e),Qe(e.getUTCFullYear()%100,t,2)}function oW(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function lW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?io(e):io.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function cW(){return"+0000"}function bO(){return"%"}function jO(e){return+e}function wO(e){return Math.floor(+e/1e3)}var Pi,L_,F_;uW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uW(e){return Pi=uU(e),L_=Pi.format,Pi.parse,F_=Pi.utcFormat,Pi.utcParse,Pi}function dW(e){return new Date(e)}function fW(e){return e instanceof Date?+e:+new Date(+e)}function Wj(e,t,r,n,s,i,l,u,d,f){var p=Ej(),m=p.invert,x=p.domain,b=f(".%L"),v=f(":%S"),j=f("%I:%M"),y=f("%I %p"),S=f("%a %d"),A=f("%b %d"),_=f("%B"),k=f("%Y");function C(O){return(d(O)<O?b:u(O)<O?v:l(O)<O?j:i(O)<O?y:n(O)<O?s(O)<O?S:A:r(O)<O?_:k)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?x(Array.from(O,fW)):x().map(dW)},p.ticks=function(O){var P=x();return e(P[0],P[P.length-1],O??10)},p.tickFormat=function(O,P){return P==null?C:f(P)},p.nice=function(O){var P=x();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?x(k_(P,O)):p},p.copy=function(){return Jc(p,Wj(e,t,r,n,s,i,l,u,d,f))},p}function hW(){return Vr.apply(Wj(lU,cU,na,qj,xh,Zc,Bj,Lj,ks,L_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mW(){return Vr.apply(Wj(iU,oU,aa,Uj,yh,gh,zj,Fj,ks,F_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var e=0,t=1,r,n,s,i,l=or,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(i(m)-r)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(x){var b,v;return arguments.length?([b,v]=x,l=m(b,v),f):[l(0),l(1)]}}return f.range=p(Io),f.rangeRound=p(Aj),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),f}}function es(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B_(){var e=Za(vh()(or));return e.copy=function(){return es(e,B_())},la.apply(e,arguments)}function z_(){var e=Rj(vh()).domain([1,10]);return e.copy=function(){return es(e,z_()).base(e.base())},la.apply(e,arguments)}function q_(){var e=Mj(vh());return e.copy=function(){return es(e,q_()).constant(e.constant())},la.apply(e,arguments)}function Hj(){var e=Ij(vh());return e.copy=function(){return es(e,Hj()).exponent(e.exponent())},la.apply(e,arguments)}function pW(){return Hj.apply(null,arguments).exponent(.5)}function U_(){var e=[],t=or;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ka),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>tq(e,i/n))},r.copy=function(){return U_(t).domain(e)},la.apply(r,arguments)}function bh(){var e=0,t=.5,r=1,n=1,s,i,l,u,d,f=or,p,m=!1,x;function b(j){return isNaN(j=+j)?x:(j=.5+((j=+p(j))-i)*(n*j<n*i?u:d),f(m?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,r]=j,s=p(e=+e),i=p(t=+t),l=p(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),n=i<s?-1:1,b):[e,t,r]},b.clamp=function(j){return arguments.length?(m=!!j,b):m},b.interpolator=function(j){return arguments.length?(f=j,b):f};function v(j){return function(y){var S,A,_;return arguments.length?([S,A,_]=y,f=Oq(j,[S,A,_]),b):[f(0),f(.5),f(1)]}}return b.range=v(Io),b.rangeRound=v(Aj),b.unknown=function(j){return arguments.length?(x=j,b):x},function(j){return p=j,s=j(e),i=j(t),l=j(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),n=i<s?-1:1,b}}function W_(){var e=Za(bh()(or));return e.copy=function(){return es(e,W_())},la.apply(e,arguments)}function H_(){var e=Rj(bh()).domain([.1,1,10]);return e.copy=function(){return es(e,H_()).base(e.base())},la.apply(e,arguments)}function K_(){var e=Mj(bh());return e.copy=function(){return es(e,K_()).constant(e.constant())},la.apply(e,arguments)}function Kj(){var e=Ij(bh());return e.copy=function(){return es(e,Kj()).exponent(e.exponent())},la.apply(e,arguments)}function gW(){return Kj.apply(null,arguments).exponent(.5)}const NO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lc,scaleDiverging:W_,scaleDivergingLog:H_,scaleDivergingPow:Kj,scaleDivergingSqrt:gW,scaleDivergingSymlog:K_,scaleIdentity:S_,scaleImplicit:zv,scaleLinear:uf,scaleLog:C_,scaleOrdinal:Cj,scalePoint:Hl,scalePow:$j,scaleQuantile:A_,scaleQuantize:E_,scaleRadial:P_,scaleSequential:B_,scaleSequentialLog:z_,scaleSequentialPow:Hj,scaleSequentialQuantile:U_,scaleSequentialSqrt:pW,scaleSequentialSymlog:q_,scaleSqrt:Yq,scaleSymlog:O_,scaleThreshold:__,scaleTime:hW,scaleUtc:mW,tickFormat:N_},Symbol.toStringTag,{value:"Module"}));var ny,SO;function jh(){if(SO)return ny;SO=1;var e=_o();function t(r,n,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return ny=t,ny}var ay,kO;function G_(){if(kO)return ay;kO=1;function e(t,r){return t>r}return ay=e,ay}var sy,CO;function xW(){if(CO)return sy;CO=1;var e=jh(),t=G_(),r=Mo();function n(s){return s&&s.length?e(s,r,t):void 0}return sy=n,sy}var yW=xW();const wh=Ze(yW);var iy,OO;function V_(){if(OO)return iy;OO=1;function e(t,r){return t<r}return iy=e,iy}var oy,PO;function vW(){if(PO)return oy;PO=1;var e=jh(),t=V_(),r=Mo();function n(s){return s&&s.length?e(s,r,t):void 0}return oy=n,oy}var bW=vW();const Nh=Ze(bW);var ly,AO;function jW(){if(AO)return ly;AO=1;var e=oj(),t=Tn(),r=n_(),n=br();function s(i,l){var u=n(i)?e:r;return u(i,t(l,3))}return ly=s,ly}var cy,EO;function wW(){if(EO)return cy;EO=1;var e=t_(),t=jW();function r(n,s){return e(t(n,s),1)}return cy=r,cy}var NW=wW();const SW=Ze(NW);var uy,_O;function kW(){if(_O)return uy;_O=1;var e=bj();function t(r,n){return e(r,n)}return uy=t,uy}var CW=kW();const eu=Ze(CW);var $o=1e9,OW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vj,ft=!0,Gr="[DecimalError] ",Fs=Gr+"Invalid argument: ",Gj=Gr+"Exponent out of range: ",Do=Math.floor,vs=Math.pow,PW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,zt=1e7,ut=7,Q_=9007199254740991,mf=Do(Q_/ut),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return Zn(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return nt(Zn(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Ct(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ar))throw Error(Gr+"NaN");if(r.s<1)throw Error(Gr+(r.s?"NaN":"-Infinity"));return r.eq(Ar)?new n(0):(ft=!1,t=Zn(hc(r,i),hc(e,i),i),ft=!0,nt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?J_(t,e):Y_(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Gr+"NaN");return r.s?(ft=!1,t=Zn(r,e,0,1).times(e),ft=!0,r.minus(t)):nt(new n(r),s)};Ne.naturalExponential=Ne.exp=function(){return X_(this)};Ne.naturalLogarithm=Ne.ln=function(){return hc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y_(t,e):J_(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fs+e);if(t=Ct(s)+1,n=s.d.length-1,r=n*ut+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Gr+"NaN")}for(e=Ct(u),ft=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=kn(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=n,n=i.plus(Zn(u,i,l+2)).times(.5),kn(i.d).slice(0,l)===(t=kn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(nt(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;l+=4}return ft=!0,nt(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,s,i,l,u,d,f,p=this,m=p.constructor,x=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=x.length,f=b.length,d<f&&(i=x,x=b,b=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,s=d+n;s>n;)u=i[s]+b[n]*x[s-n-1]+t,i[s--]=u%zt|0,t=u/zt|0;i[s]=(i[s]+t)%zt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ft?nt(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Pn(e,0,$o),t===void 0?t=n.rounding:Pn(t,0,8),nt(r,e+Ct(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ks(n,!0):(Pn(e,0,$o),t===void 0?t=s.rounding:Pn(t,0,8),n=nt(new s(n),e+1,t),r=Ks(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ks(s):(Pn(e,0,$o),t===void 0?t=i.rounding:Pn(t,0,8),n=nt(new i(s),e+Ct(s)+1,t),r=Ks(n.abs(),!1,e+Ct(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Ct(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,s,i,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Ar);if(u=new d(u),!u.s){if(e.s<1)throw Error(Gr+"Infinity");return u}if(u.eq(Ar))return u;if(n=d.precision,e.eq(Ar))return nt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=p<0?-p:p)<=Q_){for(s=new d(Ar),t=Math.ceil(n/ut+4),ft=!1;r%2&&(s=s.times(u),RO(s.d,t)),r=Do(r/2),r!==0;)u=u.times(u),RO(u.d,t);return ft=!0,e.s<0?new d(Ar).div(s):nt(s,n)}}else if(i<0)throw Error(Gr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ft=!1,s=e.times(hc(u,n+f)),ft=!0,s=X_(s),s.s=i,s};Ne.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ct(s),n=Ks(s,r<=i.toExpNeg||r>=i.toExpPos)):(Pn(e,1,$o),t===void 0?t=i.rounding:Pn(t,0,8),s=nt(new i(s),e,t),r=Ct(s),n=Ks(s,e<=r||r<=i.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Pn(e,1,$o),t===void 0?t=n.rounding:Pn(t,0,8)),nt(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return Ks(e,t<=r.toExpNeg||t>=r.toExpPos)};function Y_(e,t){var r,n,s,i,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ft?nt(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,s=l,u=d.length),l=Math.ceil(m/ut),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/zt|0,d[i]%=zt;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,ft?nt(t,m):t}function Pn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fs+e)}function kn(e){var t,r,n,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)n=e[t]+"",r=ut-n.length,r&&(i+=Ea(r)),i+=n;l=e[t],n=l+"",r=ut-n.length,r&&(i+=Ea(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Zn=(function(){function e(n,s){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*s+l,n[u]=i%zt|0,l=i/zt|0;return l&&n.unshift(l),n}function t(n,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=s[u]){d=n[u]>s[u]?1:-1;break}return d}function r(n,s,i){for(var l=0;i--;)n[i]-=l,l=n[i]<s[i]?1:0,n[i]=l*zt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,l){var u,d,f,p,m,x,b,v,j,y,S,A,_,k,C,O,P,R,$=n.constructor,I=n.s==s.s?1:-1,T=n.d,M=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(Gr+"Division by zero");for(d=n.e-s.e,P=M.length,C=T.length,b=new $(I),v=b.d=[],f=0;M[f]==(T[f]||0);)++f;if(M[f]>(T[f]||0)&&--d,i==null?A=i=$.precision:l?A=i+(Ct(n)-Ct(s))+1:A=i,A<0)return new $(0);if(A=A/ut+2|0,f=0,P==1)for(p=0,M=M[0],A++;(f<C||p)&&A--;f++)_=p*zt+(T[f]||0),v[f]=_/M|0,p=_%M|0;else{for(p=zt/(M[0]+1)|0,p>1&&(M=e(M,p),T=e(T,p),P=M.length,C=T.length),k=P,j=T.slice(0,P),y=j.length;y<P;)j[y++]=0;R=M.slice(),R.unshift(0),O=M[0],M[1]>=zt/2&&++O;do p=0,u=t(M,j,P,y),u<0?(S=j[0],P!=y&&(S=S*zt+(j[1]||0)),p=S/O|0,p>1?(p>=zt&&(p=zt-1),m=e(M,p),x=m.length,y=j.length,u=t(m,j,x,y),u==1&&(p--,r(m,P<x?R:M,x))):(p==0&&(u=p=1),m=M.slice()),x=m.length,x<y&&m.unshift(0),r(j,m,y),u==-1&&(y=j.length,u=t(M,j,P,y),u<1&&(p++,r(j,P<y?R:M,y))),y=j.length):u===0&&(p++,j=[0]),v[f++]=p,u&&j[0]?j[y++]=T[k]||0:(j=[T[k]],y=1);while((k++<C||j[0]!==void 0)&&A--)}return v[0]||v.shift(),b.e=d,nt(b,l?i+Ct(b)+1:i)}})();function X_(e,t){var r,n,s,i,l,u,d=0,f=0,p=e.constructor,m=p.precision;if(Ct(e)>16)throw Error(Gj+Ct(e));if(!e.s)return new p(Ar);for(ft=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(vs(2,f))/Math.LN10*2+5|0,u+=n,r=s=i=new p(Ar),p.precision=u;;){if(s=nt(s.times(e),u),r=r.times(++d),l=i.plus(Zn(s,r,u)),kn(l.d).slice(0,u)===kn(i.d).slice(0,u)){for(;f--;)i=nt(i.times(i),u);return p.precision=m,t==null?(ft=!0,nt(i,m)):i}i=l}}function Ct(e){for(var t=e.e*ut,r=e.d[0];r>=10;r/=10)t++;return t}function dy(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(Gr+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Ea(e){for(var t="";e--;)t+="0";return t}function hc(e,t){var r,n,s,i,l,u,d,f,p,m=1,x=10,b=e,v=b.d,j=b.constructor,y=j.precision;if(b.s<1)throw Error(Gr+(b.s?"NaN":"-Infinity"));if(b.eq(Ar))return new j(0);if(t==null?(ft=!1,f=y):f=t,b.eq(10))return t==null&&(ft=!0),dy(j,f);if(f+=x,j.precision=f,r=kn(v),n=r.charAt(0),i=Ct(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=kn(b.d),n=r.charAt(0),m++;i=Ct(b),n>1?(b=new j("0."+r),i++):b=new j(n+"."+r.slice(1))}else return d=dy(j,f+2,y).times(i+""),b=hc(new j(n+"."+r.slice(1)),f-x).plus(d),j.precision=y,t==null?(ft=!0,nt(b,y)):b;for(u=l=b=Zn(b.minus(Ar),b.plus(Ar),f),p=nt(b.times(b),f),s=3;;){if(l=nt(l.times(p),f),d=u.plus(Zn(l,new j(s),f)),kn(d.d).slice(0,f)===kn(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(dy(j,f+2,y).times(i+""))),u=Zn(u,new j(m),f),j.precision=y,t==null?(ft=!0,nt(u,y)):u;u=d,s+=2}}function TO(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Do(r/ut),e.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ut;n<s;)e.d.push(+t.slice(n,n+=ut));t=t.slice(n),n=ut-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ft&&(e.e>mf||e.e<-mf))throw Error(Gj+r)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,r){var n,s,i,l,u,d,f,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=ut,s=t,f=m[p=0];else{if(p=Math.ceil((n+1)/ut),i=m.length,p>=i)return e;for(f=i=m[p],l=1;i>=10;i/=10)l++;n%=ut,s=n-ut+l}if(r!==void 0&&(i=vs(10,l-s-1),u=f/i%10|0,d=t<0||m[p+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?s>0?f/vs(10,l-s):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=Ct(e),m.length=1,t=t-i-1,m[0]=vs(10,(ut-t%ut)%ut),e.e=Do(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=vs(10,ut-n),m[p]=s>0?(f/vs(10,l-s)%vs(10,s)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==zt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=zt)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(ft&&(e.e>mf||e.e<-mf))throw Error(Gj+Ct(e));return e}function J_(e,t){var r,n,s,i,l,u,d,f,p,m,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ft?nt(t,b):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,n=f,u=d.length),s=Math.max(Math.ceil(b/ut),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=zt-1;--d[i],d[s]+=zt}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ft?nt(t,b):t):new x(0)}function Ks(e,t,r){var n,s=Ct(e),i=kn(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ea(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ea(-s-1)+i,r&&(n=r-l)>0&&(i+=Ea(n))):s>=l?(i+=Ea(s+1-l),r&&(n=r-s-1)>0&&(i=i+"."+Ea(n))):((n=s+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(i+="."),i+=Ea(n))),e.s<0?"-"+i:i}function RO(e,t){if(e.length>t)return e.length=t,!0}function Z_(e){var t,r,n;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Fs+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return TO(l,i.toString())}else if(typeof i!="string")throw Error(Fs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,PW.test(i))TO(l,i);else throw Error(Fs+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Z_,s.config=s.set=AW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function AW(e){if(!e||typeof e!="object")throw Error(Gr+"Object expected");var t,r,n,s=["precision",1,$o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Do(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Fs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fs+r+": "+n);return this}var Vj=Z_(OW);Ar=new Vj(1);const rt=Vj;function EW(e){return MW(e)||RW(e)||TW(e)||_W()}function _W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(e,t){if(e){if(typeof e=="string")return Hv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hv(e,t)}}function RW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MW(e){if(Array.isArray(e))return Hv(e)}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IW=function(t){return t},e3={},t3=function(t){return t===e3},MO=function(t){return function r(){return arguments.length===0||arguments.length===1&&t3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$W=function e(t,r){return t===1?r:MO(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==e3}).length;return l>=t?r.apply(void 0,s):e(t-l,MO(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=s.map(function(m){return t3(m)?d.shift():m});return r.apply(void 0,EW(p).concat(d))}))})},Sh=function(t){return $W(t.length,t)},Kv=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},DW=Sh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),LW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IW;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Gv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},r3=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function FW(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function BW(e,t,r){for(var n=new rt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var zW=Sh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),qW=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UW=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kh={rangeStep:BW,getDigitCount:FW,interpolateNumber:zW,uninterpolateNumber:qW,uninterpolateTruncation:UW};function Vv(e){return KW(e)||HW(e)||n3(e)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function KW(e){if(Array.isArray(e))return Qv(e)}function mc(e,t){return QW(e)||VW(e,t)||n3(e,t)||GW()}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3(e,t){if(e){if(typeof e=="string")return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(e,t)}}function Qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){s=!0,i=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function QW(e){if(Array.isArray(e))return e}function a3(e){var t=mc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function s3(e,t,r){if(e.lte(0))return new rt(0);var n=kh.getDigitCount(e.toNumber()),s=new rt(10).pow(n),i=e.div(s),l=n!==1?.05:.1,u=new rt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new rt(Math.ceil(d))}function YW(e,t,r){var n=1,s=new rt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new rt(10).pow(kh.getDigitCount(e)-1),s=new rt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new rt(Math.floor(e)))}else e===0?s=new rt(Math.floor((t-1)/2)):r||(s=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=LW(DW(function(d){return s.add(new rt(d-l).mul(n)).toNumber()}),Kv);return u(0,t)}function i3(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var i=s3(new rt(t).sub(e).div(r-1),n,s),l;e<=0&&t>=0?l=new rt(0):(l=new rt(e).add(t).div(2),l=l.sub(new rt(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new rt(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?i3(e,t,r,n,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new rt(u).mul(i)),tickMax:l.add(new rt(d).mul(i))})}function XW(e){var t=mc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=a3([r,n]),d=mc(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Vv(Kv(0,s-1).map(function(){return 1/0}))):[].concat(Vv(Kv(0,s-1).map(function(){return-1/0})),[p]);return r>n?Gv(m):m}if(f===p)return YW(f,s,i);var x=i3(f,p,l,i),b=x.step,v=x.tickMin,j=x.tickMax,y=kh.rangeStep(v,j.add(new rt(.1).mul(b)),b);return r>n?Gv(y):y}function JW(e,t){var r=mc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=a3([n,s]),u=mc(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,s];if(d===f)return[d];var p=Math.max(t,2),m=s3(new rt(f).sub(d).div(p-1),i,0),x=[].concat(Vv(kh.rangeStep(new rt(d),new rt(f).sub(new rt(.99).mul(m)),m)),[f]);return n>s?Gv(x):x}var ZW=r3(XW),eH=r3(JW),tH="Invariant failed";function Gs(e,t){throw new Error(tH)}var rH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function nH(e,t){return oH(e)||iH(e,t)||sH(e,t)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sH(e,t){if(e){if(typeof e=="string")return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(e,t)}}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function oH(e){if(Array.isArray(e))return e}function lH(e,t){if(e==null)return{};var r=cH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c3(n.key),n)}}function fH(e,t,r){return t&&dH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hH(e,t,r){return t=gf(t),mH(e,o3()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function mH(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pH(e)}function pH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function gH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yv(e,t)}function l3(e,t,r){return t=c3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3(e){var t=xH(e,"string");return oo(t)=="symbol"?t:t+""}function xH(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tu=(function(e){function t(){return uH(this,t),hH(this,t,arguments)}return gH(t,e),fH(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,x=lH(n,rH),b=_e(x,!1);this.props.direction==="x"&&p.type!=="number"&&Gs();var v=d.map(function(j){var y=f(j,u),S=y.x,A=y.y,_=y.value,k=y.errorVal;if(!k)return null;var C=[],O,P;if(Array.isArray(k)){var R=nH(k,2);O=R[0],P=R[1]}else O=P=k;if(i==="vertical"){var $=p.scale,I=A+s,T=I+l,M=I-l,H=$(_-O),Y=$(_+P);C.push({x1:Y,y1:T,x2:Y,y2:M}),C.push({x1:H,y1:I,x2:Y,y2:I}),C.push({x1:H,y1:T,x2:H,y2:M})}else if(i==="horizontal"){var q=m.scale,U=S+s,F=U-l,W=U+l,X=q(_-O),z=q(_+P);C.push({x1:F,y1:z,x2:W,y2:z}),C.push({x1:U,y1:X,x2:U,y2:z}),C.push({x1:F,y1:X,x2:W,y2:X})}return V.createElement(Ge,pf({className:"recharts-errorBar",key:"bar-".concat(C.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},b),C.map(function(B){return V.createElement("line",pf({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return V.createElement(Ge,{className:"recharts-errorBars"},v)}}])})(V.Component);l3(tu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});l3(tu,"displayName","ErrorBar");function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=bH(e,"string");return pc(t)=="symbol"?t:t+""}function bH(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u3=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Or(r,Ha);if(!l)return null;var u=Ha.defaultProps,d=u!==void 0?ps(ps({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(n||[]).reduce(function(p,m){var x=m.item,b=m.props,v=b.sectors||b.data||[];return p.concat(v.map(function(j){return{type:l.props.iconType||x.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):f=(n||[]).map(function(p){var m=p.item,x=m.type.defaultProps,b=x!==void 0?ps(ps({},x),m.props):{},v=b.dataKey,j=b.name,y=b.legendType,S=b.hide;return{inactive:S,dataKey:v,type:d.iconType||y||"square",color:Qj(m),value:j||v,payload:b}}),ps(ps(ps({},d),Ha.getWithHeight(l,s)),{},{payload:f,item:l})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function DO(e){return SH(e)||NH(e)||wH(e)||jH()}function jH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wH(e,t){if(e){if(typeof e=="string")return Xv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xv(e,t)}}function NH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SH(e){if(Array.isArray(e))return Xv(e)}function Xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fi(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=CH(e,"string");return gc(t)=="symbol"?t:t+""}function CH(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tt(e,t,r){return Le(e)||Le(t)?r:Mt(t)?_r(e,t,r):$e(t)?t(e):r}function Kl(e,t,r,n){var s=SW(e,function(u){return Tt(u,t)});if(r==="number"){var i=s.filter(function(u){return pe(u)||parseFloat(u)});return i.length?[Nh(i),wh(i)]:[1/0,-1/0]}var l=n?s.filter(function(u){return!Le(u)}):s;return l.map(function(u){return Mt(u)||u instanceof Date?u:""})}var OH=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var p=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,x=f>=u-1?s[0].coordinate:s[f+1].coordinate,b=void 0;if(sr(m-p)!==sr(x-m)){var v=[];if(sr(x-m)===sr(d[1]-d[0])){b=x;var j=m+d[1]-d[0];v[0]=Math.min(j,(j+p)/2),v[1]=Math.max(j,(j+p)/2)}else{b=p;var y=x+d[1]-d[0];v[0]=Math.min(m,(y+m)/2),v[1]=Math.max(m,(y+m)/2)}var S=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){l=s[f].index;break}}else{var A=Math.min(p,x),_=Math.max(p,x);if(t>(A+m)/2&&t<=(_+m)/2){l=s[f].index;break}}}else for(var k=0;k<u;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<u-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===u-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){l=n[k].index;break}return l},Qj=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},PH=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var p=i[u[d]].stackGroups,m=Object.keys(p),x=0,b=m.length;x<b;x++){var v=p[m[x]],j=v.items,y=v.cateAxisId,S=j.filter(function(P){return Jn(P.type).indexOf("Bar")>=0});if(S&&S.length){var A=S[0].type.defaultProps,_=A!==void 0?vt(vt({},A),S[0].props):S[0].props,k=_.barSize,C=_[y];l[C]||(l[C]=[]);var O=Le(k)?r:k;l[C].push({item:S[0],stackList:S.slice(1),barSize:Le(O)?void 0:ir(O,n,0)})}}return l},AH=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=ir(r,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var x=!1,b=s/d,v=l.reduce(function(k,C){return k+C.barSize||0},0);v+=(d-1)*f,v>=s&&(v-=(d-1)*f,f=0),v>=s&&b>0&&(x=!0,b*=.9,v=d*b);var j=(s-v)/2>>0,y={offset:j-f,size:0};p=l.reduce(function(k,C){var O={item:C.item,position:{offset:y.offset+y.size+f,size:x?b:C.barSize}},P=[].concat(DO(k),[O]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:y})}),P},m)}else{var S=ir(n,s,0,!0);s-2*S-(d-1)*f<=0&&(f=0);var A=(s-2*S-(d-1)*f)/d;A>1&&(A>>=0);var _=u===+u?Math.min(A,u):A;p=l.reduce(function(k,C,O){var P=[].concat(DO(k),[{item:C.item,position:{offset:S+(A+f)*O+(A-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},m)}return p},EH=function(t,r,n,s){var i=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=u3({children:i,legendWidth:d});if(f){var p=s||{},m=p.width,x=p.height,b=f.align,v=f.verticalAlign,j=f.layout;if((j==="vertical"||j==="horizontal"&&v==="middle")&&b!=="center"&&pe(t[b]))return vt(vt({},t),{},Fi({},b,t[b]+(m||0)));if((j==="horizontal"||j==="vertical"&&b==="center")&&v!=="middle"&&pe(t[v]))return vt(vt({},t),{},Fi({},v,t[v]+(x||0)))}return t},_H=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},d3=function(t,r,n,s,i){var l=r.props.children,u=Tr(l,tu).filter(function(f){return _H(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=Tt(p,n);if(Le(m))return f;var x=Array.isArray(m)?[Nh(m),wh(m)]:[m,m],b=d.reduce(function(v,j){var y=Tt(p,j,0),S=x[0]-Math.abs(Array.isArray(y)?y[0]:y),A=x[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(S,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},TH=function(t,r,n,s,i){var l=r.map(function(u){return d3(t,u,n,i,s)}).filter(function(u){return!Le(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},f3=function(t,r,n,s,i){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&d3(t,d,f,s)||Kl(t,f,n,i)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},h3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},m3=function(t,r,n,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(n),u},Xn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||n)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?sr(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:s(x)+f,value:m,offset:f}});return p.filter(function(m){return!Vc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:s(m)+f,value:m,index:x,offset:f}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,x){return{coordinate:s(m)+f,value:i?i[m]:m,index:x,offset:f}})},fy=new WeakMap,Od=function(t,r){if(typeof r!="function")return t;fy.has(t)||fy.set(t,new WeakMap);var n=fy.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},p3=function(t,r,n){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:lc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:uf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hl(),realScaleType:"point"}:i==="category"?{scale:lc(),realScaleType:"band"}:{scale:uf(),realScaleType:"linear"};if(Us(s)){var d="scale".concat(oh(s));return{scale:(NO[d]||Hl)(),realScaleType:NO[d]?d:"point"}}return $e(s)?{scale:s}:{scale:Hl(),realScaleType:"point"}},FO=1e-4,g3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-FO,l=Math.max(s[0],s[1])+FO,u=t(r[0]),d=t(r[n-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[n-1]])}},RH=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},MH=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},IH=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,l=0,u=0;u<r;++u){var d=Vc(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=i,t[u][n][1]=i+d,i=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},$H=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,l=0;l<r;++l){var u=Vc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},DH={sign:IH,expand:SF,none:Zi,silhouette:kF,wiggle:CF,positive:$H},LH=function(t,r,n){var s=r.map(function(u){return u.props.dataKey}),i=DH[n],l=NF().keys(s).value(function(u,d){return+Tt(u,d,0)}).order(Ov).offset(i);return l(t)},FH=function(t,r,n,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,x){var b,v=(b=x.type)!==null&&b!==void 0&&b.defaultProps?vt(vt({},x.type.defaultProps),x.props):x.props,j=v.stackId,y=v.hide;if(y)return m;var S=v[n],A=m[S]||{hasStack:!1,stackGroups:{}};if(Mt(j)){var _=A.stackGroups[j]||{numericAxisId:n,cateAxisId:s,items:[]};_.items.push(x),A.hasStack=!0,A.stackGroups[j]=_}else A.stackGroups[Ro("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[x]};return vt(vt({},m),{},Fi({},S,A))},d),p={};return Object.keys(f).reduce(function(m,x){var b=f[x];if(b.hasStack){var v={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(j,y){var S=b.stackGroups[y];return vt(vt({},j),{},Fi({},y,{numericAxisId:n,cateAxisId:s,items:S.items,stackedData:LH(t,S.items,i)}))},v)}return vt(vt({},m),{},Fi({},x,b))},p)},x3=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=ZW(f,i,u);return t.domain([Nh(p),wh(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),x=eH(m,i,u);return{niceTicks:x}}return null};function BO(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(s[t.dataKey])){var u=Wd(r,"value",s[t.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Tt(s,Le(l)?t.dataKey:l);return Le(d)?null:t.scale(d)}var zO=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+s:null;var d=Tt(l,r.dataKey,r.domain[u]);return Le(d)?null:r.scale(d)-i/2+s},BH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},zH=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Mt(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},qH=function(t){return t.reduce(function(r,n){return[Nh(n.concat([r[0]]).filter(pe)),wh(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},y3=function(t,r,n){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,p){var m=qH(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},qO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jv=function(t,r,n){if($e(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(pe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(qO.test(t[0])){var i=+qO.exec(t[0])[1];s[0]=r[0]-i}else $e(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(pe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(UO.test(t[1])){var l=+UO.exec(t[1])[1];s[1]=r[1]+l}else $e(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},xf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=wj(r,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],p=i[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},WO=function(t,r,n){return!t||!t.length||eu(t,_r(n,"type.defaultProps.domain"))?r:t},v3=function(t,r){var n=t.type.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return vt(vt({},_e(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:Qj(t),value:Tt(r,s),type:d,payload:r,chartType:f,hide:p})};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){b3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b3(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=WH(e,"string");return xc(t)=="symbol"?t:t+""}function WH(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HH(e,t){return QH(e)||VH(e,t)||GH(e,t)||KH()}function KH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GH(e,t){if(e){if(typeof e=="string")return KO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(e,t)}}function KO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function QH(e){if(Array.isArray(e))return e}var yf=Math.PI/180,YH=function(t){return t*180/Math.PI},ot=function(t,r,n,s){return{x:t+Math.cos(-yf*s)*n,y:r+Math.sin(-yf*s)*n}},j3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XH=function(t,r,n,s,i){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=ir(t.cx,l,l/2),m=ir(t.cy,u,u/2),x=j3(l,u,n),b=ir(t.innerRadius,x,0),v=ir(t.outerRadius,x,x*.8),j=Object.keys(r);return j.reduce(function(y,S){var A=r[S],_=A.domain,k=A.reversed,C;if(Le(A.range))s==="angleAxis"?C=[d,f]:s==="radiusAxis"&&(C=[b,v]),k&&(C=[C[1],C[0]]);else{C=A.range;var O=C,P=HH(O,2);d=P[0],f=P[1]}var R=p3(A,i),$=R.realScaleType,I=R.scale;I.domain(_).range(C),g3(I);var T=x3(I,Wn(Wn({},A),{},{realScaleType:$})),M=Wn(Wn(Wn({},A),T),{},{range:C,radius:v,realScaleType:$,scale:I,cx:p,cy:m,innerRadius:b,outerRadius:v,startAngle:d,endAngle:f});return Wn(Wn({},y),{},b3({},S,M))},{})},JH=function(t,r){var n=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-l,2))},ZH=function(t,r){var n=t.x,s=t.y,i=r.cx,l=r.cy,u=JH({x:n,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(n-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:YH(f),angleInRadian:f}},eK=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:n-l*360}},tK=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},GO=function(t,r){var n=t.x,s=t.y,i=ZH({x:n,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=eK(r),m=p.startAngle,x=p.endAngle,b=u,v;if(m<=x){for(;b>x;)b-=360;for(;b<m;)b+=360;v=b>=m&&b<=x}else{for(;b>m;)b-=360;for(;b<x;)b+=360;v=b>=x&&b<=m}return v?Wn(Wn({},r),{},{radius:l,angle:tK(b,r)}):null},w3=function(t){return!N.isValidElement(t)&&!$e(t)&&typeof t!="boolean"?t.className:""};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var rK=["offset"];function nK(e){return oK(e)||iK(e)||sK(e)||aK()}function aK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(e,t){if(e){if(typeof e=="string")return Zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zv(e,t)}}function iK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oK(e){if(Array.isArray(e))return Zv(e)}function Zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lK(e,t){if(e==null)return{};var r=cK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){uK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return yc(t)=="symbol"?t:t+""}function fK(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}var hK=function(t){var r=t.value,n=t.formatter,s=Le(t.children)?r:t.children;return $e(n)?n(s):s},mK=function(t,r){var n=sr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},pK=function(t,r,n){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,p=d.cy,m=d.innerRadius,x=d.outerRadius,b=d.startAngle,v=d.endAngle,j=d.clockWise,y=(m+x)/2,S=mK(b,v),A=S>=0?1:-1,_,k;s==="insideStart"?(_=b+A*l,k=j):s==="insideEnd"?(_=v-A*l,k=!j):s==="end"&&(_=v+A*l,k=j),k=S<=0?k:!k;var C=ot(f,p,y,_),O=ot(f,p,y,_+(k?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(O.x,",").concat(O.y),R=Le(t.id)?Ro("recharts-radial-line-"):t.id;return V.createElement("text",vc({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:R,d:P})),V.createElement("textPath",{xlinkHref:"#".concat(R)},r))},gK=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,x=(p+m)/2;if(s==="outside"){var b=ot(l,u,f+n,x),v=b.x,j=b.y;return{x:v,y:j,textAnchor:v>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,S=ot(l,u,y,x),A=S.x,_=S.y;return{x:A,y:_,textAnchor:"middle",verticalAnchor:"middle"}},xK=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,x=m*s,b=m>0?"end":"start",v=m>0?"start":"end",j=f>=0?1:-1,y=j*s,S=j>0?"end":"start",A=j>0?"start":"end";if(i==="top"){var _={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:b};return Et(Et({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var k={x:u+f/2,y:d+p+x,textAnchor:"middle",verticalAnchor:v};return Et(Et({},k),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(i==="left"){var C={x:u-y,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return Et(Et({},C),n?{width:Math.max(C.x-n.x,0),height:p}:{})}if(i==="right"){var O={x:u+f+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return Et(Et({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var P=n?{width:f,height:p}:{};return i==="insideLeft"?Et({x:u+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Et({x:u+f-y,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},P):i==="insideTop"?Et({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:v},P):i==="insideBottom"?Et({x:u+f/2,y:d+p-x,textAnchor:"middle",verticalAnchor:b},P):i==="insideTopLeft"?Et({x:u+y,y:d+x,textAnchor:A,verticalAnchor:v},P):i==="insideTopRight"?Et({x:u+f-y,y:d+x,textAnchor:S,verticalAnchor:v},P):i==="insideBottomLeft"?Et({x:u+y,y:d+p-x,textAnchor:A,verticalAnchor:b},P):i==="insideBottomRight"?Et({x:u+f-y,y:d+p-x,textAnchor:S,verticalAnchor:b},P):To(i)&&(pe(i.x)||Ns(i.x))&&(pe(i.y)||Ns(i.y))?Et({x:u+ir(i.x,f),y:d+ir(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):Et({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},yK=function(t){return"cx"in t&&pe(t.cx)};function qt(e){var t=e.offset,r=t===void 0?5:t,n=lK(e,rK),s=Et({offset:r},n),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,p=s.className,m=p===void 0?"":p,x=s.textBreakAll;if(!i||Le(u)&&Le(d)&&!N.isValidElement(f)&&!$e(f))return null;if(N.isValidElement(f))return N.cloneElement(f,s);var b;if($e(f)){if(b=N.createElement(f,s),N.isValidElement(b))return b}else b=hK(s);var v=yK(i),j=_e(s,!0);if(v&&(l==="insideStart"||l==="insideEnd"||l==="end"))return pK(s,b,j);var y=v?gK(s):xK(s);return V.createElement(Hs,vc({className:ze("recharts-label",m)},j,y,{breakAll:x}),b)}qt.displayName="Label";var N3=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,x=t.y,b=t.top,v=t.left,j=t.width,y=t.height,S=t.clockWise,A=t.labelViewBox;if(A)return A;if(pe(j)&&pe(y)){if(pe(m)&&pe(x))return{x:m,y:x,width:j,height:y};if(pe(b)&&pe(v))return{x:b,y:v,width:j,height:y}}return pe(m)&&pe(x)?{x:m,y:x,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},vK=function(t,r){return t?t===!0?V.createElement(qt,{key:"label-implicit",viewBox:r}):Mt(t)?V.createElement(qt,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===qt?N.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):$e(t)?V.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):To(t)?V.createElement(qt,vc({viewBox:r},t,{key:"label-implicit"})):null:null},bK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=N3(t),l=Tr(s,qt).map(function(d,f){return N.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return l;var u=vK(t.label,r||i);return[u].concat(nK(l))};qt.parseViewBox=N3;qt.renderCallByParent=bK;var hy,QO;function jK(){if(QO)return hy;QO=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return hy=e,hy}var wK=jK();const NK=Ze(wK);function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}var SK=["valueAccessor"],kK=["data","dataKey","clockWise","id","textBreakAll"];function CK(e){return EK(e)||AK(e)||PK(e)||OK()}function OK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(e,t)}}function AK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EK(e){if(Array.isArray(e))return eb(e)}function eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=RK(e,"string");return bc(t)=="symbol"?t:t+""}function RK(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JO(e,t){if(e==null)return{};var r=MK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IK=function(t){return Array.isArray(t.value)?NK(t.value):t.value};function ea(e){var t=e.valueAccessor,r=t===void 0?IK:t,n=JO(e,SK),s=n.data,i=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=JO(n,kK);return!s||!s.length?null:V.createElement(Ge,{className:"recharts-label-list"},s.map(function(p,m){var x=Le(i)?r(p,m):Tt(p&&p.payload,i),b=Le(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(qt,vf({},_e(p,!0),f,b,{parentViewBox:p.parentViewBox,value:x,textBreakAll:d,viewBox:qt.parseViewBox(Le(l)?p:XO(XO({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ea.displayName="LabelList";function $K(e,t){return e?e===!0?V.createElement(ea,{key:"labelList-implicit",data:t}):V.isValidElement(e)||$e(e)?V.createElement(ea,{key:"labelList-implicit",data:t,content:e}):To(e)?V.createElement(ea,vf({data:t},e,{key:"labelList-implicit"})):null:null}function DK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Tr(n,ea).map(function(l,u){return N.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=$K(e.label,t);return[i].concat(CK(s))}ea.renderCallByParent=DK;function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return jc(t)=="symbol"?t:t+""}function BK(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zK=function(t,r){var n=sr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Pd=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/yf,x=f?i:i+l*m,b=ot(r,n,p,x),v=ot(r,n,s,x),j=f?i-l*m:i,y=ot(r,n,p*Math.cos(m*yf),j);return{center:b,circleTangency:v,lineTangency:y,theta:m}},S3=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=zK(l,u),f=l+d,p=ot(r,n,i,l),m=ot(r,n,i,f),x="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var b=ot(r,n,s,l),v=ot(r,n,s,f);x+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},qK=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=sr(p-f),x=Pd({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),b=x.circleTangency,v=x.lineTangency,j=x.theta,y=Pd({cx:r,cy:n,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),S=y.circleTangency,A=y.lineTangency,_=y.theta,k=d?Math.abs(f-p):Math.abs(f-p)-j-_;if(k<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):S3({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:p});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var O=Pd({cx:r,cy:n,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=O.circleTangency,R=O.lineTangency,$=O.theta,I=Pd({cx:r,cy:n,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=I.circleTangency,M=I.lineTangency,H=I.theta,Y=d?Math.abs(f-p):Math.abs(f-p)-$-H;if(Y<0&&l===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},UK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k3=function(t){var r=eP(eP({},UK),t),n=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,x=r.className;if(l<i||p===m)return null;var b=ze("recharts-sector",x),v=l-i,j=ir(u,v,0,!0),y;return j>0&&Math.abs(p-m)<360?y=qK({cx:n,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(j,v/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=S3({cx:n,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),V.createElement("path",tb({},_e(r,!0),{className:b,d:y,role:"img"}))};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(this,arguments)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return t=HK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=KK(e,"string");return wc(t)=="symbol"?t:t+""}function KK(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nP={curveBasisClosed:fF,curveBasisOpen:hF,curveBasis:dF,curveBumpX:X7,curveBumpY:J7,curveLinearClosed:mF,curveLinear:ch,curveMonotoneX:pF,curveMonotoneY:gF,curveNatural:xF,curveStep:yF,curveStepAfter:bF,curveStepBefore:vF},Ad=function(t){return t.x===+t.x&&t.y===+t.y},Ml=function(t){return t.x},Il=function(t){return t.y},GK=function(t,r){if($e(t))return t;var n="curve".concat(oh(t));return(n==="curveMonotone"||n==="curveBump")&&r?nP["".concat(n).concat(r==="vertical"?"Y":"X")]:nP[n]||ch},VK=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=GK(n,u),m=f?i.filter(function(j){return Ad(j)}):i,x;if(Array.isArray(l)){var b=f?l.filter(function(j){return Ad(j)}):l,v=m.map(function(j,y){return rP(rP({},j),{},{base:b[y]})});return u==="vertical"?x=bd().y(Il).x1(Ml).x0(function(j){return j.base.x}):x=bd().x(Ml).y1(Il).y0(function(j){return j.base.y}),x.defined(Ad).curve(p),x(v)}return u==="vertical"&&pe(l)?x=bd().y(Il).x1(Ml).x0(l):pe(l)?x=bd().x(Ml).y1(Il).y0(l):x=SE().x(Ml).y(Il),x.defined(Ad).curve(p),x(m)},bf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var l=n&&n.length?VK(t):s;return N.createElement("path",rb({},_e(t,!1),Hd(t),{className:ze("recharts-curve",r),d:l,ref:i}))},my={exports:{}},py,aP;function QK(){if(aP)return py;aP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return py=e,py}var gy,sP;function YK(){if(sP)return gy;sP=1;var e=QK();function t(){}function r(){}return r.resetWarningCache=t,gy=function(){function n(l,u,d,f,p,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},gy}var iP;function XK(){return iP||(iP=1,my.exports=YK()()),my.exports}var JK=XK();const Xe=Ze(JK),{getOwnPropertyNames:ZK,getOwnPropertySymbols:eG}=Object,{hasOwnProperty:tG}=Object.prototype;function xy(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Ed(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,l=i.get(r),u=i.get(n);if(l&&u)return l===n&&u===r;i.set(r,n),i.set(n,r);const d=e(r,n,s);return i.delete(r),i.delete(n),d}}function rG(e){return e!=null?e[Symbol.toStringTag]:void 0}function oP(e){return ZK(e).concat(eG(e))}const nG=Object.hasOwn||((e,t)=>tG.call(e,t));function ti(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const aG="__v",sG="__o",iG="_owner",{getOwnPropertyDescriptor:lP,keys:cP}=Object;function oG(e,t){return e.byteLength===t.byteLength&&jf(new Uint8Array(e),new Uint8Array(t))}function lG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function cG(e,t){return e.byteLength===t.byteLength&&jf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function uG(e,t){return ti(e.getTime(),t.getTime())}function dG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function fG(e,t){return e===t}function uP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let l,u,d=0;for(;(l=i.next())&&!l.done;){const f=t.entries();let p=!1,m=0;for(;(u=f.next())&&!u.done;){if(s[m]){m++;continue}const x=l.value,b=u.value;if(r.equals(x[0],b[0],d,m,e,t,r)&&r.equals(x[1],b[1],x[0],b[0],e,t,r)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const hG=ti;function mG(e,t,r){const n=cP(e);let s=n.length;if(cP(t).length!==s)return!1;for(;s-- >0;)if(!C3(e,t,r,n[s]))return!1;return!0}function $l(e,t,r){const n=oP(e);let s=n.length;if(oP(t).length!==s)return!1;let i,l,u;for(;s-- >0;)if(i=n[s],!C3(e,t,r,i)||(l=lP(e,i),u=lP(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function pG(e,t){return ti(e.valueOf(),t.valueOf())}function gG(e,t){return e.source===t.source&&e.flags===t.flags}function dP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let l,u;for(;(l=i.next())&&!l.done;){const d=t.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!s[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function jf(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function C3(e,t,r,n){return(n===iG||n===sG||n===aG)&&(e.$$typeof||t.$$typeof)?!0:nG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const yG="[object ArrayBuffer]",vG="[object Arguments]",bG="[object Boolean]",jG="[object DataView]",wG="[object Date]",NG="[object Error]",SG="[object Map]",kG="[object Number]",CG="[object Object]",OG="[object RegExp]",PG="[object Set]",AG="[object String]",EG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},_G="[object URL]",TG=Object.prototype.toString;function RG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:b,unknownTagComparators:v}){return function(y,S,A){if(y===S)return!0;if(y==null||S==null)return!1;const _=typeof y;if(_!==typeof S)return!1;if(_!=="object")return _==="number"?u(y,S,A):_==="function"?i(y,S,A):!1;const k=y.constructor;if(k!==S.constructor)return!1;if(k===Object)return d(y,S,A);if(Array.isArray(y))return t(y,S,A);if(k===Date)return n(y,S,A);if(k===RegExp)return p(y,S,A);if(k===Map)return l(y,S,A);if(k===Set)return m(y,S,A);const C=TG.call(y);if(C===wG)return n(y,S,A);if(C===OG)return p(y,S,A);if(C===SG)return l(y,S,A);if(C===PG)return m(y,S,A);if(C===CG)return typeof y.then!="function"&&typeof S.then!="function"&&d(y,S,A);if(C===_G)return b(y,S,A);if(C===NG)return s(y,S,A);if(C===vG)return d(y,S,A);if(EG[C])return x(y,S,A);if(C===yG)return e(y,S,A);if(C===jG)return r(y,S,A);if(C===bG||C===kG||C===AG)return f(y,S,A);if(v){let O=v[C];if(!O){const P=rG(y);P&&(O=v[P])}if(O)return O(y,S,A)}return!1}}function MG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:oG,areArraysEqual:r?$l:lG,areDataViewsEqual:cG,areDatesEqual:uG,areErrorsEqual:dG,areFunctionsEqual:fG,areMapsEqual:r?xy(uP,$l):uP,areNumbersEqual:hG,areObjectsEqual:r?$l:mG,arePrimitiveWrappersEqual:pG,areRegExpsEqual:gG,areSetsEqual:r?xy(dP,$l):dP,areTypedArraysEqual:r?xy(jf,$l):jf,areUrlsEqual:xG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Ed(n.areArraysEqual),i=Ed(n.areMapsEqual),l=Ed(n.areObjectsEqual),u=Ed(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return n}function IG(e){return function(t,r,n,s,i,l,u){return e(t,r,u)}}function $G({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(u,d,{cache:f,equals:n,meta:p,strict:s})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(u,d){return t(u,d,i)}}const DG=ts();ts({strict:!0});ts({circular:!0});ts({circular:!0,strict:!0});ts({createInternalComparator:()=>ti});ts({strict:!0,createInternalComparator:()=>ti});ts({circular:!0,createInternalComparator:()=>ti});ts({circular:!0,createInternalComparator:()=>ti,strict:!0});function ts(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=MG(e),l=RG(i),u=r?r(l):IG(l);return $G({circular:t,comparator:l,createState:n,equals:u,strict:s})}function LG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):LG(s)};requestAnimationFrame(n)}function nb(e){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(e)}function FG(e){return UG(e)||qG(e)||zG(e)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return hP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hP(e,t)}}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UG(e){if(Array.isArray(e))return e}function WG(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=FG(l),d=u[0],f=u.slice(1);if(typeof d=="number"){fP(s.bind(null,f),d);return}s(d),fP(s.bind(null,f));return}nb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){O3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O3(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=KG(e,"string");return Nc(t)==="symbol"?t:String(t)}function KG(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},VG=function(t){return t},QG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gl=function(t,r){return Object.keys(r).reduce(function(n,s){return pP(pP({},n),{},O3({},s,t(s,r[s])))},{})},gP=function(t,r,n){return t.map(function(s){return"".concat(QG(s)," ").concat(r,"ms ").concat(n)}).join(",")};function YG(e,t){return ZG(e)||JG(e,t)||P3(e,t)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function ZG(e){if(Array.isArray(e))return e}function eV(e){return nV(e)||rV(e)||P3(e)||tV()}function tV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(e,t){if(e){if(typeof e=="string")return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}function rV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nV(e){if(Array.isArray(e))return ab(e)}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wf=1e-4,A3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},E3=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},xP=function(t,r){return function(n){var s=A3(t,r);return E3(s,n)}},aV=function(t,r){return function(n){var s=A3(t,r),i=[].concat(eV(s.map(function(l,u){return l*u}).slice(1)),[0]);return E3(i,n)}},yP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=YG(f,4);s=p[0],i=p[1],l=p[2],u=p[3]}}}var m=xP(s,l),x=xP(i,u),b=aV(s,l),v=function(S){return S>1?1:S<0?0:S},j=function(S){for(var A=S>1?1:S,_=A,k=0;k<8;++k){var C=m(_)-A,O=b(_);if(Math.abs(C-A)<wf||O<wf)return x(_);_=v(_-C/O)}return x(_)};return j.isStepper=!1,j},sV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,x){var b=-(p-m)*n,v=x*i,j=x+(b-v)*u/1e3,y=x*u/1e3+p;return Math.abs(y-m)<wf&&Math.abs(j)<wf?[m,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},iV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yP(s);case"spring":return sV();default:if(s.split("(")[0]==="cubic-bezier")return yP(s)}return typeof s=="function"?s:null};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function vP(e){return cV(e)||lV(e)||_3(e)||oV()}function oV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cV(e){if(Array.isArray(e))return ib(e)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sb(e,t,r){return t=uV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=dV(e,"string");return Sc(t)==="symbol"?t:String(t)}function dV(e,t){if(Sc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fV(e,t){return pV(e)||mV(e,t)||_3(e,t)||hV()}function hV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3(e,t){if(e){if(typeof e=="string")return ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ib(e,t)}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pV(e){if(Array.isArray(e))return e}var Nf=function(t,r,n){return t+(r-t)*n},ob=function(t){var r=t.from,n=t.to;return r!==n},gV=function e(t,r,n){var s=Gl(function(i,l){if(ob(l)){var u=t(l.from,l.to,l.velocity),d=fV(u,2),f=d[0],p=d[1];return Kt(Kt({},l),{},{from:f,velocity:p})}return l},r);return n<1?Gl(function(i,l){return ob(l)?Kt(Kt({},l),{},{velocity:Nf(l.velocity,s[i].velocity,n),from:Nf(l.from,s[i].from,n)}):l},r):e(t,s,n-1)};const xV=(function(e,t,r,n,s){var i=GG(e,t),l=i.reduce(function(y,S){return Kt(Kt({},y),{},sb({},S,[e[S],t[S]]))},{}),u=i.reduce(function(y,S){return Kt(Kt({},y),{},sb({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,f,p,m=function(){return null},x=function(){return Gl(function(S,A){return A.from},u)},b=function(){return!Object.values(u).filter(ob).length},v=function(S){f||(f=S);var A=S-f,_=A/r.dt;u=gV(r,u,_),s(Kt(Kt(Kt({},e),t),x())),f=S,b()||(d=requestAnimationFrame(m))},j=function(S){p||(p=S);var A=(S-p)/n,_=Gl(function(C,O){return Nf.apply(void 0,vP(O).concat([r(A)]))},l);if(s(Kt(Kt(Kt({},e),t),_)),A<1)d=requestAnimationFrame(m);else{var k=Gl(function(C,O){return Nf.apply(void 0,vP(O).concat([r(1)]))},l);s(Kt(Kt(Kt({},e),t),k))}};return m=r.isStepper?v:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}var yV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vV(e,t){if(e==null)return{};var r=bV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bV(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function yy(e){return SV(e)||NV(e)||wV(e)||jV()}function jV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wV(e,t){if(e){if(typeof e=="string")return lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lb(e,t)}}function NV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SV(e){if(Array.isArray(e))return lb(e)}function lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ul(e,t,r){return t=T3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T3(n.key),n)}}function OV(e,t,r){return t&&CV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T3(e){var t=PV(e,"string");return lo(t)==="symbol"?t:String(t)}function PV(e,t){if(lo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cb(e,t)}function EV(e){var t=_V();return function(){var n=Sf(e),s;if(t){var i=Sf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return ub(this,s)}}function ub(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return db(e)}function db(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}var An=(function(e){AV(r,e);var t=EV(r);function r(n,s){var i;kV(this,r),i=t.call(this,n,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,x=l.children,b=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(db(i)),i.changeStyle=i.changeStyle.bind(db(i)),!u||b<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:p}),ub(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof x=="function")return i.state={style:f},ub(i);i.state={style:d?Ul({},d,f):f}}else i.state={style:{}};return i}return OV(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,x=this.state.style;if(u){if(!l){var b={style:d?Ul({},d,p):p};this.state&&x&&(d&&x[d]!==p||!d&&x!==p)&&this.setState(b);return}if(!(DG(s.to,p)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=v||f?m:s.to;if(this.state&&x){var y={style:d?Ul({},d,j):j};(d&&x[d]!==j||!d&&x!==j)&&this.setState(y)}this.runAnimation(an(an({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,p=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,b=xV(l,u,iV(f),d,this.changeStyle),v=function(){i.stopJSAnimation=b()};this.manager.start([x,p,v,d,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],p=f.style,m=f.duration,x=m===void 0?0:m,b=function(j,y,S){if(S===0)return j;var A=y.duration,_=y.easing,k=_===void 0?"ease":_,C=y.style,O=y.properties,P=y.onAnimationEnd,R=S>0?l[S-1]:y,$=O||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(yy(j),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:A,easing:k}),A]);var I=gP($,A,k),T=an(an(an({},R.style),C),{},{transition:I});return[].concat(yy(j),[T,A,P]).filter(VG)};return this.manager.start([d].concat(yy(l.reduce(b,[p,Math.max(x,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=WG());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,b=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var j=u?Ul({},u,d):d,y=gP(Object.keys(j),l,f);v.start([p,i,an(an({},j),{},{transition:y}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=vV(s,yV),f=N.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||f===0||l<=0)return i;var m=function(b){var v=b.props,j=v.style,y=j===void 0?{}:j,S=v.className,A=N.cloneElement(b,an(an({},d),{},{style:an(an({},y),p),className:S}));return A};return f===1?m(N.Children.only(i)):V.createElement("div",null,N.Children.map(i,function(x){return m(x)}))}}]),r})(N.PureComponent);An.displayName="Animate";An.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};An.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(this,arguments)}function TV(e,t){return $V(e)||IV(e,t)||MV(e,t)||RV()}function RV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MV(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function $V(e){if(Array.isArray(e))return e}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return t=LV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LV(e){var t=FV(e,"string");return kc(t)=="symbol"?t:t+""}function FV(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kP=function(t,r,n,s,i){var l=Math.min(Math.abs(n)/2,Math.abs(s)/2),u=s>=0?1:-1,d=n>=0?1:-1,f=s>=0&&n>=0||s<0&&n<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,b=4;x<b;x++)m[x]=i[x]>l?l:i[x];p="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),p+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*m[1])),p+="L ".concat(t+n,",").concat(r+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+s)),p+="L ".concat(t+d*m[3],",").concat(r+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var v=Math.min(l,i);p="M ".concat(t,",").concat(r+u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+d*v,",").concat(r,`
            L `).concat(t+n-d*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*v,`
            L `).concat(t+n,",").concat(r+s-u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+n-d*v,",").concat(r+s,`
            L `).concat(t+d*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*v," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return p},BV=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),p=Math.max(i,i+u),m=Math.min(l,l+d),x=Math.max(l,l+d);return n>=f&&n<=p&&s>=m&&s<=x}return!1},zV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yj=function(t){var r=SP(SP({},zV),t),n=N.useRef(),s=N.useState(-1),i=TV(s,2),l=i[0],u=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,x=r.radius,b=r.className,v=r.animationEasing,j=r.animationDuration,y=r.animationBegin,S=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var _=ze("recharts-rectangle",b);return A?V.createElement(An,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:j,animationEasing:v,isActive:A},function(k){var C=k.width,O=k.height,P=k.x,R=k.y;return V.createElement(An,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:S,easing:v},V.createElement("path",kf({},_e(r,!0),{className:_,d:kP(P,R,C,O,x),ref:n})))}):V.createElement("path",kf({},_e(r,!0),{className:_,d:kP(d,f,p,m,x)}))},qV=["points","className","baseLinePoints","connectNulls"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function UV(e,t){if(e==null)return{};var r=WV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CP(e){return VV(e)||GV(e)||KV(e)||HV()}function HV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e,t){if(e){if(typeof e=="string")return fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(e,t)}}function GV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VV(e){if(Array.isArray(e))return fb(e)}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OP=function(t){return t&&t.x===+t.x&&t.y===+t.y},QV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){OP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),OP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Vl=function(t,r){var n=QV(t);r&&(n=[n.reduce(function(i,l){return[].concat(CP(i),CP(l))},[])]);var s=n.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},YV=function(t,r,n){var s=Vl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Vl(r.reverse(),n).slice(1))},XV=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,l=UV(t,qV);if(!r||!r.length)return null;var u=ze("recharts-polygon",n);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=YV(r,s,i);return V.createElement("g",{className:u},V.createElement("path",Ri({},_e(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?V.createElement("path",Ri({},_e(l,!0),{fill:"none",d:Vl(r,i)})):null,d?V.createElement("path",Ri({},_e(l,!0),{fill:"none",d:Vl(s,i)})):null)}var p=Vl(r,i);return V.createElement("path",Ri({},_e(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}var Ch=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,l=ze("recharts-dot",i);return r===+r&&n===+n&&s===+s?N.createElement("circle",hb({},_e(t,!1),Hd(t),{className:l,cx:r,cy:n,r:s})):null};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var JV=["x","y","top","left","width","height","className"];function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return t=tQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return Cc(t)=="symbol"?t:t+""}function rQ(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nQ(e,t){if(e==null)return{};var r=aQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sQ=function(t,r,n,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(n)},iQ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,x=t.height,b=x===void 0?0:x,v=t.className,j=nQ(t,JV),y=ZV({x:n,y:i,top:u,left:f,width:m,height:b},j);return!pe(n)||!pe(i)||!pe(m)||!pe(b)||!pe(u)||!pe(f)?null:V.createElement("path",mb({},_e(y,!0),{className:ze("recharts-cross",v),d:sQ(n,i,m,b,u,f)}))},vy,AP;function oQ(){if(AP)return vy;AP=1;var e=jh(),t=G_(),r=Tn();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return vy=n,vy}var lQ=oQ();const cQ=Ze(lQ);var by,EP;function uQ(){if(EP)return by;EP=1;var e=jh(),t=Tn(),r=V_();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return by=n,by}var dQ=uQ();const fQ=Ze(dQ);var hQ=["cx","cy","angle","ticks","axisLine"],mQ=["ticks","tick","angle","tickFormatter","stroke"];function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t){if(e==null)return{};var r=pQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M3(n.key),n)}}function xQ(e,t,r){return t&&RP(e.prototype,t),r&&RP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yQ(e,t,r){return t=Cf(t),vQ(e,R3()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function vQ(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(e)}function bQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R3=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pb(e,t)}function pb(e,t){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pb(e,t)}function Oh(e,t,r){return t=M3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3(e){var t=wQ(e,"string");return co(t)=="symbol"?t:t+""}function wQ(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph=(function(e){function t(){return gQ(this,t),yQ(this,t,arguments)}return jQ(t,e),xQ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return ot(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,l=n.angle,u=n.ticks,d=cQ(u,function(p){return p.coordinate||0}),f=fQ(u,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=TP(n,hQ),p=u.reduce(function(v,j){return[Math.min(v[0],j.coordinate),Math.max(v[1],j.coordinate)]},[1/0,-1/0]),m=ot(s,i,p[0],l),x=ot(s,i,p[1],l),b=gs(gs(gs({},_e(f,!1)),{},{fill:"none"},_e(d,!1)),{},{x1:m.x,y1:m.y,x2:x.x,y2:x.y});return V.createElement("line",Ql({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,p=TP(s,mQ),m=this.getTickTextAnchor(),x=_e(p,!1),b=_e(l,!1),v=i.map(function(j,y){var S=n.getTickValueCoord(j),A=gs(gs(gs(gs({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:f},b),{},{index:y},S),{},{payload:j});return V.createElement(Ge,Ql({className:ze("recharts-polar-radius-axis-tick",w3(l)),key:"tick-".concat(j.coordinate)},Ws(n.props,j,y)),t.renderTickItem(l,A,d?d(j.value,y):j.value))});return V.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,l=n.tick;return!s||!s.length?null:V.createElement(Ge,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),qt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):$e(n)?l=n(s):l=V.createElement(Hs,Ql({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(N.PureComponent);Oh(Ph,"displayName","PolarRadiusAxis");Oh(Ph,"axisType","radiusAxis");Oh(Ph,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(this,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$3(n.key),n)}}function SQ(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kQ(e,t,r){return t=Of(t),CQ(e,I3()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function CQ(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OQ(e)}function OQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function PQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gb(e,t)}function Ah(e,t,r){return t=$3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3(e){var t=AQ(e,"string");return uo(t)=="symbol"?t:t+""}function AQ(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EQ=Math.PI/180,$P=1e-5,Eh=(function(e){function t(){return NQ(this,t),kQ(this,t,arguments)}return PQ(t,e),SQ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,p=f||8,m=ot(i,l,u,n.coordinate),x=ot(i,l,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*EQ),l;return i>$P?l=s==="outer"?"start":"end":i<-$P?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=xs(xs({},_e(this.props,!1)),{},{fill:"none"},_e(u,!1));if(d==="circle")return V.createElement(Ch,bs({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(x){return ot(s,i,l,x.coordinate)});return V.createElement(XV,bs({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,p=_e(this.props,!1),m=_e(l,!1),x=xs(xs({},p),{},{fill:"none"},_e(u,!1)),b=i.map(function(v,j){var y=n.getTickLineCoord(v),S=n.getTickTextAnchor(v),A=xs(xs(xs({textAnchor:S},p),{},{stroke:"none",fill:f},m),{},{index:j,payload:v,x:y.x2,y:y.y2});return V.createElement(Ge,bs({className:ze("recharts-polar-angle-axis-tick",w3(l)),key:"tick-".concat(v.coordinate)},Ws(n.props,v,j)),u&&V.createElement("line",bs({className:"recharts-polar-angle-axis-tick-line"},x,y)),l&&t.renderTickItem(l,A,d?d(v.value,j):v.value))});return V.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,l=n.axisLine;return i<=0||!s||!s.length?null:V.createElement(Ge,{className:ze("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):$e(n)?l=n(s):l=V.createElement(Hs,bs({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(N.PureComponent);Ah(Eh,"displayName","PolarAngleAxis");Ah(Eh,"axisType","angleAxis");Ah(Eh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jy,DP;function _Q(){if(DP)return jy;DP=1;var e=GE(),t=e(Object.getPrototypeOf,Object);return jy=t,jy}var wy,LP;function TQ(){if(LP)return wy;LP=1;var e=ia(),t=_Q(),r=oa(),n="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return wy=f,wy}var RQ=TQ();const MQ=Ze(RQ);var Ny,FP;function IQ(){if(FP)return Ny;FP=1;var e=ia(),t=oa(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return Ny=n,Ny}var $Q=IQ();const DQ=Ze($Q);function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}function LQ(e,t){return qQ(e)||zQ(e,t)||BQ(e,t)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(e,t){if(e){if(typeof e=="string")return BP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function qQ(e){if(Array.isArray(e))return e}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return t=WQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=HQ(e,"string");return Oc(t)=="symbol"?t:t+""}function HQ(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UP=function(t,r,n,s,i){var l=n-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+i),u+="L ".concat(t+n-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},KQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GQ=function(t){var r=qP(qP({},KQ),t),n=N.useRef(),s=N.useState(-1),i=LQ(s,2),l=i[0],u=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,x=r.height,b=r.className,v=r.animationEasing,j=r.animationDuration,y=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||x!==+x||p===0&&m===0||x===0)return null;var A=ze("recharts-trapezoid",b);return S?V.createElement(An,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:x,x:d,y:f},duration:j,animationEasing:v,isActive:S},function(_){var k=_.upperWidth,C=_.lowerWidth,O=_.height,P=_.x,R=_.y;return V.createElement(An,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:v},V.createElement("path",Pf({},_e(r,!0),{className:A,d:UP(P,R,k,C,O),ref:n})))}):V.createElement("g",null,V.createElement("path",Pf({},_e(r,!0),{className:A,d:UP(d,f,p,m,x)})))},VQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function QQ(e,t){if(e==null)return{};var r=YQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return t=JQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=ZQ(e,"string");return Pc(t)=="symbol"?t:t+""}function ZQ(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eY(e,t){return Af(Af({},t),e)}function tY(e,t){return e==="symbols"}function HP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(Yj,r);case"trapezoid":return V.createElement(GQ,r);case"sector":return V.createElement(k3,r);case"symbols":if(tY(t))return V.createElement(mj,r);break;default:return null}}function rY(e){return N.isValidElement(e)?e.props:e}function D3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?eY:n,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=QQ(e,VQ),f;if(N.isValidElement(t))f=N.cloneElement(t,Af(Af({},d),rY(t)));else if($e(t))f=t(d);else if(MQ(t)&&!DQ(t)){var p=s(t,d);f=V.createElement(HP,{shapeType:r,elementProps:p})}else{var m=d;f=V.createElement(HP,{shapeType:r,elementProps:m})}return u?V.createElement(Ge,{className:l},f):f}function _h(e,t){return t!=null&&"trapezoids"in e.props}function Th(e,t){return t!=null&&"sectors"in e.props}function Ac(e,t){return t!=null&&"points"in e.props}function nY(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function aY(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function sY(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function iY(e,t){var r;return _h(e,t)?r=nY:Th(e,t)?r=aY:Ac(e,t)&&(r=sY),r}function oY(e,t){var r;return _h(e,t)?r="trapezoids":Th(e,t)?r="sectors":Ac(e,t)&&(r="points"),r}function lY(e,t){if(_h(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Th(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ac(e,t)?t.payload:{}}function cY(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=oY(r,t),i=lY(r,t),l=n.filter(function(d,f){var p=eu(i,d),m=r.props[s].filter(function(v){var j=iY(r,t);return j(v,t)}),x=r.props[s].indexOf(m[m.length-1]),b=f===x;return p&&b}),u=n.indexOf(l[l.length-1]);return u}var Dd;function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F3(n.key),n)}}function dY(e,t,r){return t&&GP(e.prototype,t),r&&GP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fY(e,t,r){return t=Ef(t),hY(e,L3()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function hY(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(e)}function mY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function pY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xb(e,t)}function Hr(e,t,r){return t=F3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F3(e){var t=gY(e,"string");return fo(t)=="symbol"?t:t+""}function gY(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=(function(e){function t(r){var n;return uY(this,t),n=fY(this,t,[r]),Hr(n,"pieRef",null),Hr(n,"sectorRefs",[]),Hr(n,"id",Ro("recharts-pie-")),Hr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$e(s)&&s()}),Hr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$e(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pY(t,e),dY(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,f=i.valueKey,p=_e(this.props,!1),m=_e(l,!1),x=_e(u,!1),b=l&&l.offsetRadius||20,v=n.map(function(j,y){var S=(j.startAngle+j.endAngle)/2,A=ot(j.cx,j.cy,j.outerRadius+b,S),_=st(st(st(st({},p),j),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(A.x,j.cx)},A),k=st(st(st(st({},p),j),{},{fill:"none",stroke:j.fill},x),{},{index:y,points:[ot(j.cx,j.cy,j.outerRadius,S),A]}),C=d;return Le(d)&&Le(f)?C="value":Le(d)&&(C=f),V.createElement(Ge,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,k,"line"),t.renderLabelItem(l,_,Tt(j,C)))});return V.createElement(Ge,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(p),x=d&&s.hasActiveIndex()?d:null,b=m?l:x,v=st(st({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(Ge,Mi({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ws(s.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),V.createElement(D3,Mi({option:b,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state,x=m.prevSectors,b=m.prevIsAnimationActive;return V.createElement(An,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var j=v.t,y=[],S=i&&i[0],A=S.startAngle;return i.forEach(function(_,k){var C=x&&x[k],O=k>0?_r(_,"paddingAngle",0):0;if(C){var P=Pr(C.endAngle-C.startAngle,_.endAngle-_.startAngle),R=st(st({},_),{},{startAngle:A+O,endAngle:A+P(j)+O});y.push(R),A=R.endAngle}else{var $=_.endAngle,I=_.startAngle,T=Pr(0,$-I),M=T(j),H=st(st({},_),{},{startAngle:A+O,endAngle:A+M+O});y.push(H),A=H.endAngle}}),V.createElement(Ge,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!eu(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,p=s.cy,m=s.innerRadius,x=s.outerRadius,b=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!l||!l.length||!pe(f)||!pe(p)||!pe(m)||!pe(x))return null;var j=ze("recharts-pie",u);return V.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:j,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),qt.renderCallByParent(this.props,null,!1),(!b||v)&&ea.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(V.isValidElement(n))return V.cloneElement(n,s);if($e(n))return n(s);var l=ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(bf,Mi({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,s,i){if(V.isValidElement(n))return V.cloneElement(n,s);var l=i;if($e(n)&&(l=n(s),V.isValidElement(l)))return l;var u=ze("recharts-pie-label-text",typeof n!="boolean"&&!$e(n)?n.className:"");return V.createElement(Hs,Mi({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(N.PureComponent);Dd=ca;Hr(ca,"displayName","Pie");Hr(ca,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Js.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Hr(ca,"parseDeltaAngle",function(e,t){var r=sr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Hr(ca,"getRealPieData",function(e){var t=e.data,r=e.children,n=_e(e,!1),s=Tr(r,mh);return t&&t.length?t.map(function(i,l){return st(st(st({payload:i},n),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return st(st({},n),i.props)}):[]});Hr(ca,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,l=j3(s,i),u=n+ir(e.cx,s,s/2),d=r+ir(e.cy,i,i/2),f=ir(e.innerRadius,l,0),p=ir(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Hr(ca,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?st(st({},t.type.defaultProps),t.props):t.props,s=Dd.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,x=n.tooltipType,b=Math.abs(n.minAngle),v=Dd.parseCoordinateOfPie(n,r),j=Dd.parseDeltaAngle(l,u),y=Math.abs(j),S=f;Le(f)&&Le(m)?(dn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Le(f)&&(dn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var A=s.filter(function(R){return Tt(R,S,0)!==0}).length,_=(y>=360?A:A-1)*d,k=y-A*b-_,C=s.reduce(function(R,$){var I=Tt($,S,0);return R+(pe(I)?I:0)},0),O;if(C>0){var P;O=s.map(function(R,$){var I=Tt(R,S,0),T=Tt(R,p,$),M=(pe(I)?I:0)/C,H;$?H=P.endAngle+sr(j)*d*(I!==0?1:0):H=l;var Y=H+sr(j)*((I!==0?b:0)+M*k),q=(H+Y)/2,U=(v.innerRadius+v.outerRadius)/2,F=[{name:T,value:I,payload:R,dataKey:S,type:x}],W=ot(v.cx,v.cy,U,q);return P=st(st(st({percent:M,cornerRadius:i,name:T,tooltipPayload:F,midAngle:q,middleRadius:U,tooltipPosition:W},R),v),{},{value:Tt(R,S),startAngle:H,endAngle:Y,payload:R,paddingAngle:sr(j)*d}),P})}return st(st({},v),{},{sectors:O,data:s})});var Sy,VP;function xY(){if(VP)return Sy;VP=1;var e=Math.ceil,t=Math.max;function r(n,s,i,l){for(var u=-1,d=t(e((s-n)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=i;return f}return Sy=r,Sy}var ky,QP;function B3(){if(QP)return ky;QP=1;var e=c_(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return ky=n,ky}var Cy,YP;function yY(){if(YP)return Cy;YP=1;var e=xY(),t=hh(),r=B3();function n(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return Cy=n,Cy}var Oy,XP;function vY(){if(XP)return Oy;XP=1;var e=yY(),t=e();return Oy=t,Oy}var bY=vY();const _f=Ze(bY);function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){z3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3(e,t,r){return t=jY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=wY(e,"string");return Ec(t)=="symbol"?t:t+""}function wY(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NY=["Webkit","Moz","O","ms"],SY=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=NY.reduce(function(i,l){return ZP(ZP({},i),{},z3({},l+n,r))},{});return s[t]=r,s};function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tf.apply(this,arguments)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U3(n.key),n)}}function CY(e,t,r){return t&&tA(e.prototype,t),r&&tA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OY(e,t,r){return t=Rf(t),PY(e,q3()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function PY(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AY(e)}function AY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function EY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yb(e,t)}function yb(e,t){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yb(e,t)}function Cr(e,t,r){return t=U3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=_Y(e,"string");return ho(t)=="symbol"?t:t+""}function _Y(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TY=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Hl().domain(_f(0,d)).range([i,i+l-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(s),scale:f,scaleValues:p}},rA=function(t){return t.changedTouches&&!!t.changedTouches.length},mo=(function(e){function t(r){var n;return kY(this,t),n=OY(this,t,[r]),Cr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Cr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(s){var i=rA(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return EY(t,e),CY(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(s,i),x=Math.max(s,i),b=t.getIndexInRange(l,m),v=t.getIndexInRange(l,x);return{startIndex:b-b%d,endIndex:v===p?p:v-v%d}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=Tt(i[n],u,n);return $e(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,x=d.startIndex,b=d.endIndex,v=d.onChange,j=n.pageX-i;j>0?j=Math.min(j,f+p-m-u,f+p-m-l):j<0&&(j=Math.max(j,f-l,f-u));var y=this.getIndex({startX:l+j,endX:u+j});(y.startIndex!==x||y.endIndex!==b)&&v&&v(y),this.setState({startX:l+j,endX:u+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=rA(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],p=this.props,m=p.x,x=p.width,b=p.travellerWidth,v=p.onChange,j=p.gap,y=p.data,S={startX:this.state.startX,endX:this.state.endX},A=n.pageX-i;A>0?A=Math.min(A,m+x-b-f):A<0&&(A=Math.max(A,m-f)),S[l]=f+A;var _=this.getIndex(S),k=_.startIndex,C=_.endIndex,O=function(){var R=y.length-1;return l==="startX"&&(u>d?k%j===0:C%j===0)||u<d&&C===R||l==="endX"&&(u>d?C%j===0:k%j===0)||u>d&&C===R};this.setState(Cr(Cr({},l,f+A),"brushMoveStartX",n.pageX),function(){v&&O()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var x=m+n;if(!(x===-1||x>=u.length)){var b=u[x];s==="startX"&&b>=f||s==="endX"&&b<=d||this.setState(Cr({},s,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return V.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,l=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=N.Children.only(f);return m?V.cloneElement(m,{x:s,y:i,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,x=d.traveller,b=d.ariaLabel,v=d.data,j=d.startIndex,y=d.endIndex,S=Math.max(n,this.props.x),A=Py(Py({},_e(this.props,!1)),{},{x:S,y:f,width:p,height:m}),_=b||"Min value: ".concat((i=v[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=v[y])===null||l===void 0?void 0:l.name);return V.createElement(Ge,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,A))}},{key:"renderSlide",value:function(n,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(n,s)+f,m=Math.max(Math.abs(s-n)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,x=p.endX,b=5,v={pointerEvents:"none",fill:f};return V.createElement(Ge,{className:"recharts-brush-texts"},V.createElement(Hs,Tf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-b,y:l+u/2},v),this.getTextOfTick(s)),V.createElement(Hs,Tf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+d+b,y:l+u/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,l=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,x=this.state,b=x.startX,v=x.endX,j=x.isTextActive,y=x.isSlideMoving,S=x.isTravellerMoving,A=x.isTravellerFocused;if(!s||!s.length||!pe(u)||!pe(d)||!pe(f)||!pe(p)||f<=0||p<=0)return null;var _=ze("recharts-brush",i),k=V.Children.count(l)===1,C=SY("userSelect","none");return V.createElement(Ge,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(b,v),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(v,"endX"),(j||y||S||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(i+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,s):$e(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return Py({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?TY({data:i,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var x=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>s?u=d:l=d}return s>=n[u]?u:l}}])})(N.PureComponent);Cr(mo,"displayName","Brush");Cr(mo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ay,nA;function RY(){if(nA)return Ay;nA=1;var e=jj();function t(r,n){var s;return e(r,function(i,l,u){return s=n(i,l,u),!s}),!!s}return Ay=t,Ay}var Ey,aA;function MY(){if(aA)return Ey;aA=1;var e=BE(),t=Tn(),r=RY(),n=br(),s=hh();function i(l,u,d){var f=n(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return Ey=i,Ey}var IY=MY();const $Y=Ze(IY);var On=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},_y,sA;function DY(){if(sA)return _y;sA=1;var e=a_();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return _y=t,_y}var Ty,iA;function LY(){if(iA)return Ty;iA=1;var e=DY(),t=r_(),r=Tn();function n(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return Ty=n,Ty}var FY=LY();const BY=Ze(FY);var Ry,oA;function zY(){if(oA)return Ry;oA=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return Ry=e,Ry}var My,lA;function qY(){if(lA)return My;lA=1;var e=jj();function t(r,n){var s=!0;return e(r,function(i,l,u){return s=!!n(i,l,u),s}),s}return My=t,My}var Iy,cA;function UY(){if(cA)return Iy;cA=1;var e=zY(),t=qY(),r=Tn(),n=br(),s=hh();function i(l,u,d){var f=n(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return Iy=i,Iy}var WY=UY();const W3=Ze(WY);var HY=["x","y"];function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return t=GY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=VY(e,"string");return _c(t)=="symbol"?t:t+""}function VY(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QY(e,t){if(e==null)return{};var r=YY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XY(e,t){var r=e.x,n=e.y,s=QY(e,HY),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||s.height),p=parseInt(f,10),m="".concat(t.width||s.width),x=parseInt(m,10);return Dl(Dl(Dl(Dl(Dl({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function dA(e){return V.createElement(D3,vb({shapeType:"rectangle",propTransformer:XY,activeClassName:"recharts-active-bar"},e))}var JY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=pe(n)||y7(n);return i?t(n,s):(i||Gs(),r)}},ZY=["value","background"],H3;function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function eX(e,t){if(e==null)return{};var r=tX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G3(n.key),n)}}function nX(e,t,r){return t&&hA(e.prototype,t),r&&hA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,r){return t=If(t),sX(e,K3()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function sX(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bb(e,t)}function qa(e,t,r){return t=G3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=lX(e,"string");return po(t)=="symbol"?t:t+""}function lX(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ga=(function(e){function t(){var r;rX(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=aX(this,t,[].concat(s)),qa(r,"state",{isAnimationFinished:!1}),qa(r,"id",Ro("recharts-bar-")),qa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),qa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return oX(t,e),nX(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,p=_e(this.props,!1);return n&&n.map(function(m,x){var b=x===d,v=b?f:l,j=kt(kt(kt({},p),m),{},{isActive:b,option:v,index:x,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ge,Mf({className:"recharts-bar-rectangle"},Ws(s.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),V.createElement(dA,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,m=s.animationId,x=this.state.prevData;return V.createElement(An,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t,j=i.map(function(y,S){var A=x&&x[S];if(A){var _=Pr(A.x,y.x),k=Pr(A.y,y.y),C=Pr(A.width,y.width),O=Pr(A.height,y.height);return kt(kt({},y),{},{x:_(v),y:k(v),width:C(v),height:O(v)})}if(l==="horizontal"){var P=Pr(0,y.height),R=P(v);return kt(kt({},y),{},{y:y.y+y.height-R,height:R})}var $=Pr(0,y.width),I=$(v);return kt(kt({},y),{},{width:I})});return V.createElement(Ge,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!eu(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=_e(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,x=eX(f,ZY);if(!m)return null;var b=kt(kt(kt(kt(kt({},x),{},{fill:"#eee"},m),d),Ws(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return V.createElement(dA,Mf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},b))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=Tr(p,tu);if(!m)return null;var x=f==="vertical"?l[0].height/2:l[0].width/2,b=function(y,S){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:Tt(y,S)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ge,v,m.map(function(j){return V.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:x,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,x=n.height,b=n.isAnimationActive,v=n.background,j=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,S=ze("recharts-bar",l),A=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,k=A||_,C=Le(j)?this.id:j;return V.createElement(Ge,{className:S},A||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(C)},V.createElement("rect",{x:A?f:f-m/2,y:_?p:p-x/2,width:A?m:m*2,height:_?x:x*2}))):null,V.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!b||y)&&ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(N.PureComponent);H3=Ga;qa(Ga,"displayName","Bar");qa(Ga,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Js.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qa(Ga,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,b=RH(n,r);if(!b)return null;var v=t.layout,j=r.type.defaultProps,y=j!==void 0?kt(kt({},j),r.props):r.props,S=y.dataKey,A=y.children,_=y.minPointSize,k=v==="horizontal"?l:i,C=f?k.scale.domain():null,O=BH({numericAxis:k}),P=Tr(A,mh),R=m.map(function($,I){var T,M,H,Y,q,U;f?T=MH(f[p+I],C):(T=Tt($,S),Array.isArray(T)||(T=[O,T]));var F=JY(_,H3.defaultProps.minPointSize)(T[1],I);if(v==="horizontal"){var W,X=[l.scale(T[0]),l.scale(T[1])],z=X[0],B=X[1];M=zO({axis:i,ticks:u,bandSize:s,offset:b.offset,entry:$,index:I}),H=(W=B??z)!==null&&W!==void 0?W:void 0,Y=b.size;var L=z-B;if(q=Number.isNaN(L)?0:L,U={x:M,y:l.y,width:Y,height:l.height},Math.abs(F)>0&&Math.abs(q)<Math.abs(F)){var G=sr(q||F)*(Math.abs(F)-Math.abs(q));H-=G,q+=G}}else{var ee=[i.scale(T[0]),i.scale(T[1])],ue=ee[0],ge=ee[1];if(M=ue,H=zO({axis:l,ticks:d,bandSize:s,offset:b.offset,entry:$,index:I}),Y=ge-ue,q=b.size,U={x:i.x,y:H,width:i.width,height:q},Math.abs(F)>0&&Math.abs(Y)<Math.abs(F)){var ie=sr(Y||F)*(Math.abs(F)-Math.abs(Y));Y+=ie}}return kt(kt(kt({},$),{},{x:M,y:H,width:Y,height:q,value:f?T:T[1],payload:$,background:U},P&&P[I]&&P[I].props),{},{tooltipPayload:[v3(r,$)],tooltipPosition:{x:M+Y/2,y:H+q/2}})});return kt({data:R,layout:v},x)});function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function cX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V3(n.key),n)}}function uX(e,t,r){return t&&mA(e.prototype,t),r&&mA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){Rh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rh(e,t,r){return t=V3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3(e){var t=dX(e,"string");return Tc(t)=="symbol"?t:t+""}function dX(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q3=function(t,r,n,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!Or(f,Ga);return p.reduce(function(b,v){var j=r[v],y=j.orientation,S=j.domain,A=j.padding,_=A===void 0?{}:A,k=j.mirror,C=j.reversed,O="".concat(y).concat(k?"Mirror":""),P,R,$,I,T;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var M=S[1]-S[0],H=1/0,Y=j.categoricalDomain.sort(j7);if(Y.forEach(function(ee,ue){ue>0&&(H=Math.min((ee||0)-(Y[ue-1]||0),H))}),Number.isFinite(H)){var q=H/M,U=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(P=q*U/2),j.padding==="no-gap"){var F=ir(t.barCategoryGap,q*U),W=q*U/2;P=W-F-(W-F)/U*F}}}s==="xAxis"?R=[n.left+(_.left||0)+(P||0),n.left+n.width-(_.right||0)-(P||0)]:s==="yAxis"?R=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(P||0),n.top+n.height-(_.bottom||0)-(P||0)]:R=j.range,C&&(R=[R[1],R[0]]);var X=p3(j,i,x),z=X.scale,B=X.realScaleType;z.domain(S).range(R),g3(z);var L=x3(z,ln(ln({},j),{},{realScaleType:B}));s==="xAxis"?(T=y==="top"&&!k||y==="bottom"&&k,$=n.left,I=m[O]-T*j.height):s==="yAxis"&&(T=y==="left"&&!k||y==="right"&&k,$=m[O]-T*j.width,I=n.top);var G=ln(ln(ln({},j),L),{},{realScaleType:B,x:$,y:I,scale:z,width:s==="xAxis"?n.width:j.width,height:s==="yAxis"?n.height:j.height});return G.bandSize=xf(G,L),!j.hide&&s==="xAxis"?m[O]+=(T?-1:1)*G.height:j.hide||(m[O]+=(T?-1:1)*G.width),ln(ln({},b),{},Rh({},v,G))},{})},Y3=function(t,r){var n=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(n,i),y:Math.min(s,l),width:Math.abs(i-n),height:Math.abs(l-s)}},fX=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return Y3({x:r,y:n},{x:s,y:i})},X3=(function(){function e(t){cX(this,e),this.scale=t}return uX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Rh(X3,"EPS",1e-4);var Xj=function(t){var r=Object.keys(t).reduce(function(n,s){return ln(ln({},n),{},Rh({},s,X3.create(t[s])))},{});return ln(ln({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return BY(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return W3(s,function(i,l){return r[l].isInRange(i)})}})};function hX(e){return(e%180+180)%180}var mX=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=hX(s),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},$y,gA;function pX(){if(gA)return $y;gA=1;var e=Tn(),t=Qc(),r=dh();function n(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(m){return f(d[m],m,d)}}var p=s(i,l,u);return p>-1?d[f?i[p]:p]:void 0}}return $y=n,$y}var Dy,xA;function gX(){if(xA)return Dy;xA=1;var e=B3();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return Dy=t,Dy}var Ly,yA;function xX(){if(yA)return Ly;yA=1;var e=XE(),t=Tn(),r=gX(),n=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(i,t(l,3),f)}return Ly=s,Ly}var Fy,vA;function yX(){if(vA)return Fy;vA=1;var e=pX(),t=xX(),r=e(t);return Fy=r,Fy}var vX=yX();const bX=Ze(vX);var jX=hE();const wX=Ze(jX);var NX=wX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Jj=N.createContext(void 0),Zj=N.createContext(void 0),J3=N.createContext(void 0),Z3=N.createContext({}),e6=N.createContext(void 0),t6=N.createContext(0),r6=N.createContext(0),bA=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=NX(i);return V.createElement(Jj.Provider,{value:n},V.createElement(Zj.Provider,{value:s},V.createElement(Z3.Provider,{value:i},V.createElement(J3.Provider,{value:p},V.createElement(e6.Provider,{value:l},V.createElement(t6.Provider,{value:f},V.createElement(r6.Provider,{value:d},u)))))))},SX=function(){return N.useContext(e6)},n6=function(t){var r=N.useContext(Jj);r==null&&Gs();var n=r[t];return n==null&&Gs(),n},kX=function(){var t=N.useContext(Jj);return _a(t)},CX=function(){var t=N.useContext(Zj),r=bX(t,function(n){return W3(n.domain,Number.isFinite)});return r||_a(t)},a6=function(t){var r=N.useContext(Zj);r==null&&Gs();var n=r[t];return n==null&&Gs(),n},OX=function(){var t=N.useContext(J3);return t},PX=function(){return N.useContext(Z3)},ew=function(){return N.useContext(r6)},tw=function(){return N.useContext(t6)};function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function AX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i6(n.key),n)}}function _X(e,t,r){return t&&EX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TX(e,t,r){return t=$f(t),RX(e,s6()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function RX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MX(e)}function MX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function IX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jb(e,t)}function jb(e,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jb(e,t)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rw(e,t,r){return t=i6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6(e){var t=$X(e,"string");return go(t)=="symbol"?t:t+""}function $X(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DX(e,t){return zX(e)||BX(e,t)||FX(e,t)||LX()}function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(e,t){if(e){if(typeof e=="string")return NA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NA(e,t)}}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function zX(e){if(Array.isArray(e))return e}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}var qX=function(t,r){var n;return V.isValidElement(t)?n=V.cloneElement(t,r):$e(t)?n=t(r):n=V.createElement("line",wb({},r,{className:"recharts-reference-line-line"})),n},UX=function(t,r,n,s,i,l,u,d,f){var p=i.x,m=i.y,x=i.width,b=i.height;if(n){var v=f.y,j=t.y.apply(v,{position:l});if(On(f,"discard")&&!t.y.isInRange(j))return null;var y=[{x:p+x,y:j},{x:p,y:j}];return d==="left"?y.reverse():y}if(r){var S=f.x,A=t.x.apply(S,{position:l});if(On(f,"discard")&&!t.x.isInRange(A))return null;var _=[{x:A,y:m+b},{x:A,y:m}];return u==="top"?_.reverse():_}if(s){var k=f.segment,C=k.map(function(O){return t.apply(O,{position:l})});return On(f,"discard")&&$Y(C,function(O){return!t.isInRange(O)})?null:C}return null};function WX(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=SX(),p=n6(s),m=a6(i),x=OX();if(!f||!x)return null;dn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Xj({x:p.scale,y:m.scale}),v=Mt(t),j=Mt(r),y=n&&n.length===2,S=UX(b,v,j,y,x,e.position,p.orientation,m.orientation,e);if(!S)return null;var A=DX(S,2),_=A[0],k=_.x,C=_.y,O=A[1],P=O.x,R=O.y,$=On(e,"hidden")?"url(#".concat(f,")"):void 0,I=wA(wA({clipPath:$},_e(e,!0)),{},{x1:k,y1:C,x2:P,y2:R});return V.createElement(Ge,{className:ze("recharts-reference-line",u)},qX(l,I),qt.renderCallByParent(e,fX({x1:k,y1:C,x2:P,y2:R})))}var nw=(function(e){function t(){return AX(this,t),TX(this,t,arguments)}return IX(t,e),_X(t,[{key:"render",value:function(){return V.createElement(WX,this.props)}}])})(V.Component);rw(nw,"displayName","ReferenceLine");rw(nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function GX(e,t,r){return t&&KX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=Df(t),QX(e,o6()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function QX(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YX(e)}function YX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function XX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sb(e,t)}function Sb(e,t){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sb(e,t)}function Mh(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=JX(e,"string");return xo(t)=="symbol"?t:t+""}function JX(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZX=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,l=Xj({x:s.scale,y:i.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return On(t,"discard")&&!l.isInRange(u)?null:u},Ih=(function(e){function t(){return HX(this,t),VX(this,t,arguments)}return XX(t,e),GX(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=Mt(s),p=Mt(i);if(dn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=ZX(this.props);if(!m)return null;var x=m.x,b=m.y,v=this.props,j=v.shape,y=v.className,S=On(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=kA(kA({clipPath:S},_e(this.props,!0)),{},{cx:x,cy:b});return V.createElement(Ge,{className:ze("recharts-reference-dot",y)},t.renderDot(j,A),qt.renderCallByParent(this.props,{x:x-l,y:b-l,width:2*l,height:2*l}))}}])})(V.Component);Mh(Ih,"displayName","ReferenceDot");Mh(Ih,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mh(Ih,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):$e(e)?r=e(t):r=V.createElement(Ch,Nb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){$h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u6(n.key),n)}}function rJ(e,t,r){return t&&tJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nJ(e,t,r){return t=Lf(t),aJ(e,c6()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function aJ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sJ(e)}function sJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function iJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cb(e,t)}function Cb(e,t){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cb(e,t)}function $h(e,t,r){return t=u6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e){var t=oJ(e,"string");return yo(t)=="symbol"?t:t+""}function oJ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lJ=function(t,r,n,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var x=Xj({x:p.scale,y:m.scale}),b={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},v={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(f,{position:"end"}):x.y.rangeMax};return On(i,"discard")&&(!x.isInRange(b)||!x.isInRange(v))?null:Y3(b,v)},Dh=(function(e){function t(){return eJ(this,t),nJ(this,t,arguments)}return iJ(t,e),rJ(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;dn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Mt(s),x=Mt(i),b=Mt(l),v=Mt(u),j=this.props.shape;if(!m&&!x&&!b&&!v&&!j)return null;var y=lJ(m,x,b,v,this.props);if(!y&&!j)return null;var S=On(this.props,"hidden")?"url(#".concat(p,")"):void 0;return V.createElement(Ge,{className:ze("recharts-reference-area",d)},t.renderRect(j,OA(OA({clipPath:S},_e(this.props,!0)),y)),qt.renderCallByParent(this.props,y))}}])})(V.Component);$h(Dh,"displayName","ReferenceArea");$h(Dh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$h(Dh,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):$e(e)?r=e(t):r=V.createElement(Yj,kb({},t,{className:"recharts-reference-area-rect"})),r});function d6(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function cJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mX(n,r)}function uJ(e,t,r){var n=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:n?s:i,end:n?s+l:i+u}:{start:n?s+l:i+u,end:n?s:i}}function Ff(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function dJ(e,t){return d6(e,t+1)}function fJ(e,t,r,n,s){for(var i=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,m=function(){var v=n==null?void 0:n[d];if(v===void 0)return{v:d6(n,f)};var j=d,y,S=function(){return y===void 0&&(y=r(v,j)),y},A=v.coordinate,_=d===0||Ff(e,A,S,p,u);_||(d=0,p=l,f+=1),_&&(p=A+e*(S()/2+s),d+=f)},x;f<=i.length;)if(x=m(),x)return x.v;return[]}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t,r){return t=mJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=pJ(e,"string");return Rc(t)=="symbol"?t:t+""}function pJ(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gJ(e,t,r,n,s){for(var i=(n||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(x){var b=i[x],v,j=function(){return v===void 0&&(v=r(b,x)),v};if(x===l-1){var y=e*(b.coordinate+e*j()/2-d);i[x]=b=Jt(Jt({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else i[x]=b=Jt(Jt({},b),{},{tickCoord:b.coordinate});var S=Ff(e,b.tickCoord,j,u,d);S&&(d=b.tickCoord-e*(j()/2+s),i[x]=Jt(Jt({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return i}function xJ(e,t,r,n,s,i){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var p=n[u-1],m=r(p,u-1),x=e*(p.coordinate+e*m/2-f);l[u-1]=p=Jt(Jt({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var b=Ff(e,p.tickCoord,function(){return m},d,f);b&&(f=p.tickCoord-e*(m/2+s),l[u-1]=Jt(Jt({},p),{},{isShow:!0}))}for(var v=i?u-1:u,j=function(A){var _=l[A],k,C=function(){return k===void 0&&(k=r(_,A)),k};if(A===0){var O=e*(_.coordinate-e*C()/2-d);l[A]=_=Jt(Jt({},_),{},{tickCoord:O<0?_.coordinate-O*e:_.coordinate})}else l[A]=_=Jt(Jt({},_),{},{tickCoord:_.coordinate});var P=Ff(e,_.tickCoord,C,d,f);P&&(d=_.tickCoord+e*(C()/2+s),l[A]=Jt(Jt({},_),{},{isShow:!0}))},y=0;y<v;y++)j(y);return l}function aw(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!n)return[];if(pe(d)||Js.isSsr)return dJ(s,typeof d=="number"&&pe(d)?d:0);var x=[],b=u==="top"||u==="bottom"?"width":"height",v=p&&b==="width"?Wl(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=function(_,k){var C=$e(f)?f(_.value,k):_.value;return b==="width"?cJ(Wl(C,{fontSize:t,letterSpacing:r}),v,m):Wl(C,{fontSize:t,letterSpacing:r})[b]},y=s.length>=2?sr(s[1].coordinate-s[0].coordinate):1,S=uJ(i,y,b);return d==="equidistantPreserveStart"?fJ(y,S,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?x=xJ(y,S,j,s,l,d==="preserveStartEnd"):x=gJ(y,S,j,s,l),x.filter(function(A){return A.isShow}))}var yJ=["viewBox"],vJ=["viewBox"],bJ=["ticks"];function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function By(e,t){if(e==null)return{};var r=jJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h6(n.key),n)}}function NJ(e,t,r){return t&&EA(e.prototype,t),r&&EA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SJ(e,t,r){return t=Bf(t),kJ(e,f6()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function kJ(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(e)}function CJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function OJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ob(e,t)}function sw(e,t,r){return t=h6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6(e){var t=PJ(e,"string");return vo(t)=="symbol"?t:t+""}function PJ(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lo=(function(e){function t(r){var n;return wJ(this,t),n=SJ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return OJ(t,e),NJ(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,l=By(n,yJ),u=this.props,d=u.viewBox,f=By(u,vJ);return!Di(i,d)||!Di(l,f)||!Di(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,m=s.mirror,x=s.tickMargin,b,v,j,y,S,A,_=m?-1:1,k=n.tickSize||p,C=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=v=n.coordinate,y=l+ +!m*d,j=y-_*k,A=j-_*x,S=C;break;case"left":j=y=n.coordinate,v=i+ +!m*u,b=v-_*k,S=b-_*x,A=C;break;case"right":j=y=n.coordinate,v=i+ +m*u,b=v+_*k,S=b+_*x,A=C;break;default:b=v=n.coordinate,y=l+ +m*d,j=y+_*k,A=j+_*x,S=C;break}return{line:{x1:b,y1:j,x2:v,y2:y},tick:{x:S,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=At(At(At({},_e(this.props,!1)),_e(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!f||d==="bottom"&&f);m=At(At({},m),{},{x1:s,y1:i+x*u,x2:s+l,y2:i+x*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);m=At(At({},m),{},{x1:s+b*l,y1:i,x2:s+b*l,y2:i+u})}return V.createElement("line",Ii({},m,{className:ze("recharts-cartesian-axis-line",_r(p,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,x=u.unit,b=aw(At(At({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=_e(this.props,!1),S=_e(p,!1),A=At(At({},y),{},{fill:"none"},_e(d,!1)),_=b.map(function(k,C){var O=l.getTickLineCoord(k),P=O.line,R=O.tick,$=At(At(At(At({textAnchor:v,verticalAnchor:j},y),{},{stroke:"none",fill:f},S),R),{},{index:C,payload:k,visibleTicksCount:b.length,tickFormatter:m});return V.createElement(Ge,Ii({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Ws(l.props,k,C)),d&&V.createElement("line",Ii({},A,P,{className:ze("recharts-cartesian-axis-tick-line",_r(d,"className"))})),p&&t.renderTickItem(p,$,"".concat($e(m)?m(k.value,C):k.value).concat(x||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,p=s.hide;if(p)return null;var m=this.props,x=m.ticks,b=By(m,bJ),v=x;return $e(d)&&(v=x&&x.length>0?d(this.props):d(b)),l<=0||u<=0||!v||!v.length?null:V.createElement(Ge,{className:ze("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var l,u=ze(s.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(n)?l=V.cloneElement(n,At(At({},s),{},{className:u})):$e(n)?l=n(At(At({},s),{},{className:u})):l=V.createElement(Hs,Ii({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(N.Component);sw(Lo,"displayName","CartesianAxis");sw(Lo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var AJ=["x1","y1","x2","y2","key"],EJ=["offset"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){_J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _J(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=RJ(e,"string");return Vs(t)=="symbol"?t:t+""}function RJ(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}function TA(e,t){if(e==null)return{};var r=MJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IJ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function m6(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if($e(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=TA(t,AJ),f=_e(d,!1);f.offset;var p=TA(f,EJ);r=V.createElement("line",Cs({},p,{x1:n,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function $J(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Zt(Zt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return m6(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function DJ(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Zt(Zt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return m6(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function LJ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(x){return Math.round(x+s-s)}).sort(function(x,b){return x-b});s!==p[0]&&p.unshift(0);var m=p.map(function(x,b){var v=!p[b+1],j=v?s+l-x:p[b+1]-x;if(j<=0)return null;var y=b%t.length;return V.createElement("rect",{key:"react-".concat(b),y:x,x:n,height:j,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function FJ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(x){return Math.round(x+i-i)}).sort(function(x,b){return x-b});i!==p[0]&&p.unshift(0);var m=p.map(function(x,b){var v=!p[b+1],j=v?i+u-x:p[b+1]-x;if(j<=0)return null;var y=b%n.length;return V.createElement("rect",{key:"react-".concat(b),x,y:l,width:j,height:d,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var BJ=function(t,r){var n=t.xAxis,s=t.width,i=t.height,l=t.offset;return m3(aw(Zt(Zt(Zt({},Lo.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},zJ=function(t,r){var n=t.yAxis,s=t.width,i=t.height,l=t.offset;return m3(aw(Zt(Zt(Zt({},Lo.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},Ai={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iw(e){var t,r,n,s,i,l,u=ew(),d=tw(),f=PX(),p=Zt(Zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ai.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ai.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ai.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ai.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ai.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Ai.verticalFill,x:pe(e.x)?e.x:f.left,y:pe(e.y)?e.y:f.top,width:pe(e.width)?e.width:f.width,height:pe(e.height)?e.height:f.height}),m=p.x,x=p.y,b=p.width,v=p.height,j=p.syncWithTicks,y=p.horizontalValues,S=p.verticalValues,A=kX(),_=CX();if(!pe(b)||b<=0||!pe(v)||v<=0||!pe(m)||m!==+m||!pe(x)||x!==+x)return null;var k=p.verticalCoordinatesGenerator||BJ,C=p.horizontalCoordinatesGenerator||zJ,O=p.horizontalPoints,P=p.verticalPoints;if((!O||!O.length)&&$e(C)){var R=y&&y.length,$=C({yAxis:_?Zt(Zt({},_),{},{ticks:R?y:_.ticks}):void 0,width:u,height:d,offset:f},R?!0:j);dn(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vs($),"]")),Array.isArray($)&&(O=$)}if((!P||!P.length)&&$e(k)){var I=S&&S.length,T=k({xAxis:A?Zt(Zt({},A),{},{ticks:I?S:A.ticks}):void 0,width:u,height:d,offset:f},I?!0:j);dn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(T),"]")),Array.isArray(T)&&(P=T)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(IJ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),V.createElement($J,Cs({},p,{offset:f,horizontalPoints:O,xAxis:A,yAxis:_})),V.createElement(DJ,Cs({},p,{offset:f,verticalPoints:P,xAxis:A,yAxis:_})),V.createElement(LJ,Cs({},p,{horizontalPoints:O})),V.createElement(FJ,Cs({},p,{verticalPoints:P})))}iw.displayName="CartesianGrid";var qJ=["type","layout","connectNulls","ref"],UJ=["key"];function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function RA(e,t){if(e==null)return{};var r=WJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ei(e){return VJ(e)||GJ(e)||KJ(e)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function GJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VJ(e){if(Array.isArray(e))return Pb(e)}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function YJ(e,t,r){return t&&IA(e.prototype,t),r&&IA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XJ(e,t,r){return t=zf(t),JJ(e,p6()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function JJ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(e)}function ZJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p6=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function eZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ab(e,t)}function cn(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=tZ(e,"string");return bo(t)=="symbol"?t:t+""}function tZ(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jo=(function(e){function t(){var r;QJ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=XJ(this,t,[].concat(s)),cn(r,"state",{isAnimationFinished:!0,totalLength:0}),cn(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),cn(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(S,A){return S+A});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),m=l%f,x=u-l,b=[],v=0,j=0;v<d.length;j+=d[v],++v)if(j+d[v]>m){b=[].concat(Ei(d.slice(0,v)),[m-j]);break}var y=b.length%2===0?[0,x]:[x];return[].concat(Ei(t.repeat(d,p)),Ei(b),y).map(function(S){return"".concat(S,"px")}).join(", ")}),cn(r,"id",Ro("recharts-line-")),cn(r,"pathRef",function(l){r.mainCurve=l}),cn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eZ(t,e),YJ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=Tr(p,tu);if(!m)return null;var x=function(j,y){return{x:j.x,y:j.y,value:j.value,errorVal:Tt(j.payload,y)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ge,b,m.map(function(v){return V.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=_e(this.props,!1),x=_e(d,!0),b=f.map(function(j,y){var S=kr(kr(kr({key:"dot-".concat(y),r:3},m),x),{},{index:y,cx:j.x,cy:j.y,value:j.value,dataKey:p,payload:j.payload,points:f});return t.renderDotItem(d,S)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return V.createElement(Ge,Yl({className:"recharts-line-dots",key:"dots"},v),b)}},{key:"renderCurveStatically",value:function(n,s,i,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=RA(u,qJ),x=kr(kr(kr({},_e(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:p});return V.createElement(bf,Yl({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,x=l.animationEasing,b=l.animationId,v=l.animateNewValues,j=l.width,y=l.height,S=this.state,A=S.prevPoints,_=S.totalLength;return V.createElement(An,{begin:p,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(A){var O=A.length/u.length,P=u.map(function(M,H){var Y=Math.floor(H*O);if(A[Y]){var q=A[Y],U=Pr(q.x,M.x),F=Pr(q.y,M.y);return kr(kr({},M),{},{x:U(C),y:F(C)})}if(v){var W=Pr(j*2,M.x),X=Pr(y/2,M.y);return kr(kr({},M),{},{x:W(C),y:X(C)})}return kr(kr({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(P,n,s)}var R=Pr(0,_),$=R(C),I;if(d){var T="".concat(d).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});I=i.getStrokeDasharray($,_,T)}else I=i.generateSimpleStrokeDasharray(_,$);return i.renderCurveStatically(u,n,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,s){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!eu(f,l))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,p=s.yAxis,m=s.top,x=s.left,b=s.width,v=s.height,j=s.isAnimationActive,y=s.id;if(i||!u||!u.length)return null;var S=this.state.isAnimationFinished,A=u.length===1,_=ze("recharts-line",d),k=f&&f.allowDataOverflow,C=p&&p.allowDataOverflow,O=k||C,P=Le(y)?this.id:y,R=(n=_e(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=R.r,I=$===void 0?3:$,T=R.strokeWidth,M=T===void 0?2:T,H=E7(l)?l:{},Y=H.clipDot,q=Y===void 0?!0:Y,U=I*2+M;return V.createElement(Ge,{className:_},k||C?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:k?x:x-b/2,y:C?m:m-v/2,width:k?b:b*2,height:C?v:v*2})),!q&&V.createElement("clipPath",{id:"clipPath-dots-".concat(P)},V.createElement("rect",{x:x-U/2,y:m-U/2,width:b+U,height:v+U}))):null,!A&&this.renderCurve(O,P),this.renderErrorBar(O,P),(A||l)&&this.renderDots(O,q,P),(!j||S)&&ea.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Ei(n),[0]):n,l=[],u=0;u<s;++u)l=[].concat(Ei(l),Ei(i));return l}},{key:"renderDotItem",value:function(n,s){var i;if(V.isValidElement(n))i=V.cloneElement(n,s);else if($e(n))i=n(s);else{var l=s.key,u=RA(s,UJ),d=ze("recharts-line-dot",typeof n!="boolean"?n.className:"");i=V.createElement(Ch,Yl({key:l},u,{className:d}))}return i}}])})(N.PureComponent);cn(jo,"displayName","Line");cn(jo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Js.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cn(jo,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(x,b){var v=Tt(x,l);return p==="horizontal"?{x:BO({axis:r,ticks:s,bandSize:u,entry:x,index:b}),y:Le(v)?null:n.scale(v),value:v,payload:x}:{x:Le(v)?null:r.scale(v),y:BO({axis:n,ticks:i,bandSize:u,entry:x,index:b}),value:v,payload:x}});return kr({points:m,layout:p},f)});function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function rZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v6(n.key),n)}}function aZ(e,t,r){return t&&nZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZ(e,t,r){return t=qf(t),iZ(e,x6()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function iZ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x6=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function lZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Eb(e,t)}function y6(e,t,r){return t=v6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6(e){var t=cZ(e,"string");return wo(t)=="symbol"?t:t+""}function cZ(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function uZ(e){var t=e.xAxisId,r=ew(),n=tw(),s=n6(t);return s==null?null:N.createElement(Lo,_b({},s,{className:ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Xn(l,!0)}}))}var Fo=(function(e){function t(){return rZ(this,t),sZ(this,t,arguments)}return lZ(t,e),aZ(t,[{key:"render",value:function(){return N.createElement(uZ,this.props)}}])})(N.Component);y6(Fo,"displayName","XAxis");y6(Fo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w6(n.key),n)}}function hZ(e,t,r){return t&&fZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mZ(e,t,r){return t=Uf(t),pZ(e,b6()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function pZ(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZ(e)}function gZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function xZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tb(e,t)}function j6(e,t,r){return t=w6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=yZ(e,"string");return No(t)=="symbol"?t:t+""}function yZ(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}var vZ=function(t){var r=t.yAxisId,n=ew(),s=tw(),i=a6(r);return i==null?null:N.createElement(Lo,Rb({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(u){return Xn(u,!0)}}))},Bo=(function(e){function t(){return dZ(this,t),mZ(this,t,arguments)}return xZ(t,e),hZ(t,[{key:"render",value:function(){return N.createElement(vZ,this.props)}}])})(N.Component);j6(Bo,"displayName","YAxis");j6(Bo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $A(e){return NZ(e)||wZ(e)||jZ(e)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(e,t){if(e){if(typeof e=="string")return Mb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mb(e,t)}}function wZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NZ(e){if(Array.isArray(e))return Mb(e)}function Mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ib=function(t,r,n,s,i){var l=Tr(t,nw),u=Tr(t,Ih),d=[].concat($A(l),$A(u)),f=Tr(t,Dh),p="".concat(s,"Id"),m=s[0],x=r;if(d.length&&(x=d.reduce(function(j,y){if(y.props[p]===n&&On(y.props,"extendDomain")&&pe(y.props[m])){var S=y.props[m];return[Math.min(j[0],S),Math.max(j[1],S)]}return j},x)),f.length){var b="".concat(m,"1"),v="".concat(m,"2");x=f.reduce(function(j,y){if(y.props[p]===n&&On(y.props,"extendDomain")&&pe(y.props[b])&&pe(y.props[v])){var S=y.props[b],A=y.props[v];return[Math.min(j[0],S,A),Math.max(j[1],S,A)]}return j},x)}return i&&i.length&&(x=i.reduce(function(j,y){return pe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},x)),x},zy={exports:{}},DA;function SZ(){return DA||(DA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,m||d,x),v=r?r+f:f;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],b]:d._events[v].push(b):(d._events[v]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,b=m.length,v=new Array(b);x<b;x++)v[x]=m[x].fn;return v},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,x,b,v){var j=r?r+f:f;if(!this._events[j])return!1;var y=this._events[j],S=arguments.length,A,_;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,x),!0;case 5:return y.fn.call(y.context,p,m,x,b),!0;case 6:return y.fn.call(y.context,p,m,x,b,v),!0}for(_=1,A=new Array(S-1);_<S;_++)A[_-1]=arguments[_];y.fn.apply(y.context,A)}else{var k=y.length,C;for(_=0;_<k;_++)switch(y[_].once&&this.removeListener(f,y[_].fn,void 0,!0),S){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,p);break;case 3:y[_].fn.call(y[_].context,p,m);break;case 4:y[_].fn.call(y[_].context,p,m,x);break;default:if(!A)for(C=1,A=new Array(S-1);C<S;C++)A[C-1]=arguments[C];y[_].fn.apply(y[_].context,A)}}return!0},u.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,x){var b=r?r+f:f;if(!this._events[b])return this;if(!p)return l(this,b),this;var v=this._events[b];if(v.fn)v.fn===p&&(!x||v.once)&&(!m||v.context===m)&&l(this,b);else{for(var j=0,y=[],S=v.length;j<S;j++)(v[j].fn!==p||x&&!v[j].once||m&&v[j].context!==m)&&y.push(v[j]);y.length?this._events[b]=y.length===1?y[0]:y:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(zy)),zy.exports}var kZ=SZ();const CZ=Ze(kZ);var qy=new CZ,Uy="recharts.syncMouseEvents";function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function OZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N6(n.key),n)}}function AZ(e,t,r){return t&&PZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wy(e,t,r){return t=N6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=EZ(e,"string");return Mc(t)=="symbol"?t:t+""}function EZ(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _Z=(function(){function e(){OZ(this,e),Wy(this,"activeIndex",0),Wy(this,"coordinateList",[]),Wy(this,"layout","horizontal")}return AZ(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,x=r.mouseHandlerCallback,b=x===void 0?null:x;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+f,x=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function TZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&pe(n)&&pe(s))return!0}return!1}function RZ(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function S6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,l=ot(t,r,n,s),u=ot(t,r,n,i);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function MZ(e,t,r){var n,s,i,l;if(e==="horizontal")n=t.x,i=n,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,x=ot(u,d,f,m),b=ot(u,d,p,m);n=x.x,s=x.y,i=b.x,l=b.y}else return S6(t);return[{x:n,y:s},{x:i,y:l}]}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return t=$Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=DZ(e,"string");return Ic(t)=="symbol"?t:t+""}function DZ(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!i||!l||x!=="ScatterChart"&&s!=="axis")return null;var v,j=bf;if(x==="ScatterChart")v=l,j=iQ;else if(x==="BarChart")v=RZ(m,l,d,p),j=Yj;else if(m==="radial"){var y=S6(l),S=y.cx,A=y.cy,_=y.radius,k=y.startAngle,C=y.endAngle;v={cx:S,cy:A,startAngle:k,endAngle:C,innerRadius:_,outerRadius:_},j=k3}else v={points:MZ(m,l,d)},j=bf;var O=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},d),v),_e(b,!1)),{},{payload:u,payloadIndex:f,className:ze("recharts-tooltip-cursor",b.className)});return N.isValidElement(b)?N.cloneElement(b,O):N.createElement(j,O)}var FZ=["item"],BZ=["children","className","width","height","style","compact","title","desc"];function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}function FA(e,t){return UZ(e)||qZ(e,t)||C6(e,t)||zZ()}function zZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function UZ(e){if(Array.isArray(e))return e}function BA(e,t){if(e==null)return{};var r=WZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O6(n.key),n)}}function GZ(e,t,r){return t&&KZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VZ(e,t,r){return t=Wf(t),QZ(e,k6()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function QZ(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YZ(e)}function YZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function XZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$b(e,t)}function $b(e,t){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$b(e,t)}function ko(e){return eee(e)||ZZ(e)||C6(e)||JZ()}function JZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function ZZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eee(e){if(Array.isArray(e))return Db(e)}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Te(e,t,r){return t=O6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O6(e){var t=tee(e,"string");return So(t)=="symbol"?t:t+""}function tee(e,t){if(So(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ree={xAxis:["bottom","top"],yAxis:["left","right"]},nee={width:"100%",height:"100%"},P6={x:0,y:0};function Td(e){return e}var aee=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},see=function(t,r,n,s){var i=r.find(function(p){return p&&p.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return oe(oe(oe({},s),ot(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return oe(oe(oe({},s),ot(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return P6},Lh=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(ko(u),ko(f)):u},[]);return l.length>0?l:t&&t.length&&pe(s)&&pe(i)?t.slice(s,i+1):[]};function A6(e){return e==="number"?[0,"auto"]:void 0}var Lb=function(t,r,n,s){var i=t.graphicalItems,l=t.tooltipAxis,u=Lh(r,t);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var b=m===void 0?u:m;x=Wd(b,l.dataKey,s)}else x=m&&m[n]||u[n];return x?[].concat(ko(d),[v3(f,x)]):d},[])},qA=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},l=aee(i,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=OH(l,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,x=Lb(t,r,p,m),b=see(n,u,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:x,activeCoordinate:b}}return null},iee=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=t.stackOffset,b=h3(p,i);return n.reduce(function(v,j){var y,S=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,A=S.type,_=S.dataKey,k=S.allowDataOverflow,C=S.allowDuplicatedCategory,O=S.scale,P=S.ticks,R=S.includeHidden,$=S[l];if(v[$])return v;var I=Lh(t.data,{graphicalItems:s.filter(function(L){var G,ee=l in L.props?L.props[l]:(G=L.type.defaultProps)===null||G===void 0?void 0:G[l];return ee===$}),dataStartIndex:d,dataEndIndex:f}),T=I.length,M,H,Y;TZ(S.domain,k,A)&&(M=Jv(S.domain,null,k),b&&(A==="number"||O!=="auto")&&(Y=Kl(I,_,"category")));var q=A6(A);if(!M||M.length===0){var U,F=(U=S.domain)!==null&&U!==void 0?U:q;if(_){if(M=Kl(I,_,A),A==="category"&&b){var W=b7(M);C&&W?(H=M,M=_f(0,T)):C||(M=WO(F,M,j).reduce(function(L,G){return L.indexOf(G)>=0?L:[].concat(ko(L),[G])},[]))}else if(A==="category")C?M=M.filter(function(L){return L!==""&&!Le(L)}):M=WO(F,M,j).reduce(function(L,G){return L.indexOf(G)>=0||G===""||Le(G)?L:[].concat(ko(L),[G])},[]);else if(A==="number"){var X=TH(I,s.filter(function(L){var G,ee,ue=l in L.props?L.props[l]:(G=L.type.defaultProps)===null||G===void 0?void 0:G[l],ge="hide"in L.props?L.props.hide:(ee=L.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ue===$&&(R||!ge)}),_,i,p);X&&(M=X)}b&&(A==="number"||O!=="auto")&&(Y=Kl(I,_,"category"))}else b?M=_f(0,T):u&&u[$]&&u[$].hasStack&&A==="number"?M=x==="expand"?[0,1]:y3(u[$].stackGroups,d,f):M=f3(I,s.filter(function(L){var G=l in L.props?L.props[l]:L.type.defaultProps[l],ee="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return G===$&&(R||!ee)}),A,p,!0);if(A==="number")M=Ib(m,M,$,i,P),F&&(M=Jv(F,M,k));else if(A==="category"&&F){var z=F,B=M.every(function(L){return z.indexOf(L)>=0});B&&(M=z)}}return oe(oe({},v),{},Te({},$,oe(oe({},S),{},{axisType:i,domain:M,categoricalDomain:Y,duplicateDomain:H,originalDomain:(y=S.domain)!==null&&y!==void 0?y:q,isCategorical:b,layout:p})))},{})},oee=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=Lh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=x.length,v=h3(p,i),j=-1;return n.reduce(function(y,S){var A=S.type.defaultProps!==void 0?oe(oe({},S.type.defaultProps),S.props):S.props,_=A[l],k=A6("number");if(!y[_]){j++;var C;return v?C=_f(0,b):u&&u[_]&&u[_].hasStack?(C=y3(u[_].stackGroups,d,f),C=Ib(m,C,_,i)):(C=Jv(k,f3(x,n.filter(function(O){var P,R,$=l in O.props?O.props[l]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[l],I="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return $===_&&!I}),"number",p),s.defaultProps.allowDataOverflow),C=Ib(m,C,_,i)),oe(oe({},y),{},Te({},_,oe(oe({axisType:i},s.defaultProps),{},{hide:!0,orientation:_r(ree,"".concat(i,".").concat(j%2),null),domain:C,originalDomain:k,isCategorical:v,layout:p})))}return y},{})},lee=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(s,"Id"),x=Tr(p,i),b={};return x&&x.length?b=iee(t,{axes:x,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=oee(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},cee=function(t){var r=_a(t),n=Xn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wj(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xf(r,n)}},UA=function(t){var r=t.children,n=t.defaultShowTooltip,s=Or(r,mo),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},uee=function(t){return!t||!t.length?!1:t.some(function(r){var n=Jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},WA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dee=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,x=n.margin||{},b=Or(m,mo),v=Or(m,Ha),j=Object.keys(d).reduce(function(C,O){var P=d[O],R=P.orientation;return!P.mirror&&!P.hide?oe(oe({},C),{},Te({},R,C[R]+P.width)):C},{left:x.left||0,right:x.right||0}),y=Object.keys(l).reduce(function(C,O){var P=l[O],R=P.orientation;return!P.mirror&&!P.hide?oe(oe({},C),{},Te({},R,_r(C,"".concat(R))+P.height)):C},{top:x.top||0,bottom:x.bottom||0}),S=oe(oe({},y),j),A=S.bottom;b&&(S.bottom+=b.props.height||mo.defaultProps.height),v&&r&&(S=EH(S,s,n,r));var _=f-S.left-S.right,k=p-S.top-S.bottom;return oe(oe({brushBottom:A},S),{},{width:Math.max(_,0),height:Math.max(k,0)})},fee=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ow=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,x=function(S,A){var _=A.graphicalItems,k=A.stackGroups,C=A.offset,O=A.updateId,P=A.dataStartIndex,R=A.dataEndIndex,$=S.barSize,I=S.layout,T=S.barGap,M=S.barCategoryGap,H=S.maxBarSize,Y=WA(I),q=Y.numericAxisName,U=Y.cateAxisName,F=uee(_),W=[];return _.forEach(function(X,z){var B=Lh(S.data,{graphicalItems:[X],dataStartIndex:P,dataEndIndex:R}),L=X.type.defaultProps!==void 0?oe(oe({},X.type.defaultProps),X.props):X.props,G=L.dataKey,ee=L.maxBarSize,ue=L["".concat(q,"Id")],ge=L["".concat(U,"Id")],ie={},xe=d.reduce(function(lr,Yr){var ri=A["".concat(Yr.axisType,"Map")],zo=L["".concat(Yr.axisType,"Id")];ri&&ri[zo]||Yr.axisType==="zAxis"||Gs();var qo=ri[zo];return oe(oe({},lr),{},Te(Te({},Yr.axisType,qo),"".concat(Yr.axisType,"Ticks"),Xn(qo)))},ie),ce=xe[U],Oe=xe["".concat(U,"Ticks")],Re=k&&k[ue]&&k[ue].hasStack&&zH(X,k[ue].stackGroups),te=Jn(X.type).indexOf("Bar")>=0,be=xf(ce,Oe),je=[],tt=F&&PH({barSize:$,stackGroups:k,totalSize:fee(xe,U)});if(te){var gt,$t,Qr=Le(ee)?H:ee,mn=(gt=($t=xf(ce,Oe,!0))!==null&&$t!==void 0?$t:Qr)!==null&&gt!==void 0?gt:0;je=AH({barGap:T,barCategoryGap:M,bandSize:mn!==be?mn:be,sizeList:tt[ge],maxBarSize:Qr}),mn!==be&&(je=je.map(function(lr){return oe(oe({},lr),{},{position:oe(oe({},lr.position),{},{offset:lr.position.offset-mn/2})})}))}var pn=X&&X.type&&X.type.getComposedData;pn&&W.push({props:oe(oe({},pn(oe(oe({},xe),{},{displayedData:B,props:S,dataKey:G,item:X,bandSize:be,barPosition:je,offset:C,stackedData:Re,layout:I,dataStartIndex:P,dataEndIndex:R}))),{},Te(Te(Te({key:X.key||"item-".concat(z)},q,xe[q]),U,xe[U]),"animationId",O)),childIndex:R7(X,S.children),item:X})}),W},b=function(S,A){var _=S.props,k=S.dataStartIndex,C=S.dataEndIndex,O=S.updateId;if(!ak({props:_}))return null;var P=_.children,R=_.layout,$=_.stackOffset,I=_.data,T=_.reverseStackOrder,M=WA(R),H=M.numericAxisName,Y=M.cateAxisName,q=Tr(P,n),U=FH(I,q,"".concat(H,"Id"),"".concat(Y,"Id"),$,T),F=d.reduce(function(L,G){var ee="".concat(G.axisType,"Map");return oe(oe({},L),{},Te({},ee,lee(_,oe(oe({},G),{},{graphicalItems:q,stackGroups:G.axisType===H&&U,dataStartIndex:k,dataEndIndex:C}))))},{}),W=dee(oe(oe({},F),{},{props:_,graphicalItems:q}),A==null?void 0:A.legendBBox);Object.keys(F).forEach(function(L){F[L]=p(_,F[L],W,L.replace("Map",""),r)});var X=F["".concat(Y,"Map")],z=cee(X),B=x(_,oe(oe({},F),{},{dataStartIndex:k,dataEndIndex:C,updateId:O,graphicalItems:q,stackGroups:U,offset:W}));return oe(oe({formattedGraphicalItems:B,graphicalItems:q,offset:W,stackGroups:U},z),F)},v=(function(y){function S(A){var _,k,C;return HZ(this,S),C=VZ(this,S,[A]),Te(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(C,"accessibilityManager",new _Z),Te(C,"handleLegendBBoxUpdate",function(O){if(O){var P=C.state,R=P.dataStartIndex,$=P.dataEndIndex,I=P.updateId;C.setState(oe({legendBBox:O},b({props:C.props,dataStartIndex:R,dataEndIndex:$,updateId:I},oe(oe({},C.state),{},{legendBBox:O}))))}}),Te(C,"handleReceiveSyncEvent",function(O,P,R){if(C.props.syncId===O){if(R===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Te(C,"handleBrushChange",function(O){var P=O.startIndex,R=O.endIndex;if(P!==C.state.dataStartIndex||R!==C.state.dataEndIndex){var $=C.state.updateId;C.setState(function(){return oe({dataStartIndex:P,dataEndIndex:R},b({props:C.props,dataStartIndex:P,dataEndIndex:R,updateId:$},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),Te(C,"handleMouseEnter",function(O){var P=C.getMouseInfo(O);if(P){var R=oe(oe({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var $=C.props.onMouseEnter;$e($)&&$(R,O)}}),Te(C,"triggeredAfterMouseMove",function(O){var P=C.getMouseInfo(O),R=P?oe(oe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(R),C.triggerSyncEvent(R);var $=C.props.onMouseMove;$e($)&&$(R,O)}),Te(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Te(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Te(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),Te(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var R=C.props.onMouseLeave;$e(R)&&R(P,O)}),Te(C,"handleOuterEvent",function(O){var P=T7(O),R=_r(C.props,"".concat(P));if(P&&$e(R)){var $,I;/.*touch.*/i.test(P)?I=C.getMouseInfo(O.changedTouches[0]):I=C.getMouseInfo(O),R(($=I)!==null&&$!==void 0?$:{},O)}}),Te(C,"handleClick",function(O){var P=C.getMouseInfo(O);if(P){var R=oe(oe({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var $=C.props.onClick;$e($)&&$(R,O)}}),Te(C,"handleMouseDown",function(O){var P=C.props.onMouseDown;if($e(P)){var R=C.getMouseInfo(O);P(R,O)}}),Te(C,"handleMouseUp",function(O){var P=C.props.onMouseUp;if($e(P)){var R=C.getMouseInfo(O);P(R,O)}}),Te(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Te(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),Te(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),Te(C,"handleDoubleClick",function(O){var P=C.props.onDoubleClick;if($e(P)){var R=C.getMouseInfo(O);P(R,O)}}),Te(C,"handleContextMenu",function(O){var P=C.props.onContextMenu;if($e(P)){var R=C.getMouseInfo(O);P(R,O)}}),Te(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&qy.emit(Uy,C.props.syncId,O,C.eventEmitterSymbol)}),Te(C,"applySyncEvent",function(O){var P=C.props,R=P.layout,$=P.syncMethod,I=C.state.updateId,T=O.dataStartIndex,M=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(oe({dataStartIndex:T,dataEndIndex:M},b({props:C.props,dataStartIndex:T,dataEndIndex:M,updateId:I},C.state)));else if(O.activeTooltipIndex!==void 0){var H=O.chartX,Y=O.chartY,q=O.activeTooltipIndex,U=C.state,F=U.offset,W=U.tooltipTicks;if(!F)return;if(typeof $=="function")q=$(W,O);else if($==="value"){q=-1;for(var X=0;X<W.length;X++)if(W[X].value===O.activeLabel){q=X;break}}var z=oe(oe({},F),{},{x:F.left,y:F.top}),B=Math.min(H,z.x+z.width),L=Math.min(Y,z.y+z.height),G=W[q]&&W[q].value,ee=Lb(C.state,C.props.data,q),ue=W[q]?{x:R==="horizontal"?W[q].coordinate:B,y:R==="horizontal"?L:W[q].coordinate}:P6;C.setState(oe(oe({},O),{},{activeLabel:G,activeCoordinate:ue,activePayload:ee,activeTooltipIndex:q}))}else C.setState(O)}),Te(C,"renderCursor",function(O){var P,R=C.state,$=R.isTooltipActive,I=R.activeCoordinate,T=R.activePayload,M=R.offset,H=R.activeTooltipIndex,Y=R.tooltipAxisBandSize,q=C.getTooltipEventType(),U=(P=O.props.active)!==null&&P!==void 0?P:$,F=C.props.layout,W=O.key||"_recharts-cursor";return V.createElement(LZ,{key:W,activeCoordinate:I,activePayload:T,activeTooltipIndex:H,chartName:r,element:O,isActive:U,layout:F,offset:M,tooltipAxisBandSize:Y,tooltipEventType:q})}),Te(C,"renderPolarAxis",function(O,P,R){var $=_r(O,"type.axisType"),I=_r(C.state,"".concat($,"Map")),T=O.type.defaultProps,M=T!==void 0?oe(oe({},T),O.props):O.props,H=I&&I[M["".concat($,"Id")]];return N.cloneElement(O,oe(oe({},H),{},{className:ze($,H.className),key:O.key||"".concat(P,"-").concat(R),ticks:Xn(H,!0)}))}),Te(C,"renderPolarGrid",function(O){var P=O.props,R=P.radialLines,$=P.polarAngles,I=P.polarRadius,T=C.state,M=T.radiusAxisMap,H=T.angleAxisMap,Y=_a(M),q=_a(H),U=q.cx,F=q.cy,W=q.innerRadius,X=q.outerRadius;return N.cloneElement(O,{polarAngles:Array.isArray($)?$:Xn(q,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:Xn(Y,!0).map(function(z){return z.coordinate}),cx:U,cy:F,innerRadius:W,outerRadius:X,key:O.key||"polar-grid",radialLines:R})}),Te(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,P=C.props,R=P.children,$=P.width,I=P.height,T=C.props.margin||{},M=$-(T.left||0)-(T.right||0),H=u3({children:R,formattedGraphicalItems:O,legendWidth:M,legendContent:f});if(!H)return null;var Y=H.item,q=BA(H,FZ);return N.cloneElement(Y,oe(oe({},q),{},{chartWidth:$,chartHeight:I,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Te(C,"renderTooltip",function(){var O,P=C.props,R=P.children,$=P.accessibilityLayer,I=Or(R,Wr);if(!I)return null;var T=C.state,M=T.isTooltipActive,H=T.activeCoordinate,Y=T.activePayload,q=T.activeLabel,U=T.offset,F=(O=I.props.active)!==null&&O!==void 0?O:M;return N.cloneElement(I,{viewBox:oe(oe({},U),{},{x:U.left,y:U.top}),active:F,label:q,payload:F?Y:[],coordinate:H,accessibilityLayer:$})}),Te(C,"renderBrush",function(O){var P=C.props,R=P.margin,$=P.data,I=C.state,T=I.offset,M=I.dataStartIndex,H=I.dataEndIndex,Y=I.updateId;return N.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Od(C.handleBrushChange,O.props.onChange),data:$,x:pe(O.props.x)?O.props.x:T.left,y:pe(O.props.y)?O.props.y:T.top+T.height+T.brushBottom-(R.bottom||0),width:pe(O.props.width)?O.props.width:T.width,startIndex:M,endIndex:H,updateId:"brush-".concat(Y)})}),Te(C,"renderReferenceElement",function(O,P,R){if(!O)return null;var $=C,I=$.clipPathId,T=C.state,M=T.xAxisMap,H=T.yAxisMap,Y=T.offset,q=O.type.defaultProps||{},U=O.props,F=U.xAxisId,W=F===void 0?q.xAxisId:F,X=U.yAxisId,z=X===void 0?q.yAxisId:X;return N.cloneElement(O,{key:O.key||"".concat(P,"-").concat(R),xAxis:M[W],yAxis:H[z],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:I})}),Te(C,"renderActivePoints",function(O){var P=O.item,R=O.activePoint,$=O.basePoint,I=O.childIndex,T=O.isRange,M=[],H=P.props.key,Y=P.item.type.defaultProps!==void 0?oe(oe({},P.item.type.defaultProps),P.item.props):P.item.props,q=Y.activeDot,U=Y.dataKey,F=oe(oe({index:I,dataKey:U,cx:R.x,cy:R.y,r:4,fill:Qj(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},_e(q,!1)),Hd(q));return M.push(S.renderActiveDot(q,F,"".concat(H,"-activePoint-").concat(I))),$?M.push(S.renderActiveDot(q,oe(oe({},F),{},{cx:$.x,cy:$.y}),"".concat(H,"-basePoint-").concat(I))):T&&M.push(null),M}),Te(C,"renderGraphicChild",function(O,P,R){var $=C.filterFormatItem(O,P,R);if(!$)return null;var I=C.getTooltipEventType(),T=C.state,M=T.isTooltipActive,H=T.tooltipAxis,Y=T.activeTooltipIndex,q=T.activeLabel,U=C.props.children,F=Or(U,Wr),W=$.props,X=W.points,z=W.isRange,B=W.baseLine,L=$.item.type.defaultProps!==void 0?oe(oe({},$.item.type.defaultProps),$.item.props):$.item.props,G=L.activeDot,ee=L.hide,ue=L.activeBar,ge=L.activeShape,ie=!!(!ee&&M&&F&&(G||ue||ge)),xe={};I!=="axis"&&F&&F.props.trigger==="click"?xe={onClick:Od(C.handleItemMouseEnter,O.props.onClick)}:I!=="axis"&&(xe={onMouseLeave:Od(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Od(C.handleItemMouseEnter,O.props.onMouseEnter)});var ce=N.cloneElement(O,oe(oe({},$.props),xe));function Oe(Yr){return typeof H.dataKey=="function"?H.dataKey(Yr.payload):null}if(ie)if(Y>=0){var Re,te;if(H.dataKey&&!H.allowDuplicatedCategory){var be=typeof H.dataKey=="function"?Oe:"payload.".concat(H.dataKey.toString());Re=Wd(X,be,q),te=z&&B&&Wd(B,be,q)}else Re=X==null?void 0:X[Y],te=z&&B&&B[Y];if(ge||ue){var je=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[N.cloneElement(O,oe(oe(oe({},$.props),xe),{},{activeIndex:je})),null,null]}if(!Le(Re))return[ce].concat(ko(C.renderActivePoints({item:$,activePoint:Re,basePoint:te,childIndex:Y,isRange:z})))}else{var tt,gt=(tt=C.getItemByXY(C.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ce},$t=gt.graphicalItem,Qr=$t.item,mn=Qr===void 0?O:Qr,pn=$t.childIndex,lr=oe(oe(oe({},$.props),xe),{},{activeIndex:pn});return[N.cloneElement(mn,lr),null,null]}return z?[ce,null,null]:[ce,null]}),Te(C,"renderCustomized",function(O,P,R){return N.cloneElement(O,oe(oe({key:"recharts-customized-".concat(R)},C.props),C.state))}),Te(C,"renderMap",{CartesianGrid:{handler:Td,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Td},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Td},YAxis:{handler:Td},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((_=A.id)!==null&&_!==void 0?_:Ro("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=u_(C.triggeredAfterMouseMove,(k=A.throttleDelay)!==null&&k!==void 0?k:1e3/60),C.state={},C}return XZ(S,y),GZ(S,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,C=_.data,O=_.height,P=_.layout,R=Or(k,Wr);if(R){var $=R.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,T=Lb(this.state,C,$,I),M=this.state.tooltipTicks[$].coordinate,H=(this.state.offset.top+O)/2,Y=P==="horizontal",q=Y?{x:M,y:H}:{y:M,x:H},U=this.state.formattedGraphicalItems.find(function(W){var X=W.item;return X.type.name==="Scatter"});U&&(q=oe(oe({},q),U.props.points[$].tooltipPosition),T=U.props.points[$].tooltipPayload);var F={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:q};this.setState(F),this.renderCursor(R),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){bv([Or(_.children,Wr)],[Or(this.props.children,Wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Or(this.props.children,Wr);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return u.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,C=k.getBoundingClientRect(),O=vz(C),P={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},R=C.width/k.offsetWidth||1,$=this.inRange(P.chartX,P.chartY,R);if(!$)return null;var I=this.state,T=I.xAxisMap,M=I.yAxisMap,H=this.getTooltipEventType(),Y=qA(this.state,this.props.data,this.props.layout,$);if(H!=="axis"&&T&&M){var q=_a(T).scale,U=_a(M).scale,F=q&&q.invert?q.invert(P.chartX):null,W=U&&U.invert?U.invert(P.chartY):null;return oe(oe({},P),{},{xValue:F,yValue:W},Y)}return Y?oe(oe({},P),Y):null}},{key:"inRange",value:function(_,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=_/C,R=k/C;if(O==="horizontal"||O==="vertical"){var $=this.state.offset,I=P>=$.left&&P<=$.left+$.width&&R>=$.top&&R<=$.top+$.height;return I?{x:P,y:R}:null}var T=this.state,M=T.angleAxisMap,H=T.radiusAxisMap;if(M&&H){var Y=_a(M);return GO({x:P,y:R},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),C=Or(_,Wr),O={};C&&k==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Hd(this.props,this.handleOuterEvent);return oe(oe({},P),O)}},{key:"addListener",value:function(){qy.on(Uy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qy.removeListener(Uy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,C){for(var O=this.state.formattedGraphicalItems,P=0,R=O.length;P<R;P++){var $=O[P];if($.item===_||$.props.key===_.key||k===Jn($.item.type)&&C===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,C=k.left,O=k.top,P=k.height,R=k.width;return V.createElement("defs",null,V.createElement("clipPath",{id:_},V.createElement("rect",{x:C,y:O,height:P,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,C){var O=FA(C,2),P=O[0],R=O[1];return oe(oe({},k),{},Te({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,C){var O=FA(C,2),P=O[0],R=O[1];return oe(oe({},k),{},Te({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,C=k.formattedGraphicalItems,O=k.activeItem;if(C&&C.length)for(var P=0,R=C.length;P<R;P++){var $=C[P],I=$.props,T=$.item,M=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,H=Jn(T.type);if(H==="Bar"){var Y=(I.data||[]).find(function(W){return BV(_,W)});if(Y)return{graphicalItem:$,payload:Y}}else if(H==="RadialBar"){var q=(I.data||[]).find(function(W){return GO(_,W)});if(q)return{graphicalItem:$,payload:q}}else if(_h($,O)||Th($,O)||Ac($,O)){var U=cY({graphicalItem:$,activeTooltipItem:O,itemData:M.data}),F=M.activeIndex===void 0?U:M.activeIndex;return{graphicalItem:oe(oe({},$),{},{childIndex:F}),payload:Ac($,O)?M.data[U]:$.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!ak(this))return null;var k=this.props,C=k.children,O=k.className,P=k.width,R=k.height,$=k.style,I=k.compact,T=k.title,M=k.desc,H=BA(k,BZ),Y=_e(H,!1);if(I)return V.createElement(bA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(wv,$i({},Y,{width:P,height:R,title:T,desc:M}),this.renderClipPath(),ik(C,this.renderMap)));if(this.props.accessibilityLayer){var q,U;Y.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,Y.role=(U=this.props.role)!==null&&U!==void 0?U:"application",Y.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},Y.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return V.createElement(bA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",$i({className:ze("recharts-wrapper",O),style:oe({position:"relative",cursor:"default",width:P,height:R},$)},F,{ref:function(X){_.container=X}}),V.createElement(wv,$i({},Y,{width:P,height:R,title:T,desc:M,style:nee}),this.renderClipPath(),ik(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);Te(v,"displayName",r),Te(v,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Te(v,"getDerivedStateFromProps",function(y,S){var A=y.dataKey,_=y.data,k=y.children,C=y.width,O=y.height,P=y.layout,R=y.stackOffset,$=y.margin,I=S.dataStartIndex,T=S.dataEndIndex;if(S.updateId===void 0){var M=UA(y);return oe(oe(oe({},M),{},{updateId:0},b(oe(oe({props:y},M),{},{updateId:0}),S)),{},{prevDataKey:A,prevData:_,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:R,prevMargin:$,prevChildren:k})}if(A!==S.prevDataKey||_!==S.prevData||C!==S.prevWidth||O!==S.prevHeight||P!==S.prevLayout||R!==S.prevStackOffset||!Di($,S.prevMargin)){var H=UA(y),Y={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},q=oe(oe({},qA(S,_,P)),{},{updateId:S.updateId+1}),U=oe(oe(oe({},H),Y),q);return oe(oe(oe({},U),b(oe({props:y},U),S)),{},{prevDataKey:A,prevData:_,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:R,prevMargin:$,prevChildren:k})}if(!bv(k,S.prevChildren)){var F,W,X,z,B=Or(k,mo),L=B&&(F=(W=B.props)===null||W===void 0?void 0:W.startIndex)!==null&&F!==void 0?F:I,G=B&&(X=(z=B.props)===null||z===void 0?void 0:z.endIndex)!==null&&X!==void 0?X:T,ee=L!==I||G!==T,ue=!Le(_),ge=ue&&!ee?S.updateId:S.updateId+1;return oe(oe({updateId:ge},b(oe(oe({props:y},S),{},{updateId:ge,dataStartIndex:L,dataEndIndex:G}),S)),{},{prevChildren:k,dataStartIndex:L,dataEndIndex:G})}return null}),Te(v,"renderActiveDot",function(y,S,A){var _;return N.isValidElement(y)?_=N.cloneElement(y,S):$e(y)?_=y(S):_=V.createElement(Ch,S),V.createElement(Ge,{className:"recharts-active-dot",key:A},_)});var j=N.forwardRef(function(S,A){return V.createElement(v,$i({},S,{ref:A}))});return j.displayName=v.displayName,j},hee=ow({chartName:"LineChart",GraphicalChild:jo,axisComponents:[{axisType:"xAxis",AxisComp:Fo},{axisType:"yAxis",AxisComp:Bo}],formatAxisMap:Q3}),mee=ow({chartName:"BarChart",GraphicalChild:Ga,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fo},{axisType:"yAxis",AxisComp:Bo}],formatAxisMap:Q3}),pee=ow({chartName:"PieChart",GraphicalChild:ca,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eh},{axisType:"radiusAxis",AxisComp:Ph}],formatAxisMap:XH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const HA=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],gee=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function xee({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:n=>n.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:n=>`${n}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:n=>`${n}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:n=>`$${(n/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:n=>n.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:n=>n.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>a.jsxs("div",{className:`${n.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n.title}),a.jsx("p",{className:`text-2xl font-bold ${n.color}`,children:t?"-":n.format(n.value)})]},n.title))})}function yee({data:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx(Sj,{width:"100%",height:256,children:a.jsxs(hee,{data:e,children:[a.jsx(iw,{strokeDasharray:"3 3"}),a.jsx(Fo,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(Bo,{tick:{fontSize:12}}),a.jsx(Wr,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,n)=>[r.toLocaleString(),n]}),a.jsx(Ha,{}),a.jsx(jo,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),a.jsx(jo,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function vee({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(n=>n.totalCostCents>0).slice(0,8).map(n=>({name:n.agentName||n.agentId.slice(0,8),value:n.totalCostCents}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx(Sj,{width:"100%",height:256,children:a.jsxs(pee,{children:[a.jsx(ca,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:s})=>`${n} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,s)=>a.jsx(mh,{fill:HA[s%HA.length]},`cell-${s}`))}),a.jsx(Wr,{formatter:n=>[`$${(n/100).toFixed(2)}`,"Cost"]})]})})]})}function bee({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(n=>({name:n.agentName||n.agentId.slice(0,8),avgLatency:n.avgLatencyMs,p95Latency:n.p95LatencyMs}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),a.jsx(Sj,{width:"100%",height:256,children:a.jsxs(mee,{data:r,children:[a.jsx(iw,{strokeDasharray:"3 3"}),a.jsx(Fo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(Bo,{tick:{fontSize:12}}),a.jsx(Wr,{formatter:n=>[`${n}ms`,""]}),a.jsx(Ha,{}),a.jsx(Ga,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),a.jsx(Ga,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function jee({agents:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,n)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},n))})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function wee({trends:e,loading:t}){if(t||e.length===0)return null;const r=i=>{switch(i){case"up":return"^";case"down":return"v";default:return"-"}},n=i=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(i.metric),u=["avgLatencyMs","totalCostCents"].includes(i.metric);return i.direction==="stable"?"text-gray-600 bg-gray-100":i.direction==="up"&&l||i.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=i=>i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(i=>a.jsxs("div",{className:`rounded-lg p-3 ${n(i)}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:s(i.metric)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:r(i.direction)}),a.jsxs("span",{className:"text-sm",children:[i.changePercent>0?"+":"",i.changePercent.toFixed(1),"%"]})]})]},i.metric))})]})}function Nee({entries:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,s)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const r=n=>{switch(n){case"up":return a.jsx("span",{className:"text-green-500",children:"^"});case"down":return a.jsx("span",{className:"text-red-500",children:"v"});default:return a.jsx("span",{className:"text-gray-400",children:"-"})}};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${n.rank===1?"bg-yellow-400 text-yellow-900":n.rank===2?"bg-gray-300 text-gray-700":n.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:n.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.agentName||n.agentId.slice(0,8)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",n.score.toFixed(1)," ",r(n.trend)]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[n.executions.toLocaleString()," executions"]}),a.jsxs("p",{className:"text-gray-500",children:[n.successRate,"% success"]})]})]},n.agentId))})]})}function See({data:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let i=1;e.forEach(u=>{const f=new Date(u.date).getDay();f>=0&&f<7&&u.hour>=0&&u.hour<24&&(s[f][u.hour]+=u.value,i=Math.max(i,s[f][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/i;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-max",children:[a.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>a.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),n.map((u,d)=>a.jsxs("div",{className:"flex gap-0.5 items-center",children:[a.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(f=>a.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[d][f])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${f}:00 - ${s[d][f]} executions`},f))]},u)),a.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),a.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function kee({anomalies:e,loading:t}){return t||e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,n)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},n))})]})}function Cee({onExport:e,loading:t}){const[r,n]=N.useState(!1);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):a.jsx(a.Fragment,{children:"Export"})}),r&&!t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[a.jsx("button",{onClick:()=>{e("csv"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),a.jsx("button",{onClick:()=>{e("pdf"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function Oee(){const[e,t]=N.useState("week"),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState(!1),[p,m]=N.useState(!0),[x,b]=N.useState(null),[v,j]=N.useState([]),[y,S]=N.useState([]),[A,_]=N.useState([]),[k,C]=N.useState([]),O=N.useCallback(async()=>{var R,$,I,T;n(!0),u(null);try{const[M,H,Y,q]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Eo(M)){f(!0);return}if(!M.ok)throw new Error("Failed to fetch overview");if(!H.ok)throw new Error("Failed to fetch agent metrics");if(!Y.ok)throw new Error("Failed to fetch leaderboard");if(!q.ok)throw new Error("Failed to fetch trends");const[U,F,W,X]=await Promise.all([M.json(),H.json(),Y.json(),q.json()]);b(U.data),j(((R=F.data)==null?void 0:R.agents)||[]),S((($=W.data)==null?void 0:$.leaderboard)||[]),_(((I=X.data)==null?void 0:I.trends)||[]),C(((T=X.data)==null?void 0:T.anomalies)||[])}catch(M){u(M instanceof Error?M.message:"Failed to load analytics"),console.error("Analytics fetch error:",M)}finally{n(!1)}},[e]),P=async R=>{i(!0);try{const $=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:R,period:e})});if(!$.ok)throw new Error("Export failed");const I=await $.blob(),T=window.URL.createObjectURL(I),M=document.createElement("a");M.href=T,M.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${R}`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(T)}catch($){console.error("Export error:",$),u("Failed to export report")}finally{i(!1)}};return N.useEffect(()=>{O()},[O]),N.useEffect(()=>{if(!p)return;const R=setInterval(O,6e4);return()=>clearInterval(R)},[p,O]),d?a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsx(Kc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:O})]}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("select",{value:e,onChange:R=>t(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:gee.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:R=>m(R.target.checked),className:"rounded"}),"Auto-refresh"]}),a.jsx(Cee,{onExport:P,loading:s})]})]}),l&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,a.jsx("button",{onClick:O,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(kee,{anomalies:k,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(xee,{metrics:x,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(wee,{trends:A,loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsx(yee,{data:(x==null?void 0:x.dailyTrend)||[],loading:r}),a.jsx(vee,{agents:v,loading:r})]}),a.jsx("div",{className:"mb-6",children:a.jsx(bee,{agents:v,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(See,{data:((x==null?void 0:x.dailyTrend)||[]).flatMap(R=>Array.from({length:24},($,I)=>({date:R.date,hour:I,value:Math.floor(R.executions*(I>=9&&I<=17?.08:.02))}))),loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(jee,{agents:v,loading:r}),a.jsx(Nee,{entries:y,loading:r})]})]})}const Pee=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(null),[s,i]=N.useState(null),[l,u]=N.useState(null),[d,f]=N.useState(null),[p,m]=N.useState([]),[x,b]=N.useState("monthly"),[v,j]=N.useState(!0),[y,S]=N.useState(null);N.useEffect(()=>{A()},[]);const A=async()=>{try{j(!0),S(null);const[$,I,T,M]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!$.ok||!I.ok||!T.ok)throw new Error("Failed to load billing data");const H=await $.json(),Y=await I.json(),q=await T.json(),U=await M.json();t(H.plans),n(Y.subscription),i(q.usage),u(q.limits),f(q.percentages),m(U.invoices)}catch($){S($ instanceof Error?$.message:"An error occurred")}finally{j(!1)}},_=async $=>{try{const I=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:$,billingInterval:x})});if(!I.ok){const M=await I.json();throw new Error(M.error||"Failed to create checkout session")}const{url:T}=await I.json();T&&(window.location.href=T)}catch(I){S(I instanceof Error?I.message:"Failed to upgrade")}},k=async()=>{try{const $=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!$.ok){const T=await $.json();throw new Error(T.error||"Failed to open billing portal")}const{url:I}=await $.json();I&&(window.location.href=I)}catch($){S($ instanceof Error?$.message:"Failed to open billing portal")}},C=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const $=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!$.ok){const I=await $.json();throw new Error(I.error||"Failed to cancel subscription")}await A()}catch($){S($ instanceof Error?$.message:"Failed to cancel")}},O=async()=>{try{const $=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!$.ok){const I=await $.json();throw new Error(I.error||"Failed to reactivate subscription")}await A()}catch($){S($ instanceof Error?$.message:"Failed to reactivate")}},P=$=>$===-1?"Unlimited":$.toLocaleString(),R=$=>`${($/1073741824).toFixed(2)} GB`;return v?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,a.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),a.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&a.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),a.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&a.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?a.jsx("button",{onClick:O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?a.jsx("button",{onClick:C,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&d&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ll,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:d.executions}),a.jsx(Ll,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),a.jsx(Ll,{label:"Agents",current:s.agents,limit:l.agents,percentage:d.agents}),a.jsx(Ll,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:d.workflows}),a.jsx(Ll,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:d.team_members}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Storage"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[R(s.storage_bytes)," / ",P(l.storageGb)," GB"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>b("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>b("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map($=>a.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${$.popular?"ring-2 ring-blue-500":""}`,children:[$.popular&&a.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:$.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:$.description}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?$.pricing.yearly:$.pricing.monthly}),$.pricing.monthlyRaw>0&&a.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),a.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," ",P($.limits.agents)," Agents"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," ",P($.limits.workflows)," Workflows"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," ",P($.limits.executionsPerMonth)," Executions/month"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," ",P($.limits.teamMembers)," Team members"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," ",$.limits.storageGb," GB Storage"]}),$.features.githubIntegration&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," GitHub Integration"]}),$.features.advancedAnalytics&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," Advanced Analytics"]}),$.features.prioritySupport&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," Priority Support"]}),$.features.sso&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qn,{})," SSO"]})]}),(r==null?void 0:r.planId)===$.id?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):$.id==="free"?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):$.pricing.monthlyRaw===-1?a.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):a.jsxs("button",{onClick:()=>_($.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",$.name]})]},$.id))})]}),p.length>0&&a.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:p.map($=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:new Date($.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4",children:[new Date($.periodStart).toLocaleDateString()," -"," ",new Date($.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"py-3 px-4",children:$.amountFormatted}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(Aee,{status:$.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[$.hostedInvoiceUrl&&a.jsx("a",{href:$.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),$.invoicePdfUrl&&a.jsx("a",{href:$.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},$.id))})]})})]})]})},Ll=({label:e,current:t,limit:r,percentage:n})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),i=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:e}),a.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(r)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${i(n)} h-2 rounded-full transition-all`,style:{width:`${Math.min(n,100)}%`}})})]})},qn=()=>a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Aee=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function Eee(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[s,i]=N.useState(null),[l,u]=N.useState(!0),[d,f]=N.useState(null),[p,m]=N.useState(!1),[x,b]=N.useState("month"),[v,j]=N.useState(""),[y,S]=N.useState(!1),{user:A}=Xa();N.useEffect(()=>{_()},[x]);const _=async()=>{try{u(!0),f(null);const[I,T,M]=await Promise.all([fetch(`/api/costs/summary?period=${x}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Eo(I)){m(!0);return}if(!I.ok||!T.ok||!M.ok)throw new Error("Failed to fetch cost data");const[H,Y,q]=await Promise.all([I.json(),T.json(),M.json()]);t(H.data),n(Y.data.trend),i(q.data),q.data.budgetCents&&j((q.data.budgetCents/100).toString())}catch(I){f(I instanceof Error?I.message:"Unknown error")}finally{u(!1)}},k=async()=>{try{S(!0);const I=v?Math.round(parseFloat(v)*100):null,T=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:I})});if(!T.ok){const M=await T.json();throw new Error(M.message||"Failed to update budget")}await _()}catch(I){f(I instanceof Error?I.message:"Failed to update budget")}finally{S(!1)}},C=I=>`$${(I/100).toFixed(2)}`,O=I=>I.toLocaleString(),P=I=>{switch(I){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},R=I=>{switch(I){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},$=()=>Math.max(...r.map(I=>I.totalCostCents),1);return p?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),a.jsx(Kc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:_})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?a.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:C(s.spentCents)}),s.budgetCents&&a.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",C(s.budgetCents)]}),a.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all ${P(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),a.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${C(s.remainingCents)} remaining this month`:"No budget limit set"})]}):a.jsx("p",{className:"text-gray-500",children:"No budget data available"}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:v,onChange:I=>j(I.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{onClick:k,disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...":"Save"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),a.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(I=>a.jsx("button",{onClick:()=>b(I),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===I?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:I==="day"?"Today":I==="week"?"This Week":"This Month"},I))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.totalCostCents)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:O((e==null?void 0:e.requestCount)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalInputTokens)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalOutputTokens)??0)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>a.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byAgent&&e.byAgent.length>0?a.jsx("div",{className:"space-y-4",children:e.byAgent.map(I=>{const T=e.totalCostCents>0?Math.round(I.totalCostCents/e.totalCostCents*100):0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:I.agentName||I.agentId.slice(0,8)}),a.jsxs("span",{className:"text-sm text-gray-600",children:[C(I.totalCostCents)," (",T,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${T}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[O(I.requestCount)," requests"]})]})]},I.agentId)})}):a.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?a.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?a.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map(I=>{const T=I.totalCostCents>0?Math.max(I.totalCostCents/$()*100,4):2;return a.jsxs("div",{className:"flex-1 group relative",title:`${I.date}: ${C(I.totalCostCents)}`,children:[a.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${T}%`}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[I.date,": ",C(I.totalCostCents)]})})]},I.date)})}):a.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(I=>a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,I],[,T])=>T.costCents-I.costCents).map(([I,T])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(T.costCents)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:O(T.requests)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(T.requests>0?Math.round(T.costCents/T.requests):0)})]},I))})]})}):a.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const _ee=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],Tee=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],Ree=()=>{const[e,t]=N.useState("keys"),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,u]=N.useState(null),[d,f]=N.useState(!0),[p,m]=N.useState(null),[x,b]=N.useState(!1),[v,j]=N.useState(""),[y,S]=N.useState([]),[A,_]=N.useState("free"),[k,C]=N.useState(null),[O,P]=N.useState(!1),[R,$]=N.useState(""),[I,T]=N.useState([]),[M,H]=N.useState(null),Y=N.useCallback(async()=>{f(!0),m(null);try{const[G,ee,ue]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(G.ok){const ge=await G.json();n(ge.data||[])}if(ee.ok){const ge=await ee.json();i(ge.data||[])}if(ue.ok){const ge=await ue.json();u(ge.data||null)}}catch(G){m("Failed to load data"),console.error("Error fetching developer portal data:",G)}finally{f(!1)}},[]);N.useEffect(()=>{Y()},[Y]);const q=async()=>{try{const G=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,scopes:y,rateLimitTier:A})});if(G.ok){const ee=await G.json();C(ee.data.key),n(ue=>[...ue,ee.data]),j(""),S([]),_("free")}else{const ee=await G.json();m(ee.message||"Failed to create API key")}}catch{m("Failed to create API key")}},U=async G=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${G}`,{method:"DELETE"})).ok&&n(ue=>ue.map(ge=>ge.id===G?{...ge,status:"revoked"}:ge))}catch{m("Failed to revoke API key")}},F=async()=>{try{const G=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:R,events:I})});if(G.ok){const ee=await G.json();H(ee.data.secret),i(ue=>[...ue,ee.data]),$(""),T([])}else{const ee=await G.json();m(ee.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},W=async G=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${G}`,{method:"DELETE"})).ok&&i(ue=>ue.filter(ge=>ge.id!==G))}catch{m("Failed to delete webhook")}},X=async G=>{try{const ue=await(await fetch(`/api/organization/webhooks/${G}/test`,{method:"POST"})).json();ue.data.success?alert(`Webhook test successful! Response time: ${ue.data.latencyMs}ms`):alert(`Webhook test failed: ${ue.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},z=G=>G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",B=G=>{switch(G){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=G=>{switch(G){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,a.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(G=>a.jsxs("button",{onClick:()=>t(G),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===G?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[G==="keys"&&"API Keys",G==="webhooks"&&"Webhooks",G==="docs"&&"Documentation"]},G))})}),e==="keys"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),a.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(G=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[G.scopes.slice(0,3).join(", "),G.scopes.length>3&&` +${G.scopes.length-3} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[G.keyPrefix,"..."]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B(G.rateLimitTier)}`,children:G.rateLimitTier})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L(G.status)}`,children:G.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(G.lastUsedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.totalRequests.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:G.status==="active"&&a.jsx("button",{onClick:()=>U(G.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},G.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),a.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(G=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:G.url})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[G.events.slice(0,2).join(", "),G.events.length>2&&` +${G.events.length-2} more`]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L(G.status)}`,children:G.status}),G.failureCount>0&&a.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",G.failureCount," failures)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.lastSuccess?a.jsx("span",{className:"text-green-600",children:z(G.lastSuccess)}):G.lastFailure?a.jsx("span",{className:"text-red-600",children:z(G.lastFailure)}):"Never"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[a.jsx("button",{onClick:()=>X(G.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),a.jsx("button",{onClick:()=>W(G.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},G.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),a.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),a.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),a.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(G=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${G.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:G.method}),a.jsx("code",{className:"text-gray-900",children:G.path}),a.jsx("span",{className:"ml-3 text-gray-500",children:G.desc})]},G.path))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500",children:[a.jsx("th",{className:"pb-2",children:"Tier"}),a.jsx("th",{className:"pb-2",children:"Per Minute"}),a.jsx("th",{className:"pb-2",children:"Per Day"})]})}),a.jsxs("tbody",{className:"text-gray-900",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Free"}),a.jsx("td",{children:"60"}),a.jsx("td",{children:"1,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Pro"}),a.jsx("td",{children:"300"}),a.jsx("td",{children:"10,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Enterprise"}),a.jsx("td",{children:"1,000"}),a.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:k?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:k})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(k),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{b(!1),C(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:v,onChange:G=>j(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),a.jsxs("select",{value:A,onChange:G=>_(G.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),a.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),a.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:_ee.map(G=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:y.includes(G),onChange:ee=>{ee.target.checked?S(ue=>[...ue,G]):S(ue=>ue.filter(ge=>ge!==G))},className:"mr-2"}),G]},G))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:q,disabled:!v||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:M?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:M})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(M),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{P(!1),H(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:R,onChange:G=>$(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:Tee.map(G=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:I.includes(G),onChange:ee=>{ee.target.checked?T(ue=>[...ue,G]):T(ue=>ue.filter(ge=>ge!==G))},className:"mr-2"}),G]},G))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:F,disabled:!R||I.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function Mee(){const{slug:e}=Kf(),[t,r]=N.useState(null),[n,s]=N.useState([]),[i,l]=N.useState(null),[u,d]=N.useState([]),[f,p]=N.useState([]),[m,x]=N.useState(!1),[b,v]=N.useState(!0),[j,y]=N.useState(!1),[S,A]=N.useState(null),[_,k]=N.useState("overview"),[C,O]=N.useState(null),P=N.useCallback(async()=>{if(e){v(!0);try{const F=await le({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(F.extension)}catch(F){F instanceof Ve&&F.status===404?A("Extension not found"):A("Failed to load extension")}finally{v(!1)}}},[e]),R=N.useCallback(async()=>{if(e)try{const F=await le({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(F.reviews.items),l(F.summary)}catch(F){console.error("Failed to fetch reviews:",F)}},[e]),$=N.useCallback(async()=>{if(e)try{const F=await le({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(F.versions)}catch(F){console.error("Failed to fetch versions:",F)}},[e]),I=N.useCallback(async()=>{if(e)try{const F=await le({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(F.extensions)}catch(F){console.error("Failed to fetch similar:",F)}},[e]),T=N.useCallback(async()=>{try{const F=await le({url:"/api/marketplace/installed",method:"GET"});x(F.installed.some(W=>W.extension.slug===e))}catch{}},[e]);N.useEffect(()=>{P(),R(),$(),I(),T()},[P,R,$,I,T]);const M=async()=>{if(t){y(!0);try{await le({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(F){const W=F instanceof Ve?F.message:"Install failed";alert(W)}finally{y(!1)}}},H=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await le({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(F){const W=F instanceof Ve?F.message:"Uninstall failed";alert(W)}},Y=F=>F>=1e6?`${(F/1e6).toFixed(1)}M`:F>=1e3?`${(F/1e3).toFixed(1)}K`:String(F),q=F=>{if(F.pricing==="free")return"Free";if(!F.price)return"Paid";const W=(F.price.amount/100).toFixed(2),X=F.price.interval?`/${F.price.interval}`:"";return`$${W}${X}`},U=(F,W="sm")=>{const X=[],z=W==="lg"?"text-xl":"text-sm";for(let B=1;B<=5;B++)X.push(a.jsx("span",{className:`${B<=F?"text-yellow-400":"text-gray-300"} ${z}`,children:""},B));return X};return b?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),a.jsx(Rt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(Rt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:t.name})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?a.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx("span",{children:t.publisherName}),t.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:q(t)}),m?a.jsx("button",{onClick:H,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):a.jsx("button",{onClick:M,disabled:j,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:j?"Installing...":"Install"})]})]}),a.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[U(Math.round(t.stats.rating)),a.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[Y(t.stats.downloads)," downloads"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[Y(t.stats.activeInstalls)," active installs"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(F=>a.jsx(Rt,{to:`/marketplace?q=${F}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:F},F))})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(F=>a.jsxs("button",{onClick:()=>k(F),className:`py-3 text-sm font-medium border-b-2 -mb-px ${_===F?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[F==="overview"&&"Overview",F==="reviews"&&`Reviews (${t.stats.reviewCount})`,F==="versions"&&"Version History"]},F))})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[_==="overview"&&a.jsxs("div",{children:[t.screenshots.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((F,W)=>a.jsx("img",{src:F,alt:`Screenshot ${W+1}`,onClick:()=>O(F),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},W))})]}),a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),_==="reviews"&&a.jsxs("div",{children:[i&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.average.toFixed(1)}),a.jsx("div",{className:"flex justify-center mt-1",children:U(Math.round(i.average),"lg")}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[i.count," reviews"]})]}),a.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(F=>a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 w-3",children:F}),a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${i.count>0?i.distribution[F]/i.count*100:0}%`}})}),a.jsx("span",{className:"text-sm text-gray-500 w-8",children:i.distribution[F]||0})]},F))})]})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):a.jsx("div",{className:"space-y-4",children:n.map(F=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:F.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[U(F.rating),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",F.userName,"  ",new Date(F.createdAt).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[F.helpfulCount," found helpful"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:F.body}),F.publisherResponse&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.publisherResponse.body})]})]},F.id))})]}),_==="versions"&&a.jsx("div",{className:"space-y-4",children:u.map(F=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["v",F.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:F.publishedAt?new Date(F.publishedAt).toLocaleDateString():"Unpublished"})]}),F.changelog&&a.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:F.changelog})]},F.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Version"}),a.jsx("dd",{className:"text-gray-900",children:t.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Category"}),a.jsx("dd",{className:"text-gray-900",children:t.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),a.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Published"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),a.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&a.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&a.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&a.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),a.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(F=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",F]},F))})]}),f.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),a.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(F=>a.jsxs(Rt,{to:`/marketplace/${F.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:F.icon?a.jsx("img",{src:F.icon,alt:"",className:"w-6 h-6 rounded"}):a.jsx("span",{children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:F.name}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",F.stats.rating.toFixed(1)]})]})]},F.id))})]})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>O(null),children:a.jsx("img",{src:C,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function Iee(){var O;const[e,t]=N.useState(null),[r,n]=N.useState([]),[s,i]=N.useState(null),[l,u]=N.useState(!0),[d,f]=N.useState(null),[p,m]=N.useState(!1),[x,b]=N.useState(null),[v,j]=N.useState(30);N.useEffect(()=>{y()},[v]);const y=async()=>{u(!0),f(null);try{const[P,R]=await Promise.all([fetch(`/api/feedback/analysis?days=${v}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Eo(P)){m(!0);return}if(!P.ok||!R.ok)throw new Error("Failed to fetch feedback data");const $=await P.json(),I=await R.json();t($),n(I.actions),i(I.stats)}catch(P){f(P instanceof Error?P.message:"An error occurred")}finally{u(!1)}},S=async P=>{b(P);try{if(!(await fetch(`/api/feedback/actions/${P}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to apply action")}finally{b(null)}},A=async P=>{b(P);try{if(!(await fetch(`/api/feedback/actions/${P}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to dismiss action")}finally{b(null)}},_=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await y()}catch(P){f(P instanceof Error?P.message:"Failed to process feedback")}},k=P=>{switch(P){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=P=>{switch(P){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),a.jsx(Kc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:y})]}):l?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(P=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},P))})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:v,onChange:P=>j(parseInt(P.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([P,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${k(P)}`,children:P}),a.jsx("span",{className:"text-gray-700 font-medium",children:R})]},P)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((P,R)=>R[1]-P[1]).slice(0,5).map(([P,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:P.replace(/_/g," ")}),a.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:R})]},P)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(P=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(P.priority)}`,children:P.priority}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:P.type.replace(/_/g," ")}),P.autoApplicable&&a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),a.jsx("p",{className:"mt-2 text-gray-900",children:P.description}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",P.estimatedImpact.affectedRequests," requests, +",(P.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>S(P.id),disabled:x===P.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:x===P.id?"...":"Apply"}),a.jsx("button",{onClick:()=>A(P.id),disabled:x===P.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},P.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(O=e==null?void 0:e.recentFeedback)==null?void 0:O.slice(0,10).map(P=>{var R;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[P.type,P.rating&&a.jsxs("span",{className:"ml-1",children:["(",P.rating,"/5)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.sentiment&&a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${k(P.sentiment)}`,children:P.sentiment})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((R=P.category)==null?void 0:R.replace(/_/g," "))||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:P.originalRequest}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})]},P.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const _i={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},Hy={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function $ee(){const[e,t]=N.useState(!1),[r,n]=N.useState(null),[s,i]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState(null),[p,m]=N.useState(null),[x,b]=N.useState([]),[v,j]=N.useState(""),[y,S]=N.useState([]),[A,_]=N.useState([]),[k,C]=N.useState(!1),O=N.useRef(null),P=N.useRef(null),R=N.useCallback(async()=>{try{const q=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Eo(q)){i(!0);return}if(!q.ok)throw new Error("Failed to fetch stats");const U=await q.json();u(U)}catch(q){console.error("Error fetching stats:",q)}},[]),$=N.useCallback(async q=>{t(!0),n(null);try{let U="/api/knowledge-graph/visualization";q&&q.length>0&&(U=`/api/knowledge-graph/visualization/filtered?nodeTypes=${q.join(",")}`);const F=await fetch(U,{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch graph");const W=await F.json();f(W)}catch(U){n(U instanceof Error?U.message:"Unknown error")}finally{t(!1)}},[]),I=async()=>{C(!0),n(null);try{const q=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!q.ok)throw new Error("Failed to build graph");const U=await q.json();alert(`Graph built: ${U.nodeCount} nodes, ${U.edgeCount} edges`),await Promise.all([R(),$(A)])}catch(q){n(q instanceof Error?q.message:"Failed to build graph")}finally{C(!1)}},T=async()=>{if(!v.trim()){S([]);return}try{const q=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(v)}&limit=10`,{credentials:"include"});if(!q.ok)throw new Error("Search failed");const U=await q.json();S(U.nodes||[])}catch(q){console.error("Search error:",q)}},M=async q=>{try{const U=await fetch(`/api/knowledge-graph/related/${q}?depth=2&limit=20`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch related nodes");const F=await U.json();b(F.related||[])}catch(U){console.error("Error fetching related:",U)}},H=async q=>{m(q),await M(q.id)},Y=q=>{_(U=>U.includes(q)?U.filter(W=>W!==q):[...U,q])};return N.useEffect(()=>{$(A)},[A,$]),N.useEffect(()=>{R(),$()},[R,$]),N.useEffect(()=>{if(!d||!O.current)return;const q=O.current,U=q.getContext("2d");if(!U)return;const F=q.parentElement;F&&(q.width=F.clientWidth,q.height=F.clientHeight),U.fillStyle="#1a1a2e",U.fillRect(0,0,q.width,q.height);const W=d.nodes.map(B=>({...B,x:Math.random()*q.width,y:Math.random()*q.height,vx:0,vy:0})),X=new Map(W.map(B=>[B.id,B]));for(let B=0;B<100;B++){for(let L=0;L<W.length;L++)for(let G=L+1;G<W.length;G++){const ee=W[G].x-W[L].x,ue=W[G].y-W[L].y,ge=Math.sqrt(ee*ee+ue*ue)||1,ie=1e3/(ge*ge);W[L].vx-=ee/ge*ie,W[L].vy-=ue/ge*ie,W[G].vx+=ee/ge*ie,W[G].vy+=ue/ge*ie}for(const L of d.edges){const G=X.get(L.from),ee=X.get(L.to);if(G&&ee){const ue=ee.x-G.x,ge=ee.y-G.y,ie=Math.sqrt(ue*ue+ge*ge)||1,xe=ie*.01;G.vx+=ue/ie*xe,G.vy+=ge/ie*xe,ee.vx-=ue/ie*xe,ee.vy-=ge/ie*xe}}for(const L of W)L.vx+=(q.width/2-L.x)*.001,L.vy+=(q.height/2-L.y)*.001;for(const L of W)L.x+=L.vx*.1,L.y+=L.vy*.1,L.vx*=.9,L.vy*=.9,L.x=Math.max(50,Math.min(q.width-50,L.x)),L.y=Math.max(50,Math.min(q.height-50,L.y))}U.strokeStyle="#4a4a6a",U.lineWidth=1;for(const B of d.edges){const L=X.get(B.from),G=X.get(B.to);L&&G&&(U.beginPath(),U.moveTo(L.x,L.y),U.lineTo(G.x,G.y),U.stroke())}for(const B of W){const L=_i[B.group]||"#9E9E9E",G=B.size||15;U.beginPath(),U.arc(B.x,B.y,G,0,Math.PI*2),U.fillStyle=L,U.fill(),U.strokeStyle=(p==null?void 0:p.id)===B.id?"#ffffff":"#000000",U.lineWidth=(p==null?void 0:p.id)===B.id?3:1,U.stroke(),U.fillStyle="#ffffff",U.font="11px sans-serif",U.textAlign="center",U.fillText(B.label.slice(0,15),B.x,B.y+G+12)}P.current=W;const z=B=>{const L=q.getBoundingClientRect(),G=B.clientX-L.left,ee=B.clientY-L.top;for(const ue of W)if(Math.sqrt((G-ue.x)**2+(ee-ue.y)**2)<=(ue.size||15)){H(ue);return}m(null),b([])};return q.addEventListener("click",z),()=>q.removeEventListener("click",z)},[d,p]),s?a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),a.jsx("button",{onClick:()=>{i(!1),R(),$()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("button",{onClick:I,disabled:k,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Building...":"Rebuild Graph"})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[a.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),a.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),a.jsx("div",{className:"text-gray-400",children:"Edges"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),a.jsx("div",{className:"text-gray-400",children:"Density"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),a.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:q=>j(q.target.value),onKeyDown:q=>q.key==="Enter"&&T(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),a.jsx("button",{onClick:T,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),y.length>0&&a.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:y.map(q=>a.jsxs("button",{onClick:()=>H(q),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_i[q.group]||"#9E9E9E"}}),q.label]},q.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Hy).map(([q,U])=>a.jsx("button",{onClick:()=>Y(q),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${A.includes(q)?"opacity-100":A.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:A.includes(q)||A.length===0?_i[q]:"#4a4a6a"},children:U},q))}),A.length>0&&a.jsx("button",{onClick:()=>_([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_i[p.group]||"#9E9E9E"}}),a.jsx("span",{className:"font-semibold",children:p.label})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",Hy[p.group]||p.group]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",x.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(q=>a.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>H({id:q.node.id,label:q.node.label,group:q.node.type}),children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_i[q.node.type]||"#9E9E9E"}}),a.jsx("span",{className:"flex-1 truncate",children:q.node.label}),a.jsx("span",{className:"text-gray-500",children:q.edge.type})]},q.node.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(Hy).map(([q,U])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_i[q]}}),U]},q))})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),a.jsx("div",{className:"text-sm",children:r}),a.jsx("button",{onClick:()=>$(A),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&d&&d.nodes.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),a.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),a.jsx("button",{onClick:I,disabled:k,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:k?"Building...":"Build Graph"})]})}),a.jsx("canvas",{ref:O,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function Dee(){const[e,t]=Gf(),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(null),[p,m]=N.useState(0),[x,b]=N.useState(!0),[v,j]=N.useState(e.get("q")||""),[y,S]=N.useState(e.get("category")||""),[A,_]=N.useState(e.get("pricing")||""),[k,C]=N.useState(e.get("sort")||"popular"),[O,P]=N.useState(1),[R,$]=N.useState([]),[I,T]=N.useState(null),M=N.useCallback(async()=>{b(!0);try{const L=new URLSearchParams;v&&L.set("q",v),y&&L.set("category",y),A&&L.set("pricing",A),L.set("sort",k),L.set("page",String(O)),L.set("limit","20");const ee=await le({url:`${v?"/api/marketplace/search":"/api/marketplace/extensions"}?${L.toString()}`,method:"GET"});n(ee.extensions||ee.items||[]),m(ee.total),ee.facets&&f(ee.facets)}catch(L){console.error("Failed to fetch extensions:",L)}finally{b(!1)}},[v,y,A,k,O]),H=N.useCallback(async()=>{try{const L=await le({url:"/api/marketplace/featured",method:"GET"});i(L.extensions)}catch(L){console.error("Failed to fetch featured:",L)}},[]),Y=N.useCallback(async()=>{try{const L=await le({url:"/api/marketplace/categories",method:"GET"});u(L.categories)}catch(L){console.error("Failed to fetch categories:",L)}},[]),q=N.useCallback(async()=>{try{const L=await le({url:"/api/marketplace/suggestions",method:"GET"});$(L.suggestions||[])}catch{}},[]);N.useEffect(()=>{Y(),H(),q()},[Y,H,q]),N.useEffect(()=>{M()},[M]),N.useEffect(()=>{const L=new URLSearchParams;v&&L.set("q",v),y&&L.set("category",y),A&&L.set("pricing",A),k!=="popular"&&L.set("sort",k),t(L)},[v,y,A,k,t]);const U=L=>{L.preventDefault(),P(1),M()},F=async L=>{T(L);try{await le({url:`/api/marketplace/suggestions/${L}/accept`,method:"POST"}),$(G=>G.filter(ee=>ee.patternId!==L))}catch(G){console.error("Failed to accept suggestion:",G)}finally{T(null)}},W=async L=>{try{await le({url:`/api/marketplace/suggestions/${L}/dismiss`,method:"POST"}),$(G=>G.filter(ee=>ee.patternId!==L))}catch(G){console.error("Failed to dismiss suggestion:",G)}},X=L=>L>=1e6?`${(L/1e6).toFixed(1)}M`:L>=1e3?`${(L/1e3).toFixed(1)}K`:String(L),z=L=>{if(L.pricing==="free")return"Free";if(!L.price)return"Paid";const G=(L.price.amount/100).toFixed(2),ee=L.price.interval?`/${L.price.interval}`:"";return`$${G}${ee}`},B=L=>{const G=[];for(let ee=1;ee<=5;ee++)G.push(a.jsx("span",{className:ee<=L?"text-yellow-400":"text-gray-300",children:""},ee));return G};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),a.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),a.jsxs("form",{onSubmit:U,className:"flex gap-3 max-w-2xl",children:[a.jsx("input",{type:"text",value:v,onChange:L=>j(L.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[a.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Looking for MCP Servers & External Tools?"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Connect to Smithery, Glama, ComfyUI, CivitAI, and more external ecosystems"})]})]}),a.jsx(Rt,{to:"/marketplace-hub",className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 whitespace-nowrap",children:"Browse External Tools"})]})}),!v&&s.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(L=>a.jsx(Rt,{to:`/marketplace/${L.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:L.icon?a.jsx("img",{src:L.icon,alt:"",className:"w-10 h-10 rounded-lg"}):a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:L.name}),a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:L.description}),a.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:a.jsxs("span",{className:"flex items-center text-yellow-500",children:[B(Math.round(L.stats.rating)),a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",L.stats.reviewCount,")"]})]})})]})]})},L.id))})]}),R.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),a.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[R.length," suggestion",R.length!==1?"s":""]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(L=>a.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:L.patternType==="composite"?"":L.patternType==="sequence"?"":""})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(L.confidence*100)}% confidence`,children:a.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${L.confidence*100}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(L.confidence*100),"%"]})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900",children:L.suggestedName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:L.suggestedDescription}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:L.suggestedTriggers.slice(0,3).map(G=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:G},G))}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",L.frequency,"x as ",L.patternType," pattern"]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("button",{onClick:()=>F(L.patternId),disabled:I===L.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:I===L.patternId?"Creating...":"Create Skill"}),a.jsx("button",{onClick:()=>W(L.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},L.patternId))})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-56 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{S(""),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(L=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{S(L.slug),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===L.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{children:L.name}),L.extensionCount!==void 0&&a.jsx("span",{className:"text-xs text-gray-400",children:L.extensionCount})]})},L.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),a.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(L=>a.jsx("li",{children:a.jsx("button",{onClick:()=>{_(L),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${A===L?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:L===""?"All":L.charAt(0).toUpperCase()+L.slice(1)})},L))})]}),d&&d.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(L=>a.jsx("button",{onClick:()=>j(L.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:L.name},L.name))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),a.jsxs("select",{value:k,onChange:L=>{C(L.target.value),P(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"recent",children:"Recently Added"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"trending",children:"Trending"})]})]}),x?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(L=>a.jsx(Rt,{to:`/marketplace/${L.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:L.icon?a.jsx("img",{src:L.icon,alt:"",className:"w-8 h-8 rounded-lg"}):a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:L.name}),L.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:L.publisherName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:L.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",L.stats.rating.toFixed(1)]}),a.jsxs("span",{className:"text-gray-400",children:[X(L.stats.downloads)," downloads"]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.pricing==="free"?"bg-green-100 text-green-700":L.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(L)})]})]})]})},L.id))}),p>20&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>P(L=>Math.max(1,L-1)),disabled:O===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",O," of ",Math.ceil(p/20)]}),a.jsx("button",{onClick:()=>P(L=>L+1),disabled:O>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const Ky={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},KA={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function Lee(){const[e,t]=N.useState(""),[r,n]=N.useState([]),[s,i]=N.useState(""),[l,u]=N.useState([]),[d,f]=N.useState([]),[p,m]=N.useState([]),[x,b]=N.useState(!1),[v,j]=N.useState(null),[y,S]=N.useState(!1),[A,_]=N.useState(""),[k,C]=N.useState(!1),[O,P]=N.useState(null),R=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],$=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],I=N.useCallback(async()=>{var F;try{const W=await le({url:"/api/marketplace-hub/installed",method:"GET"});f(((F=W.data)==null?void 0:F.items)||[])}catch(W){console.error("Failed to fetch installed:",W)}},[]);N.useEffect(()=>{I()},[I]);const T=async()=>{var F;if(e.trim()){b(!0),P(null);try{const W=new URLSearchParams({q:e});r.length>0&&W.set("sources",r.join(",")),s&&W.set("type",s),W.set("limit","30");const X=await le({url:`/api/marketplace-hub/search?${W.toString()}`,method:"GET"});u(((F=X.data)==null?void 0:F.items)||[])}catch(W){P("Search failed. Please try again."),console.error("Search failed:",W)}finally{b(!1)}}},M=async F=>{j(F.id),P(null);try{await le({url:"/api/marketplace-hub/install",method:"POST",data:{source:F.source,itemId:F.id}}),await I(),alert(`Successfully installed: ${F.name}`)}catch(W){P(`Failed to install ${F.name}`),console.error("Install failed:",W)}finally{j(null)}},H=async F=>{try{await le({url:`/api/marketplace-hub/uninstall/${F}`,method:"DELETE"}),await I()}catch(W){P("Failed to uninstall"),console.error("Uninstall failed:",W)}},Y=async()=>{var F;if(A.trim()){C(!0),P(null);try{const W=await le({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:A}});m(((F=W.data)==null?void 0:F.recommendations)||[])}catch(W){P("Recommendation failed. Please try again."),console.error("Recommend failed:",W)}finally{C(!1)}}},q=F=>{n(W=>W.includes(F)?W.filter(X=>X!==F):[...W,F])},U=F=>d.some(W=>W.extensionId===F);return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:F=>t(F.target.value),onKeyDown:F=>F.key==="Enter"&&T(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{onClick:T,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Searching...":"Search"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),R.map(F=>a.jsx("button",{onClick:()=>q(F.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r.includes(F.id)||r.length===0?Ky[F.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:F.name},F.id))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),$.map(F=>a.jsx("button",{onClick:()=>i(F.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===F.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:F.name},F.id))]})]}),O&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:O}),l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(F=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:KA[F.type]||""}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ky[F.source]||"bg-gray-100 text-gray-800"}`,children:F.source})]}),F.version&&a.jsxs("span",{className:"text-xs text-gray-500",children:["v",F.version]})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:F.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:F.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[F.downloads!==void 0&&a.jsxs("span",{children:[" ",F.downloads.toLocaleString()]}),F.stars!==void 0&&a.jsxs("span",{children:[" ",F.stars.toLocaleString()]}),F.rating!==void 0&&a.jsxs("span",{children:["Rating: ",F.rating.toFixed(1)]})]}),a.jsx("button",{onClick:()=>M(F),disabled:v===F.id||U(F.id),className:`px-3 py-1 rounded text-sm font-medium ${U(F.id)?"bg-green-100 text-green-700 cursor-default":v===F.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:U(F.id)?"Installed":v===F.id?"Installing...":"Install"})]})]},`${F.source}-${F.id}`))})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:A,onChange:F=>_(F.target.value),onKeyDown:F=>F.key==="Enter"&&Y(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),a.jsx("button",{onClick:Y,disabled:k,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:k?"Finding...":"Get Recommendations"})]}),p.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((F,W)=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:KA[F.item.type]||""}),a.jsx("span",{className:"font-semibold",children:F.item.name})]}),a.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(F.confidence*100),"% match"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:F.reason}),a.jsx("button",{onClick:()=>M(F.item),disabled:v===F.item.id||U(F.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:U(F.item.id)?"Installed":"Install"})]},W))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>S(!y),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",d.length,")"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),a.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${y?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&d.length>0&&a.jsx("div",{className:"px-6 pb-6",children:a.jsx("div",{className:"divide-y divide-gray-100",children:d.map(F=>a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:F.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Ky[F.source]||"bg-gray-100"}`,children:F.source})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["v",F.version,"  Installed ",new Date(F.installedAt).toLocaleDateString()]})]}),a.jsx("button",{onClick:()=>H(F.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},F.id))})}),y&&d.length===0&&a.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]})]})})}const GA={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},Gy=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function Fee(){var W;const e=Ys(),{user:t}=Xa(),[r,n]=N.useState(null),[s,i]=N.useState([]),[l,u]=N.useState(!0),[d,f]=N.useState(!1),[p,m]=N.useState(null),[x,b]=N.useState(""),[v,j]=N.useState(""),[y,S]=N.useState(""),[A,_]=N.useState(null),[k,C]=N.useState([]),[O,P]=N.useState("");N.useEffect(()=>{R(),$()},[]);const R=async()=>{try{const z=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(z.data)n(z.data),z.data.data&&(b(z.data.data.companyName||""),j(z.data.data.industry||""),S(z.data.data.teamSize||""),_(z.data.data.templateId||null),C(z.data.data.selectedAgents||[]));else{const L=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();n(L.data)}}catch(X){m(X instanceof Error?X.message:"Failed to load")}finally{u(!1)}},$=async()=>{try{const z=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();i(z.data||[])}catch(X){console.error("Failed to fetch templates",X)}},I=async(X,z)=>{f(!0),m(null);try{const L=await(await fetch(`/api/onboarding/step/${X}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:z})})).json();if(!L.success)throw new Error(L.error);n(L.data),L.data.isComplete&&e("/dashboard")}catch(B){m(B instanceof Error?B.message:"Failed to complete step")}finally{f(!1)}},T=async X=>{f(!0),m(null);try{const B=await(await fetch(`/api/onboarding/step/${X}/skip`,{method:"POST",credentials:"include"})).json();if(!B.success)throw new Error(B.error);n(B.data)}catch(z){m(z instanceof Error?z.message:"Failed to skip step")}finally{f(!1)}},M=()=>{if(!x.trim()){m("Company name is required");return}I("company_info",{companyName:x,industry:v,teamSize:y})},H=async()=>{if(!A){m("Please select a template");return}f(!0),m(null);try{const z=await(await fetch(`/api/onboarding/templates/${A}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:k}})})).json();if(!z.success)throw new Error(z.error);await R()}catch(X){m(X instanceof Error?X.message:"Failed to apply template")}finally{f(!1)}},Y=()=>{const X=O.split(/[,\n]/).map(z=>z.trim()).filter(z=>z);if(X.length===0){T("invite_team");return}I("invite_team",{invitedEmails:X})},q=(r==null?void 0:r.currentStep)||"company_info",U=GA[q],F=Gy.indexOf(q);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",F+1," of ",Gy.length-1]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:U.titleKo}),a.jsx("p",{className:"text-gray-600",children:U.descriptionKo})]}),p&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:p})}),q==="company_info"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",value:x,onChange:X=>b(X.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsxs("select",{value:v,onChange:X=>j(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select industry"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),a.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),a.jsx("option",{value:"manufacturing",children:"Manufacturing"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),a.jsxs("select",{value:y,onChange:X=>S(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select team size"}),a.jsx("option",{value:"1-5",children:"1-5 people"}),a.jsx("option",{value:"6-20",children:"6-20 people"}),a.jsx("option",{value:"21-50",children:"21-50 people"}),a.jsx("option",{value:"51-200",children:"51-200 people"}),a.jsx("option",{value:"200+",children:"200+ people"})]})]}),a.jsx("button",{onClick:M,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),q==="google_workspace"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),a.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),q==="select_template"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(X=>a.jsxs("button",{onClick:()=>_(X.id),className:`p-6 border-2 rounded-xl text-left transition ${A===X.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:X.icon}),a.jsx("h3",{className:"font-semibold text-gray-900",children:X.nameKo}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.descriptionKo}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[X.agents.filter(z=>z.enabled).length," agents,"," ",X.id==="custom"?"configure yourself":"pre-configured"]})]},X.id))}),a.jsx("button",{onClick:H,disabled:d||!A,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),q==="customize_agents"&&a.jsxs("div",{className:"space-y-6",children:[A&&a.jsx("div",{className:"space-y-4",children:(W=s.find(X=>X.id===A))==null?void 0:W.agents.map(X=>a.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:X.enabled||k.includes(X.id),onChange:z=>{z.target.checked?C([...k,X.id]):C(k.filter(B=>B!==X.id))},className:"h-4 w-4 text-indigo-600 rounded"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:X.name}),a.jsx("div",{className:"text-sm text-gray-500",children:X.description})]})]},X.id))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),a.jsx("button",{onClick:()=>I("customize_agents",{selectedAgents:k}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),q==="connect_slack"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),a.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),q==="invite_team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),a.jsx("textarea",{value:O,onChange:X=>P(X.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),a.jsx("button",{onClick:Y,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":O.trim()?"Send Invites":"Continue"})]})]}),q==="first_workflow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),a.jsx("button",{onClick:()=>{I("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),q==="completed"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),q!=="completed"&&a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Gy.slice(0,-1).map(X=>{const z=r==null?void 0:r.completedSteps.includes(X),B=r==null?void 0:r.skippedSteps.includes(X),L=X===q;return a.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-green-500":B?"bg-gray-300":L?"bg-indigo-600":"bg-gray-200"}`,title:GA[X].title},X)})})]})]})}const Bee=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],Fl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},VA={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function zee(){var W,X;const e=Ys(),[t,r]=N.useState(VA),[n,s]=N.useState(!1),[i,l]=N.useState(!1),[u,d]=N.useState(null),[f,p]=N.useState(null),[m,x]=N.useState(""),[b,v]=N.useState(""),[j,y]=N.useState(""),[S,A]=N.useState(""),[_,k]=N.useState(""),C=N.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),d(null);try{const z=await le({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(B=>({...B,analysis:z,selectedSkills:z.suggestedSkills,selectedTools:z.suggestedTools}))}catch(z){const B=z instanceof Ve?z.message:"   ";d(B)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);N.useEffect(()=>{t.step===3&&!t.analysis&&C()},[t.step,t.analysis,C]);const O=z=>{r(B=>({...B,changeType:z}))},P=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(z=>({...z,step:z.step+1}))},R=()=>{d(null),r(z=>({...z,step:z.step-1}))},$=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const z=await le({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:z.prUrl,changeId:z.changeId})}catch(z){const B=z instanceof Ve?z.message:"    ";d(B)}finally{l(!1)}},I=z=>{r(B=>({...B,selectedSkills:B.selectedSkills.includes(z)?B.selectedSkills.filter(L=>L!==z):[...B.selectedSkills,z]}))},T=z=>{r(B=>({...B,selectedTools:B.selectedTools.includes(z)?B.selectedTools.filter(L=>L!==z):[...B.selectedTools,z]}))},M=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(r(z=>({...z,customSkills:[...z.customSkills,m.trim()]})),x(""))},H=()=>{b.trim()&&!t.customTools.includes(b.trim())&&(r(z=>({...z,customTools:[...z.customTools,b.trim()]})),v(""))},Y=(z,B,L)=>{B.trim()&&!t.permissions[z].includes(B.trim())&&(r(G=>({...G,permissions:{...G.permissions,[z]:[...G.permissions[z],B.trim()]}})),L(""))},q=(z,B)=>{r(L=>({...L,permissions:{...L.permissions,[z]:L.permissions[z].filter(G=>G!==B)}}))},U=z=>{switch(z){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},F=z=>{switch(z){case"low":return"";case"medium":return"";case"high":return""}};return f?a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),a.jsx("a",{href:f.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:f.prUrl})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),a.jsx("button",{onClick:()=>{r(VA),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(z=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${z===t.step?"bg-indigo-600 text-white":z<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:z<t.step?"":z}),z<5&&a.jsx("div",{className:`w-16 h-1 mx-2 ${z<t.step?"bg-indigo-600":"bg-gray-200"}`})]},z))}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[a.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),a.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(Fl).map(z=>{const B=Fl[z],L=t.changeType===z;return a.jsxs("button",{onClick:()=>O(z),className:`p-4 rounded-lg border-2 text-left transition-all ${L?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:B.emoji}),a.jsx("div",{className:"font-semibold text-gray-900",children:B.title}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:B.titleEn}),a.jsx("div",{className:"text-sm text-gray-600",children:B.description})]},z)})})]}),t.step===2&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&Fl[t.changeType].emoji," ",t.changeType&&Fl[t.changeType].title," (Step 2/5)"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),a.jsxs("select",{value:t.teamFunction,onChange:z=>r(B=>({...B,teamFunction:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:""}),Bee.map(z=>a.jsx("option",{value:z,children:z},z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),a.jsx("input",{type:"text",value:t.entityName,onChange:z=>r(B=>({...B,entityName:z.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("textarea",{value:t.description,onChange:z=>r(B=>({...B,description:z.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):a.jsxs("div",{className:"space-y-6",children:[t.analysis&&a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(W=t.analysis)==null?void 0:W.suggestedSkills.map(z=>a.jsx("button",{onClick:()=>I(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customSkills.map(z=>a.jsxs("button",{onClick:()=>r(B=>({...B,customSkills:B.customSkills.filter(L=>L!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&M(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:M,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(X=t.analysis)==null?void 0:X.suggestedTools.map(z=>a.jsx("button",{onClick:()=>T(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customTools.map(z=>a.jsxs("button",{onClick:()=>r(B=>({...B,customTools:B.customTools.filter(L=>L!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:b,onChange:z=>v(z.target.value),onKeyPress:z=>z.key==="Enter"&&H(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:H,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>q("read",z),className:"ml-1 hover:text-blue-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:j,onChange:z=>y(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("read",j,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Y("read",j,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>q("write",z),className:"ml-1 hover:text-green-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S,onChange:z=>A(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("write",S,A),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Y("write",S,A),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>q("deny",z),className:"ml-1 hover:text-red-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:_,onChange:z=>k(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("deny",_,k),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>Y("deny",_,k),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:" :"}),a.jsx("span",{className:"font-medium",children:t.changeType&&Fl[t.changeType].title})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),a.jsx("span",{className:"font-medium",children:t.teamFunction})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"font-medium",children:t.entityName})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"text-gray-700",children:t.description})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(z=>a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:z},z))})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(z=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:z},z))})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${U(t.analysis.riskLevel)}`,children:[": ",F(t.analysis.riskLevel)]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),a.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((z,B)=>a.jsx("li",{className:"text-sm text-gray-700",children:z},B))})]})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),a.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(z=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",z]},z))]}),t.analysis.filesModified.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(z=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",z]},z))]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):R,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?a.jsx("button",{onClick:P,disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):a.jsx("button",{onClick:$,disabled:i,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?" ...":"  PR "})]})]})}function qee(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(null),[l,u]=N.useState(!1),[d,f]=N.useState("all"),[p,m]=N.useState(!1);N.useEffect(()=>{x()},[d]);const x=async()=>{try{n(!0);const _=new URLSearchParams;d!=="all"&&_.set("type",d),_.set("status","active"),_.set("limit","50");const k=await fetch(`/api/patterns?${_}`,{credentials:"include"});if(Eo(k)){u(!0);return}if(!k.ok)throw new Error("Failed to fetch patterns");const C=await k.json();t(C.patterns),i(null)}catch(_){i(_ instanceof Error?_.message:"Unknown error")}finally{n(!1)}},b=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await x()}catch(_){i(_ instanceof Error?_.message:"Analysis failed")}finally{m(!1)}},v=async _=>{try{if(!(await fetch(`/api/patterns/${_}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(C=>C.id!==_))}catch(k){i(k instanceof Error?k.message:"Failed to dismiss")}},j=async _=>{try{const k=await fetch(`/api/patterns/${_}/generate-sop`,{method:"POST",credentials:"include"});if(!k.ok)throw new Error("Failed to generate SOP");const C=await k.json();window.location.href=`/sop-drafts/${C.draft.id}`}catch(k){i(k instanceof Error?k.message:"Failed to generate SOP")}},y=()=>{const _={sequence:0,cluster:0,time:0};let k=0;for(const C of e)_[C.type]++,k+=C.confidence;return{total:e.length,byType:_,avgConfidence:e.length>0?k/e.length:0}},S=_=>{var C;const k=_.data;switch(_.type){case"sequence":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((C=k.sequence)==null?void 0:C.join("  "))||"N/A"]});case"cluster":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Intent:"})," ",k.commonIntent||"Similar requests"]});case"time":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Schedule:"})," ",k.description||"Recurring pattern"]});default:return null}},A=y();return l?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx(Kc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:x})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx("button",{onClick:b,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A.total})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.byType.sequence})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.byType.cluster})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A.byType.time})]})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(_=>a.jsx("button",{onClick:()=>f(_),className:`px-4 py-2 rounded-lg ${d===_?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),a.jsx("button",{onClick:b,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.type==="sequence"?"bg-blue-100 text-blue-700":_.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.type}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(_.confidence*100),"% confidence"]})]}),a.jsx("div",{className:"mb-3",children:S(_)}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Frequency: ",_.frequency]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(_.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:a.jsx("div",{className:`h-full rounded-full ${_.confidence>=.8?"bg-green-500":_.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_.confidence*100}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(_.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),a.jsx("button",{onClick:()=>v(_.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},_.id))})]})})}function Uee(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[s,i]=N.useState(null),[l,u]=N.useState([]),[d,f]=N.useState(!0),[p,m]=N.useState(!1),[x,b]=N.useState(!1),[v,j]=N.useState("30d"),[y,S]=N.useState("overview"),[A,_]=N.useState({name:"",slug:"",email:"",website:"",description:""}),k=N.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me",method:"GET"});return t(T.publisher),!0}catch(T){return T instanceof Ve&&T.status===404&&b(!0),!1}},[]),C=N.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me/extensions",method:"GET"});n(T.extensions)}catch(T){console.error("Failed to fetch extensions:",T)}},[]),O=N.useCallback(async()=>{try{const T=await le({url:`/api/marketplace/publishers/me/analytics?period=${v}`,method:"GET"});i(T.analytics)}catch(T){console.error("Failed to fetch analytics:",T)}},[v]),P=N.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(T.payouts)}catch(T){console.error("Failed to fetch payouts:",T)}},[]);N.useEffect(()=>{(async()=>{f(!0),await k()&&await Promise.all([C(),O(),P()]),f(!1)})()},[k,C,O,P]),N.useEffect(()=>{e&&O()},[v,e,O]);const R=async T=>{T.preventDefault(),m(!0);try{const M=await le({url:"/api/marketplace/publishers/register",method:"POST",data:A});t(M.publisher),b(!1)}catch(M){const H=M instanceof Ve?M.message:"Registration failed";alert(H)}finally{m(!1)}},$=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:String(T),I=T=>`$${(T/100).toFixed(2)}`;return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?a.jsxs("div",{className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),a.jsx("input",{type:"text",value:A.name,onChange:T=>_({...A,name:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),a.jsx("input",{type:"text",value:A.slug,onChange:T=>_({...A,slug:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",value:A.email,onChange:T=>_({...A,email:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",value:A.website,onChange:T=>_({...A,website:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:A.description,onChange:T=>_({...A,description:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&a.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),a.jsx(Rt,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(T=>a.jsxs("button",{onClick:()=>S(T),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===T?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[T==="overview"&&"Overview",T==="extensions"&&`Extensions (${r.length})`,T==="payouts"&&"Payouts"]},T))})}),y==="overview"&&s&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("select",{value:v,onChange:T=>j(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:$(s.totalDownloads)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:$(s.totalInstalls)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:I(s.totalRevenue)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),a.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((T,M)=>{const H=Math.max(...s.downloadTrend.map(q=>q.count))||1,Y=T.count/H*100;return a.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(Y,2)}%`},title:`${T.date}: ${T.count} downloads`},M)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"pb-3",children:"Extension"}),a.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),a.jsx("th",{className:"pb-3 text-right",children:"Installs"}),a.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),a.jsx("tbody",{children:s.extensionStats.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium text-gray-900",children:T.name}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:$(T.downloads)}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:$(T.installs)}),a.jsx("td",{className:"py-3 text-right text-green-600",children:I(T.revenue)}),a.jsxs("td",{className:"py-3 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.rating.toFixed(1)]})]},T.extensionId))})]})]})]}),y==="extensions"&&a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),a.jsx(Rt,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Extension"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Downloads"}),a.jsx("th",{className:"p-4 text-right",children:"Rating"}),a.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),a.jsx("tbody",{children:r.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4",children:a.jsx(Rt,{to:`/marketplace/${T.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:T.name})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="published"?"bg-green-100 text-green-700":T.status==="review"?"bg-yellow-100 text-yellow-700":T.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-right text-gray-600",children:$(T.stats.downloads)}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.stats.rating.toFixed(1),a.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",T.stats.reviewCount,")"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.pricing})})]},T.id))})]})}),y==="payouts"&&a.jsxs("div",{children:[!e.payoutEnabled&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),a.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Period"}),a.jsx("th",{className:"p-4",children:"Amount"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4",children:"Paid Date"})]})}),a.jsx("tbody",{children:l.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(T.periodStart).toLocaleDateString()," -"," ",new Date(T.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"p-4 font-medium text-green-600",children:I(T.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="processing"?"bg-blue-100 text-blue-700":T.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-gray-600",children:T.paidAt?new Date(T.paidAt).toLocaleDateString():"-"})]},T.id))})]})})]})]}):null}function Wee(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(null),[l,u]=N.useState(null),[d,f]=N.useState("all"),[p,m]=N.useState(""),[x,b]=N.useState(!1);N.useEffect(()=>{v()},[d]);const v=async()=>{try{n(!0);const k=new URLSearchParams;d!=="all"&&k.set("status",d),k.set("limit","50");const C=await fetch(`/api/sop-drafts?${k}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch drafts");const O=await C.json();t(O.drafts),i(null)}catch(k){i(k instanceof Error?k.message:"Unknown error")}finally{n(!1)}},j=async k=>{try{if(!(await fetch(`/api/sop-drafts/${k}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(O=>O.id===k?{...O,status:"approved",reviewedAt:new Date().toISOString()}:O)),u(null)}catch(C){i(C instanceof Error?C.message:"Failed to approve")}},y=async k=>{try{if(!(await fetch(`/api/sop-drafts/${k}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(O=>O.id===k?{...O,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:O)),b(!1),m(""),u(null)}catch(C){i(C instanceof Error?C.message:"Failed to reject")}},S=async k=>{try{const C=await fetch(`/api/sop-drafts/${k.id}/yaml`,{credentials:"include"});if(!C.ok)throw new Error("Failed to download YAML");const O=await C.blob(),P=window.URL.createObjectURL(O),R=document.createElement("a");R.href=P,R.download=`${k.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(P)}catch(C){i(C instanceof Error?C.message:"Failed to download")}},A=k=>{switch(k){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},_=k=>{switch(k){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),a.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(k=>a.jsx("button",{onClick:()=>f(k),className:`px-4 py-2 rounded-lg ${d===k?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:k==="all"?"All":k.replace("_"," ").replace(/\b\w/g,C=>C.toUpperCase())},k))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-1/3",children:r?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):a.jsx("div",{className:"space-y-3",children:e.map(k=>a.jsxs("div",{onClick:()=>u(k),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===k.id?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:k.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A(k.status)}`,children:k.status.replace("_"," ")})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:k.description}),a.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:k.function}),a.jsx("span",{children:""}),a.jsxs("span",{children:[k.steps.length," steps"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(k.confidence*100),"%"]})]})]},k.id))})}),a.jsx("div",{className:"flex-1",children:l?a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full ${A(l.status)}`,children:l.status.replace("_"," ")})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Function: ",l.function]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Source: ",l.sourceType]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),a.jsx("div",{className:"space-y-3",children:l.steps.map((k,C)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:C+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:_(k.type)}),a.jsx("span",{className:"font-medium",children:k.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:k.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),k.agentId&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",k.agentId]}),k.toolName&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",k.toolName]})]})]},k.id))})]}),l.status==="rejected"&&l.rejectionReason&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),a.jsx("button",{onClick:()=>{b(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),a.jsx("button",{onClick:()=>j(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&a.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),a.jsx("textarea",{value:p,onChange:k=>m(k.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{b(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>y(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const Hee={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function Kee({step:e,index:t,isSelected:r,isDragging:n,onSelect:s,onDragStart:i,onDragEnd:l}){const u=N.useMemo(()=>Hee[e.type],[e.type]);return a.jsxs("div",{draggable:!0,onDragStart:i,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${n?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&a.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function Gee({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:n,onAddStep:s}){const[i,l]=N.useState(null),[u,d]=N.useState(null),f=N.useRef(null),p=N.useCallback(j=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(j)),l(j)},[]),m=N.useCallback(()=>{l(null),d(null)},[]),x=N.useCallback(j=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",i!==null&&j!==i&&d(j)},[i]),b=N.useCallback(j=>y=>{y.preventDefault();const S=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==j&&n(S,j),l(null),d(null)},[n]),v=j=>j>=e.length-1?null:a.jsxs("div",{className:"flex justify-center my-2",children:[a.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),a.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:a.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return a.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:f,children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),a.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Automated"})]}),a.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Manual"})]}),a.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Approval"})]})]})}),a.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),a.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[e.map((j,y)=>a.jsxs("div",{children:[u===y&&i!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),a.jsx("div",{onDragOver:x(y),onDrop:b(y),children:a.jsx(Kee,{step:j,index:y,isSelected:t===y,isDragging:i===y,onSelect:()=>r(y),onDragStart:p(y),onDragEnd:m})}),v(y)]},j.id+"-"+y)),u===e.length&&i!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:j=>{j.preventDefault(),d(e.length)},onDrop:b(e.length),children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function Vee({step:e,onUpdate:t,onDelete:r,onClose:n}){var x,b;const[s,i]=N.useState(e),[l,u]=N.useState("");if(N.useEffect(()=>{i(e)},[e]),!s)return a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(v,j)=>{const y={...s,[v]:j};i(y),t(y)},f=v=>{const j={...s,conditional:{when:v}};i(j),t(j)},p=()=>{if(!l.trim())return;const v=[...s.checklist||[],l.trim()];d("checklist",v),u("")},m=v=>{var y;const j=((y=s.checklist)==null?void 0:y.filter((S,A)=>A!==v))||[];d("checklist",j.length>0?j:void 0)};return a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:s.type,onChange:v=>d("type",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"automated",children:" Automated"}),a.jsx("option",{value:"manual",children:" Manual"}),a.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),a.jsx("input",{type:"text",value:s.id,onChange:v=>d("id",v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:s.name,onChange:v=>d("name",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:s.description||"",onChange:v=>d("description",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),a.jsx("input",{type:"text",value:s.agent||"",onChange:v=>d("agent",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),a.jsx("input",{type:"text",value:s.tool||"",onChange:v=>d("tool",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsx("input",{type:"text",value:s.assignee||"",onChange:v=>d("assignee",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:v=>d("requires_approval",v.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),a.jsx("input",{type:"text",value:s.approver||"",onChange:v=>d("approver",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),a.jsxs("select",{value:s.timeout||"",onChange:v=>d("timeout",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"No timeout"}),a.jsx("option",{value:"5m",children:"5 minutes"}),a.jsx("option",{value:"15m",children:"15 minutes"}),a.jsx("option",{value:"30m",children:"30 minutes"}),a.jsx("option",{value:"1h",children:"1 hour"}),a.jsx("option",{value:"2h",children:"2 hours"}),a.jsx("option",{value:"4h",children:"4 hours"}),a.jsx("option",{value:"8h",children:"8 hours"}),a.jsx("option",{value:"24h",children:"24 hours"}),a.jsx("option",{value:"48h",children:"48 hours"}),a.jsx("option",{value:"72h",children:"72 hours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),a.jsx("input",{type:"text",value:((x=s.conditional)==null?void 0:x.when)||"",onChange:v=>v.target.value?f(v.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),a.jsxs("div",{className:"space-y-2",children:[(b=s.checklist)==null?void 0:b.map((v,j)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:v}),a.jsx("button",{onClick:()=>m(j),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},j)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),a.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function Qee({sopId:e,isOpen:t,onClose:r}){const[n,s]=N.useState("{}"),[i,l]=N.useState(null),[u,d]=N.useState(!1),[f,p]=N.useState(null),[m,x]=N.useState(0),b=async()=>{if(e){d(!0),p(null);try{const y=JSON.parse(n),S=await le({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(S.simulation),x(0)}catch(y){y instanceof SyntaxError?p("Invalid JSON in input data"):y instanceof Ve?p(y.message):p("Failed to simulate SOP")}finally{d(!1)}}},v=y=>{if(y<60)return`${y}m`;const S=Math.floor(y/60),A=y%60;if(S<24)return A>0?`${S}h ${A}m`:`${S}h`;const _=Math.floor(S/24),k=S%24;return k>0?`${_}d ${k}h`:`${_}d`},j=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:n,onChange:y=>s(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),a.jsx("button",{onClick:b,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),f&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),i&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:i.sopName}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",a.jsx("span",{className:"font-medium",children:i.totalSteps})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",a.jsx("span",{className:"font-medium",children:v(i.estimatedTotalDuration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",a.jsxs("span",{className:"font-medium",children:[i.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),a.jsx("div",{className:"space-y-3",children:i.steps.map((y,S)=>{const A=j(y.type),_=S===m;return a.jsx("div",{onClick:()=>x(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${_?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${A.color}`,children:[A.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),a.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&a.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),_&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",a.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",a.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",a.jsx("span",{children:y.assignee})]}),y.approver&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",a.jsx("span",{children:y.approver})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",a.jsx("span",{children:v(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Checklist:"}),a.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((k,C)=>a.jsx("li",{className:"text-gray-600",children:k},C))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),a.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:v(y.estimatedDuration)})]})},y.id)})})]}),i.exceptionHandlers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),a.jsx("div",{className:"space-y-2",children:i.exceptionHandlers.map((y,S)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-500",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:y.condition}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&a.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},S))})]})]})]})]})}):null}const Yee=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function Xee(){const{id:e}=Kf(),t=Ys(),r=!!e,[n,s]=N.useState([]),[i,l]=N.useState(!0),[u,d]=N.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[f,p]=N.useState([{pattern:""}]),[m,x]=N.useState([]),[b,v]=N.useState([]),[j,y]=N.useState(null),[S,A]=N.useState(!1),[_,k]=N.useState(!1),[C,O]=N.useState(null),[P,R]=N.useState(null),[$,I]=N.useState(!1),[T,M]=N.useState(!1),[H,Y]=N.useState(""),[q,U]=N.useState("editor"),F=N.useCallback(async()=>{try{const te=await le({url:"/api/sops",method:"GET"});s(te.sops)}catch(te){console.error("Failed to fetch SOP list:",te)}finally{l(!1)}},[]),W=N.useCallback(async te=>{A(!0),O(null);try{const je=(await le({url:`/api/sops/${te}`,method:"GET"})).sop;d(je.metadata),p(je.triggers),x(je.steps),v(je.exception_handling||[])}catch(be){be instanceof Ve?O(be.message):O("Failed to load SOP")}finally{A(!1)}},[]),X=N.useCallback(async()=>{if(e)try{const te=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(te.ok){const be=await te.text();Y(be)}}catch(te){console.error("Failed to fetch YAML:",te)}},[e]);N.useEffect(()=>{F()},[F]),N.useEffect(()=>{e?W(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),x([]),v([]),y(null))},[e,W]),N.useEffect(()=>{T&&e&&X()},[T,e,X]);const z=te=>{const be={id:`step-${Date.now()}`,name:`New ${te==="automated"?"Automated":te==="manual"?"Manual":"Approval"} Step`,type:te};x([...m,be]),y(m.length)},B=te=>{if(j===null)return;const be=[...m];be[j]=te,x(be)},L=()=>{if(j===null)return;const te=m.filter((be,je)=>je!==j);x(te),y(null)},G=(te,be)=>{const je=[...m],[tt]=je.splice(te,1);je.splice(be,0,tt),x(je),j===te&&y(be)},ee=()=>{p([...f,{pattern:""}])},ue=(te,be)=>{const je=[...f];je[te]={pattern:be},p(je)},ge=te=>{f.length<=1||p(f.filter((be,je)=>je!==te))},ie=()=>{v([...b,{condition:"",action:"notify_owner"}])},xe=(te,be,je)=>{const tt=[...b];tt[te]={...tt[te],[be]:je},v(tt)},ce=te=>{v(b.filter((be,je)=>je!==te))},Oe=async()=>{if(!u.id.trim()){O("SOP ID is required");return}if(!u.name.trim()){O("SOP name is required");return}if(!u.owner.trim()){O("Owner is required");return}if(f.every(be=>!be.pattern.trim())){O("At least one trigger pattern is required");return}if(m.length===0){O("At least one step is required");return}k(!0),O(null),R(null);const te={metadata:u,triggers:f.filter(be=>be.pattern.trim()),steps:m,exception_handling:b.filter(be=>be.condition.trim())};try{r?(await le({url:`/api/sops/${e}`,method:"PUT",data:te}),R("SOP updated successfully")):(await le({url:"/api/sops",method:"POST",data:te}),R("SOP created successfully"),t(`/sops/${u.id}`)),F()}catch(be){be instanceof Ve?O(be.message):O("Failed to save SOP")}finally{k(!1)}},Re=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await le({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),F()}catch(te){te instanceof Ve?O(te.message):O("Failed to delete SOP")}};return S?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("nav",{className:"text-sm mb-1",children:[a.jsx(Rt,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>M(!T),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:T?"Hide YAML":"View YAML"}),a.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),a.jsx("button",{onClick:Re,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),a.jsx("button",{onClick:Oe,disabled:_,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:_?"Saving...":r?"Update SOP":"Create SOP"})]})]}),C&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:C}),P&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:P})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsx("div",{className:"p-4",children:a.jsxs(Rt,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New SOP"})]})}),a.jsx("nav",{className:"px-2 pb-4",children:i?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):n.length===0?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):n.map(te=>a.jsxs(Rt,{to:`/sops/${te.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===te.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"font-medium truncate",children:te.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[te.function,"  ",te.stepCount," steps"]})]},te.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(te=>a.jsxs("button",{onClick:()=>U(te),className:`py-3 text-sm font-medium border-b-2 transition-colors ${q===te?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[te==="editor"&&"Step Editor",te==="triggers"&&"Triggers & Metadata",te==="exceptions"&&"Exception Handlers"]},te))})}),q==="editor"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(Gee,{steps:m,selectedStepIndex:j,onSelectStep:y,onReorderSteps:G,onAddStep:z}),a.jsx(Vee,{step:j!==null?m[j]:null,onUpdate:B,onDelete:L,onClose:()=>y(null)})]}),q==="triggers"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),a.jsx("input",{type:"text",value:u.id,onChange:te=>d({...u,id:te.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:u.name,onChange:te=>d({...u,name:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{value:u.function,onChange:te=>d({...u,function:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:Yee.map(te=>a.jsx("option",{value:te.value,children:te.label},te.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),a.jsx("input",{type:"text",value:u.owner,onChange:te=>d({...u,owner:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",value:u.version,onChange:te=>d({...u,version:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),a.jsx("button",{onClick:ee,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),a.jsx("div",{className:"space-y-3",children:f.map((te,be)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:te.pattern,onChange:je=>ue(be,je.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),f.length>1&&a.jsx("button",{onClick:()=>ge(be),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},be))})]})]})}),q==="exceptions"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),a.jsx("button",{onClick:ie,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),b.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No exception handlers defined"}),a.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):a.jsx("div",{className:"space-y-4",children:b.map((te,be)=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),a.jsxs("select",{value:te.condition,onChange:je=>xe(be,"condition",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select condition..."}),a.jsx("option",{value:"step.failed",children:"Step Failed"}),a.jsx("option",{value:"step.timeout",children:"Step Timeout"}),a.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),a.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),a.jsxs("select",{value:te.action,onChange:je=>xe(be,"action",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"notify_owner",children:"Notify Owner"}),a.jsx("option",{value:"escalate",children:"Escalate"}),a.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),a.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),a.jsx("option",{value:"return_to_step",children:"Return to Step"}),a.jsx("option",{value:"send_reminder",children:"Send Reminder"}),a.jsx("option",{value:"request_revision",children:"Request Revision"}),a.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),a.jsx("input",{type:"text",value:te.target||"",onChange:je=>xe(be,"target",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),a.jsx("input",{type:"text",value:te.message||"",onChange:je=>xe(be,"message",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),a.jsx("button",{onClick:()=>ce(be),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},be))})]})})})]})]}),T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),a.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:H||"Loading..."})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(H)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),a.jsx(Qee,{sopId:e||null,isOpen:$,onClose:()=>I(!1)})]})}function Jee(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function Zee(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function E6(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function ete(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function lw(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function QA(e){return new Date(e).toLocaleDateString()}function _6(e){return new Date(e).toLocaleString()}function YA(e){switch(e){case"up":return"";case"down":return"";default:return""}}function tte({score:e,status:t}){return a.jsxs("div",{className:`rounded-lg p-6 ${Zee(e)} text-center`,children:[a.jsx("div",{className:`text-6xl font-bold ${Jee(e)}`,children:e}),a.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),a.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${E6(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function Vy({title:e,value:t,subtitle:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function rte({agent:e}){return a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E6(e.status)}`,children:e.status})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",a.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),a.jsx("span",{className:"ml-1 text-gray-400",children:YA(e.trends.executionsTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Success:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",a.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),a.jsx("span",{className:"ml-1 text-gray-400",children:YA(e.trends.latencyTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function nte({anomaly:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`text-sm font-medium ${ete(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lw(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",_6(e.detectedAt)]})]})}function ate({gap:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lw(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function ste({recommendation:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lw(e.priority)}`,children:e.priority})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",a.jsx("span",{className:"text-gray-700",children:e.impact})]}),a.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function ite(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(!0),[p,m]=N.useState(null),[x,b]=N.useState(!1),[v,j]=N.useState(!0),[y,S]=N.useState("agents"),A=N.useCallback(async()=>{try{const[P,R,$,I]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Eo(P)){b(!0),f(!1);return}if(!P.ok)throw new Error("Failed to fetch health data");const T=await P.json();if(t(T.data),R.ok){const M=await R.json();n(M.data||[])}if($.ok){const M=await $.json();i(M.data||[])}if(I.ok){const M=await I.json();u(M.data||[])}m(null)}catch(P){m(P instanceof Error?P.message:"Unknown error")}finally{f(!1)}},[]);N.useEffect(()=>{A()},[A]),N.useEffect(()=>{if(!v)return;const P=setInterval(A,6e4);return()=>clearInterval(P)},[v,A]);const _=async P=>{try{(await fetch(`/api/meta-agent/recommendations/${P}/accept`,{method:"POST",credentials:"include"})).ok&&i($=>$.filter(I=>I.id!==P))}catch(R){console.error("Failed to accept recommendation",R)}},k=async P=>{try{(await fetch(`/api/meta-agent/recommendations/${P}/reject`,{method:"POST",credentials:"include"})).ok&&i($=>$.filter(I=>I.id!==P))}catch(R){console.error("Failed to reject recommendation",R)}},C=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&A()}catch(P){console.error("Failed to generate report",P)}},O=async()=>{try{f(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&A()}catch(P){console.error("Failed to run system check",P)}finally{f(!1)}};return d&&!e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x?a.jsx(Kc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:A}):p&&!e?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[a.jsx("h3",{className:"font-medium",children:"Error loading system health"}),a.jsx("p",{children:p}),a.jsx("button",{onClick:A,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),a.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?_6(e.timestamp):"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),a.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:P=>j(P.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(tte,{score:e.overallScore,status:e.status}),a.jsx(Vy,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),a.jsx(Vy,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),a.jsx(Vy,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(P=>P.severity==="critical"||P.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(P=>P.severity==="critical").length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(P=>P.severity==="critical").map((P,R)=>a.jsx(nte,{anomaly:P},R))})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(P=>a.jsxs("button",{onClick:()=>S(P),className:`py-2 px-4 border-b-2 font-medium text-sm ${y===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[P==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,P==="gaps"&&`Knowledge Gaps (${r.length})`,P==="recommendations"&&`Recommendations (${s.length})`,P==="reports"&&`Reports (${l.length})`]},P))})}),y==="agents"&&e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(P=>a.jsx(rte,{agent:P},P.agentId))}),y==="gaps"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((P,R)=>a.jsx(ate,{gap:P},R))}),y==="recommendations"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(P=>a.jsx(ste,{recommendation:P,onAccept:_,onReject:k},P.id))}),y==="reports"&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(P=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:[P.type.charAt(0).toUpperCase()+P.type.slice(1)," Report"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[QA(P.periodStart)," - ",QA(P.periodEnd)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:`/api/meta-agent/reports/${P.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),a.jsx("a",{href:`/api/meta-agent/reports/${P.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},P.id))})]})}function ote(){const{currentOrganization:e}=Xa(),[t,r]=N.useState("experiments"),[n,s]=N.useState([]),[i,l]=N.useState(null),[u,d]=N.useState([]),[f,p]=N.useState(!0),[m,x]=N.useState("");N.useEffect(()=>{b()},[e]);async function b(){p(!0);try{const[y,S,A]=await Promise.all([le({url:"/api/optimization/experiments"}),le({url:"/api/optimization/costs",params:{days:30}}),le({url:"/api/optimization/models"})]);s(y.experiments||[]),l(S.analysis||null),d(A.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{p(!1)}}async function v(y){try{await le({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await b()}catch(S){console.error("Failed to start experiment:",S)}}async function j(y){try{await le({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await b()}catch(S){console.error("Failed to stop experiment:",S)}}return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),a.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>a.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&a.jsx(lte,{experiments:n,onStart:v,onStop:j}),t==="prompts"&&a.jsx(dte,{selectedAgent:m,onAgentChange:x}),t==="routing"&&a.jsx(fte,{selectedAgent:m,onAgentChange:x}),t==="models"&&a.jsx(hte,{models:u}),t==="costs"&&i&&a.jsx(mte,{analysis:i})]})}function lte({experiments:e,onStart:t,onStop:r}){const n=e.filter(i=>i.status==="running"),s=e.filter(i=>i.status==="completed");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),n.length===0?a.jsx("p",{className:"text-gray-500",children:"No active experiments"}):a.jsx("div",{className:"space-y-4",children:n.map(i=>a.jsx(cte,{experiment:i,onStart:t,onStop:r},i.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?a.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):a.jsx("div",{className:"space-y-4",children:s.map(i=>a.jsx(ute,{experiment:i},i.id))})]})]})}function cte({experiment:e,onStart:t,onStop:r}){const n={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${n[e.status]}`,children:e.status}),e.status==="draft"&&a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function ute({experiment:e}){const t=e.results;return t?a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Control"}),a.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),a.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),a.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),a.jsxs("div",{className:"mt-4 text-sm",children:[a.jsxs("p",{children:["Improvement: ",a.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),a.jsxs("p",{children:["Confidence: ",a.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&a.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function dte({selectedAgent:e,onAgentChange:t}){const[r,n]=N.useState([]),[s,i]=N.useState(!1);async function l(u){if(u){i(!0);try{const d=await le({url:`/api/optimization/agents/${u}/prompts`});n(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{i(!1)}}}return N.useEffect(()=>{e&&l(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?a.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):a.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return a.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&a.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function fte({selectedAgent:e,onAgentChange:t}){var f,p;const[r,n]=N.useState(null),[s,i]=N.useState(null),[l,u]=N.useState(!1);async function d(m){if(m){u(!0);try{const[x,b]=await Promise.all([le({url:`/api/optimization/agents/${m}/routing/analysis`}),le({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);n(x.analysis||null),i(b||null)}catch(x){console.error("Failed to load routing:",x)}finally{u(!1)}}}return N.useEffect(()=>{e&&d(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),a.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),a.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&a.jsxs(a.Fragment,{children:[((f=s.additions)==null?void 0:f.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function hte({models:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function mte({analysis:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),a.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?a.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):a.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),a.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}function pte({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:a.jsx(qd,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:a.jsx(ec,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:a.jsx(ec,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:a.jsx(cD,{className:"w-3 h-3"}),label:"Cooldown"}},{color:r,icon:n,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r}`,children:[n,s]})}function gte({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function xte({isOpen:e,onClose:t,onSubmit:r,initialData:n}){const[s,i]=N.useState({nickname:n.nickname,priority:n.priority}),[l,u]=N.useState(!1),[d,f]=N.useState(null);N.useEffect(()=>{i({nickname:n.nickname,priority:n.priority}),f(null)},[n,e]);const p=async m=>{m.preventDefault(),u(!0),f(null);try{await r(s),t()}catch(x){f(x instanceof Error?x.message:"Failed to save account")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Account"}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:d}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),a.jsx("input",{type:"text",value:s.nickname,onChange:m=>i({...s,nickname:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email is set when connecting the account"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),a.jsx("input",{type:"number",value:s.priority,onChange:m=>i({...s,priority:parseInt(m.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${n.hasCredentials?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.hasCredentials?"Credentials saved":"No credentials"}),!n.hasCredentials&&a.jsx("span",{className:"text-gray-500",children:'Use "Connect Account" to add credentials'})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":"Update"})]})]})]})}):null}function yte(){const[e,t]=N.useState([]),[r,n]=N.useState(null),[s,i]=N.useState(!0),[l,u]=N.useState(null),[d,f]=N.useState(!1),[p,m]=N.useState(null),x=N.useCallback(async()=>{try{const{data:S}=await Er.get("/api/claude-max-accounts");t(S.accounts),n(S.summary),u(null)}catch(S){u(S instanceof Error?S.message:"Failed to load accounts")}finally{i(!1)}},[]);N.useEffect(()=>{x();const S=setInterval(x,3e4);return()=>clearInterval(S)},[x]),N.useEffect(()=>{const S=A=>{var _;((_=A.data)==null?void 0:_.type)==="claude-connect-success"&&x()};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[x]);const b=()=>{const _=(window.screen.width-700)/2,k=(window.screen.height-800)/2;window.open("/claude-connect","claude-connect",`width=700,height=800,left=${_},top=${k},resizable=yes,scrollbars=yes`)},v=async S=>{p&&(await Er.patch(`/api/claude-max-accounts/${p.id}`,{nickname:S.nickname,priority:S.priority}),await x())},j=async S=>{confirm("Are you sure you want to delete this account?")&&(await Er.delete(`/api/claude-max-accounts/${S}`),await x())},y=async S=>{await Er.post(`/api/claude-max-accounts/${S}/reset-status`),await x()};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ud,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),a.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Ud,{className:"w-4 h-4"}),"Refresh"]}),a.jsxs("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx(tj,{className:"w-4 h-4"}),"Connect Claude Account"]})]})]}),e.length===0&&a.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg text-white",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:a.jsx(sE,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Get Started with Claude Max"}),a.jsx("p",{className:"text-indigo-100 mb-4",children:"Connect your Claude Max subscription to enable AI-powered workflows. The connection process takes less than a minute."}),a.jsx("button",{onClick:b,className:"px-4 py-2 bg-white text-indigo-600 rounded-md hover:bg-indigo-50 font-medium",children:"Connect Your First Account"})]})]})}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),r&&e.length>0&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.total})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(qd,{className:"w-3 h-3 text-green-500"})," Active"]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.active})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(ec,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.rateLimited})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(RD,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),a.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.exhausted})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[r.averageUsage.toFixed(1),"%"]})]})]}),e.length>0&&a.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:S.nickname}),a.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.hasCredentials&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Connected"})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx(pte,{status:S.status}),S.cooldownUntil&&new Date(S.cooldownUntil)>new Date&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(S.cooldownUntil).toLocaleTimeString()]})]}),a.jsx("td",{className:"px-6 py-4 w-40",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gte,{percent:S.estimatedUsagePercent}),a.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[S.estimatedUsagePercent.toFixed(0),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.priority}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.lastActiveAt?new Date(S.lastActiveAt).toLocaleString():"Never"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[S.status!=="active"&&a.jsx("button",{onClick:()=>y(S.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:a.jsx(jD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{m(S),f(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx(yD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(OD,{className:"w-4 h-4"})})]})})]},S.id))})]})}),p&&a.jsx(xte,{isOpen:d,onClose:()=>{f(!1),m(null)},onSubmit:v,initialData:p})]})}function vte(){const[e,t]=N.useState("init"),[r,n]=N.useState(null),[s,i]=N.useState(""),[l,u]=N.useState(""),[d,f]=N.useState(null),[p,m]=N.useState(""),[x,b]=N.useState(100),[v,j]=N.useState(null),[y,S]=N.useState(!1),[A,_]=N.useState(0);N.useEffect(()=>{k()},[]);const k=async()=>{try{S(!0),j(null);const{data:I}=await Er.post("/api/claude-connect/init");n(I);const{data:T}=await Er.get(`/api/claude-connect/bookmarklet/${I.code}`);i(T.bookmarkletCode);const H=`(async()=>{const sk=document.cookie.match(/sessionKey=([^;]+)/);if(!sk){console.error('Not logged in');return;}const r=await fetch('${window.location.origin}/api/claude-connect/receive-token',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:sk[1],code:'${I.code}'})});const d=await r.json();console.log(d.success?'Success! Return to Nubabel.':'Error: '+d.error);})();`;u(H),t("instructions")}catch(I){j(I instanceof Error?I.message:"Failed to initialize connection"),t("error")}finally{S(!1)}},C=N.useCallback(async()=>{if(!r)return!1;try{const{data:I}=await Er.get(`/api/claude-connect/poll/${r.code}`);return I.status==="received"?(t("naming"),!0):!1}catch{return!1}},[r]);N.useEffect(()=>{if(e!=="waiting"||!r)return;const I=setInterval(async()=>{_(H=>H+1),await C()&&clearInterval(I)},2e3),T=setTimeout(()=>{clearInterval(I),e==="waiting"&&(j("Connection timed out. Please try again."),t("error"))},3e5);return()=>{clearInterval(I),clearTimeout(T)}},[e,r,C]);const O=async I=>{const T=I==="bookmarklet"?s:l;await navigator.clipboard.writeText(T),f(I),setTimeout(()=>f(null),2e3)},P=()=>{_(0),t("waiting")},R=async()=>{var I,T;if(!(!r||!p.trim()))try{S(!0),j(null);const{data:M}=await Er.post("/api/claude-connect/complete",{code:r.code,nickname:p.trim(),priority:x});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:M.id},"*")}catch(M){j(((T=(I=M.response)==null?void 0:I.data)==null?void 0:T.error)||M.message||"Failed to create account")}finally{S(!1)}},$=()=>{window.opener?window.close():window.location.href="/admin/claude-max-accounts"};return y&&e==="init"?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ud,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Initializing connection..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Claude Account"}),a.jsx("p",{className:"text-gray-600",children:"Link your Claude Max subscription to Nubabel for AI-powered workflows"})]}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:["Login","Extract","Connect"].map((I,T)=>{const M=e==="init"||e==="instructions"?0:e==="waiting"?1:e==="naming"||e==="success"?2:0,H=T<=M,Y=T===M;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${H?Y?"bg-indigo-600 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:H&&!Y?a.jsx(Ds,{className:"w-4 h-4"}):T+1}),a.jsx("span",{className:`ml-2 text-sm ${Y?"text-indigo-600 font-medium":"text-gray-500"}`,children:I}),T<2&&a.jsx(sD,{className:"w-4 h-4 text-gray-400 mx-4"})]},I)})}),e==="error"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ec,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Failed"}),a.jsx("p",{className:"text-gray-600 mb-6",children:v}),a.jsx("button",{onClick:k,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})]})}),e==="instructions"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm",children:"1"}),"Open Claude and Log In"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Open claude.ai in a new tab and make sure you're logged in to your Claude Max account."}),a.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:["Open claude.ai",a.jsx(sE,{className:"w-4 h-4"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm",children:"2"}),"Extract Your Session (Choose One Method)"]}),a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(rD,{className:"w-4 h-4"}),"Option A: Bookmarklet (Recommended)"]}),a.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[a.jsx("li",{children:"Copy the code below"}),a.jsx("li",{children:"Create a new bookmark in your browser"}),a.jsx("li",{children:"Paste the code as the URL"}),a.jsx("li",{children:"While on claude.ai, click the bookmark"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{readOnly:!0,value:s,className:"w-full h-20 p-2 text-xs font-mono bg-gray-100 border rounded resize-none"}),a.jsx("button",{onClick:()=>O("bookmarklet"),className:"absolute top-2 right-2 p-1.5 bg-white border rounded hover:bg-gray-50",title:"Copy to clipboard",children:d==="bookmarklet"?a.jsx(Ds,{className:"w-4 h-4 text-green-500"}):a.jsx(KN,{className:"w-4 h-4 text-gray-500"})})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(kD,{className:"w-4 h-4"}),"Option B: Browser Console"]}),a.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[a.jsx("li",{children:"On claude.ai, open DevTools (F12 or Cmd+Option+I)"}),a.jsx("li",{children:"Go to the Console tab"}),a.jsx("li",{children:"Paste the code below and press Enter"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{readOnly:!0,value:l,className:"w-full h-16 p-2 text-xs font-mono bg-gray-100 border rounded resize-none"}),a.jsx("button",{onClick:()=>O("script"),className:"absolute top-2 right-2 p-1.5 bg-white border rounded hover:bg-gray-50",title:"Copy to clipboard",children:d==="script"?a.jsx(Ds,{className:"w-4 h-4 text-green-500"}):a.jsx(KN,{className:"w-4 h-4 text-gray-500"})})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:P,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"I've Extracted My Session - Continue"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click after running the bookmarklet or console script"})]})]}),e==="waiting"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ud,{className:"w-12 h-12 animate-spin text-indigo-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Waiting for Token..."}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Run the bookmarklet or console script on claude.ai.",a.jsx("br",{}),"This page will update automatically when we receive your session."]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Checking... (",A," attempts)"]})]})}),e==="naming"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(qd,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Token Received!"}),a.jsx("p",{className:"text-gray-600",children:"Now give your account a nickname to identify it."})]}),v&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:v}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Nickname"}),a.jsx("input",{type:"text",value:p,onChange:I=>m(I.target.value),placeholder:"e.g., work-account, personal, team-shared",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),a.jsx("input",{type:"number",value:x,onChange:I=>b(parseInt(I.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsx("button",{onClick:R,disabled:y||!p.trim(),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating Account...":"Complete Connection"})]})]}),e==="success"&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(qd,{className:"w-10 h-10 text-green-500"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Successfully Connected!"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Your Claude Max account "',p,'" has been linked to Nubabel.']}),a.jsx("button",{onClick:$,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:window.opener?"Close Window":"Go to Accounts"})]})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Security Note"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Your session token is encrypted and stored securely. Nubabel never sees your Claude password. The token is only used to make API calls on your behalf."})]})]})})}const bte=rE((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:r,pagination:n}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;r.category&&s.set("category",r.category),r.search&&s.set("search",r.search),r.isActive!==null&&s.set("isActive",String(r.isActive)),r.isSkill!==null&&s.set("isSkill",String(r.isSkill)),s.set("limit",String(n.limit)),s.set("offset",String(n.offset));const i=await le({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:i.data,pagination:i.pagination,isLoading:!1})}catch(s){const i=s instanceof Error?s.message:"Failed to fetch workflows";e({error:i,isLoading:!1})}},fetchCategories:async()=>{try{const r=await le({url:"/api/n8n/categories",method:"GET"});e({categories:r})}catch(r){console.error("Failed to fetch categories:",r)}},fetchWorkflowExecutions:async r=>{try{const n=await le({url:`/api/n8n/workflows/${r}/executions`,method:"GET"});e({executions:n})}catch(n){console.error("Failed to fetch executions:",n)}},createWorkflow:async r=>{e({isLoading:!0,error:null});try{const n=await le({url:"/api/n8n/workflows",method:"POST",data:r});return e(s=>({workflows:[n,...s.workflows],isLoading:!1})),n}catch(n){const s=n instanceof Error?n.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),n}},updateWorkflow:async(r,n)=>{e({isLoading:!0,error:null});try{const s=await le({url:`/api/n8n/workflows/${r}`,method:"PUT",data:n});return e(i=>{var l;return{workflows:i.workflows.map(u=>u.id===r?s:u),selectedWorkflow:((l=i.selectedWorkflow)==null?void 0:l.id)===r?s:i.selectedWorkflow,isLoading:!1}}),s}catch(s){const i=s instanceof Error?s.message:"Failed to update workflow";throw e({error:i,isLoading:!1}),s}},deleteWorkflow:async r=>{e({isLoading:!0,error:null});try{await le({url:`/api/n8n/workflows/${r}`,method:"DELETE"}),e(n=>{var s;return{workflows:n.workflows.filter(i=>i.id!==r),selectedWorkflow:((s=n.selectedWorkflow)==null?void 0:s.id)===r?null:n.selectedWorkflow,isLoading:!1}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),n}},executeWorkflow:async(r,n)=>{e({isExecuting:!0,error:null});try{const s=await le({url:`/api/n8n/workflows/${r}/execute`,method:"POST",data:{inputData:n}});return e(i=>({executions:[s,...i.executions],isExecuting:!1})),s}catch(s){const i=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:i,isExecuting:!1}),s}},activateWorkflow:async r=>{try{const n=await le({url:`/api/n8n/workflows/${r}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===r?n:i)}))}catch(n){const s=n instanceof Error?n.message:"Failed to activate workflow";throw e({error:s}),n}},deactivateWorkflow:async r=>{try{const n=await le({url:`/api/n8n/workflows/${r}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===r?n:i)}))}catch(n){const s=n instanceof Error?n.message:"Failed to deactivate workflow";throw e({error:s}),n}},setFilters:r=>{e(n=>({filters:{...n.filters,...r},pagination:{...n.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:r=>{e({viewMode:r})},setSelectedWorkflow:r=>{e({selectedWorkflow:r,executions:[]}),r&&t().fetchWorkflowExecutions(r.id)},setPage:r=>{e(n=>({pagination:{...n.pagination,offset:r}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),XA=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function JA(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function jte({workflow:e,onView:t,onEdit:r,onDelete:n,onExecute:s,onToggleActive:i}){var l;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),a.jsx("div",{className:"ml-3 flex-shrink-0",children:a.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&a.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(u=>a.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:u},u)),e.tags.length>3&&a.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),a.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),a.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),a.jsx("button",{onClick:n,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function wte({workflow:e,onView:t,onEdit:r,onDelete:n,onExecute:s,onToggleActive:i}){var l;return a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),a.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),a.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),a.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),a.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),a.jsx("button",{onClick:n,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function ZA({isOpen:e,onClose:t,onSubmit:r,initialData:n,title:s,isLoading:i}){const[l,u]=N.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:XA,isActive:!1}),[d,f]=N.useState(null);N.useEffect(()=>{u(n?{name:n.name,description:n.description||"",category:n.category,tags:n.tags.join(", "),workflowJson:JSON.stringify(n.workflowJson,null,2),isActive:n.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:XA,isActive:!1}),f(null)},[n,e]);const p=x=>{u(v=>({...v,workflowJson:x}));const b=JA(x);f(b.valid?null:b.error??null)},m=()=>{const x=JA(l.workflowJson);if(!x.valid){f(x.error??"Invalid JSON");return}r(l)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:l.name,onChange:x=>u(b=>({...b,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:x=>u(b=>({...b,description:x.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("input",{type:"text",value:l.category,onChange:x=>u(b=>({...b,category:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",value:l.tags,onChange:x=>u(b=>({...b,tags:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:x=>u(b=>({...b,isActive:x.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),a.jsx("textarea",{value:l.workflowJson,onChange:x=>p(x.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),d&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:i||!l.name||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":n?"Update":"Create"})]})]})}):null}function Nte({isOpen:e,onClose:t,onExecute:r,workflowName:n,isExecuting:s}){const[i,l]=N.useState("{}"),[u,d]=N.useState(null),f=m=>{l(m);try{JSON.parse(m),d(null)}catch{d("Invalid JSON")}},p=()=>{try{const m=JSON.parse(i);r(m)}catch{d("Invalid JSON")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",n]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),a.jsx("textarea",{value:i,onChange:m=>f(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),u&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:s||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function Ste({isOpen:e,onClose:t,onConfirm:r,workflowName:n,isLoading:s}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),a.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:n}),"? This action cannot be undone."]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:r,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function kte({workflow:e,executions:t,onClose:r}){const n=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),a.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):a.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n(s.status)}`,children:s.status}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function Cte(){const{workflows:e,categories:t,executions:r,isLoading:n,isExecuting:s,error:i,viewMode:l,filters:u,pagination:d,fetchWorkflows:f,fetchCategories:p,createWorkflow:m,updateWorkflow:x,deleteWorkflow:b,executeWorkflow:v,activateWorkflow:j,deactivateWorkflow:y,setFilters:S,setViewMode:A,setSelectedWorkflow:_,setPage:k,clearError:C}=bte(),[O,P]=N.useState(!1),[R,$]=N.useState(null),[I,T]=N.useState(null),[M,H]=N.useState(null),[Y,q]=N.useState(null);N.useEffect(()=>{f(),p()},[f,p]);const U=N.useCallback(async ee=>{const ue={name:ee.name,description:ee.description||void 0,category:ee.category,tags:ee.tags.split(",").map(ge=>ge.trim()).filter(Boolean),workflowJson:JSON.parse(ee.workflowJson),isActive:ee.isActive};await m(ue),P(!1)},[m]),F=N.useCallback(async ee=>{if(!R)return;const ue={name:ee.name,description:ee.description||void 0,category:ee.category,tags:ee.tags.split(",").map(ge=>ge.trim()).filter(Boolean),workflowJson:JSON.parse(ee.workflowJson),isActive:ee.isActive};await x(R.id,ue),$(null)},[R,x]),W=N.useCallback(async()=>{M&&(await b(M.id),H(null))},[M,b]),X=N.useCallback(async ee=>{I&&(await v(I.id,ee),T(null))},[I,v]),z=N.useCallback(async ee=>{ee.isActive?await y(ee.id):await j(ee.id)},[j,y]),B=N.useCallback(ee=>{_(ee),q(ee)},[_]),L=Math.ceil(d.total/d.limit),G=Math.floor(d.offset/d.limit)+1;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),a.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),i&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[a.jsx("span",{children:i}),a.jsx("button",{onClick:C,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("input",{type:"text",value:u.search,onChange:ee=>S({search:ee.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsxs("select",{value:u.category,onChange:ee=>S({category:ee.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Categories"}),t.map(ee=>a.jsxs("option",{value:ee.name,children:[ee.name," (",ee.count,")"]},ee.name))]}),a.jsxs("select",{value:u.isActive===null?"":String(u.isActive),onChange:ee=>S({isActive:ee.target.value===""?null:ee.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"true",children:"Active"}),a.jsx("option",{value:"false",children:"Inactive"})]}),a.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>A("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),a.jsx("button",{onClick:()=>A("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),n?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:u.search||u.category||u.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!u.search&&!u.category&&u.isActive===null&&a.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(ee=>a.jsx(jte,{workflow:ee,onView:()=>B(ee),onEdit:()=>$(ee),onDelete:()=>H(ee),onExecute:()=>T(ee),onToggleActive:()=>z(ee)},ee.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(ee=>a.jsx(wte,{workflow:ee,onView:()=>B(ee),onEdit:()=>$(ee),onDelete:()=>H(ee),onExecute:()=>T(ee),onToggleActive:()=>z(ee)},ee.id))}),L>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.offset+1,"-",Math.min(d.offset+d.limit,d.total)," of ",d.total]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>k(Math.max(0,d.offset-d.limit)),disabled:d.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",G," of ",L]}),a.jsx("button",{onClick:()=>k(d.offset+d.limit),disabled:G>=L,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),a.jsx(ZA,{isOpen:O,onClose:()=>P(!1),onSubmit:U,title:"Create Workflow",isLoading:n}),a.jsx(ZA,{isOpen:!!R,onClose:()=>$(null),onSubmit:F,initialData:R??void 0,title:"Edit Workflow",isLoading:n}),a.jsx(Nte,{isOpen:!!I,onClose:()=>T(null),onExecute:X,workflowName:(I==null?void 0:I.name)??"",isExecuting:s}),a.jsx(Ste,{isOpen:!!M,onClose:()=>H(null),onConfirm:W,workflowName:(M==null?void 0:M.name)??"",isLoading:n}),Y&&a.jsx(kte,{workflow:Y,executions:r,onClose:()=>{q(null),_(null)}})]})}function Ote(){const[e,t]=N.useState(!1),{currentOrganization:r,organizations:n,switchOrganization:s}=Xa();if(!r||n.length<=1)return null;const i=async l=>{t(!1),await s(l)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),n.map(l=>a.jsxs("button",{onClick:()=>i(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function Pte({user:e,onLogout:t}){return a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),a.jsx(Ote,{}),e&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const Ate=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],Ete=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],_te=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],Tte=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],Rte=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],Mte=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"External Tools",path:"/marketplace-hub",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],Ite=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function $te(){const e=Qs(),t=r=>r.map(n=>{const i=e.pathname===n.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return a.jsx("li",{children:a.jsxs(Rt,{to:n.path,className:i,children:[a.jsx("span",{className:"text-xl",children:n.icon}),a.jsx("span",{className:"font-medium",children:n.name})]})},n.path)});return a.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:a.jsx("nav",{className:"p-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("ul",{className:"space-y-2",children:t(Ate)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),a.jsx("ul",{className:"space-y-2",children:t(Ete)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),a.jsx("ul",{className:"space-y-2",children:t(_te)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),a.jsx("ul",{className:"space-y-2",children:t(Tte)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),a.jsx("ul",{className:"space-y-2",children:t(Rte)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),a.jsx("ul",{className:"space-y-2",children:t(Mte)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),a.jsx("ul",{className:"space-y-2",children:t(Ite)})]})]})})})}function Be({children:e}){const{user:t,logout:r}=Xa();return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(Pte,{user:t||void 0,onLogout:r}),a.jsx($te,{}),a.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function Fe({children:e}){const{user:t,isLoading:r,fetchUser:n}=Xa();return N.useEffect(()=>{n()},[n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(T4,{to:"/login",replace:!0})}function Dte(){return a.jsx(wM,{children:a.jsxs(mM,{children:[a.jsx(De,{path:"/login",element:a.jsx(OM,{})}),a.jsx(De,{path:"/dashboard",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(VM,{})})})}),a.jsx(De,{path:"/okr",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(nL,{})})})}),a.jsx(De,{path:"/workflows",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(E$,{})})})}),a.jsx(De,{path:"/workflows/:id",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(_$,{})})})}),a.jsx(De,{path:"/executions",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(T$,{})})})}),a.jsx(De,{path:"/executions/:id",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(R$,{})})})}),a.jsx(De,{path:"/settings",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(D$,{})})})}),a.jsx(De,{path:"/settings/notion",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(L$,{})})})}),a.jsx(De,{path:"/settings/slack",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(F$,{})})})}),a.jsx(De,{path:"/settings/google-calendar",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(B$,{})})})}),a.jsx(De,{path:"/settings/identities",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(V$,{})})})}),a.jsx(De,{path:"/settings/members",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(WD,{})})})}),a.jsx(De,{path:"/approvals",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(HD,{})})})}),a.jsx(De,{path:"/activity",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(eL,{})})})}),a.jsx(De,{path:"/metrics/agents",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(tL,{})})})}),a.jsx(De,{path:"/org-changes",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(rL,{})})})}),a.jsx(De,{path:"/admin/agents",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(oL,{})})})}),a.jsx(De,{path:"/admin/skills",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(dL,{})})})}),a.jsx(De,{path:"/admin",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(xL,{})})})}),a.jsx(De,{path:"/admin/organizations",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(bL,{})})})}),a.jsx(De,{path:"/admin/identities",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(PL,{})})})}),a.jsx(De,{path:"/admin/optimization",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(ote,{})})})}),a.jsx(De,{path:"/admin/claude-max-accounts",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(yte,{})})})}),a.jsx(De,{path:"/conversations",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(fL,{})})})}),a.jsx(De,{path:"/search",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(gL,{})})})}),a.jsx(De,{path:"/analytics",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Oee,{})})})}),a.jsx(De,{path:"/costs",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Eee,{})})})}),a.jsx(De,{path:"/billing",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Pee,{})})})}),a.jsx(De,{path:"/knowledge-graph",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx($ee,{})})})}),a.jsx(De,{path:"/patterns",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(qee,{})})})}),a.jsx(De,{path:"/feedback",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Iee,{})})})}),a.jsx(De,{path:"/system-health",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(ite,{})})})}),a.jsx(De,{path:"/marketplace",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Dee,{})})})}),a.jsx(De,{path:"/marketplace-hub",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Lee,{})})})}),a.jsx(De,{path:"/marketplace/:extensionId",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Mee,{})})})}),a.jsx(De,{path:"/developer",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Ree,{})})})}),a.jsx(De,{path:"/developer/publisher",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Uee,{})})})}),a.jsx(De,{path:"/sops/drafts",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Wee,{})})})}),a.jsx(De,{path:"/sops/editor/:id?",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Xee,{})})})}),a.jsx(De,{path:"/onboarding",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Fee,{})})})}),a.jsx(De,{path:"/org-change-wizard",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(zee,{})})})}),a.jsx(De,{path:"/n8n/workflows",element:a.jsx(Fe,{children:a.jsx(Be,{children:a.jsx(Cte,{})})})}),a.jsx(De,{path:"/claude-connect",element:a.jsx(Fe,{children:a.jsx(vte,{})})}),a.jsx(De,{path:"/",element:a.jsx(T4,{to:"/dashboard",replace:!0})})]})})}class Lte extends V.Component{constructor(){super(...arguments);ud(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const n=r instanceof Error?r.message:String(r);console.error("UI error:",n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?a.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,a.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const Fte=new uR;B8.createRoot(document.getElementById("root")).render(a.jsx(V.StrictMode,{children:a.jsx(Lte,{children:a.jsx(dR,{client:Fte,children:a.jsx(Dte,{})})})}));
