var g6=Object.defineProperty;var XN=e=>{throw TypeError(e)};var x6=(e,t,r)=>t in e?g6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ru=(e,t,r)=>x6(e,typeof t!="symbol"?t+"":t,r),Hm=(e,t,r)=>t.has(e)||XN("Cannot "+r);var le=(e,t,r)=>(Hm(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?XN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(Hm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kt=(e,t,r)=>(Hm(e,t,"access private method"),r);var Mu=(e,t,r,n)=>({set _(s){$e(e,t,s,r)},get _(){return le(e,t,n)}});function y6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Km={exports:{}},Jo={},Gm={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function v6(){if(QN)return ze;QN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function y(B,F,K){this.props=B,this.context=F,this.refs=j,this.updater=K||v}y.prototype.isReactComponent={},y.prototype.setState=function(B,F){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,F,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=y.prototype;function C(B,F,K){this.props=B,this.context=F,this.refs=j,this.updater=K||v}var _=C.prototype=new N;_.constructor=C,b(_,y.prototype),_.isPureReactComponent=!0;var O=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(B,F,K){var Z,de={},ie=null,re=null;if(F!=null)for(Z in F.ref!==void 0&&(re=F.ref),F.key!==void 0&&(ie=""+F.key),F)S.call(F,Z)&&!E.hasOwnProperty(Z)&&(de[Z]=F[Z]);var pe=arguments.length-2;if(pe===1)de.children=K;else if(1<pe){for(var ue=Array(pe),Oe=0;Oe<pe;Oe++)ue[Oe]=arguments[Oe+2];de.children=ue}if(B&&B.defaultProps)for(Z in pe=B.defaultProps,pe)de[Z]===void 0&&(de[Z]=pe[Z]);return{$$typeof:e,type:B,key:ie,ref:re,props:de,_owner:A.current}}function M(B,F){return{$$typeof:e,type:B.type,key:F,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function T(B){var F={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(K){return F[K]})}var I=/\/+/g;function G(B,F){return typeof B=="object"&&B!==null&&B.key!=null?T(""+B.key):F.toString(36)}function X(B,F,K,Z,de){var ie=typeof B;(ie==="undefined"||ie==="boolean")&&(B=null);var re=!1;if(B===null)re=!0;else switch(ie){case"string":case"number":re=!0;break;case"object":switch(B.$$typeof){case e:case t:re=!0}}if(re)return re=B,de=de(re),B=Z===""?"."+G(re,0):Z,O(de)?(K="",B!=null&&(K=B.replace(I,"$&/")+"/"),X(de,F,K,"",function(Oe){return Oe})):de!=null&&(L(de)&&(de=M(de,K+(!de.key||re&&re.key===de.key?"":(""+de.key).replace(I,"$&/")+"/")+B)),F.push(de)),1;if(re=0,Z=Z===""?".":Z+":",O(B))for(var pe=0;pe<B.length;pe++){ie=B[pe];var ue=Z+G(ie,pe);re+=X(ie,F,K,ue,de)}else if(ue=x(B),typeof ue=="function")for(B=ue.call(B),pe=0;!(ie=B.next()).done;)ie=ie.value,ue=Z+G(ie,pe++),re+=X(ie,F,K,ue,de);else if(ie==="object")throw F=String(B),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return re}function U(B,F,K){if(B==null)return B;var Z=[],de=0;return X(B,Z,"","",function(ie){return F.call(K,ie,de++)}),Z}function q(B){if(B._status===-1){var F=B._result;F=F(),F.then(function(K){(B._status===0||B._status===-1)&&(B._status=1,B._result=K)},function(K){(B._status===0||B._status===-1)&&(B._status=2,B._result=K)}),B._status===-1&&(B._status=0,B._result=F)}if(B._status===1)return B._result.default;throw B._result}var D={current:null},W={transition:null},Y={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:W,ReactCurrentOwner:A};function z(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:U,forEach:function(B,F,K){U(B,function(){F.apply(this,arguments)},K)},count:function(B){var F=0;return U(B,function(){F++}),F},toArray:function(B){return U(B,function(F){return F})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ze.Component=y,ze.Fragment=r,ze.Profiler=s,ze.PureComponent=C,ze.StrictMode=n,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ze.act=z,ze.cloneElement=function(B,F,K){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Z=b({},B.props),de=B.key,ie=B.ref,re=B._owner;if(F!=null){if(F.ref!==void 0&&(ie=F.ref,re=A.current),F.key!==void 0&&(de=""+F.key),B.type&&B.type.defaultProps)var pe=B.type.defaultProps;for(ue in F)S.call(F,ue)&&!E.hasOwnProperty(ue)&&(Z[ue]=F[ue]===void 0&&pe!==void 0?pe[ue]:F[ue])}var ue=arguments.length-2;if(ue===1)Z.children=K;else if(1<ue){pe=Array(ue);for(var Oe=0;Oe<ue;Oe++)pe[Oe]=arguments[Oe+2];Z.children=pe}return{$$typeof:e,type:B.type,key:de,ref:ie,props:Z,_owner:re}},ze.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},ze.createElement=R,ze.createFactory=function(B){var F=R.bind(null,B);return F.type=B,F},ze.createRef=function(){return{current:null}},ze.forwardRef=function(B){return{$$typeof:u,render:B}},ze.isValidElement=L,ze.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:q}},ze.memo=function(B,F){return{$$typeof:f,type:B,compare:F===void 0?null:F}},ze.startTransition=function(B){var F=W.transition;W.transition={};try{B()}finally{W.transition=F}},ze.unstable_act=z,ze.useCallback=function(B,F){return D.current.useCallback(B,F)},ze.useContext=function(B){return D.current.useContext(B)},ze.useDebugValue=function(){},ze.useDeferredValue=function(B){return D.current.useDeferredValue(B)},ze.useEffect=function(B,F){return D.current.useEffect(B,F)},ze.useId=function(){return D.current.useId()},ze.useImperativeHandle=function(B,F,K){return D.current.useImperativeHandle(B,F,K)},ze.useInsertionEffect=function(B,F){return D.current.useInsertionEffect(B,F)},ze.useLayoutEffect=function(B,F){return D.current.useLayoutEffect(B,F)},ze.useMemo=function(B,F){return D.current.useMemo(B,F)},ze.useReducer=function(B,F,K){return D.current.useReducer(B,F,K)},ze.useRef=function(B){return D.current.useRef(B)},ze.useState=function(B){return D.current.useState(B)},ze.useSyncExternalStore=function(B,F,K){return D.current.useSyncExternalStore(B,F,K)},ze.useTransition=function(){return D.current.useTransition()},ze.version="18.3.1",ze}var JN;function Wv(){return JN||(JN=1,Gm.exports=v6()),Gm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function b6(){if(ZN)return Jo;ZN=1;var e=Wv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},x=null,v=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:x,ref:v,props:m,_owner:s.current}}return Jo.Fragment=r,Jo.jsx=l,Jo.jsxs=l,Jo}var e1;function j6(){return e1||(e1=1,Km.exports=b6()),Km.exports}var a=j6(),k=Wv();const V=Xe(k),w6=y6({__proto__:null,default:V},[k]);var $u={},Vm={exports:{}},cr={},Ym={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function N6(){return t1||(t1=1,(function(e){function t(W,Y){var z=W.length;W.push(Y);e:for(;0<z;){var B=z-1>>>1,F=W[B];if(0<s(F,Y))W[B]=Y,W[z]=F,z=B;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Y=W[0],z=W.pop();if(z!==Y){W[0]=z;e:for(var B=0,F=W.length,K=F>>>1;B<K;){var Z=2*(B+1)-1,de=W[Z],ie=Z+1,re=W[ie];if(0>s(de,z))ie<F&&0>s(re,de)?(W[B]=re,W[ie]=z,B=ie):(W[B]=de,W[Z]=z,B=Z);else if(ie<F&&0>s(re,z))W[B]=re,W[ie]=z,B=ie;else break e}}return Y}function s(W,Y){var z=W.sortIndex-Y.sortIndex;return z!==0?z:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,x=3,v=!1,b=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var Y=r(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=W)n(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=r(f)}}function O(W){if(j=!1,_(W),!b)if(r(d)!==null)b=!0,q(S);else{var Y=r(f);Y!==null&&D(O,Y.startTime-W)}}function S(W,Y){b=!1,j&&(j=!1,N(R),R=-1),v=!0;var z=x;try{for(_(Y),m=r(d);m!==null&&(!(m.expirationTime>Y)||W&&!T());){var B=m.callback;if(typeof B=="function"){m.callback=null,x=m.priorityLevel;var F=B(m.expirationTime<=Y);Y=e.unstable_now(),typeof F=="function"?m.callback=F:m===r(d)&&n(d),_(Y)}else n(d);m=r(d)}if(m!==null)var K=!0;else{var Z=r(f);Z!==null&&D(O,Z.startTime-Y),K=!1}return K}finally{m=null,x=z,v=!1}}var A=!1,E=null,R=-1,M=5,L=-1;function T(){return!(e.unstable_now()-L<M)}function I(){if(E!==null){var W=e.unstable_now();L=W;var Y=!0;try{Y=E(!0,W)}finally{Y?G():(A=!1,E=null)}}else A=!1}var G;if(typeof C=="function")G=function(){C(I)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,U=X.port2;X.port1.onmessage=I,G=function(){U.postMessage(null)}}else G=function(){y(I,0)};function q(W){E=W,A||(A=!0,G())}function D(W,Y){R=y(function(){W(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,q(S))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var z=x;x=Y;try{return W()}finally{x=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=x;x=W;try{return Y()}finally{x=z}},e.unstable_scheduleCallback=function(W,Y,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,W={id:p++,callback:Y,priorityLevel:W,startTime:z,expirationTime:F,sortIndex:-1},z>B?(W.sortIndex=z,t(f,W),r(d)===null&&W===r(f)&&(j?(N(R),R=-1):j=!0,D(O,z-B))):(W.sortIndex=F,t(d,W),b||v||(b=!0,q(S))),W},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(W){var Y=x;return function(){var z=x;x=Y;try{return W.apply(this,arguments)}finally{x=z}}}})(Xm)),Xm}var r1;function S6(){return r1||(r1=1,Ym.exports=N6()),Ym.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function k6(){if(n1)return cr;n1=1;var e=Wv(),t=S6();function r(i){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,c){l(i,c),l(i+"Capture",c)}function l(i,c){for(s[i]=c,i=0;i<c.length;i++)n.add(c[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,c,h,g){if(c===null||typeof c>"u"||v(i,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(i,c,h,g,w,P,$){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=i,this.type=c,this.sanitizeURL=P,this.removeEmptyString=$}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var c=i[0];y[c]=new j(c,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var c=i.replace(N,C);y[c]=new j(c,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var c=i.replace(N,C);y[c]=new j(c,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var c=i.replace(N,C);y[c]=new j(c,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function _(i,c,h,g){var w=y.hasOwnProperty(c)?y[c]:null;(w!==null?w.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,h,w,g)&&(h=null),g||w===null?x(c)&&(h===null?i.removeAttribute(c):i.setAttribute(c,""+h)):w.mustUseProperty?i[w.propertyName]=h===null?w.type===3?!1:"":h:(c=w.attributeName,g=w.attributeNamespace,h===null?i.removeAttribute(c):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,g?i.setAttributeNS(g,c,h):i.setAttribute(c,h))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var z=Object.assign,B;function F(i){if(B===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);B=c&&c[1]||""}return`
`+B+i}var K=!1;function Z(i,c){if(!i||K)return"";K=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var g=ae}Reflect.construct(i,[],c)}else{try{c.call()}catch(ae){g=ae}i.call(c.prototype)}else{try{throw Error()}catch(ae){g=ae}i()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var w=ae.stack.split(`
`),P=g.stack.split(`
`),$=w.length-1,H=P.length-1;1<=$&&0<=H&&w[$]!==P[H];)H--;for(;1<=$&&0<=H;$--,H--)if(w[$]!==P[H]){if($!==1||H!==1)do if($--,H--,0>H||w[$]!==P[H]){var Q=`
`+w[$].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=$&&0<=H);break}}}finally{K=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?F(i):""}function de(i){switch(i.tag){case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return i=Z(i.type,!1),i;case 11:return i=Z(i.type.render,!1),i;case 1:return i=Z(i.type,!0),i;default:return""}}function ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Portal";case M:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case X:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case I:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return c=i.displayName||null,c!==null?c:ie(i.type)||"Memo";case q:c=i._payload,i=i._init;try{return ie(i(c))}catch{}}return null}function re(i){var c=i.type;switch(i.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=c.render,i=i.displayName||i.name||"",c.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ue(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(i){var c=ue(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,c),g=""+i[c];if(!i.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,P=h.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return w.call(this)},set:function($){g=""+$,P.call(this,$)}}),Object.defineProperty(i,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Te(i){i._valueTracker||(i._valueTracker=Oe(i))}function ee(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return i&&(g=ue(i)?i.checked?"true":"false":i.value),i=g,i!==h?(c.setValue(i),!0):!1}function ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function be(i,c){var h=c.checked;return z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function Je(i,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=pe(c.value!=null?c.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ft(i,c){c=c.checked,c!=null&&_(i,"checked",c,!1)}function _t(i,c){ft(i,c);var h=pe(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}c.hasOwnProperty("value")?on(i,c.type,h):c.hasOwnProperty("defaultValue")&&on(i,c.type,pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(i.defaultChecked=!!c.defaultChecked)}function Br(i,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+i._wrapperState.initialValue,h||c===i.value||(i.value=c),i.defaultValue=c}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function on(i,c,h){(c!=="number"||ve(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var ln=Array.isArray;function nr(i,c,h,g){if(i=i.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<i.length;h++)w=c.hasOwnProperty("$"+i[h].value),i[h].selected!==w&&(i[h].selected=w),w&&g&&(i[h].defaultSelected=!0)}else{for(h=""+pe(h),c=null,w=0;w<i.length;w++){if(i[w].value===h){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}c!==null||i[w].disabled||(c=i[w])}c!==null&&(c.selected=!0)}}function qr(i,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},c,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ts(i,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(ln(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}i._wrapperState={initialValue:pe(h)}}function fo(i,c){var h=pe(c.value),g=pe(c.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),c.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function ho(i){var c=i.textContent;c===i._wrapperState.initialValue&&c!==""&&c!==null&&(i.value=c)}function cj(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rh(i,c){return i==null||i==="http://www.w3.org/1999/xhtml"?cj(c):i==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kc,uj=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,w){MSApp.execUnsafeLocalFunction(function(){return i(c,h,g,w)})}:i})(function(i,c){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=c;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=kc.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}});function mo(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b4=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(i){b4.forEach(function(c){c=c+i.charAt(0).toUpperCase()+i.substring(1),po[c]=po[i]})});function dj(i,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||po.hasOwnProperty(i)&&po[i]?(""+c).trim():c+"px"}function fj(i,c){i=i.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,w=dj(h,c[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,w):i[h]=w}}var j4=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nh(i,c){if(c){if(j4[i]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ah(i,c){if(i.indexOf("-")===-1)return typeof c.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function ih(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oh=null,Rs=null,Ms=null;function hj(i){if(i=Do(i)){if(typeof oh!="function")throw Error(r(280));var c=i.stateNode;c&&(c=Vc(c),oh(i.stateNode,i.type,c))}}function mj(i){Rs?Ms?Ms.push(i):Ms=[i]:Rs=i}function pj(){if(Rs){var i=Rs,c=Ms;if(Ms=Rs=null,hj(i),c)for(i=0;i<c.length;i++)hj(c[i])}}function gj(i,c){return i(c)}function xj(){}var lh=!1;function yj(i,c,h){if(lh)return i(c,h);lh=!0;try{return gj(i,c,h)}finally{lh=!1,(Rs!==null||Ms!==null)&&(xj(),pj())}}function go(i,c){var h=i.stateNode;if(h===null)return null;var g=Vc(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ch=!1;if(u)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){ch=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{ch=!1}function w4(i,c,h,g,w,P,$,H,Q){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(h,ae)}catch(he){this.onError(he)}}var yo=!1,Oc=null,Ac=!1,uh=null,N4={onError:function(i){yo=!0,Oc=i}};function S4(i,c,h,g,w,P,$,H,Q){yo=!1,Oc=null,w4.apply(N4,arguments)}function k4(i,c,h,g,w,P,$,H,Q){if(S4.apply(this,arguments),yo){if(yo){var ae=Oc;yo=!1,Oc=null}else throw Error(r(198));Ac||(Ac=!0,uh=ae)}}function Fa(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function vj(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function bj(i){if(Fa(i)!==i)throw Error(r(188))}function O4(i){var c=i.alternate;if(!c){if(c=Fa(i),c===null)throw Error(r(188));return c!==i?null:i}for(var h=i,g=c;;){var w=h.return;if(w===null)break;var P=w.alternate;if(P===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===P.child){for(P=w.child;P;){if(P===h)return bj(w),i;if(P===g)return bj(w),c;P=P.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=P;else{for(var $=!1,H=w.child;H;){if(H===h){$=!0,h=w,g=P;break}if(H===g){$=!0,g=w,h=P;break}H=H.sibling}if(!$){for(H=P.child;H;){if(H===h){$=!0,h=P,g=w;break}if(H===g){$=!0,g=P,h=w;break}H=H.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:c}function jj(i){return i=O4(i),i!==null?wj(i):null}function wj(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var c=wj(i);if(c!==null)return c;i=i.sibling}return null}var Nj=t.unstable_scheduleCallback,Sj=t.unstable_cancelCallback,A4=t.unstable_shouldYield,P4=t.unstable_requestPaint,xt=t.unstable_now,C4=t.unstable_getCurrentPriorityLevel,dh=t.unstable_ImmediatePriority,kj=t.unstable_UserBlockingPriority,Pc=t.unstable_NormalPriority,E4=t.unstable_LowPriority,Oj=t.unstable_IdlePriority,Cc=null,cn=null;function _4(i){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Cc,i,void 0,(i.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:M4,T4=Math.log,R4=Math.LN2;function M4(i){return i>>>=0,i===0?32:31-(T4(i)/R4|0)|0}var Ec=64,_c=4194304;function vo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Tc(i,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,w=i.suspendedLanes,P=i.pingedLanes,$=h&268435455;if($!==0){var H=$&~w;H!==0?g=vo(H):(P&=$,P!==0&&(g=vo(P)))}else $=h&~w,$!==0?g=vo($):P!==0&&(g=vo(P));if(g===0)return 0;if(c!==0&&c!==g&&(c&w)===0&&(w=g&-g,P=c&-c,w>=P||w===16&&(P&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=i.entangledLanes,c!==0)for(i=i.entanglements,c&=g;0<c;)h=31-zr(c),w=1<<h,g|=i[h],c&=~w;return g}function I4(i,c){switch(i){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(i,c){for(var h=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,P=i.pendingLanes;0<P;){var $=31-zr(P),H=1<<$,Q=w[$];Q===-1?((H&h)===0||(H&g)!==0)&&(w[$]=I4(H,c)):Q<=c&&(i.expiredLanes|=H),P&=~H}}function fh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Aj(){var i=Ec;return Ec<<=1,(Ec&4194240)===0&&(Ec=64),i}function hh(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function bo(i,c,h){i.pendingLanes|=c,c!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,c=31-zr(c),i[c]=h}function D4(i,c){var h=i.pendingLanes&~c;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=c,i.mutableReadLanes&=c,i.entangledLanes&=c,c=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var w=31-zr(h),P=1<<w;c[w]=0,g[w]=-1,i[w]=-1,h&=~P}}function mh(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var g=31-zr(h),w=1<<g;w&c|i[g]&c&&(i[g]|=c),h&=~w}}var Qe=0;function Pj(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Cj,ph,Ej,_j,Tj,gh=!1,Rc=[],ea=null,ta=null,ra=null,jo=new Map,wo=new Map,na=[],L4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rj(i,c){switch(i){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":jo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(c.pointerId)}}function No(i,c,h,g,w,P){return i===null||i.nativeEvent!==P?(i={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:P,targetContainers:[w]},c!==null&&(c=Do(c),c!==null&&ph(c)),i):(i.eventSystemFlags|=g,c=i.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),i)}function F4(i,c,h,g,w){switch(c){case"focusin":return ea=No(ea,i,c,h,g,w),!0;case"dragenter":return ta=No(ta,i,c,h,g,w),!0;case"mouseover":return ra=No(ra,i,c,h,g,w),!0;case"pointerover":var P=w.pointerId;return jo.set(P,No(jo.get(P)||null,i,c,h,g,w)),!0;case"gotpointercapture":return P=w.pointerId,wo.set(P,No(wo.get(P)||null,i,c,h,g,w)),!0}return!1}function Mj(i){var c=Ba(i.target);if(c!==null){var h=Fa(c);if(h!==null){if(c=h.tag,c===13){if(c=vj(h),c!==null){i.blockedOn=c,Tj(i.priority,function(){Ej(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mc(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=yh(i.domEventName,i.eventSystemFlags,c[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);sh=g,h.target.dispatchEvent(g),sh=null}else return c=Do(h),c!==null&&ph(c),i.blockedOn=h,!1;c.shift()}return!0}function Ij(i,c,h){Mc(i)&&h.delete(c)}function B4(){gh=!1,ea!==null&&Mc(ea)&&(ea=null),ta!==null&&Mc(ta)&&(ta=null),ra!==null&&Mc(ra)&&(ra=null),jo.forEach(Ij),wo.forEach(Ij)}function So(i,c){i.blockedOn===c&&(i.blockedOn=null,gh||(gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B4)))}function ko(i){function c(w){return So(w,i)}if(0<Rc.length){So(Rc[0],i);for(var h=1;h<Rc.length;h++){var g=Rc[h];g.blockedOn===i&&(g.blockedOn=null)}}for(ea!==null&&So(ea,i),ta!==null&&So(ta,i),ra!==null&&So(ra,i),jo.forEach(c),wo.forEach(c),h=0;h<na.length;h++)g=na[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<na.length&&(h=na[0],h.blockedOn===null);)Mj(h),h.blockedOn===null&&na.shift()}var Is=O.ReactCurrentBatchConfig,Ic=!0;function q4(i,c,h,g){var w=Qe,P=Is.transition;Is.transition=null;try{Qe=1,xh(i,c,h,g)}finally{Qe=w,Is.transition=P}}function z4(i,c,h,g){var w=Qe,P=Is.transition;Is.transition=null;try{Qe=4,xh(i,c,h,g)}finally{Qe=w,Is.transition=P}}function xh(i,c,h,g){if(Ic){var w=yh(i,c,h,g);if(w===null)Ih(i,c,g,$c,h),Rj(i,g);else if(F4(w,i,c,h,g))g.stopPropagation();else if(Rj(i,g),c&4&&-1<L4.indexOf(i)){for(;w!==null;){var P=Do(w);if(P!==null&&Cj(P),P=yh(i,c,h,g),P===null&&Ih(i,c,g,$c,h),P===w)break;w=P}w!==null&&g.stopPropagation()}else Ih(i,c,g,null,h)}}var $c=null;function yh(i,c,h,g){if($c=null,i=ih(g),i=Ba(i),i!==null)if(c=Fa(i),c===null)i=null;else if(h=c.tag,h===13){if(i=vj(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null);return $c=i,null}function $j(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C4()){case dh:return 1;case kj:return 4;case Pc:case E4:return 16;case Oj:return 536870912;default:return 16}default:return 16}}var aa=null,vh=null,Dc=null;function Dj(){if(Dc)return Dc;var i,c=vh,h=c.length,g,w="value"in aa?aa.value:aa.textContent,P=w.length;for(i=0;i<h&&c[i]===w[i];i++);var $=h-i;for(g=1;g<=$&&c[h-g]===w[P-g];g++);return Dc=w.slice(i,1<g?1-g:void 0)}function Lc(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function Fc(){return!0}function Lj(){return!1}function mr(i){function c(h,g,w,P,$){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(h=i[H],this[H]=h?h(P):P[H]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Fc:Lj,this.isPropagationStopped=Lj,this}return z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),c}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=mr($s),Oo=z({},$s,{view:0,detail:0}),U4=mr(Oo),jh,wh,Ao,Bc=z({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ao&&(Ao&&i.type==="mousemove"?(jh=i.screenX-Ao.screenX,wh=i.screenY-Ao.screenY):wh=jh=0,Ao=i),jh)},movementY:function(i){return"movementY"in i?i.movementY:wh}}),Fj=mr(Bc),W4=z({},Bc,{dataTransfer:0}),H4=mr(W4),K4=z({},Oo,{relatedTarget:0}),Nh=mr(K4),G4=z({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),V4=mr(G4),Y4=z({},$s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),X4=mr(Y4),Q4=z({},$s,{data:0}),Bj=mr(Q4),J4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=e3[i])?!!c[i]:!1}function Sh(){return t3}var r3=z({},Oo,{key:function(i){if(i.key){var c=J4[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=Lc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Z4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(i){return i.type==="keypress"?Lc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),n3=mr(r3),a3=z({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qj=mr(a3),s3=z({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),i3=mr(s3),o3=z({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=mr(o3),c3=z({},Bc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=mr(c3),d3=[9,13,27,32],kh=u&&"CompositionEvent"in window,Po=null;u&&"documentMode"in document&&(Po=document.documentMode);var f3=u&&"TextEvent"in window&&!Po,zj=u&&(!kh||Po&&8<Po&&11>=Po),Uj=" ",Wj=!1;function Hj(i,c){switch(i){case"keyup":return d3.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ds=!1;function h3(i,c){switch(i){case"compositionend":return Kj(c);case"keypress":return c.which!==32?null:(Wj=!0,Uj);case"textInput":return i=c.data,i===Uj&&Wj?null:i;default:return null}}function m3(i,c){if(Ds)return i==="compositionend"||!kh&&Hj(i,c)?(i=Dj(),Dc=vh=aa=null,Ds=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zj&&c.locale!=="ko"?null:c.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gj(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!p3[i.type]:c==="textarea"}function Vj(i,c,h,g){mj(g),c=Hc(c,"onChange"),0<c.length&&(h=new bh("onChange","change",null,h,g),i.push({event:h,listeners:c}))}var Co=null,Eo=null;function g3(i){fw(i,0)}function qc(i){var c=zs(i);if(ee(c))return i}function x3(i,c){if(i==="change")return c}var Yj=!1;if(u){var Oh;if(u){var Ah="oninput"in document;if(!Ah){var Xj=document.createElement("div");Xj.setAttribute("oninput","return;"),Ah=typeof Xj.oninput=="function"}Oh=Ah}else Oh=!1;Yj=Oh&&(!document.documentMode||9<document.documentMode)}function Qj(){Co&&(Co.detachEvent("onpropertychange",Jj),Eo=Co=null)}function Jj(i){if(i.propertyName==="value"&&qc(Eo)){var c=[];Vj(c,Eo,i,ih(i)),yj(g3,c)}}function y3(i,c,h){i==="focusin"?(Qj(),Co=c,Eo=h,Co.attachEvent("onpropertychange",Jj)):i==="focusout"&&Qj()}function v3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qc(Eo)}function b3(i,c){if(i==="click")return qc(c)}function j3(i,c){if(i==="input"||i==="change")return qc(c)}function w3(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var Ur=typeof Object.is=="function"?Object.is:w3;function _o(i,c){if(Ur(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!d.call(c,w)||!Ur(i[w],c[w]))return!1}return!0}function Zj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ew(i,c){var h=Zj(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=c&&g>=c)return{node:h,offset:c-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Zj(h)}}function tw(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?tw(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function rw(){for(var i=window,c=ve();c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=ve(i.document)}return c}function Ph(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}function N3(i){var c=rw(),h=i.focusedElem,g=i.selectionRange;if(c!==h&&h&&h.ownerDocument&&tw(h.ownerDocument.documentElement,h)){if(g!==null&&Ph(h)){if(c=g.start,i=g.end,i===void 0&&(i=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(i,h.value.length);else if(i=(c=h.ownerDocument||document)&&c.defaultView||window,i.getSelection){i=i.getSelection();var w=h.textContent.length,P=Math.min(g.start,w);g=g.end===void 0?P:Math.min(g.end,w),!i.extend&&P>g&&(w=g,g=P,P=w),w=ew(h,P);var $=ew(h,g);w&&$&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),i.removeAllRanges(),P>g?(i.addRange(c),i.extend($.node,$.offset)):(c.setEnd($.node,$.offset),i.addRange(c)))}}for(c=[],i=h;i=i.parentNode;)i.nodeType===1&&c.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)i=c[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var S3=u&&"documentMode"in document&&11>=document.documentMode,Ls=null,Ch=null,To=null,Eh=!1;function nw(i,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Eh||Ls==null||Ls!==ve(g)||(g=Ls,"selectionStart"in g&&Ph(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),To&&_o(To,g)||(To=g,g=Hc(Ch,"onSelect"),0<g.length&&(c=new bh("onSelect","select",null,c,h),i.push({event:c,listeners:g}),c.target=Ls)))}function zc(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Fs={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},_h={},aw={};u&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Uc(i){if(_h[i])return _h[i];if(!Fs[i])return i;var c=Fs[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in aw)return _h[i]=c[h];return i}var sw=Uc("animationend"),iw=Uc("animationiteration"),ow=Uc("animationstart"),lw=Uc("transitionend"),cw=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(i,c){cw.set(i,c),o(c,[i])}for(var Th=0;Th<uw.length;Th++){var Rh=uw[Th],k3=Rh.toLowerCase(),O3=Rh[0].toUpperCase()+Rh.slice(1);sa(k3,"on"+O3)}sa(sw,"onAnimationEnd"),sa(iw,"onAnimationIteration"),sa(ow,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(lw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function dw(i,c,h){var g=i.type||"unknown-event";i.currentTarget=h,k4(g,c,void 0,i),i.currentTarget=null}function fw(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],w=g.event;g=g.listeners;e:{var P=void 0;if(c)for(var $=g.length-1;0<=$;$--){var H=g[$],Q=H.instance,ae=H.currentTarget;if(H=H.listener,Q!==P&&w.isPropagationStopped())break e;dw(w,H,ae),P=Q}else for($=0;$<g.length;$++){if(H=g[$],Q=H.instance,ae=H.currentTarget,H=H.listener,Q!==P&&w.isPropagationStopped())break e;dw(w,H,ae),P=Q}}}if(Ac)throw i=uh,Ac=!1,uh=null,i}function st(i,c){var h=c[qh];h===void 0&&(h=c[qh]=new Set);var g=i+"__bubble";h.has(g)||(hw(c,i,2,!1),h.add(g))}function Mh(i,c,h){var g=0;c&&(g|=4),hw(h,i,g,c)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Mo(i){if(!i[Wc]){i[Wc]=!0,n.forEach(function(h){h!=="selectionchange"&&(A3.has(h)||Mh(h,!1,i),Mh(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Wc]||(c[Wc]=!0,Mh("selectionchange",!1,c))}}function hw(i,c,h,g){switch($j(c)){case 1:var w=q4;break;case 4:w=z4;break;default:w=xh}h=w.bind(null,c,h,i),w=void 0,!ch||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(c,h,{capture:!0,passive:w}):i.addEventListener(c,h,!0):w!==void 0?i.addEventListener(c,h,{passive:w}):i.addEventListener(c,h,!1)}function Ih(i,c,h,g,w){var P=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var H=g.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if($===4)for($=g.return;$!==null;){var Q=$.tag;if((Q===3||Q===4)&&(Q=$.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;$=$.return}for(;H!==null;){if($=Ba(H),$===null)return;if(Q=$.tag,Q===5||Q===6){g=P=$;continue e}H=H.parentNode}}g=g.return}yj(function(){var ae=P,he=ih(h),me=[];e:{var fe=cw.get(i);if(fe!==void 0){var ye=bh,Ne=i;switch(i){case"keypress":if(Lc(h)===0)break e;case"keydown":case"keyup":ye=n3;break;case"focusin":Ne="focus",ye=Nh;break;case"focusout":Ne="blur",ye=Nh;break;case"beforeblur":case"afterblur":ye=Nh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Fj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=H4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=i3;break;case sw:case iw:case ow:ye=V4;break;case lw:ye=l3;break;case"scroll":ye=U4;break;case"wheel":ye=u3;break;case"copy":case"cut":case"paste":ye=X4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=qj}var Se=(c&4)!==0,yt=!Se&&i==="scroll",te=Se?fe!==null?fe+"Capture":null:fe;Se=[];for(var J=ae,ne;J!==null;){ne=J;var ge=ne.stateNode;if(ne.tag===5&&ge!==null&&(ne=ge,te!==null&&(ge=go(J,te),ge!=null&&Se.push(Io(J,ge,ne)))),yt)break;J=J.return}0<Se.length&&(fe=new ye(fe,Ne,null,h,he),me.push({event:fe,listeners:Se}))}}if((c&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",fe&&h!==sh&&(Ne=h.relatedTarget||h.fromElement)&&(Ba(Ne)||Ne[An]))break e;if((ye||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,ye?(Ne=h.relatedTarget||h.toElement,ye=ae,Ne=Ne?Ba(Ne):null,Ne!==null&&(yt=Fa(Ne),Ne!==yt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(ye=null,Ne=ae),ye!==Ne)){if(Se=Fj,ge="onMouseLeave",te="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Se=qj,ge="onPointerLeave",te="onPointerEnter",J="pointer"),yt=ye==null?fe:zs(ye),ne=Ne==null?fe:zs(Ne),fe=new Se(ge,J+"leave",ye,h,he),fe.target=yt,fe.relatedTarget=ne,ge=null,Ba(he)===ae&&(Se=new Se(te,J+"enter",Ne,h,he),Se.target=ne,Se.relatedTarget=yt,ge=Se),yt=ge,ye&&Ne)t:{for(Se=ye,te=Ne,J=0,ne=Se;ne;ne=Bs(ne))J++;for(ne=0,ge=te;ge;ge=Bs(ge))ne++;for(;0<J-ne;)Se=Bs(Se),J--;for(;0<ne-J;)te=Bs(te),ne--;for(;J--;){if(Se===te||te!==null&&Se===te.alternate)break t;Se=Bs(Se),te=Bs(te)}Se=null}else Se=null;ye!==null&&mw(me,fe,ye,Se,!1),Ne!==null&&yt!==null&&mw(me,yt,Ne,Se,!0)}}e:{if(fe=ae?zs(ae):window,ye=fe.nodeName&&fe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&fe.type==="file")var ke=x3;else if(Gj(fe))if(Yj)ke=j3;else{ke=v3;var Ae=y3}else(ye=fe.nodeName)&&ye.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(ke=b3);if(ke&&(ke=ke(i,ae))){Vj(me,ke,h,he);break e}Ae&&Ae(i,fe,ae),i==="focusout"&&(Ae=fe._wrapperState)&&Ae.controlled&&fe.type==="number"&&on(fe,"number",fe.value)}switch(Ae=ae?zs(ae):window,i){case"focusin":(Gj(Ae)||Ae.contentEditable==="true")&&(Ls=Ae,Ch=ae,To=null);break;case"focusout":To=Ch=Ls=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,nw(me,h,he);break;case"selectionchange":if(S3)break;case"keydown":case"keyup":nw(me,h,he)}var Pe;if(kh)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ds?Hj(i,h)&&(Me="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Me="onCompositionStart");Me&&(zj&&h.locale!=="ko"&&(Ds||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ds&&(Pe=Dj()):(aa=he,vh="value"in aa?aa.value:aa.textContent,Ds=!0)),Ae=Hc(ae,Me),0<Ae.length&&(Me=new Bj(Me,i,null,h,he),me.push({event:Me,listeners:Ae}),Pe?Me.data=Pe:(Pe=Kj(h),Pe!==null&&(Me.data=Pe)))),(Pe=f3?h3(i,h):m3(i,h))&&(ae=Hc(ae,"onBeforeInput"),0<ae.length&&(he=new Bj("onBeforeInput","beforeinput",null,h,he),me.push({event:he,listeners:ae}),he.data=Pe))}fw(me,c)})}function Io(i,c,h){return{instance:i,listener:c,currentTarget:h}}function Hc(i,c){for(var h=c+"Capture",g=[];i!==null;){var w=i,P=w.stateNode;w.tag===5&&P!==null&&(w=P,P=go(i,h),P!=null&&g.unshift(Io(i,P,w)),P=go(i,c),P!=null&&g.push(Io(i,P,w))),i=i.return}return g}function Bs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function mw(i,c,h,g,w){for(var P=c._reactName,$=[];h!==null&&h!==g;){var H=h,Q=H.alternate,ae=H.stateNode;if(Q!==null&&Q===g)break;H.tag===5&&ae!==null&&(H=ae,w?(Q=go(h,P),Q!=null&&$.unshift(Io(h,Q,H))):w||(Q=go(h,P),Q!=null&&$.push(Io(h,Q,H)))),h=h.return}$.length!==0&&i.push({event:c,listeners:$})}var P3=/\r\n?/g,C3=/\u0000|\uFFFD/g;function pw(i){return(typeof i=="string"?i:""+i).replace(P3,`
`).replace(C3,"")}function Kc(i,c,h){if(c=pw(c),pw(i)!==c&&h)throw Error(r(425))}function Gc(){}var $h=null,Dh=null;function Lh(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,E3=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,_3=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(i){return gw.resolve(null).then(i).catch(T3)}:Fh;function T3(i){setTimeout(function(){throw i})}function Bh(i,c){var h=c,g=0;do{var w=h.nextSibling;if(i.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(g===0){i.removeChild(w),ko(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=w}while(h);ko(c)}function ia(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return i}function xw(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return i;c--}else h==="/$"&&c++}i=i.previousSibling}return null}var qs=Math.random().toString(36).slice(2),un="__reactFiber$"+qs,$o="__reactProps$"+qs,An="__reactContainer$"+qs,qh="__reactEvents$"+qs,R3="__reactListeners$"+qs,M3="__reactHandles$"+qs;function Ba(i){var c=i[un];if(c)return c;for(var h=i.parentNode;h;){if(c=h[An]||h[un]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=xw(i);i!==null;){if(h=i[un])return h;i=xw(i)}return c}i=h,h=i.parentNode}return null}function Do(i){return i=i[un]||i[An],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function zs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Vc(i){return i[$o]||null}var zh=[],Us=-1;function oa(i){return{current:i}}function it(i){0>Us||(i.current=zh[Us],zh[Us]=null,Us--)}function tt(i,c){Us++,zh[Us]=i.current,i.current=c}var la={},zt=oa(la),ar=oa(!1),qa=la;function Ws(i,c){var h=i.type.contextTypes;if(!h)return la;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var w={},P;for(P in h)w[P]=c[P];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=w),w}function sr(i){return i=i.childContextTypes,i!=null}function Yc(){it(ar),it(zt)}function yw(i,c,h){if(zt.current!==la)throw Error(r(168));tt(zt,c),tt(ar,h)}function vw(i,c,h){var g=i.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var w in g)if(!(w in c))throw Error(r(108,re(i)||"Unknown",w));return z({},h,g)}function Xc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||la,qa=zt.current,tt(zt,i),tt(ar,ar.current),!0}function bw(i,c,h){var g=i.stateNode;if(!g)throw Error(r(169));h?(i=vw(i,c,qa),g.__reactInternalMemoizedMergedChildContext=i,it(ar),it(zt),tt(zt,i)):it(ar),tt(ar,h)}var Pn=null,Qc=!1,Uh=!1;function jw(i){Pn===null?Pn=[i]:Pn.push(i)}function I3(i){Qc=!0,jw(i)}function ca(){if(!Uh&&Pn!==null){Uh=!0;var i=0,c=Qe;try{var h=Pn;for(Qe=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}Pn=null,Qc=!1}catch(w){throw Pn!==null&&(Pn=Pn.slice(i+1)),Nj(dh,ca),w}finally{Qe=c,Uh=!1}}return null}var Hs=[],Ks=0,Jc=null,Zc=0,kr=[],Or=0,za=null,Cn=1,En="";function Ua(i,c){Hs[Ks++]=Zc,Hs[Ks++]=Jc,Jc=i,Zc=c}function ww(i,c,h){kr[Or++]=Cn,kr[Or++]=En,kr[Or++]=za,za=i;var g=Cn;i=En;var w=32-zr(g)-1;g&=~(1<<w),h+=1;var P=32-zr(c)+w;if(30<P){var $=w-w%5;P=(g&(1<<$)-1).toString(32),g>>=$,w-=$,Cn=1<<32-zr(c)+w|h<<w|g,En=P+i}else Cn=1<<P|h<<w|g,En=i}function Wh(i){i.return!==null&&(Ua(i,1),ww(i,1,0))}function Hh(i){for(;i===Jc;)Jc=Hs[--Ks],Hs[Ks]=null,Zc=Hs[--Ks],Hs[Ks]=null;for(;i===za;)za=kr[--Or],kr[Or]=null,En=kr[--Or],kr[Or]=null,Cn=kr[--Or],kr[Or]=null}var pr=null,gr=null,lt=!1,Wr=null;function Nw(i,c){var h=Er(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=i,c=i.deletions,c===null?(i.deletions=[h],i.flags|=16):c.push(h)}function Sw(i,c){switch(i.tag){case 5:var h=i.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(i.stateNode=c,pr=i,gr=ia(c.firstChild),!0):!1;case 6:return c=i.pendingProps===""||c.nodeType!==3?null:c,c!==null?(i.stateNode=c,pr=i,gr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=za!==null?{id:Cn,overflow:En}:null,i.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Er(18,null,null,0),h.stateNode=c,h.return=i,i.child=h,pr=i,gr=null,!0):!1;default:return!1}}function Kh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Gh(i){if(lt){var c=gr;if(c){var h=c;if(!Sw(i,c)){if(Kh(i))throw Error(r(418));c=ia(h.nextSibling);var g=pr;c&&Sw(i,c)?Nw(g,h):(i.flags=i.flags&-4097|2,lt=!1,pr=i)}}else{if(Kh(i))throw Error(r(418));i.flags=i.flags&-4097|2,lt=!1,pr=i}}}function kw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pr=i}function eu(i){if(i!==pr)return!1;if(!lt)return kw(i),lt=!0,!1;var c;if((c=i.tag!==3)&&!(c=i.tag!==5)&&(c=i.type,c=c!=="head"&&c!=="body"&&!Lh(i.type,i.memoizedProps)),c&&(c=gr)){if(Kh(i))throw Ow(),Error(r(418));for(;c;)Nw(i,c),c=ia(c.nextSibling)}if(kw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(c===0){gr=ia(i.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}i=i.nextSibling}gr=null}}else gr=pr?ia(i.stateNode.nextSibling):null;return!0}function Ow(){for(var i=gr;i;)i=ia(i.nextSibling)}function Gs(){gr=pr=null,lt=!1}function Vh(i){Wr===null?Wr=[i]:Wr.push(i)}var $3=O.ReactCurrentBatchConfig;function Lo(i,c,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,i));var w=g,P=""+i;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function($){var H=w.refs;$===null?delete H[P]:H[P]=$},c._stringRef=P,c)}if(typeof i!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,i))}return i}function tu(i,c){throw i=Object.prototype.toString.call(c),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i))}function Aw(i){var c=i._init;return c(i._payload)}function Pw(i){function c(te,J){if(i){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function h(te,J){if(!i)return null;for(;J!==null;)c(te,J),J=J.sibling;return null}function g(te,J){for(te=new Map;J!==null;)J.key!==null?te.set(J.key,J):te.set(J.index,J),J=J.sibling;return te}function w(te,J){return te=xa(te,J),te.index=0,te.sibling=null,te}function P(te,J,ne){return te.index=ne,i?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=2,J):ne):(te.flags|=2,J)):(te.flags|=1048576,J)}function $(te){return i&&te.alternate===null&&(te.flags|=2),te}function H(te,J,ne,ge){return J===null||J.tag!==6?(J=Fm(ne,te.mode,ge),J.return=te,J):(J=w(J,ne),J.return=te,J)}function Q(te,J,ne,ge){var ke=ne.type;return ke===E?he(te,J,ne.props.children,ge,ne.key):J!==null&&(J.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===q&&Aw(ke)===J.type)?(ge=w(J,ne.props),ge.ref=Lo(te,J,ne),ge.return=te,ge):(ge=ku(ne.type,ne.key,ne.props,null,te.mode,ge),ge.ref=Lo(te,J,ne),ge.return=te,ge)}function ae(te,J,ne,ge){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Bm(ne,te.mode,ge),J.return=te,J):(J=w(J,ne.children||[]),J.return=te,J)}function he(te,J,ne,ge,ke){return J===null||J.tag!==7?(J=Qa(ne,te.mode,ge,ke),J.return=te,J):(J=w(J,ne),J.return=te,J)}function me(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Fm(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return ne=ku(J.type,J.key,J.props,null,te.mode,ne),ne.ref=Lo(te,null,J),ne.return=te,ne;case A:return J=Bm(J,te.mode,ne),J.return=te,J;case q:var ge=J._init;return me(te,ge(J._payload),ne)}if(ln(J)||Y(J))return J=Qa(J,te.mode,ne,null),J.return=te,J;tu(te,J)}return null}function fe(te,J,ne,ge){var ke=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ke!==null?null:H(te,J,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return ne.key===ke?Q(te,J,ne,ge):null;case A:return ne.key===ke?ae(te,J,ne,ge):null;case q:return ke=ne._init,fe(te,J,ke(ne._payload),ge)}if(ln(ne)||Y(ne))return ke!==null?null:he(te,J,ne,ge,null);tu(te,ne)}return null}function ye(te,J,ne,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return te=te.get(ne)||null,H(J,te,""+ge,ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case S:return te=te.get(ge.key===null?ne:ge.key)||null,Q(J,te,ge,ke);case A:return te=te.get(ge.key===null?ne:ge.key)||null,ae(J,te,ge,ke);case q:var Ae=ge._init;return ye(te,J,ne,Ae(ge._payload),ke)}if(ln(ge)||Y(ge))return te=te.get(ne)||null,he(J,te,ge,ke,null);tu(J,ge)}return null}function Ne(te,J,ne,ge){for(var ke=null,Ae=null,Pe=J,Me=J=0,Mt=null;Pe!==null&&Me<ne.length;Me++){Pe.index>Me?(Mt=Pe,Pe=null):Mt=Pe.sibling;var He=fe(te,Pe,ne[Me],ge);if(He===null){Pe===null&&(Pe=Mt);break}i&&Pe&&He.alternate===null&&c(te,Pe),J=P(He,J,Me),Ae===null?ke=He:Ae.sibling=He,Ae=He,Pe=Mt}if(Me===ne.length)return h(te,Pe),lt&&Ua(te,Me),ke;if(Pe===null){for(;Me<ne.length;Me++)Pe=me(te,ne[Me],ge),Pe!==null&&(J=P(Pe,J,Me),Ae===null?ke=Pe:Ae.sibling=Pe,Ae=Pe);return lt&&Ua(te,Me),ke}for(Pe=g(te,Pe);Me<ne.length;Me++)Mt=ye(Pe,te,Me,ne[Me],ge),Mt!==null&&(i&&Mt.alternate!==null&&Pe.delete(Mt.key===null?Me:Mt.key),J=P(Mt,J,Me),Ae===null?ke=Mt:Ae.sibling=Mt,Ae=Mt);return i&&Pe.forEach(function(ya){return c(te,ya)}),lt&&Ua(te,Me),ke}function Se(te,J,ne,ge){var ke=Y(ne);if(typeof ke!="function")throw Error(r(150));if(ne=ke.call(ne),ne==null)throw Error(r(151));for(var Ae=ke=null,Pe=J,Me=J=0,Mt=null,He=ne.next();Pe!==null&&!He.done;Me++,He=ne.next()){Pe.index>Me?(Mt=Pe,Pe=null):Mt=Pe.sibling;var ya=fe(te,Pe,He.value,ge);if(ya===null){Pe===null&&(Pe=Mt);break}i&&Pe&&ya.alternate===null&&c(te,Pe),J=P(ya,J,Me),Ae===null?ke=ya:Ae.sibling=ya,Ae=ya,Pe=Mt}if(He.done)return h(te,Pe),lt&&Ua(te,Me),ke;if(Pe===null){for(;!He.done;Me++,He=ne.next())He=me(te,He.value,ge),He!==null&&(J=P(He,J,Me),Ae===null?ke=He:Ae.sibling=He,Ae=He);return lt&&Ua(te,Me),ke}for(Pe=g(te,Pe);!He.done;Me++,He=ne.next())He=ye(Pe,te,Me,He.value,ge),He!==null&&(i&&He.alternate!==null&&Pe.delete(He.key===null?Me:He.key),J=P(He,J,Me),Ae===null?ke=He:Ae.sibling=He,Ae=He);return i&&Pe.forEach(function(p6){return c(te,p6)}),lt&&Ua(te,Me),ke}function yt(te,J,ne,ge){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:e:{for(var ke=ne.key,Ae=J;Ae!==null;){if(Ae.key===ke){if(ke=ne.type,ke===E){if(Ae.tag===7){h(te,Ae.sibling),J=w(Ae,ne.props.children),J.return=te,te=J;break e}}else if(Ae.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===q&&Aw(ke)===Ae.type){h(te,Ae.sibling),J=w(Ae,ne.props),J.ref=Lo(te,Ae,ne),J.return=te,te=J;break e}h(te,Ae);break}else c(te,Ae);Ae=Ae.sibling}ne.type===E?(J=Qa(ne.props.children,te.mode,ge,ne.key),J.return=te,te=J):(ge=ku(ne.type,ne.key,ne.props,null,te.mode,ge),ge.ref=Lo(te,J,ne),ge.return=te,te=ge)}return $(te);case A:e:{for(Ae=ne.key;J!==null;){if(J.key===Ae)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){h(te,J.sibling),J=w(J,ne.children||[]),J.return=te,te=J;break e}else{h(te,J);break}else c(te,J);J=J.sibling}J=Bm(ne,te.mode,ge),J.return=te,te=J}return $(te);case q:return Ae=ne._init,yt(te,J,Ae(ne._payload),ge)}if(ln(ne))return Ne(te,J,ne,ge);if(Y(ne))return Se(te,J,ne,ge);tu(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,J!==null&&J.tag===6?(h(te,J.sibling),J=w(J,ne),J.return=te,te=J):(h(te,J),J=Fm(ne,te.mode,ge),J.return=te,te=J),$(te)):h(te,J)}return yt}var Vs=Pw(!0),Cw=Pw(!1),ru=oa(null),nu=null,Ys=null,Yh=null;function Xh(){Yh=Ys=nu=null}function Qh(i){var c=ru.current;it(ru),i._currentValue=c}function Jh(i,c,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),i===h)break;i=i.return}}function Xs(i,c){nu=i,Yh=Ys=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&c)!==0&&(ir=!0),i.firstContext=null)}function Ar(i){var c=i._currentValue;if(Yh!==i)if(i={context:i,memoizedValue:c,next:null},Ys===null){if(nu===null)throw Error(r(308));Ys=i,nu.dependencies={lanes:0,firstContext:i}}else Ys=Ys.next=i;return c}var Wa=null;function Zh(i){Wa===null?Wa=[i]:Wa.push(i)}function Ew(i,c,h,g){var w=c.interleaved;return w===null?(h.next=h,Zh(c)):(h.next=w.next,w.next=h),c.interleaved=h,_n(i,g)}function _n(i,c){i.lanes|=c;var h=i.alternate;for(h!==null&&(h.lanes|=c),h=i,i=i.return;i!==null;)i.childLanes|=c,h=i.alternate,h!==null&&(h.childLanes|=c),h=i,i=i.return;return h.tag===3?h.stateNode:null}var ua=!1;function em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _w(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Tn(i,c){return{eventTime:i,lane:c,tag:0,payload:null,callback:null,next:null}}function da(i,c,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(We&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,_n(i,h)}return w=g.interleaved,w===null?(c.next=c,Zh(g)):(c.next=w.next,w.next=c),g.interleaved=c,_n(i,h)}function au(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,mh(i,h)}}function Tw(i,c){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,P=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};P===null?w=P=$:P=P.next=$,h=h.next}while(h!==null);P===null?w=P=c:P=P.next=c}else w=P=c;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:P,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}function su(i,c,h,g){var w=i.updateQueue;ua=!1;var P=w.firstBaseUpdate,$=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var Q=H,ae=Q.next;Q.next=null,$===null?P=ae:$.next=ae,$=Q;var he=i.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==$&&(H===null?he.firstBaseUpdate=ae:H.next=ae,he.lastBaseUpdate=Q))}if(P!==null){var me=w.baseState;$=0,he=ae=Q=null,H=P;do{var fe=H.lane,ye=H.eventTime;if((g&fe)===fe){he!==null&&(he=he.next={eventTime:ye,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ne=i,Se=H;switch(fe=c,ye=h,Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){me=Ne.call(ye,me,fe);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,fe=typeof Ne=="function"?Ne.call(ye,me,fe):Ne,fe==null)break e;me=z({},me,fe);break e;case 2:ua=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,fe=w.effects,fe===null?w.effects=[H]:fe.push(H))}else ye={eventTime:ye,lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(ae=he=ye,Q=me):he=he.next=ye,$|=fe;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;fe=H,H=fe.next,fe.next=null,w.lastBaseUpdate=fe,w.shared.pending=null}}while(!0);if(he===null&&(Q=me),w.baseState=Q,w.firstBaseUpdate=ae,w.lastBaseUpdate=he,c=w.shared.interleaved,c!==null){w=c;do $|=w.lane,w=w.next;while(w!==c)}else P===null&&(w.shared.lanes=0);Ga|=$,i.lanes=$,i.memoizedState=me}}function Rw(i,c,h){if(i=c.effects,c.effects=null,i!==null)for(c=0;c<i.length;c++){var g=i[c],w=g.callback;if(w!==null){if(g.callback=null,g=h,typeof w!="function")throw Error(r(191,w));w.call(g)}}}var Fo={},dn=oa(Fo),Bo=oa(Fo),qo=oa(Fo);function Ha(i){if(i===Fo)throw Error(r(174));return i}function tm(i,c){switch(tt(qo,c),tt(Bo,i),tt(dn,Fo),i=c.nodeType,i){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:rh(null,"");break;default:i=i===8?c.parentNode:c,c=i.namespaceURI||null,i=i.tagName,c=rh(c,i)}it(dn),tt(dn,c)}function Qs(){it(dn),it(Bo),it(qo)}function Mw(i){Ha(qo.current);var c=Ha(dn.current),h=rh(c,i.type);c!==h&&(tt(Bo,i),tt(dn,h))}function rm(i){Bo.current===i&&(it(dn),it(Bo))}var ut=oa(0);function iu(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var nm=[];function am(){for(var i=0;i<nm.length;i++)nm[i]._workInProgressVersionPrimary=null;nm.length=0}var ou=O.ReactCurrentDispatcher,sm=O.ReactCurrentBatchConfig,Ka=0,dt=null,Nt=null,Tt=null,lu=!1,zo=!1,Uo=0,D3=0;function Ut(){throw Error(r(321))}function im(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!Ur(i[h],c[h]))return!1;return!0}function om(i,c,h,g,w,P){if(Ka=P,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ou.current=i===null||i.memoizedState===null?q3:z3,i=h(g,w),zo){P=0;do{if(zo=!1,Uo=0,25<=P)throw Error(r(301));P+=1,Tt=Nt=null,c.updateQueue=null,ou.current=U3,i=h(g,w)}while(zo)}if(ou.current=du,c=Nt!==null&&Nt.next!==null,Ka=0,Tt=Nt=dt=null,lu=!1,c)throw Error(r(300));return i}function lm(){var i=Uo!==0;return Uo=0,i}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function Pr(){if(Nt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var c=Tt===null?dt.memoizedState:Tt.next;if(c!==null)Tt=c,Nt=i;else{if(i===null)throw Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?dt.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Wo(i,c){return typeof c=="function"?c(i):c}function cm(i){var c=Pr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var g=Nt,w=g.baseQueue,P=h.pending;if(P!==null){if(w!==null){var $=w.next;w.next=P.next,P.next=$}g.baseQueue=w=P,h.pending=null}if(w!==null){P=w.next,g=g.baseState;var H=$=null,Q=null,ae=P;do{var he=ae.lane;if((Ka&he)===he)Q!==null&&(Q=Q.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:i(g,ae.action);else{var me={lane:he,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Q===null?(H=Q=me,$=g):Q=Q.next=me,dt.lanes|=he,Ga|=he}ae=ae.next}while(ae!==null&&ae!==P);Q===null?$=g:Q.next=H,Ur(g,c.memoizedState)||(ir=!0),c.memoizedState=g,c.baseState=$,c.baseQueue=Q,h.lastRenderedState=g}if(i=h.interleaved,i!==null){w=i;do P=w.lane,dt.lanes|=P,Ga|=P,w=w.next;while(w!==i)}else w===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function um(i){var c=Pr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var g=h.dispatch,w=h.pending,P=c.memoizedState;if(w!==null){h.pending=null;var $=w=w.next;do P=i(P,$.action),$=$.next;while($!==w);Ur(P,c.memoizedState)||(ir=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),h.lastRenderedState=P}return[P,g]}function Iw(){}function $w(i,c){var h=dt,g=Pr(),w=c(),P=!Ur(g.memoizedState,w);if(P&&(g.memoizedState=w,ir=!0),g=g.queue,dm(Fw.bind(null,h,g,i),[i]),g.getSnapshot!==c||P||Tt!==null&&Tt.memoizedState.tag&1){if(h.flags|=2048,Ho(9,Lw.bind(null,h,g,w,c),void 0,null),Rt===null)throw Error(r(349));(Ka&30)!==0||Dw(h,c,w)}return w}function Dw(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function Lw(i,c,h,g){c.value=h,c.getSnapshot=g,Bw(c)&&qw(i)}function Fw(i,c,h){return h(function(){Bw(c)&&qw(i)})}function Bw(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!Ur(i,h)}catch{return!0}}function qw(i){var c=_n(i,1);c!==null&&Vr(c,i,1,-1)}function zw(i){var c=fn();return typeof i=="function"&&(i=i()),c.memoizedState=c.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:i},c.queue=i,i=i.dispatch=B3.bind(null,dt,i),[c.memoizedState,i]}function Ho(i,c,h,g){return i={tag:i,create:c,destroy:h,deps:g,next:null},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.lastEffect=i.next=i):(h=c.lastEffect,h===null?c.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,c.lastEffect=i)),i}function Uw(){return Pr().memoizedState}function cu(i,c,h,g){var w=fn();dt.flags|=i,w.memoizedState=Ho(1|c,h,void 0,g===void 0?null:g)}function uu(i,c,h,g){var w=Pr();g=g===void 0?null:g;var P=void 0;if(Nt!==null){var $=Nt.memoizedState;if(P=$.destroy,g!==null&&im(g,$.deps)){w.memoizedState=Ho(c,h,P,g);return}}dt.flags|=i,w.memoizedState=Ho(1|c,h,P,g)}function Ww(i,c){return cu(8390656,8,i,c)}function dm(i,c){return uu(2048,8,i,c)}function Hw(i,c){return uu(4,2,i,c)}function Kw(i,c){return uu(4,4,i,c)}function Gw(i,c){if(typeof c=="function")return i=i(),c(i),function(){c(null)};if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Vw(i,c,h){return h=h!=null?h.concat([i]):null,uu(4,4,Gw.bind(null,c,i),h)}function fm(){}function Yw(i,c){var h=Pr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&im(c,g[1])?g[0]:(h.memoizedState=[i,c],i)}function Xw(i,c){var h=Pr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&im(c,g[1])?g[0]:(i=i(),h.memoizedState=[i,c],i)}function Qw(i,c,h){return(Ka&21)===0?(i.baseState&&(i.baseState=!1,ir=!0),i.memoizedState=h):(Ur(h,c)||(h=Aj(),dt.lanes|=h,Ga|=h,i.baseState=!0),c)}function L3(i,c){var h=Qe;Qe=h!==0&&4>h?h:4,i(!0);var g=sm.transition;sm.transition={};try{i(!1),c()}finally{Qe=h,sm.transition=g}}function Jw(){return Pr().memoizedState}function F3(i,c,h){var g=pa(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Zw(i))eN(c,h);else if(h=Ew(i,c,h,g),h!==null){var w=Jt();Vr(h,i,g,w),tN(h,c,g)}}function B3(i,c,h){var g=pa(i),w={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Zw(i))eN(c,w);else{var P=i.alternate;if(i.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var $=c.lastRenderedState,H=P($,h);if(w.hasEagerState=!0,w.eagerState=H,Ur(H,$)){var Q=c.interleaved;Q===null?(w.next=w,Zh(c)):(w.next=Q.next,Q.next=w),c.interleaved=w;return}}catch{}finally{}h=Ew(i,c,w,g),h!==null&&(w=Jt(),Vr(h,i,g,w),tN(h,c,g))}}function Zw(i){var c=i.alternate;return i===dt||c!==null&&c===dt}function eN(i,c){zo=lu=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function tN(i,c,h){if((h&4194240)!==0){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,mh(i,h)}}var du={readContext:Ar,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},q3={readContext:Ar,useCallback:function(i,c){return fn().memoizedState=[i,c===void 0?null:c],i},useContext:Ar,useEffect:Ww,useImperativeHandle:function(i,c,h){return h=h!=null?h.concat([i]):null,cu(4194308,4,Gw.bind(null,c,i),h)},useLayoutEffect:function(i,c){return cu(4194308,4,i,c)},useInsertionEffect:function(i,c){return cu(4,2,i,c)},useMemo:function(i,c){var h=fn();return c=c===void 0?null:c,i=i(),h.memoizedState=[i,c],i},useReducer:function(i,c,h){var g=fn();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:c},g.queue=i,i=i.dispatch=F3.bind(null,dt,i),[g.memoizedState,i]},useRef:function(i){var c=fn();return i={current:i},c.memoizedState=i},useState:zw,useDebugValue:fm,useDeferredValue:function(i){return fn().memoizedState=i},useTransition:function(){var i=zw(!1),c=i[0];return i=L3.bind(null,i[1]),fn().memoizedState=i,[c,i]},useMutableSource:function(){},useSyncExternalStore:function(i,c,h){var g=dt,w=fn();if(lt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Rt===null)throw Error(r(349));(Ka&30)!==0||Dw(g,c,h)}w.memoizedState=h;var P={value:h,getSnapshot:c};return w.queue=P,Ww(Fw.bind(null,g,P,i),[i]),g.flags|=2048,Ho(9,Lw.bind(null,g,P,h,c),void 0,null),h},useId:function(){var i=fn(),c=Rt.identifierPrefix;if(lt){var h=En,g=Cn;h=(g&~(1<<32-zr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=Uo++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=D3++,c=":"+c+"r"+h.toString(32)+":";return i.memoizedState=c},unstable_isNewReconciler:!1},z3={readContext:Ar,useCallback:Yw,useContext:Ar,useEffect:dm,useImperativeHandle:Vw,useInsertionEffect:Hw,useLayoutEffect:Kw,useMemo:Xw,useReducer:cm,useRef:Uw,useState:function(){return cm(Wo)},useDebugValue:fm,useDeferredValue:function(i){var c=Pr();return Qw(c,Nt.memoizedState,i)},useTransition:function(){var i=cm(Wo)[0],c=Pr().memoizedState;return[i,c]},useMutableSource:Iw,useSyncExternalStore:$w,useId:Jw,unstable_isNewReconciler:!1},U3={readContext:Ar,useCallback:Yw,useContext:Ar,useEffect:dm,useImperativeHandle:Vw,useInsertionEffect:Hw,useLayoutEffect:Kw,useMemo:Xw,useReducer:um,useRef:Uw,useState:function(){return um(Wo)},useDebugValue:fm,useDeferredValue:function(i){var c=Pr();return Nt===null?c.memoizedState=i:Qw(c,Nt.memoizedState,i)},useTransition:function(){var i=um(Wo)[0],c=Pr().memoizedState;return[i,c]},useMutableSource:Iw,useSyncExternalStore:$w,useId:Jw,unstable_isNewReconciler:!1};function Hr(i,c){if(i&&i.defaultProps){c=z({},c),i=i.defaultProps;for(var h in i)c[h]===void 0&&(c[h]=i[h]);return c}return c}function hm(i,c,h,g){c=i.memoizedState,h=h(g,c),h=h==null?c:z({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var fu={isMounted:function(i){return(i=i._reactInternals)?Fa(i)===i:!1},enqueueSetState:function(i,c,h){i=i._reactInternals;var g=Jt(),w=pa(i),P=Tn(g,w);P.payload=c,h!=null&&(P.callback=h),c=da(i,P,w),c!==null&&(Vr(c,i,w,g),au(c,i,w))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var g=Jt(),w=pa(i),P=Tn(g,w);P.tag=1,P.payload=c,h!=null&&(P.callback=h),c=da(i,P,w),c!==null&&(Vr(c,i,w,g),au(c,i,w))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=Jt(),g=pa(i),w=Tn(h,g);w.tag=2,c!=null&&(w.callback=c),c=da(i,w,g),c!==null&&(Vr(c,i,g,h),au(c,i,g))}};function rN(i,c,h,g,w,P,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,P,$):c.prototype&&c.prototype.isPureReactComponent?!_o(h,g)||!_o(w,P):!0}function nN(i,c,h){var g=!1,w=la,P=c.contextType;return typeof P=="object"&&P!==null?P=Ar(P):(w=sr(c)?qa:zt.current,g=c.contextTypes,P=(g=g!=null)?Ws(i,w):la),c=new c(h,P),i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=fu,i.stateNode=c,c._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=P),c}function aN(i,c,h,g){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==i&&fu.enqueueReplaceState(c,c.state,null)}function mm(i,c,h,g){var w=i.stateNode;w.props=h,w.state=i.memoizedState,w.refs={},em(i);var P=c.contextType;typeof P=="object"&&P!==null?w.context=Ar(P):(P=sr(c)?qa:zt.current,w.context=Ws(i,P)),w.state=i.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(hm(i,c,P,h),w.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&fu.enqueueReplaceState(w,w.state,null),su(i,h,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Js(i,c){try{var h="",g=c;do h+=de(g),g=g.return;while(g);var w=h}catch(P){w=`
Error generating stack: `+P.message+`
`+P.stack}return{value:i,source:c,stack:w,digest:null}}function pm(i,c,h){return{value:i,source:null,stack:h??null,digest:c??null}}function gm(i,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var W3=typeof WeakMap=="function"?WeakMap:Map;function sN(i,c,h){h=Tn(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){vu||(vu=!0,_m=g),gm(i,c)},h}function iN(i,c,h){h=Tn(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=c.value;h.payload=function(){return g(w)},h.callback=function(){gm(i,c)}}var P=i.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(h.callback=function(){gm(i,c),typeof g!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})}),h}function oN(i,c,h){var g=i.pingCache;if(g===null){g=i.pingCache=new W3;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(h)||(w.add(h),i=a6.bind(null,i,c,h),c.then(i,i))}function lN(i){do{var c;if((c=i.tag===13)&&(c=i.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return i;i=i.return}while(i!==null);return null}function cN(i,c,h,g,w){return(i.mode&1)===0?(i===c?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Tn(-1,1),c.tag=2,da(h,c,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var H3=O.ReactCurrentOwner,ir=!1;function Qt(i,c,h,g){c.child=i===null?Cw(c,null,h,g):Vs(c,i.child,h,g)}function uN(i,c,h,g,w){h=h.render;var P=c.ref;return Xs(c,w),g=om(i,c,h,g,P,w),h=lm(),i!==null&&!ir?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~w,Rn(i,c,w)):(lt&&h&&Wh(c),c.flags|=1,Qt(i,c,g,w),c.child)}function dN(i,c,h,g,w){if(i===null){var P=h.type;return typeof P=="function"&&!Lm(P)&&P.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=P,fN(i,c,P,g,w)):(i=ku(h.type,null,g,c,c.mode,w),i.ref=c.ref,i.return=c,c.child=i)}if(P=i.child,(i.lanes&w)===0){var $=P.memoizedProps;if(h=h.compare,h=h!==null?h:_o,h($,g)&&i.ref===c.ref)return Rn(i,c,w)}return c.flags|=1,i=xa(P,g),i.ref=c.ref,i.return=c,c.child=i}function fN(i,c,h,g,w){if(i!==null){var P=i.memoizedProps;if(_o(P,g)&&i.ref===c.ref)if(ir=!1,c.pendingProps=g=P,(i.lanes&w)!==0)(i.flags&131072)!==0&&(ir=!0);else return c.lanes=i.lanes,Rn(i,c,w)}return xm(i,c,h,g,w)}function hN(i,c,h){var g=c.pendingProps,w=g.children,P=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ei,xr),xr|=h;else{if((h&1073741824)===0)return i=P!==null?P.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:i,cachePool:null,transitions:null},c.updateQueue=null,tt(ei,xr),xr|=i,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=P!==null?P.baseLanes:h,tt(ei,xr),xr|=g}else P!==null?(g=P.baseLanes|h,c.memoizedState=null):g=h,tt(ei,xr),xr|=g;return Qt(i,c,w,h),c.child}function mN(i,c){var h=c.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function xm(i,c,h,g,w){var P=sr(h)?qa:zt.current;return P=Ws(c,P),Xs(c,w),h=om(i,c,h,g,P,w),g=lm(),i!==null&&!ir?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~w,Rn(i,c,w)):(lt&&g&&Wh(c),c.flags|=1,Qt(i,c,h,w),c.child)}function pN(i,c,h,g,w){if(sr(h)){var P=!0;Xc(c)}else P=!1;if(Xs(c,w),c.stateNode===null)mu(i,c),nN(c,h,g),mm(c,h,g,w),g=!0;else if(i===null){var $=c.stateNode,H=c.memoizedProps;$.props=H;var Q=$.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Ar(ae):(ae=sr(h)?qa:zt.current,ae=Ws(c,ae));var he=h.getDerivedStateFromProps,me=typeof he=="function"||typeof $.getSnapshotBeforeUpdate=="function";me||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==g||Q!==ae)&&aN(c,$,g,ae),ua=!1;var fe=c.memoizedState;$.state=fe,su(c,g,$,w),Q=c.memoizedState,H!==g||fe!==Q||ar.current||ua?(typeof he=="function"&&(hm(c,h,he,g),Q=c.memoizedState),(H=ua||rN(c,h,H,g,fe,Q,ae))?(me||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(c.flags|=4194308)):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Q),$.props=g,$.state=Q,$.context=ae,g=H):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{$=c.stateNode,_w(i,c),H=c.memoizedProps,ae=c.type===c.elementType?H:Hr(c.type,H),$.props=ae,me=c.pendingProps,fe=$.context,Q=h.contextType,typeof Q=="object"&&Q!==null?Q=Ar(Q):(Q=sr(h)?qa:zt.current,Q=Ws(c,Q));var ye=h.getDerivedStateFromProps;(he=typeof ye=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==me||fe!==Q)&&aN(c,$,g,Q),ua=!1,fe=c.memoizedState,$.state=fe,su(c,g,$,w);var Ne=c.memoizedState;H!==me||fe!==Ne||ar.current||ua?(typeof ye=="function"&&(hm(c,h,ye,g),Ne=c.memoizedState),(ae=ua||rN(c,h,ae,g,fe,Ne,Q)||!1)?(he||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Ne,Q),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Ne,Q)),typeof $.componentDidUpdate=="function"&&(c.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===i.memoizedProps&&fe===i.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&fe===i.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ne),$.props=g,$.state=Ne,$.context=Q,g=ae):(typeof $.componentDidUpdate!="function"||H===i.memoizedProps&&fe===i.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&fe===i.memoizedState||(c.flags|=1024),g=!1)}return ym(i,c,h,g,P,w)}function ym(i,c,h,g,w,P){mN(i,c);var $=(c.flags&128)!==0;if(!g&&!$)return w&&bw(c,h,!1),Rn(i,c,P);g=c.stateNode,H3.current=c;var H=$&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,i!==null&&$?(c.child=Vs(c,i.child,null,P),c.child=Vs(c,null,H,P)):Qt(i,c,H,P),c.memoizedState=g.state,w&&bw(c,h,!0),c.child}function gN(i){var c=i.stateNode;c.pendingContext?yw(i,c.pendingContext,c.pendingContext!==c.context):c.context&&yw(i,c.context,!1),tm(i,c.containerInfo)}function xN(i,c,h,g,w){return Gs(),Vh(w),c.flags|=256,Qt(i,c,h,g),c.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function bm(i){return{baseLanes:i,cachePool:null,transitions:null}}function yN(i,c,h){var g=c.pendingProps,w=ut.current,P=!1,$=(c.flags&128)!==0,H;if((H=$)||(H=i!==null&&i.memoizedState===null?!1:(w&2)!==0),H?(P=!0,c.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),tt(ut,w&1),i===null)return Gh(c),i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((c.mode&1)===0?c.lanes=1:i.data==="$!"?c.lanes=8:c.lanes=1073741824,null):($=g.children,i=g.fallback,P?(g=c.mode,P=c.child,$={mode:"hidden",children:$},(g&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=$):P=Ou($,g,0,null),i=Qa(i,g,h,null),P.return=c,i.return=c,P.sibling=i,c.child=P,c.child.memoizedState=bm(h),c.memoizedState=vm,i):jm(c,$));if(w=i.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return K3(i,c,$,g,H,w,h);if(P){P=g.fallback,$=c.mode,w=i.child,H=w.sibling;var Q={mode:"hidden",children:g.children};return($&1)===0&&c.child!==w?(g=c.child,g.childLanes=0,g.pendingProps=Q,c.deletions=null):(g=xa(w,Q),g.subtreeFlags=w.subtreeFlags&14680064),H!==null?P=xa(H,P):(P=Qa(P,$,h,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,g=P,P=c.child,$=i.child.memoizedState,$=$===null?bm(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},P.memoizedState=$,P.childLanes=i.childLanes&~h,c.memoizedState=vm,g}return P=i.child,i=P.sibling,g=xa(P,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,i!==null&&(h=c.deletions,h===null?(c.deletions=[i],c.flags|=16):h.push(i)),c.child=g,c.memoizedState=null,g}function jm(i,c){return c=Ou({mode:"visible",children:c},i.mode,0,null),c.return=i,i.child=c}function hu(i,c,h,g){return g!==null&&Vh(g),Vs(c,i.child,null,h),i=jm(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function K3(i,c,h,g,w,P,$){if(h)return c.flags&256?(c.flags&=-257,g=pm(Error(r(422))),hu(i,c,$,g)):c.memoizedState!==null?(c.child=i.child,c.flags|=128,null):(P=g.fallback,w=c.mode,g=Ou({mode:"visible",children:g.children},w,0,null),P=Qa(P,w,$,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,(c.mode&1)!==0&&Vs(c,i.child,null,$),c.child.memoizedState=bm($),c.memoizedState=vm,P);if((c.mode&1)===0)return hu(i,c,$,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var H=g.dgst;return g=H,P=Error(r(419)),g=pm(P,g,void 0),hu(i,c,$,g)}if(H=($&i.childLanes)!==0,ir||H){if(g=Rt,g!==null){switch($&-$){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|$))!==0?0:w,w!==0&&w!==P.retryLane&&(P.retryLane=w,_n(i,w),Vr(g,i,w,-1))}return Dm(),g=pm(Error(r(421))),hu(i,c,$,g)}return w.data==="$?"?(c.flags|=128,c.child=i.child,c=s6.bind(null,i),w._reactRetry=c,null):(i=P.treeContext,gr=ia(w.nextSibling),pr=c,lt=!0,Wr=null,i!==null&&(kr[Or++]=Cn,kr[Or++]=En,kr[Or++]=za,Cn=i.id,En=i.overflow,za=c),c=jm(c,g.children),c.flags|=4096,c)}function vN(i,c,h){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c),Jh(i.return,c,h)}function wm(i,c,h,g,w){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=h,P.tailMode=w)}function bN(i,c,h){var g=c.pendingProps,w=g.revealOrder,P=g.tail;if(Qt(i,c,g.children,h),g=ut.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vN(i,h,c);else if(i.tag===19)vN(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(tt(ut,g),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)i=h.alternate,i!==null&&iu(i)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),wm(c,!1,w,h,P);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(i=w.alternate,i!==null&&iu(i)===null){c.child=w;break}i=w.sibling,w.sibling=h,h=w,w=i}wm(c,!0,h,null,P);break;case"together":wm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function mu(i,c){(c.mode&1)===0&&i!==null&&(i.alternate=null,c.alternate=null,c.flags|=2)}function Rn(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),Ga|=c.lanes,(h&c.childLanes)===0)return null;if(i!==null&&c.child!==i.child)throw Error(r(153));if(c.child!==null){for(i=c.child,h=xa(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=xa(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function G3(i,c,h){switch(c.tag){case 3:gN(c),Gs();break;case 5:Mw(c);break;case 1:sr(c.type)&&Xc(c);break;case 4:tm(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,w=c.memoizedProps.value;tt(ru,g._currentValue),g._currentValue=w;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(tt(ut,ut.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?yN(i,c,h):(tt(ut,ut.current&1),i=Rn(i,c,h),i!==null?i.sibling:null);tt(ut,ut.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(i.flags&128)!==0){if(g)return bN(i,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),tt(ut,ut.current),g)break;return null;case 22:case 23:return c.lanes=0,hN(i,c,h)}return Rn(i,c,h)}var jN,Nm,wN,NN;jN=function(i,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Nm=function(){},wN=function(i,c,h,g){var w=i.memoizedProps;if(w!==g){i=c.stateNode,Ha(dn.current);var P=null;switch(h){case"input":w=be(i,w),g=be(i,g),P=[];break;case"select":w=z({},w,{value:void 0}),g=z({},g,{value:void 0}),P=[];break;case"textarea":w=qr(i,w),g=qr(i,g),P=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Gc)}nh(h,g);var $;h=null;for(ae in w)if(!g.hasOwnProperty(ae)&&w.hasOwnProperty(ae)&&w[ae]!=null)if(ae==="style"){var H=w[ae];for($ in H)H.hasOwnProperty($)&&(h||(h={}),h[$]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?P||(P=[]):(P=P||[]).push(ae,null));for(ae in g){var Q=g[ae];if(H=w!=null?w[ae]:void 0,g.hasOwnProperty(ae)&&Q!==H&&(Q!=null||H!=null))if(ae==="style")if(H){for($ in H)!H.hasOwnProperty($)||Q&&Q.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in Q)Q.hasOwnProperty($)&&H[$]!==Q[$]&&(h||(h={}),h[$]=Q[$])}else h||(P||(P=[]),P.push(ae,h)),h=Q;else ae==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,H=H?H.__html:void 0,Q!=null&&H!==Q&&(P=P||[]).push(ae,Q)):ae==="children"?typeof Q!="string"&&typeof Q!="number"||(P=P||[]).push(ae,""+Q):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(Q!=null&&ae==="onScroll"&&st("scroll",i),P||H===Q||(P=[])):(P=P||[]).push(ae,Q))}h&&(P=P||[]).push("style",h);var ae=P;(c.updateQueue=ae)&&(c.flags|=4)}},NN=function(i,c,h,g){h!==g&&(c.flags|=4)};function Ko(i,c){if(!lt)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Wt(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(c)for(var w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=h,c}function V3(i,c,h){var g=c.pendingProps;switch(Hh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return sr(c.type)&&Yc(),Wt(c),null;case 3:return g=c.stateNode,Qs(),it(ar),it(zt),am(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(eu(c)?c.flags|=4:i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wr!==null&&(Mm(Wr),Wr=null))),Nm(i,c),Wt(c),null;case 5:rm(c);var w=Ha(qo.current);if(h=c.type,i!==null&&c.stateNode!=null)wN(i,c,h,g,w),i.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(i=Ha(dn.current),eu(c)){g=c.stateNode,h=c.type;var P=c.memoizedProps;switch(g[un]=c,g[$o]=P,i=(c.mode&1)!==0,h){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(w=0;w<Ro.length;w++)st(Ro[w],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":Je(g,P),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!P.multiple},st("invalid",g);break;case"textarea":Ts(g,P),st("invalid",g)}nh(h,P),w=null;for(var $ in P)if(P.hasOwnProperty($)){var H=P[$];$==="children"?typeof H=="string"?g.textContent!==H&&(P.suppressHydrationWarning!==!0&&Kc(g.textContent,H,i),w=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(P.suppressHydrationWarning!==!0&&Kc(g.textContent,H,i),w=["children",""+H]):s.hasOwnProperty($)&&H!=null&&$==="onScroll"&&st("scroll",g)}switch(h){case"input":Te(g),Br(g,P,!0);break;case"textarea":Te(g),ho(g);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(g.onclick=Gc)}g=w,c.updateQueue=g,g!==null&&(c.flags|=4)}else{$=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=cj(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=$.createElement(h,{is:g.is}):(i=$.createElement(h),h==="select"&&($=i,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):i=$.createElementNS(i,h),i[un]=c,i[$o]=g,jN(i,c,!1,!1),c.stateNode=i;e:{switch($=ah(h,g),h){case"dialog":st("cancel",i),st("close",i),w=g;break;case"iframe":case"object":case"embed":st("load",i),w=g;break;case"video":case"audio":for(w=0;w<Ro.length;w++)st(Ro[w],i);w=g;break;case"source":st("error",i),w=g;break;case"img":case"image":case"link":st("error",i),st("load",i),w=g;break;case"details":st("toggle",i),w=g;break;case"input":Je(i,g),w=be(i,g),st("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=z({},g,{value:void 0}),st("invalid",i);break;case"textarea":Ts(i,g),w=qr(i,g),st("invalid",i);break;default:w=g}nh(h,w),H=w;for(P in H)if(H.hasOwnProperty(P)){var Q=H[P];P==="style"?fj(i,Q):P==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&uj(i,Q)):P==="children"?typeof Q=="string"?(h!=="textarea"||Q!=="")&&mo(i,Q):typeof Q=="number"&&mo(i,""+Q):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?Q!=null&&P==="onScroll"&&st("scroll",i):Q!=null&&_(i,P,Q,$))}switch(h){case"input":Te(i),Br(i,g,!1);break;case"textarea":Te(i),ho(i);break;case"option":g.value!=null&&i.setAttribute("value",""+pe(g.value));break;case"select":i.multiple=!!g.multiple,P=g.value,P!=null?nr(i,!!g.multiple,P,!1):g.defaultValue!=null&&nr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Gc)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wt(c),null;case 6:if(i&&c.stateNode!=null)NN(i,c,i.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(h=Ha(qo.current),Ha(dn.current),eu(c)){if(g=c.stateNode,h=c.memoizedProps,g[un]=c,(P=g.nodeValue!==h)&&(i=pr,i!==null))switch(i.tag){case 3:Kc(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Kc(g.nodeValue,h,(i.mode&1)!==0)}P&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[un]=c,c.stateNode=g}return Wt(c),null;case 13:if(it(ut),g=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&gr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Ow(),Gs(),c.flags|=98560,P=!1;else if(P=eu(c),g!==null&&g.dehydrated!==null){if(i===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[un]=c}else Gs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),P=!1}else Wr!==null&&(Mm(Wr),Wr=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(i===null||(ut.current&1)!==0?St===0&&(St=3):Dm())),c.updateQueue!==null&&(c.flags|=4),Wt(c),null);case 4:return Qs(),Nm(i,c),i===null&&Mo(c.stateNode.containerInfo),Wt(c),null;case 10:return Qh(c.type._context),Wt(c),null;case 17:return sr(c.type)&&Yc(),Wt(c),null;case 19:if(it(ut),P=c.memoizedState,P===null)return Wt(c),null;if(g=(c.flags&128)!==0,$=P.rendering,$===null)if(g)Ko(P,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if($=iu(i),$!==null){for(c.flags|=128,Ko(P,!1),g=$.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)P=h,i=g,P.flags&=14680066,$=P.alternate,$===null?(P.childLanes=0,P.lanes=i,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=$.childLanes,P.lanes=$.lanes,P.child=$.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=$.memoizedProps,P.memoizedState=$.memoizedState,P.updateQueue=$.updateQueue,P.type=$.type,i=$.dependencies,P.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return tt(ut,ut.current&1|2),c.child}i=i.sibling}P.tail!==null&&xt()>ti&&(c.flags|=128,g=!0,Ko(P,!1),c.lanes=4194304)}else{if(!g)if(i=iu($),i!==null){if(c.flags|=128,g=!0,h=i.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Ko(P,!0),P.tail===null&&P.tailMode==="hidden"&&!$.alternate&&!lt)return Wt(c),null}else 2*xt()-P.renderingStartTime>ti&&h!==1073741824&&(c.flags|=128,g=!0,Ko(P,!1),c.lanes=4194304);P.isBackwards?($.sibling=c.child,c.child=$):(h=P.last,h!==null?h.sibling=$:c.child=$,P.last=$)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=xt(),c.sibling=null,h=ut.current,tt(ut,g?h&1|2:h&1),c):(Wt(c),null);case 22:case 23:return $m(),g=c.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function Y3(i,c){switch(Hh(c),c.tag){case 1:return sr(c.type)&&Yc(),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return Qs(),it(ar),it(zt),am(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 5:return rm(c),null;case 13:if(it(ut),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Gs()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return it(ut),null;case 4:return Qs(),null;case 10:return Qh(c.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var pu=!1,Ht=!1,X3=typeof WeakSet=="function"?WeakSet:Set,je=null;function Zs(i,c){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){ht(i,c,g)}else h.current=null}function Sm(i,c,h){try{h()}catch(g){ht(i,c,g)}}var SN=!1;function Q3(i,c){if($h=Ic,i=rw(),Ph(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,P=g.focusNode;g=g.focusOffset;try{h.nodeType,P.nodeType}catch{h=null;break e}var $=0,H=-1,Q=-1,ae=0,he=0,me=i,fe=null;t:for(;;){for(var ye;me!==h||w!==0&&me.nodeType!==3||(H=$+w),me!==P||g!==0&&me.nodeType!==3||(Q=$+g),me.nodeType===3&&($+=me.nodeValue.length),(ye=me.firstChild)!==null;)fe=me,me=ye;for(;;){if(me===i)break t;if(fe===h&&++ae===w&&(H=$),fe===P&&++he===g&&(Q=$),(ye=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=ye}h=H===-1||Q===-1?null:{start:H,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dh={focusedElem:i,selectionRange:h},Ic=!1,je=c;je!==null;)if(c=je,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,je=i;else for(;je!==null;){c=je;try{var Ne=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Se=Ne.memoizedProps,yt=Ne.memoizedState,te=c.stateNode,J=te.getSnapshotBeforeUpdate(c.elementType===c.type?Se:Hr(c.type,Se),yt);te.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){ht(c,c.return,ge)}if(i=c.sibling,i!==null){i.return=c.return,je=i;break}je=c.return}return Ne=SN,SN=!1,Ne}function Go(i,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var P=w.destroy;w.destroy=void 0,P!==void 0&&Sm(c,h,P)}w=w.next}while(w!==g)}}function gu(i,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function km(i){var c=i.ref;if(c!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof c=="function"?c(i):c.current=i}}function kN(i){var c=i.alternate;c!==null&&(i.alternate=null,kN(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&(delete c[un],delete c[$o],delete c[qh],delete c[R3],delete c[M3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ON(i){return i.tag===5||i.tag===3||i.tag===4}function AN(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ON(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Om(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(i,c):h.insertBefore(i,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(i,h)):(c=h,c.appendChild(i)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Gc));else if(g!==4&&(i=i.child,i!==null))for(Om(i,c,h),i=i.sibling;i!==null;)Om(i,c,h),i=i.sibling}function Am(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Am(i,c,h),i=i.sibling;i!==null;)Am(i,c,h),i=i.sibling}var Ft=null,Kr=!1;function fa(i,c,h){for(h=h.child;h!==null;)PN(i,c,h),h=h.sibling}function PN(i,c,h){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Cc,h)}catch{}switch(h.tag){case 5:Ht||Zs(h,c);case 6:var g=Ft,w=Kr;Ft=null,fa(i,c,h),Ft=g,Kr=w,Ft!==null&&(Kr?(i=Ft,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Ft.removeChild(h.stateNode));break;case 18:Ft!==null&&(Kr?(i=Ft,h=h.stateNode,i.nodeType===8?Bh(i.parentNode,h):i.nodeType===1&&Bh(i,h),ko(i)):Bh(Ft,h.stateNode));break;case 4:g=Ft,w=Kr,Ft=h.stateNode.containerInfo,Kr=!0,fa(i,c,h),Ft=g,Kr=w;break;case 0:case 11:case 14:case 15:if(!Ht&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var P=w,$=P.destroy;P=P.tag,$!==void 0&&((P&2)!==0||(P&4)!==0)&&Sm(h,c,$),w=w.next}while(w!==g)}fa(i,c,h);break;case 1:if(!Ht&&(Zs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(H){ht(h,c,H)}fa(i,c,h);break;case 21:fa(i,c,h);break;case 22:h.mode&1?(Ht=(g=Ht)||h.memoizedState!==null,fa(i,c,h),Ht=g):fa(i,c,h);break;default:fa(i,c,h)}}function CN(i){var c=i.updateQueue;if(c!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new X3),c.forEach(function(g){var w=i6.bind(null,i,g);h.has(g)||(h.add(g),g.then(w,w))})}}function Gr(i,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];try{var P=i,$=c,H=$;e:for(;H!==null;){switch(H.tag){case 5:Ft=H.stateNode,Kr=!1;break e;case 3:Ft=H.stateNode.containerInfo,Kr=!0;break e;case 4:Ft=H.stateNode.containerInfo,Kr=!0;break e}H=H.return}if(Ft===null)throw Error(r(160));PN(P,$,w),Ft=null,Kr=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(ae){ht(w,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)EN(c,i),c=c.sibling}function EN(i,c){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gr(c,i),hn(i),g&4){try{Go(3,i,i.return),gu(3,i)}catch(Se){ht(i,i.return,Se)}try{Go(5,i,i.return)}catch(Se){ht(i,i.return,Se)}}break;case 1:Gr(c,i),hn(i),g&512&&h!==null&&Zs(h,h.return);break;case 5:if(Gr(c,i),hn(i),g&512&&h!==null&&Zs(h,h.return),i.flags&32){var w=i.stateNode;try{mo(w,"")}catch(Se){ht(i,i.return,Se)}}if(g&4&&(w=i.stateNode,w!=null)){var P=i.memoizedProps,$=h!==null?h.memoizedProps:P,H=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{H==="input"&&P.type==="radio"&&P.name!=null&&ft(w,P),ah(H,$);var ae=ah(H,P);for($=0;$<Q.length;$+=2){var he=Q[$],me=Q[$+1];he==="style"?fj(w,me):he==="dangerouslySetInnerHTML"?uj(w,me):he==="children"?mo(w,me):_(w,he,me,ae)}switch(H){case"input":_t(w,P);break;case"textarea":fo(w,P);break;case"select":var fe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!P.multiple;var ye=P.value;ye!=null?nr(w,!!P.multiple,ye,!1):fe!==!!P.multiple&&(P.defaultValue!=null?nr(w,!!P.multiple,P.defaultValue,!0):nr(w,!!P.multiple,P.multiple?[]:"",!1))}w[$o]=P}catch(Se){ht(i,i.return,Se)}}break;case 6:if(Gr(c,i),hn(i),g&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,P=i.memoizedProps;try{w.nodeValue=P}catch(Se){ht(i,i.return,Se)}}break;case 3:if(Gr(c,i),hn(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ko(c.containerInfo)}catch(Se){ht(i,i.return,Se)}break;case 4:Gr(c,i),hn(i);break;case 13:Gr(c,i),hn(i),w=i.child,w.flags&8192&&(P=w.memoizedState!==null,w.stateNode.isHidden=P,!P||w.alternate!==null&&w.alternate.memoizedState!==null||(Em=xt())),g&4&&CN(i);break;case 22:if(he=h!==null&&h.memoizedState!==null,i.mode&1?(Ht=(ae=Ht)||he,Gr(c,i),Ht=ae):Gr(c,i),hn(i),g&8192){if(ae=i.memoizedState!==null,(i.stateNode.isHidden=ae)&&!he&&(i.mode&1)!==0)for(je=i,he=i.child;he!==null;){for(me=je=he;je!==null;){switch(fe=je,ye=fe.child,fe.tag){case 0:case 11:case 14:case 15:Go(4,fe,fe.return);break;case 1:Zs(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=fe,h=fe.return;try{c=g,Ne.props=c.memoizedProps,Ne.state=c.memoizedState,Ne.componentWillUnmount()}catch(Se){ht(g,h,Se)}}break;case 5:Zs(fe,fe.return);break;case 22:if(fe.memoizedState!==null){RN(me);continue}}ye!==null?(ye.return=fe,je=ye):RN(me)}he=he.sibling}e:for(he=null,me=i;;){if(me.tag===5){if(he===null){he=me;try{w=me.stateNode,ae?(P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(H=me.stateNode,Q=me.memoizedProps.style,$=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,H.style.display=dj("display",$))}catch(Se){ht(i,i.return,Se)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ae?"":me.memoizedProps}catch(Se){ht(i,i.return,Se)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Gr(c,i),hn(i),g&4&&CN(i);break;case 21:break;default:Gr(c,i),hn(i)}}function hn(i){var c=i.flags;if(c&2){try{e:{for(var h=i.return;h!==null;){if(ON(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(mo(w,""),g.flags&=-33);var P=AN(i);Am(i,P,w);break;case 3:case 4:var $=g.stateNode.containerInfo,H=AN(i);Om(i,H,$);break;default:throw Error(r(161))}}catch(Q){ht(i,i.return,Q)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function J3(i,c,h){je=i,_N(i)}function _N(i,c,h){for(var g=(i.mode&1)!==0;je!==null;){var w=je,P=w.child;if(w.tag===22&&g){var $=w.memoizedState!==null||pu;if(!$){var H=w.alternate,Q=H!==null&&H.memoizedState!==null||Ht;H=pu;var ae=Ht;if(pu=$,(Ht=Q)&&!ae)for(je=w;je!==null;)$=je,Q=$.child,$.tag===22&&$.memoizedState!==null?MN(w):Q!==null?(Q.return=$,je=Q):MN(w);for(;P!==null;)je=P,_N(P),P=P.sibling;je=w,pu=H,Ht=ae}TN(i)}else(w.subtreeFlags&8772)!==0&&P!==null?(P.return=w,je=P):TN(i)}}function TN(i){for(;je!==null;){var c=je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ht||gu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Ht)if(h===null)g.componentDidMount();else{var w=c.elementType===c.type?h.memoizedProps:Hr(c.type,h.memoizedProps);g.componentDidUpdate(w,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&Rw(c,P,g);break;case 3:var $=c.updateQueue;if($!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Rw(c,$,h)}break;case 5:var H=c.stateNode;if(h===null&&c.flags&4){h=H;var Q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&h.focus();break;case"img":Q.src&&(h.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var he=ae.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ko(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ht||c.flags&512&&km(c)}catch(fe){ht(c,c.return,fe)}}if(c===i){je=null;break}if(h=c.sibling,h!==null){h.return=c.return,je=h;break}je=c.return}}function RN(i){for(;je!==null;){var c=je;if(c===i){je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,je=h;break}je=c.return}}function MN(i){for(;je!==null;){var c=je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{gu(4,c)}catch(Q){ht(c,h,Q)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var w=c.return;try{g.componentDidMount()}catch(Q){ht(c,w,Q)}}var P=c.return;try{km(c)}catch(Q){ht(c,P,Q)}break;case 5:var $=c.return;try{km(c)}catch(Q){ht(c,$,Q)}}}catch(Q){ht(c,c.return,Q)}if(c===i){je=null;break}var H=c.sibling;if(H!==null){H.return=c.return,je=H;break}je=c.return}}var Z3=Math.ceil,xu=O.ReactCurrentDispatcher,Pm=O.ReactCurrentOwner,Cr=O.ReactCurrentBatchConfig,We=0,Rt=null,bt=null,Bt=0,xr=0,ei=oa(0),St=0,Vo=null,Ga=0,yu=0,Cm=0,Yo=null,or=null,Em=0,ti=1/0,Mn=null,vu=!1,_m=null,ha=null,bu=!1,ma=null,ju=0,Xo=0,Tm=null,wu=-1,Nu=0;function Jt(){return(We&6)!==0?xt():wu!==-1?wu:wu=xt()}function pa(i){return(i.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:$3.transition!==null?(Nu===0&&(Nu=Aj()),Nu):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:$j(i.type)),i)}function Vr(i,c,h,g){if(50<Xo)throw Xo=0,Tm=null,Error(r(185));bo(i,h,g),((We&2)===0||i!==Rt)&&(i===Rt&&((We&2)===0&&(yu|=h),St===4&&ga(i,Bt)),lr(i,g),h===1&&We===0&&(c.mode&1)===0&&(ti=xt()+500,Qc&&ca()))}function lr(i,c){var h=i.callbackNode;$4(i,c);var g=Tc(i,i===Rt?Bt:0);if(g===0)h!==null&&Sj(h),i.callbackNode=null,i.callbackPriority=0;else if(c=g&-g,i.callbackPriority!==c){if(h!=null&&Sj(h),c===1)i.tag===0?I3($N.bind(null,i)):jw($N.bind(null,i)),_3(function(){(We&6)===0&&ca()}),h=null;else{switch(Pj(g)){case 1:h=dh;break;case 4:h=kj;break;case 16:h=Pc;break;case 536870912:h=Oj;break;default:h=Pc}h=WN(h,IN.bind(null,i))}i.callbackPriority=c,i.callbackNode=h}}function IN(i,c){if(wu=-1,Nu=0,(We&6)!==0)throw Error(r(327));var h=i.callbackNode;if(ri()&&i.callbackNode!==h)return null;var g=Tc(i,i===Rt?Bt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||c)c=Su(i,g);else{c=g;var w=We;We|=2;var P=LN();(Rt!==i||Bt!==c)&&(Mn=null,ti=xt()+500,Ya(i,c));do try{r6();break}catch(H){DN(i,H)}while(!0);Xh(),xu.current=P,We=w,bt!==null?c=0:(Rt=null,Bt=0,c=St)}if(c!==0){if(c===2&&(w=fh(i),w!==0&&(g=w,c=Rm(i,w))),c===1)throw h=Vo,Ya(i,0),ga(i,g),lr(i,xt()),h;if(c===6)ga(i,g);else{if(w=i.current.alternate,(g&30)===0&&!e6(w)&&(c=Su(i,g),c===2&&(P=fh(i),P!==0&&(g=P,c=Rm(i,P))),c===1))throw h=Vo,Ya(i,0),ga(i,g),lr(i,xt()),h;switch(i.finishedWork=w,i.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Xa(i,or,Mn);break;case 3:if(ga(i,g),(g&130023424)===g&&(c=Em+500-xt(),10<c)){if(Tc(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){Jt(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Fh(Xa.bind(null,i,or,Mn),c);break}Xa(i,or,Mn);break;case 4:if(ga(i,g),(g&4194240)===g)break;for(c=i.eventTimes,w=-1;0<g;){var $=31-zr(g);P=1<<$,$=c[$],$>w&&(w=$),g&=~P}if(g=w,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Z3(g/1960))-g,10<g){i.timeoutHandle=Fh(Xa.bind(null,i,or,Mn),g);break}Xa(i,or,Mn);break;case 5:Xa(i,or,Mn);break;default:throw Error(r(329))}}}return lr(i,xt()),i.callbackNode===h?IN.bind(null,i):null}function Rm(i,c){var h=Yo;return i.current.memoizedState.isDehydrated&&(Ya(i,c).flags|=256),i=Su(i,c),i!==2&&(c=or,or=h,c!==null&&Mm(c)),i}function Mm(i){or===null?or=i:or.push.apply(or,i)}function e6(i){for(var c=i;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var w=h[g],P=w.getSnapshot;w=w.value;try{if(!Ur(P(),w))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ga(i,c){for(c&=~Cm,c&=~yu,i.suspendedLanes|=c,i.pingedLanes&=~c,i=i.expirationTimes;0<c;){var h=31-zr(c),g=1<<h;i[h]=-1,c&=~g}}function $N(i){if((We&6)!==0)throw Error(r(327));ri();var c=Tc(i,0);if((c&1)===0)return lr(i,xt()),null;var h=Su(i,c);if(i.tag!==0&&h===2){var g=fh(i);g!==0&&(c=g,h=Rm(i,g))}if(h===1)throw h=Vo,Ya(i,0),ga(i,c),lr(i,xt()),h;if(h===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=c,Xa(i,or,Mn),lr(i,xt()),null}function Im(i,c){var h=We;We|=1;try{return i(c)}finally{We=h,We===0&&(ti=xt()+500,Qc&&ca())}}function Va(i){ma!==null&&ma.tag===0&&(We&6)===0&&ri();var c=We;We|=1;var h=Cr.transition,g=Qe;try{if(Cr.transition=null,Qe=1,i)return i()}finally{Qe=g,Cr.transition=h,We=c,(We&6)===0&&ca()}}function $m(){xr=ei.current,it(ei)}function Ya(i,c){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,E3(h)),bt!==null)for(h=bt.return;h!==null;){var g=h;switch(Hh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yc();break;case 3:Qs(),it(ar),it(zt),am();break;case 5:rm(g);break;case 4:Qs();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Qh(g.type._context);break;case 22:case 23:$m()}h=h.return}if(Rt=i,bt=i=xa(i.current,null),Bt=xr=c,St=0,Vo=null,Cm=yu=Ga=0,or=Yo=null,Wa!==null){for(c=0;c<Wa.length;c++)if(h=Wa[c],g=h.interleaved,g!==null){h.interleaved=null;var w=g.next,P=h.pending;if(P!==null){var $=P.next;P.next=w,g.next=$}h.pending=g}Wa=null}return i}function DN(i,c){do{var h=bt;try{if(Xh(),ou.current=du,lu){for(var g=dt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}lu=!1}if(Ka=0,Tt=Nt=dt=null,zo=!1,Uo=0,Pm.current=null,h===null||h.return===null){St=1,Vo=c,bt=null;break}e:{var P=i,$=h.return,H=h,Q=c;if(c=Bt,H.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ae=Q,he=H,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var ye=lN($);if(ye!==null){ye.flags&=-257,cN(ye,$,H,P,c),ye.mode&1&&oN(P,ae,c),c=ye,Q=ae;var Ne=c.updateQueue;if(Ne===null){var Se=new Set;Se.add(Q),c.updateQueue=Se}else Ne.add(Q);break e}else{if((c&1)===0){oN(P,ae,c),Dm();break e}Q=Error(r(426))}}else if(lt&&H.mode&1){var yt=lN($);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),cN(yt,$,H,P,c),Vh(Js(Q,H));break e}}P=Q=Js(Q,H),St!==4&&(St=2),Yo===null?Yo=[P]:Yo.push(P),P=$;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var te=sN(P,Q,c);Tw(P,te);break e;case 1:H=Q;var J=P.type,ne=P.stateNode;if((P.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(ha===null||!ha.has(ne)))){P.flags|=65536,c&=-c,P.lanes|=c;var ge=iN(P,H,c);Tw(P,ge);break e}}P=P.return}while(P!==null)}BN(h)}catch(ke){c=ke,bt===h&&h!==null&&(bt=h=h.return);continue}break}while(!0)}function LN(){var i=xu.current;return xu.current=du,i===null?du:i}function Dm(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ga&268435455)===0&&(yu&268435455)===0||ga(Rt,Bt)}function Su(i,c){var h=We;We|=2;var g=LN();(Rt!==i||Bt!==c)&&(Mn=null,Ya(i,c));do try{t6();break}catch(w){DN(i,w)}while(!0);if(Xh(),We=h,xu.current=g,bt!==null)throw Error(r(261));return Rt=null,Bt=0,St}function t6(){for(;bt!==null;)FN(bt)}function r6(){for(;bt!==null&&!A4();)FN(bt)}function FN(i){var c=UN(i.alternate,i,xr);i.memoizedProps=i.pendingProps,c===null?BN(i):bt=c,Pm.current=null}function BN(i){var c=i;do{var h=c.alternate;if(i=c.return,(c.flags&32768)===0){if(h=V3(h,c,xr),h!==null){bt=h;return}}else{if(h=Y3(h,c),h!==null){h.flags&=32767,bt=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,bt=null;return}}if(c=c.sibling,c!==null){bt=c;return}bt=c=i}while(c!==null);St===0&&(St=5)}function Xa(i,c,h){var g=Qe,w=Cr.transition;try{Cr.transition=null,Qe=1,n6(i,c,h,g)}finally{Cr.transition=w,Qe=g}return null}function n6(i,c,h,g){do ri();while(ma!==null);if((We&6)!==0)throw Error(r(327));h=i.finishedWork;var w=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var P=h.lanes|h.childLanes;if(D4(i,P),i===Rt&&(bt=Rt=null,Bt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||bu||(bu=!0,WN(Pc,function(){return ri(),null})),P=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||P){P=Cr.transition,Cr.transition=null;var $=Qe;Qe=1;var H=We;We|=4,Pm.current=null,Q3(i,h),EN(h,i),N3(Dh),Ic=!!$h,Dh=$h=null,i.current=h,J3(h),P4(),We=H,Qe=$,Cr.transition=P}else i.current=h;if(bu&&(bu=!1,ma=i,ju=w),P=i.pendingLanes,P===0&&(ha=null),_4(h.stateNode),lr(i,xt()),c!==null)for(g=i.onRecoverableError,h=0;h<c.length;h++)w=c[h],g(w.value,{componentStack:w.stack,digest:w.digest});if(vu)throw vu=!1,i=_m,_m=null,i;return(ju&1)!==0&&i.tag!==0&&ri(),P=i.pendingLanes,(P&1)!==0?i===Tm?Xo++:(Xo=0,Tm=i):Xo=0,ca(),null}function ri(){if(ma!==null){var i=Pj(ju),c=Cr.transition,h=Qe;try{if(Cr.transition=null,Qe=16>i?16:i,ma===null)var g=!1;else{if(i=ma,ma=null,ju=0,(We&6)!==0)throw Error(r(331));var w=We;for(We|=4,je=i.current;je!==null;){var P=je,$=P.child;if((je.flags&16)!==0){var H=P.deletions;if(H!==null){for(var Q=0;Q<H.length;Q++){var ae=H[Q];for(je=ae;je!==null;){var he=je;switch(he.tag){case 0:case 11:case 15:Go(8,he,P)}var me=he.child;if(me!==null)me.return=he,je=me;else for(;je!==null;){he=je;var fe=he.sibling,ye=he.return;if(kN(he),he===ae){je=null;break}if(fe!==null){fe.return=ye,je=fe;break}je=ye}}}var Ne=P.alternate;if(Ne!==null){var Se=Ne.child;if(Se!==null){Ne.child=null;do{var yt=Se.sibling;Se.sibling=null,Se=yt}while(Se!==null)}}je=P}}if((P.subtreeFlags&2064)!==0&&$!==null)$.return=P,je=$;else e:for(;je!==null;){if(P=je,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Go(9,P,P.return)}var te=P.sibling;if(te!==null){te.return=P.return,je=te;break e}je=P.return}}var J=i.current;for(je=J;je!==null;){$=je;var ne=$.child;if(($.subtreeFlags&2064)!==0&&ne!==null)ne.return=$,je=ne;else e:for($=J;je!==null;){if(H=je,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:gu(9,H)}}catch(ke){ht(H,H.return,ke)}if(H===$){je=null;break e}var ge=H.sibling;if(ge!==null){ge.return=H.return,je=ge;break e}je=H.return}}if(We=w,ca(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Cc,i)}catch{}g=!0}return g}finally{Qe=h,Cr.transition=c}}return!1}function qN(i,c,h){c=Js(h,c),c=sN(i,c,1),i=da(i,c,1),c=Jt(),i!==null&&(bo(i,1,c),lr(i,c))}function ht(i,c,h){if(i.tag===3)qN(i,i,h);else for(;c!==null;){if(c.tag===3){qN(c,i,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ha===null||!ha.has(g))){i=Js(h,i),i=iN(c,i,1),c=da(c,i,1),i=Jt(),c!==null&&(bo(c,1,i),lr(c,i));break}}c=c.return}}function a6(i,c,h){var g=i.pingCache;g!==null&&g.delete(c),c=Jt(),i.pingedLanes|=i.suspendedLanes&h,Rt===i&&(Bt&h)===h&&(St===4||St===3&&(Bt&130023424)===Bt&&500>xt()-Em?Ya(i,0):Cm|=h),lr(i,c)}function zN(i,c){c===0&&((i.mode&1)===0?c=1:(c=_c,_c<<=1,(_c&130023424)===0&&(_c=4194304)));var h=Jt();i=_n(i,c),i!==null&&(bo(i,c,h),lr(i,h))}function s6(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),zN(i,h)}function i6(i,c){var h=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),zN(i,h)}var UN;UN=function(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps||ar.current)ir=!0;else{if((i.lanes&h)===0&&(c.flags&128)===0)return ir=!1,G3(i,c,h);ir=(i.flags&131072)!==0}else ir=!1,lt&&(c.flags&1048576)!==0&&ww(c,Zc,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;mu(i,c),i=c.pendingProps;var w=Ws(c,zt.current);Xs(c,h),w=om(null,c,g,i,w,h);var P=lm();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,sr(g)?(P=!0,Xc(c)):P=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,em(c),w.updater=fu,c.stateNode=w,w._reactInternals=c,mm(c,g,i,h),c=ym(null,c,g,!0,P,h)):(c.tag=0,lt&&P&&Wh(c),Qt(null,c,w,h),c=c.child),c;case 16:g=c.elementType;e:{switch(mu(i,c),i=c.pendingProps,w=g._init,g=w(g._payload),c.type=g,w=c.tag=l6(g),i=Hr(g,i),w){case 0:c=xm(null,c,g,i,h);break e;case 1:c=pN(null,c,g,i,h);break e;case 11:c=uN(null,c,g,i,h);break e;case 14:c=dN(null,c,g,Hr(g.type,i),h);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),xm(i,c,g,w,h);case 1:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),pN(i,c,g,w,h);case 3:e:{if(gN(c),i===null)throw Error(r(387));g=c.pendingProps,P=c.memoizedState,w=P.element,_w(i,c),su(c,g,null,h);var $=c.memoizedState;if(g=$.element,P.isDehydrated)if(P={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){w=Js(Error(r(423)),c),c=xN(i,c,g,h,w);break e}else if(g!==w){w=Js(Error(r(424)),c),c=xN(i,c,g,h,w);break e}else for(gr=ia(c.stateNode.containerInfo.firstChild),pr=c,lt=!0,Wr=null,h=Cw(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Gs(),g===w){c=Rn(i,c,h);break e}Qt(i,c,g,h)}c=c.child}return c;case 5:return Mw(c),i===null&&Gh(c),g=c.type,w=c.pendingProps,P=i!==null?i.memoizedProps:null,$=w.children,Lh(g,w)?$=null:P!==null&&Lh(g,P)&&(c.flags|=32),mN(i,c),Qt(i,c,$,h),c.child;case 6:return i===null&&Gh(c),null;case 13:return yN(i,c,h);case 4:return tm(c,c.stateNode.containerInfo),g=c.pendingProps,i===null?c.child=Vs(c,null,g,h):Qt(i,c,g,h),c.child;case 11:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),uN(i,c,g,w,h);case 7:return Qt(i,c,c.pendingProps,h),c.child;case 8:return Qt(i,c,c.pendingProps.children,h),c.child;case 12:return Qt(i,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,w=c.pendingProps,P=c.memoizedProps,$=w.value,tt(ru,g._currentValue),g._currentValue=$,P!==null)if(Ur(P.value,$)){if(P.children===w.children&&!ar.current){c=Rn(i,c,h);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var H=P.dependencies;if(H!==null){$=P.child;for(var Q=H.firstContext;Q!==null;){if(Q.context===g){if(P.tag===1){Q=Tn(-1,h&-h),Q.tag=2;var ae=P.updateQueue;if(ae!==null){ae=ae.shared;var he=ae.pending;he===null?Q.next=Q:(Q.next=he.next,he.next=Q),ae.pending=Q}}P.lanes|=h,Q=P.alternate,Q!==null&&(Q.lanes|=h),Jh(P.return,h,c),H.lanes|=h;break}Q=Q.next}}else if(P.tag===10)$=P.type===c.type?null:P.child;else if(P.tag===18){if($=P.return,$===null)throw Error(r(341));$.lanes|=h,H=$.alternate,H!==null&&(H.lanes|=h),Jh($,h,c),$=P.sibling}else $=P.child;if($!==null)$.return=P;else for($=P;$!==null;){if($===c){$=null;break}if(P=$.sibling,P!==null){P.return=$.return,$=P;break}$=$.return}P=$}Qt(i,c,w.children,h),c=c.child}return c;case 9:return w=c.type,g=c.pendingProps.children,Xs(c,h),w=Ar(w),g=g(w),c.flags|=1,Qt(i,c,g,h),c.child;case 14:return g=c.type,w=Hr(g,c.pendingProps),w=Hr(g.type,w),dN(i,c,g,w,h);case 15:return fN(i,c,c.type,c.pendingProps,h);case 17:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:Hr(g,w),mu(i,c),c.tag=1,sr(g)?(i=!0,Xc(c)):i=!1,Xs(c,h),nN(c,g,w),mm(c,g,w,h),ym(null,c,g,!0,i,h);case 19:return bN(i,c,h);case 22:return hN(i,c,h)}throw Error(r(156,c.tag))};function WN(i,c){return Nj(i,c)}function o6(i,c,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,c,h,g){return new o6(i,c,h,g)}function Lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function l6(i){if(typeof i=="function")return Lm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===I)return 11;if(i===U)return 14}return 2}function xa(i,c){var h=i.alternate;return h===null?(h=Er(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function ku(i,c,h,g,w,P){var $=2;if(g=i,typeof i=="function")Lm(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case E:return Qa(h.children,w,P,c);case R:$=8,w|=8;break;case M:return i=Er(12,h,c,w|2),i.elementType=M,i.lanes=P,i;case G:return i=Er(13,h,c,w),i.elementType=G,i.lanes=P,i;case X:return i=Er(19,h,c,w),i.elementType=X,i.lanes=P,i;case D:return Ou(h,w,P,c);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:$=10;break e;case T:$=9;break e;case I:$=11;break e;case U:$=14;break e;case q:$=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return c=Er($,h,c,w),c.elementType=i,c.type=g,c.lanes=P,c}function Qa(i,c,h,g){return i=Er(7,i,g,c),i.lanes=h,i}function Ou(i,c,h,g){return i=Er(22,i,g,c),i.elementType=D,i.lanes=h,i.stateNode={isHidden:!1},i}function Fm(i,c,h){return i=Er(6,i,null,c),i.lanes=h,i}function Bm(i,c,h){return c=Er(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}function c6(i,c,h,g,w){this.tag=c,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function qm(i,c,h,g,w,P,$,H,Q){return i=new c6(i,c,h,H,Q),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Er(3,null,null,c),i.current=P,P.stateNode=i,P.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(P),i}function u6(i,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:i,containerInfo:c,implementation:h}}function HN(i){if(!i)return la;i=i._reactInternals;e:{if(Fa(i)!==i||i.tag!==1)throw Error(r(170));var c=i;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(sr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(i.tag===1){var h=i.type;if(sr(h))return vw(i,h,c)}return c}function KN(i,c,h,g,w,P,$,H,Q){return i=qm(h,g,!0,i,w,P,$,H,Q),i.context=HN(null),h=i.current,g=Jt(),w=pa(h),P=Tn(g,w),P.callback=c??null,da(h,P,w),i.current.lanes=w,bo(i,w,g),lr(i,g),i}function Au(i,c,h,g){var w=c.current,P=Jt(),$=pa(w);return h=HN(h),c.context===null?c.context=h:c.pendingContext=h,c=Tn(P,$),c.payload={element:i},g=g===void 0?null:g,g!==null&&(c.callback=g),i=da(w,c,$),i!==null&&(Vr(i,w,$,P),au(i,w,$)),$}function Pu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function GN(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function zm(i,c){GN(i,c),(i=i.alternate)&&GN(i,c)}function d6(){return null}var VN=typeof reportError=="function"?reportError:function(i){console.error(i)};function Um(i){this._internalRoot=i}Cu.prototype.render=Um.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(r(409));Au(i,c,null,null)},Cu.prototype.unmount=Um.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;Va(function(){Au(null,i,null,null)}),c[An]=null}};function Cu(i){this._internalRoot=i}Cu.prototype.unstable_scheduleHydration=function(i){if(i){var c=_j();i={blockedOn:null,target:i,priority:c};for(var h=0;h<na.length&&c!==0&&c<na[h].priority;h++);na.splice(h,0,i),h===0&&Mj(i)}};function Wm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Eu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function YN(){}function f6(i,c,h,g,w){if(w){if(typeof g=="function"){var P=g;g=function(){var ae=Pu($);P.call(ae)}}var $=KN(c,g,i,0,null,!1,!1,"",YN);return i._reactRootContainer=$,i[An]=$.current,Mo(i.nodeType===8?i.parentNode:i),Va(),$}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var H=g;g=function(){var ae=Pu(Q);H.call(ae)}}var Q=qm(i,0,!1,null,null,!1,!1,"",YN);return i._reactRootContainer=Q,i[An]=Q.current,Mo(i.nodeType===8?i.parentNode:i),Va(function(){Au(c,Q,h,g)}),Q}function _u(i,c,h,g,w){var P=h._reactRootContainer;if(P){var $=P;if(typeof w=="function"){var H=w;w=function(){var Q=Pu($);H.call(Q)}}Au(c,$,i,w)}else $=f6(h,c,i,w,g);return Pu($)}Cj=function(i){switch(i.tag){case 3:var c=i.stateNode;if(c.current.memoizedState.isDehydrated){var h=vo(c.pendingLanes);h!==0&&(mh(c,h|1),lr(c,xt()),(We&6)===0&&(ti=xt()+500,ca()))}break;case 13:Va(function(){var g=_n(i,1);if(g!==null){var w=Jt();Vr(g,i,1,w)}}),zm(i,1)}},ph=function(i){if(i.tag===13){var c=_n(i,134217728);if(c!==null){var h=Jt();Vr(c,i,134217728,h)}zm(i,134217728)}},Ej=function(i){if(i.tag===13){var c=pa(i),h=_n(i,c);if(h!==null){var g=Jt();Vr(h,i,c,g)}zm(i,c)}},_j=function(){return Qe},Tj=function(i,c){var h=Qe;try{return Qe=i,c()}finally{Qe=h}},oh=function(i,c,h){switch(c){case"input":if(_t(i,h),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==i&&g.form===i.form){var w=Vc(g);if(!w)throw Error(r(90));ee(g),_t(g,w)}}}break;case"textarea":fo(i,h);break;case"select":c=h.value,c!=null&&nr(i,!!h.multiple,c,!1)}},gj=Im,xj=Va;var h6={usingClientEntryPoint:!1,Events:[Do,zs,Vc,mj,pj,Im]},Qo={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m6={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=jj(i),i===null?null:i.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||d6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Cc=Tu.inject(m6),cn=Tu}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h6,cr.createPortal=function(i,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(c))throw Error(r(200));return u6(i,c,null,h)},cr.createRoot=function(i,c){if(!Wm(i))throw Error(r(299));var h=!1,g="",w=VN;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=qm(i,1,!1,null,null,h,!1,g,w),i[An]=c.current,Mo(i.nodeType===8?i.parentNode:i),new Um(c)},cr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=jj(c),i=i===null?null:i.stateNode,i},cr.flushSync=function(i){return Va(i)},cr.hydrate=function(i,c,h){if(!Eu(c))throw Error(r(200));return _u(null,i,c,!0,h)},cr.hydrateRoot=function(i,c,h){if(!Wm(i))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,w=!1,P="",$=VN;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(P=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),c=KN(c,null,i,1,h??null,w,!1,P,$),i[An]=c.current,Mo(i),g)for(i=0;i<g.length;i++)h=g[i],w=h._getVersion,w=w(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,w]:c.mutableSourceEagerHydrationData.push(h,w);return new Cu(c)},cr.render=function(i,c,h){if(!Eu(c))throw Error(r(200));return _u(null,i,c,!1,h)},cr.unmountComponentAtNode=function(i){if(!Eu(i))throw Error(r(40));return i._reactRootContainer?(Va(function(){_u(null,null,i,!1,function(){i._reactRootContainer=null,i[An]=null})}),!0):!1},cr.unstable_batchedUpdates=Im,cr.unstable_renderSubtreeIntoContainer=function(i,c,h,g){if(!Eu(h))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return _u(i,c,h,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var a1;function oE(){if(a1)return Vm.exports;a1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vm.exports=k6(),Vm.exports}var s1;function O6(){if(s1)return $u;s1=1;var e=oE();return $u.createRoot=e.createRoot,$u.hydrateRoot=e.hydrateRoot,$u}var A6=O6();const P6=Xe(A6);var cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},wa,Uv,JC,E6=(JC=class{constructor(){Ue(this,wa,C6);Ue(this,Uv,!1)}setTimeoutProvider(e){$e(this,wa,e)}setTimeout(e,t){return le(this,wa).setTimeout(e,t)}clearTimeout(e){le(this,wa).clearTimeout(e)}setInterval(e,t){return le(this,wa).setInterval(e,t)}clearInterval(e){le(this,wa).clearInterval(e)}},wa=new WeakMap,Uv=new WeakMap,JC),cy=new E6;function _6(e){setTimeout(e,0)}var uf=typeof window>"u"||"Deno"in globalThis;function Xr(){}function T6(e,t){return typeof e=="function"?e(t):e}function R6(e){return typeof e=="number"&&e>=0&&e!==1/0}function M6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uy(e,t){return typeof e=="function"?e(t):e}function I6(e,t){return typeof e=="function"?e(t):e}function i1(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==Hv(l,t.options))return!1}else if(!Nl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function o1(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(wl(t.options.mutationKey)!==wl(o))return!1}else if(!Nl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Hv(e,t){return((t==null?void 0:t.queryKeyHashFn)||wl)(e)}function wl(e){return JSON.stringify(e,(t,r)=>dy(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Nl(e[r],t[r])):!1}var $6=Object.prototype.hasOwnProperty;function lE(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=l1(e)&&l1(t);if(!n&&!(dy(e)&&dy(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,d=n?new Array(u):{};let f=0;for(let p=0;p<u;p++){const m=n?p:l[p],x=e[m],v=t[m];if(x===v){d[m]=x,(n?p<o:$6.call(e,m))&&f++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[m]=v;continue}const b=lE(x,v,r+1);d[m]=b,b===x&&f++}return o===u&&f===o?e:d}function l1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dy(e){if(!c1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!c1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function c1(e){return Object.prototype.toString.call(e)==="[object Object]"}function D6(e){return new Promise(t=>{cy.setTimeout(t,e)})}function L6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?lE(e,t):t}function F6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function B6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Kv=Symbol();function cE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function q6(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var cs,Na,gi,ZC,z6=(ZC=class extends cf{constructor(){super();Ue(this,cs);Ue(this,Na);Ue(this,gi);$e(this,gi,t=>{if(!uf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,Na)||this.setEventListener(le(this,gi))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Na))==null||t.call(this),$e(this,Na,void 0))}setEventListener(t){var r;$e(this,gi,t),(r=le(this,Na))==null||r.call(this),$e(this,Na,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){le(this,cs)!==t&&($e(this,cs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof le(this,cs)=="boolean"?le(this,cs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cs=new WeakMap,Na=new WeakMap,gi=new WeakMap,ZC),uE=new z6;function U6(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var W6=_6;function H6(){let e=[],t=0,r=u=>{u()},n=u=>{u()},s=W6;const o=u=>{t?e.push(u):s(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var Zt=H6(),xi,Sa,yi,eE,K6=(eE=class extends cf{constructor(){super();Ue(this,xi,!0);Ue(this,Sa);Ue(this,yi);$e(this,yi,t=>{if(!uf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){le(this,Sa)||this.setEventListener(le(this,yi))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Sa))==null||t.call(this),$e(this,Sa,void 0))}setEventListener(t){var r;$e(this,yi,t),(r=le(this,Sa))==null||r.call(this),$e(this,Sa,t(this.setOnline.bind(this)))}setOnline(t){le(this,xi)!==t&&($e(this,xi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return le(this,xi)}},xi=new WeakMap,Sa=new WeakMap,yi=new WeakMap,eE),sd=new K6;function G6(e){return Math.min(1e3*2**e,3e4)}function dE(e){return(e??"online")==="online"?sd.isOnline():!0}var fy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fE(e){let t=!1,r=0,n;const s=U6(),o=()=>s.status!=="pending",l=j=>{var y;if(!o()){const N=new fy(j);x(N),(y=e.onCancel)==null||y.call(e,N)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>uE.isFocused()&&(e.networkMode==="always"||sd.isOnline())&&e.canRun(),p=()=>dE(e.networkMode)&&e.canRun(),m=j=>{o()||(n==null||n(),s.resolve(j))},x=j=>{o()||(n==null||n(),s.reject(j))},v=()=>new Promise(j=>{var y;n=N=>{(o()||f())&&j(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var j;n=void 0,o()||(j=e.onContinue)==null||j.call(e)}),b=()=>{if(o())return;let j;const y=r===0?e.initialPromise:void 0;try{j=y??e.fn()}catch(N){j=Promise.reject(N)}Promise.resolve(j).then(m).catch(N=>{var A;if(o())return;const C=e.retry??(uf?0:3),_=e.retryDelay??G6,O=typeof _=="function"?_(r,N):_,S=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(t||!S){x(N);return}r++,(A=e.onFail)==null||A.call(e,r,N),D6(O).then(()=>f()?void 0:v()).then(()=>{t?x(N):b()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(n==null||n(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?b():v().then(b),s)}}var us,tE,hE=(tE=class{constructor(){Ue(this,us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R6(this.gcTime)&&$e(this,us,cy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uf?1/0:300*1e3))}clearGcTimeout(){le(this,us)&&(cy.clearTimeout(le(this,us)),$e(this,us,void 0))}},us=new WeakMap,tE),ds,vi,Mr,fs,It,oc,hs,Qr,Dn,rE,V6=(rE=class extends hE{constructor(t){super();Ue(this,Qr);Ue(this,ds);Ue(this,vi);Ue(this,Mr);Ue(this,fs);Ue(this,It);Ue(this,oc);Ue(this,hs);$e(this,hs,!1),$e(this,oc,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,fs,t.client),$e(this,Mr,le(this,fs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,ds,d1(this.options)),this.state=t.state??le(this,ds),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,It))==null?void 0:t.promise}setOptions(t){if(this.options={...le(this,oc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=d1(this.options);r.data!==void 0&&(this.setState(u1(r.data,r.dataUpdatedAt)),$e(this,ds,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Mr).remove(this)}setData(t,r){const n=L6(this.state.data,t,this.options);return Kt(this,Qr,Dn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Kt(this,Qr,Dn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=le(this,It))==null?void 0:n.promise;return(s=le(this,It))==null||s.cancel(t),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,ds))}isActive(){return this.observers.some(t=>I6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>uy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!M6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,It))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,It))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(le(this,It)&&(le(this,hs)?le(this,It).cancel({revert:!0}):le(this,It).cancelRetry()),this.scheduleGc()),le(this,Mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,Qr,Dn).call(this,{type:"invalidate"})}async fetch(t,r){var d,f,p,m,x,v,b,j,y,N,C,_;if(this.state.fetchStatus!=="idle"&&((d=le(this,It))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,It))return le(this,It).continueRetry(),le(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(S=>S.options.queryFn);O&&this.setOptions(O.options)}const n=new AbortController,s=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>($e(this,hs,!0),n.signal)})},o=()=>{const O=cE(this.options,r),A=(()=>{const E={client:le(this,fs),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return $e(this,hs,!1),this.options.persister?this.options.persister(O,A,this):O(A)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:le(this,fs),state:this.state,fetchFn:o};return s(O),O})();(f=this.options.behavior)==null||f.onFetch(u,this),$e(this,vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Kt(this,Qr,Dn).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),$e(this,It,fE({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof fy&&O.revert&&this.setState({...le(this,vi),fetchStatus:"idle"}),n.abort()},onFail:(O,S)=>{Kt(this,Qr,Dn).call(this,{type:"failed",failureCount:O,error:S})},onPause:()=>{Kt(this,Qr,Dn).call(this,{type:"pause"})},onContinue:()=>{Kt(this,Qr,Dn).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await le(this,It).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(v=(x=le(this,Mr).config).onSuccess)==null||v.call(x,O,this),(j=(b=le(this,Mr).config).onSettled)==null||j.call(b,O,this.state.error,this),O}catch(O){if(O instanceof fy){if(O.silent)return le(this,It).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Kt(this,Qr,Dn).call(this,{type:"error",error:O}),(N=(y=le(this,Mr).config).onError)==null||N.call(y,O,this),(_=(C=le(this,Mr).config).onSettled)==null||_.call(C,this.state.data,O,this),O}finally{this.scheduleGc()}}},ds=new WeakMap,vi=new WeakMap,Mr=new WeakMap,fs=new WeakMap,It=new WeakMap,oc=new WeakMap,hs=new WeakMap,Qr=new WeakSet,Dn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Y6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...u1(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,vi,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),le(this,Mr).notify({query:this,type:"updated",action:t})})},rE);function Y6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function u1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function d1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function f1(e){return{onFetch:(t,r)=>{var p,m,x,v,b;const n=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let j=!1;const y=_=>{q6(_,()=>t.signal,()=>j=!0)},N=cE(t.options,t.fetchOptions),C=async(_,O,S)=>{if(j)return Promise.reject();if(O==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:O,direction:S?"backward":"forward",meta:t.options.meta};return y(T),T})(),R=await N(E),{maxPages:M}=t.options,L=S?B6:F6;return{pages:L(_.pages,R,M),pageParams:L(_.pageParams,O,M)}};if(s&&o.length){const _=s==="backward",O=_?X6:h1,S={pages:o,pageParams:l},A=O(n,S);u=await C(S,A,_)}else{const _=e??o.length;do{const O=d===0?l[0]??n.initialPageParam:h1(n,u);if(d>0&&O==null)break;u=await C(u,O),d++}while(d<_)}return u};t.options.persister?t.fetchFn=()=>{var j,y;return(y=(j=t.options).persister)==null?void 0:y.call(j,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function h1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function X6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var lc,pn,Gt,ms,gn,va,nE,Q6=(nE=class extends hE{constructor(t){super();Ue(this,gn);Ue(this,lc);Ue(this,pn);Ue(this,Gt);Ue(this,ms);$e(this,lc,t.client),this.mutationId=t.mutationId,$e(this,Gt,t.mutationCache),$e(this,pn,[]),this.state=t.state||J6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,pn).includes(t)||(le(this,pn).push(t),this.clearGcTimeout(),le(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,pn,le(this,pn).filter(r=>r!==t)),this.scheduleGc(),le(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,pn).length||(this.state.status==="pending"?this.scheduleGc():le(this,Gt).remove(this))}continue(){var t;return((t=le(this,ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,m,x,v,b,j,y,N,C,_,O,S,A,E;const r=()=>{Kt(this,gn,va).call(this,{type:"continue"})},n={client:le(this,lc),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,ms,fE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,M)=>{Kt(this,gn,va).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{Kt(this,gn,va).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,Gt).canRun(this)}));const s=this.state.status==="pending",o=!le(this,ms).canStart();try{if(s)r();else{Kt(this,gn,va).call(this,{type:"pending",variables:t,isPaused:o}),le(this,Gt).config.onMutate&&await le(this,Gt).config.onMutate(t,this,n);const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));M!==this.state.context&&Kt(this,gn,va).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const R=await le(this,ms).start();return await((f=(d=le(this,Gt).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,n)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,t,this.state.context,n)),await((v=(x=le(this,Gt).config).onSettled)==null?void 0:v.call(x,R,null,this.state.variables,this.state.context,this,n)),await((j=(b=this.options).onSettled)==null?void 0:j.call(b,R,null,t,this.state.context,n)),Kt(this,gn,va).call(this,{type:"success",data:R}),R}catch(R){try{await((N=(y=le(this,Gt).config).onError)==null?void 0:N.call(y,R,t,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((_=(C=this.options).onError)==null?void 0:_.call(C,R,t,this.state.context,n))}catch(M){Promise.reject(M)}try{await((S=(O=le(this,Gt).config).onSettled)==null?void 0:S.call(O,void 0,R,this.state.variables,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,R,t,this.state.context,n))}catch(M){Promise.reject(M)}throw Kt(this,gn,va).call(this,{type:"error",error:R}),R}finally{le(this,Gt).runNext(this)}}},lc=new WeakMap,pn=new WeakMap,Gt=new WeakMap,ms=new WeakMap,gn=new WeakSet,va=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{le(this,pn).forEach(n=>{n.onMutationUpdate(t)}),le(this,Gt).notify({mutation:this,type:"updated",action:t})})},nE);function J6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,Jr,cc,aE,Z6=(aE=class extends cf{constructor(t={}){super();Ue(this,Fn);Ue(this,Jr);Ue(this,cc);this.config=t,$e(this,Fn,new Set),$e(this,Jr,new Map),$e(this,cc,0)}build(t,r,n){const s=new Q6({client:t,mutationCache:this,mutationId:++Mu(this,cc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){le(this,Fn).add(t);const r=Du(t);if(typeof r=="string"){const n=le(this,Jr).get(r);n?n.push(t):le(this,Jr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,Fn).delete(t)){const r=Du(t);if(typeof r=="string"){const n=le(this,Jr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&le(this,Jr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Du(t);if(typeof r=="string"){const n=le(this,Jr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Du(t);if(typeof r=="string"){const s=(n=le(this,Jr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{le(this,Fn).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,Fn).clear(),le(this,Jr).clear()})}getAll(){return Array.from(le(this,Fn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>o1(r,n))}findAll(t={}){return this.getAll().filter(r=>o1(t,r))}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xr))))}},Fn=new WeakMap,Jr=new WeakMap,cc=new WeakMap,aE);function Du(e){var t;return(t=e.options.scope)==null?void 0:t.id}var xn,sE,eR=(sE=class extends cf{constructor(t={}){super();Ue(this,xn);this.config=t,$e(this,xn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Hv(s,r);let l=this.get(o);return l||(l=new V6({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){le(this,xn).has(t.queryHash)||(le(this,xn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=le(this,xn).get(t.queryHash);r&&(t.destroy(),r===t&&le(this,xn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,xn).get(t)}getAll(){return[...le(this,xn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>i1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>i1(t,n)):r}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xn=new WeakMap,sE),mt,ka,Oa,bi,ji,Aa,wi,Ni,iE,tR=(iE=class{constructor(e={}){Ue(this,mt);Ue(this,ka);Ue(this,Oa);Ue(this,bi);Ue(this,ji);Ue(this,Aa);Ue(this,wi);Ue(this,Ni);$e(this,mt,e.queryCache||new eR),$e(this,ka,e.mutationCache||new Z6),$e(this,Oa,e.defaultOptions||{}),$e(this,bi,new Map),$e(this,ji,new Map),$e(this,Aa,0)}mount(){Mu(this,Aa)._++,le(this,Aa)===1&&($e(this,wi,uE.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,mt).onFocus())})),$e(this,Ni,sd.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,mt).onOnline())})))}unmount(){var e,t;Mu(this,Aa)._--,le(this,Aa)===0&&((e=le(this,wi))==null||e.call(this),$e(this,wi,void 0),(t=le(this,Ni))==null||t.call(this),$e(this,Ni,void 0))}isFetching(e){return le(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,ka).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=le(this,mt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(uy(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return le(this,mt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=le(this,mt).get(n.queryHash),o=s==null?void 0:s.state.data,l=T6(t,o);if(l!==void 0)return le(this,mt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>le(this,mt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=le(this,mt);Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=le(this,mt);return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>le(this,mt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return Zt.batch(()=>(le(this,mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>le(this,mt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=le(this,mt).build(this,t);return r.isStaleByTime(uy(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=f1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=f1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sd.isOnline()?le(this,ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,mt)}getMutationCache(){return le(this,ka)}getDefaultOptions(){return le(this,Oa)}setDefaultOptions(e){$e(this,Oa,e)}setQueryDefaults(e,t){le(this,bi).set(wl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,bi).values()],r={};return t.forEach(n=>{Nl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){le(this,ji).set(wl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,ji).values()],r={};return t.forEach(n=>{Nl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Oa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Oa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,mt).clear(),le(this,ka).clear()}},mt=new WeakMap,ka=new WeakMap,Oa=new WeakMap,bi=new WeakMap,ji=new WeakMap,Aa=new WeakMap,wi=new WeakMap,Ni=new WeakMap,iE),rR=k.createContext(void 0),nR=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(rR.Provider,{value:e,children:t}));oE();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}var Pa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pa||(Pa={}));const m1="popstate";function aR(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:l,hash:u}=n.location;return hy("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:id(s)}return iR(t,r,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sR(){return Math.random().toString(36).substr(2,8)}function p1(e,t){return{usr:e.state,key:e.key,idx:t}}function hy(e,t,r,n){return r===void 0&&(r=null),Sl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qi(t):t,{state:r,key:t&&t.key||n||sR()})}function id(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function iR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u=Pa.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(Sl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Pa.Pop;let y=p(),N=y==null?null:y-f;f=y,d&&d({action:u,location:j.location,delta:N})}function x(y,N){u=Pa.Push;let C=hy(j.location,y,N);f=p()+1;let _=p1(C,f),O=j.createHref(C);try{l.pushState(_,"",O)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(O)}o&&d&&d({action:u,location:j.location,delta:1})}function v(y,N){u=Pa.Replace;let C=hy(j.location,y,N);f=p();let _=p1(C,f),O=j.createHref(C);l.replaceState(_,"",O),o&&d&&d({action:u,location:j.location,delta:0})}function b(y){let N=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof y=="string"?y:id(y);return C=C.replace(/ $/,"%20"),vt(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let j={get action(){return u},get location(){return e(s,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(m1,m),d=y,()=>{s.removeEventListener(m1,m),d=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let N=b(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:v,go(y){return l.go(y)}};return j}var g1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(g1||(g1={}));function oR(e,t,r){return r===void 0&&(r="/"),lR(e,t,r)}function lR(e,t,r,n){let s=typeof t=="string"?Qi(t):t,o=Vv(s.pathname||"/",r);if(o==null)return null;let l=mE(e);cR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=jR(o);u=yR(l[d],f)}return u}function mE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(vt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Ea([n,d.relativePath]),p=r.concat(d);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),mE(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:gR(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of pE(o.path))s(o,l,d)}),t}function pE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=pE(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function cR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uR=/^:[\w-]+$/,dR=3,fR=2,hR=1,mR=10,pR=-2,x1=e=>e==="*";function gR(e,t){let r=e.split("/"),n=r.length;return r.some(x1)&&(n+=pR),t&&(n+=fR),r.filter(s=>!x1(s)).reduce((s,o)=>s+(uR.test(o)?dR:o===""?hR:mR),n)}function xR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function yR(e,t,r){let{routesMeta:n}=e,s={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=vR({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ea([o,m.pathname]),pathnameBase:OR(Ea([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Ea([o,m.pathnameBase]))}return l}function vR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:x,isOptional:v}=p;if(x==="*"){let j=u[m]||"";l=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[m];return v&&!b?f[x]=void 0:f[x]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function bR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function jR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const wR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NR=e=>wR.test(e);function SR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Qi(e):e,o;if(r)if(NR(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Gv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?o=y1(r.substring(1),"/"):o=y1(r,t)}else o=t;return{pathname:o,search:AR(n),hash:PR(s)}}function y1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yv(e,t){let r=kR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Qi(e):(s=Sl({},e),vt(!s.pathname||!s.pathname.includes("?"),Qm("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Qm("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Qm("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=SR(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Ea=e=>e.join("/").replace(/\/\/+/g,"/"),OR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gE=["post","put","patch","delete"];new Set(gE);const ER=["get",...gE];new Set(ER);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}const Qv=k.createContext(null),_R=k.createContext(null),Ma=k.createContext(null),df=k.createContext(null),Yn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),xE=k.createContext(null);function TR(e,t){let{relative:r}=t===void 0?{}:t;Ji()||vt(!1);let{basename:n,navigator:s}=k.useContext(Ma),{hash:o,pathname:l,search:u}=vE(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Ea([n,l])),s.createHref({pathname:d,search:u,hash:o})}function Ji(){return k.useContext(df)!=null}function ks(){return Ji()||vt(!1),k.useContext(df).location}function yE(e){k.useContext(Ma).static||k.useLayoutEffect(e)}function Os(){let{isDataRoute:e}=k.useContext(Yn);return e?HR():RR()}function RR(){Ji()||vt(!1);let e=k.useContext(Qv),{basename:t,future:r,navigator:n}=k.useContext(Ma),{matches:s}=k.useContext(Yn),{pathname:o}=ks(),l=JSON.stringify(Yv(s,r.v7_relativeSplatPath)),u=k.useRef(!1);return yE(()=>{u.current=!0}),k.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=Xv(f,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ea([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,o,e])}function ff(){let{matches:e}=k.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function vE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Ma),{matches:s}=k.useContext(Yn),{pathname:o}=ks(),l=JSON.stringify(Yv(s,n.v7_relativeSplatPath));return k.useMemo(()=>Xv(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function MR(e,t){return IR(e,t)}function IR(e,t,r,n){Ji()||vt(!1);let{navigator:s}=k.useContext(Ma),{matches:o}=k.useContext(Yn),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=ks(),p;if(t){var m;let y=typeof t=="string"?Qi(t):t;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||vt(!1),p=y}else p=f;let x=p.pathname||"/",v=x;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=oR(e,{pathname:v}),j=BR(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Ea([d,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Ea([d,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&j?k.createElement(df.Provider,{value:{location:kl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Pa.Pop}},j):j}function $R(){let e=WR(),t=CR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const DR=k.createElement($R,null);class LR extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Yn.Provider,{value:this.props.routeContext},k.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FR(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(Qv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Yn.Provider,{value:t},n)}function BR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||vt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:x,errors:v}=r,b=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,x)=>{let v,b=!1,j=null,y=null;r&&(v=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||DR,d&&(f<0&&x===0?(KR("route-fallback"),b=!0,y=null):f===x&&(b=!0,y=m.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,x+1)),C=()=>{let _;return v?_=j:b?_=y:m.route.Component?_=k.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,k.createElement(FR,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?k.createElement(LR,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var bE=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(bE||{}),jE=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(jE||{});function qR(e){let t=k.useContext(Qv);return t||vt(!1),t}function zR(e){let t=k.useContext(_R);return t||vt(!1),t}function UR(e){let t=k.useContext(Yn);return t||vt(!1),t}function wE(e){let t=UR(),r=t.matches[t.matches.length-1];return r.route.id||vt(!1),r.route.id}function WR(){var e;let t=k.useContext(xE),r=zR(),n=wE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HR(){let{router:e}=qR(bE.UseNavigateStable),t=wE(jE.UseNavigateStable),r=k.useRef(!1);return yE(()=>{r.current=!0}),k.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,kl({fromRouteId:t},o)))},[e,t])}const v1={};function KR(e,t,r){v1[e]||(v1[e]=!0)}function GR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function NE(e){let{to:t,replace:r,state:n,relative:s}=e;Ji()||vt(!1);let{future:o,static:l}=k.useContext(Ma),{matches:u}=k.useContext(Yn),{pathname:d}=ks(),f=Os(),p=Xv(t,Yv(u,o.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return k.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:s}),[f,m,s,r,n]),null}function Le(e){vt(!1)}function VR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Pa.Pop,navigator:o,static:l=!1,future:u}=e;Ji()&&vt(!1);let d=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:d,navigator:o,static:l,future:kl({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof n=="string"&&(n=Qi(n));let{pathname:p="/",search:m="",hash:x="",state:v=null,key:b="default"}=n,j=k.useMemo(()=>{let y=Vv(p,d);return y==null?null:{location:{pathname:y,search:m,hash:x,state:v,key:b},navigationType:s}},[d,p,m,x,v,b,s]);return j==null?null:k.createElement(Ma.Provider,{value:f},k.createElement(df.Provider,{children:r,value:j}))}function YR(e){let{children:t,location:r}=e;return MR(my(t),r)}new Promise(()=>{});function my(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let o=[...t,s];if(n.type===k.Fragment){r.push.apply(r,my(n.props.children,o));return}n.type!==Le&&vt(!1),!n.props.index||!n.props.children||vt(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=my(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function XR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function QR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JR(e,t){return e.button===0&&(!t||t==="_self")&&!QR(e)}function gy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ZR(e,t){let r=gy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const eM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tM="6";try{window.__reactRouterVersion=tM}catch{}const rM="startTransition",b1=w6[rM];function nM(e){let{basename:t,children:r,future:n,window:s}=e,o=k.useRef();o.current==null&&(o.current=aR({window:s,v5Compat:!0}));let l=o.current,[u,d]=k.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=k.useCallback(m=>{f&&b1?b1(()=>d(m)):d(m)},[d,f]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.useEffect(()=>GR(n),[n]),k.createElement(VR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,x=XR(t,eM),{basename:v}=k.useContext(Ma),b,j=!1;if(typeof f=="string"&&sM.test(f)&&(b=f,aM))try{let _=new URL(window.location.href),O=f.startsWith("//")?new URL(_.protocol+f):new URL(f),S=Vv(O.pathname,v);O.origin===_.origin&&S!=null?f=S+O.search+O.hash:j=!0}catch{}let y=TR(f,{relative:s}),N=iM(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function C(_){n&&n(_),_.defaultPrevented||N(_)}return k.createElement("a",py({},x,{href:b||y,onClick:j||o?n:C,ref:r,target:d}))});var j1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(j1||(j1={}));var w1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(w1||(w1={}));function iM(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=Os(),f=ks(),p=vE(e,{relative:l});return k.useCallback(m=>{if(JR(m,r)){m.preventDefault();let x=n!==void 0?n:id(f)===id(p);d(e,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,p,n,s,r,e,o,l,u])}function hf(e){let t=k.useRef(gy(e)),r=k.useRef(!1),n=ks(),s=k.useMemo(()=>ZR(n.search,r.current?null:t.current),[n.search]),o=Os(),l=k.useCallback((u,d)=>{const f=gy(typeof u=="function"?u(s):u);r.current=!0,o("?"+f,d)},[o,s]);return[s,l]}function oM({onClick:e,loading:t=!1}){return a.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),a.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),a.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),a.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const N1={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function lM(){const[e]=hf(),[t,r]=k.useState(null);k.useEffect(()=>{const s=e.get("error");if(s&&N1[s]){r(N1[s]);const o=new URLSearchParams(e);o.delete("error");const l=o.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const n=()=>{const s="https://auth.nubabel.com";window.location.href=`${s}/auth/google`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),a.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),a.jsx(oM,{onClick:n}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const S1=e=>{let t;const r=new Set,n=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const x=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(v=>v(t,x))}},s=()=>t,u={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=t=e(n,s,u);return u},cM=(e=>e?S1(e):S1),uM=e=>e;function dM(e,t=uM){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const k1=e=>{const t=cM(e),r=n=>dM(t,n);return Object.assign(r,t),r},SE=(e=>e?k1(e):k1);function kE(e,t){return function(){return e.apply(t,arguments)}}const{toString:fM}=Object.prototype,{getPrototypeOf:Jv}=Object,{iterator:mf,toStringTag:OE}=Symbol,pf=(e=>t=>{const r=fM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nn=e=>(e=e.toLowerCase(),t=>pf(t)===e),gf=e=>t=>typeof t===e,{isArray:Zi}=Array,Si=gf("undefined");function uc(e){return e!==null&&!Si(e)&&e.constructor!==null&&!Si(e.constructor)&&dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const AE=nn("ArrayBuffer");function hM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&AE(e.buffer),t}const mM=gf("string"),dr=gf("function"),PE=gf("number"),dc=e=>e!==null&&typeof e=="object",pM=e=>e===!0||e===!1,td=e=>{if(pf(e)!=="object")return!1;const t=Jv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(OE in e)&&!(mf in e)},gM=e=>{if(!dc(e)||uc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},xM=nn("Date"),yM=nn("File"),vM=nn("Blob"),bM=nn("FileList"),jM=e=>dc(e)&&dr(e.pipe),wM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dr(e.append)&&((t=pf(e))==="formdata"||t==="object"&&dr(e.toString)&&e.toString()==="[object FormData]"))},NM=nn("URLSearchParams"),[SM,kM,OM,AM]=["ReadableStream","Request","Response","Headers"].map(nn),PM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Zi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(uc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,e[u],u,e)}}function CE(e,t){if(uc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EE=e=>!Si(e)&&e!==as;function xy(){const{caseless:e,skipUndefined:t}=EE(this)&&this||{},r={},n=(s,o)=>{const l=e&&CE(r,o)||o;td(r[l])&&td(s)?r[l]=xy(r[l],s):td(s)?r[l]=xy({},s):Zi(s)?r[l]=s.slice():(!t||!Si(s))&&(r[l]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&fc(arguments[s],n);return r}const CM=(e,t,r,{allOwnKeys:n}={})=>(fc(t,(s,o)=>{r&&dr(s)?Object.defineProperty(e,o,{value:kE(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),EM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_M=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},TM=(e,t,r,n)=>{let s,o,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Jv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},RM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},MM=e=>{if(!e)return null;if(Zi(e))return e;let t=e.length;if(!PE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},IM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jv(Uint8Array)),$M=(e,t)=>{const n=(e&&e[mf]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},DM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},LM=nn("HTMLFormElement"),FM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),O1=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),BM=nn("RegExp"),_E=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};fc(r,(s,o)=>{let l;(l=t(s,o,e))!==!1&&(n[o]=l||s)}),Object.defineProperties(e,n)},qM=e=>{_E(e,(t,r)=>{if(dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zM=(e,t)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return Zi(e)?n(e):n(String(e).split(t)),r},UM=()=>{},WM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function HM(e){return!!(e&&dr(e.append)&&e[OE]==="FormData"&&e[mf])}const KM=e=>{const t=new Array(10),r=(n,s)=>{if(dc(n)){if(t.indexOf(n)>=0)return;if(uc(n))return n;if(!("toJSON"in n)){t[s]=n;const o=Zi(n)?[]:{};return fc(n,(l,u)=>{const d=r(l,s+1);!Si(d)&&(o[u]=d)}),t[s]=void 0,o}}return n};return r(e,0)},GM=nn("AsyncFunction"),VM=e=>e&&(dc(e)||dr(e))&&dr(e.then)&&dr(e.catch),TE=((e,t)=>e?setImmediate:t?((r,n)=>(as.addEventListener("message",({source:s,data:o})=>{s===as&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),as.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dr(as.postMessage)),YM=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||TE,XM=e=>e!=null&&dr(e[mf]),se={isArray:Zi,isArrayBuffer:AE,isBuffer:uc,isFormData:wM,isArrayBufferView:hM,isString:mM,isNumber:PE,isBoolean:pM,isObject:dc,isPlainObject:td,isEmptyObject:gM,isReadableStream:SM,isRequest:kM,isResponse:OM,isHeaders:AM,isUndefined:Si,isDate:xM,isFile:yM,isBlob:vM,isRegExp:BM,isFunction:dr,isStream:jM,isURLSearchParams:NM,isTypedArray:IM,isFileList:bM,forEach:fc,merge:xy,extend:CM,trim:PM,stripBOM:EM,inherits:_M,toFlatObject:TM,kindOf:pf,kindOfTest:nn,endsWith:RM,toArray:MM,forEachEntry:$M,matchAll:DM,isHTMLForm:LM,hasOwnProperty:O1,hasOwnProp:O1,reduceDescriptors:_E,freezeMethods:qM,toObjectSet:zM,toCamelCase:FM,noop:UM,toFiniteNumber:WM,findKey:CE,global:as,isContextDefined:EE,isSpecCompliantForm:HM,toJSONObject:KM,isAsyncFn:GM,isThenable:VM,setImmediate:TE,asap:YM,isIterable:XM};let Re=class RE extends Error{static from(t,r,n,s,o,l){const u=new RE(t.message,r||t.code,n,s,o);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,n,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}};Re.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Re.ERR_BAD_OPTION="ERR_BAD_OPTION";Re.ECONNABORTED="ECONNABORTED";Re.ETIMEDOUT="ETIMEDOUT";Re.ERR_NETWORK="ERR_NETWORK";Re.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Re.ERR_DEPRECATED="ERR_DEPRECATED";Re.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Re.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Re.ERR_CANCELED="ERR_CANCELED";Re.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Re.ERR_INVALID_URL="ERR_INVALID_URL";const QM=null;function yy(e){return se.isPlainObject(e)||se.isArray(e)}function ME(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function A1(e,t,r){return e?e.concat(t).map(function(s,o){return s=ME(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function JM(e){return se.isArray(e)&&!e.some(yy)}const ZM=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function xf(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,y){return!se.isUndefined(y[j])});const n=r.metaTokens,s=r.visitor||p,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(se.isDate(b))return b.toISOString();if(se.isBoolean(b))return b.toString();if(!d&&se.isBlob(b))throw new Re("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(b)||se.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,j,y){let N=b;if(b&&!y&&typeof b=="object"){if(se.endsWith(j,"{}"))j=n?j:j.slice(0,-2),b=JSON.stringify(b);else if(se.isArray(b)&&JM(b)||(se.isFileList(b)||se.endsWith(j,"[]"))&&(N=se.toArray(b)))return j=ME(j),N.forEach(function(_,O){!(se.isUndefined(_)||_===null)&&t.append(l===!0?A1([j],O,o):l===null?j:j+"[]",f(_))}),!1}return yy(b)?!0:(t.append(A1(y,j,o),f(b)),!1)}const m=[],x=Object.assign(ZM,{defaultVisitor:p,convertValue:f,isVisitable:yy});function v(b,j){if(!se.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(b),se.forEach(b,function(N,C){(!(se.isUndefined(N)||N===null)&&s.call(t,N,se.isString(C)?C.trim():C,j,x))===!0&&v(N,j?j.concat(C):[C])}),m.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return v(e),t}function P1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Zv(e,t){this._pairs=[],e&&xf(e,this,t)}const IE=Zv.prototype;IE.append=function(t,r){this._pairs.push([t,r])};IE.toString=function(t){const r=t?function(n){return t.call(this,n,P1)}:P1;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function eI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $E(e,t,r){if(!t)return e;const n=r&&r.encode||eI,s=se.isFunction(r)?{serialize:r}:r,o=s&&s.serialize;let l;if(o?l=o(t,s):l=se.isURLSearchParams(t)?t.toString():new Zv(t,s).toString(n),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class C1{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const DE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tI=typeof URLSearchParams<"u"?URLSearchParams:Zv,rI=typeof FormData<"u"?FormData:null,nI=typeof Blob<"u"?Blob:null,aI={isBrowser:!0,classes:{URLSearchParams:tI,FormData:rI,Blob:nI},protocols:["http","https","file","blob","url","data"]},eb=typeof window<"u"&&typeof document<"u",vy=typeof navigator=="object"&&navigator||void 0,sI=eb&&(!vy||["ReactNative","NativeScript","NS"].indexOf(vy.product)<0),iI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oI=eb&&window.location.href||"http://localhost",lI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eb,hasStandardBrowserEnv:sI,hasStandardBrowserWebWorkerEnv:iI,navigator:vy,origin:oI},Symbol.toStringTag,{value:"Module"})),Xt={...lI,...aI};function cI(e,t){return xf(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,s,o){return Xt.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function uI(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dI(e){const t={},r=Object.keys(e);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function LE(e){function t(r,n,s,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&se.isArray(s)?s.length:l,d?(se.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!se.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],o)&&se.isArray(s[l])&&(s[l]=dI(s[l])),!u)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,s)=>{t(uI(n),s,r,0)}),r}return null}function fI(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const hc={transitional:DE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=se.isObject(t);if(o&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(LE(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return cI(t,this.formSerializer).toString();if((u=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return xf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),fI(t)):t}],transformResponse:[function(t){const r=this.transitional||hc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Re.from(u,Re.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{hc.headers[e]={}});const hI=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&hI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},E1=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function rd(e){return e===!1||e==null?e:se.isArray(e)?e.map(rd):String(e)}function pI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const gI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jm(e,t,r,n,s){if(se.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function xI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function yI(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,l){return this[n].call(this,t,s,o,l)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function o(u,d,f){const p=Zo(d);if(!p)throw new Error("header name must be a non-empty string");const m=se.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=rd(u))}const l=(u,d)=>se.forEach(u,(f,p)=>o(f,p,d));if(se.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(se.isString(t)&&(t=t.trim())&&!gI(t))l(mI(t),r);else if(se.isObject(t)&&se.isIterable(t)){let u={},d,f;for(const p of t){if(!se.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?se.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Zo(t),t){const n=se.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return pI(s);if(se.isFunction(r))return r.call(this,s,n);if(se.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zo(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Jm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function o(l){if(l=Zo(l),l){const u=se.findKey(n,l);u&&(!r||Jm(n,n[u],u,r))&&(delete n[u],s=!0)}}return se.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!t||Jm(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,n={};return se.forEach(this,(s,o)=>{const l=se.findKey(n,o);if(l){r[l]=rd(s),delete r[o];return}const u=t?xI(o):String(o).trim();u!==o&&delete r[o],r[u]=rd(s),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[E1]=this[E1]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Zo(l);n[u]||(yI(s,l),n[u]=!0)}return se.isArray(t)?t.forEach(o):o(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(fr);function Zm(e,t){const r=this||hc,n=t||r,s=fr.from(n.headers);let o=n.data;return se.forEach(e,function(u){o=u.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function FE(e){return!!(e&&e.__CANCEL__)}let mc=class extends Re{constructor(t,r,n){super(t??"canceled",Re.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function BE(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Re("Request failed with status code "+r.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function vI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),r[s]=d,n[s]=f;let m=o,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),f-l<t)return;const v=p&&f-p;return v?Math.round(x*1e3/v):void 0}}function jI(e,t){let r=0,n=1e3/t,s,o;const l=(f,p=Date.now())=>{r=p,s=null,o&&(clearTimeout(o),o=null),e(...f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=n?l(f,p):(s=f,o||(o=setTimeout(()=>{o=null,l(s)},n-m)))},()=>s&&l(s)]}const od=(e,t,r=3)=>{let n=0;const s=bI(50,250);return jI(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=s(d),p=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},r)},_1=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},T1=e=>(...t)=>se.asap(()=>e(...t)),wI=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,NI=Xt.hasStandardBrowserEnv?{write(e,t,r,n,s,o,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];se.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),se.isString(n)&&u.push(`path=${n}`),se.isString(s)&&u.push(`domain=${s}`),o===!0&&u.push("secure"),se.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function SI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qE(e,t,r){let n=!SI(t);return e&&(n||r==!1)?kI(e,t):t}const R1=e=>e instanceof fr?{...e}:e;function ys(e,t){t=t||{};const r={};function n(f,p,m,x){return se.isPlainObject(f)&&se.isPlainObject(p)?se.merge.call({caseless:x},f,p):se.isPlainObject(p)?se.merge({},p):se.isArray(p)?p.slice():p}function s(f,p,m,x){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f,m,x)}else return n(f,p,m,x)}function o(f,p){if(!se.isUndefined(p))return n(void 0,p)}function l(f,p){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,m){if(m in t)return n(f,p);if(m in e)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>s(R1(f),R1(p),m,!0)};return se.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||s,x=m(e[p],t[p],p);se.isUndefined(x)&&m!==u||(r[p]=x)}),r}const zE=e=>{const t=ys({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=fr.from(l),t.url=$E(qE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(Xt.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&wI(t.url))){const d=s&&o&&NI.read(o);d&&l.set(s,d)}return t},OI=typeof XMLHttpRequest<"u",AI=OI&&function(e){return new Promise(function(r,n){const s=zE(e);let o=s.data;const l=fr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,p,m,x,v,b;function j(){v&&v(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function N(){if(!y)return;const _=fr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:e,request:y};BE(function(E){r(E),j()},function(E){n(E),j()},S),y=null}"onloadend"in y?y.onloadend=N:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(N)},y.onabort=function(){y&&(n(new Re("Request aborted",Re.ECONNABORTED,e,y)),y=null)},y.onerror=function(O){const S=O&&O.message?O.message:"Network Error",A=new Re(S,Re.ERR_NETWORK,e,y);A.event=O||null,n(A),y=null},y.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||DE;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),n(new Re(O,S.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,y)),y=null},o===void 0&&l.setContentType(null),"setRequestHeader"in y&&se.forEach(l.toJSON(),function(O,S){y.setRequestHeader(S,O)}),se.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),u&&u!=="json"&&(y.responseType=s.responseType),f&&([x,b]=od(f,!0),y.addEventListener("progress",x)),d&&y.upload&&([m,v]=od(d),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=_=>{y&&(n(!_||_.type?new mc(null,e,y):_),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const C=vI(s.url);if(C&&Xt.protocols.indexOf(C)===-1){n(new Re("Unsupported protocol "+C+":",Re.ERR_BAD_REQUEST,e));return}y.send(o||null)})},PI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const o=function(f){if(!s){s=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof Re?p:new mc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new Re(`timeout of ${t}ms exceeded`,Re.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),e=null)};e.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>se.asap(u),d}},CI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},EI=async function*(e,t){for await(const r of _I(e))yield*CI(r,t)},_I=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},M1=(e,t,r,n)=>{const s=EI(e,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){u(),d.close();return}let m=p.byteLength;if(r){let x=o+=m;r(x)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},I1=64*1024,{isFunction:Lu}=se,TI=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:$1,TextEncoder:D1}=se.global,L1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},RI=e=>{e=se.merge.call({skipUndefined:!0},TI,e);const{fetch:t,Request:r,Response:n}=e,s=t?Lu(t):typeof fetch=="function",o=Lu(r),l=Lu(n);if(!s)return!1;const u=s&&Lu($1),d=s&&(typeof D1=="function"?(b=>j=>b.encode(j))(new D1):async b=>new Uint8Array(await new r(b).arrayBuffer())),f=o&&u&&L1(()=>{let b=!1;const j=new r(Xt.origin,{body:new $1,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),p=l&&u&&L1(()=>se.isReadableStream(new n("").body)),m={stream:p&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(j,y)=>{let N=j&&j[b];if(N)return N.call(j);throw new Re(`Response type '${b}' is not supported`,Re.ERR_NOT_SUPPORT,y)})});const x=async b=>{if(b==null)return 0;if(se.isBlob(b))return b.size;if(se.isSpecCompliantForm(b))return(await new r(Xt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(se.isArrayBufferView(b)||se.isArrayBuffer(b))return b.byteLength;if(se.isURLSearchParams(b)&&(b=b+""),se.isString(b))return(await d(b)).byteLength},v=async(b,j)=>{const y=se.toFiniteNumber(b.getContentLength());return y??x(j)};return async b=>{let{url:j,method:y,data:N,signal:C,cancelToken:_,timeout:O,onDownloadProgress:S,onUploadProgress:A,responseType:E,headers:R,withCredentials:M="same-origin",fetchOptions:L}=zE(b),T=t||fetch;E=E?(E+"").toLowerCase():"text";let I=PI([C,_&&_.toAbortSignal()],O),G=null;const X=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let U;try{if(A&&f&&y!=="get"&&y!=="head"&&(U=await v(R,N))!==0){let B=new r(j,{method:"POST",body:N,duplex:"half"}),F;if(se.isFormData(N)&&(F=B.headers.get("content-type"))&&R.setContentType(F),B.body){const[K,Z]=_1(U,od(T1(A)));N=M1(B.body,I1,K,Z)}}se.isString(M)||(M=M?"include":"omit");const q=o&&"credentials"in r.prototype,D={...L,signal:I,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:q?M:void 0};G=o&&new r(j,D);let W=await(o?T(G,L):T(j,D));const Y=p&&(E==="stream"||E==="response");if(p&&(S||Y&&X)){const B={};["status","statusText","headers"].forEach(de=>{B[de]=W[de]});const F=se.toFiniteNumber(W.headers.get("content-length")),[K,Z]=S&&_1(F,od(T1(S),!0))||[];W=new n(M1(W.body,I1,K,()=>{Z&&Z(),X&&X()}),B)}E=E||"text";let z=await m[se.findKey(m,E)||"text"](W,b);return!Y&&X&&X(),await new Promise((B,F)=>{BE(B,F,{data:z,headers:fr.from(W.headers),status:W.status,statusText:W.statusText,config:b,request:G})})}catch(q){throw X&&X(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,b,G),{cause:q.cause||q}):Re.from(q,q&&q.code,b,G)}}},MI=new Map,UE=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,o=[n,s,r];let l=o.length,u=l,d,f,p=MI;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:RI(t)),p=f;return f};UE();const tb={http:QM,xhr:AI,fetch:{get:UE}};se.forEach(tb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const F1=e=>`- ${e}`,II=e=>se.isFunction(e)||e===null||e===!1;function $I(e,t){e=se.isArray(e)?e:[e];const{length:r}=e;let n,s;const o={};for(let l=0;l<r;l++){n=e[l];let u;if(s=n,!II(n)&&(s=tb[(u=String(n)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${u}'`);if(s&&(se.isFunction(s)||(s=s.get(t))))break;o[u||"#"+l]=s}if(!s){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(F1).join(`
`):" "+F1(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const WE={getAdapter:$I,adapters:tb};function ep(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mc(null,e)}function B1(e){return ep(e),e.headers=fr.from(e.headers),e.data=Zm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WE.getAdapter(e.adapter||hc.adapter,e)(e).then(function(n){return ep(e),n.data=Zm.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return FE(n)||(ep(e),n&&n.response&&(n.response.data=Zm.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const HE="1.13.4",yf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const q1={};yf.transitional=function(t,r,n){function s(o,l){return"[Axios v"+HE+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new Re(s(l," has been removed"+(r?" in "+r:"")),Re.ERR_DEPRECATED);return r&&!q1[l]&&(q1[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,u):!0}};yf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function DI(e,t,r){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],l=t[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new Re("option "+o+" must be "+d,Re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}const nd={assertOptions:DI,validators:yf},mn=nd.validators;let ps=class{constructor(t){this.defaults=t||{},this.interceptors={request:new C1,response:new C1}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ys(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&nd.assertOptions(n,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),s!=null&&(se.isFunction(s)?r.paramsSerializer={serialize:s}:nd.assertOptions(s,{encode:mn.function,serialize:mn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nd.assertOptions(r,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&se.merge(o.common,o[r.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=fr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let p,m=0,x;if(!d){const b=[B1.bind(this),void 0];for(b.unshift(...u),b.push(...f),x=b.length,p=Promise.resolve(r);m<x;)p=p.then(b[m++],b[m++]);return p}x=u.length;let v=r;for(;m<x;){const b=u[m++],j=u[m++];try{v=b(v)}catch(y){j.call(this,y);break}}try{p=B1.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,x=f.length;m<x;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=ys(this.defaults,t);const r=qE(t.baseURL,t.url,t.allowAbsoluteUrls);return $E(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){ps.prototype[t]=function(r,n){return this.request(ys(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,u){return this.request(ys(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ps.prototype[t]=r(),ps.prototype[t+"Form"]=r(!0)});let LI=class KE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new mc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new KE(function(s){t=s}),cancel:t}}};function FI(e){return function(r){return e.apply(null,r)}}function BI(e){return se.isObject(e)&&e.isAxiosError===!0}const by={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(by).forEach(([e,t])=>{by[t]=e});function GE(e){const t=new ps(e),r=kE(ps.prototype.request,t);return se.extend(r,ps.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return GE(ys(e,s))},r}const gt=GE(hc);gt.Axios=ps;gt.CanceledError=mc;gt.CancelToken=LI;gt.isCancel=FE;gt.VERSION=HE;gt.toFormData=xf;gt.AxiosError=Re;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=FI;gt.isAxiosError=BI;gt.mergeConfig=ys;gt.AxiosHeaders=fr;gt.formToJSON=e=>LE(se.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=WE.getAdapter;gt.HttpStatusCode=by;gt.default=gt;const{Axios:jZ,AxiosError:wZ,CanceledError:NZ,isCancel:SZ,CancelToken:kZ,VERSION:OZ,all:AZ,Cancel:PZ,isAxiosError:CZ,spread:EZ,toFormData:_Z,AxiosHeaders:TZ,HttpStatusCode:RZ,formToJSON:MZ,getAdapter:IZ,mergeConfig:$Z}=gt;class _e extends Error{constructor(r,n,s){super(r);Ru(this,"status");Ru(this,"data");this.name="ApiError",this.status=n,this.data=s}}const yn=gt.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function qI(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}yn.interceptors.request.use(e=>{const t=qI();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function zI(e){var r,n;if(gt.isAxiosError(e)){const s=e,o=((r=s.response)==null?void 0:r.status)??null,l=(n=s.response)==null?void 0:n.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new _e(u,o,l)}const t=e instanceof Error?e.message:String(e);return new _e(t,null,null)}let tp=!1,rp=null;async function UI(){try{return await yn.post("/auth/refresh"),!0}catch{return!1}}yn.interceptors.response.use(e=>e,async e=>{var r,n,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&t&&!t._retried&&!((n=t.url)!=null&&n.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,tp||(tp=!0,rp=UI());const o=await rp;return tp=!1,rp=null,o?yn.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function ce(e){try{return(await yn.request(e)).data}catch(t){throw zI(t)}}const Sn=SE((e,t)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await ce({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await ce({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const n=await ce({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(n.redirectUrl){window.location.href=n.redirectUrl;return}window.location.reload()}catch(n){console.error("Switch organization failed:",n)}},setUser:r=>{e({user:r})}}));function WI(){const[e,t]=k.useState(null),[r,n]=k.useState(!0),[s,o]=k.useState(null),{user:l}=Sn();k.useEffect(()=>{(async()=>{try{n(!0);const f=await fetch("/api/dashboard/stats",{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch dashboard stats");const p=await f.json();t(p),o(null)}catch(f){o(f instanceof Error?f.message:"Unknown error")}finally{n(!1)}})()},[]);const u=d=>d===0?"-":`${d}%`;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(l==null?void 0:l.name)||"User","! Here's your workflow overview."]})]}),s&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:s})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.totalWorkflows)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.recentExecutions)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:u((e==null?void 0:e.successRate)??0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.pendingApprovals)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(e==null?void 0:e.activeIntegrations)&&e.activeIntegrations.length>0&&a.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.activeIntegrations.map(d=>a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:d},d))})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),a.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[a.jsx("li",{children:"Create your first workflow"}),a.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),a.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function HI({workflow:e,onExecute:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function VE({workflowId:e,workflowName:t,isOpen:r,onClose:n,onSuccess:s}){const[o,l]=k.useState("{}"),[u,d]=k.useState("idle"),[f,p]=k.useState("");if(!r)return null;const m=async()=>{d("executing"),p("");try{let x={};o.trim()&&(x=JSON.parse(o)),await ce({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),d("success"),setTimeout(()=>{s==null||s(),n()},1500)}catch(x){x instanceof SyntaxError?p("Invalid JSON format"):x instanceof _e?p(x.message):p("Execution failed"),d("error")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600 text-xl",children:""}),a.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("span",{className:"text-red-800",children:f})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:n,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function KI({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(null),m=async()=>{if(!n.trim()){p("Workflow name is required");return}d(!0),p(null);try{await ce({url:"/api/workflows",method:"POST",data:{name:n.trim(),description:o.trim()||void 0,enabled:!0,config:{}}}),r(),t(),s(""),l("")}catch(x){let v="Failed to create workflow";x instanceof _e&&(x.status===403?v="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":v=x.message),p(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:o,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function GI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState(null),[l,u]=k.useState(!1),d=async()=>{try{const x=await ce({url:"/api/workflows",method:"GET"});t(x.workflows)}catch(x){console.error("Failed to fetch workflows:",x)}finally{n(!1)}};k.useEffect(()=>{d()},[]);const f=x=>{const v=e.find(b=>b.id===x);v&&o(v)},p=()=>{o(null)},m=()=>{d()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),a.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>a.jsx(HI,{workflow:x,onExecute:f},x.id))}),s&&a.jsx(VE,{workflowId:s.id,workflowName:s.name,isOpen:!0,onClose:p,onSuccess:m}),a.jsx(KI,{isOpen:l,onClose:()=>u(!1),onSuccess:d})]})}function VI(){var de;const{id:e}=ff(),t=Os(),[r,n]=k.useState(null),[s,o]=k.useState(!0),[l,u]=k.useState(null),[d,f]=k.useState(!1),[p,m]=k.useState(!1),[x,v]=k.useState(!1),[b,j]=k.useState(!1),[y,N]=k.useState(!1),[C,_]=k.useState(!1),[O,S]=k.useState(!1),[A,E]=k.useState(null),[R,M]=k.useState(null),[L,T]=k.useState([]),[I,G]=k.useState(""),[X,U]=k.useState(""),[q,D]=k.useState(!0),W=async()=>{if(e)try{const ie=await ce({url:`/api/workflows/${e}`,method:"GET"});n(ie.workflow),G(ie.workflow.name),U(ie.workflow.description||""),D(ie.workflow.enabled)}catch(ie){ie instanceof _e&&ie.status===404?u("Workflow not found"):u("Failed to load workflow")}finally{o(!1)}};k.useEffect(()=>{W()},[e]);const Y=async()=>{if(!(!e||!I.trim())){m(!0);try{const ie=await ce({url:`/api/workflows/${e}`,method:"PUT",data:{name:I.trim(),description:X.trim()||null,enabled:q}});n(ie.workflow),f(!1)}catch(ie){const re=ie instanceof _e?ie.message:"Failed to save";alert(re)}finally{m(!1)}}},z=async()=>{if(e){v(!0);try{await ce({url:`/api/workflows/${e}`,method:"DELETE"}),t("/workflows")}catch(ie){const re=ie instanceof _e?ie.message:"Failed to delete";alert(re),v(!1),N(!1)}}},B=async()=>{if(e){S(!0),M(null);try{const ie=await ce({url:`/api/workflows/${e}/generate-sop`,method:"POST"});E(ie.sop),T(ie.sop.steps),_(!0)}catch(ie){const re=ie instanceof _e?ie.message:"Failed to generate SOP";M(re)}finally{S(!1)}}},F=()=>{A&&(alert(`SOP saved with ${L.length} steps. (This would save to database in production)`),_(!1))},K=(ie,re,pe)=>{const ue=[...L];ue[ie]={...ue[ie],[re]:pe},T(ue)},Z=ie=>{switch(ie){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):l||!r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l||"Workflow not found"}),a.jsx(Pt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(Pt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r.name})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:d?a.jsxs("div",{className:"space-y-4 max-w-xl",children:[a.jsx("input",{type:"text",value:I,onChange:ie=>G(ie.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),a.jsx("textarea",{value:X,onChange:ie=>U(ie.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:q,onChange:ie=>D(ie.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[r.name,a.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-gray-600",children:r.description||"No description"})]})}),a.jsx("div",{className:"flex gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:Y,disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:p?"Saving...":"Save"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),a.jsx("button",{onClick:B,disabled:O,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Generating...":"Generate SOP"}),a.jsx("button",{onClick:()=>j(!0),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),a.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((de=r.executions)==null?void 0:de.length)||0})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),r.executions&&r.executions.length>0?a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.executions.map(ie=>{const re=ie.startedAt&&ie.completedAt?Math.round((new Date(ie.completedAt).getTime()-new Date(ie.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z(ie.status)}`,children:ie.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.startedAt?new Date(ie.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re!==null?`${re}s`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx(Pt,{to:`/executions/${ie.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},ie.id)})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),b&&a.jsx(VE,{workflowId:r.id,workflowName:r.name,isOpen:!0,onClose:()=>j(!1),onSuccess:()=>{j(!1),W()}}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:z,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})}),C&&A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:R}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:L.map((ie,re)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",re+1,": Title"]}),a.jsx("input",{type:"text",value:ie.title,onChange:pe=>K(re,"title",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:ie.expectedDuration,onChange:pe=>K(re,"expectedDuration",parseInt(pe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:ie.description,onChange:pe=>K(re,"description",pe.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:ie.approvalRequired,onChange:pe=>K(re,"approvalRequired",pe.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},ie.id))}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function YI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState("all");k.useEffect(()=>{(async()=>{try{const p=await ce({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{n(!1)}})()},[]);const l=e.filter(f=>s==="all"?!0:f.status===s),u=f=>{switch(f){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),a.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>o("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),a.jsx("button",{onClick:()=>o("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),a.jsx("button",{onClick:()=>o("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>{var m;const p=f.startedAt&&f.completedAt?Math.round((new Date(f.completedAt).getTime()-new Date(f.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(f.status)}`,children:[d(f.status)," ",f.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=f.workflow)==null?void 0:m.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.startedAt?new Date(f.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},f.id)})})]})})]})}function XI(){var U;const{id:e}=ff(),[t,r]=k.useState(null),[n,s]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),[f,p]=k.useState(!1),[m,x]=k.useState(!0),[v,b]=k.useState(!0),[j,y]=k.useState(null),[N,C]=k.useState(""),[_,O]=k.useState(!1),S=async()=>{var q;if(e)try{const D=await ce({url:`/api/executions/${e}`,method:"GET"});r(D.execution),(q=D.execution.workflow)!=null&&q.sopEnabled&&await A()}catch(D){D instanceof _e&&D.status===404?d("Execution not found"):d("Failed to load execution")}finally{l(!1)}},A=async()=>{if(e)try{const q=await ce({url:`/api/executions/${e}/sop-progress`,method:"GET"});s(q.progress)}catch{console.error("Failed to load SOP progress")}};k.useEffect(()=>{S()},[e]);const E=async()=>{if(!(!(t!=null&&t.workflowId)||!(t!=null&&t.inputData))){p(!0);try{await ce({url:`/api/workflows/${t.workflowId}/execute`,method:"POST",data:{input:t.inputData}}),S()}catch(q){const D=q instanceof _e?q.message:"Failed to retry";alert(D)}finally{p(!1)}}},R=async()=>{if(e){y("approve");try{await ce({url:`/api/executions/${e}/sop/approve`,method:"POST",data:{}}),await A(),await S()}catch(q){const D=q instanceof _e?q.message:"Failed to approve step";alert(D)}finally{y(null)}}},M=async()=>{if(!(!e||!N.trim())){y("skip");try{await ce({url:`/api/executions/${e}/sop/skip`,method:"POST",data:{reason:N}}),O(!1),C(""),await A(),await S()}catch(q){const D=q instanceof _e?q.message:"Failed to skip step";alert(D)}finally{y(null)}}},L=q=>{switch(q){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:q}}},T=(q,D,W)=>q.result?L(q.result.status):D===W?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},I=(q,D)=>{if(!q)return"-";const W=new Date(q).getTime(),Y=D?new Date(D).getTime():Date.now(),z=Math.round((Y-W)/1e3);if(z<60)return`${z}s`;const B=Math.floor(z/60),F=z%60;return`${B}m ${F}s`},G=q=>{navigator.clipboard.writeText(q)};if(o)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(u||!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u||"Execution not found"}),a.jsx(Pt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const X=L(t.status);return a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(Pt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsxs("span",{className:"text-gray-600",children:[t.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${X.bg} ${X.text}`,children:[a.jsx("span",{className:"text-2xl",children:X.icon}),X.label]}),((U=t.workflow)==null?void 0:U.sopEnabled)&&a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),t.workflow&&a.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",a.jsx(Pt,{to:`/workflows/${t.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:t.workflow.name})]})]}),t.status==="failed"&&a.jsx("button",{onClick:E,disabled:f,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:f?"Retrying...":"Retry Execution"})]}),n&&n.steps.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[n.completedSteps," / ",n.totalSteps," completed"]}),n.skippedSteps>0&&a.jsxs("span",{className:"text-gray-400",children:["(",n.skippedSteps," skipped)"]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(n.completedSteps+n.skippedSteps)/n.totalSteps*100}%`}})}),a.jsx("div",{className:"space-y-3",children:n.steps.map((q,D)=>{var z,B,F,K,Z,de,ie;const W=T(q,D,n.currentStep),Y=D===n.currentStep&&!((B=(z=q.result)==null?void 0:z.status)!=null&&B.match(/completed|skipped|failed/));return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${Y?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${W.bg} ${W.text} font-bold`,children:((F=q.result)==null?void 0:F.status)==="completed"||((K=q.result)==null?void 0:K.status)==="skipped"?W.icon:D+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:q.name}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${W.bg} ${W.text}`,children:q.type})]}),q.description&&a.jsx("p",{className:"text-sm text-gray-500 truncate",children:q.description}),((Z=q.result)==null?void 0:Z.skippedReason)&&a.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",q.result.skippedReason]}),((de=q.result)==null?void 0:de.error)&&a.jsx("p",{className:"text-sm text-red-600",children:q.result.error})]}),Y&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:R,disabled:j!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:j==="approve"?"...":"Approve"}),q.skippable!==!1&&a.jsx("button",{onClick:()=>O(!0),disabled:j!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((ie=q.result)==null?void 0:ie.completedAt)&&a.jsx("span",{className:"text-xs text-gray-400",children:new Date(q.result.completedAt).toLocaleTimeString()})]},q.id)})})]}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),a.jsx("textarea",{value:N,onChange:q=>C(q.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{O(!1),C("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!N.trim()||j==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:j==="skip"?"Skipping...":"Skip Step"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),a.jsx("p",{className:"font-medium",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),a.jsx("p",{className:"font-medium",children:I(t.startedAt,t.completedAt)})]})]})]}),t.errorMessage&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),a.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:t.errorMessage})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[a.jsxs("button",{onClick:()=>x(!m),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),a.jsx("span",{className:"text-gray-400",children:m?"":""})]}),m&&a.jsx("div",{className:"p-6",children:t.inputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>G(JSON.stringify(t.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.inputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>b(!v),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),a.jsx("span",{className:"text-gray-400",children:v?"":""})]}),v&&a.jsx("div",{className:"p-6",children:t.outputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>G(JSON.stringify(t.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.outputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function QI(){const{user:e,currentOrganization:t}=Sn(),[r,n]=k.useState((e==null?void 0:e.name)||""),[s,o]=k.useState(!1),[l,u]=k.useState({}),[d,f]=k.useState(""),[p,m]=k.useState(""),[x,v]=k.useState(""),[b,j]=k.useState(!1),[y,N]=k.useState(null),[C,_]=k.useState(null);k.useEffect(()=>{(async()=>{try{const M=await ce({url:"/api/organization/settings",method:"GET"});u(M.settings)}catch(M){console.error("Failed to fetch API key settings:",M)}})()},[]);const O=async()=>{j(!0),N(null),_(null);try{const R={};if(d&&(R.anthropicApiKey=d),p&&(R.openaiApiKey=p),x&&(R.openrouterApiKey=x),Object.keys(R).length===0){N("Please enter at least one API key"),j(!1);return}await ce({url:"/api/organization/settings/api-keys",method:"PUT",data:R});const M=await ce({url:"/api/organization/settings",method:"GET"});u(M.settings),f(""),m(""),v(""),_("API keys saved successfully")}catch(R){const M=R instanceof _e?R.message:"Failed to save API keys";N(M)}finally{j(!1)}},S=async R=>{if(confirm(`Are you sure you want to delete ${R}?`))try{await ce({url:`/api/organization/settings/api-keys/${R}`,method:"DELETE"});const M=await ce({url:"/api/organization/settings",method:"GET"});u(M.settings),_(`${R} deleted successfully`)}catch(M){const L=M instanceof _e?M.message:"Failed to delete API key";N(L)}},A=async()=>{o(!0);try{await ce({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(R){const M=R instanceof _e?R.message:"Failed to update profile";console.error("Save failed:",R),alert(M)}finally{o(!1)}},E=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await ce({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(R){const M=R instanceof _e?R.message:"Failed to logout from all devices";console.error("Logout all failed:",R),alert(M)}};return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:R=>n(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),a.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),y&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),C&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:C}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",l.anthropicApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.anthropicApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>S("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:d,onChange:R=>f(R.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",a.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",l.openaiApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openaiApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>S("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:p,onChange:R=>m(R.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",l.openrouterApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openrouterApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>S("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:x,onChange:R=>v(R.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:O,disabled:b||!d&&!p&&!x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Save API Keys"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function JI(){const[e,t]=hf(),[r,n]=k.useState(null),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(!1),[p,m]=k.useState(null);k.useEffect(()=>{const N=e.get("success"),C=e.get("error");N==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):C&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[C]||`Error: ${C}`}),t({})),x()},[e,t]);const x=async()=>{try{const N=await ce({url:"/api/notion/oauth/status",method:"GET"});n(N),N.connected&&await v()}catch(N){if(N instanceof _e&&N.status===404){n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",N)}finally{u(!1)}},v=async()=>{try{const N=await ce({url:"/api/notion/databases",method:"GET"});o(N.databases||[])}catch{o([])}},b=()=>{window.location.href="/api/notion/oauth/install"},j=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){f(!0),m(null);try{await ce({url:"/api/notion/oauth/disconnect",method:"DELETE"}),n({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),o([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{f(!1)}}};if(l)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const y=(r==null?void 0:r.connected)??!1;return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:y&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:r.workspaceIcon?a.jsx("img",{src:r.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName||"Notion Workspace"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.workspaceId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),r.botId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botId})]}),r.connectedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Connected:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.connectedAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),a.jsx("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),a.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),y&&s.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),a.jsx("button",{onClick:v,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:s.map(N=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:N.title}),a.jsx("p",{className:"text-sm text-gray-500 font-mono",children:N.id})]}),a.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},N.id))})]}),y&&s.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",a.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),a.jsx("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function ZI(){const[e,t]=hf(),[r,n]=k.useState(null),[s,o]=k.useState(!0),[l,u]=k.useState(!1),[d,f]=k.useState(null);k.useEffect(()=>{const b=e.get("success"),j=e.get("error");b==="true"?(f({type:"success",text:"Slack workspace connected successfully!"}),t({})):j&&(f({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[j]||`Error: ${j}`}),t({})),p()},[e,t]);const p=async()=>{try{const b=await ce({url:"/api/slack/integration",method:"GET"});n(b.integration)}catch(b){if(b instanceof _e&&b.status===404){n(null);return}console.error("Fetch integration error:",b)}finally{o(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},x=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),f(null);try{await ce({url:"/api/slack/integration",method:"DELETE"}),n(null),f({type:"success",text:"Slack disconnected successfully."})}catch{f({type:"error",text:"Failed to disconnect Slack."})}finally{u(!1)}}};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const v=!!(r!=null&&r.hasWorkspace&&(r!=null&&r.workspaceId));return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:v&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Installed:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:r.installedAt?new Date(r.installedAt).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(b=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:b},b))})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),a.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function e$(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[s,o]=k.useState(""),[l,u]=k.useState(""),[d,f]=k.useState(""),[p,m]=k.useState(!0),[x,v]=k.useState(!1),[b,j]=k.useState(!1),[y,N]=k.useState(null);k.useEffect(()=>{C()},[]);const C=async()=>{try{const E=await ce({url:"/api/google-calendar/connection",method:"GET"});t(E.connection),f(E.connection.calendarId||""),await _()}catch(E){if(E instanceof _e&&E.status===404){t(null);return}console.error("Fetch connection error:",E)}finally{m(!1)}},_=async()=>{try{const E=await ce({url:"/api/google-calendar/calendars",method:"GET"});n(E.calendars||[])}catch(E){console.error("Fetch calendars error:",E)}},O=async()=>{if(!s){N({type:"error",text:"Please enter an access token"});return}j(!0),N(null);try{const E=await ce({url:"/api/google-calendar/test",method:"POST",data:{accessToken:s,refreshToken:l||void 0}});E.success?N({type:"success",text:`Connection successful! Email: ${E.email}, ${E.calendars||0} calendars found.`}):N({type:"error",text:E.error||"Connection failed"})}catch(E){const R=E instanceof _e?E.message:"Failed to test connection";N({type:"error",text:R})}finally{j(!1)}},S=async()=>{if(!s){N({type:"error",text:"Please enter an access token"});return}v(!0),N(null);try{const R=await ce({url:"/api/google-calendar/connection",method:e?"PUT":"POST",data:{accessToken:s,refreshToken:l||void 0,calendarId:d||void 0}});t(R.connection),N({type:"success",text:"Google Calendar connection saved successfully"}),await _(),o(""),u("")}catch(E){const R=E instanceof _e?E.message:"Failed to save connection";N({type:"error",text:R})}finally{v(!1)}},A=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){v(!0),N(null);try{await ce({url:"/api/google-calendar/connection",method:"DELETE"}),t(null),n([]),f(""),N({type:"success",text:"Google Calendar connection deleted"})}catch(E){const R=E instanceof _e?E.message:"Failed to delete connection";N({type:"error",text:R})}finally{v(!1)}}};return p?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:y.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),a.jsx("input",{id:"accessToken",type:"password",value:s,onChange:E=>o(E.target.value),placeholder:e?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),a.jsx("input",{id:"refreshToken",type:"password",value:l,onChange:E=>u(E.target.value),placeholder:e?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",a.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:O,disabled:b||!s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Testing...":"Test Connection"}),a.jsx("button",{onClick:S,disabled:x||!s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:A,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),a.jsxs("select",{id:"defaultCalendar",value:d,onChange:E=>f(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Primary Calendar --"}),r.map(E=>a.jsxs("option",{value:E.id,children:[E.summary," ",E.primary?"(Primary)":""]},E.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(E=>a.jsx("div",{className:`p-4 border rounded-lg transition ${E.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:[E.summary,E.primary&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),E.description&&a.jsx("p",{className:"text-sm text-gray-500",children:E.description}),a.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:E.id})]})})},E.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),a.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),a.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),a.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function t$({organizationId:e,isOpen:t,onClose:r,onSuccess:n}){const[s,o]=k.useState(""),[l,u]=k.useState("member"),[d,f]=k.useState(!1),[p,m]=k.useState(null),x=async()=>{if(!s.trim()){m("Email is required");return}f(!0),m(null);try{await ce({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),n(),r(),o(""),u("member")}catch(v){const b=v instanceof _e?v.message:"Failed to invite member";m(b)}finally{f(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",value:s,onChange:v=>o(v.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",value:l,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"admin",children:"Admin - Full access"}),a.jsx("option",{value:"member",children:"Member - Can execute workflows"}),a.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function r$({userId:e,currentRole:t,organizationId:r,currentUserId:n,onSuccess:s}){const[o,l]=k.useState(!1),u=e===n,d=async f=>{if(f!==t){l(!0);try{await ce({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:f}}),s()}catch(p){const m=p instanceof _e?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return a.jsxs("select",{value:t,onChange:f=>d(f.target.value),disabled:o||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${o?"opacity-50":""}`,children:[a.jsx("option",{value:"owner",children:"Owner"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})}function n$(){const{currentOrganization:e,user:t}=Sn(),[r,n]=k.useState([]),[s,o]=k.useState(!0),[l,u]=k.useState(!1),d=e==null?void 0:e.id,f=t==null?void 0:t.id,p=async()=>{if(d)try{const v=await ce({url:`/api/organizations/${d}/members`,method:"GET"});n(v.members)}catch(v){console.error("Failed to fetch members:",v)}finally{o(!1)}};k.useEffect(()=>{p()},[d]);const m=async(v,b)=>{if(confirm(`Are you sure you want to remove ${b} from this organization?`))try{await ce({url:`/api/organizations/${d}/members/${v}`,method:"DELETE"}),p()}catch(j){const y=j instanceof _e?j.message:"Failed to remove member";alert(y)}},x=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),a.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their roles"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:v.avatarUrl?a.jsx("img",{className:"h-10 w-10 rounded-full",src:v.avatarUrl,alt:v.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:v.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.name,v.userId===f&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d&&f&&a.jsx(r$,{userId:v.userId,currentRole:v.role,organizationId:d,currentUserId:f,onSuccess:p})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.status==="active"?"Active":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.joinedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.userId!==f&&a.jsx("button",{onClick:()=>m(v.userId,v.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},v.id))})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),d&&a.jsx(t$,{organizationId:d,isOpen:l,onClose:()=>u(!1),onSuccess:p})]})}function a$(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState(null),[l,u]=k.useState("pending"),[d,f]=k.useState("all"),[p,m]=k.useState({page:1,total:0,totalPages:0}),[x,v]=k.useState(null),b=async()=>{n(!0),o(null);try{const O=await ce({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:p.page,limit:20}});t(O.approvals),m({page:O.pagination.page,total:O.pagination.total,totalPages:O.pagination.totalPages})}catch(O){const S=O instanceof _e?O.message:"Failed to fetch approvals";o(S)}finally{n(!1)}};k.useEffect(()=>{b()},[l,d,p.page]);const j=async(O,S)=>{v(O);try{await ce({url:`/api/approvals/${O}/respond`,method:"PUT",data:{action:S}}),b()}catch(A){const E=A instanceof _e?A.message:"Failed to respond to approval";o(E)}finally{v(null)}},y=O=>{const S={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S[O]}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},N=O=>{const S={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S[O].bg}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},C=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=O=>new Date(O)<new Date;return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),a.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l,onChange:O=>{u(O.target.value),m(S=>({...S,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"all",children:"All"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d,onChange:O=>{f(O.target.value),m(S=>({...S,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"budget",children:"Budget"}),a.jsx("option",{value:"deployment",children:"Deployment"}),a.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"inbox":"check-circle"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),a.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:O.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(O.type)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(O.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(O.expiresAt)?a.jsx("span",{className:"text-red-600",children:"Expired"}):C(O.expiresAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.status==="pending"&&!_(O.expiresAt)?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(O.id,"approved"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===O.id?"...":"Approve"}),a.jsx("button",{onClick:()=>j(O.id,"rejected"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===O.id?"...":"Reject"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:O.respondedAt?C(O.respondedAt):"-"})})]},O.id))})]}),p.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>m(O=>({...O,page:O.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>m(O=>({...O,page:O.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const s$=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function i$(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:n=10,onEvent:s}=e,[o,l]=k.useState(!1),[u,d]=k.useState(null),[f,p]=k.useState(null),m=k.useRef(null),x=k.useRef(0),v=k.useRef(null),b=k.useRef(s),j=k.useRef([]);k.useEffect(()=>{b.current=s},[s]);const y=k.useCallback(()=>{m.current&&(j.current.forEach(({type:_,handler:O})=>{var S;(S=m.current)==null||S.removeEventListener(_,O)}),j.current=[],m.current.close(),m.current=null),v.current&&(clearTimeout(v.current),v.current=null)},[]),N=k.useCallback(()=>{y();const O=`https://auth.nubabel.com${t}`;try{const S=new EventSource(O,{withCredentials:!0});m.current=S,S.onopen=()=>{l(!0),p(null),x.current=0},S.onerror=()=>{if(l(!1),y(),x.current<n){const A=r*Math.pow(2,x.current);x.current+=1,v.current=setTimeout(()=>{N()},A)}else p("Failed to connect to server. Please refresh the page.")},S.onmessage=A=>{var E;try{const R=JSON.parse(A.data),M={type:R.type||"message",data:R.data||R,timestamp:Date.now()};d(M),(E=b.current)==null||E.call(b,M)}catch{A.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",A.data)}},s$.forEach(A=>{const E=R=>{var M;try{const T=JSON.parse(R.data),I={type:A,data:T,timestamp:Date.now()};d(I),(M=b.current)==null||M.call(b,I)}catch(L){console.warn(`Failed to parse ${A} event:`,L)}};S.addEventListener(A,E),j.current.push({type:A,handler:E})})}catch(S){p("Failed to create EventSource connection"),console.error("SSE connection error:",S)}},[t,r,n,y]),C=k.useCallback(()=>{x.current=0,N()},[N]);return k.useEffect(()=>(N(),y),[N,y]),{isConnected:o,lastEvent:u,error:f,reconnect:C}}const z1={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function o$(e){const t=e.toLowerCase().replace(/-/g,"_");return z1[t]||z1.default}function l$(e,t){switch(e){case"pending":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[a.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return a.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function c$(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function YE({agent:e,children:t,allAgents:r,depth:n,onSelectAgent:s}){const o=t.filter(l=>l.parentId===e.id);return a.jsxs("div",{className:`${n>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[a.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[a.jsx("span",{className:"text-xl",children:o$(e.agentType)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),l$(e.status,e.progress)]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&a.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&a.jsxs("span",{children:[" ",c$(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&a.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&a.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),o.length>0&&a.jsx("div",{className:"mt-1",children:o.map(l=>a.jsx(YE,{agent:l,children:r,allAgents:r,depth:n+1,onSelectAgent:s},l.id))})]})}function u$({agents:e,selectedSessionId:t,onSelectAgent:r}){const n=k.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=k.useMemo(()=>n.filter(l=>!l.parentId),[n]),o=k.useMemo(()=>{const l=n.length,u=n.filter(p=>p.status==="completed").length,d=n.filter(p=>p.status==="failed").length,f=n.filter(p=>p.status==="in_progress").length;return{total:l,completed:u,failed:d,inProgress:f}},[n]);return n.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No active agents"}),a.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Agent Hierarchy"})]}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Total: ",o.total]}),o.inProgress>0&&a.jsxs("span",{className:"text-blue-600",children:[" ",o.inProgress," running"]}),o.completed>0&&a.jsxs("span",{className:"text-green-600",children:[" ",o.completed," done"]}),o.failed>0&&a.jsxs("span",{className:"text-red-600",children:[" ",o.failed," failed"]})]})]}),a.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>a.jsx(YE,{agent:l,children:n,allAgents:n,depth:0,onSelectAgent:r},l.id))})]})}function d$({accounts:e,selectedAccountId:t,onRefresh:r}){const[n,s]=k.useState(Date.now());k.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const o=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",u=m=>{if(!m)return null;const v=new Date(m).getTime()-n;if(v<=0)return null;const b=Math.floor(v/6e4);return b<60?`${b}m`:`${Math.floor(b/60)}h ${b%60}m`},d=[...e].sort((m,x)=>m.id===t?-1:x.id===t?1:x.priority-m.priority),f=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,x)=>m+x.estimatedUsagePercent,0)/e.length):0;return a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Claude Max Pool"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f,"/",e.length," active  ",p,"% avg usage"]})]}),r&&a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:d.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{children:"No accounts configured"})]}):d.map(m=>{const x=u(m.cooldownUntil),v=m.id===t;return a.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${v?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:o(m.status)}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),v&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),x&&a.jsxs("div",{className:"text-xs text-orange-600",children:[" ",x]})]})]}),a.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),a.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const f$=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function h$(){const[e,t]=k.useState([]),[r,n]=k.useState("all"),[s,o]=k.useState(new Map),[l,u]=k.useState([]),[d,f]=k.useState(),[p,m]=k.useState(),x=k.useCallback(A=>{const E={id:`${A.timestamp}-${Math.random().toString(36).slice(2)}`,type:A.type,data:A.data,timestamp:A.timestamp};t(M=>[E,...M].slice(0,100));const R=A.data;if(A.type==="agent:started"||A.type==="agent_delegated"){const M={id:R.activityId||R.id||E.id,sessionId:R.sessionId||"unknown",agentType:R.agentType||"unknown",agentName:R.agentName,category:R.category,status:"in_progress",parentId:R.parentActivityId,startedAt:new Date(A.timestamp).toISOString()};o(L=>new Map(L).set(M.id,M))}if(A.type==="agent:progress"){const M=R.activityId;M&&o(L=>{const T=new Map(L),I=T.get(M);return I&&T.set(M,{...I,progress:R.progress,status:"in_progress"}),T})}if(A.type==="agent:completed"||A.type==="agent:failed"){const M=R.activityId;M&&o(L=>{const T=new Map(L),I=T.get(M);return I&&T.set(M,{...I,status:A.type==="agent:completed"?"completed":"failed",duration:R.duration,errorMessage:R.errorMessage,completedAt:new Date(A.timestamp).toISOString()}),T})}A.type==="account_selected"&&(f(R.accountId),R.accounts&&u(R.accounts))},[]),{isConnected:v,error:b,reconnect:j}=i$({url:"/api/events",onEvent:x}),y=k.useMemo(()=>e.filter(A=>r==="all"?!0:A.type===r||A.type.startsWith(r.split(":")[0])),[e,r]),N=k.useMemo(()=>Array.from(s.values()),[s]),C=k.useMemo(()=>{const A=new Set(N.map(E=>E.sessionId));return Array.from(A)},[N]),_=A=>A.includes("started")?"bg-blue-100 text-blue-800":A.includes("completed")?"bg-green-100 text-green-800":A.includes("failed")||A.includes("error")?"bg-red-100 text-red-800":A.includes("progress")?"bg-yellow-100 text-yellow-800":A.includes("delegated")?"bg-purple-100 text-purple-800":A.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",O=A=>A.includes("started")?"":A.includes("completed")?"":A.includes("failed")?"":A.includes("progress")?"":A.includes("delegated")?"":A.includes("account")?"":"",S=A=>new Date(A).toLocaleTimeString();return a.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),a.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),a.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${v?"bg-green-500 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:v?"Live":"Disconnected"})]}),!v&&a.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),b&&a.jsx("span",{className:"text-sm text-red-600",children:b})]}),C.length>0&&a.jsxs("select",{value:p||"",onChange:A=>m(A.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Sessions"}),C.map(A=>a.jsxs("option",{value:A,children:["Session: ",A.slice(0,12),"..."]},A))]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsx(u$,{agents:N,selectedSessionId:p,onSelectAgent:A=>m(A.sessionId)})}),a.jsx("div",{className:"lg:col-span-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," events"]})]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:f$.map(A=>a.jsx("button",{onClick:()=>n(A),className:`px-3 py-1 rounded-full text-xs transition ${r===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A==="all"?"All":A.replace(":"," ")},A))})]}),a.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:y.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),a.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):y.map(A=>a.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-xl",children:O(A.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${_(A.type)}`,children:A.type}),a.jsx("span",{className:"text-xs text-gray-500",children:S(A.timestamp)})]}),Object.keys(A.data).length>0&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:a.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(A.data,null,2)})})]})]})},A.id))}),e.length>0&&a.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:a.jsx("button",{onClick:()=>{t([]),o(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx(d$,{accounts:l,selectedAccountId:d,onRefresh:()=>{fetch("/api/claude-max-accounts").then(A=>A.json()).then(A=>u(A.accounts||[])).catch(console.error)}})})]})]})}const el={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function Fu(e){return e<1?`${Math.round(e*1e3)}ms`:e<60?`${e.toFixed(1)}s`:`${Math.floor(e/60)}m ${Math.round(e%60)}s`}function U1(e){return new Date(e).toLocaleString()}function Bu(e){return e>=95?"text-green-600":e>=80?"text-yellow-600":"text-red-600"}function m$(e){return e>=95?"bg-green-100":e>=80?"bg-yellow-100":"bg-red-100"}function p$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(null),[p,m]=k.useState(null),[x,v]=k.useState(!0),[b,j]=k.useState(null),y=k.useCallback(async()=>{try{const[S,A,E]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!S.ok||!A.ok||!E.ok)throw new Error("Failed to fetch metrics");const R=await S.json(),M=await A.json(),L=await E.json();t(R.agents||[]),n(M.tools||[]),o(L.delegations||[]),m(R.timestamp),f(null)}catch(S){f(S instanceof Error?S.message:"Unknown error")}finally{u(!1)}},[]);k.useEffect(()=>{y()},[y]),k.useEffect(()=>{if(!x)return;const S=setInterval(y,3e4);return()=>clearInterval(S)},[x,y]);const N=e.reduce((S,A)=>S+A.activeSessions,0),C=e.reduce((S,A)=>S+A.totalExecutions,0),_=e.length>0?e.reduce((S,A)=>S+A.successRate,0)/e.length:0,O=b?e.find(S=>S.agentId===b):null;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),a.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:S=>v(S.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),a.jsx("button",{onClick:y,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Refreshing...":"Refresh"})]})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:N}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:N===0?"No active agents":"Currently running"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:C}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-3xl font-bold ${Bu(_)}`,children:[_.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r.reduce((S,A)=>S+A.totalCalls,0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),l?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(S=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},S))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>a.jsxs("div",{onClick:()=>j(S.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${b===S.agentId?"ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:el[S.agentId]||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:S.name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Executions"}),a.jsx("p",{className:"font-semibold",children:S.totalExecutions})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Success Rate"}),a.jsxs("p",{className:`font-semibold ${Bu(S.successRate)}`,children:[S.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),a.jsx("p",{className:"font-semibold",children:Fu(S.avgDuration)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),a.jsx("p",{className:"font-semibold",children:Fu(S.p95Duration)})]})]}),S.activeSessions>0&&a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-green-600",children:[S.activeSessions," active session",S.activeSessions>1?"s":""]})]}),S.lastError&&a.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[a.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",S.lastError.message]}),a.jsx("p",{className:"text-red-400 text-xs",children:U1(S.lastError.timestamp)})]})]},S.agentId))})]}),O&&a.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[el[O.agentId]||""," ",O.name," Details"]}),a.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:`p-3 rounded-lg ${m$(O.successRate)}`,children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:`text-2xl font-bold ${Bu(O.successRate)}`,children:[O.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O.errorRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Fu(O.avgDuration)})]}),a.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Fu(O.p95Duration)})]})]}),O.topTools.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:O.topTools.map(S=>a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[S.name," (",S.count,")"]},S.name))})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):r.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),a.jsx("tbody",{children:r.slice(0,10).map(S=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:S.toolName}),a.jsx("td",{className:"text-right py-2 px-3",children:S.totalCalls}),a.jsxs("td",{className:`text-right py-2 px-3 ${Bu(S.successRate)}`,children:[S.successRate.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex gap-1",children:S.agentUsage.slice(0,3).map(A=>a.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${A.callCount} calls`,children:[el[A.agentId]||""," ",A.callCount]},A.agentId))})})]},S.toolName))})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):s.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsx("div",{className:"space-y-4",children:s.map(S=>a.jsxs("div",{className:"border-b pb-4 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:el[S.fromAgent]||""}),a.jsx("span",{className:"font-semibold capitalize",children:S.fromAgent}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-sm text-gray-500",children:[S.totalDelegations," delegations (",S.successRate.toFixed(1),"% success)"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:S.targets.map(A=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[a.jsx("span",{children:el[A.toAgent]||""}),a.jsx("span",{className:"capitalize",children:A.toAgent}),a.jsxs("span",{className:"text-gray-400",children:["(",A.count,")"]})]},A.toAgent))})]},S.fromAgent))})})]}),p&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",U1(p)]})]})}function g$(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState(""),[l,u]=k.useState(""),[d,f]=k.useState(0),[p,m]=k.useState(null),[x,v]=k.useState(""),b=20;k.useEffect(()=>{(async()=>{try{n(!0);const S=new URLSearchParams({limit:b.toString(),offset:d.toString()});s&&S.append("type",s),l&&S.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${S.toString()}`,method:"GET"});t(A.data||[])}catch(S){console.error("Failed to fetch organization changes:",S)}finally{n(!1)}})()},[s,l,d]);const j=O=>{switch(O){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=O=>{switch(O){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},N=O=>{switch(O){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=async O=>{try{await ce({url:`/api/org-changes/${O}/link-pr`,method:"POST",data:{prUrl:x}});const S=new URLSearchParams({limit:b.toString(),offset:d.toString()});s&&S.append("type",s),l&&S.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${S.toString()}`,method:"GET"});t(A.data||[]),m(null),v("")}catch(S){console.error("Failed to link PR:",S),alert("Failed to link PR. Please check the URL format.")}},_=async O=>{try{await ce({url:`/api/org-changes/${O}/pr-status`,method:"GET"});const S=new URLSearchParams({limit:b.toString(),offset:d.toString()});s&&S.append("type",s),l&&S.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${S.toString()}`,method:"GET"});t(A.data||[])}catch(S){console.error("Failed to sync PR status:",S)}};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),a.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),a.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:s,onChange:O=>{o(O.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"new_member",children:"New Member"}),a.jsx("option",{value:"role_change",children:"Role Change"}),a.jsx("option",{value:"workflow_added",children:"Workflow Added"}),a.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),a.jsx("option",{value:"integration_added",children:"Integration Added"}),a.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),a.jsxs("select",{value:l,onChange:O=>{u(O.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Impact Levels"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),a.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>{var S;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.jsx("span",{className:"mr-2",children:y(O.type)}),O.type.replace(/_/g," ")]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:O.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${j(O.impactLevel)}`,children:O.impactLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.prUrl&&((S=O.metadata)!=null&&S.pr)?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("a",{href:O.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${N(O.metadata.pr.state)}`,children:[O.metadata.pr.state," #",O.metadata.pr.number]}),a.jsx("button",{onClick:()=>_(O.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===O.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:A=>v(A.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),a.jsx("button",{onClick:()=>C(O.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),a.jsx("button",{onClick:()=>{m(null),v("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):a.jsx("button",{onClick:()=>m(O.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.createdAt).toLocaleString()})]},O.id)})})]})}),e.length>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>f(Math.max(0,d-b)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+b,d+e.length)]}),a.jsx("button",{onClick:()=>f(d+b),disabled:e.length<b,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function x$({isOpen:e,onClose:t,onSuccess:r,objective:n,defaultQuarter:s,currentUserId:o}){const[l,u]=k.useState({title:"",description:"",quarter:s,ownerId:o,status:"on_track"}),[d,f]=k.useState(!1),[p,m]=k.useState(null);k.useEffect(()=>{u(n?{title:n.title,description:n.description||"",quarter:n.quarter,ownerId:n.ownerId,status:n.status}:{title:"",description:"",quarter:s,ownerId:o,status:"on_track"})},[n,s,o]);const x=async()=>{if(!l.title.trim()){m("Title is required");return}f(!0),m(null);try{n?await ce({url:`/api/okr/${n.id}`,method:"PUT",data:l}):await ce({url:"/api/okr",method:"POST",data:l}),r(),t()}catch(v){const b=v instanceof _e?v.message:"Failed to save objective";m(b)}finally{f(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Objective":"New Objective"}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:l.title,onChange:v=>u({...l,title:v.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:v=>u({...l,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),a.jsx("input",{type:"text",value:l.quarter,onChange:v=>u({...l,quarter:v.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:v=>u({...l,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"on_track",children:"On Track"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":n?"Save Changes":"Create Objective"})]})]})})}):null}function y$({isOpen:e,onClose:t,onSuccess:r,objectiveId:n,keyResult:s}){const[o,l]=k.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[u,d]=k.useState(!1),[f,p]=k.useState(null);k.useEffect(()=>{l(s?{title:s.title,target:String(s.target),current:String(s.current),unit:s.unit,ownerId:s.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[s]);const m=async()=>{if(!o.title.trim()){p("Title is required");return}d(!0),p(null);try{const x={title:o.title,target:Number(o.target),current:Number(o.current),unit:o.unit,ownerId:o.ownerId||null};s?await ce({url:`/api/okr/key-results/${s.id}`,method:"PUT",data:x}):await ce({url:`/api/okr/${n}/key-results`,method:"POST",data:x}),r(),t()}catch(x){const v=x instanceof _e?x.message:"Failed to save key result";p(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:s?"Edit Key Result":"New Key Result"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:o.title,onChange:x=>l({...o,title:x.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),a.jsx("input",{type:"number",value:o.target,onChange:x=>l({...o,target:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),a.jsx("input",{type:"number",value:o.current,onChange:x=>l({...o,current:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{value:o.unit,onChange:x=>l({...o,unit:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"%",children:"%"}),a.jsx("option",{value:"count",children:"Count"}),a.jsx("option",{value:"$",children:"$"}),a.jsx("option",{value:"score",children:"Score"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":s?"Save Changes":"Add Key Result"})]})]})})}):null}function v$({progress:e,status:t}){const r=()=>t==="behind"?"bg-red-500":t==="at_risk"?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${r()}`,style:{width:`${Math.min(e,100)}%`}})})}function b$({status:e}){const t={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},r={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.on_track}`,children:r[e]||e})}function j$({objective:e,onEdit:t,onDelete:r,onAddKeyResult:n,onEditKeyResult:s,onUpdateKeyResultProgress:o}){const[l,u]=k.useState(!0);return a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx(b$,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsx(v$,{progress:e.progress,status:e.status})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:a.jsx("span",{className:"text-lg",children:""})})]})]}),a.jsxs("div",{className:"mt-4 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("button",{onClick:()=>u(!l),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[a.jsx("span",{children:l?"":""}),"Key Results (",e.keyResults.length,")"]}),a.jsx("button",{onClick:()=>n(e.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),l&&a.jsx("div",{className:"space-y-3",children:e.keyResults.length===0?a.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):e.keyResults.map(d=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.title}),a.jsx("button",{onClick:()=>s(d),className:"text-gray-400 hover:text-gray-600",children:a.jsx("span",{className:"text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(d.progress,100)}%`}})})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"number",value:d.current,onChange:f=>o(d.id,Number(f.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),a.jsxs("span",{className:"text-gray-500",children:["/ ",d.target," ",d.unit]}),a.jsxs("span",{className:"font-medium text-gray-700",children:["(",d.progress,"%)"]})]})]})]},d.id))})]})]})})}function w$(){const{user:e}=Sn(),[t,r]=k.useState([]),[n,s]=k.useState([]),[o,l]=k.useState(""),[u,d]=k.useState(!0),[f,p]=k.useState(null),[m,x]=k.useState(!1),[v,b]=k.useState(null),[j,y]=k.useState(!1),[N,C]=k.useState(""),[_,O]=k.useState(null),S=()=>{const U=new Date;return`${U.getFullYear()}-Q${Math.ceil((U.getMonth()+1)/3)}`},A=async()=>{try{const U=await ce({url:"/api/okr/meta/quarters",method:"GET"});s(U.quarters),U.quarters.length>0&&!o&&l(U.quarters[0])}catch(U){console.error("Failed to fetch quarters:",U)}},E=async()=>{if(o){d(!0),p(null);try{const U=await ce({url:"/api/okr",method:"GET",params:{quarter:o}});r(U.objectives)}catch(U){const q=U instanceof _e?U.message:"Failed to fetch objectives";p(q)}finally{d(!1)}}};k.useEffect(()=>{A()},[]),k.useEffect(()=>{o&&E()},[o]);const R=async U=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await ce({url:`/api/okr/${U}`,method:"DELETE"}),E()}catch(q){const D=q instanceof _e?q.message:"Failed to delete objective";p(D)}},M=async(U,q)=>{try{await ce({url:`/api/okr/key-results/${U}`,method:"PUT",data:{current:q}}),E()}catch(D){console.error("Failed to update key result:",D)}},L=()=>{b(null),x(!0)},T=U=>{b(U),x(!0)},I=U=>{C(U),O(null),y(!0)},G=U=>{C(U.objectiveId),O(U),y(!0)},X=t.length>0?Math.round(t.reduce((U,q)=>U+q.progress,0)/t.length):0;return u&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),a.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),a.jsx("select",{value:o,onChange:U=>l(U.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:n.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," objective",t.length!==1?"s":""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${X}%`}})}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[X,"%"]})]})]})]}),t.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),a.jsx("button",{onClick:L,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):a.jsx("div",{className:"space-y-6",children:t.map(U=>a.jsx(j$,{objective:U,onEdit:T,onDelete:R,onAddKeyResult:I,onEditKeyResult:G,onUpdateKeyResultProgress:M},U.id))}),a.jsx(x$,{isOpen:m,onClose:()=>x(!1),onSuccess:()=>{E(),A()},objective:v,defaultQuarter:o||S(),currentUserId:(e==null?void 0:e.id)||""}),a.jsx(y$,{isOpen:j,onClose:()=>y(!1),onSuccess:E,objectiveId:N,keyResult:_})]})}function N$({agent:e,onEdit:t,onDelete:r,onViewActivity:n,onToggleEnabled:s}){const[o,l]=k.useState(!1),[u,d]=k.useState(!1),f=async()=>{if(!(!s||u)){d(!0);try{await s(e,!e.enabled)}finally{d(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&a.jsx("button",{onClick:f,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),a.jsxs("button",{onClick:()=>l(!o),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[o?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Read:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>a.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Write:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>a.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[a.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const S$=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function k$({isOpen:e,onClose:t,onSuccess:r,agent:n,availableSkills:s,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[f,p]=k.useState(""),[m,x]=k.useState(""),[v,b]=k.useState(""),[j,y]=k.useState(!1),[N,C]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,function:n.function,description:n.description,skills:[...n.skills],tools:[...n.tools],routing_keywords:[...n.routing_keywords],permissions:{read:[...n.permissions.read],write:[...n.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),C(null)},[n,e]);const _=async I=>{I.preventDefault(),y(!0),C(null);try{l?await ce({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await ce({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(G){const X=G instanceof _e?G.message:"Failed to save agent";C(X)}finally{y(!1)}},O=()=>{f.trim()&&!u.routing_keywords.includes(f.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,f.trim()]}),p(""))},S=I=>{d({...u,routing_keywords:u.routing_keywords.filter(G=>G!==I)})},A=()=>{m.trim()&&!u.permissions.read.includes(m.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,m.trim()]}}),x(""))},E=I=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(G=>G!==I)}})},R=()=>{v.trim()&&!u.permissions.write.includes(v.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,v.trim()]}}),b(""))},M=I=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(G=>G!==I)}})},L=I=>{const G=u.skills.includes(I)?u.skills.filter(X=>X!==I):[...u.skills,I];d({...u,skills:G})},T=I=>{const G=u.tools.includes(I)?u.tools.filter(X=>X!==I):[...u.tools,I];d({...u,tools:G})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),N&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:N}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:I=>d({...u,id:I.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:I=>d({...u,name:I.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{id:"function",value:u.function,onChange:I=>d({...u,function:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:S$.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:I=>d({...u,description:I.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map(I=>a.jsx("button",{type:"button",onClick:()=>L(I.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes(I.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:I.name},I.id)),s.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(I=>a.jsx("button",{type:"button",onClick:()=>T(I.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes(I.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:I.description,children:I.name},I.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:I=>p(I.target.value),onKeyDown:I=>I.key==="Enter"&&(I.preventDefault(),O()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map(I=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[I,a.jsx("button",{type:"button",onClick:()=>S(I),className:"text-orange-600 hover:text-orange-800",children:""})]},I))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:m,onChange:I=>x(I.target.value),onKeyDown:I=>I.key==="Enter"&&(I.preventDefault(),A()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map(I=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-green-700",children:I}),a.jsx("button",{type:"button",onClick:()=>E(I),className:"text-green-600 hover:text-green-800",children:""})]},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:I=>b(I.target.value),onKeyDown:I=>I.key==="Enter"&&(I.preventDefault(),R()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map(I=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-yellow-700",children:I}),a.jsx("button",{type:"button",onClick:()=>M(I),className:"text-yellow-600 hover:text-yellow-800",children:""})]},I))})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function O$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(null),[p,m]=k.useState(!1),[x,v]=k.useState(null),[b,j]=k.useState([]),[y,N]=k.useState(null),[C,_]=k.useState(""),[O,S]=k.useState("all"),A=async()=>{try{const q=await ce({url:"/api/admin/pending-prs?type=agent",method:"GET"});j(q.pullRequests)}catch(q){console.error("Failed to fetch pending PRs:",q)}},E=async()=>{try{const q=await ce({url:"/api/admin/agents",method:"GET"});t(q.agents)}catch(q){const D=q instanceof _e?q.message:"Failed to fetch agents";f(D)}},R=async()=>{try{const q=await ce({url:"/api/admin/skills",method:"GET"});n(q.skills.map(D=>({id:D.id,name:D.name})))}catch(q){console.error("Failed to fetch skills:",q)}},M=async()=>{try{const q=await ce({url:"/api/admin/tools",method:"GET"});o(q.tools)}catch(q){console.error("Failed to fetch tools:",q)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),R(),M(),A()]),u(!1)})()},[]);const L=()=>{v(null),m(!0)},T=q=>{v(q),m(!0)},I=async q=>{if(confirm(`Are you sure you want to delete "${q.name}"? This will create a PR.`))try{const D=await ce({url:`/api/admin/agents/${q.id}`,method:"DELETE"});N(`PR created to delete agent. View at: ${D.pullRequest.html_url}`),E(),A()}catch(D){const W=D instanceof _e?D.message:"Failed to delete agent";f(W)}},G=()=>{N("Changes submitted successfully. A GitHub PR has been created for review."),E(),A()},X=q=>{window.location.href=`/activity?agent=${q.id}`},U=async(q,D)=>{try{const W=await ce({url:`/api/admin/agents/${q.id}`,method:"PUT",data:{...q,enabled:D}});N(`PR created to ${D?"enable":"disable"} agent. View at: ${W.pullRequest.html_url}`),E(),A()}catch(W){const Y=W instanceof _e?W.message:"Failed to toggle agent status";f(Y)}};return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>N(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(q=>q.function)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(q=>q.skills)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(q=>q.tools)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:C,onChange:q=>_(q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:O,onChange:q=>S(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(q=>q.function))).map(q=>a.jsx("option",{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))]})})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map(q=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:q.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",q.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:q.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:q.author_avatar,alt:q.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:q.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(q.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:q.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},q.number))})]})})]}),(()=>{const q=e.filter(D=>{const W=C.toLowerCase(),Y=!W||D.name.toLowerCase().includes(W)||D.id.toLowerCase().includes(W)||D.description.toLowerCase().includes(W)||D.routing_keywords.some(B=>B.toLowerCase().includes(W)),z=O==="all"||D.function===O;return Y&&z});return e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),a.jsx("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):q.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),a.jsx("button",{onClick:()=>{_(""),S("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:q.map(D=>a.jsx(N$,{agent:D,onEdit:T,onDelete:I,onViewActivity:X,onToggleEnabled:U},D.id))})})(),a.jsx(k$,{isOpen:p,onClose:()=>m(!1),onSuccess:G,agent:x,availableSkills:r,availableTools:s})]})}function A$({skill:e,onEdit:t,onDelete:r}){var l;const[n,s]=k.useState(!1),o=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-white",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.category)}`,children:e.category})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>a.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||a.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),a.jsxs("button",{onClick:()=>s(!n),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[n?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&a.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const P$=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],W1=["string","number","boolean","object","array"];function C$({isOpen:e,onClose:t,onSuccess:r,skill:n,availableAgents:s,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[f,p]=k.useState(""),[m,x]=k.useState({name:"",type:"string",description:"",required:!1,default:""}),[v,b]=k.useState({name:"",type:"string",description:""}),[j,y]=k.useState(!1),[N,C]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,description:n.description,category:n.category,triggers:[...n.triggers],parameters:n.parameters?[...n.parameters]:[],outputs:n.outputs?[...n.outputs]:[],tools_required:[...n.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),C(null)},[n,e]);const _=async T=>{T.preventDefault(),y(!0),C(null);try{l?await ce({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await ce({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch(I){const G=I instanceof _e?I.message:"Failed to save skill";C(G)}finally{y(!1)}},O=()=>{f.trim()&&!u.triggers.includes(f.trim())&&(d({...u,triggers:[...u.triggers,f.trim()]}),p(""))},S=T=>{d({...u,triggers:u.triggers.filter((I,G)=>G!==T)})},A=()=>{if(m.name.trim()&&m.description.trim()){const T={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{T.default=JSON.parse(m.default)}catch{T.default=m.default}d({...u,parameters:[...u.parameters,T]}),x({name:"",type:"string",description:"",required:!1,default:""})}},E=T=>{d({...u,parameters:u.parameters.filter((I,G)=>G!==T)})},R=()=>{v.name.trim()&&v.description.trim()&&(d({...u,outputs:[...u.outputs,{...v,name:v.name.trim(),description:v.description.trim()}]}),b({name:"",type:"string",description:""}))},M=T=>{d({...u,outputs:u.outputs.filter((I,G)=>G!==T)})},L=T=>{const I=u.tools_required.includes(T)?u.tools_required.filter(G=>G!==T):[...u.tools_required,T];d({...u,tools_required:I})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),N&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:N}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:T=>d({...u,id:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:u.category,onChange:T=>d({...u,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:P$.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&(T.preventDefault(),O()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((T,I)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[T,a.jsx("button",{type:"button",onClick:()=>S(I),className:"text-green-600 hover:text-green-800",children:""})]},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(T=>a.jsx("button",{type:"button",onClick:()=>L(T.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(T.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:T.description,children:T.name},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m.name,onChange:T=>x({...m,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:m.type,onChange:T=>x({...m,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:W1.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:m.description,onChange:T=>x({...m,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:m.required,onChange:T=>x({...m,required:T.target.checked}),className:"w-3 h-3"}),"Required"]}),a.jsx("input",{type:"text",value:m.default,onChange:T=>x({...m,default:T.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((T,I)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),T.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>E(I),className:"text-gray-400 hover:text-gray-600",children:""})]},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v.name,onChange:T=>b({...v,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:v.type,onChange:T=>b({...v,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:W1.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("input",{type:"text",value:v.description,onChange:T=>b({...v,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((T,I)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:T.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),a.jsx("button",{type:"button",onClick:()=>M(I),className:"text-gray-400 hover:text-gray-600",children:""})]},I))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function E$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(null),[p,m]=k.useState(!1),[x,v]=k.useState(null),[b,j]=k.useState([]),[y,N]=k.useState(null),[C,_]=k.useState("all"),[O,S]=k.useState(""),[A,E]=k.useState("skills"),[R,M]=k.useState([]),[L,T]=k.useState([]),[I,G]=k.useState([]),[X,U]=k.useState(!1),q=async()=>{try{const re=await ce({url:"/api/admin/pending-prs?type=skill",method:"GET"});j(re.pullRequests)}catch(re){console.error("Failed to fetch pending PRs:",re)}},D=async()=>{try{const re=await ce({url:"/api/admin/skills",method:"GET"});t(re.skills)}catch(re){const pe=re instanceof _e?re.message:"Failed to fetch skills";f(pe)}},W=async()=>{try{const re=await ce({url:"/api/admin/agents",method:"GET"});n(re.agents.map(pe=>({id:pe.id,name:pe.name})))}catch(re){console.error("Failed to fetch agents:",re)}},Y=async()=>{try{const re=await ce({url:"/api/admin/tools",method:"GET"});o(re.tools)}catch(re){console.error("Failed to fetch tools:",re)}},z=async()=>{U(!0);try{const[re,pe,ue]=await Promise.all([ce({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),ce({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),ce({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);M(re.metrics),T(pe.skills),G(ue.skills)}catch{}finally{U(!1)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([D(),W(),Y(),q()]),u(!1)})()},[]),k.useEffect(()=>{A==="performance"&&z()},[A]);const B=()=>{v(null),m(!0)},F=re=>{v(re),m(!0)},K=async re=>{if(confirm(`Are you sure you want to delete "${re.name}"? This will create a PR.`))try{const pe=await ce({url:`/api/admin/skills/${re.id}`,method:"DELETE"});N(`PR created to delete skill. View at: ${pe.pullRequest.html_url}`),D(),q()}catch(pe){const ue=pe instanceof _e?pe.message:"Failed to delete skill";f(ue)}},Z=()=>{N("Changes submitted successfully. A GitHub PR has been created for review."),D(),q()},de=Array.from(new Set(e.map(re=>re.category))),ie=e.filter(re=>{const pe=O.toLowerCase(),ue=!pe||re.name.toLowerCase().includes(pe)||re.id.toLowerCase().includes(pe)||re.description.toLowerCase().includes(pe)||re.triggers.some(Te=>Te.toLowerCase().includes(pe)),Oe=C==="all"||re.category===C;return ue&&Oe});return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),a.jsxs("button",{onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>N(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>E("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),a.jsx("button",{onClick:()=>E("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),A==="skills"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((re,pe)=>re+pe.triggers.length,0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((re,pe)=>{var ue;return re+(((ue=pe.agentDetails)==null?void 0:ue.length)||0)},0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:O,onChange:re=>S(re.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>_("all"),className:`px-3 py-1 text-sm rounded-full ${C==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),de.map(re=>a.jsxs("button",{onClick:()=>_(re),className:`px-3 py-1 text-sm rounded-full capitalize ${C===re?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[re," (",e.filter(pe=>pe.category===re).length,")"]},re))]})]})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map(re=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:re.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",re.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:re.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:re.author_avatar,alt:re.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:re.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(re.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:re.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},re.number))})]})})]}),ie.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?a.jsx("button",{onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):a.jsx("button",{onClick:()=>{S(""),_("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ie.map(re=>a.jsx(A$,{skill:re,onEdit:F,onDelete:K},re.id))})]}),A==="performance"&&a.jsx("div",{children:X?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.length})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.reduce((re,pe)=>re+pe.totalExecutions,0).toLocaleString()})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:R.length>0?`${Math.round(R.reduce((re,pe)=>re+pe.successRate,0)/R.length*100)}%`:"N/A"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),a.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:I.length})]})]}),L.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:L.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:re.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:re.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${re.successRate>=.9?"text-green-600":re.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(re.successRate*100),"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[re.avgDurationMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[re.p95DurationMs,"ms"]})]},re.skillId))})]})})]}),I.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),a.jsx("div",{className:"space-y-3",children:I.map(re=>a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:re.skillId}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:re.successRate<.7?`Low success rate: ${Math.round(re.successRate*100)}%`:`High latency: ${re.avgDurationMs}ms avg`})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"text-gray-500",children:[re.totalExecutions," executions"]}),a.jsxs("div",{className:"text-gray-500",children:[re.failureCount," failures"]})]})]},re.skillId))})]}),R.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:re.skillId}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:re.totalExecutions}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:re.successCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:re.failureCount}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:a.jsxs("span",{className:`font-medium ${re.successRate>=.9?"text-green-600":re.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(re.successRate*100),"%"]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:re.avgDurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:re.p95DurationMs}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:re.lastExecutedAt?new Date(re.lastExecutedAt).toLocaleDateString():"Never"})]},re.skillId))})]})})]}),R.length===0&&!X&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),a.jsx(C$,{isOpen:p,onClose:()=>m(!1),onSuccess:Z,skill:x,availableAgents:r,availableTools:s})]})}function _$(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState("all"),[l,u]=k.useState(null),[d,f]=k.useState(!1),[p,m]=k.useState(0);k.useEffect(()=>{x()},[s]);const x=async()=>{n(!0);try{const N=new URLSearchParams;s!=="all"&&N.set("source",s);const C=await ce({url:`/api/conversations${N.toString()?`?${N.toString()}`:""}`,method:"GET"});t(C.conversations||[]),m(C.total||0)}catch(N){console.error("Failed to fetch conversations:",N)}finally{n(!1)}},v=async N=>{f(!0);try{const C=await ce({url:`/api/conversations/${N}`,method:"GET"});u(C.conversation)}catch(C){console.error("Failed to fetch conversation detail:",C)}finally{f(!1)}},b=N=>{switch(N){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},j=N=>{switch(N){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=N=>{const C=new Date(N),O=new Date().getTime()-C.getTime(),S=Math.floor(O/(1e3*60*60)),A=Math.floor(O/(1e3*60*60*24));return S<1?"Just now":S<24?`${S}h ago`:A<7?`${A}d ago`:C.toLocaleDateString()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),a.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(N=>a.jsx("button",{onClick:()=>o(N),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===N?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:N==="all"?"All Sources":N},N))}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),a.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(N=>a.jsx("div",{onClick:()=>v(N.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===N.id?"bg-indigo-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(N.source)}`,children:[b(N.source)," ",N.source||"unknown"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[N.messageCount," messages"]})]}),a.jsx("p",{className:"text-sm text-gray-900 truncate",children:N.preview||"No preview available"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:N.userName}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:y(N.lastUsedAt)})]})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},N.id))})})]}),l&&a.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[a.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(l.source)}`,children:[b(l.source)," ",l.source||"unknown"]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((N,C)=>a.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${N.role==="user"?"bg-indigo-600 text-white":N.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[N.role==="system"&&a.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),N.timestamp&&a.jsx("p",{className:`text-xs mt-1 ${N.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(N.timestamp).toLocaleTimeString()})]})},C)),l.history.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const H1={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},T$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function R$({result:e,onClick:t,onCopyLink:r}){const[n,s]=k.useState(!1),o=H1[e.source]||H1.notion,l=f=>{f.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),r==null||r(e.url),setTimeout(()=>s(!1),2e3)},u=f=>{f.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=f=>f?new Date(f).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${o.bg} ${o.color}`,children:o.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500",children:T$[e.source]}),e.lastModified&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:n?a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?a.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):a.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const M$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function I$(){const[e,t]=k.useState(""),[r,n]=k.useState(null),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState([]),[p,m]=k.useState(null),[x,v]=k.useState("");k.useEffect(()=>{const O=setTimeout(()=>{v(e)},300);return()=>clearTimeout(O)},[e]);const b=k.useCallback(async O=>{if(!O.trim()){n(null);return}o(!0),u(null);try{const S=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:O,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!S.ok)throw new Error("Search failed");const A=await S.json();n(A),A.results.length>0&&m(null)}catch(S){u(S instanceof Error?S.message:"Search failed")}finally{o(!1)}},[d]);k.useEffect(()=>{x&&b(x)},[x,b]);const j=async O=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:O.url,clickedSource:O.source})})}catch{}window.open(O.url,"_blank","noopener,noreferrer")},y=O=>{t(O)},N=async O=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:O})})}catch{}},C=O=>{f(S=>S.includes(O)?S.filter(A=>A!==O):[...S,O])},_=(r==null?void 0:r.sources.filter(O=>O.connected).map(O=>O.source))||[];return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),a.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:e,onChange:O=>t(O.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),_.length>0&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),_.map(O=>{var S;return a.jsxs("button",{onClick:()=>C(O),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(O)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[M$[O],r&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",((S=r.sources.find(A=>A.source===O))==null?void 0:S.count)||0,")"]})]},O)})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&a.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),a.jsx("button",{onClick:()=>N(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>N(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&a.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?a.jsx("div",{className:"space-y-3",children:r.results.map((O,S)=>a.jsx(R$,{result:O,onClick:j},`${O.source}-${O.id}-${S}`))}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),a.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((O,S)=>a.jsxs("button",{onClick:()=>y(O),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]},S))})]})]}),!r&&!s&&!e&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),a.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function $$(){const[e,t]=k.useState(null),[r,n]=k.useState(null),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(null);k.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,x,v]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),x.ok&&n(await x.json()),v.ok){const b=await v.json();o(b.topOrganizations||[])}f(null)}catch{f("Failed to load dashboard data")}finally{u(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),a.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(qu,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),a.jsx(qu,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),a.jsx(qu,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),a.jsx(qu,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),a.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),a.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),a.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},m))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsx(D$,{status:(r==null?void 0:r.status)||"healthy"})]}),a.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(m=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&a.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),a.jsx(L$,{status:m.status})]})]},m.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,x])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function qu({title:e,value:t,subtext:r,trend:n,trendLabel:s,icon:o,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:o}),n!==void 0&&a.jsxs("span",{className:`text-sm font-medium ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?"+":"",n,"%"]})]}),a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function D$({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:n,label:s}=t[e];return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${n}`,children:s})}function L$({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function F$(){const[e,t]=k.useState([]),[r,n]=k.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,o]=k.useState(!0),[l,u]=k.useState(null),[d,f]=k.useState(""),[p,m]=k.useState("all"),[x,v]=k.useState("all"),[b,j]=k.useState("createdAt"),[y,N]=k.useState("desc"),C=k.useCallback(async()=>{o(!0);try{const L=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:b,sortOrder:y});d&&L.append("search",d),p!=="all"&&L.append("status",p),x!=="all"&&L.append("plan",x);const T=await fetch(`/api/admin/organizations?${L}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch organizations");const I=await T.json();t(I.organizations||[]),n(G=>({...G,total:I.total||0,totalPages:Math.ceil((I.total||0)/G.pageSize)}))}catch(L){u(L instanceof Error?L.message:"Failed to load organizations")}finally{o(!1)}},[r.page,r.pageSize,d,p,x,b,y]);k.useEffect(()=>{C()},[C]);const _=L=>{b===L?N(y==="asc"?"desc":"asc"):(j(L),N("desc"))},O=async L=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${L}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");C()}catch(T){alert(T instanceof Error?T.message:"Failed to suspend organization")}},S=async L=>{try{if(!(await fetch(`/api/admin/organizations/${L}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");C()}catch(T){alert(T instanceof Error?T.message:"Failed to reactivate organization")}},A=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(L),E=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=L=>{switch(L.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx("button",{onClick:C,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:L=>{f(L.target.value),n(T=>({...T,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),a.jsxs("select",{value:p,onChange:L=>{m(L.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trial",children:"Trial"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"churned",children:"Churned"})]}),a.jsxs("select",{value:x,onChange:L=>{v(L.target.value),n(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("button",{onClick:C,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:a.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Organization",b==="name"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("userCount"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Users",b==="userCount"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("mrr"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["MRR",b==="mrr"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Created",b==="createdAt"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-500",children:L.slug})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${M(L.plan)}`,children:L.plan})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.userCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(L.mrr)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(L.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/admin/organizations/${L.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),L.status==="active"?a.jsx("button",{onClick:()=>O(L.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):L.status==="suspended"?a.jsx("button",{onClick:()=>S(L.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},L.id))})]})}),r.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function eo(e){return e.status===404||e.status===502}function pc({title:e,description:t,onRetry:r}){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("div",{className:"text-4xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),a.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),r&&a.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function XE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=XE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Fe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=XE(e))&&(n&&(n+=" "),n+=t);return n}var np,K1;function hr(){if(K1)return np;K1=1;var e=Array.isArray;return np=e,np}var ap,G1;function QE(){if(G1)return ap;G1=1;var e=typeof Iu=="object"&&Iu&&Iu.Object===Object&&Iu;return ap=e,ap}var sp,V1;function kn(){if(V1)return sp;V1=1;var e=QE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return sp=r,sp}var ip,Y1;function gc(){if(Y1)return ip;Y1=1;var e=kn(),t=e.Symbol;return ip=t,ip}var op,X1;function B$(){if(X1)return op;X1=1;var e=gc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function o(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=n.call(l);return f&&(u?l[s]=d:delete l[s]),p}return op=o,op}var lp,Q1;function q$(){if(Q1)return lp;Q1=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return lp=r,lp}var cp,J1;function Xn(){if(J1)return cp;J1=1;var e=gc(),t=B$(),r=q$(),n="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:n:o&&o in Object(u)?t(u):r(u)}return cp=l,cp}var up,Z1;function Qn(){if(Z1)return up;Z1=1;function e(t){return t!=null&&typeof t=="object"}return up=e,up}var dp,e2;function to(){if(e2)return dp;e2=1;var e=Xn(),t=Qn(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return dp=n,dp}var fp,t2;function rb(){if(t2)return fp;t2=1;var e=hr(),t=to(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return fp=s,fp}var hp,r2;function Ia(){if(r2)return hp;r2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return hp=e,hp}var mp,n2;function nb(){if(n2)return mp;n2=1;var e=Xn(),t=Ia(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==s||d==r||d==o}return mp=l,mp}var pp,a2;function z$(){if(a2)return pp;a2=1;var e=kn(),t=e["__core-js_shared__"];return pp=t,pp}var gp,s2;function U$(){if(s2)return gp;s2=1;var e=z$(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return gp=r,gp}var xp,i2;function JE(){if(i2)return xp;i2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return xp=r,xp}var yp,o2;function W$(){if(o2)return yp;o2=1;var e=nb(),t=U$(),r=Ia(),n=JE(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var v=e(x)?p:o;return v.test(n(x))}return yp=m,yp}var vp,l2;function H$(){if(l2)return vp;l2=1;function e(t,r){return t==null?void 0:t[r]}return vp=e,vp}var bp,c2;function As(){if(c2)return bp;c2=1;var e=W$(),t=H$();function r(n,s){var o=t(n,s);return e(o)?o:void 0}return bp=r,bp}var jp,u2;function vf(){if(u2)return jp;u2=1;var e=As(),t=e(Object,"create");return jp=t,jp}var wp,d2;function K$(){if(d2)return wp;d2=1;var e=vf();function t(){this.__data__=e?e(null):{},this.size=0}return wp=t,wp}var Np,f2;function G$(){if(f2)return Np;f2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Np=e,Np}var Sp,h2;function V$(){if(h2)return Sp;h2=1;var e=vf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return Sp=s,Sp}var kp,m2;function Y$(){if(m2)return kp;m2=1;var e=vf(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var o=this.__data__;return e?o[s]!==void 0:r.call(o,s)}return kp=n,kp}var Op,p2;function X$(){if(p2)return Op;p2=1;var e=vf(),t="__lodash_hash_undefined__";function r(n,s){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&s===void 0?t:s,this}return Op=r,Op}var Ap,g2;function Q$(){if(g2)return Ap;g2=1;var e=K$(),t=G$(),r=V$(),n=Y$(),s=X$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Ap=o,Ap}var Pp,x2;function J$(){if(x2)return Pp;x2=1;function e(){this.__data__=[],this.size=0}return Pp=e,Pp}var Cp,y2;function ab(){if(y2)return Cp;y2=1;function e(t,r){return t===r||t!==t&&r!==r}return Cp=e,Cp}var Ep,v2;function bf(){if(v2)return Ep;v2=1;var e=ab();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return Ep=t,Ep}var _p,b2;function Z$(){if(b2)return _p;b2=1;var e=bf(),t=Array.prototype,r=t.splice;function n(s){var o=this.__data__,l=e(o,s);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return _p=n,_p}var Tp,j2;function eD(){if(j2)return Tp;j2=1;var e=bf();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return Tp=t,Tp}var Rp,w2;function tD(){if(w2)return Rp;w2=1;var e=bf();function t(r){return e(this.__data__,r)>-1}return Rp=t,Rp}var Mp,N2;function rD(){if(N2)return Mp;N2=1;var e=bf();function t(r,n){var s=this.__data__,o=e(s,r);return o<0?(++this.size,s.push([r,n])):s[o][1]=n,this}return Mp=t,Mp}var Ip,S2;function jf(){if(S2)return Ip;S2=1;var e=J$(),t=Z$(),r=eD(),n=tD(),s=rD();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Ip=o,Ip}var $p,k2;function sb(){if(k2)return $p;k2=1;var e=As(),t=kn(),r=e(t,"Map");return $p=r,$p}var Dp,O2;function nD(){if(O2)return Dp;O2=1;var e=Q$(),t=jf(),r=sb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Dp=n,Dp}var Lp,A2;function aD(){if(A2)return Lp;A2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Lp=e,Lp}var Fp,P2;function wf(){if(P2)return Fp;P2=1;var e=aD();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Fp=t,Fp}var Bp,C2;function sD(){if(C2)return Bp;C2=1;var e=wf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Bp=t,Bp}var qp,E2;function iD(){if(E2)return qp;E2=1;var e=wf();function t(r){return e(this,r).get(r)}return qp=t,qp}var zp,_2;function oD(){if(_2)return zp;_2=1;var e=wf();function t(r){return e(this,r).has(r)}return zp=t,zp}var Up,T2;function lD(){if(T2)return Up;T2=1;var e=wf();function t(r,n){var s=e(this,r),o=s.size;return s.set(r,n),this.size+=s.size==o?0:1,this}return Up=t,Up}var Wp,R2;function ib(){if(R2)return Wp;R2=1;var e=nD(),t=sD(),r=iD(),n=oD(),s=lD();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Wp=o,Wp}var Hp,M2;function ZE(){if(M2)return Hp;M2=1;var e=ib(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var o=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,Hp=r,Hp}var Kp,I2;function cD(){if(I2)return Kp;I2=1;var e=ZE(),t=500;function r(n){var s=e(n,function(l){return o.size===t&&o.clear(),l}),o=s.cache;return s}return Kp=r,Kp}var Gp,$2;function uD(){if($2)return Gp;$2=1;var e=cD(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return Gp=n,Gp}var Vp,D2;function ob(){if(D2)return Vp;D2=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,o=Array(s);++n<s;)o[n]=r(t[n],n,t);return o}return Vp=e,Vp}var Yp,L2;function dD(){if(L2)return Yp;L2=1;var e=gc(),t=ob(),r=hr(),n=to(),s=e?e.prototype:void 0,o=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Yp=l,Yp}var Xp,F2;function e_(){if(F2)return Xp;F2=1;var e=dD();function t(r){return r==null?"":e(r)}return Xp=t,Xp}var Qp,B2;function t_(){if(B2)return Qp;B2=1;var e=hr(),t=rb(),r=uD(),n=e_();function s(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Qp=s,Qp}var Jp,q2;function Nf(){if(q2)return Jp;q2=1;var e=to();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Jp=t,Jp}var Zp,z2;function lb(){if(z2)return Zp;z2=1;var e=t_(),t=Nf();function r(n,s){s=e(s,n);for(var o=0,l=s.length;n!=null&&o<l;)n=n[t(s[o++])];return o&&o==l?n:void 0}return Zp=r,Zp}var eg,U2;function r_(){if(U2)return eg;U2=1;var e=lb();function t(r,n,s){var o=r==null?void 0:e(r,n);return o===void 0?s:o}return eg=t,eg}var fD=r_();const Nr=Xe(fD);var tg,W2;function hD(){if(W2)return tg;W2=1;function e(t){return t==null}return tg=e,tg}var mD=hD();const De=Xe(mD);var rg,H2;function pD(){if(H2)return rg;H2=1;var e=Xn(),t=hr(),r=Qn(),n="[object String]";function s(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return rg=s,rg}var gD=pD();const vs=Xe(gD);var xD=nb();const Ie=Xe(xD);var yD=Ia();const ro=Xe(yD);var ng={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function vD(){if(K2)return Ve;K2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case e:switch(y=y.type,y){case r:case s:case n:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case x:case m:case o:return y;default:return N}}case t:return N}}}return Ve.ContextConsumer=l,Ve.ContextProvider=o,Ve.Element=e,Ve.ForwardRef=d,Ve.Fragment=r,Ve.Lazy=x,Ve.Memo=m,Ve.Portal=t,Ve.Profiler=s,Ve.StrictMode=n,Ve.Suspense=f,Ve.SuspenseList=p,Ve.isAsyncMode=function(){return!1},Ve.isConcurrentMode=function(){return!1},Ve.isContextConsumer=function(y){return j(y)===l},Ve.isContextProvider=function(y){return j(y)===o},Ve.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ve.isForwardRef=function(y){return j(y)===d},Ve.isFragment=function(y){return j(y)===r},Ve.isLazy=function(y){return j(y)===x},Ve.isMemo=function(y){return j(y)===m},Ve.isPortal=function(y){return j(y)===t},Ve.isProfiler=function(y){return j(y)===s},Ve.isStrictMode=function(y){return j(y)===n},Ve.isSuspense=function(y){return j(y)===f},Ve.isSuspenseList=function(y){return j(y)===p},Ve.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===f||y===p||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===m||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},Ve.typeOf=j,Ve}var G2;function bD(){return G2||(G2=1,ng.exports=vD()),ng.exports}var jD=bD(),ag,V2;function n_(){if(V2)return ag;V2=1;var e=Xn(),t=Qn(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return ag=n,ag}var sg,Y2;function wD(){if(Y2)return sg;Y2=1;var e=n_();function t(r){return e(r)&&r!=+r}return sg=t,sg}var ND=wD();const xc=Xe(ND);var SD=n_();const kD=Xe(SD);var er=function(t){return t===0?0:t>0?1:-1},ss=function(t){return vs(t)&&t.indexOf("%")===t.length-1},xe=function(t){return kD(t)&&!xc(t)},OD=function(t){return De(t)},Ct=function(t){return xe(t)||vs(t)},AD=0,no=function(t){var r=++AD;return"".concat(t||"").concat(r)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!vs(t))return n;var o;if(ss(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return xc(o)&&(o=n),s&&o>r&&(o=r),o},ja=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},PD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},jr=function(t,r){return xe(t)&&xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function ld(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Nr(n,t))===r})}var CD=function(t,r){return xe(t)&&xe(r)?t-r:vs(t)&&vs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function hi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}var ED=["viewBox","children"],_D=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X2=["points","pathLength"],ig={svg:ED,polygon:X2,polyline:X2},cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!ro(n))return null;var s={};return Object.keys(n).forEach(function(o){cb.includes(o)&&(s[o]=r||function(l){return n[o](n,l)})}),s},TD=function(t,r,n){return function(s){return t(r,n,s),null}},bs=function(t,r,n){if(!ro(t)||jy(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(o){var l=t[o];cb.includes(o)&&typeof l=="function"&&(s||(s={}),s[o]=TD(l,r,n))}),s},RD=["children"],MD=["children"];function Q2(e,t){if(e==null)return{};var r=ID(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ID(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}var J2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Un=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Z2=null,og=null,ub=function e(t){if(t===Z2&&Array.isArray(og))return og;var r=[];return k.Children.forEach(t,function(n){De(n)||(jD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),og=r,Z2=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Un(s)}):n=[Un(t)],ub(e).forEach(function(s){var o=Nr(s,"type.displayName")||Nr(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}function br(e,t){var r=Sr(e,t);return r&&r[0]}var eS=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!xe(n)||n<=0||!xe(s)||s<=0)},$D=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DD=function(t){return t&&t.type&&vs(t.type)&&$D.indexOf(t.type)>=0},LD=function(t){return t&&wy(t)==="object"&&"clipDot"in t},FD=function(t,r,n,s){var o,l=(o=ig==null?void 0:ig[s])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ie(t)&&(s&&l.includes(r)||_D.includes(r))||n&&cb.includes(r)},Ce=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(k.isValidElement(t)&&(s=t.props),!ro(s))return null;var o={};return Object.keys(s).forEach(function(l){var u;FD((u=s)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=s[l])}),o},Ny=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return tS(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],l=r[s];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!tS(o,l))return!1}return!0},tS=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},s=n.children,o=Q2(n,RD),l=r.props||{},u=l.children,d=Q2(l,MD);return s&&u?hi(o,d)&&Ny(s,u):!s&&!u?hi(o,d):!1}return!1},rS=function(t,r){var n=[],s={};return ub(t).forEach(function(o,l){if(DD(o))n.push(o);else if(o){var u=Un(o.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!s[u])){var m=f(o,u,l);n.push(m),s[u]=!0}}}),n},BD=function(t){var r=t&&t.type;return r&&J2[r]?J2[r]:null},qD=function(t,r){return ub(r).indexOf(t)},zD=["children","width","height","viewBox","className","style","title","desc"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function UD(e,t){if(e==null)return{};var r=WD(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ky(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=UD(e,zD),p=s||{width:r,height:n,x:0,y:0},m=Fe("recharts-surface",o);return V.createElement("svg",Sy({},Ce(f,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var HD=["children","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function KD(e,t){if(e==null)return{};var r=GD(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=V.forwardRef(function(e,t){var r=e.children,n=e.className,s=KD(e,HD),o=Fe("recharts-layer",n);return V.createElement("g",Oy({className:o},Ce(s,!0),{ref:t}),r)}),rn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]},lg,nS;function VD(){if(nS)return lg;nS=1;function e(t,r,n){var s=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++s<o;)l[s]=t[s+r];return l}return lg=e,lg}var cg,aS;function YD(){if(aS)return cg;aS=1;var e=VD();function t(r,n,s){var o=r.length;return s=s===void 0?o:s,!n&&s>=o?r:e(r,n,s)}return cg=t,cg}var ug,sS;function a_(){if(sS)return ug;sS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+o+"]");function d(f){return u.test(f)}return ug=d,ug}var dg,iS;function XD(){if(iS)return dg;iS=1;function e(t){return t.split("")}return dg=e,dg}var fg,oS;function QD(){if(oS)return fg;oS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=f+"?",j="["+o+"]?",y="(?:"+v+"(?:"+[p,m,x].join("|")+")"+j+b+")*",N=j+b+y,C="(?:"+[p+u+"?",u,m,x,l].join("|")+")",_=RegExp(d+"(?="+d+")|"+C+N,"g");function O(S){return S.match(_)||[]}return fg=O,fg}var hg,lS;function JD(){if(lS)return hg;lS=1;var e=XD(),t=a_(),r=QD();function n(s){return t(s)?r(s):e(s)}return hg=n,hg}var mg,cS;function ZD(){if(cS)return mg;cS=1;var e=YD(),t=a_(),r=JD(),n=e_();function s(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return mg=s,mg}var pg,uS;function e8(){if(uS)return pg;uS=1;var e=ZD(),t=e("toUpperCase");return pg=t,pg}var t8=e8();const Sf=Xe(t8);function nt(e){return function(){return e}}const s_=Math.cos,ud=Math.sin,an=Math.sqrt,dd=Math.PI,kf=2*dd,Ay=Math.PI,Py=2*Ay,ts=1e-6,r8=Py-ts;function i_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function n8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i_;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class a8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i_:n8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=s-r,p=l-t,m=u-r,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>ts)if(!(Math.abs(m*d-f*p)>ts)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,b=s-u,j=d*d+f*f,y=v*v+b*b,N=Math.sqrt(j),C=Math.sqrt(x),_=o*Math.tan((Ay-Math.acos((j+x-y)/(2*N*C)))/2),O=_/C,S=_/N;Math.abs(O-1)>ts&&this._append`L${t+O*p},${r+O*m}`,this._append`A${o},${o},0,0,${+(m*v>p*b)},${this._x1=t+S*d},${this._y1=r+S*f}`}}arc(t,r,n,s,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(s),d=n*Math.sin(s),f=t+u,p=r+d,m=1^l,x=l?s-o:o-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ts||Math.abs(this._y1-p)>ts)&&this._append`L${f},${p}`,n&&(x<0&&(x=x%Py+Py),x>r8?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:x>ts&&this._append`A${n},${n},0,${+(x>=Ay)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function db(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new a8(t)}function fb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o_(e){this._context=e}o_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Of(e){return new o_(e)}function l_(e){return e[0]}function c_(e){return e[1]}function u_(e,t){var r=nt(!0),n=null,s=Of,o=null,l=db(u);e=typeof e=="function"?e:e===void 0?l_:nt(e),t=typeof t=="function"?t:t===void 0?c_:nt(t);function u(d){var f,p=(d=fb(d)).length,m,x=!1,v;for(n==null&&(o=s(v=l())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(m,f,d),+t(m,f,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,n!=null&&(o=s(n)),u):s},u.context=function(d){return arguments.length?(d==null?n=o=null:o=s(n=d),u):n},u}function zu(e,t,r){var n=null,s=nt(!0),o=null,l=Of,u=null,d=db(f);e=typeof e=="function"?e:e===void 0?l_:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c_:nt(+r);function f(m){var x,v,b,j=(m=fb(m)).length,y,N=!1,C,_=new Array(j),O=new Array(j);for(o==null&&(u=l(C=d())),x=0;x<=j;++x){if(!(x<j&&s(y=m[x],x,m))===N)if(N=!N)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=x-1;b>=v;--b)u.point(_[b],O[b]);u.lineEnd(),u.areaEnd()}N&&(_[x]=+e(y,x,m),O[x]=+t(y,x,m),u.point(n?+n(y,x,m):_[x],r?+r(y,x,m):O[x]))}if(C)return u=null,C+""||null}function p(){return u_().defined(s).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:nt(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class d_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s8(e){return new d_(e,!0)}function i8(e){return new d_(e,!1)}const hb={draw(e,t){const r=an(t/dd);e.moveTo(r,0),e.arc(0,0,r,0,kf)}},o8={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f_=an(1/3),l8=f_*2,c8={draw(e,t){const r=an(t/l8),n=r*f_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},u8={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},d8=.8908130915292852,h_=ud(dd/10)/ud(7*dd/10),f8=ud(kf/10)*h_,h8=-s_(kf/10)*h_,m8={draw(e,t){const r=an(t*d8),n=f8*r,s=h8*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const l=kf*o/5,u=s_(l),d=ud(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*s,d*n+u*s)}e.closePath()}},gg=an(3),p8={draw(e,t){const r=-an(t/(gg*3));e.moveTo(0,r*2),e.lineTo(-gg*r,-r),e.lineTo(gg*r,-r),e.closePath()}},_r=-.5,Tr=an(3)/2,Cy=1/an(12),g8=(Cy/2+1)*3,x8={draw(e,t){const r=an(t/g8),n=r/2,s=r*Cy,o=n,l=r*Cy+r,u=-o,d=l;e.moveTo(n,s),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(_r*n-Tr*s,Tr*n+_r*s),e.lineTo(_r*o-Tr*l,Tr*o+_r*l),e.lineTo(_r*u-Tr*d,Tr*u+_r*d),e.lineTo(_r*n+Tr*s,_r*s-Tr*n),e.lineTo(_r*o+Tr*l,_r*l-Tr*o),e.lineTo(_r*u+Tr*d,_r*d-Tr*u),e.closePath()}};function y8(e,t){let r=null,n=db(s);e=typeof e=="function"?e:nt(e||hb),t=typeof t=="function"?t:nt(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:nt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:nt(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function fd(){}function hd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function m_(e){this._context=e}m_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v8(e){return new m_(e)}function p_(e){this._context=e}p_.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b8(e){return new p_(e)}function g_(e){this._context=e}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j8(e){return new g_(e)}function x_(e){this._context=e}x_.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w8(e){return new x_(e)}function dS(e){return e<0?-1:1}function fS(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),u=(o*s+l*n)/(n+s);return(dS(o)+dS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function hS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,s+u*t,o-u,l-u*r,o,l)}function md(e){this._context=e}md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xg(this,this._t0,hS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xg(this,hS(this,r=fS(this,e,t)),r);break;default:xg(this,this._t0,r=fS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function y_(e){this._context=new v_(e)}(y_.prototype=Object.create(md.prototype)).point=function(e,t){md.prototype.point.call(this,t,e)};function v_(e){this._context=e}v_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function N8(e){return new md(e)}function S8(e){return new y_(e)}function b_(e){this._context=e}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mS(e),s=mS(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mS(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),l=new Array(r);for(s[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function k8(e){return new b_(e)}function Af(e,t){this._context=e,this._t=t}Af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function O8(e){return new Af(e,.5)}function A8(e){return new Af(e,0)}function P8(e){return new Af(e,1)}function ki(e,t){if((l=e.length)>1)for(var r=1,n,s,o=e[t[0]],l,u=o.length;r<l;++r)for(s=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ey(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C8(e,t){return e[t]}function E8(e){const t=[];return t.key=e,t}function _8(){var e=nt([]),t=Ey,r=ki,n=C8;function s(o){var l=Array.from(e.apply(this,arguments),E8),u,d=l.length,f=-1,p;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(m,l[u].key,f,o)]).data=m;for(u=0,p=fb(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:nt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:nt(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Ey:typeof o=="function"?o:nt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??ki,s):r},s}function T8(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,l;s<o;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}ki(e,t)}}function R8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}ki(e,t)}}function M8(e,t){if(!(!((l=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[n][1]||0,x=p[n-1][1]||0,v=(m-x)/2,b=0;b<u;++b){var j=e[t[b]],y=j[n][1]||0,N=j[n-1][1]||0;v+=y-N}d+=m,f+=v*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=f/d)}s[n-1][1]+=s[n-1][0]=r,ki(e,t)}}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}var I8=["type","size","sizeType"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){$8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $8(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=L8(e,"string");return Ol(t)=="symbol"?t:t+""}function L8(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F8(e,t){if(e==null)return{};var r=B8(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var j_={symbolCircle:hb,symbolCross:o8,symbolDiamond:c8,symbolSquare:u8,symbolStar:m8,symbolTriangle:p8,symbolWye:x8},q8=Math.PI/180,z8=function(t){var r="symbol".concat(Sf(t));return j_[r]||hb},U8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*q8;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},W8=function(t,r){j_["symbol".concat(Sf(t))]=r},mb=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,o=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=F8(t,I8),f=gS(gS({},d),{},{type:n,size:o,sizeType:u}),p=function(){var y=z8(n),N=y8().type(y).size(U8(o,u,n));return N()},m=f.className,x=f.cx,v=f.cy,b=Ce(f,!0);return x===+x&&v===+v&&o===+o?V.createElement("path",_y({},b,{className:Fe("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(v,")"),d:p()})):null};mb.registerSymbol=W8;function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N_(n.key),n)}}function V8(e,t,r){return t&&G8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y8(e,t,r){return t=pd(t),X8(e,w_()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function X8(e,t){if(t&&(Oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8(e)}function Q8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w_=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function J8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ry(e,t)}function Al(e,t,r){return t=N_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N_(e){var t=Z8(e,"string");return Oi(t)=="symbol"?t:t+""}function Z8(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rr=32,pb=(function(e){function t(){return K8(this,t),Y8(this,t,arguments)}return J8(t,e),V8(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=Rr/2,l=Rr/6,u=Rr/3,d=n.inactive?s:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Rr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var f=H8({},n);return delete f.legendIcon,V.cloneElement(n.legendIcon,f)}return V.createElement(mb,{fill:d,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,p={x:0,y:0,width:Rr,height:Rr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,b){var j=v.formatter||d,y=Fe(Al(Al({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var N=Ie(v.value)?null:v.value;rn(!Ie(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?f:v.color;return V.createElement("li",Ty({className:y,style:m,key:"legend-item-".concat(b)},bs(n.props,v,b)),V.createElement(ky,{width:l,height:l,viewBox:p,style:x},n.renderIcon(v)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},j?j(N,v,b):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,l=n.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(k.PureComponent);Al(pb,"displayName","Legend");Al(pb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yg,yS;function eL(){if(yS)return yg;yS=1;var e=jf();function t(){this.__data__=new e,this.size=0}return yg=t,yg}var vg,vS;function tL(){if(vS)return vg;vS=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return vg=e,vg}var bg,bS;function rL(){if(bS)return bg;bS=1;function e(t){return this.__data__.get(t)}return bg=e,bg}var jg,jS;function nL(){if(jS)return jg;jS=1;function e(t){return this.__data__.has(t)}return jg=e,jg}var wg,wS;function aL(){if(wS)return wg;wS=1;var e=jf(),t=sb(),r=ib(),n=200;function s(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return wg=s,wg}var Ng,NS;function S_(){if(NS)return Ng;NS=1;var e=jf(),t=eL(),r=tL(),n=rL(),s=nL(),o=aL();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=s,l.prototype.set=o,Ng=l,Ng}var Sg,SS;function sL(){if(SS)return Sg;SS=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Sg=t,Sg}var kg,kS;function iL(){if(kS)return kg;kS=1;function e(t){return this.__data__.has(t)}return kg=e,kg}var Og,OS;function k_(){if(OS)return Og;OS=1;var e=ib(),t=sL(),r=iL();function n(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new e;++o<l;)this.add(s[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Og=n,Og}var Ag,AS;function O_(){if(AS)return Ag;AS=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return Ag=e,Ag}var Pg,PS;function A_(){if(PS)return Pg;PS=1;function e(t,r){return t.has(r)}return Pg=e,Pg}var Cg,CS;function P_(){if(CS)return Cg;CS=1;var e=k_(),t=O_(),r=A_(),n=1,s=2;function o(l,u,d,f,p,m){var x=d&n,v=l.length,b=u.length;if(v!=b&&!(x&&b>v))return!1;var j=m.get(l),y=m.get(u);if(j&&y)return j==u&&y==l;var N=-1,C=!0,_=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++N<v;){var O=l[N],S=u[N];if(f)var A=x?f(S,O,N,u,l,m):f(O,S,N,l,u,m);if(A!==void 0){if(A)continue;C=!1;break}if(_){if(!t(u,function(E,R){if(!r(_,R)&&(O===E||p(O,E,d,f,m)))return _.push(R)})){C=!1;break}}else if(!(O===S||p(O,S,d,f,m))){C=!1;break}}return m.delete(l),m.delete(u),C}return Cg=o,Cg}var Eg,ES;function oL(){if(ES)return Eg;ES=1;var e=kn(),t=e.Uint8Array;return Eg=t,Eg}var _g,_S;function lL(){if(_S)return _g;_S=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,o){n[++r]=[o,s]}),n}return _g=e,_g}var Tg,TS;function gb(){if(TS)return Tg;TS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return Tg=e,Tg}var Rg,RS;function cL(){if(RS)return Rg;RS=1;var e=gc(),t=oL(),r=ab(),n=P_(),s=lL(),o=gb(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",x="[object Number]",v="[object RegExp]",b="[object Set]",j="[object String]",y="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",_=e?e.prototype:void 0,O=_?_.valueOf:void 0;function S(A,E,R,M,L,T,I){switch(R){case C:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case N:return!(A.byteLength!=E.byteLength||!T(new t(A),new t(E)));case d:case f:case x:return r(+A,+E);case p:return A.name==E.name&&A.message==E.message;case v:case j:return A==E+"";case m:var G=s;case b:var X=M&l;if(G||(G=o),A.size!=E.size&&!X)return!1;var U=I.get(A);if(U)return U==E;M|=u,I.set(A,E);var q=n(G(A),G(E),M,L,T,I);return I.delete(A),q;case y:if(O)return O.call(A)==O.call(E)}return!1}return Rg=S,Rg}var Mg,MS;function C_(){if(MS)return Mg;MS=1;function e(t,r){for(var n=-1,s=r.length,o=t.length;++n<s;)t[o+n]=r[n];return t}return Mg=e,Mg}var Ig,IS;function uL(){if(IS)return Ig;IS=1;var e=C_(),t=hr();function r(n,s,o){var l=s(n);return t(n)?l:e(l,o(n))}return Ig=r,Ig}var $g,$S;function dL(){if($S)return $g;$S=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,o=0,l=[];++n<s;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return $g=e,$g}var Dg,DS;function fL(){if(DS)return Dg;DS=1;function e(){return[]}return Dg=e,Dg}var Lg,LS;function hL(){if(LS)return Lg;LS=1;var e=dL(),t=fL(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return n.call(l,u)}))}:t;return Lg=o,Lg}var Fg,FS;function mL(){if(FS)return Fg;FS=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return Fg=e,Fg}var Bg,BS;function pL(){if(BS)return Bg;BS=1;var e=Xn(),t=Qn(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Bg=n,Bg}var qg,qS;function xb(){if(qS)return qg;qS=1;var e=pL(),t=Qn(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!s.call(l,"callee")};return qg=o,qg}var fl={exports:{}},zg,zS;function gL(){if(zS)return zg;zS=1;function e(){return!1}return zg=e,zg}fl.exports;var US;function E_(){return US||(US=1,(function(e,t){var r=kn(),n=gL(),s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(fl,fl.exports)),fl.exports}var Ug,WS;function yb(){if(WS)return Ug;WS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var o=typeof n;return s=s??e,!!s&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return Ug=r,Ug}var Wg,HS;function vb(){if(HS)return Wg;HS=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Wg=t,Wg}var Hg,KS;function xL(){if(KS)return Hg;KS=1;var e=Xn(),t=vb(),r=Qn(),n="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",x="[object RegExp]",v="[object Set]",b="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",T={};T[C]=T[_]=T[O]=T[S]=T[A]=T[E]=T[R]=T[M]=T[L]=!0,T[n]=T[s]=T[y]=T[o]=T[N]=T[l]=T[u]=T[d]=T[f]=T[p]=T[m]=T[x]=T[v]=T[b]=T[j]=!1;function I(G){return r(G)&&t(G.length)&&!!T[e(G)]}return Hg=I,Hg}var Kg,GS;function __(){if(GS)return Kg;GS=1;function e(t){return function(r){return t(r)}}return Kg=e,Kg}var hl={exports:{}};hl.exports;var VS;function yL(){return VS||(VS=1,(function(e,t){var r=QE(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,l=o&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(hl,hl.exports)),hl.exports}var Gg,YS;function T_(){if(YS)return Gg;YS=1;var e=xL(),t=__(),r=yL(),n=r&&r.isTypedArray,s=n?t(n):e;return Gg=s,Gg}var Vg,XS;function vL(){if(XS)return Vg;XS=1;var e=mL(),t=xb(),r=hr(),n=E_(),s=yb(),o=T_(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=r(f),x=!m&&t(f),v=!m&&!x&&n(f),b=!m&&!x&&!v&&o(f),j=m||x||v||b,y=j?e(f.length,String):[],N=y.length;for(var C in f)(p||u.call(f,C))&&!(j&&(C=="length"||v&&(C=="offset"||C=="parent")||b&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,N)))&&y.push(C);return y}return Vg=d,Vg}var Yg,QS;function bL(){if(QS)return Yg;QS=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Yg=t,Yg}var Xg,JS;function R_(){if(JS)return Xg;JS=1;function e(t,r){return function(n){return t(r(n))}}return Xg=e,Xg}var Qg,ZS;function jL(){if(ZS)return Qg;ZS=1;var e=R_(),t=e(Object.keys,Object);return Qg=t,Qg}var Jg,ek;function wL(){if(ek)return Jg;ek=1;var e=bL(),t=jL(),r=Object.prototype,n=r.hasOwnProperty;function s(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return Jg=s,Jg}var Zg,tk;function yc(){if(tk)return Zg;tk=1;var e=nb(),t=vb();function r(n){return n!=null&&t(n.length)&&!e(n)}return Zg=r,Zg}var ex,rk;function Pf(){if(rk)return ex;rk=1;var e=vL(),t=wL(),r=yc();function n(s){return r(s)?e(s):t(s)}return ex=n,ex}var tx,nk;function NL(){if(nk)return tx;nk=1;var e=uL(),t=hL(),r=Pf();function n(s){return e(s,r,t)}return tx=n,tx}var rx,ak;function SL(){if(ak)return rx;ak=1;var e=NL(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(o,l,u,d,f,p){var m=u&t,x=e(o),v=x.length,b=e(l),j=b.length;if(v!=j&&!m)return!1;for(var y=v;y--;){var N=x[y];if(!(m?N in l:n.call(l,N)))return!1}var C=p.get(o),_=p.get(l);if(C&&_)return C==l&&_==o;var O=!0;p.set(o,l),p.set(l,o);for(var S=m;++y<v;){N=x[y];var A=o[N],E=l[N];if(d)var R=m?d(E,A,N,l,o,p):d(A,E,N,o,l,p);if(!(R===void 0?A===E||f(A,E,u,d,p):R)){O=!1;break}S||(S=N=="constructor")}if(O&&!S){var M=o.constructor,L=l.constructor;M!=L&&"constructor"in o&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(O=!1)}return p.delete(o),p.delete(l),O}return rx=s,rx}var nx,sk;function kL(){if(sk)return nx;sk=1;var e=As(),t=kn(),r=e(t,"DataView");return nx=r,nx}var ax,ik;function OL(){if(ik)return ax;ik=1;var e=As(),t=kn(),r=e(t,"Promise");return ax=r,ax}var sx,ok;function M_(){if(ok)return sx;ok=1;var e=As(),t=kn(),r=e(t,"Set");return sx=r,sx}var ix,lk;function AL(){if(lk)return ix;lk=1;var e=As(),t=kn(),r=e(t,"WeakMap");return ix=r,ix}var ox,ck;function PL(){if(ck)return ox;ck=1;var e=kL(),t=sb(),r=OL(),n=M_(),s=AL(),o=Xn(),l=JE(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",x="[object DataView]",v=l(e),b=l(t),j=l(r),y=l(n),N=l(s),C=o;return(e&&C(new e(new ArrayBuffer(1)))!=x||t&&C(new t)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=p||s&&C(new s)!=m)&&(C=function(_){var O=o(_),S=O==d?_.constructor:void 0,A=S?l(S):"";if(A)switch(A){case v:return x;case b:return u;case j:return f;case y:return p;case N:return m}return O}),ox=C,ox}var lx,uk;function CL(){if(uk)return lx;uk=1;var e=S_(),t=P_(),r=cL(),n=SL(),s=PL(),o=hr(),l=E_(),u=T_(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function b(j,y,N,C,_,O){var S=o(j),A=o(y),E=S?p:s(j),R=A?p:s(y);E=E==f?m:E,R=R==f?m:R;var M=E==m,L=R==m,T=E==R;if(T&&l(j)){if(!l(y))return!1;S=!0,M=!1}if(T&&!M)return O||(O=new e),S||u(j)?t(j,y,N,C,_,O):r(j,y,E,N,C,_,O);if(!(N&d)){var I=M&&v.call(j,"__wrapped__"),G=L&&v.call(y,"__wrapped__");if(I||G){var X=I?j.value():j,U=G?y.value():y;return O||(O=new e),_(X,U,N,C,O)}}return T?(O||(O=new e),n(j,y,N,C,_,O)):!1}return lx=b,lx}var cx,dk;function bb(){if(dk)return cx;dk=1;var e=CL(),t=Qn();function r(n,s,o,l,u){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,o,l,r,u)}return cx=r,cx}var ux,fk;function EL(){if(fk)return ux;fk=1;var e=S_(),t=bb(),r=1,n=2;function s(o,l,u,d){var f=u.length,p=f,m=!d;if(o==null)return!p;for(o=Object(o);f--;){var x=u[f];if(m&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++f<p;){x=u[f];var v=x[0],b=o[v],j=x[1];if(m&&x[2]){if(b===void 0&&!(v in o))return!1}else{var y=new e;if(d)var N=d(b,j,v,o,l,y);if(!(N===void 0?t(j,b,r|n,d,y):N))return!1}}return!0}return ux=s,ux}var dx,hk;function I_(){if(hk)return dx;hk=1;var e=Ia();function t(r){return r===r&&!e(r)}return dx=t,dx}var fx,mk;function _L(){if(mk)return fx;mk=1;var e=I_(),t=Pf();function r(n){for(var s=t(n),o=s.length;o--;){var l=s[o],u=n[l];s[o]=[l,u,e(u)]}return s}return fx=r,fx}var hx,pk;function $_(){if(pk)return hx;pk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return hx=e,hx}var mx,gk;function TL(){if(gk)return mx;gk=1;var e=EL(),t=_L(),r=$_();function n(s){var o=t(s);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===s||e(l,s,o)}}return mx=n,mx}var px,xk;function RL(){if(xk)return px;xk=1;function e(t,r){return t!=null&&r in Object(t)}return px=e,px}var gx,yk;function ML(){if(yk)return gx;yk=1;var e=t_(),t=xb(),r=hr(),n=yb(),s=vb(),o=Nf();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,x=!1;++p<m;){var v=o(d[p]);if(!(x=u!=null&&f(u,v)))break;u=u[v]}return x||++p!=m?x:(m=u==null?0:u.length,!!m&&s(m)&&n(v,m)&&(r(u)||t(u)))}return gx=l,gx}var xx,vk;function IL(){if(vk)return xx;vk=1;var e=RL(),t=ML();function r(n,s){return n!=null&&t(n,s,e)}return xx=r,xx}var yx,bk;function $L(){if(bk)return yx;bk=1;var e=bb(),t=r_(),r=IL(),n=rb(),s=I_(),o=$_(),l=Nf(),u=1,d=2;function f(p,m){return n(p)&&s(m)?o(l(p),m):function(x){var v=t(x,p);return v===void 0&&v===m?r(x,p):e(m,v,u|d)}}return yx=f,yx}var vx,jk;function ao(){if(jk)return vx;jk=1;function e(t){return t}return vx=e,vx}var bx,wk;function DL(){if(wk)return bx;wk=1;function e(t){return function(r){return r==null?void 0:r[t]}}return bx=e,bx}var jx,Nk;function LL(){if(Nk)return jx;Nk=1;var e=lb();function t(r){return function(n){return e(n,r)}}return jx=t,jx}var wx,Sk;function FL(){if(Sk)return wx;Sk=1;var e=DL(),t=LL(),r=rb(),n=Nf();function s(o){return r(o)?e(n(o)):t(o)}return wx=s,wx}var Nx,kk;function On(){if(kk)return Nx;kk=1;var e=TL(),t=$L(),r=ao(),n=hr(),s=FL();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):s(l)}return Nx=o,Nx}var Sx,Ok;function D_(){if(Ok)return Sx;Ok=1;function e(t,r,n,s){for(var o=t.length,l=n+(s?1:-1);s?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return Sx=e,Sx}var kx,Ak;function BL(){if(Ak)return kx;Ak=1;function e(t){return t!==t}return kx=e,kx}var Ox,Pk;function qL(){if(Pk)return Ox;Pk=1;function e(t,r,n){for(var s=n-1,o=t.length;++s<o;)if(t[s]===r)return s;return-1}return Ox=e,Ox}var Ax,Ck;function zL(){if(Ck)return Ax;Ck=1;var e=D_(),t=BL(),r=qL();function n(s,o,l){return o===o?r(s,o,l):e(s,t,l)}return Ax=n,Ax}var Px,Ek;function UL(){if(Ek)return Px;Ek=1;var e=zL();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return Px=t,Px}var Cx,_k;function WL(){if(_k)return Cx;_k=1;function e(t,r,n){for(var s=-1,o=t==null?0:t.length;++s<o;)if(n(r,t[s]))return!0;return!1}return Cx=e,Cx}var Ex,Tk;function HL(){if(Tk)return Ex;Tk=1;function e(){}return Ex=e,Ex}var _x,Rk;function KL(){if(Rk)return _x;Rk=1;var e=M_(),t=HL(),r=gb(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return _x=s,_x}var Tx,Mk;function GL(){if(Mk)return Tx;Mk=1;var e=k_(),t=UL(),r=WL(),n=A_(),s=KL(),o=gb(),l=200;function u(d,f,p){var m=-1,x=t,v=d.length,b=!0,j=[],y=j;if(p)b=!1,x=r;else if(v>=l){var N=f?null:s(d);if(N)return o(N);b=!1,x=n,y=new e}else y=f?[]:j;e:for(;++m<v;){var C=d[m],_=f?f(C):C;if(C=p||C!==0?C:0,b&&_===_){for(var O=y.length;O--;)if(y[O]===_)continue e;f&&y.push(_),j.push(C)}else x(y,_,p)||(y!==j&&y.push(_),j.push(C))}return j}return Tx=u,Tx}var Rx,Ik;function VL(){if(Ik)return Rx;Ik=1;var e=On(),t=GL();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return Rx=r,Rx}var YL=VL();const $k=Xe(YL);function L_(e,t,r){return t===!0?$k(e,r):Ie(t)?$k(e,t):e}function Ai(e){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(e)}var XL=["ref"];function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){Cf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B_(n.key),n)}}function JL(e,t,r){return t&&Lk(e.prototype,t),r&&Lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZL(e,t,r){return t=gd(t),eF(e,F_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function eF(e,t){if(t&&(Ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tF(e)}function tF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function rF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},My(e,t)}function Cf(e,t,r){return t=B_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=nF(e,"string");return Ai(t)=="symbol"?t:t+""}function nF(e,t){if(Ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aF(e,t){if(e==null)return{};var r=sF(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iF(e){return e.value}function oF(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=aF(t,XL);return V.createElement(pb,r)}var Fk=1,_a=(function(e){function t(){var r;QL(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=ZL(this,t,[].concat(s)),Cf(r,"lastBoundingBox",{width:-1,height:-1}),r}return rF(t,e),JL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Fk||Math.abs(s.height-this.lastBoundingBox.height)>Fk)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?In({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,p=s.chartHeight,m,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var b=this.getBBoxSnapshot();x={top:((p||0)-b.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return In(In({},m),x)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,p=s.payload,m=In(In({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},oF(o,In(In({},this.props),{},{payload:L_(p,f,iF)})))}}],[{key:"getWithHeight",value:function(n,s){var o=In(In({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&xe(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||s}:null}}])})(k.PureComponent);Cf(_a,"displayName","Legend");Cf(_a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Mx,Bk;function lF(){if(Bk)return Mx;Bk=1;var e=gc(),t=xb(),r=hr(),n=e?e.isConcatSpreadable:void 0;function s(o){return r(o)||t(o)||!!(n&&o&&o[n])}return Mx=s,Mx}var Ix,qk;function q_(){if(qk)return Ix;qk=1;var e=C_(),t=lF();function r(n,s,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var p=n[d];s>0&&o(p)?s>1?r(p,s-1,o,l,u):e(u,p):l||(u[u.length]=p)}return u}return Ix=r,Ix}var $x,zk;function cF(){if(zk)return $x;zk=1;function e(t){return function(r,n,s){for(var o=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return $x=e,$x}var Dx,Uk;function uF(){if(Uk)return Dx;Uk=1;var e=cF(),t=e();return Dx=t,Dx}var Lx,Wk;function z_(){if(Wk)return Lx;Wk=1;var e=uF(),t=Pf();function r(n,s){return n&&e(n,s,t)}return Lx=r,Lx}var Fx,Hk;function dF(){if(Hk)return Fx;Hk=1;var e=yc();function t(r,n){return function(s,o){if(s==null)return s;if(!e(s))return r(s,o);for(var l=s.length,u=n?l:-1,d=Object(s);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return s}}return Fx=t,Fx}var Bx,Kk;function jb(){if(Kk)return Bx;Kk=1;var e=z_(),t=dF(),r=t(e);return Bx=r,Bx}var qx,Gk;function U_(){if(Gk)return qx;Gk=1;var e=jb(),t=yc();function r(n,s){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=s(u,d,f)}),l}return qx=r,qx}var zx,Vk;function fF(){if(Vk)return zx;Vk=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return zx=e,zx}var Ux,Yk;function hF(){if(Yk)return Ux;Yk=1;var e=to();function t(r,n){if(r!==n){var s=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,p=n===n,m=e(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||o&&d&&p||!s&&p||!l)return 1;if(!o&&!u&&!m&&r<n||m&&s&&l&&!o&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return Ux=t,Ux}var Wx,Xk;function mF(){if(Xk)return Wx;Xk=1;var e=hF();function t(r,n,s){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=s.length;++o<d;){var p=e(l[o],u[o]);if(p){if(o>=f)return p;var m=s[o];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Wx=t,Wx}var Hx,Qk;function pF(){if(Qk)return Hx;Qk=1;var e=ob(),t=lb(),r=On(),n=U_(),s=fF(),o=__(),l=mF(),u=ao(),d=hr();function f(p,m,x){m.length?m=e(m,function(j){return d(j)?function(y){return t(y,j.length===1?j[0]:j)}:j}):m=[u];var v=-1;m=e(m,o(r));var b=n(p,function(j,y,N){var C=e(m,function(_){return _(j)});return{criteria:C,index:++v,value:j}});return s(b,function(j,y){return l(j,y,x)})}return Hx=f,Hx}var Kx,Jk;function gF(){if(Jk)return Kx;Jk=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Kx=e,Kx}var Gx,Zk;function xF(){if(Zk)return Gx;Zk=1;var e=gF(),t=Math.max;function r(n,s,o){return s=t(s===void 0?n.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=o(f),e(n,this,p)}}return Gx=r,Gx}var Vx,eO;function yF(){if(eO)return Vx;eO=1;function e(t){return function(){return t}}return Vx=e,Vx}var Yx,tO;function W_(){if(tO)return Yx;tO=1;var e=As(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Yx=t,Yx}var Xx,rO;function vF(){if(rO)return Xx;rO=1;var e=yF(),t=W_(),r=ao(),n=t?function(s,o){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Xx=n,Xx}var Qx,nO;function bF(){if(nO)return Qx;nO=1;var e=800,t=16,r=Date.now;function n(s){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return Qx=n,Qx}var Jx,aO;function jF(){if(aO)return Jx;aO=1;var e=vF(),t=bF(),r=t(e);return Jx=r,Jx}var Zx,sO;function wF(){if(sO)return Zx;sO=1;var e=ao(),t=xF(),r=jF();function n(s,o){return r(t(s,o,e),s+"")}return Zx=n,Zx}var e0,iO;function Ef(){if(iO)return e0;iO=1;var e=ab(),t=yc(),r=yb(),n=Ia();function s(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return e0=s,e0}var t0,oO;function NF(){if(oO)return t0;oO=1;var e=q_(),t=pF(),r=wF(),n=Ef(),s=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return t0=s,t0}var SF=NF();const wb=Xe(SF);function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function kF(e,t){return CF(e)||PF(e,t)||AF(e,t)||OF()}function OF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(e,t){if(e){if(typeof e=="string")return lO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(e,t)}}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function CF(e){if(Array.isArray(e))return e}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){EF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EF(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=TF(e,"string");return Pl(t)=="symbol"?t:t+""}function TF(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RF(e){return Array.isArray(e)&&Ct(e[0])&&Ct(e[1])?e.join(" ~ "):e}var MF=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,o=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,x=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,j=t.label,y=t.labelFormatter,N=t.accessibilityLayer,C=N===void 0?!1:N,_=function(){if(p&&p.length){var I={padding:0,margin:0},G=(x?wb(p,x):p).map(function(X,U){if(X.type==="none")return null;var q=r0({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},u),D=X.formatter||m||RF,W=X.value,Y=X.name,z=W,B=Y;if(D&&z!=null&&B!=null){var F=D(W,Y,X,U,p);if(Array.isArray(F)){var K=kF(F,2);z=K[0],B=K[1]}else z=F}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:q},Ct(B)?V.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ct(B)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},z),V.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},G)}return null},O=r0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=r0({margin:0},f),A=!De(j),E=A?j:"",R=Fe("recharts-default-tooltip",v),M=Fe("recharts-tooltip-label",b);A&&y&&p!==void 0&&p!==null&&(E=y(j,p));var L=C?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Iy({className:R,style:O},L),V.createElement("p",{className:M,style:S},V.isValidElement(E)?E:"".concat(E)),_())};function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Uu(e,t,r){return t=IF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=$F(e,"string");return Cl(t)=="symbol"?t:t+""}function $F(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tl="recharts-tooltip-wrapper",DF={visibility:"hidden"};function LF(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Fe(tl,Uu(Uu(Uu(Uu({},"".concat(tl,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(tl,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(tl,"-bottom"),xe(n)&&t&&xe(t.y)&&n>=t.y),"".concat(tl,"-top"),xe(n)&&t&&xe(t.y)&&n<t.y))}function uO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&xe(o[n]))return o[n];var p=r[n]-u-s,m=r[n]+s;if(t[n])return l[n]?p:m;if(l[n]){var x=p,v=d[n];return x<v?Math.max(m,d[n]):Math.max(p,d[n])}var b=m+u,j=d[n]+f;return b>j?Math.max(p,d[n]):Math.max(m,d[n])}function FF(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function BF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=uO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=uO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=FF({translateX:p,translateY:m,useTranslate3d:u})):f=DF,{cssProperties:f,cssClasses:LF({translateX:p,translateY:m,coordinate:r})}}function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){Dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function UF(e,t,r){return t&&zF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WF(e,t,r){return t=xd(t),HF(e,H_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function HF(e,t){if(t&&(Pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KF(e)}function KF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function GF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$y(e,t)}function Dy(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=VF(e,"string");return Pi(t)=="symbol"?t:t+""}function VF(e,t){if(Pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hO=1,YF=(function(e){function t(){var r;qF(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=WF(this,t,[].concat(s)),Dy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dy(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return GF(t,e),UF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>hO||Math.abs(n.height-this.state.lastBoundingBox.height)>hO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,p=s.coordinate,m=s.hasPayload,x=s.isAnimationActive,v=s.offset,b=s.position,j=s.reverseDirection,y=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,_=BF({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:b,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),O=_.cssClasses,S=_.cssProperties,A=fO(fO({transition:x&&o?"transform ".concat(u,"ms ").concat(d):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return V.createElement("div",{tabIndex:-1,className:O,style:A,ref:function(R){n.wrapperNode=R}},f)}}])})(k.PureComponent),XF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ps={isSsr:XF()};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V_(n.key),n)}}function ZF(e,t,r){return t&&JF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e7(e,t,r){return t=yd(t),t7(e,G_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function t7(e,t){if(t&&(Ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7(e)}function r7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function n7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ly(e,t)}function Nb(e,t,r){return t=V_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V_(e){var t=a7(e,"string");return Ci(t)=="symbol"?t:t+""}function a7(e,t){if(Ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s7(e){return e.dataKey}function i7(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(MF,t)}var Ir=(function(e){function t(){return QF(this,t),e7(this,t,arguments)}return n7(t,e),ZF(t,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,p=s.coordinate,m=s.filterNull,x=s.isAnimationActive,v=s.offset,b=s.payload,j=s.payloadUniqBy,y=s.position,N=s.reverseDirection,C=s.useTranslate3d,_=s.viewBox,O=s.wrapperStyle,S=b??[];m&&S.length&&(S=L_(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),j,s7));var A=S.length>0;return V.createElement(YF,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:o,coordinate:p,hasPayload:A,offset:v,position:y,reverseDirection:N,useTranslate3d:C,viewBox:_,wrapperStyle:O},i7(f,pO(pO({},this.props),{},{payload:S})))}}])})(k.PureComponent);Nb(Ir,"displayName","Tooltip");Nb(Ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ps.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var n0,gO;function o7(){if(gO)return n0;gO=1;var e=kn(),t=function(){return e.Date.now()};return n0=t,n0}var a0,xO;function l7(){if(xO)return a0;xO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return a0=t,a0}var s0,yO;function c7(){if(yO)return s0;yO=1;var e=l7(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return s0=r,s0}var i0,vO;function Y_(){if(vO)return i0;vO=1;var e=c7(),t=Ia(),r=to(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?n:+f}return i0=d,i0}var o0,bO;function u7(){if(bO)return o0;bO=1;var e=Ia(),t=o7(),r=Y_(),n="Expected a function",s=Math.max,o=Math.min;function l(u,d,f){var p,m,x,v,b,j,y=0,N=!1,C=!1,_=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(N=!!f.leading,C="maxWait"in f,x=C?s(r(f.maxWait)||0,d):x,_="trailing"in f?!!f.trailing:_);function O(G){var X=p,U=m;return p=m=void 0,y=G,v=u.apply(U,X),v}function S(G){return y=G,b=setTimeout(R,d),N?O(G):v}function A(G){var X=G-j,U=G-y,q=d-X;return C?o(q,x-U):q}function E(G){var X=G-j,U=G-y;return j===void 0||X>=d||X<0||C&&U>=x}function R(){var G=t();if(E(G))return M(G);b=setTimeout(R,A(G))}function M(G){return b=void 0,_&&p?O(G):(p=m=void 0,v)}function L(){b!==void 0&&clearTimeout(b),y=0,p=j=m=b=void 0}function T(){return b===void 0?v:M(t())}function I(){var G=t(),X=E(G);if(p=arguments,m=this,j=G,X){if(b===void 0)return S(j);if(C)return clearTimeout(b),b=setTimeout(R,d),O(j)}return b===void 0&&(b=setTimeout(R,d)),v}return I.cancel=L,I.flush=T,I}return o0=l,o0}var l0,jO;function d7(){if(jO)return l0;jO=1;var e=u7(),t=Ia(),r="Expected a function";function n(s,o,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,o,{leading:u,maxWait:o,trailing:d})}return l0=n,l0}var f7=d7();const X_=Xe(f7);function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){h7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7(e,t,r){return t=m7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m7(e){var t=p7(e,"string");return El(t)=="symbol"?t:t+""}function p7(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g7(e,t){return b7(e)||v7(e,t)||y7(e,t)||x7()}function x7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function b7(e){if(Array.isArray(e))return e}var Sb=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,x=e.maxHeight,v=e.children,b=e.debounce,j=b===void 0?0:b,y=e.id,N=e.className,C=e.onResize,_=e.style,O=_===void 0?{}:_,S=k.useRef(null),A=k.useRef();A.current=C,k.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=k.useState({containerWidth:s.width,containerHeight:s.height}),R=g7(E,2),M=R[0],L=R[1],T=k.useCallback(function(G,X){L(function(U){var q=Math.round(G),D=Math.round(X);return U.containerWidth===q&&U.containerHeight===D?U:{containerWidth:q,containerHeight:D}})},[]);k.useEffect(function(){var G=function(Y){var z,B=Y[0].contentRect,F=B.width,K=B.height;T(F,K),(z=A.current)===null||z===void 0||z.call(A,F,K)};j>0&&(G=X_(G,j,{trailing:!0,leading:!1}));var X=new ResizeObserver(G),U=S.current.getBoundingClientRect(),q=U.width,D=U.height;return T(q,D),X.observe(S.current),function(){X.disconnect()}},[T,j]);var I=k.useMemo(function(){var G=M.containerWidth,X=M.containerHeight;if(G<0||X<0)return null;rn(ss(l)||ss(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=ss(l)?G:l,q=ss(d)?X:d;r&&r>0&&(U?q=U/r:q&&(U=q*r),x&&q>x&&(q=x)),rn(U>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,q,l,d,p,m,r);var D=!Array.isArray(v)&&Un(v.type).endsWith("Chart");return V.Children.map(v,function(W){return V.isValidElement(W)?k.cloneElement(W,Wu({width:U,height:q},D?{style:Wu({height:"100%",width:"100%",maxHeight:q,maxWidth:U},W.props.style)}:{})):W})},[r,v,d,x,m,p,M,l]);return V.createElement("div",{id:y?"".concat(y):void 0,className:Fe("recharts-responsive-container",N),style:Wu(Wu({},O),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:x}),ref:S},I)}),_f=function(t){return null};_f.displayName="Cell";function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return t=w7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=N7(e,"string");return _l(t)=="symbol"?t:t+""}function N7(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni={widthCache:{},cacheCount:0},S7=2e3,k7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kO="recharts_measurement_span";function O7(e){var t=Fy({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ps.isSsr)return{width:0,height:0};var n=O7(r),s=JSON.stringify({text:t,copyStyle:n});if(ni.widthCache[s])return ni.widthCache[s];try{var o=document.getElementById(kO);o||(o=document.createElement("span"),o.setAttribute("id",kO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=Fy(Fy({},k7),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return ni.widthCache[s]=d,++ni.cacheCount>S7&&(ni.cacheCount=0,ni.widthCache={}),d}catch{return{width:0,height:0}}},A7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function vd(e,t){return _7(e)||E7(e,t)||C7(e,t)||P7()}function P7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function _7(e){if(Array.isArray(e))return e}function T7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function R7(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M7(e){var t=I7(e,"string");return Tl(t)=="symbol"?t:t+""}function I7(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},L7=Object.keys(Q_),li="NaN";function F7(e,t){return e*Q_[t]}var Hu=(function(){function e(t,r){T7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$7.test(r)&&(this.num=NaN,this.unit=""),L7.includes(r)&&(this.num=F7(t,r),this.unit="px")}return R7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=D7.exec(r))!==null&&n!==void 0?n:[],o=vd(s,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function J_(e){if(e.includes(li))return li;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=PO.exec(t))!==null&&r!==void 0?r:[],s=vd(n,4),o=s[1],l=s[2],u=s[3],d=Hu.parse(o??""),f=Hu.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return li;t=t.replace(PO,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=CO.exec(t))!==null&&m!==void 0?m:[],v=vd(x,4),b=v[1],j=v[2],y=v[3],N=Hu.parse(b??""),C=Hu.parse(y??""),_=j==="+"?N.add(C):N.subtract(C);if(_.isNaN())return li;t=t.replace(CO,_.toString())}return t}var EO=/\(([^()]*)\)/;function B7(e){for(var t=e;t.includes("(");){var r=EO.exec(t),n=vd(r,2),s=n[1];t=t.replace(EO,J_(s))}return t}function q7(e){var t=e.replace(/\s+/g,"");return t=B7(t),t=J_(t),t}function z7(e){try{return q7(e)}catch{return li}}function c0(e){var t=z7(e.slice(5,-1));return t===li?"":t}var U7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],W7=["dx","dy","angle","className","breakAll"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function _O(e,t){if(e==null)return{};var r=H7(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TO(e,t){return Y7(e)||V7(e,t)||G7(e,t)||K7()}function K7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7(e,t){if(e){if(typeof e=="string")return RO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(e,t)}}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Y7(e){if(Array.isArray(e))return e}var Z_=/[ \f\n\r\t\v\u2028\u2029]+/,e5=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(Z_));var l=o.map(function(d){return{word:d,width:pl(d,s).width}}),u=n?0:pl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},X7=function(t,r,n,s,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=xe(l),m=u,x=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(q,D){var W=D.word,Y=D.width,z=q[q.length-1];if(z&&(s==null||o||z.width+Y+n<Number(s)))z.words.push(W),z.width+=Y+n;else{var B={words:[W],width:Y};q.push(B)}return q},[])},v=x(r),b=function(U){return U.reduce(function(q,D){return q.width>D.width?q:D})};if(!p)return v;for(var j="",y=function(U){var q=m.slice(0,U),D=e5({breakAll:f,style:d,children:q+j}).wordsWithComputedWidth,W=x(D),Y=W.length>l||b(W).width>Number(s);return[Y,W]},N=0,C=m.length-1,_=0,O;N<=C&&_<=m.length-1;){var S=Math.floor((N+C)/2),A=S-1,E=y(A),R=TO(E,2),M=R[0],L=R[1],T=y(S),I=TO(T,1),G=I[0];if(!M&&!G&&(N=S+1),M&&G&&(C=S-1),!M&&G){O=L;break}_++}return O||v},MO=function(t){var r=De(t)?[]:t.toString().split(Z_);return[{words:r}]},Q7=function(t){var r=t.width,n=t.scaleToFit,s=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Ps.isSsr){var d,f,p=e5({breakAll:l,children:s,style:o});if(p){var m=p.wordsWithComputedWidth,x=p.spaceWidth;d=m,f=x}else return MO(s);return X7({breakAll:l,children:s,maxLines:u,style:o},d,f,r,n)}return MO(s)},IO="#808080",js=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,x=t.textAnchor,v=x===void 0?"start":x,b=t.verticalAnchor,j=b===void 0?"end":b,y=t.fill,N=y===void 0?IO:y,C=_O(t,U7),_=k.useMemo(function(){return Q7({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),O=C.dx,S=C.dy,A=C.angle,E=C.className,R=C.breakAll,M=_O(C,W7);if(!Ct(n)||!Ct(o))return null;var L=n+(xe(O)?O:0),T=o+(xe(S)?S:0),I;switch(j){case"start":I=c0("calc(".concat(f,")"));break;case"middle":I=c0("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:I=c0("calc(".concat(_.length-1," * -").concat(u,")"));break}var G=[];if(m){var X=_[0].width,U=C.width;G.push("scale(".concat((xe(U)?U/X:1)/X,")"))}return A&&G.push("rotate(".concat(A,", ").concat(L,", ").concat(T,")")),G.length&&(M.transform=G.join(" ")),V.createElement("text",By({},Ce(M,!0),{x:L,y:T,className:Fe("recharts-text",E),textAnchor:v,fill:N.includes("url")?IO:N}),_.map(function(q,D){var W=q.words.join(R?"":" ");return V.createElement("tspan",{x:L,dy:D===0?I:u,key:"".concat(W,"-").concat(D)},W)}))};function Ta(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kb(e){let t,r,n;e.length!==2?(t=Ta,r=(u,d)=>Ta(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ta||e===J7?e:Z7,r=e,n=e);function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,d,f=0,p=u.length){const m=s(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:s,center:l,right:o}}function Z7(){return 0}function t5(e){return e===null?NaN:+e}function*e9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const t9=kb(Ta),vc=t9.right;kb(t5).center;class $O extends Map{constructor(t,r=a9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(DO(this,t))}has(t){return super.has(DO(this,t))}set(t,r){return super.set(r9(this,t),r)}delete(t){return super.delete(n9(this,t))}}function DO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function r9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function n9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function a9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s9(e=Ta){if(e===Ta)return r5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i9=Math.sqrt(50),o9=Math.sqrt(10),l9=Math.sqrt(2);function bd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),l=o>=i9?10:o>=o9?5:o>=l9?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?bd(e,t,r*2):[u,d,f]}function qy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,l]=n?bd(t,e,r):bd(e,t,r);if(!(o>=s))return[];const u=o-s+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function zy(e,t,r){return t=+t,e=+e,r=+r,bd(e,t,r)[2]}function Uy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?zy(t,e,r):zy(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function LO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n5(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?r5:s9(s);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*m/d+x)),b=Math.min(n,Math.floor(t+(d-f)*m/d+x));n5(e,t,v,b,s)}const o=e[t];let l=r,u=n;for(rl(e,r,t),s(e[n],o)>0&&rl(e,r,n);l<u;){for(rl(e,l,u),++l,--u;s(e[l],o)<0;)++l;for(;s(e[u],o)>0;)--u}s(e[r],o)===0?rl(e,r,u):(++u,rl(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function rl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function c9(e,t,r){if(e=Float64Array.from(e9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FO(e);if(t>=1)return LO(e);var n,s=(n-1)*t,o=Math.floor(s),l=LO(n5(e,o).subarray(0,o+1)),u=FO(e.subarray(o+1));return l+(u-l)*(s-o)}}function u9(e,t,r=t5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(s-o)}}function d9(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wy=Symbol("implicit");function Ob(){var e=new $O,t=[],r=[],n=Wy;function s(o){let l=e.get(o);if(l===void 0){if(n!==Wy)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new $O;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Ob(t,r).unknown(n)},Fr.apply(s,arguments),s}function Rl(){var e=Ob().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var x=t().length,v=s<n,b=v?s:n,j=v?n:s;o=(j-b)/Math.max(1,x-d+f*2),u&&(o=Math.floor(o)),b+=(j-b-o*(x-d))*p,l=o*(1-d),u&&(b=Math.round(b),l=Math.round(l));var y=d9(x).map(function(N){return b+o*N});return r(v?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),m()):p},e.copy=function(){return Rl(t(),[n,s]).round(u).paddingInner(d).paddingOuter(f).align(p)},Fr.apply(m(),arguments)}function a5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a5(t())},e}function gl(){return a5(Rl.apply(null,arguments).paddingInner(1))}function Ab(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function bc(){}var Ml=.7,jd=1/Ml,mi="\\s*([+-]?\\d+)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f9=/^#([0-9a-f]{3,8})$/,h9=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),m9=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),p9=new RegExp(`^rgba\\(${mi},${mi},${mi},${Il}\\)$`),g9=new RegExp(`^rgba\\(${bn},${bn},${bn},${Il}\\)$`),x9=new RegExp(`^hsl\\(${Il},${bn},${bn}\\)$`),y9=new RegExp(`^hsla\\(${Il},${bn},${bn},${Il}\\)$`),BO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ab(bc,$l,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qO,formatHex:qO,formatHex8:v9,formatHsl:b9,formatRgb:zO,toString:zO});function qO(){return this.rgb().formatHex()}function v9(){return this.rgb().formatHex8()}function b9(){return i5(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function $l(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=f9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UO(t):r===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h9.exec(e))?new ur(t[1],t[2],t[3],1):(t=m9.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p9.exec(e))?Ku(t[1],t[2],t[3],t[4]):(t=g9.exec(e))?Ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x9.exec(e))?KO(t[1],t[2]/100,t[3]/100,1):(t=y9.exec(e))?KO(t[1],t[2]/100,t[3]/100,t[4]):BO.hasOwnProperty(e)?UO(BO[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function UO(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function Ku(e,t,r,n){return n<=0&&(e=t=r=NaN),new ur(e,t,r,n)}function j9(e){return e instanceof bc||(e=$l(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function Hy(e,t,r,n){return arguments.length===1?j9(e):new ur(e,t,r,n??1)}function ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ab(ur,Hy,s5(bc,{brighter(e){return e=e==null?jd:Math.pow(jd,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ml:Math.pow(Ml,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(gs(this.r),gs(this.g),gs(this.b),wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WO,formatHex:WO,formatHex8:w9,formatRgb:HO,toString:HO}));function WO(){return`#${is(this.r)}${is(this.g)}${is(this.b)}`}function w9(){return`#${is(this.r)}${is(this.g)}${is(this.b)}${is((isNaN(this.opacity)?1:this.opacity)*255)}`}function HO(){const e=wd(this.opacity);return`${e===1?"rgb(":"rgba("}${gs(this.r)}, ${gs(this.g)}, ${gs(this.b)}${e===1?")":`, ${e})`}`}function wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function is(e){return e=gs(e),(e<16?"0":"")+e.toString(16)}function KO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function i5(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof bc||(e=$l(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-s,d=(o+s)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+s:2-o-s,l*=60):u=d>0&&d<1?0:l,new tn(l,u,d,e.opacity)}function N9(e,t,r,n){return arguments.length===1?i5(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ab(tn,N9,s5(bc,{brighter(e){return e=e==null?jd:Math.pow(jd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ml:Math.pow(Ml,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new ur(u0(e>=240?e-240:e+120,s,n),u0(e,s,n),u0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new tn(GO(this.h),Gu(this.s),Gu(this.l),wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wd(this.opacity);return`${e===1?"hsl(":"hsla("}${GO(this.h)}, ${Gu(this.s)*100}%, ${Gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GO(e){return e=(e||0)%360,e<0?e+360:e}function Gu(e){return Math.max(0,Math.min(1,e||0))}function u0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pb=e=>()=>e;function S9(e,t){return function(r){return e+r*t}}function k9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O9(e){return(e=+e)==1?o5:function(t,r){return r-t?k9(t,r,e):Pb(isNaN(t)?r:t)}}function o5(e,t){var r=t-e;return r?S9(e,r):Pb(isNaN(e)?t:e)}const VO=(function e(t){var r=O9(t);function n(s,o){var l=r((s=Hy(s)).r,(o=Hy(o)).r),u=r(s.g,o.g),d=r(s.b,o.b),f=o5(s.opacity,o.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return n.gamma=e,n})(1);function A9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function P9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)s[l]=so(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=s[l](u);return o}}function E9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Nd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _9(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=so(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var Ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d0=new RegExp(Ky.source,"g");function T9(e){return function(){return e}}function R9(e){return function(t){return e(t)+""}}function M9(e,t){var r=Ky.lastIndex=d0.lastIndex=0,n,s,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Ky.exec(e))&&(s=d0.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:Nd(n,s)})),r=d0.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?R9(d[0].x):T9(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function so(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pb(t):(r==="number"?Nd:r==="string"?(n=$l(t))?(t=n,VO):M9:t instanceof $l?VO:t instanceof Date?E9:P9(t)?A9:Array.isArray(t)?C9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_9:Nd)(e,t)}function Cb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function I9(e,t){t===void 0&&(t=e,e=so);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function $9(e){return function(){return e}}function Sd(e){return+e}var YO=[0,1];function rr(e){return e}function Gy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$9(isNaN(t)?NaN:.5)}function D9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function L9(e,t,r){var n=e[0],s=e[1],o=t[0],l=t[1];return s<n?(n=Gy(s,n),o=r(l,o)):(n=Gy(n,s),o=r(o,l)),function(u){return o(n(u))}}function F9(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=Gy(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=vc(e,u,1,n)-1;return o[d](s[d](u))}}function jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tf(){var e=YO,t=YO,r=so,n,s,o,l=rr,u,d,f;function p(){var x=Math.min(e.length,t.length);return l!==rr&&(l=D9(e[0],e[x-1])),u=x>2?F9:L9,d=f=null,m}function m(x){return x==null||isNaN(x=+x)?o:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return m.invert=function(x){return l(s((f||(f=u(t,e.map(n),Nd)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,Sd),p()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=Cb,p()},m.clamp=function(x){return arguments.length?(l=x?!0:rr,p()):l!==rr},m.interpolate=function(x){return arguments.length?(r=x,p()):r},m.unknown=function(x){return arguments.length?(o=x,m):o},function(x,v){return n=x,s=v,p()}}function Eb(){return Tf()(rr,rr)}function B9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ei(e){return e=kd(Math.abs(e)),e?e[1]:NaN}function q9(e,t){return function(r,n){for(var s=r.length,o=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(s-=u,s+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function z9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var U9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dl(e){if(!(t=U9.exec(e)))throw new Error("invalid format: "+e);var t;return new _b({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dl.prototype=_b.prototype;function _b(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W9(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Od;function H9(e,t){var r=kd(e,t);if(!r)return Od=void 0,e.toPrecision(t);var n=r[0],s=r[1],o=s-(Od=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+kd(e,Math.max(0,t+o-1))[0]}function XO(e,t){var r=kd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const QO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:B9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XO(e*100,t),r:XO,s:H9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JO(e){return e}var ZO=Array.prototype.map,eA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function K9(e){var t=e.grouping===void 0||e.thousands===void 0?JO:q9(ZO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?JO:z9(ZO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,x){m=Dl(m);var v=m.fill,b=m.align,j=m.sign,y=m.symbol,N=m.zero,C=m.width,_=m.comma,O=m.precision,S=m.trim,A=m.type;A==="n"?(_=!0,A="g"):QO[A]||(O===void 0&&(O=12),S=!0,A="g"),(N||v==="0"&&b==="=")&&(N=!0,v="0",b="=");var E=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),R=(y==="$"?n:/[%p]/.test(A)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),M=QO[A],L=/[defgprs%]/.test(A);O=O===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function T(I){var G=E,X=R,U,q,D;if(A==="c")X=M(I)+X,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?d:M(Math.abs(I),O),S&&(I=W9(I)),W&&+I==0&&j!=="+"&&(W=!1),G=(W?j==="("?j:u:j==="-"||j==="("?"":j)+G,X=(A==="s"&&!isNaN(I)&&Od!==void 0?eA[8+Od/3]:"")+X+(W&&j==="("?")":""),L){for(U=-1,q=I.length;++U<q;)if(D=I.charCodeAt(U),48>D||D>57){X=(D===46?s+I.slice(U+1):I.slice(U))+X,I=I.slice(0,U);break}}}_&&!N&&(I=t(I,1/0));var Y=G.length+I.length+X.length,z=Y<C?new Array(C-Y+1).join(v):"";switch(_&&N&&(I=t(z+I,z.length?C-X.length:1/0),z=""),b){case"<":I=G+I+X+z;break;case"=":I=G+z+I+X;break;case"^":I=z.slice(0,Y=z.length>>1)+G+I+X+z.slice(Y);break;default:I=z+G+I+X;break}return o(I)}return T.toString=function(){return m+""},T}function p(m,x){var v=Math.max(-8,Math.min(8,Math.floor(Ei(x)/3)))*3,b=Math.pow(10,-v),j=f((m=Dl(m),m.type="f",m),{suffix:eA[8+v/3]});return function(y){return j(b*y)}}return{format:f,formatPrefix:p}}var Vu,Tb,l5;G9({thousands:",",grouping:[3],currency:["$",""]});function G9(e){return Vu=K9(e),Tb=Vu.format,l5=Vu.formatPrefix,Vu}function V9(e){return Math.max(0,-Ei(Math.abs(e)))}function Y9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ei(t)/3)))*3-Ei(Math.abs(e)))}function X9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ei(t)-Ei(e))+1}function c5(e,t,r,n){var s=Uy(e,t,r),o;switch(n=Dl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Y9(s,l))&&(n.precision=o),l5(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=X9(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=V9(s))&&(n.precision=o-(n.type==="%")*2);break}}return Tb(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return qy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return c5(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,l=n[s],u=n[o],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=s,s=o,o=f);p-- >0;){if(f=zy(l,u,r),f===d)return n[s]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Ad(){var e=Eb();return e.copy=function(){return jc(e,Ad())},Fr.apply(e,arguments),$a(e)}function u5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return u5(e).unknown(t)},e=arguments.length?Array.from(e,Sd):[0,1],$a(r)}function d5(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],l;return o<s&&(l=r,r=n,n=l,l=s,s=o,o=l),e[r]=t.floor(s),e[n]=t.ceil(o),e}function tA(e){return Math.log(e)}function rA(e){return Math.exp(e)}function Q9(e){return-Math.log(-e)}function J9(e){return-Math.exp(-e)}function Z9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eB(e){return e===10?Z9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nA(e){return(t,r)=>-e(-t,r)}function Rb(e){const t=e(tA,rA),r=t.domain;let n=10,s,o;function l(){return s=tB(n),o=eB(n),r()[0]<0?(s=nA(s),o=nA(o),e(Q9,J9)):e(tA,rA),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let x=s(f),v=s(p),b,j;const y=u==null?10:+u;let N=[];if(!(n%1)&&v-x<y){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(b=1;b<n;++b)if(j=x<0?b/o(-x):b*o(x),!(j<f)){if(j>p)break;N.push(j)}}else for(;x<=v;++x)for(b=n-1;b>=1;--b)if(j=x>0?b/o(-x):b*o(x),!(j<f)){if(j>p)break;N.push(j)}N.length*2<y&&(N=qy(f,p,y))}else N=qy(x,v,Math.min(v-x,y)).map(o);return m?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Dl(d)).precision==null&&(d.trim=!0),d=Tb(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let m=p/o(Math.round(s(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},t.nice=()=>r(d5(r(),{floor:u=>o(Math.floor(s(u))),ceil:u=>o(Math.ceil(s(u)))})),t}function f5(){const e=Rb(Tf()).domain([1,10]);return e.copy=()=>jc(e,f5()).base(e.base()),Fr.apply(e,arguments),e}function aA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mb(e){var t=1,r=e(aA(t),sA(t));return r.constant=function(n){return arguments.length?e(aA(t=+n),sA(t)):t},$a(r)}function h5(){var e=Mb(Tf());return e.copy=function(){return jc(e,h5()).constant(e.constant())},Fr.apply(e,arguments)}function iA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nB(e){return e<0?-e*e:e*e}function Ib(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(rB,nB):e(iA(r),iA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},$a(t)}function $b(){var e=Ib(Tf());return e.copy=function(){return jc(e,$b()).exponent(e.exponent())},Fr.apply(e,arguments),e}function aB(){return $b.apply(null,arguments).exponent(.5)}function oA(e){return Math.sign(e)*e*e}function sB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m5(){var e=Eb(),t=[0,1],r=!1,n;function s(o){var l=sB(e(o));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(o){return e.invert(oA(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Sd)).map(oA)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return m5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(s,arguments),$a(s)}function p5(){var e=[],t=[],r=[],n;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=u9(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[vc(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ta),s()},o.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return p5().domain(e).range(t).unknown(n)},Fr.apply(o,arguments)}function g5(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function l(d){return d!=null&&d<=d?s[vc(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return g5().domain([e,t]).range(s).unknown(o)},Fr.apply($a(l),arguments)}function x5(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[vc(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return x5().domain(e).range(t).unknown(r)},Fr.apply(s,arguments)}const f0=new Date,h0=new Date;function Et(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const l=s(o),u=s.ceil(o);return o-l<u-o?l:u},s.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),s.range=(o,l,u)=>{const d=[];if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},s.filter=o=>Et(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(s.count=(o,l)=>(f0.setTime(+o),h0.setTime(+l),e(f0),e(h0),Math.floor(r(f0,h0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?l=>n(l)%o===0:l=>s.count(0,l)%o===0):s)),s}const Pd=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pd);Pd.range;const Bn=1e3,Dr=Bn*60,qn=Dr*60,Kn=qn*24,Db=Kn*7,lA=Kn*30,m0=Kn*365,os=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCSeconds());os.range;const Lb=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Lb.range;const Fb=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());Fb.range;const Bb=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getHours());Bb.range;const qb=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCHours());qb.range;const wc=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Kn,e=>e.getDate()-1);wc.range;const Rf=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>e.getUTCDate()-1);Rf.range;const y5=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>Math.floor(e/Kn));y5.range;function Cs(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Db)}const Mf=Cs(0),Cd=Cs(1),iB=Cs(2),oB=Cs(3),_i=Cs(4),lB=Cs(5),cB=Cs(6);Mf.range;Cd.range;iB.range;oB.range;_i.range;lB.range;cB.range;function Es(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Db)}const If=Es(0),Ed=Es(1),uB=Es(2),dB=Es(3),Ti=Es(4),fB=Es(5),hB=Es(6);If.range;Ed.range;uB.range;dB.range;Ti.range;fB.range;hB.range;const zb=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zb.range;const Ub=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ub.range;const Gn=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gn.range;const Vn=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function v5(e,t,r,n,s,o){const l=[[os,1,Bn],[os,5,5*Bn],[os,15,15*Bn],[os,30,30*Bn],[o,1,Dr],[o,5,5*Dr],[o,15,15*Dr],[o,30,30*Dr],[s,1,qn],[s,3,3*qn],[s,6,6*qn],[s,12,12*qn],[n,1,Kn],[n,2,2*Kn],[r,1,Db],[t,1,lA],[t,3,3*lA],[e,1,m0]];function u(f,p,m){const x=p<f;x&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:d(f,p,m),b=v?v.range(f,+p+1):[];return x?b.reverse():b}function d(f,p,m){const x=Math.abs(p-f)/m,v=kb(([,,y])=>y).right(l,x);if(v===l.length)return e.every(Uy(f/m0,p/m0,m));if(v===0)return Pd.every(Math.max(Uy(f,p,m),1));const[b,j]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return b.every(j)}return[u,d]}const[mB,pB]=v5(Vn,Ub,If,y5,qb,Fb),[gB,xB]=v5(Gn,zb,Mf,wc,Bb,Lb);function p0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function g0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function yB(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=al(s),p=sl(s),m=al(o),x=sl(o),v=al(l),b=sl(l),j=al(u),y=sl(u),N=al(d),C=sl(d),_={a:D,A:W,b:Y,B:z,c:null,d:mA,e:mA,f:qB,g:QB,G:ZB,H:LB,I:FB,j:BB,L:b5,m:zB,M:UB,p:B,q:F,Q:xA,s:yA,S:WB,u:HB,U:KB,V:GB,w:VB,W:YB,x:null,X:null,y:XB,Y:JB,Z:eq,"%":gA},O={a:K,A:Z,b:de,B:ie,c:null,d:pA,e:pA,f:aq,g:mq,G:gq,H:tq,I:rq,j:nq,L:w5,m:sq,M:iq,p:re,q:pe,Q:xA,s:yA,S:oq,u:lq,U:cq,V:uq,w:dq,W:fq,x:null,X:null,y:hq,Y:pq,Z:xq,"%":gA},S={a:L,A:T,b:I,B:G,c:X,d:fA,e:fA,f:MB,g:dA,G:uA,H:hA,I:hA,j:EB,L:RB,m:CB,M:_B,p:M,q:PB,Q:$B,s:DB,S:TB,u:NB,U:SB,V:kB,w:wB,W:OB,x:U,X:q,y:dA,Y:uA,Z:AB,"%":IB};_.x=A(r,_),_.X=A(n,_),_.c=A(t,_),O.x=A(r,O),O.X=A(n,O),O.c=A(t,O);function A(ue,Oe){return function(Te){var ee=[],ve=-1,be=0,Je=ue.length,ft,_t,Br;for(Te instanceof Date||(Te=new Date(+Te));++ve<Je;)ue.charCodeAt(ve)===37&&(ee.push(ue.slice(be,ve)),(_t=cA[ft=ue.charAt(++ve)])!=null?ft=ue.charAt(++ve):_t=ft==="e"?" ":"0",(Br=Oe[ft])&&(ft=Br(Te,_t)),ee.push(ft),be=ve+1);return ee.push(ue.slice(be,ve)),ee.join("")}}function E(ue,Oe){return function(Te){var ee=nl(1900,void 0,1),ve=R(ee,ue,Te+="",0),be,Je;if(ve!=Te.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Oe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(be=g0(nl(ee.y,0,1)),Je=be.getUTCDay(),be=Je>4||Je===0?Ed.ceil(be):Ed(be),be=Rf.offset(be,(ee.V-1)*7),ee.y=be.getUTCFullYear(),ee.m=be.getUTCMonth(),ee.d=be.getUTCDate()+(ee.w+6)%7):(be=p0(nl(ee.y,0,1)),Je=be.getDay(),be=Je>4||Je===0?Cd.ceil(be):Cd(be),be=wc.offset(be,(ee.V-1)*7),ee.y=be.getFullYear(),ee.m=be.getMonth(),ee.d=be.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Je="Z"in ee?g0(nl(ee.y,0,1)).getUTCDay():p0(nl(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Je+5)%7:ee.w+ee.U*7-(Je+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,g0(ee)):p0(ee)}}function R(ue,Oe,Te,ee){for(var ve=0,be=Oe.length,Je=Te.length,ft,_t;ve<be;){if(ee>=Je)return-1;if(ft=Oe.charCodeAt(ve++),ft===37){if(ft=Oe.charAt(ve++),_t=S[ft in cA?Oe.charAt(ve++):ft],!_t||(ee=_t(ue,Te,ee))<0)return-1}else if(ft!=Te.charCodeAt(ee++))return-1}return ee}function M(ue,Oe,Te){var ee=f.exec(Oe.slice(Te));return ee?(ue.p=p.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function L(ue,Oe,Te){var ee=v.exec(Oe.slice(Te));return ee?(ue.w=b.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function T(ue,Oe,Te){var ee=m.exec(Oe.slice(Te));return ee?(ue.w=x.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function I(ue,Oe,Te){var ee=N.exec(Oe.slice(Te));return ee?(ue.m=C.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function G(ue,Oe,Te){var ee=j.exec(Oe.slice(Te));return ee?(ue.m=y.get(ee[0].toLowerCase()),Te+ee[0].length):-1}function X(ue,Oe,Te){return R(ue,t,Oe,Te)}function U(ue,Oe,Te){return R(ue,r,Oe,Te)}function q(ue,Oe,Te){return R(ue,n,Oe,Te)}function D(ue){return l[ue.getDay()]}function W(ue){return o[ue.getDay()]}function Y(ue){return d[ue.getMonth()]}function z(ue){return u[ue.getMonth()]}function B(ue){return s[+(ue.getHours()>=12)]}function F(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return l[ue.getUTCDay()]}function Z(ue){return o[ue.getUTCDay()]}function de(ue){return d[ue.getUTCMonth()]}function ie(ue){return u[ue.getUTCMonth()]}function re(ue){return s[+(ue.getUTCHours()>=12)]}function pe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Oe=A(ue+="",_);return Oe.toString=function(){return ue},Oe},parse:function(ue){var Oe=E(ue+="",!1);return Oe.toString=function(){return ue},Oe},utcFormat:function(ue){var Oe=A(ue+="",O);return Oe.toString=function(){return ue},Oe},utcParse:function(ue){var Oe=E(ue+="",!0);return Oe.toString=function(){return ue},Oe}}}var cA={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,vB=/^%/,bB=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function jB(e){return e.replace(bB,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(jB).join("|")+")","i")}function sl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wB(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NB(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function SB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function kB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uA(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dA(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function AB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function PB(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function CB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fA(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function EB(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hA(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _B(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RB(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function MB(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IB(e,t,r){var n=vB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $B(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function DB(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mA(e,t){return Ge(e.getDate(),t,2)}function LB(e,t){return Ge(e.getHours(),t,2)}function FB(e,t){return Ge(e.getHours()%12||12,t,2)}function BB(e,t){return Ge(1+wc.count(Gn(e),e),t,3)}function b5(e,t){return Ge(e.getMilliseconds(),t,3)}function qB(e,t){return b5(e,t)+"000"}function zB(e,t){return Ge(e.getMonth()+1,t,2)}function UB(e,t){return Ge(e.getMinutes(),t,2)}function WB(e,t){return Ge(e.getSeconds(),t,2)}function HB(e){var t=e.getDay();return t===0?7:t}function KB(e,t){return Ge(Mf.count(Gn(e)-1,e),t,2)}function j5(e){var t=e.getDay();return t>=4||t===0?_i(e):_i.ceil(e)}function GB(e,t){return e=j5(e),Ge(_i.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function VB(e){return e.getDay()}function YB(e,t){return Ge(Cd.count(Gn(e)-1,e),t,2)}function XB(e,t){return Ge(e.getFullYear()%100,t,2)}function QB(e,t){return e=j5(e),Ge(e.getFullYear()%100,t,2)}function JB(e,t){return Ge(e.getFullYear()%1e4,t,4)}function ZB(e,t){var r=e.getDay();return e=r>=4||r===0?_i(e):_i.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function eq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function pA(e,t){return Ge(e.getUTCDate(),t,2)}function tq(e,t){return Ge(e.getUTCHours(),t,2)}function rq(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function nq(e,t){return Ge(1+Rf.count(Vn(e),e),t,3)}function w5(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function aq(e,t){return w5(e,t)+"000"}function sq(e,t){return Ge(e.getUTCMonth()+1,t,2)}function iq(e,t){return Ge(e.getUTCMinutes(),t,2)}function oq(e,t){return Ge(e.getUTCSeconds(),t,2)}function lq(e){var t=e.getUTCDay();return t===0?7:t}function cq(e,t){return Ge(If.count(Vn(e)-1,e),t,2)}function N5(e){var t=e.getUTCDay();return t>=4||t===0?Ti(e):Ti.ceil(e)}function uq(e,t){return e=N5(e),Ge(Ti.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function dq(e){return e.getUTCDay()}function fq(e,t){return Ge(Ed.count(Vn(e)-1,e),t,2)}function hq(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function mq(e,t){return e=N5(e),Ge(e.getUTCFullYear()%100,t,2)}function pq(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function gq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ti(e):Ti.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function xq(){return"+0000"}function gA(){return"%"}function xA(e){return+e}function yA(e){return Math.floor(+e/1e3)}var ai,S5,k5;yq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yq(e){return ai=yB(e),S5=ai.format,ai.parse,k5=ai.utcFormat,ai.utcParse,ai}function vq(e){return new Date(e)}function bq(e){return e instanceof Date?+e:+new Date(+e)}function Wb(e,t,r,n,s,o,l,u,d,f){var p=Eb(),m=p.invert,x=p.domain,v=f(".%L"),b=f(":%S"),j=f("%I:%M"),y=f("%I %p"),N=f("%a %d"),C=f("%b %d"),_=f("%B"),O=f("%Y");function S(A){return(d(A)<A?v:u(A)<A?b:l(A)<A?j:o(A)<A?y:n(A)<A?s(A)<A?N:C:r(A)<A?_:O)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?x(Array.from(A,bq)):x().map(vq)},p.ticks=function(A){var E=x();return e(E[0],E[E.length-1],A??10)},p.tickFormat=function(A,E){return E==null?S:f(E)},p.nice=function(A){var E=x();return(!A||typeof A.range!="function")&&(A=t(E[0],E[E.length-1],A??10)),A?x(d5(E,A)):p},p.copy=function(){return jc(p,Wb(e,t,r,n,s,o,l,u,d,f))},p}function jq(){return Fr.apply(Wb(gB,xB,Gn,zb,Mf,wc,Bb,Lb,os,S5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wq(){return Fr.apply(Wb(mB,pB,Vn,Ub,If,Rf,qb,Fb,os,k5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $f(){var e=0,t=1,r,n,s,o,l=rr,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(o(m)-r)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(x){var v,b;return arguments.length?([v,b]=x,l=m(v,b),f):[l(0),l(1)]}}return f.range=p(so),f.rangeRound=p(Cb),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),f}}function Da(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function O5(){var e=$a($f()(rr));return e.copy=function(){return Da(e,O5())},Jn.apply(e,arguments)}function A5(){var e=Rb($f()).domain([1,10]);return e.copy=function(){return Da(e,A5()).base(e.base())},Jn.apply(e,arguments)}function P5(){var e=Mb($f());return e.copy=function(){return Da(e,P5()).constant(e.constant())},Jn.apply(e,arguments)}function Hb(){var e=Ib($f());return e.copy=function(){return Da(e,Hb()).exponent(e.exponent())},Jn.apply(e,arguments)}function Nq(){return Hb.apply(null,arguments).exponent(.5)}function C5(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((vc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ta),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>c9(e,o/n))},r.copy=function(){return C5(t).domain(e)},Jn.apply(r,arguments)}function Df(){var e=0,t=.5,r=1,n=1,s,o,l,u,d,f=rr,p,m=!1,x;function v(j){return isNaN(j=+j)?x:(j=.5+((j=+p(j))-o)*(n*j<n*o?u:d),f(m?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,t,r]=j,s=p(e=+e),o=p(t=+t),l=p(r=+r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),n=o<s?-1:1,v):[e,t,r]},v.clamp=function(j){return arguments.length?(m=!!j,v):m},v.interpolator=function(j){return arguments.length?(f=j,v):f};function b(j){return function(y){var N,C,_;return arguments.length?([N,C,_]=y,f=I9(j,[N,C,_]),v):[f(0),f(.5),f(1)]}}return v.range=b(so),v.rangeRound=b(Cb),v.unknown=function(j){return arguments.length?(x=j,v):x},function(j){return p=j,s=j(e),o=j(t),l=j(r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),n=o<s?-1:1,v}}function E5(){var e=$a(Df()(rr));return e.copy=function(){return Da(e,E5())},Jn.apply(e,arguments)}function _5(){var e=Rb(Df()).domain([.1,1,10]);return e.copy=function(){return Da(e,_5()).base(e.base())},Jn.apply(e,arguments)}function T5(){var e=Mb(Df());return e.copy=function(){return Da(e,T5()).constant(e.constant())},Jn.apply(e,arguments)}function Kb(){var e=Ib(Df());return e.copy=function(){return Da(e,Kb()).exponent(e.exponent())},Jn.apply(e,arguments)}function Sq(){return Kb.apply(null,arguments).exponent(.5)}const vA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rl,scaleDiverging:E5,scaleDivergingLog:_5,scaleDivergingPow:Kb,scaleDivergingSqrt:Sq,scaleDivergingSymlog:T5,scaleIdentity:u5,scaleImplicit:Wy,scaleLinear:Ad,scaleLog:f5,scaleOrdinal:Ob,scalePoint:gl,scalePow:$b,scaleQuantile:p5,scaleQuantize:g5,scaleRadial:m5,scaleSequential:O5,scaleSequentialLog:A5,scaleSequentialPow:Hb,scaleSequentialQuantile:C5,scaleSequentialSqrt:Nq,scaleSequentialSymlog:P5,scaleSqrt:aB,scaleSymlog:h5,scaleThreshold:x5,scaleTime:jq,scaleUtc:wq,tickFormat:c5},Symbol.toStringTag,{value:"Module"}));var x0,bA;function Lf(){if(bA)return x0;bA=1;var e=to();function t(r,n,s){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return x0=t,x0}var y0,jA;function R5(){if(jA)return y0;jA=1;function e(t,r){return t>r}return y0=e,y0}var v0,wA;function kq(){if(wA)return v0;wA=1;var e=Lf(),t=R5(),r=ao();function n(s){return s&&s.length?e(s,r,t):void 0}return v0=n,v0}var Oq=kq();const Ff=Xe(Oq);var b0,NA;function M5(){if(NA)return b0;NA=1;function e(t,r){return t<r}return b0=e,b0}var j0,SA;function Aq(){if(SA)return j0;SA=1;var e=Lf(),t=M5(),r=ao();function n(s){return s&&s.length?e(s,r,t):void 0}return j0=n,j0}var Pq=Aq();const Bf=Xe(Pq);var w0,kA;function Cq(){if(kA)return w0;kA=1;var e=ob(),t=On(),r=U_(),n=hr();function s(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return w0=s,w0}var N0,OA;function Eq(){if(OA)return N0;OA=1;var e=q_(),t=Cq();function r(n,s){return e(t(n,s),1)}return N0=r,N0}var _q=Eq();const Tq=Xe(_q);var S0,AA;function Rq(){if(AA)return S0;AA=1;var e=bb();function t(r,n){return e(r,n)}return S0=t,S0}var Mq=Rq();const Nc=Xe(Mq);var io=1e9,Iq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vb,ct=!0,Lr="[DecimalError] ",xs=Lr+"Invalid argument: ",Gb=Lr+"Exponent out of range: ",oo=Math.floor,rs=Math.pow,$q=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,$t=1e7,ot=7,I5=9007199254740991,_d=oo(I5/ot),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Wn(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return et(Wn(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return wt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Lr+"NaN");if(r.s<1)throw Error(Lr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(ct=!1,t=Wn(Ll(r,o),Ll(e,o),o),ct=!0,et(t,s))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L5(t,e):$5(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Lr+"NaN");return r.s?(ct=!1,t=Wn(r,e,0,1).times(e),ct=!0,r.minus(t)):et(new n(r),s)};we.naturalExponential=we.exp=function(){return D5(this)};we.naturalLogarithm=we.ln=function(){return Ll(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$5(t,e):L5(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xs+e);if(t=wt(s)+1,n=s.d.length-1,r=n*ot+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,s,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=wt(u),ct=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=vn(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=oo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=l=r+3;;)if(o=n,n=o.plus(Wn(u,o,l+2)).times(.5),vn(o.d).slice(0,l)===(t=vn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(et(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return ct=!0,et(n,r)};we.times=we.mul=function(e){var t,r,n,s,o,l,u,d,f,p=this,m=p.constructor,x=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=x.length,f=v.length,d<f&&(o=x,x=v,v=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,s=d+n;s>n;)u=o[s]+v[n]*x[s-n-1]+t,o[s--]=u%$t|0,t=u/$t|0;o[s]=(o[s]+t)%$t|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,ct?et(e,m.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wn(e,0,io),t===void 0?t=n.rounding:wn(t,0,8),et(r,e+wt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ws(n,!0):(wn(e,0,io),t===void 0?t=s.rounding:wn(t,0,8),n=et(new s(n),e+1,t),r=ws(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?ws(s):(wn(e,0,io),t===void 0?t=o.rounding:wn(t,0,8),n=et(new o(s),e+wt(s)+1,t),r=ws(n.abs(),!1,e+wt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return et(new t(e),wt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,s,o,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(wr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(wr))return u;if(n=d.precision,e.eq(wr))return et(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=p<0?-p:p)<=I5){for(s=new d(wr),t=Math.ceil(n/ot+4),ct=!1;r%2&&(s=s.times(u),CA(s.d,t)),r=oo(r/2),r!==0;)u=u.times(u),CA(u.d,t);return ct=!0,e.s<0?new d(wr).div(s):et(s,n)}}else if(o<0)throw Error(Lr+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ct=!1,s=e.times(Ll(u,n+f)),ct=!0,s=D5(s),s.s=o,s};we.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=wt(s),n=ws(s,r<=o.toExpNeg||r>=o.toExpPos)):(wn(e,1,io),t===void 0?t=o.rounding:wn(t,0,8),s=et(new o(s),e,t),r=wt(s),n=ws(s,e<=r||r<=o.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wn(e,1,io),t===void 0?t=n.rounding:wn(t,0,8)),et(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function $5(e,t){var r,n,s,o,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ct?et(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),o=l-s,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,s=l,u=d.length),l=Math.ceil(m/ot),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/$t|0,d[o]%=$t;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,ct?et(t,m):t}function wn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xs+e)}function vn(e){var t,r,n,s=e.length-1,o="",l=e[0];if(s>0){for(o+=l,t=1;t<s;t++)n=e[t]+"",r=ot-n.length,r&&(o+=ba(r)),o+=n;l=e[t],n=l+"",r=ot-n.length,r&&(o+=ba(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Wn=(function(){function e(n,s){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*s+l,n[u]=o%$t|0,l=o/$t|0;return l&&n.unshift(l),n}function t(n,s,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=s[u]){d=n[u]>s[u]?1:-1;break}return d}function r(n,s,o){for(var l=0;o--;)n[o]-=l,l=n[o]<s[o]?1:0,n[o]=l*$t+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,l){var u,d,f,p,m,x,v,b,j,y,N,C,_,O,S,A,E,R,M=n.constructor,L=n.s==s.s?1:-1,T=n.d,I=s.d;if(!n.s)return new M(n);if(!s.s)throw Error(Lr+"Division by zero");for(d=n.e-s.e,E=I.length,S=T.length,v=new M(L),b=v.d=[],f=0;I[f]==(T[f]||0);)++f;if(I[f]>(T[f]||0)&&--d,o==null?C=o=M.precision:l?C=o+(wt(n)-wt(s))+1:C=o,C<0)return new M(0);if(C=C/ot+2|0,f=0,E==1)for(p=0,I=I[0],C++;(f<S||p)&&C--;f++)_=p*$t+(T[f]||0),b[f]=_/I|0,p=_%I|0;else{for(p=$t/(I[0]+1)|0,p>1&&(I=e(I,p),T=e(T,p),E=I.length,S=T.length),O=E,j=T.slice(0,E),y=j.length;y<E;)j[y++]=0;R=I.slice(),R.unshift(0),A=I[0],I[1]>=$t/2&&++A;do p=0,u=t(I,j,E,y),u<0?(N=j[0],E!=y&&(N=N*$t+(j[1]||0)),p=N/A|0,p>1?(p>=$t&&(p=$t-1),m=e(I,p),x=m.length,y=j.length,u=t(m,j,x,y),u==1&&(p--,r(m,E<x?R:I,x))):(p==0&&(u=p=1),m=I.slice()),x=m.length,x<y&&m.unshift(0),r(j,m,y),u==-1&&(y=j.length,u=t(I,j,E,y),u<1&&(p++,r(j,E<y?R:I,y))),y=j.length):u===0&&(p++,j=[0]),b[f++]=p,u&&j[0]?j[y++]=T[O]||0:(j=[T[O]],y=1);while((O++<S||j[0]!==void 0)&&C--)}return b[0]||b.shift(),v.e=d,et(v,l?o+wt(v)+1:o)}})();function D5(e,t){var r,n,s,o,l,u,d=0,f=0,p=e.constructor,m=p.precision;if(wt(e)>16)throw Error(Gb+wt(e));if(!e.s)return new p(wr);for(ct=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(rs(2,f))/Math.LN10*2+5|0,u+=n,r=s=o=new p(wr),p.precision=u;;){if(s=et(s.times(e),u),r=r.times(++d),l=o.plus(Wn(s,r,u)),vn(l.d).slice(0,u)===vn(o.d).slice(0,u)){for(;f--;)o=et(o.times(o),u);return p.precision=m,t==null?(ct=!0,et(o,m)):o}o=l}}function wt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function k0(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(Lr+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ba(e){for(var t="";e--;)t+="0";return t}function Ll(e,t){var r,n,s,o,l,u,d,f,p,m=1,x=10,v=e,b=v.d,j=v.constructor,y=j.precision;if(v.s<1)throw Error(Lr+(v.s?"NaN":"-Infinity"));if(v.eq(wr))return new j(0);if(t==null?(ct=!1,f=y):f=t,v.eq(10))return t==null&&(ct=!0),k0(j,f);if(f+=x,j.precision=f,r=vn(b),n=r.charAt(0),o=wt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=vn(v.d),n=r.charAt(0),m++;o=wt(v),n>1?(v=new j("0."+r),o++):v=new j(n+"."+r.slice(1))}else return d=k0(j,f+2,y).times(o+""),v=Ll(new j(n+"."+r.slice(1)),f-x).plus(d),j.precision=y,t==null?(ct=!0,et(v,y)):v;for(u=l=v=Wn(v.minus(wr),v.plus(wr),f),p=et(v.times(v),f),s=3;;){if(l=et(l.times(p),f),d=u.plus(Wn(l,new j(s),f)),vn(d.d).slice(0,f)===vn(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(k0(j,f+2,y).times(o+""))),u=Wn(u,new j(m),f),j.precision=y,t==null?(ct=!0,et(u,y)):u;u=d,s+=2}}function PA(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=oo(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ot;n<s;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>_d||e.e<-_d))throw Error(Gb+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,s,o,l,u,d,f,p,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=ot,s=t,f=m[p=0];else{if(p=Math.ceil((n+1)/ot),o=m.length,p>=o)return e;for(f=o=m[p],l=1;o>=10;o/=10)l++;n%=ot,s=n-ot+l}if(r!==void 0&&(o=rs(10,l-s-1),u=f/o%10|0,d=t<0||m[p+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?s>0?f/rs(10,l-s):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=wt(e),m.length=1,t=t-o-1,m[0]=rs(10,(ot-t%ot)%ot),e.e=oo(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=p,o=1,p--):(m.length=p+1,o=rs(10,ot-n),m[p]=s>0?(f/rs(10,l-s)%rs(10,s)|0)*o:0),d)for(;;)if(p==0){(m[0]+=o)==$t&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=$t)break;m[p--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(ct&&(e.e>_d||e.e<-_d))throw Error(Gb+wt(e));return e}function L5(e,t){var r,n,s,o,l,u,d,f,p,m,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ct?et(t,v):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,n=f,u=d.length),s=Math.max(Math.ceil(v/ot),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(o=s;o&&d[--o]===0;)d[o]=$t-1;--d[o],d[s]+=$t}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ct?et(t,v):t):new x(0)}function ws(e,t,r){var n,s=wt(e),o=vn(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+ba(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ba(-s-1)+o,r&&(n=r-l)>0&&(o+=ba(n))):s>=l?(o+=ba(s+1-l),r&&(n=r-s-1)>0&&(o=o+"."+ba(n))):((n=s+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(o+="."),o+=ba(n))),e.s<0?"-"+o:o}function CA(e,t){if(e.length>t)return e.length=t,!0}function F5(e){var t,r,n;function s(o){var l=this;if(!(l instanceof s))return new s(o);if(l.constructor=s,o instanceof s){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(xs+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return PA(l,o.toString())}else if(typeof o!="string")throw Error(xs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,$q.test(o))PA(l,o);else throw Error(xs+o)}if(s.prototype=we,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=F5,s.config=s.set=Dq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Dq(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,r,n,s=["precision",1,io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(oo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(xs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xs+r+": "+n);return this}var Vb=F5(Iq);wr=new Vb(1);const Ze=Vb;function Lq(e){return zq(e)||qq(e)||Bq(e)||Fq()}function Fq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(e,t){if(e){if(typeof e=="string")return Vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(e,t)}}function qq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zq(e){if(Array.isArray(e))return Vy(e)}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uq=function(t){return t},B5={},q5=function(t){return t===B5},EA=function(t){return function r(){return arguments.length===0||arguments.length===1&&q5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Wq=function e(t,r){return t===1?r:EA(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var l=s.filter(function(u){return u!==B5}).length;return l>=t?r.apply(void 0,s):e(t-l,EA(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=s.map(function(m){return q5(m)?d.shift():m});return r.apply(void 0,Lq(p).concat(d))}))})},qf=function(t){return Wq(t.length,t)},Yy=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Hq=qf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Kq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Uq;var s=r.reverse(),o=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},Xy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},z5=function(t){var r=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function Gq(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function Vq(e,t,r){for(var n=new Ze(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var Yq=qf(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Xq=qf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Qq=qf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zf={rangeStep:Vq,getDigitCount:Gq,interpolateNumber:Yq,uninterpolateNumber:Xq,uninterpolateTruncation:Qq};function Qy(e){return ez(e)||Zq(e)||U5(e)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ez(e){if(Array.isArray(e))return Jy(e)}function Fl(e,t){return nz(e)||rz(e,t)||U5(e,t)||tz()}function tz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rz(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){s=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(s)throw o}}return r}}function nz(e){if(Array.isArray(e))return e}function W5(e){var t=Fl(e,2),r=t[0],n=t[1],s=r,o=n;return r>n&&(s=n,o=r),[s,o]}function H5(e,t,r){if(e.lte(0))return new Ze(0);var n=zf.getDigitCount(e.toNumber()),s=new Ze(10).pow(n),o=e.div(s),l=n!==1?.05:.1,u=new Ze(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new Ze(Math.ceil(d))}function az(e,t,r){var n=1,s=new Ze(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(zf.getDigitCount(e)-1),s=new Ze(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Ze(Math.floor(e)))}else e===0?s=new Ze(Math.floor((t-1)/2)):r||(s=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=Kq(Hq(function(d){return s.add(new Ze(d-l).mul(n)).toNumber()}),Yy);return u(0,t)}function K5(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=H5(new Ze(t).sub(e).div(r-1),n,s),l;e<=0&&t>=0?l=new Ze(0):(l=new Ze(e).add(t).div(2),l=l.sub(new Ze(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Ze(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?K5(e,t,r,n,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new Ze(u).mul(o)),tickMax:l.add(new Ze(d).mul(o))})}function sz(e){var t=Fl(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=W5([r,n]),d=Fl(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Qy(Yy(0,s-1).map(function(){return 1/0}))):[].concat(Qy(Yy(0,s-1).map(function(){return-1/0})),[p]);return r>n?Xy(m):m}if(f===p)return az(f,s,o);var x=K5(f,p,l,o),v=x.step,b=x.tickMin,j=x.tickMax,y=zf.rangeStep(b,j.add(new Ze(.1).mul(v)),v);return r>n?Xy(y):y}function iz(e,t){var r=Fl(e,2),n=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=W5([n,s]),u=Fl(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,s];if(d===f)return[d];var p=Math.max(t,2),m=H5(new Ze(f).sub(d).div(p-1),o,0),x=[].concat(Qy(zf.rangeStep(new Ze(d),new Ze(f).sub(new Ze(.99).mul(m)),m)),[f]);return n>s?Xy(x):x}var oz=z5(sz),lz=z5(iz),cz="Invariant failed";function Ns(e,t){throw new Error(cz)}var uz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function dz(e,t){return pz(e)||mz(e,t)||hz(e,t)||fz()}function fz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hz(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pz(e){if(Array.isArray(e))return e}function gz(e,t){if(e==null)return{};var r=xz(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y5(n.key),n)}}function bz(e,t,r){return t&&vz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jz(e,t,r){return t=Rd(t),wz(e,G5()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function wz(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nz(e)}function Nz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function Sz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zy(e,t)}function V5(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=kz(e,"string");return Ri(t)=="symbol"?t:t+""}function kz(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sc=(function(e){function t(){return yz(this,t),jz(this,t,arguments)}return Sz(t,e),bz(t,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,x=gz(n,uz),v=Ce(x,!1);this.props.direction==="x"&&p.type!=="number"&&Ns();var b=d.map(function(j){var y=f(j,u),N=y.x,C=y.y,_=y.value,O=y.errorVal;if(!O)return null;var S=[],A,E;if(Array.isArray(O)){var R=dz(O,2);A=R[0],E=R[1]}else A=E=O;if(o==="vertical"){var M=p.scale,L=C+s,T=L+l,I=L-l,G=M(_-A),X=M(_+E);S.push({x1:X,y1:T,x2:X,y2:I}),S.push({x1:G,y1:L,x2:X,y2:L}),S.push({x1:G,y1:T,x2:G,y2:I})}else if(o==="horizontal"){var U=m.scale,q=N+s,D=q-l,W=q+l,Y=U(_-A),z=U(_+E);S.push({x1:D,y1:z,x2:W,y2:z}),S.push({x1:q,y1:Y,x2:q,y2:z}),S.push({x1:D,y1:Y,x2:W,y2:Y})}return V.createElement(Ke,Td({className:"recharts-errorBar",key:"bar-".concat(S.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},v),S.map(function(B){return V.createElement("line",Td({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return V.createElement(Ke,{className:"recharts-errorBars"},b)}}])})(V.Component);V5(Sc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});V5(Sc,"displayName","ErrorBar");function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){Oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oz(e,t,r){return t=Az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Pz(e,"string");return Bl(t)=="symbol"?t:t+""}function Pz(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X5=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,o=t.legendContent,l=br(r,_a);if(!l)return null;var u=_a.defaultProps,d=u!==void 0?Ja(Ja({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(p,m){var x=m.item,v=m.props,b=v.sectors||v.data||[];return p.concat(b.map(function(j){return{type:l.props.iconType||x.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):f=(n||[]).map(function(p){var m=p.item,x=m.type.defaultProps,v=x!==void 0?Ja(Ja({},x),m.props):{},b=v.dataKey,j=v.name,y=v.legendType,N=v.hide;return{inactive:N,dataKey:b,type:d.iconType||y||"square",color:Yb(m),value:j||b,payload:v}}),Ja(Ja(Ja({},d),_a.getWithHeight(l,s)),{},{payload:f,item:l})};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function RA(e){return Tz(e)||_z(e)||Ez(e)||Cz()}function Cz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ez(e,t){if(e){if(typeof e=="string")return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ev(e,t)}}function _z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tz(e){if(Array.isArray(e))return ev(e)}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pi(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=Mz(e,"string");return ql(t)=="symbol"?t:t+""}function Mz(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return De(e)||De(t)?r:Ct(t)?Nr(e,t,r):Ie(t)?t(e):r}function xl(e,t,r,n){var s=Tq(e,function(u){return At(u,t)});if(r==="number"){var o=s.filter(function(u){return xe(u)||parseFloat(u)});return o.length?[Bf(o),Ff(o)]:[1/0,-1/0]}var l=n?s.filter(function(u){return!De(u)}):s;return l.map(function(u){return Ct(u)||u instanceof Date?u:""})}var Iz=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var p=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,x=f>=u-1?s[0].coordinate:s[f+1].coordinate,v=void 0;if(er(m-p)!==er(x-m)){var b=[];if(er(x-m)===er(d[1]-d[0])){v=x;var j=m+d[1]-d[0];b[0]=Math.min(j,(j+p)/2),b[1]=Math.max(j,(j+p)/2)}else{v=p;var y=x+d[1]-d[0];b[0]=Math.min(m,(y+m)/2),b[1]=Math.max(m,(y+m)/2)}var N=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){l=s[f].index;break}}else{var C=Math.min(p,x),_=Math.max(p,x);if(t>(C+m)/2&&t<=(_+m)/2){l=s[f].index;break}}}else for(var O=0;O<u;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},Yb=function(t){var r,n=t,s=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},$z=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var p=o[u[d]].stackGroups,m=Object.keys(p),x=0,v=m.length;x<v;x++){var b=p[m[x]],j=b.items,y=b.cateAxisId,N=j.filter(function(E){return Un(E.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,_=C!==void 0?pt(pt({},C),N[0].props):N[0].props,O=_.barSize,S=_[y];l[S]||(l[S]=[]);var A=De(O)?r:O;l[S].push({item:N[0],stackList:N.slice(1),barSize:De(A)?void 0:tr(A,n,0)})}}return l},Dz=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=tr(r,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=s/d,b=l.reduce(function(O,S){return O+S.barSize||0},0);b+=(d-1)*f,b>=s&&(b-=(d-1)*f,f=0),b>=s&&v>0&&(x=!0,v*=.9,b=d*v);var j=(s-b)/2>>0,y={offset:j-f,size:0};p=l.reduce(function(O,S){var A={item:S.item,position:{offset:y.offset+y.size+f,size:x?v:S.barSize}},E=[].concat(RA(O),[A]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){E.push({item:R,position:y})}),E},m)}else{var N=tr(n,s,0,!0);s-2*N-(d-1)*f<=0&&(f=0);var C=(s-2*N-(d-1)*f)/d;C>1&&(C>>=0);var _=u===+u?Math.min(C,u):C;p=l.reduce(function(O,S,A){var E=[].concat(RA(O),[{item:S.item,position:{offset:N+(C+f)*A+(C-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){E.push({item:R,position:E[E.length-1].position})}),E},m)}return p},Lz=function(t,r,n,s){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=X5({children:o,legendWidth:d});if(f){var p=s||{},m=p.width,x=p.height,v=f.align,b=f.verticalAlign,j=f.layout;if((j==="vertical"||j==="horizontal"&&b==="middle")&&v!=="center"&&xe(t[v]))return pt(pt({},t),{},pi({},v,t[v]+(m||0)));if((j==="horizontal"||j==="vertical"&&v==="center")&&b!=="middle"&&xe(t[b]))return pt(pt({},t),{},pi({},b,t[b]+(x||0)))}return t},Fz=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q5=function(t,r,n,s,o){var l=r.props.children,u=Sr(l,Sc).filter(function(f){return Fz(s,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=At(p,n);if(De(m))return f;var x=Array.isArray(m)?[Bf(m),Ff(m)]:[m,m],v=d.reduce(function(b,j){var y=At(p,j,0),N=x[0]-Math.abs(Array.isArray(y)?y[0]:y),C=x[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,b[0]),Math.max(C,b[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},Bz=function(t,r,n,s,o){var l=r.map(function(u){return Q5(t,u,n,o,s)}).filter(function(u){return!De(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},J5=function(t,r,n,s,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&Q5(t,d,f,s)||xl(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},Z5=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eT=function(t,r,n,s){if(s)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},zn=function(t,r,n){if(!t)return null;var s=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||n)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?er(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var x=o?o.indexOf(m):m;return{coordinate:s(x)+f,value:m,offset:f}});return p.filter(function(m){return!xc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:s(m)+f,value:m,index:x,offset:f}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,x){return{coordinate:s(m)+f,value:o?o[m]:m,index:x,offset:f}})},O0=new WeakMap,Yu=function(t,r){if(typeof r!="function")return t;O0.has(t)||O0.set(t,new WeakMap);var n=O0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},tT=function(t,r,n){var s=t.scale,o=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Rl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Ad(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gl(),realScaleType:"point"}:o==="category"?{scale:Rl(),realScaleType:"band"}:{scale:Ad(),realScaleType:"linear"};if(vs(s)){var d="scale".concat(Sf(s));return{scale:(vA[d]||gl)(),realScaleType:vA[d]?d:"point"}}return Ie(s)?{scale:s}:{scale:gl(),realScaleType:"point"}},IA=1e-4,rT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),o=Math.min(s[0],s[1])-IA,l=Math.max(s[0],s[1])+IA,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},qz=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},zz=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(o[0]=n),(!xe(t[1])||t[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},Uz=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,l=0,u=0;u<r;++u){var d=xc(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},Wz=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,l=0;l<r;++l){var u=xc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},Hz={sign:Uz,expand:T8,none:ki,silhouette:R8,wiggle:M8,positive:Wz},Kz=function(t,r,n){var s=r.map(function(u){return u.props.dataKey}),o=Hz[n],l=_8().keys(s).value(function(u,d){return+At(u,d,0)}).order(Ey).offset(o);return l(t)},Gz=function(t,r,n,s,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,x){var v,b=(v=x.type)!==null&&v!==void 0&&v.defaultProps?pt(pt({},x.type.defaultProps),x.props):x.props,j=b.stackId,y=b.hide;if(y)return m;var N=b[n],C=m[N]||{hasStack:!1,stackGroups:{}};if(Ct(j)){var _=C.stackGroups[j]||{numericAxisId:n,cateAxisId:s,items:[]};_.items.push(x),C.hasStack=!0,C.stackGroups[j]=_}else C.stackGroups[no("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[x]};return pt(pt({},m),{},pi({},N,C))},d),p={};return Object.keys(f).reduce(function(m,x){var v=f[x];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(j,y){var N=v.stackGroups[y];return pt(pt({},j),{},pi({},y,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:Kz(t,N.items,o)}))},b)}return pt(pt({},m),{},pi({},x,v))},p)},nT=function(t,r){var n=r.realScaleType,s=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=oz(f,o,u);return t.domain([Bf(p),Ff(p)]),{niceTicks:p}}if(o&&s==="number"){var m=t.domain(),x=lz(m,o,u);return{niceTicks:x}}return null};function $A(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(s[t.dataKey])){var u=ld(r,"value",s[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=At(s,De(l)?t.dataKey:l);return De(d)?null:t.scale(d)}var DA=function(t){var r=t.axis,n=t.ticks,s=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+s:null;var d=At(l,r.dataKey,r.domain[u]);return De(d)?null:r.scale(d)-o/2+s},Vz=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},Yz=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(Ct(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},Xz=function(t){return t.reduce(function(r,n){return[Bf(n.concat([r[0]]).filter(xe)),Ff(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},aT=function(t,r,n){return Object.keys(t).reduce(function(s,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,p){var m=Xz(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},LA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tv=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(xe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(LA.test(t[0])){var o=+LA.exec(t[0])[1];s[0]=r[0]-o}else Ie(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(xe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(FA.test(t[1])){var l=+FA.exec(t[1])[1];s[1]=r[1]+l}else Ie(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Md=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var o=wb(r,function(m){return m.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],p=o[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},BA=function(t,r,n){return!t||!t.length||Nc(t,Nr(n,"type.defaultProps.domain"))?r:t},sT=function(t,r){var n=t.type.defaultProps?pt(pt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return pt(pt({},Ce(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:o||s,color:Yb(t),value:At(r,s),type:d,payload:r,chartType:f,hide:p})};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){iT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iT(e,t,r){return t=Qz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Jz(e,"string");return zl(t)=="symbol"?t:t+""}function Jz(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zz(e,t){return nU(e)||rU(e,t)||tU(e,t)||eU()}function eU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(e,t){if(e){if(typeof e=="string")return zA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(e,t)}}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function nU(e){if(Array.isArray(e))return e}var Id=Math.PI/180,aU=function(t){return t*180/Math.PI},at=function(t,r,n,s){return{x:t+Math.cos(-Id*s)*n,y:r+Math.sin(-Id*s)*n}},oT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sU=function(t,r,n,s,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=tr(t.cx,l,l/2),m=tr(t.cy,u,u/2),x=oT(l,u,n),v=tr(t.innerRadius,x,0),b=tr(t.outerRadius,x,x*.8),j=Object.keys(r);return j.reduce(function(y,N){var C=r[N],_=C.domain,O=C.reversed,S;if(De(C.range))s==="angleAxis"?S=[d,f]:s==="radiusAxis"&&(S=[v,b]),O&&(S=[S[1],S[0]]);else{S=C.range;var A=S,E=Zz(A,2);d=E[0],f=E[1]}var R=tT(C,o),M=R.realScaleType,L=R.scale;L.domain(_).range(S),rT(L);var T=nT(L,Ln(Ln({},C),{},{realScaleType:M})),I=Ln(Ln(Ln({},C),T),{},{range:S,radius:b,realScaleType:M,scale:L,cx:p,cy:m,innerRadius:v,outerRadius:b,startAngle:d,endAngle:f});return Ln(Ln({},y),{},iT({},N,I))},{})},iU=function(t,r){var n=t.x,s=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-l,2))},oU=function(t,r){var n=t.x,s=t.y,o=r.cx,l=r.cy,u=iU({x:n,y:s},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:aU(f),angleInRadian:f}},lU=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(s,o);return{startAngle:r-l*360,endAngle:n-l*360}},cU=function(t,r){var n=r.startAngle,s=r.endAngle,o=Math.floor(n/360),l=Math.floor(s/360),u=Math.min(o,l);return t+u*360},UA=function(t,r){var n=t.x,s=t.y,o=oU({x:n,y:s},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=lU(r),m=p.startAngle,x=p.endAngle,v=u,b;if(m<=x){for(;v>x;)v-=360;for(;v<m;)v+=360;b=v>=m&&v<=x}else{for(;v>m;)v-=360;for(;v<x;)v+=360;b=v>=x&&v<=m}return b?Ln(Ln({},r),{},{radius:l,angle:cU(v,r)}):null},lT=function(t){return!k.isValidElement(t)&&!Ie(t)&&typeof t!="boolean"?t.className:""};function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var uU=["offset"];function dU(e){return pU(e)||mU(e)||hU(e)||fU()}function fU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(e,t){if(e){if(typeof e=="string")return rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rv(e,t)}}function mU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pU(e){if(Array.isArray(e))return rv(e)}function rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gU(e,t){if(e==null)return{};var r=xU(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=bU(e,"string");return Ul(t)=="symbol"?t:t+""}function bU(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}var jU=function(t){var r=t.value,n=t.formatter,s=De(t.children)?r:t.children;return Ie(n)?n(s):s},wU=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),360);return n*s},NU=function(t,r,n){var s=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,p=d.cy,m=d.innerRadius,x=d.outerRadius,v=d.startAngle,b=d.endAngle,j=d.clockWise,y=(m+x)/2,N=wU(v,b),C=N>=0?1:-1,_,O;s==="insideStart"?(_=v+C*l,O=j):s==="insideEnd"?(_=b-C*l,O=!j):s==="end"&&(_=b+C*l,O=j),O=N<=0?O:!O;var S=at(f,p,y,_),A=at(f,p,y,_+(O?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(A.x,",").concat(A.y),R=De(t.id)?no("recharts-radial-line-"):t.id;return V.createElement("text",Wl({},n,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:R,d:E})),V.createElement("textPath",{xlinkHref:"#".concat(R)},r))},SU=function(t){var r=t.viewBox,n=t.offset,s=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,p=o.startAngle,m=o.endAngle,x=(p+m)/2;if(s==="outside"){var v=at(l,u,f+n,x),b=v.x,j=v.y;return{x:b,y:j,textAnchor:b>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,N=at(l,u,y,x),C=N.x,_=N.y;return{x:C,y:_,textAnchor:"middle",verticalAnchor:"middle"}},kU=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,x=m*s,v=m>0?"end":"start",b=m>0?"start":"end",j=f>=0?1:-1,y=j*s,N=j>0?"end":"start",C=j>0?"start":"end";if(o==="top"){var _={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var O={x:u+f/2,y:d+p+x,textAnchor:"middle",verticalAnchor:b};return Ot(Ot({},O),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(o==="left"){var S={x:u-y,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return Ot(Ot({},S),n?{width:Math.max(S.x-n.x,0),height:p}:{})}if(o==="right"){var A={x:u+f+y,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return Ot(Ot({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var E=n?{width:f,height:p}:{};return o==="insideLeft"?Ot({x:u+y,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},E):o==="insideRight"?Ot({x:u+f-y,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},E):o==="insideTop"?Ot({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:b},E):o==="insideBottom"?Ot({x:u+f/2,y:d+p-x,textAnchor:"middle",verticalAnchor:v},E):o==="insideTopLeft"?Ot({x:u+y,y:d+x,textAnchor:C,verticalAnchor:b},E):o==="insideTopRight"?Ot({x:u+f-y,y:d+x,textAnchor:N,verticalAnchor:b},E):o==="insideBottomLeft"?Ot({x:u+y,y:d+p-x,textAnchor:C,verticalAnchor:v},E):o==="insideBottomRight"?Ot({x:u+f-y,y:d+p-x,textAnchor:N,verticalAnchor:v},E):ro(o)&&(xe(o.x)||ss(o.x))&&(xe(o.y)||ss(o.y))?Ot({x:u+tr(o.x,f),y:d+tr(o.y,p),textAnchor:"end",verticalAnchor:"end"},E):Ot({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},OU=function(t){return"cx"in t&&xe(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=gU(e,uU),s=Ot({offset:r},n),o=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,p=s.className,m=p===void 0?"":p,x=s.textBreakAll;if(!o||De(u)&&De(d)&&!k.isValidElement(f)&&!Ie(f))return null;if(k.isValidElement(f))return k.cloneElement(f,s);var v;if(Ie(f)){if(v=k.createElement(f,s),k.isValidElement(v))return v}else v=jU(s);var b=OU(o),j=Ce(s,!0);if(b&&(l==="insideStart"||l==="insideEnd"||l==="end"))return NU(s,v,j);var y=b?SU(s):kU(s);return V.createElement(js,Wl({className:Fe("recharts-label",m)},j,y,{breakAll:x}),v)}Dt.displayName="Label";var cT=function(t){var r=t.cx,n=t.cy,s=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,x=t.y,v=t.top,b=t.left,j=t.width,y=t.height,N=t.clockWise,C=t.labelViewBox;if(C)return C;if(xe(j)&&xe(y)){if(xe(m)&&xe(x))return{x:m,y:x,width:j,height:y};if(xe(v)&&xe(b))return{x:v,y:b,width:j,height:y}}return xe(m)&&xe(x)?{x:m,y:x,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:o||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},AU=function(t,r){return t?t===!0?V.createElement(Dt,{key:"label-implicit",viewBox:r}):Ct(t)?V.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Dt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?V.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):ro(t)?V.createElement(Dt,Wl({viewBox:r},t,{key:"label-implicit"})):null:null},PU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,o=cT(t),l=Sr(s,Dt).map(function(d,f){return k.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=AU(t.label,r||o);return[u].concat(dU(l))};Dt.parseViewBox=cT;Dt.renderCallByParent=PU;var A0,HA;function CU(){if(HA)return A0;HA=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return A0=e,A0}var EU=CU();const _U=Xe(EU);function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}var TU=["valueAccessor"],RU=["data","dataKey","clockWise","id","textBreakAll"];function MU(e){return LU(e)||DU(e)||$U(e)||IU()}function IU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(e,t){if(e){if(typeof e=="string")return nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nv(e,t)}}function DU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LU(e){if(Array.isArray(e))return nv(e)}function nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(this,arguments)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return t=BU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=qU(e,"string");return Hl(t)=="symbol"?t:t+""}function qU(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VA(e,t){if(e==null)return{};var r=zU(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UU=function(t){return Array.isArray(t.value)?_U(t.value):t.value};function Hn(e){var t=e.valueAccessor,r=t===void 0?UU:t,n=VA(e,TU),s=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=VA(n,RU);return!s||!s.length?null:V.createElement(Ke,{className:"recharts-label-list"},s.map(function(p,m){var x=De(o)?r(p,m):At(p&&p.payload,o),v=De(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(Dt,$d({},Ce(p,!0),f,v,{parentViewBox:p.parentViewBox,value:x,textBreakAll:d,viewBox:Dt.parseViewBox(De(l)?p:GA(GA({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Hn.displayName="LabelList";function WU(e,t){return e?e===!0?V.createElement(Hn,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Ie(e)?V.createElement(Hn,{key:"labelList-implicit",data:t,content:e}):ro(e)?V.createElement(Hn,$d({data:t},e,{key:"labelList-implicit"})):null:null}function HU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sr(n,Hn).map(function(l,u){return k.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var o=WU(e.label,t);return[o].concat(MU(s))}Hn.renderCallByParent=HU;function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(this,arguments)}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return t=GU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=VU(e,"string");return Kl(t)=="symbol"?t:t+""}function VU(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YU=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Xu=function(t){var r=t.cx,n=t.cy,s=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/Id,x=f?o:o+l*m,v=at(r,n,p,x),b=at(r,n,s,x),j=f?o-l*m:o,y=at(r,n,p*Math.cos(m*Id),j);return{center:v,circleTangency:b,lineTangency:y,theta:m}},uT=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=YU(l,u),f=l+d,p=at(r,n,o,l),m=at(r,n,o,f),x="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var v=at(r,n,s,l),b=at(r,n,s,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},XU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=er(p-f),x=Xu({cx:r,cy:n,radius:o,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),v=x.circleTangency,b=x.lineTangency,j=x.theta,y=Xu({cx:r,cy:n,radius:o,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),N=y.circleTangency,C=y.lineTangency,_=y.theta,O=d?Math.abs(f-p):Math.abs(f-p)-j-_;if(O<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):uT({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var A=Xu({cx:r,cy:n,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),E=A.circleTangency,R=A.lineTangency,M=A.theta,L=Xu({cx:r,cy:n,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=L.circleTangency,I=L.lineTangency,G=L.theta,X=d?Math.abs(f-p):Math.abs(f-p)-M-G;if(X<0&&l===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(X>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},QU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dT=function(t){var r=XA(XA({},QU),t),n=r.cx,s=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,x=r.className;if(l<o||p===m)return null;var v=Fe("recharts-sector",x),b=l-o,j=tr(u,b,0,!0),y;return j>0&&Math.abs(p-m)<360?y=XU({cx:n,cy:s,innerRadius:o,outerRadius:l,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=uT({cx:n,cy:s,innerRadius:o,outerRadius:l,startAngle:p,endAngle:m}),V.createElement("path",av({},Ce(r,!0),{className:v,d:y,role:"img"}))};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(this,arguments)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return t=ZU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=eW(e,"string");return Gl(t)=="symbol"?t:t+""}function eW(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZA={curveBasisClosed:b8,curveBasisOpen:j8,curveBasis:v8,curveBumpX:s8,curveBumpY:i8,curveLinearClosed:w8,curveLinear:Of,curveMonotoneX:N8,curveMonotoneY:S8,curveNatural:k8,curveStep:O8,curveStepAfter:P8,curveStepBefore:A8},Qu=function(t){return t.x===+t.x&&t.y===+t.y},il=function(t){return t.x},ol=function(t){return t.y},tW=function(t,r){if(Ie(t))return t;var n="curve".concat(Sf(t));return(n==="curveMonotone"||n==="curveBump")&&r?ZA["".concat(n).concat(r==="vertical"?"Y":"X")]:ZA[n]||Of},rW=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,o=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=tW(n,u),m=f?o.filter(function(j){return Qu(j)}):o,x;if(Array.isArray(l)){var v=f?l.filter(function(j){return Qu(j)}):l,b=m.map(function(j,y){return JA(JA({},j),{},{base:v[y]})});return u==="vertical"?x=zu().y(ol).x1(il).x0(function(j){return j.base.x}):x=zu().x(il).y1(ol).y0(function(j){return j.base.y}),x.defined(Qu).curve(p),x(b)}return u==="vertical"&&xe(l)?x=zu().y(ol).x1(il).x0(l):xe(l)?x=zu().x(il).y1(ol).y0(l):x=u_().x(il).y(ol),x.defined(Qu).curve(p),x(m)},Dd=function(t){var r=t.className,n=t.points,s=t.path,o=t.pathRef;if((!n||!n.length)&&!s)return null;var l=n&&n.length?rW(t):s;return k.createElement("path",sv({},Ce(t,!1),cd(t),{className:Fe("recharts-curve",r),d:l,ref:o}))},P0={exports:{}},C0,eP;function nW(){if(eP)return C0;eP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return C0=e,C0}var E0,tP;function aW(){if(tP)return E0;tP=1;var e=nW();function t(){}function r(){}return r.resetWarningCache=t,E0=function(){function n(l,u,d,f,p,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function s(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},E0}var rP;function sW(){return rP||(rP=1,P0.exports=aW()()),P0.exports}var iW=sW();const Ye=Xe(iW),{getOwnPropertyNames:oW,getOwnPropertySymbols:lW}=Object,{hasOwnProperty:cW}=Object.prototype;function _0(e,t){return function(n,s,o){return e(n,s,o)&&t(n,s,o)}}function Ju(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:o}=s,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,s);return o.delete(r),o.delete(n),d}}function uW(e){return e!=null?e[Symbol.toStringTag]:void 0}function nP(e){return oW(e).concat(lW(e))}const dW=Object.hasOwn||((e,t)=>cW.call(e,t));function _s(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const fW="__v",hW="__o",mW="_owner",{getOwnPropertyDescriptor:aP,keys:sP}=Object;function pW(e,t){return e.byteLength===t.byteLength&&Ld(new Uint8Array(e),new Uint8Array(t))}function gW(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function xW(e,t){return e.byteLength===t.byteLength&&Ld(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function yW(e,t){return _s(e.getTime(),t.getTime())}function vW(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bW(e,t){return e===t}function iP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let p=!1,m=0;for(;(u=f.next())&&!u.done;){if(s[m]){m++;continue}const x=l.value,v=u.value;if(r.equals(x[0],v[0],d,m,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const jW=_s;function wW(e,t,r){const n=sP(e);let s=n.length;if(sP(t).length!==s)return!1;for(;s-- >0;)if(!fT(e,t,r,n[s]))return!1;return!0}function ll(e,t,r){const n=nP(e);let s=n.length;if(nP(t).length!==s)return!1;let o,l,u;for(;s-- >0;)if(o=n[s],!fT(e,t,r,o)||(l=aP(e,o),u=aP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function NW(e,t){return _s(e.valueOf(),t.valueOf())}function SW(e,t){return e.source===t.source&&e.flags===t.flags}function oP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!s[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function Ld(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kW(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fT(e,t,r,n){return(n===mW||n===hW||n===fW)&&(e.$$typeof||t.$$typeof)?!0:dW(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const OW="[object ArrayBuffer]",AW="[object Arguments]",PW="[object Boolean]",CW="[object DataView]",EW="[object Date]",_W="[object Error]",TW="[object Map]",RW="[object Number]",MW="[object Object]",IW="[object RegExp]",$W="[object Set]",DW="[object String]",LW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},FW="[object URL]",BW=Object.prototype.toString;function qW({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:b}){return function(y,N,C){if(y===N)return!0;if(y==null||N==null)return!1;const _=typeof y;if(_!==typeof N)return!1;if(_!=="object")return _==="number"?u(y,N,C):_==="function"?o(y,N,C):!1;const O=y.constructor;if(O!==N.constructor)return!1;if(O===Object)return d(y,N,C);if(Array.isArray(y))return t(y,N,C);if(O===Date)return n(y,N,C);if(O===RegExp)return p(y,N,C);if(O===Map)return l(y,N,C);if(O===Set)return m(y,N,C);const S=BW.call(y);if(S===EW)return n(y,N,C);if(S===IW)return p(y,N,C);if(S===TW)return l(y,N,C);if(S===$W)return m(y,N,C);if(S===MW)return typeof y.then!="function"&&typeof N.then!="function"&&d(y,N,C);if(S===FW)return v(y,N,C);if(S===_W)return s(y,N,C);if(S===AW)return d(y,N,C);if(LW[S])return x(y,N,C);if(S===OW)return e(y,N,C);if(S===CW)return r(y,N,C);if(S===PW||S===RW||S===DW)return f(y,N,C);if(b){let A=b[S];if(!A){const E=uW(y);E&&(A=b[E])}if(A)return A(y,N,C)}return!1}}function zW({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:pW,areArraysEqual:r?ll:gW,areDataViewsEqual:xW,areDatesEqual:yW,areErrorsEqual:vW,areFunctionsEqual:bW,areMapsEqual:r?_0(iP,ll):iP,areNumbersEqual:jW,areObjectsEqual:r?ll:wW,arePrimitiveWrappersEqual:NW,areRegExpsEqual:SW,areSetsEqual:r?_0(oP,ll):oP,areTypedArraysEqual:r?_0(Ld,ll):Ld,areUrlsEqual:kW,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Ju(n.areArraysEqual),o=Ju(n.areMapsEqual),l=Ju(n.areObjectsEqual),u=Ju(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function UW(e){return function(t,r,n,s,o,l,u){return e(t,r,u)}}function WW({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(u,d,{cache:f,equals:n,meta:p,strict:s})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const o={cache:void 0,equals:n,meta:void 0,strict:s};return function(u,d){return t(u,d,o)}}const HW=La();La({strict:!0});La({circular:!0});La({circular:!0,strict:!0});La({createInternalComparator:()=>_s});La({strict:!0,createInternalComparator:()=>_s});La({circular:!0,createInternalComparator:()=>_s});La({circular:!0,createInternalComparator:()=>_s,strict:!0});function La(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,o=zW(e),l=qW(o),u=r?r(l):UW(l);return WW({circular:t,comparator:l,createState:n,equals:u,strict:s})}function KW(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(o){r<0&&(r=o),o-r>t?(e(o),r=-1):KW(s)};requestAnimationFrame(n)}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function GW(e){return QW(e)||XW(e)||YW(e)||VW()}function VW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QW(e){if(Array.isArray(e))return e}function JW(){var e={},t=function(){return null},r=!1,n=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=GW(l),d=u[0],f=u.slice(1);if(typeof d=="number"){lP(s.bind(null,f),d);return}s(d),lP(s.bind(null,f));return}iv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){hT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hT(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=eH(e,"string");return Vl(t)==="symbol"?t:String(t)}function eH(e,t){if(Vl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},rH=function(t){return t},nH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yl=function(t,r){return Object.keys(r).reduce(function(n,s){return dP(dP({},n),{},hT({},s,t(s,r[s])))},{})},fP=function(t,r,n){return t.map(function(s){return"".concat(nH(s)," ").concat(r,"ms ").concat(n)}).join(",")};function aH(e,t){return oH(e)||iH(e,t)||mT(e,t)||sH()}function sH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function oH(e){if(Array.isArray(e))return e}function lH(e){return dH(e)||uH(e)||mT(e)||cH()}function cH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mT(e,t){if(e){if(typeof e=="string")return ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(e,t)}}function uH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dH(e){if(Array.isArray(e))return ov(e)}function ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fd=1e-4,pT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},gT=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},hP=function(t,r){return function(n){var s=pT(t,r);return gT(s,n)}},fH=function(t,r){return function(n){var s=pT(t,r),o=[].concat(lH(s.map(function(l,u){return l*u}).slice(1)),[0]);return gT(o,n)}},mP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,l=1,u=1;break;case"ease":s=.25,o=.1,l=.25,u=1;break;case"ease-in":s=.42,o=0,l=1,u=1;break;case"ease-out":s=.42,o=0,l=.58,u=1;break;case"ease-in-out":s=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=aH(f,4);s=p[0],o=p[1],l=p[2],u=p[3]}}}var m=hP(s,l),x=hP(o,u),v=fH(s,l),b=function(N){return N>1?1:N<0?0:N},j=function(N){for(var C=N>1?1:N,_=C,O=0;O<8;++O){var S=m(_)-C,A=v(_);if(Math.abs(S-C)<Fd||A<Fd)return x(_);_=b(_-S/A)}return x(_)};return j.isStepper=!1,j},hH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,o=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,x){var v=-(p-m)*n,b=x*o,j=x+(v-b)*u/1e3,y=x*u/1e3+p;return Math.abs(y-m)<Fd&&Math.abs(j)<Fd?[m,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},mH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mP(s);case"spring":return hH();default:if(s.split("(")[0]==="cubic-bezier")return mP(s)}return typeof s=="function"?s:null};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function pP(e){return xH(e)||gH(e)||xT(e)||pH()}function pH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xH(e){if(Array.isArray(e))return cv(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lv(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=vH(e,"string");return Yl(t)==="symbol"?t:String(t)}function vH(e,t){if(Yl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bH(e,t){return NH(e)||wH(e,t)||xT(e,t)||jH()}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xT(e,t){if(e){if(typeof e=="string")return cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(e,t)}}function cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function NH(e){if(Array.isArray(e))return e}var Bd=function(t,r,n){return t+(r-t)*n},uv=function(t){var r=t.from,n=t.to;return r!==n},SH=function e(t,r,n){var s=yl(function(o,l){if(uv(l)){var u=t(l.from,l.to,l.velocity),d=bH(u,2),f=d[0],p=d[1];return qt(qt({},l),{},{from:f,velocity:p})}return l},r);return n<1?yl(function(o,l){return uv(l)?qt(qt({},l),{},{velocity:Bd(l.velocity,s[o].velocity,n),from:Bd(l.from,s[o].from,n)}):l},r):e(t,s,n-1)};const kH=(function(e,t,r,n,s){var o=tH(e,t),l=o.reduce(function(y,N){return qt(qt({},y),{},lv({},N,[e[N],t[N]]))},{}),u=o.reduce(function(y,N){return qt(qt({},y),{},lv({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,f,p,m=function(){return null},x=function(){return yl(function(N,C){return C.from},u)},v=function(){return!Object.values(u).filter(uv).length},b=function(N){f||(f=N);var C=N-f,_=C/r.dt;u=SH(r,u,_),s(qt(qt(qt({},e),t),x())),f=N,v()||(d=requestAnimationFrame(m))},j=function(N){p||(p=N);var C=(N-p)/n,_=yl(function(S,A){return Bd.apply(void 0,pP(A).concat([r(C)]))},l);if(s(qt(qt(qt({},e),t),_)),C<1)d=requestAnimationFrame(m);else{var O=yl(function(S,A){return Bd.apply(void 0,pP(A).concat([r(1)]))},l);s(qt(qt(qt({},e),t),O))}};return m=r.isStepper?b:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}var OH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AH(e,t){if(e==null)return{};var r=PH(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PH(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function T0(e){return TH(e)||_H(e)||EH(e)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(e,t){if(e){if(typeof e=="string")return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(e,t)}}function _H(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TH(e){if(Array.isArray(e))return dv(e)}function dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ml(e,t,r){return t=yT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yT(n.key),n)}}function IH(e,t,r){return t&&MH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yT(e){var t=$H(e,"string");return Mi(t)==="symbol"?t:String(t)}function $H(e,t){if(Mi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fv(e,t)}function fv(e,t){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fv(e,t)}function LH(e){var t=FH();return function(){var n=qd(e),s;if(t){var o=qd(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return hv(this,s)}}function hv(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mv(e)}function mv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}var Nn=(function(e){DH(r,e);var t=LH(r);function r(n,s){var o;RH(this,r),o=t.call(this,n,s);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,x=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(mv(o)),o.changeStyle=o.changeStyle.bind(mv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:p}),hv(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof x=="function")return o.state={style:f},hv(o);o.state={style:d?ml({},d,f):f}}else o.state={style:{}};return o}return IH(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,l=s.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,p=o.to,m=o.from,x=this.state.style;if(u){if(!l){var v={style:d?ml({},d,p):p};this.state&&x&&(d&&x[d]!==p||!d&&x!==p)&&this.setState(v);return}if(!(HW(s.to,p)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=b||f?m:s.to;if(this.state&&x){var y={style:d?ml({},d,j):j};(d&&x[d]!==j||!d&&x!==j)&&this.setState(y)}this.runAnimation(Yr(Yr({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,l=s.from,u=s.to,d=s.duration,f=s.easing,p=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,v=kH(l,u,mH(f),d,this.changeStyle),b=function(){o.stopJSAnimation=v()};this.manager.start([x,p,b,d,m])}},{key:"runStepAnimation",value:function(s){var o=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],p=f.style,m=f.duration,x=m===void 0?0:m,v=function(j,y,N){if(N===0)return j;var C=y.duration,_=y.easing,O=_===void 0?"ease":_,S=y.style,A=y.properties,E=y.onAnimationEnd,R=N>0?l[N-1]:y,M=A||Object.keys(S);if(typeof O=="function"||O==="spring")return[].concat(T0(j),[o.runJSAnimation.bind(o,{from:R.style,to:S,duration:C,easing:O}),C]);var L=fP(M,C,O),T=Yr(Yr(Yr({},R.style),S),{},{transition:L});return[].concat(T0(j),[T,C,E]).filter(rH)};return this.manager.start([d].concat(T0(l.reduce(v,[p,Math.max(x,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=JW());var o=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,v=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var j=u?ml({},u,d):d,y=fP(Object.keys(j),l,f);b.start([p,o,Yr(Yr({},j),{},{transition:y}),l,m])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=AH(s,OH),f=k.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!u||f===0||l<=0)return o;var m=function(v){var b=v.props,j=b.style,y=j===void 0?{}:j,N=b.className,C=k.cloneElement(v,Yr(Yr({},d),{},{style:Yr(Yr({},y),p),className:N}));return C};return f===1?m(k.Children.only(o)):V.createElement("div",null,k.Children.map(o,function(x){return m(x)}))}}]),r})(k.PureComponent);Nn.displayName="Animate";Nn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Nn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function BH(e,t){return WH(e)||UH(e,t)||zH(e,t)||qH()}function qH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zH(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function WH(e){if(Array.isArray(e))return e}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=GH(e,"string");return Xl(t)=="symbol"?t:t+""}function GH(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=function(t,r,n,s,o){var l=Math.min(Math.abs(n)/2,Math.abs(s)/2),u=s>=0?1:-1,d=n>=0?1:-1,f=s>=0&&n>=0||s<0&&n<0?1:0,p;if(l>0&&o instanceof Array){for(var m=[0,0,0,0],x=0,v=4;x<v;x++)m[x]=o[x]>l?l:o[x];p="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),p+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*m[1])),p+="L ".concat(t+n,",").concat(r+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+s)),p+="L ".concat(t+d*m[3],",").concat(r+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*m[3])),p+="Z"}else if(l>0&&o===+o&&o>0){var b=Math.min(l,o);p="M ".concat(t,",").concat(r+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+d*b,",").concat(r,`
            L `).concat(t+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*b,`
            L `).concat(t+n,",").concat(r+s-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-d*b,",").concat(r+s,`
            L `).concat(t+d*b,",").concat(r+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*b," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return p},VH=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),p=Math.max(o,o+u),m=Math.min(l,l+d),x=Math.max(l,l+d);return n>=f&&n<=p&&s>=m&&s<=x}return!1},YH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xb=function(t){var r=bP(bP({},YH),t),n=k.useRef(),s=k.useState(-1),o=BH(s,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,x=r.radius,v=r.className,b=r.animationEasing,j=r.animationDuration,y=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var _=Fe("recharts-rectangle",v);return C?V.createElement(Nn,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:j,animationEasing:b,isActive:C},function(O){var S=O.width,A=O.height,E=O.x,R=O.y;return V.createElement(Nn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:N,easing:b},V.createElement("path",zd({},Ce(r,!0),{className:_,d:jP(E,R,S,A,x),ref:n})))}):V.createElement("path",zd({},Ce(r,!0),{className:_,d:jP(d,f,p,m,x)}))},XH=["points","className","baseLinePoints","connectNulls"];function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function QH(e,t){if(e==null)return{};var r=JH(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wP(e){return rK(e)||tK(e)||eK(e)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(e,t){if(e){if(typeof e=="string")return pv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pv(e,t)}}function tK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rK(e){if(Array.isArray(e))return pv(e)}function pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NP=function(t){return t&&t.x===+t.x&&t.y===+t.y},nK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){NP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),NP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vl=function(t,r){var n=nK(t);r&&(n=[n.reduce(function(o,l){return[].concat(wP(o),wP(l))},[])]);var s=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},aK=function(t,r,n){var s=vl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(vl(r.reverse(),n).slice(1))},sK=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,o=t.connectNulls,l=QH(t,XH);if(!r||!r.length)return null;var u=Fe("recharts-polygon",n);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=aK(r,s,o);return V.createElement("g",{className:u},V.createElement("path",ci({},Ce(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?V.createElement("path",ci({},Ce(l,!0),{fill:"none",d:vl(r,o)})):null,d?V.createElement("path",ci({},Ce(l,!0),{fill:"none",d:vl(s,o)})):null)}var p=vl(r,o);return V.createElement("path",ci({},Ce(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}var Uf=function(t){var r=t.cx,n=t.cy,s=t.r,o=t.className,l=Fe("recharts-dot",o);return r===+r&&n===+n&&s===+s?k.createElement("circle",gv({},Ce(t,!1),cd(t),{className:l,cx:r,cy:n,r:s})):null};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var iK=["x","y","top","left","width","height","className"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){lK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lK(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=uK(e,"string");return Ql(t)=="symbol"?t:t+""}function uK(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dK(e,t){if(e==null)return{};var r=fK(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hK=function(t,r,n,s,o,l){return"M".concat(t,",").concat(o,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(n)},mK=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,x=t.height,v=x===void 0?0:x,b=t.className,j=dK(t,iK),y=oK({x:n,y:o,top:u,left:f,width:m,height:v},j);return!xe(n)||!xe(o)||!xe(m)||!xe(v)||!xe(u)||!xe(f)?null:V.createElement("path",xv({},Ce(y,!0),{className:Fe("recharts-cross",b),d:hK(n,o,m,v,u,f)}))},R0,kP;function pK(){if(kP)return R0;kP=1;var e=Lf(),t=R5(),r=On();function n(s,o){return s&&s.length?e(s,r(o,2),t):void 0}return R0=n,R0}var gK=pK();const xK=Xe(gK);var M0,OP;function yK(){if(OP)return M0;OP=1;var e=Lf(),t=On(),r=M5();function n(s,o){return s&&s.length?e(s,t(o,2),r):void 0}return M0=n,M0}var vK=yK();const bK=Xe(vK);var jK=["cx","cy","angle","ticks","axisLine"],wK=["ticks","tick","angle","tickFormatter","stroke"];function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PP(e,t){if(e==null)return{};var r=NK(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bT(n.key),n)}}function kK(e,t,r){return t&&CP(e.prototype,t),r&&CP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OK(e,t,r){return t=Ud(t),AK(e,vT()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function AK(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PK(e)}function PK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vT=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yv(e,t)}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yv(e,t)}function Wf(e,t,r){return t=bT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bT(e){var t=EK(e,"string");return Ii(t)=="symbol"?t:t+""}function EK(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf=(function(e){function t(){return SK(this,t),OK(this,t,arguments)}return CK(t,e),kK(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return at(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=xK(u,function(p){return p.coordinate||0}),f=bK(u,function(p){return p.coordinate||0});return{cx:s,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=PP(n,jK),p=u.reduce(function(b,j){return[Math.min(b[0],j.coordinate),Math.max(b[1],j.coordinate)]},[1/0,-1/0]),m=at(s,o,p[0],l),x=at(s,o,p[1],l),v=Za(Za(Za({},Ce(f,!1)),{},{fill:"none"},Ce(d,!1)),{},{x1:m.x,y1:m.y,x2:x.x,y2:x.y});return V.createElement("line",bl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,p=PP(s,wK),m=this.getTickTextAnchor(),x=Ce(p,!1),v=Ce(l,!1),b=o.map(function(j,y){var N=n.getTickValueCoord(j),C=Za(Za(Za(Za({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(N.x,", ").concat(N.y,")")},x),{},{stroke:"none",fill:f},v),{},{index:y},N),{},{payload:j});return V.createElement(Ke,bl({className:Fe("recharts-polar-radius-axis-tick",lT(l)),key:"tick-".concat(j.coordinate)},bs(n.props,j,y)),t.renderTickItem(l,C,d?d(j.value,y):j.value))});return V.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.axisLine,l=n.tick;return!s||!s.length?null:V.createElement(Ke,{className:Fe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):Ie(n)?l=n(s):l=V.createElement(js,bl({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(k.PureComponent);Wf(Hf,"displayName","PolarRadiusAxis");Wf(Hf,"axisType","radiusAxis");Wf(Hf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wT(n.key),n)}}function TK(e,t,r){return t&&_P(e.prototype,t),r&&_P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RK(e,t,r){return t=Wd(t),MK(e,jT()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function MK(e,t){if(t&&($i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IK(e)}function IK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function $K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vv(e,t)}function Kf(e,t,r){return t=wT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wT(e){var t=DK(e,"string");return $i(t)=="symbol"?t:t+""}function DK(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LK=Math.PI/180,TP=1e-5,Gf=(function(e){function t(){return _K(this,t),RK(this,t,arguments)}return $K(t,e),TK(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,p=f||8,m=at(o,l,u,n.coordinate),x=at(o,l,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,o=Math.cos(-n.coordinate*LK),l;return o>TP?l=s==="outer"?"start":"end":o<-TP?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=es(es({},Ce(this.props,!1)),{},{fill:"none"},Ce(u,!1));if(d==="circle")return V.createElement(Uf,ns({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:o,r:l}));var p=this.props.ticks,m=p.map(function(x){return at(s,o,l,x.coordinate)});return V.createElement(sK,ns({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,p=Ce(this.props,!1),m=Ce(l,!1),x=es(es({},p),{},{fill:"none"},Ce(u,!1)),v=o.map(function(b,j){var y=n.getTickLineCoord(b),N=n.getTickTextAnchor(b),C=es(es(es({textAnchor:N},p),{},{stroke:"none",fill:f},m),{},{index:j,payload:b,x:y.x2,y:y.y2});return V.createElement(Ke,ns({className:Fe("recharts-polar-angle-axis-tick",lT(l)),key:"tick-".concat(b.coordinate)},bs(n.props,b,j)),u&&V.createElement("line",ns({className:"recharts-polar-angle-axis-tick-line"},x,y)),l&&t.renderTickItem(l,C,d?d(b.value,j):b.value))});return V.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!s||!s.length?null:V.createElement(Ke,{className:Fe("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,s):Ie(n)?l=n(s):l=V.createElement(js,ns({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(k.PureComponent);Kf(Gf,"displayName","PolarAngleAxis");Kf(Gf,"axisType","angleAxis");Kf(Gf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var I0,RP;function FK(){if(RP)return I0;RP=1;var e=R_(),t=e(Object.getPrototypeOf,Object);return I0=t,I0}var $0,MP;function BK(){if(MP)return $0;MP=1;var e=Xn(),t=FK(),r=Qn(),n="[object Object]",s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var m=t(p);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return $0=f,$0}var qK=BK();const zK=Xe(qK);var D0,IP;function UK(){if(IP)return D0;IP=1;var e=Xn(),t=Qn(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return D0=n,D0}var WK=UK();const HK=Xe(WK);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function KK(e,t){return XK(e)||YK(e,t)||VK(e,t)||GK()}function GK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function XK(e){if(Array.isArray(e))return e}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return t=JK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JK(e){var t=ZK(e,"string");return Jl(t)=="symbol"?t:t+""}function ZK(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FP=function(t,r,n,s,o){var l=n-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-s,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},eG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tG=function(t){var r=LP(LP({},eG),t),n=k.useRef(),s=k.useState(-1),o=KK(s,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,x=r.height,v=r.className,b=r.animationEasing,j=r.animationDuration,y=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||x!==+x||p===0&&m===0||x===0)return null;var C=Fe("recharts-trapezoid",v);return N?V.createElement(Nn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:x,x:d,y:f},duration:j,animationEasing:b,isActive:N},function(_){var O=_.upperWidth,S=_.lowerWidth,A=_.height,E=_.x,R=_.y;return V.createElement(Nn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:b},V.createElement("path",Hd({},Ce(r,!0),{className:C,d:FP(E,R,O,S,A),ref:n})))}):V.createElement("g",null,V.createElement("path",Hd({},Ce(r,!0),{className:C,d:FP(d,f,p,m,x)})))},rG=["option","shapeType","propTransformer","activeClassName","isActive"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function nG(e,t){if(e==null)return{};var r=aG(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return t=iG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=oG(e,"string");return Zl(t)=="symbol"?t:t+""}function oG(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t){return Kd(Kd({},t),e)}function cG(e,t){return e==="symbols"}function qP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(Xb,r);case"trapezoid":return V.createElement(tG,r);case"sector":return V.createElement(dT,r);case"symbols":if(cG(t))return V.createElement(mb,r);break;default:return null}}function uG(e){return k.isValidElement(e)?e.props:e}function NT(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?lG:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=nG(e,rG),f;if(k.isValidElement(t))f=k.cloneElement(t,Kd(Kd({},d),uG(t)));else if(Ie(t))f=t(d);else if(zK(t)&&!HK(t)){var p=s(t,d);f=V.createElement(qP,{shapeType:r,elementProps:p})}else{var m=d;f=V.createElement(qP,{shapeType:r,elementProps:m})}return u?V.createElement(Ke,{className:l},f):f}function Vf(e,t){return t!=null&&"trapezoids"in e.props}function Yf(e,t){return t!=null&&"sectors"in e.props}function ec(e,t){return t!=null&&"points"in e.props}function dG(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&o}function fG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hG(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function mG(e,t){var r;return Vf(e,t)?r=dG:Yf(e,t)?r=fG:ec(e,t)&&(r=hG),r}function pG(e,t){var r;return Vf(e,t)?r="trapezoids":Yf(e,t)?r="sectors":ec(e,t)&&(r="points"),r}function gG(e,t){if(Vf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ec(e,t)?t.payload:{}}function xG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=pG(r,t),o=gG(r,t),l=n.filter(function(d,f){var p=Nc(o,d),m=r.props[s].filter(function(b){var j=mG(r,t);return j(b,t)}),x=r.props[s].indexOf(m[m.length-1]),v=f===x;return p&&v}),u=n.indexOf(l[l.length-1]);return u}var ad;function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kT(n.key),n)}}function vG(e,t,r){return t&&UP(e.prototype,t),r&&UP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bG(e,t,r){return t=Gd(t),jG(e,ST()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function jG(e,t){if(t&&(Di(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wG(e)}function wG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ST(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ST=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function NG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}function bv(e,t){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bv(e,t)}function $r(e,t,r){return t=kT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=SG(e,"string");return Di(t)=="symbol"?t:t+""}function SG(e,t){if(Di(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zn=(function(e){function t(r){var n;return yG(this,t),n=bG(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",no("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ie(s)&&s()}),$r(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ie(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return NG(t,e),vG(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,p=Ce(this.props,!1),m=Ce(l,!1),x=Ce(u,!1),v=l&&l.offsetRadius||20,b=n.map(function(j,y){var N=(j.startAngle+j.endAngle)/2,C=at(j.cx,j.cy,j.outerRadius+v,N),_=rt(rt(rt(rt({},p),j),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(C.x,j.cx)},C),O=rt(rt(rt(rt({},p),j),{},{fill:"none",stroke:j.fill},x),{},{index:y,points:[at(j.cx,j.cy,j.outerRadius,N),C]}),S=d;return De(d)&&De(f)?S="value":De(d)&&(S=f),V.createElement(Ke,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,O,"line"),t.renderLabelItem(l,_,At(j,S)))});return V.createElement(Ke,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var s=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(p),x=d&&s.hasActiveIndex()?d:null,v=m?l:x,b=rt(rt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(Ke,ui({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},bs(s.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),V.createElement(NT,ui({option:v,isActive:m,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,o=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state,x=m.prevSectors,v=m.prevIsAnimationActive;return V.createElement(Nn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var j=b.t,y=[],N=o&&o[0],C=N.startAngle;return o.forEach(function(_,O){var S=x&&x[O],A=O>0?Nr(_,"paddingAngle",0):0;if(S){var E=jr(S.endAngle-S.startAngle,_.endAngle-_.startAngle),R=rt(rt({},_),{},{startAngle:C+A,endAngle:C+E(j)+A});y.push(R),C=R.endAngle}else{var M=_.endAngle,L=_.startAngle,T=jr(0,M-L),I=T(j),G=rt(rt({},_),{},{startAngle:C+A,endAngle:C+I+A});y.push(G),C=G.endAngle}}),V.createElement(Ke,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&s&&s.length&&(!l||!Nc(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,o=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,p=s.cy,m=s.innerRadius,x=s.outerRadius,v=s.isAnimationActive,b=this.state.isAnimationFinished;if(o||!l||!l.length||!xe(f)||!xe(p)||!xe(m)||!xe(x))return null;var j=Fe("recharts-pie",u);return V.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:j,ref:function(N){n.pieRef=N}},this.renderSectors(),d&&this.renderLabels(l),Dt.renderCallByParent(this.props,null,!1),(!v||b)&&Hn.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,o){if(V.isValidElement(n))return V.cloneElement(n,s);if(Ie(n))return n(s);var l=Fe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(Dd,ui({},s,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,s,o){if(V.isValidElement(n))return V.cloneElement(n,s);var l=o;if(Ie(n)&&(l=n(s),V.isValidElement(l)))return l;var u=Fe("recharts-pie-label-text",typeof n!="boolean"&&!Ie(n)?n.className:"");return V.createElement(js,ui({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(k.PureComponent);ad=Zn;$r(Zn,"displayName","Pie");$r(Zn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ps.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Zn,"parseDeltaAngle",function(e,t){var r=er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Zn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ce(e,!1),s=Sr(r,_f);return t&&t.length?t.map(function(o,l){return rt(rt(rt({payload:o},n),o),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(o){return rt(rt({},n),o.props)}):[]});$r(Zn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,o=t.height,l=oT(s,o),u=n+tr(e.cx,s,s/2),d=r+tr(e.cy,o,o/2),f=tr(e.innerRadius,l,0),p=tr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});$r(Zn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?rt(rt({},t.type.defaultProps),t.props):t.props,s=ad.getRealPieData(n);if(!s||!s.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,x=n.tooltipType,v=Math.abs(n.minAngle),b=ad.parseCoordinateOfPie(n,r),j=ad.parseDeltaAngle(l,u),y=Math.abs(j),N=f;De(f)&&De(m)?(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):De(f)&&(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var C=s.filter(function(R){return At(R,N,0)!==0}).length,_=(y>=360?C:C-1)*d,O=y-C*v-_,S=s.reduce(function(R,M){var L=At(M,N,0);return R+(xe(L)?L:0)},0),A;if(S>0){var E;A=s.map(function(R,M){var L=At(R,N,0),T=At(R,p,M),I=(xe(L)?L:0)/S,G;M?G=E.endAngle+er(j)*d*(L!==0?1:0):G=l;var X=G+er(j)*((L!==0?v:0)+I*O),U=(G+X)/2,q=(b.innerRadius+b.outerRadius)/2,D=[{name:T,value:L,payload:R,dataKey:N,type:x}],W=at(b.cx,b.cy,q,U);return E=rt(rt(rt({percent:I,cornerRadius:o,name:T,tooltipPayload:D,midAngle:U,middleRadius:q,tooltipPosition:W},R),b),{},{value:At(R,N),startAngle:G,endAngle:X,payload:R,paddingAngle:er(j)*d}),E})}return rt(rt({},b),{},{sectors:A,data:s})});var L0,WP;function kG(){if(WP)return L0;WP=1;var e=Math.ceil,t=Math.max;function r(n,s,o,l){for(var u=-1,d=t(e((s-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return L0=r,L0}var F0,HP;function OT(){if(HP)return F0;HP=1;var e=Y_(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var o=s<0?-1:1;return o*r}return s===s?s:0}return F0=n,F0}var B0,KP;function OG(){if(KP)return B0;KP=1;var e=kG(),t=Ef(),r=OT();function n(s){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,s)}}return B0=n,B0}var q0,GP;function AG(){if(GP)return q0;GP=1;var e=OG(),t=e();return q0=t,q0}var PG=AG();const Vd=Xe(PG);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){AT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AT(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=EG(e,"string");return tc(t)=="symbol"?t:t+""}function EG(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=["Webkit","Moz","O","ms"],TG=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),s=_G.reduce(function(o,l){return YP(YP({},o),{},AT({},l+n,r))},{});return s[t]=r,s};function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CT(n.key),n)}}function MG(e,t,r){return t&&QP(e.prototype,t),r&&QP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IG(e,t,r){return t=Xd(t),$G(e,PT()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function $G(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DG(e)}function DG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function LG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function jv(e,t){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jv(e,t)}function vr(e,t,r){return t=CT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CT(e){var t=FG(e,"string");return Li(t)=="symbol"?t:t+""}function FG(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BG=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=gl().domain(Vd(0,d)).range([o,o+l-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(s),scale:f,scaleValues:p}},JP=function(t){return t.changedTouches&&!!t.changedTouches.length},Fi=(function(e){function t(r){var n;return RG(this,t),n=IG(this,t,[r]),vr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),vr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vr(n,"handleSlideDragStart",function(s){var o=JP(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return LG(t,e),MG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(s,o),x=Math.max(s,o),v=t.getIndexInRange(l,m),b=t.getIndexInRange(l,x);return{startIndex:v-v%d,endIndex:b===p?p:b-b%d}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,l=s.tickFormatter,u=s.dataKey,d=At(o[n],u,n);return Ie(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,x=d.startIndex,v=d.endIndex,b=d.onChange,j=n.pageX-o;j>0?j=Math.min(j,f+p-m-u,f+p-m-l):j<0&&(j=Math.max(j,f-l,f-u));var y=this.getIndex({startX:l+j,endX:u+j});(y.startIndex!==x||y.endIndex!==v)&&b&&b(y),this.setState({startX:l+j,endX:u+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=JP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],p=this.props,m=p.x,x=p.width,v=p.travellerWidth,b=p.onChange,j=p.gap,y=p.data,N={startX:this.state.startX,endX:this.state.endX},C=n.pageX-o;C>0?C=Math.min(C,m+x-v-f):C<0&&(C=Math.max(C,m-f)),N[l]=f+C;var _=this.getIndex(N),O=_.startIndex,S=_.endIndex,A=function(){var R=y.length-1;return l==="startX"&&(u>d?O%j===0:S%j===0)||u<d&&S===R||l==="endX"&&(u>d?S%j===0:O%j===0)||u>d&&S===R};this.setState(vr(vr({},l,f+C),"brushMoveStartX",n.pageX),function(){b&&A()&&b(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var x=m+n;if(!(x===-1||x>=u.length)){var v=u[x];s==="startX"&&v>=f||s==="endX"&&v<=d||this.setState(vr({},s,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return V.createElement("rect",{stroke:f,fill:d,x:s,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=k.Children.only(f);return m?V.cloneElement(m,{x:s,y:o,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,x=d.traveller,v=d.ariaLabel,b=d.data,j=d.startIndex,y=d.endIndex,N=Math.max(n,this.props.x),C=z0(z0({},Ce(this.props,!1)),{},{x:N,y:f,width:p,height:m}),_=v||"Min value: ".concat((o=b[j])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=b[y])===null||l===void 0?void 0:l.name);return V.createElement(Ke,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),u.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,C))}},{key:"renderSlide",value:function(n,s){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,p=Math.min(n,s)+f,m=Math.max(Math.abs(s-n)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,x=p.endX,v=5,b={pointerEvents:"none",fill:f};return V.createElement(Ke,{className:"recharts-brush-texts"},V.createElement(js,Yd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-v,y:l+u/2},b),this.getTextOfTick(s)),V.createElement(js,Yd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+d+v,y:l+u/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,x=this.state,v=x.startX,b=x.endX,j=x.isTextActive,y=x.isSlideMoving,N=x.isTravellerMoving,C=x.isTravellerFocused;if(!s||!s.length||!xe(u)||!xe(d)||!xe(f)||!xe(p)||f<=0||p<=0)return null;var _=Fe("recharts-brush",o),O=V.Children.count(l)===1,S=TG("userSelect","none");return V.createElement(Ke,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(j||y||N||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:o,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return V.isValidElement(n)?o=V.cloneElement(n,s):Ie(n)?o=n(s):o=t.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(o!==s.prevData||f!==s.prevUpdateId)return z0({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?BG({data:o,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var x=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>s?u=d:l=d}return s>=n[u]?u:l}}])})(k.PureComponent);vr(Fi,"displayName","Brush");vr(Fi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var U0,ZP;function qG(){if(ZP)return U0;ZP=1;var e=jb();function t(r,n){var s;return e(r,function(o,l,u){return s=n(o,l,u),!s}),!!s}return U0=t,U0}var W0,eC;function zG(){if(eC)return W0;eC=1;var e=O_(),t=On(),r=qG(),n=hr(),s=Ef();function o(l,u,d){var f=n(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return W0=o,W0}var UG=zG();const WG=Xe(UG);var jn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},H0,tC;function HG(){if(tC)return H0;tC=1;var e=W_();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return H0=t,H0}var K0,rC;function KG(){if(rC)return K0;rC=1;var e=HG(),t=z_(),r=On();function n(s,o){var l={};return o=r(o,3),t(s,function(u,d,f){e(l,d,o(u,d,f))}),l}return K0=n,K0}var GG=KG();const VG=Xe(GG);var G0,nC;function YG(){if(nC)return G0;nC=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return G0=e,G0}var V0,aC;function XG(){if(aC)return V0;aC=1;var e=jb();function t(r,n){var s=!0;return e(r,function(o,l,u){return s=!!n(o,l,u),s}),s}return V0=t,V0}var Y0,sC;function QG(){if(sC)return Y0;sC=1;var e=YG(),t=XG(),r=On(),n=hr(),s=Ef();function o(l,u,d){var f=n(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return Y0=o,Y0}var JG=QG();const ET=Xe(JG);var ZG=["x","y"];function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return t=tV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return rc(t)=="symbol"?t:t+""}function rV(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nV(e,t){if(e==null)return{};var r=aV(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sV(e,t){var r=e.x,n=e.y,s=nV(e,ZG),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||s.height),p=parseInt(f,10),m="".concat(t.width||s.width),x=parseInt(m,10);return cl(cl(cl(cl(cl({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function oC(e){return V.createElement(NT,wv({shapeType:"rectangle",propTransformer:sV,activeClassName:"recharts-active-bar"},e))}var iV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var o=xe(n)||OD(n);return o?t(n,s):(o||Ns(),r)}},oV=["value","background"],_T;function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function lV(e,t){if(e==null)return{};var r=cV(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){Ca(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RT(n.key),n)}}function dV(e,t,r){return t&&cC(e.prototype,t),r&&cC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fV(e,t,r){return t=Jd(t),hV(e,TT()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function hV(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mV(e)}function mV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TT=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function pV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nv(e,t)}function Nv(e,t){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Nv(e,t)}function Ca(e,t,r){return t=RT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RT(e){var t=gV(e,"string");return Bi(t)=="symbol"?t:t+""}function gV(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ra=(function(e){function t(){var r;uV(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=fV(this,t,[].concat(s)),Ca(r,"state",{isAnimationFinished:!1}),Ca(r,"id",no("recharts-bar-")),Ca(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ca(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return pV(t,e),dV(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,p=Ce(this.props,!1);return n&&n.map(function(m,x){var v=x===d,b=v?f:l,j=jt(jt(jt({},p),m),{},{isActive:v,option:b,index:x,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ke,Qd({className:"recharts-bar-rectangle"},bs(s.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),V.createElement(oC,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,m=s.animationId,x=this.state.prevData;return V.createElement(Nn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,j=o.map(function(y,N){var C=x&&x[N];if(C){var _=jr(C.x,y.x),O=jr(C.y,y.y),S=jr(C.width,y.width),A=jr(C.height,y.height);return jt(jt({},y),{},{x:_(b),y:O(b),width:S(b),height:A(b)})}if(l==="horizontal"){var E=jr(0,y.height),R=E(b);return jt(jt({},y),{},{y:y.y+y.height-R,height:R})}var M=jr(0,y.width),L=M(b);return jt(jt({},y),{},{width:L})});return V.createElement(Ke,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&s&&s.length&&(!l||!Nc(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,l=s.dataKey,u=s.activeIndex,d=Ce(this.props.background,!1);return o.map(function(f,p){f.value;var m=f.background,x=lV(f,oV);if(!m)return null;var v=jt(jt(jt(jt(jt({},x),{},{fill:"#eee"},m),d),bs(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return V.createElement(oC,Qd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Sr(p,Sc);if(!m)return null;var x=f==="vertical"?l[0].height/2:l[0].width/2,v=function(y,N){var C=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:C,errorVal:At(y,N)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ke,b,m.map(function(j){return V.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,x=n.height,v=n.isAnimationActive,b=n.background,j=n.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,N=Fe("recharts-bar",l),C=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,O=C||_,S=De(j)?this.id:j;return V.createElement(Ke,{className:N},C||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(S)},V.createElement("rect",{x:C?f:f-m/2,y:_?p:p-x/2,width:C?m:m*2,height:_?x:x*2}))):null,V.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,S),(!v||y)&&Hn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(k.PureComponent);_T=Ra;Ca(Ra,"displayName","Bar");Ca(Ra,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ps.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ca(Ra,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,v=qz(n,r);if(!v)return null;var b=t.layout,j=r.type.defaultProps,y=j!==void 0?jt(jt({},j),r.props):r.props,N=y.dataKey,C=y.children,_=y.minPointSize,O=b==="horizontal"?l:o,S=f?O.scale.domain():null,A=Vz({numericAxis:O}),E=Sr(C,_f),R=m.map(function(M,L){var T,I,G,X,U,q;f?T=zz(f[p+L],S):(T=At(M,N),Array.isArray(T)||(T=[A,T]));var D=iV(_,_T.defaultProps.minPointSize)(T[1],L);if(b==="horizontal"){var W,Y=[l.scale(T[0]),l.scale(T[1])],z=Y[0],B=Y[1];I=DA({axis:o,ticks:u,bandSize:s,offset:v.offset,entry:M,index:L}),G=(W=B??z)!==null&&W!==void 0?W:void 0,X=v.size;var F=z-B;if(U=Number.isNaN(F)?0:F,q={x:I,y:l.y,width:X,height:l.height},Math.abs(D)>0&&Math.abs(U)<Math.abs(D)){var K=er(U||D)*(Math.abs(D)-Math.abs(U));G-=K,U+=K}}else{var Z=[o.scale(T[0]),o.scale(T[1])],de=Z[0],ie=Z[1];if(I=de,G=DA({axis:l,ticks:d,bandSize:s,offset:v.offset,entry:M,index:L}),X=ie-de,U=v.size,q={x:o.x,y:G,width:o.width,height:U},Math.abs(D)>0&&Math.abs(X)<Math.abs(D)){var re=er(X||D)*(Math.abs(D)-Math.abs(X));X+=re}}return jt(jt(jt({},M),{},{x:I,y:G,width:X,height:U,value:f?T:T[1],payload:M,background:q},E&&E[L]&&E[L].props),{},{tooltipPayload:[sT(r,M)],tooltipPosition:{x:I+X/2,y:G+U/2}})});return jt({data:R,layout:b},x)});function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function xV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MT(n.key),n)}}function yV(e,t,r){return t&&uC(e.prototype,t),r&&uC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){Xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xf(e,t,r){return t=MT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e){var t=vV(e,"string");return nc(t)=="symbol"?t:t+""}function vV(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IT=function(t,r,n,s,o){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!br(f,Ra);return p.reduce(function(v,b){var j=r[b],y=j.orientation,N=j.domain,C=j.padding,_=C===void 0?{}:C,O=j.mirror,S=j.reversed,A="".concat(y).concat(O?"Mirror":""),E,R,M,L,T;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var I=N[1]-N[0],G=1/0,X=j.categoricalDomain.sort(CD);if(X.forEach(function(Z,de){de>0&&(G=Math.min((Z||0)-(X[de-1]||0),G))}),Number.isFinite(G)){var U=G/I,q=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(E=U*q/2),j.padding==="no-gap"){var D=tr(t.barCategoryGap,U*q),W=U*q/2;E=W-D-(W-D)/q*D}}}s==="xAxis"?R=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:s==="yAxis"?R=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:R=j.range,S&&(R=[R[1],R[0]]);var Y=tT(j,o,x),z=Y.scale,B=Y.realScaleType;z.domain(N).range(R),rT(z);var F=nT(z,Zr(Zr({},j),{},{realScaleType:B}));s==="xAxis"?(T=y==="top"&&!O||y==="bottom"&&O,M=n.left,L=m[A]-T*j.height):s==="yAxis"&&(T=y==="left"&&!O||y==="right"&&O,M=m[A]-T*j.width,L=n.top);var K=Zr(Zr(Zr({},j),F),{},{realScaleType:B,x:M,y:L,scale:z,width:s==="xAxis"?n.width:j.width,height:s==="yAxis"?n.height:j.height});return K.bandSize=Md(K,F),!j.hide&&s==="xAxis"?m[A]+=(T?-1:1)*K.height:j.hide||(m[A]+=(T?-1:1)*K.width),Zr(Zr({},v),{},Xf({},b,K))},{})},$T=function(t,r){var n=t.x,s=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(s,l),width:Math.abs(o-n),height:Math.abs(l-s)}},bV=function(t){var r=t.x1,n=t.y1,s=t.x2,o=t.y2;return $T({x:r,y:n},{x:s,y:o})},DT=(function(){function e(t){xV(this,e),this.scale=t}return yV(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Xf(DT,"EPS",1e-4);var Qb=function(t){var r=Object.keys(t).reduce(function(n,s){return Zr(Zr({},n),{},Xf({},s,DT.create(t[s])))},{});return Zr(Zr({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return VG(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return ET(s,function(o,l){return r[l].isInRange(o)})}})};function jV(e){return(e%180+180)%180}var wV=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jV(s),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},X0,fC;function NV(){if(fC)return X0;fC=1;var e=On(),t=yc(),r=Pf();function n(s){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(m){return f(d[m],m,d)}}var p=s(o,l,u);return p>-1?d[f?o[p]:p]:void 0}}return X0=n,X0}var Q0,hC;function SV(){if(hC)return Q0;hC=1;var e=OT();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return Q0=t,Q0}var J0,mC;function kV(){if(mC)return J0;mC=1;var e=D_(),t=On(),r=SV(),n=Math.max;function s(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return J0=s,J0}var Z0,pC;function OV(){if(pC)return Z0;pC=1;var e=NV(),t=kV(),r=e(t);return Z0=r,Z0}var AV=OV();const PV=Xe(AV);var CV=ZE();const EV=Xe(CV);var _V=EV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Jb=k.createContext(void 0),Zb=k.createContext(void 0),LT=k.createContext(void 0),FT=k.createContext({}),BT=k.createContext(void 0),qT=k.createContext(0),zT=k.createContext(0),gC=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=_V(o);return V.createElement(Jb.Provider,{value:n},V.createElement(Zb.Provider,{value:s},V.createElement(FT.Provider,{value:o},V.createElement(LT.Provider,{value:p},V.createElement(BT.Provider,{value:l},V.createElement(qT.Provider,{value:f},V.createElement(zT.Provider,{value:d},u)))))))},TV=function(){return k.useContext(BT)},UT=function(t){var r=k.useContext(Jb);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},RV=function(){var t=k.useContext(Jb);return ja(t)},MV=function(){var t=k.useContext(Zb),r=PV(t,function(n){return ET(n.domain,Number.isFinite)});return r||ja(t)},WT=function(t){var r=k.useContext(Zb);r==null&&Ns();var n=r[t];return n==null&&Ns(),n},IV=function(){var t=k.useContext(LT);return t},$V=function(){return k.useContext(FT)},ej=function(){return k.useContext(zT)},tj=function(){return k.useContext(qT)};function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function DV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KT(n.key),n)}}function FV(e,t,r){return t&&LV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BV(e,t,r){return t=Zd(t),qV(e,HT()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function qV(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zV(e)}function zV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function UV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sv(e,t)}function Sv(e,t){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sv(e,t)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){rj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rj(e,t,r){return t=KT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KT(e){var t=WV(e,"string");return qi(t)=="symbol"?t:t+""}function WV(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HV(e,t){return YV(e)||VV(e,t)||GV(e,t)||KV()}function KV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function YV(e){if(Array.isArray(e))return e}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}var XV=function(t,r){var n;return V.isValidElement(t)?n=V.cloneElement(t,r):Ie(t)?n=t(r):n=V.createElement("line",kv({},r,{className:"recharts-reference-line-line"})),n},QV=function(t,r,n,s,o,l,u,d,f){var p=o.x,m=o.y,x=o.width,v=o.height;if(n){var b=f.y,j=t.y.apply(b,{position:l});if(jn(f,"discard")&&!t.y.isInRange(j))return null;var y=[{x:p+x,y:j},{x:p,y:j}];return d==="left"?y.reverse():y}if(r){var N=f.x,C=t.x.apply(N,{position:l});if(jn(f,"discard")&&!t.x.isInRange(C))return null;var _=[{x:C,y:m+v},{x:C,y:m}];return u==="top"?_.reverse():_}if(s){var O=f.segment,S=O.map(function(A){return t.apply(A,{position:l})});return jn(f,"discard")&&WG(S,function(A){return!t.isInRange(A)})?null:S}return null};function JV(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=TV(),p=UT(s),m=WT(o),x=IV();if(!f||!x)return null;rn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Qb({x:p.scale,y:m.scale}),b=Ct(t),j=Ct(r),y=n&&n.length===2,N=QV(v,b,j,y,x,e.position,p.orientation,m.orientation,e);if(!N)return null;var C=HV(N,2),_=C[0],O=_.x,S=_.y,A=C[1],E=A.x,R=A.y,M=jn(e,"hidden")?"url(#".concat(f,")"):void 0,L=yC(yC({clipPath:M},Ce(e,!0)),{},{x1:O,y1:S,x2:E,y2:R});return V.createElement(Ke,{className:Fe("recharts-reference-line",u)},XV(l,L),Dt.renderCallByParent(e,bV({x1:O,y1:S,x2:E,y2:R})))}var nj=(function(e){function t(){return DV(this,t),BV(this,t,arguments)}return UV(t,e),FV(t,[{key:"render",value:function(){return V.createElement(JV,this.props)}}])})(V.Component);rj(nj,"displayName","ReferenceLine");rj(nj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(this,arguments)}function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VT(n.key),n)}}function tY(e,t,r){return t&&eY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rY(e,t,r){return t=ef(t),nY(e,GT()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function nY(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function sY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Av(e,t)}function Qf(e,t,r){return t=VT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e){var t=iY(e,"string");return zi(t)=="symbol"?t:t+""}function iY(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oY=function(t){var r=t.x,n=t.y,s=t.xAxis,o=t.yAxis,l=Qb({x:s.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return jn(t,"discard")&&!l.isInRange(u)?null:u},Jf=(function(e){function t(){return ZV(this,t),rY(this,t,arguments)}return sY(t,e),tY(t,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=Ct(s),p=Ct(o);if(rn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=oY(this.props);if(!m)return null;var x=m.x,v=m.y,b=this.props,j=b.shape,y=b.className,N=jn(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=jC(jC({clipPath:N},Ce(this.props,!0)),{},{cx:x,cy:v});return V.createElement(Ke,{className:Fe("recharts-reference-dot",y)},t.renderDot(j,C),Dt.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(V.Component);Qf(Jf,"displayName","ReferenceDot");Qf(Jf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qf(Jf,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ie(e)?r=e(t):r=V.createElement(Uf,Ov({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XT(n.key),n)}}function uY(e,t,r){return t&&cY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dY(e,t,r){return t=tf(t),fY(e,YT()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function fY(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(e)}function hY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cv(e,t)}function Zf(e,t,r){return t=XT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XT(e){var t=pY(e,"string");return Ui(t)=="symbol"?t:t+""}function pY(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gY=function(t,r,n,s,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var x=Qb({x:p.scale,y:m.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},b={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(f,{position:"end"}):x.y.rangeMax};return jn(o,"discard")&&(!x.isInRange(v)||!x.isInRange(b))?null:$T(v,b)},eh=(function(e){function t(){return lY(this,t),dY(this,t,arguments)}return mY(t,e),uY(t,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;rn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ct(s),x=Ct(o),v=Ct(l),b=Ct(u),j=this.props.shape;if(!m&&!x&&!v&&!b&&!j)return null;var y=gY(m,x,v,b,this.props);if(!y&&!j)return null;var N=jn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return V.createElement(Ke,{className:Fe("recharts-reference-area",d)},t.renderRect(j,NC(NC({clipPath:N},Ce(this.props,!0)),y)),Dt.renderCallByParent(this.props,y))}}])})(V.Component);Zf(eh,"displayName","ReferenceArea");Zf(eh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zf(eh,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ie(e)?r=e(t):r=V.createElement(Xb,Pv({},t,{className:"recharts-reference-area-rect"})),r});function QT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function xY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wV(n,r)}function yY(e,t,r){var n=r==="width",s=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?s:o,end:n?s+l:o+u}:{start:n?s+l:o+u,end:n?s:o}}function rf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function vY(e,t){return QT(e,t+1)}function bY(e,t,r,n,s){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,m=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:QT(n,f)};var j=d,y,N=function(){return y===void 0&&(y=r(b,j)),y},C=b.coordinate,_=d===0||rf(e,C,N,p,u);_||(d=0,p=l,f+=1),_&&(p=C+e*(N()/2+s),d+=f)},x;f<=o.length;)if(x=m(),x)return x.v;return[]}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return t=wY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=NY(e,"string");return ac(t)=="symbol"?t:t+""}function NY(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e,t,r,n,s){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(x){var v=o[x],b,j=function(){return b===void 0&&(b=r(v,x)),b};if(x===l-1){var y=e*(v.coordinate+e*j()/2-d);o[x]=v=Vt(Vt({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else o[x]=v=Vt(Vt({},v),{},{tickCoord:v.coordinate});var N=rf(e,v.tickCoord,j,u,d);N&&(d=v.tickCoord-e*(j()/2+s),o[x]=Vt(Vt({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return o}function kY(e,t,r,n,s,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var p=n[u-1],m=r(p,u-1),x=e*(p.coordinate+e*m/2-f);l[u-1]=p=Vt(Vt({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var v=rf(e,p.tickCoord,function(){return m},d,f);v&&(f=p.tickCoord-e*(m/2+s),l[u-1]=Vt(Vt({},p),{},{isShow:!0}))}for(var b=o?u-1:u,j=function(C){var _=l[C],O,S=function(){return O===void 0&&(O=r(_,C)),O};if(C===0){var A=e*(_.coordinate-e*S()/2-d);l[C]=_=Vt(Vt({},_),{},{tickCoord:A<0?_.coordinate-A*e:_.coordinate})}else l[C]=_=Vt(Vt({},_),{},{tickCoord:_.coordinate});var E=rf(e,_.tickCoord,S,d,f);E&&(d=_.tickCoord+e*(S()/2+s),l[C]=Vt(Vt({},_),{},{isShow:!0}))},y=0;y<b;y++)j(y);return l}function aj(e,t,r){var n=e.tick,s=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!n)return[];if(xe(d)||Ps.isSsr)return vY(s,typeof d=="number"&&xe(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",b=p&&v==="width"?pl(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=function(_,O){var S=Ie(f)?f(_.value,O):_.value;return v==="width"?xY(pl(S,{fontSize:t,letterSpacing:r}),b,m):pl(S,{fontSize:t,letterSpacing:r})[v]},y=s.length>=2?er(s[1].coordinate-s[0].coordinate):1,N=yY(o,y,v);return d==="equidistantPreserveStart"?bY(y,N,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?x=kY(y,N,j,s,l,d==="preserveStartEnd"):x=SY(y,N,j,s,l),x.filter(function(C){return C.isShow}))}var OY=["viewBox"],AY=["viewBox"],PY=["ticks"];function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ey(e,t){if(e==null)return{};var r=CY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZT(n.key),n)}}function _Y(e,t,r){return t&&OC(e.prototype,t),r&&OC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TY(e,t,r){return t=nf(t),RY(e,JT()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function RY(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(e)}function MY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function IY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ev(e,t)}function sj(e,t,r){return t=ZT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZT(e){var t=$Y(e,"string");return Wi(t)=="symbol"?t:t+""}function $Y(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lo=(function(e){function t(r){var n;return EY(this,t),n=TY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return IY(t,e),_Y(t,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,l=ey(n,OY),u=this.props,d=u.viewBox,f=ey(u,AY);return!hi(o,d)||!hi(l,f)||!hi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,m=s.mirror,x=s.tickMargin,v,b,j,y,N,C,_=m?-1:1,O=n.tickSize||p,S=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=b=n.coordinate,y=l+ +!m*d,j=y-_*O,C=j-_*x,N=S;break;case"left":j=y=n.coordinate,b=o+ +!m*u,v=b-_*O,N=v-_*x,C=S;break;case"right":j=y=n.coordinate,b=o+ +m*u,v=b+_*O,N=v+_*x,C=S;break;default:v=b=n.coordinate,y=l+ +m*d,j=y+_*O,C=j+_*x,N=S;break}return{line:{x1:v,y1:j,x2:b,y2:y},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,l;switch(s){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=kt(kt(kt({},Ce(this.props,!1)),Ce(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!f||d==="bottom"&&f);m=kt(kt({},m),{},{x1:s,y1:o+x*u,x2:s+l,y2:o+x*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);m=kt(kt({},m),{},{x1:s+v*l,y1:o,x2:s+v*l,y2:o+u})}return V.createElement("line",di({},m,{className:Fe("recharts-cartesian-axis-line",Nr(p,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,x=u.unit,v=aj(kt(kt({},this.props),{},{ticks:n}),s,o),b=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=Ce(this.props,!1),N=Ce(p,!1),C=kt(kt({},y),{},{fill:"none"},Ce(d,!1)),_=v.map(function(O,S){var A=l.getTickLineCoord(O),E=A.line,R=A.tick,M=kt(kt(kt(kt({textAnchor:b,verticalAnchor:j},y),{},{stroke:"none",fill:f},N),R),{},{index:S,payload:O,visibleTicksCount:v.length,tickFormatter:m});return V.createElement(Ke,di({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},bs(l.props,O,S)),d&&V.createElement("line",di({},C,E,{className:Fe("recharts-cartesian-axis-tick-line",Nr(d,"className"))})),p&&t.renderTickItem(p,M,"".concat(Ie(m)?m(O.value,S):O.value).concat(x||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,p=s.hide;if(p)return null;var m=this.props,x=m.ticks,v=ey(m,PY),b=x;return Ie(d)&&(b=x&&x.length>0?d(this.props):d(v)),l<=0||u<=0||!b||!b.length?null:V.createElement(Ke,{className:Fe("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var l,u=Fe(s.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(n)?l=V.cloneElement(n,kt(kt({},s),{},{className:u})):Ie(n)?l=n(kt(kt({},s),{},{className:u})):l=V.createElement(js,di({},s,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(k.Component);sj(lo,"displayName","CartesianAxis");sj(lo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DY=["x1","y1","x2","y2","key"],LY=["offset"];function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=qY(e,"string");return Ss(t)=="symbol"?t:t+""}function qY(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function PC(e,t){if(e==null)return{};var r=zY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:s,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e4(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,l=t.y2,u=t.key,d=PC(t,DY),f=Ce(d,!1);f.offset;var p=PC(f,LY);r=V.createElement("line",ls({},p,{x1:n,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function WY(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var f=Yt(Yt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return e4(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function HY(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var f=Yt(Yt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return e4(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function KY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(x){return Math.round(x+s-s)}).sort(function(x,v){return x-v});s!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var b=!p[v+1],j=b?s+l-x:p[v+1]-x;if(j<=0)return null;var y=v%t.length;return V.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:j,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function GY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var b=!p[v+1],j=b?o+u-x:p[v+1]-x;if(j<=0)return null;var y=v%n.length;return V.createElement("rect",{key:"react-".concat(v),x,y:l,width:j,height:d,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var VY=function(t,r){var n=t.xAxis,s=t.width,o=t.height,l=t.offset;return eT(aj(Yt(Yt(Yt({},lo.defaultProps),n),{},{ticks:zn(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.left,l.left+l.width,r)},YY=function(t,r){var n=t.yAxis,s=t.width,o=t.height,l=t.offset;return eT(aj(Yt(Yt(Yt({},lo.defaultProps),n),{},{ticks:zn(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.top,l.top+l.height,r)},si={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ij(e){var t,r,n,s,o,l,u=ej(),d=tj(),f=$V(),p=Yt(Yt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:si.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:si.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:si.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:si.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:si.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:si.verticalFill,x:xe(e.x)?e.x:f.left,y:xe(e.y)?e.y:f.top,width:xe(e.width)?e.width:f.width,height:xe(e.height)?e.height:f.height}),m=p.x,x=p.y,v=p.width,b=p.height,j=p.syncWithTicks,y=p.horizontalValues,N=p.verticalValues,C=RV(),_=MV();if(!xe(v)||v<=0||!xe(b)||b<=0||!xe(m)||m!==+m||!xe(x)||x!==+x)return null;var O=p.verticalCoordinatesGenerator||VY,S=p.horizontalCoordinatesGenerator||YY,A=p.horizontalPoints,E=p.verticalPoints;if((!A||!A.length)&&Ie(S)){var R=y&&y.length,M=S({yAxis:_?Yt(Yt({},_),{},{ticks:R?y:_.ticks}):void 0,width:u,height:d,offset:f},R?!0:j);rn(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(M),"]")),Array.isArray(M)&&(A=M)}if((!E||!E.length)&&Ie(O)){var L=N&&N.length,T=O({xAxis:C?Yt(Yt({},C),{},{ticks:L?N:C.ticks}):void 0,width:u,height:d,offset:f},L?!0:j);rn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(T),"]")),Array.isArray(T)&&(E=T)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(UY,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),V.createElement(WY,ls({},p,{offset:f,horizontalPoints:A,xAxis:C,yAxis:_})),V.createElement(HY,ls({},p,{offset:f,verticalPoints:E,xAxis:C,yAxis:_})),V.createElement(KY,ls({},p,{horizontalPoints:A})),V.createElement(GY,ls({},p,{verticalPoints:E})))}ij.displayName="CartesianGrid";var XY=["type","layout","connectNulls","ref"],QY=["key"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function CC(e,t){if(e==null)return{};var r=JY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ii(e){return rX(e)||tX(e)||eX(e)||ZY()}function ZY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e,t){if(e){if(typeof e=="string")return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(e,t)}}function tX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rX(e){if(Array.isArray(e))return _v(e)}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r4(n.key),n)}}function aX(e,t,r){return t&&_C(e.prototype,t),r&&_C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sX(e,t,r){return t=af(t),iX(e,t4()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function iX(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oX(e)}function oX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function lX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tv(e,t)}function Tv(e,t){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tv(e,t)}function en(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=cX(e,"string");return Hi(t)=="symbol"?t:t+""}function cX(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ki=(function(e){function t(){var r;nX(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=sX(this,t,[].concat(s)),en(r,"state",{isAnimationFinished:!0,totalLength:0}),en(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),en(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(N,C){return N+C});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),m=l%f,x=u-l,v=[],b=0,j=0;b<d.length;j+=d[b],++b)if(j+d[b]>m){v=[].concat(ii(d.slice(0,b)),[m-j]);break}var y=v.length%2===0?[0,x]:[x];return[].concat(ii(t.repeat(d,p)),ii(v),y).map(function(N){return"".concat(N,"px")}).join(", ")}),en(r,"id",no("recharts-line-")),en(r,"pathRef",function(l){r.mainCurve=l}),en(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),en(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lX(t,e),aX(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,p=o.children,m=Sr(p,Sc);if(!m)return null;var x=function(j,y){return{x:j.x,y:j.y,value:j.value,errorVal:At(j.payload,y)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ke,v,m.map(function(b){return V.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,s,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=Ce(this.props,!1),x=Ce(d,!0),v=f.map(function(j,y){var N=yr(yr(yr({key:"dot-".concat(y),r:3},m),x),{},{index:y,cx:j.x,cy:j.y,value:j.value,dataKey:p,payload:j.payload,points:f});return t.renderDotItem(d,N)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return V.createElement(Ke,jl({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,s,o,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=CC(u,XY),x=yr(yr(yr({},Ce(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:p});return V.createElement(Dd,jl({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,x=l.animationEasing,v=l.animationId,b=l.animateNewValues,j=l.width,y=l.height,N=this.state,C=N.prevPoints,_=N.totalLength;return V.createElement(Nn,{begin:p,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var S=O.t;if(C){var A=C.length/u.length,E=u.map(function(I,G){var X=Math.floor(G*A);if(C[X]){var U=C[X],q=jr(U.x,I.x),D=jr(U.y,I.y);return yr(yr({},I),{},{x:q(S),y:D(S)})}if(b){var W=jr(j*2,I.x),Y=jr(y/2,I.y);return yr(yr({},I),{},{x:W(S),y:Y(S)})}return yr(yr({},I),{},{x:I.x,y:I.y})});return o.renderCurveStatically(E,n,s)}var R=jr(0,_),M=R(S),L;if(d){var T="".concat(d).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});L=o.getStrokeDasharray(M,_,T)}else L=o.generateSimpleStrokeDasharray(_,M);return o.renderCurveStatically(u,n,s,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,s){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!Nc(f,l))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(l,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,p=s.yAxis,m=s.top,x=s.left,v=s.width,b=s.height,j=s.isAnimationActive,y=s.id;if(o||!u||!u.length)return null;var N=this.state.isAnimationFinished,C=u.length===1,_=Fe("recharts-line",d),O=f&&f.allowDataOverflow,S=p&&p.allowDataOverflow,A=O||S,E=De(y)?this.id:y,R=(n=Ce(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=R.r,L=M===void 0?3:M,T=R.strokeWidth,I=T===void 0?2:T,G=LD(l)?l:{},X=G.clipDot,U=X===void 0?!0:X,q=L*2+I;return V.createElement(Ke,{className:_},O||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:O?x:x-v/2,y:S?m:m-b/2,width:O?v:v*2,height:S?b:b*2})),!U&&V.createElement("clipPath",{id:"clipPath-dots-".concat(E)},V.createElement("rect",{x:x-q/2,y:m-q/2,width:v+q,height:b+q}))):null,!C&&this.renderCurve(A,E),this.renderErrorBar(A,E),(C||l)&&this.renderDots(A,U,E),(!j||N)&&Hn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var o=n.length%2!==0?[].concat(ii(n),[0]):n,l=[],u=0;u<s;++u)l=[].concat(ii(l),ii(o));return l}},{key:"renderDotItem",value:function(n,s){var o;if(V.isValidElement(n))o=V.cloneElement(n,s);else if(Ie(n))o=n(s);else{var l=s.key,u=CC(s,QY),d=Fe("recharts-line-dot",typeof n!="boolean"?n.className:"");o=V.createElement(Uf,jl({key:l},u,{className:d}))}return o}}])})(k.PureComponent);en(Ki,"displayName","Line");en(Ki,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ps.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});en(Ki,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(x,v){var b=At(x,l);return p==="horizontal"?{x:$A({axis:r,ticks:s,bandSize:u,entry:x,index:v}),y:De(b)?null:n.scale(b),value:b,payload:x}:{x:De(b)?null:r.scale(b),y:$A({axis:n,ticks:o,bandSize:u,entry:x,index:v}),value:b,payload:x}});return yr({points:m,layout:p},f)});function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function uX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s4(n.key),n)}}function fX(e,t,r){return t&&dX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hX(e,t,r){return t=sf(t),mX(e,n4()?Reflect.construct(t,r||[],sf(e).constructor):t.apply(e,r))}function mX(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pX(e)}function pX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function gX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rv(e,t)}function Rv(e,t){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rv(e,t)}function a4(e,t,r){return t=s4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4(e){var t=xX(e,"string");return Gi(t)=="symbol"?t:t+""}function xX(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(this,arguments)}function yX(e){var t=e.xAxisId,r=ej(),n=tj(),s=UT(t);return s==null?null:k.createElement(lo,Mv({},s,{className:Fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return zn(l,!0)}}))}var co=(function(e){function t(){return uX(this,t),hX(this,t,arguments)}return gX(t,e),fX(t,[{key:"render",value:function(){return k.createElement(yX,this.props)}}])})(k.Component);a4(co,"displayName","XAxis");a4(co,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function vX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l4(n.key),n)}}function jX(e,t,r){return t&&bX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wX(e,t,r){return t=of(t),NX(e,i4()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(e)}function SX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function kX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}function Iv(e,t){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iv(e,t)}function o4(e,t,r){return t=l4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4(e){var t=OX(e,"string");return Vi(t)=="symbol"?t:t+""}function OX(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}var AX=function(t){var r=t.yAxisId,n=ej(),s=tj(),o=WT(r);return o==null?null:k.createElement(lo,$v({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(u){return zn(u,!0)}}))},uo=(function(e){function t(){return vX(this,t),wX(this,t,arguments)}return kX(t,e),jX(t,[{key:"render",value:function(){return k.createElement(AX,this.props)}}])})(k.Component);o4(uo,"displayName","YAxis");o4(uo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TC(e){return _X(e)||EX(e)||CX(e)||PX()}function PX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(e,t){if(e){if(typeof e=="string")return Dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dv(e,t)}}function EX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _X(e){if(Array.isArray(e))return Dv(e)}function Dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lv=function(t,r,n,s,o){var l=Sr(t,nj),u=Sr(t,Jf),d=[].concat(TC(l),TC(u)),f=Sr(t,eh),p="".concat(s,"Id"),m=s[0],x=r;if(d.length&&(x=d.reduce(function(j,y){if(y.props[p]===n&&jn(y.props,"extendDomain")&&xe(y.props[m])){var N=y.props[m];return[Math.min(j[0],N),Math.max(j[1],N)]}return j},x)),f.length){var v="".concat(m,"1"),b="".concat(m,"2");x=f.reduce(function(j,y){if(y.props[p]===n&&jn(y.props,"extendDomain")&&xe(y.props[v])&&xe(y.props[b])){var N=y.props[v],C=y.props[b];return[Math.min(j[0],N,C),Math.max(j[1],N,C)]}return j},x)}return o&&o.length&&(x=o.reduce(function(j,y){return xe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},x)),x},ty={exports:{}},RC;function TX(){return RC||(RC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new s(p,m||d,x),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,v=m.length,b=new Array(v);x<v;x++)b[x]=m[x].fn;return b},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,x,v,b){var j=r?r+f:f;if(!this._events[j])return!1;var y=this._events[j],N=arguments.length,C,_;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,x),!0;case 5:return y.fn.call(y.context,p,m,x,v),!0;case 6:return y.fn.call(y.context,p,m,x,v,b),!0}for(_=1,C=new Array(N-1);_<N;_++)C[_-1]=arguments[_];y.fn.apply(y.context,C)}else{var O=y.length,S;for(_=0;_<O;_++)switch(y[_].once&&this.removeListener(f,y[_].fn,void 0,!0),N){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,p);break;case 3:y[_].fn.call(y[_].context,p,m);break;case 4:y[_].fn.call(y[_].context,p,m,x);break;default:if(!C)for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];y[_].fn.apply(y[_].context,C)}}return!0},u.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,x){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!x||b.once)&&(!m||b.context===m)&&l(this,v);else{for(var j=0,y=[],N=b.length;j<N;j++)(b[j].fn!==p||x&&!b[j].once||m&&b[j].context!==m)&&y.push(b[j]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(ty)),ty.exports}var RX=TX();const MX=Xe(RX);var ry=new MX,ny="recharts.syncMouseEvents";function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function IX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c4(n.key),n)}}function DX(e,t,r){return t&&$X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ay(e,t,r){return t=c4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4(e){var t=LX(e,"string");return sc(t)=="symbol"?t:t+""}function LX(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FX=(function(){function e(){IX(this,e),ay(this,"activeIndex",0),ay(this,"coordinateList",[]),ay(this,"layout","horizontal")}return DX(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,o=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=o+d+f,x=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function BX(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&xe(n)&&xe(s))return!0}return!1}function qX(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u4(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,o=e.endAngle,l=at(t,r,n,s),u=at(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function zX(e,t,r){var n,s,o,l;if(e==="horizontal")n=t.x,o=n,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,x=at(u,d,f,m),v=at(u,d,p,m);n=x.x,s=x.y,o=v.x,l=v.y}else return u4(t);return[{x:n,y:s},{x:o,y:l}]}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return t=WX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=HX(e,"string");return ic(t)=="symbol"?t:t+""}function HX(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KX(e){var t,r,n=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||x!=="ScatterChart"&&s!=="axis")return null;var b,j=Dd;if(x==="ScatterChart")b=l,j=mK;else if(x==="BarChart")b=qX(m,l,d,p),j=Xb;else if(m==="radial"){var y=u4(l),N=y.cx,C=y.cy,_=y.radius,O=y.startAngle,S=y.endAngle;b={cx:N,cy:C,startAngle:O,endAngle:S,innerRadius:_,outerRadius:_},j=dT}else b={points:zX(m,l,d)},j=Dd;var A=Zu(Zu(Zu(Zu({stroke:"#ccc",pointerEvents:"none"},d),b),Ce(v,!1)),{},{payload:u,payloadIndex:f,className:Fe("recharts-tooltip-cursor",v.className)});return k.isValidElement(v)?k.cloneElement(v,A):k.createElement(j,A)}var GX=["item"],VX=["children","className","width","height","style","compact","title","desc"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(this,arguments)}function IC(e,t){return QX(e)||XX(e,t)||f4(e,t)||YX()}function YX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function QX(e){if(Array.isArray(e))return e}function $C(e,t){if(e==null)return{};var r=JX(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h4(n.key),n)}}function tQ(e,t,r){return t&&eQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rQ(e,t,r){return t=lf(t),nQ(e,d4()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function nQ(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(e)}function aQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function sQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fv(e,t)}function Xi(e){return lQ(e)||oQ(e)||f4(e)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4(e,t){if(e){if(typeof e=="string")return Bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bv(e,t)}}function oQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lQ(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=h4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4(e){var t=cQ(e,"string");return Yi(t)=="symbol"?t:t+""}function cQ(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uQ={xAxis:["bottom","top"],yAxis:["left","right"]},dQ={width:"100%",height:"100%"},m4={x:0,y:0};function ed(e){return e}var fQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hQ=function(t,r,n,s){var o=r.find(function(p){return p&&p.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=s.radius;return oe(oe(oe({},s),at(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=s.angle;return oe(oe(oe({},s),at(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return m4},th=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Xi(u),Xi(f)):u},[]);return l.length>0?l:t&&t.length&&xe(s)&&xe(o)?t.slice(s,o+1):[]};function p4(e){return e==="number"?[0,"auto"]:void 0}var qv=function(t,r,n,s){var o=t.graphicalItems,l=t.tooltipAxis,u=th(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?u:m;x=ld(v,l.dataKey,s)}else x=m&&m[n]||u[n];return x?[].concat(Xi(d),[sT(f,x)]):d},[])},LC=function(t,r,n,s){var o=s||{x:t.chartX,y:t.chartY},l=fQ(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=Iz(l,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,x=qv(t,r,p,m),v=hQ(n,u,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:x,activeCoordinate:v}}return null},mQ=function(t,r){var n=r.axes,s=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=t.stackOffset,v=Z5(p,o);return n.reduce(function(b,j){var y,N=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,C=N.type,_=N.dataKey,O=N.allowDataOverflow,S=N.allowDuplicatedCategory,A=N.scale,E=N.ticks,R=N.includeHidden,M=N[l];if(b[M])return b;var L=th(t.data,{graphicalItems:s.filter(function(F){var K,Z=l in F.props?F.props[l]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[l];return Z===M}),dataStartIndex:d,dataEndIndex:f}),T=L.length,I,G,X;BX(N.domain,O,C)&&(I=tv(N.domain,null,O),v&&(C==="number"||A!=="auto")&&(X=xl(L,_,"category")));var U=p4(C);if(!I||I.length===0){var q,D=(q=N.domain)!==null&&q!==void 0?q:U;if(_){if(I=xl(L,_,C),C==="category"&&v){var W=PD(I);S&&W?(G=I,I=Vd(0,T)):S||(I=BA(D,I,j).reduce(function(F,K){return F.indexOf(K)>=0?F:[].concat(Xi(F),[K])},[]))}else if(C==="category")S?I=I.filter(function(F){return F!==""&&!De(F)}):I=BA(D,I,j).reduce(function(F,K){return F.indexOf(K)>=0||K===""||De(K)?F:[].concat(Xi(F),[K])},[]);else if(C==="number"){var Y=Bz(L,s.filter(function(F){var K,Z,de=l in F.props?F.props[l]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[l],ie="hide"in F.props?F.props.hide:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return de===M&&(R||!ie)}),_,o,p);Y&&(I=Y)}v&&(C==="number"||A!=="auto")&&(X=xl(L,_,"category"))}else v?I=Vd(0,T):u&&u[M]&&u[M].hasStack&&C==="number"?I=x==="expand"?[0,1]:aT(u[M].stackGroups,d,f):I=J5(L,s.filter(function(F){var K=l in F.props?F.props[l]:F.type.defaultProps[l],Z="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return K===M&&(R||!Z)}),C,p,!0);if(C==="number")I=Lv(m,I,M,o,E),D&&(I=tv(D,I,O));else if(C==="category"&&D){var z=D,B=I.every(function(F){return z.indexOf(F)>=0});B&&(I=z)}}return oe(oe({},b),{},Ee({},M,oe(oe({},N),{},{axisType:o,domain:I,categoricalDomain:X,duplicateDomain:G,originalDomain:(y=N.domain)!==null&&y!==void 0?y:U,isCategorical:v,layout:p})))},{})},pQ=function(t,r){var n=r.graphicalItems,s=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=th(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),v=x.length,b=Z5(p,o),j=-1;return n.reduce(function(y,N){var C=N.type.defaultProps!==void 0?oe(oe({},N.type.defaultProps),N.props):N.props,_=C[l],O=p4("number");if(!y[_]){j++;var S;return b?S=Vd(0,v):u&&u[_]&&u[_].hasStack?(S=aT(u[_].stackGroups,d,f),S=Lv(m,S,_,o)):(S=tv(O,J5(x,n.filter(function(A){var E,R,M=l in A.props?A.props[l]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[l],L="hide"in A.props?A.props.hide:(R=A.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===_&&!L}),"number",p),s.defaultProps.allowDataOverflow),S=Lv(m,S,_,o)),oe(oe({},y),{},Ee({},_,oe(oe({axisType:o},s.defaultProps),{},{hide:!0,orientation:Nr(uQ,"".concat(o,".").concat(j%2),null),domain:S,originalDomain:O,isCategorical:b,layout:p})))}return y},{})},gQ=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(s,"Id"),x=Sr(p,o),v={};return x&&x.length?v=mQ(t,{axes:x,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(v=pQ(t,{Axis:o,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},xQ=function(t){var r=ja(t),n=zn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wb(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Md(r,n)}},FC=function(t){var r=t.children,n=t.defaultShowTooltip,s=br(r,Fi),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},yQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Un(r&&r.type);return n&&n.indexOf("Bar")>=0})},BC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vQ=function(t,r){var n=t.props,s=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,x=n.margin||{},v=br(m,Fi),b=br(m,_a),j=Object.keys(d).reduce(function(S,A){var E=d[A],R=E.orientation;return!E.mirror&&!E.hide?oe(oe({},S),{},Ee({},R,S[R]+E.width)):S},{left:x.left||0,right:x.right||0}),y=Object.keys(l).reduce(function(S,A){var E=l[A],R=E.orientation;return!E.mirror&&!E.hide?oe(oe({},S),{},Ee({},R,Nr(S,"".concat(R))+E.height)):S},{top:x.top||0,bottom:x.bottom||0}),N=oe(oe({},y),j),C=N.bottom;v&&(N.bottom+=v.props.height||Fi.defaultProps.height),b&&r&&(N=Lz(N,s,n,r));var _=f-N.left-N.right,O=p-N.top-N.bottom;return oe(oe({brushBottom:C},N),{},{width:Math.max(_,0),height:Math.max(O,0)})},bQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},oj=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,o=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,x=function(N,C){var _=C.graphicalItems,O=C.stackGroups,S=C.offset,A=C.updateId,E=C.dataStartIndex,R=C.dataEndIndex,M=N.barSize,L=N.layout,T=N.barGap,I=N.barCategoryGap,G=N.maxBarSize,X=BC(L),U=X.numericAxisName,q=X.cateAxisName,D=yQ(_),W=[];return _.forEach(function(Y,z){var B=th(N.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:R}),F=Y.type.defaultProps!==void 0?oe(oe({},Y.type.defaultProps),Y.props):Y.props,K=F.dataKey,Z=F.maxBarSize,de=F["".concat(U,"Id")],ie=F["".concat(q,"Id")],re={},pe=d.reduce(function(nr,qr){var Ts=C["".concat(qr.axisType,"Map")],fo=F["".concat(qr.axisType,"Id")];Ts&&Ts[fo]||qr.axisType==="zAxis"||Ns();var ho=Ts[fo];return oe(oe({},nr),{},Ee(Ee({},qr.axisType,ho),"".concat(qr.axisType,"Ticks"),zn(ho)))},re),ue=pe[q],Oe=pe["".concat(q,"Ticks")],Te=O&&O[de]&&O[de].hasStack&&Yz(Y,O[de].stackGroups),ee=Un(Y.type).indexOf("Bar")>=0,ve=Md(ue,Oe),be=[],Je=D&&$z({barSize:M,stackGroups:O,totalSize:bQ(pe,q)});if(ee){var ft,_t,Br=De(Z)?G:Z,on=(ft=(_t=Md(ue,Oe,!0))!==null&&_t!==void 0?_t:Br)!==null&&ft!==void 0?ft:0;be=Dz({barGap:T,barCategoryGap:I,bandSize:on!==ve?on:ve,sizeList:Je[ie],maxBarSize:Br}),on!==ve&&(be=be.map(function(nr){return oe(oe({},nr),{},{position:oe(oe({},nr.position),{},{offset:nr.position.offset-on/2})})}))}var ln=Y&&Y.type&&Y.type.getComposedData;ln&&W.push({props:oe(oe({},ln(oe(oe({},pe),{},{displayedData:B,props:N,dataKey:K,item:Y,bandSize:ve,barPosition:be,offset:S,stackedData:Te,layout:L,dataStartIndex:E,dataEndIndex:R}))),{},Ee(Ee(Ee({key:Y.key||"item-".concat(z)},U,pe[U]),q,pe[q]),"animationId",A)),childIndex:qD(Y,N.children),item:Y})}),W},v=function(N,C){var _=N.props,O=N.dataStartIndex,S=N.dataEndIndex,A=N.updateId;if(!eS({props:_}))return null;var E=_.children,R=_.layout,M=_.stackOffset,L=_.data,T=_.reverseStackOrder,I=BC(R),G=I.numericAxisName,X=I.cateAxisName,U=Sr(E,n),q=Gz(L,U,"".concat(G,"Id"),"".concat(X,"Id"),M,T),D=d.reduce(function(F,K){var Z="".concat(K.axisType,"Map");return oe(oe({},F),{},Ee({},Z,gQ(_,oe(oe({},K),{},{graphicalItems:U,stackGroups:K.axisType===G&&q,dataStartIndex:O,dataEndIndex:S}))))},{}),W=vQ(oe(oe({},D),{},{props:_,graphicalItems:U}),C==null?void 0:C.legendBBox);Object.keys(D).forEach(function(F){D[F]=p(_,D[F],W,F.replace("Map",""),r)});var Y=D["".concat(X,"Map")],z=xQ(Y),B=x(_,oe(oe({},D),{},{dataStartIndex:O,dataEndIndex:S,updateId:A,graphicalItems:U,stackGroups:q,offset:W}));return oe(oe({formattedGraphicalItems:B,graphicalItems:U,offset:W,stackGroups:q},z),D)},b=(function(y){function N(C){var _,O,S;return ZX(this,N),S=rQ(this,N,[C]),Ee(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(S,"accessibilityManager",new FX),Ee(S,"handleLegendBBoxUpdate",function(A){if(A){var E=S.state,R=E.dataStartIndex,M=E.dataEndIndex,L=E.updateId;S.setState(oe({legendBBox:A},v({props:S.props,dataStartIndex:R,dataEndIndex:M,updateId:L},oe(oe({},S.state),{},{legendBBox:A}))))}}),Ee(S,"handleReceiveSyncEvent",function(A,E,R){if(S.props.syncId===A){if(R===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Ee(S,"handleBrushChange",function(A){var E=A.startIndex,R=A.endIndex;if(E!==S.state.dataStartIndex||R!==S.state.dataEndIndex){var M=S.state.updateId;S.setState(function(){return oe({dataStartIndex:E,dataEndIndex:R},v({props:S.props,dataStartIndex:E,dataEndIndex:R,updateId:M},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:R})}}),Ee(S,"handleMouseEnter",function(A){var E=S.getMouseInfo(A);if(E){var R=oe(oe({},E),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var M=S.props.onMouseEnter;Ie(M)&&M(R,A)}}),Ee(S,"triggeredAfterMouseMove",function(A){var E=S.getMouseInfo(A),R=E?oe(oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(R),S.triggerSyncEvent(R);var M=S.props.onMouseMove;Ie(M)&&M(R,A)}),Ee(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ee(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ee(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),Ee(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var R=S.props.onMouseLeave;Ie(R)&&R(E,A)}),Ee(S,"handleOuterEvent",function(A){var E=BD(A),R=Nr(S.props,"".concat(E));if(E&&Ie(R)){var M,L;/.*touch.*/i.test(E)?L=S.getMouseInfo(A.changedTouches[0]):L=S.getMouseInfo(A),R((M=L)!==null&&M!==void 0?M:{},A)}}),Ee(S,"handleClick",function(A){var E=S.getMouseInfo(A);if(E){var R=oe(oe({},E),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var M=S.props.onClick;Ie(M)&&M(R,A)}}),Ee(S,"handleMouseDown",function(A){var E=S.props.onMouseDown;if(Ie(E)){var R=S.getMouseInfo(A);E(R,A)}}),Ee(S,"handleMouseUp",function(A){var E=S.props.onMouseUp;if(Ie(E)){var R=S.getMouseInfo(A);E(R,A)}}),Ee(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ee(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),Ee(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),Ee(S,"handleDoubleClick",function(A){var E=S.props.onDoubleClick;if(Ie(E)){var R=S.getMouseInfo(A);E(R,A)}}),Ee(S,"handleContextMenu",function(A){var E=S.props.onContextMenu;if(Ie(E)){var R=S.getMouseInfo(A);E(R,A)}}),Ee(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&ry.emit(ny,S.props.syncId,A,S.eventEmitterSymbol)}),Ee(S,"applySyncEvent",function(A){var E=S.props,R=E.layout,M=E.syncMethod,L=S.state.updateId,T=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(oe({dataStartIndex:T,dataEndIndex:I},v({props:S.props,dataStartIndex:T,dataEndIndex:I,updateId:L},S.state)));else if(A.activeTooltipIndex!==void 0){var G=A.chartX,X=A.chartY,U=A.activeTooltipIndex,q=S.state,D=q.offset,W=q.tooltipTicks;if(!D)return;if(typeof M=="function")U=M(W,A);else if(M==="value"){U=-1;for(var Y=0;Y<W.length;Y++)if(W[Y].value===A.activeLabel){U=Y;break}}var z=oe(oe({},D),{},{x:D.left,y:D.top}),B=Math.min(G,z.x+z.width),F=Math.min(X,z.y+z.height),K=W[U]&&W[U].value,Z=qv(S.state,S.props.data,U),de=W[U]?{x:R==="horizontal"?W[U].coordinate:B,y:R==="horizontal"?F:W[U].coordinate}:m4;S.setState(oe(oe({},A),{},{activeLabel:K,activeCoordinate:de,activePayload:Z,activeTooltipIndex:U}))}else S.setState(A)}),Ee(S,"renderCursor",function(A){var E,R=S.state,M=R.isTooltipActive,L=R.activeCoordinate,T=R.activePayload,I=R.offset,G=R.activeTooltipIndex,X=R.tooltipAxisBandSize,U=S.getTooltipEventType(),q=(E=A.props.active)!==null&&E!==void 0?E:M,D=S.props.layout,W=A.key||"_recharts-cursor";return V.createElement(KX,{key:W,activeCoordinate:L,activePayload:T,activeTooltipIndex:G,chartName:r,element:A,isActive:q,layout:D,offset:I,tooltipAxisBandSize:X,tooltipEventType:U})}),Ee(S,"renderPolarAxis",function(A,E,R){var M=Nr(A,"type.axisType"),L=Nr(S.state,"".concat(M,"Map")),T=A.type.defaultProps,I=T!==void 0?oe(oe({},T),A.props):A.props,G=L&&L[I["".concat(M,"Id")]];return k.cloneElement(A,oe(oe({},G),{},{className:Fe(M,G.className),key:A.key||"".concat(E,"-").concat(R),ticks:zn(G,!0)}))}),Ee(S,"renderPolarGrid",function(A){var E=A.props,R=E.radialLines,M=E.polarAngles,L=E.polarRadius,T=S.state,I=T.radiusAxisMap,G=T.angleAxisMap,X=ja(I),U=ja(G),q=U.cx,D=U.cy,W=U.innerRadius,Y=U.outerRadius;return k.cloneElement(A,{polarAngles:Array.isArray(M)?M:zn(U,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(L)?L:zn(X,!0).map(function(z){return z.coordinate}),cx:q,cy:D,innerRadius:W,outerRadius:Y,key:A.key||"polar-grid",radialLines:R})}),Ee(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,E=S.props,R=E.children,M=E.width,L=E.height,T=S.props.margin||{},I=M-(T.left||0)-(T.right||0),G=X5({children:R,formattedGraphicalItems:A,legendWidth:I,legendContent:f});if(!G)return null;var X=G.item,U=$C(G,GX);return k.cloneElement(X,oe(oe({},U),{},{chartWidth:M,chartHeight:L,margin:T,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ee(S,"renderTooltip",function(){var A,E=S.props,R=E.children,M=E.accessibilityLayer,L=br(R,Ir);if(!L)return null;var T=S.state,I=T.isTooltipActive,G=T.activeCoordinate,X=T.activePayload,U=T.activeLabel,q=T.offset,D=(A=L.props.active)!==null&&A!==void 0?A:I;return k.cloneElement(L,{viewBox:oe(oe({},q),{},{x:q.left,y:q.top}),active:D,label:U,payload:D?X:[],coordinate:G,accessibilityLayer:M})}),Ee(S,"renderBrush",function(A){var E=S.props,R=E.margin,M=E.data,L=S.state,T=L.offset,I=L.dataStartIndex,G=L.dataEndIndex,X=L.updateId;return k.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Yu(S.handleBrushChange,A.props.onChange),data:M,x:xe(A.props.x)?A.props.x:T.left,y:xe(A.props.y)?A.props.y:T.top+T.height+T.brushBottom-(R.bottom||0),width:xe(A.props.width)?A.props.width:T.width,startIndex:I,endIndex:G,updateId:"brush-".concat(X)})}),Ee(S,"renderReferenceElement",function(A,E,R){if(!A)return null;var M=S,L=M.clipPathId,T=S.state,I=T.xAxisMap,G=T.yAxisMap,X=T.offset,U=A.type.defaultProps||{},q=A.props,D=q.xAxisId,W=D===void 0?U.xAxisId:D,Y=q.yAxisId,z=Y===void 0?U.yAxisId:Y;return k.cloneElement(A,{key:A.key||"".concat(E,"-").concat(R),xAxis:I[W],yAxis:G[z],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:L})}),Ee(S,"renderActivePoints",function(A){var E=A.item,R=A.activePoint,M=A.basePoint,L=A.childIndex,T=A.isRange,I=[],G=E.props.key,X=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,U=X.activeDot,q=X.dataKey,D=oe(oe({index:L,dataKey:q,cx:R.x,cy:R.y,r:4,fill:Yb(E.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Ce(U,!1)),cd(U));return I.push(N.renderActiveDot(U,D,"".concat(G,"-activePoint-").concat(L))),M?I.push(N.renderActiveDot(U,oe(oe({},D),{},{cx:M.x,cy:M.y}),"".concat(G,"-basePoint-").concat(L))):T&&I.push(null),I}),Ee(S,"renderGraphicChild",function(A,E,R){var M=S.filterFormatItem(A,E,R);if(!M)return null;var L=S.getTooltipEventType(),T=S.state,I=T.isTooltipActive,G=T.tooltipAxis,X=T.activeTooltipIndex,U=T.activeLabel,q=S.props.children,D=br(q,Ir),W=M.props,Y=W.points,z=W.isRange,B=W.baseLine,F=M.item.type.defaultProps!==void 0?oe(oe({},M.item.type.defaultProps),M.item.props):M.item.props,K=F.activeDot,Z=F.hide,de=F.activeBar,ie=F.activeShape,re=!!(!Z&&I&&D&&(K||de||ie)),pe={};L!=="axis"&&D&&D.props.trigger==="click"?pe={onClick:Yu(S.handleItemMouseEnter,A.props.onClick)}:L!=="axis"&&(pe={onMouseLeave:Yu(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Yu(S.handleItemMouseEnter,A.props.onMouseEnter)});var ue=k.cloneElement(A,oe(oe({},M.props),pe));function Oe(qr){return typeof G.dataKey=="function"?G.dataKey(qr.payload):null}if(re)if(X>=0){var Te,ee;if(G.dataKey&&!G.allowDuplicatedCategory){var ve=typeof G.dataKey=="function"?Oe:"payload.".concat(G.dataKey.toString());Te=ld(Y,ve,U),ee=z&&B&&ld(B,ve,U)}else Te=Y==null?void 0:Y[X],ee=z&&B&&B[X];if(ie||de){var be=A.props.activeIndex!==void 0?A.props.activeIndex:X;return[k.cloneElement(A,oe(oe(oe({},M.props),pe),{},{activeIndex:be})),null,null]}if(!De(Te))return[ue].concat(Xi(S.renderActivePoints({item:M,activePoint:Te,basePoint:ee,childIndex:X,isRange:z})))}else{var Je,ft=(Je=S.getItemByXY(S.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ue},_t=ft.graphicalItem,Br=_t.item,on=Br===void 0?A:Br,ln=_t.childIndex,nr=oe(oe(oe({},M.props),pe),{},{activeIndex:ln});return[k.cloneElement(on,nr),null,null]}return z?[ue,null,null]:[ue,null]}),Ee(S,"renderCustomized",function(A,E,R){return k.cloneElement(A,oe(oe({key:"recharts-customized-".concat(R)},S.props),S.state))}),Ee(S,"renderMap",{CartesianGrid:{handler:ed,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ed},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ed},YAxis:{handler:ed},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=C.id)!==null&&_!==void 0?_:no("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=X_(S.triggeredAfterMouseMove,(O=C.throttleDelay)!==null&&O!==void 0?O:1e3/60),S.state={},S}return sQ(N,y),tQ(N,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,S=_.data,A=_.height,E=_.layout,R=br(O,Ir);if(R){var M=R.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=qv(this.state,S,M,L),I=this.state.tooltipTicks[M].coordinate,G=(this.state.offset.top+A)/2,X=E==="horizontal",U=X?{x:I,y:G}:{y:I,x:G},q=this.state.formattedGraphicalItems.find(function(W){var Y=W.item;return Y.type.name==="Scatter"});q&&(U=oe(oe({},U),q.props.points[M].tooltipPosition),T=q.props.points[M].tooltipPayload);var D={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:L,activePayload:T,activeCoordinate:U};this.setState(D),this.renderCursor(R),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ny([br(_.children,Ir)],[br(this.props.children,Ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=br(this.props.children,Ir);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return u.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,S=O.getBoundingClientRect(),A=A7(S),E={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},R=S.width/O.offsetWidth||1,M=this.inRange(E.chartX,E.chartY,R);if(!M)return null;var L=this.state,T=L.xAxisMap,I=L.yAxisMap,G=this.getTooltipEventType(),X=LC(this.state,this.props.data,this.props.layout,M);if(G!=="axis"&&T&&I){var U=ja(T).scale,q=ja(I).scale,D=U&&U.invert?U.invert(E.chartX):null,W=q&&q.invert?q.invert(E.chartY):null;return oe(oe({},E),{},{xValue:D,yValue:W},X)}return X?oe(oe({},E),X):null}},{key:"inRange",value:function(_,O){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=_/S,R=O/S;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,L=E>=M.left&&E<=M.left+M.width&&R>=M.top&&R<=M.top+M.height;return L?{x:E,y:R}:null}var T=this.state,I=T.angleAxisMap,G=T.radiusAxisMap;if(I&&G){var X=ja(I);return UA({x:E,y:R},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),S=br(_,Ir),A={};S&&O==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=cd(this.props,this.handleOuterEvent);return oe(oe({},E),A)}},{key:"addListener",value:function(){ry.on(ny,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ry.removeListener(ny,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,S){for(var A=this.state.formattedGraphicalItems,E=0,R=A.length;E<R;E++){var M=A[E];if(M.item===_||M.props.key===_.key||O===Un(M.item.type)&&S===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,S=O.left,A=O.top,E=O.height,R=O.width;return V.createElement("defs",null,V.createElement("clipPath",{id:_},V.createElement("rect",{x:S,y:A,height:E,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,S){var A=IC(S,2),E=A[0],R=A[1];return oe(oe({},O),{},Ee({},E,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,S){var A=IC(S,2),E=A[0],R=A[1];return oe(oe({},O),{},Ee({},E,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,S=O.formattedGraphicalItems,A=O.activeItem;if(S&&S.length)for(var E=0,R=S.length;E<R;E++){var M=S[E],L=M.props,T=M.item,I=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,G=Un(T.type);if(G==="Bar"){var X=(L.data||[]).find(function(W){return VH(_,W)});if(X)return{graphicalItem:M,payload:X}}else if(G==="RadialBar"){var U=(L.data||[]).find(function(W){return UA(_,W)});if(U)return{graphicalItem:M,payload:U}}else if(Vf(M,A)||Yf(M,A)||ec(M,A)){var q=xG({graphicalItem:M,activeTooltipItem:A,itemData:I.data}),D=I.activeIndex===void 0?q:I.activeIndex;return{graphicalItem:oe(oe({},M),{},{childIndex:D}),payload:ec(M,A)?I.data[q]:M.props.data[q]}}}return null}},{key:"render",value:function(){var _=this;if(!eS(this))return null;var O=this.props,S=O.children,A=O.className,E=O.width,R=O.height,M=O.style,L=O.compact,T=O.title,I=O.desc,G=$C(O,VX),X=Ce(G,!1);if(L)return V.createElement(gC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(ky,fi({},X,{width:E,height:R,title:T,desc:I}),this.renderClipPath(),rS(S,this.renderMap)));if(this.props.accessibilityLayer){var U,q;X.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,X.role=(q=this.props.role)!==null&&q!==void 0?q:"application",X.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},X.onFocus=function(){_.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return V.createElement(gC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",fi({className:Fe("recharts-wrapper",A),style:oe({position:"relative",cursor:"default",width:E,height:R},M)},D,{ref:function(Y){_.container=Y}}),V.createElement(ky,fi({},X,{width:E,height:R,title:T,desc:I,style:dQ}),this.renderClipPath(),rS(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ee(b,"displayName",r),Ee(b,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ee(b,"getDerivedStateFromProps",function(y,N){var C=y.dataKey,_=y.data,O=y.children,S=y.width,A=y.height,E=y.layout,R=y.stackOffset,M=y.margin,L=N.dataStartIndex,T=N.dataEndIndex;if(N.updateId===void 0){var I=FC(y);return oe(oe(oe({},I),{},{updateId:0},v(oe(oe({props:y},I),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:_,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:R,prevMargin:M,prevChildren:O})}if(C!==N.prevDataKey||_!==N.prevData||S!==N.prevWidth||A!==N.prevHeight||E!==N.prevLayout||R!==N.prevStackOffset||!hi(M,N.prevMargin)){var G=FC(y),X={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},U=oe(oe({},LC(N,_,E)),{},{updateId:N.updateId+1}),q=oe(oe(oe({},G),X),U);return oe(oe(oe({},q),v(oe({props:y},q),N)),{},{prevDataKey:C,prevData:_,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:R,prevMargin:M,prevChildren:O})}if(!Ny(O,N.prevChildren)){var D,W,Y,z,B=br(O,Fi),F=B&&(D=(W=B.props)===null||W===void 0?void 0:W.startIndex)!==null&&D!==void 0?D:L,K=B&&(Y=(z=B.props)===null||z===void 0?void 0:z.endIndex)!==null&&Y!==void 0?Y:T,Z=F!==L||K!==T,de=!De(_),ie=de&&!Z?N.updateId:N.updateId+1;return oe(oe({updateId:ie},v(oe(oe({props:y},N),{},{updateId:ie,dataStartIndex:F,dataEndIndex:K}),N)),{},{prevChildren:O,dataStartIndex:F,dataEndIndex:K})}return null}),Ee(b,"renderActiveDot",function(y,N,C){var _;return k.isValidElement(y)?_=k.cloneElement(y,N):Ie(y)?_=y(N):_=V.createElement(Uf,N),V.createElement(Ke,{className:"recharts-active-dot",key:C},_)});var j=k.forwardRef(function(N,C){return V.createElement(b,fi({},N,{ref:C}))});return j.displayName=b.displayName,j},jQ=oj({chartName:"LineChart",GraphicalChild:Ki,axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:IT}),wQ=oj({chartName:"BarChart",GraphicalChild:Ra,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:IT}),NQ=oj({chartName:"PieChart",GraphicalChild:Zn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gf},{axisType:"radiusAxis",AxisComp:Hf}],formatAxisMap:sU,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const qC=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],SQ=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function kQ({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:n=>n.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:n=>`${n}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:n=>`${n}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:n=>`$${(n/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:n=>n.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:n=>n.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>a.jsxs("div",{className:`${n.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n.title}),a.jsx("p",{className:`text-2xl font-bold ${n.color}`,children:t?"-":n.format(n.value)})]},n.title))})}function OQ({data:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx(Sb,{width:"100%",height:256,children:a.jsxs(jQ,{data:e,children:[a.jsx(ij,{strokeDasharray:"3 3"}),a.jsx(co,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(uo,{tick:{fontSize:12}}),a.jsx(Ir,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,n)=>[r.toLocaleString(),n]}),a.jsx(_a,{}),a.jsx(Ki,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),a.jsx(Ki,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function AQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(n=>n.totalCostCents>0).slice(0,8).map(n=>({name:n.agentName||n.agentId.slice(0,8),value:n.totalCostCents}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx(Sb,{width:"100%",height:256,children:a.jsxs(NQ,{children:[a.jsx(Zn,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:s})=>`${n} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,s)=>a.jsx(_f,{fill:qC[s%qC.length]},`cell-${s}`))}),a.jsx(Ir,{formatter:n=>[`$${(n/100).toFixed(2)}`,"Cost"]})]})})]})}function PQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(n=>({name:n.agentName||n.agentId.slice(0,8),avgLatency:n.avgLatencyMs,p95Latency:n.p95LatencyMs}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),a.jsx(Sb,{width:"100%",height:256,children:a.jsxs(wQ,{data:r,children:[a.jsx(ij,{strokeDasharray:"3 3"}),a.jsx(co,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(uo,{tick:{fontSize:12}}),a.jsx(Ir,{formatter:n=>[`${n}ms`,""]}),a.jsx(_a,{}),a.jsx(Ra,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),a.jsx(Ra,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function CQ({agents:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,n)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},n))})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function EQ({trends:e,loading:t}){if(t||e.length===0)return null;const r=o=>{switch(o){case"up":return"^";case"down":return"v";default:return"-"}},n=o=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(o.metric),u=["avgLatencyMs","totalCostCents"].includes(o.metric);return o.direction==="stable"?"text-gray-600 bg-gray-100":o.direction==="up"&&l||o.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=o=>o.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(o=>a.jsxs("div",{className:`rounded-lg p-3 ${n(o)}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:s(o.metric)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:r(o.direction)}),a.jsxs("span",{className:"text-sm",children:[o.changePercent>0?"+":"",o.changePercent.toFixed(1),"%"]})]})]},o.metric))})]})}function _Q({entries:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,s)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const r=n=>{switch(n){case"up":return a.jsx("span",{className:"text-green-500",children:"^"});case"down":return a.jsx("span",{className:"text-red-500",children:"v"});default:return a.jsx("span",{className:"text-gray-400",children:"-"})}};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${n.rank===1?"bg-yellow-400 text-yellow-900":n.rank===2?"bg-gray-300 text-gray-700":n.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:n.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.agentName||n.agentId.slice(0,8)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",n.score.toFixed(1)," ",r(n.trend)]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[n.executions.toLocaleString()," executions"]}),a.jsxs("p",{className:"text-gray-500",children:[n.successRate,"% success"]})]})]},n.agentId))})]})}function TQ({data:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let o=1;e.forEach(u=>{const f=new Date(u.date).getDay();f>=0&&f<7&&u.hour>=0&&u.hour<24&&(s[f][u.hour]+=u.value,o=Math.max(o,s[f][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/o;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-max",children:[a.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>a.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),n.map((u,d)=>a.jsxs("div",{className:"flex gap-0.5 items-center",children:[a.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(f=>a.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[d][f])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${f}:00 - ${s[d][f]} executions`},f))]},u)),a.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),a.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function RQ({anomalies:e,loading:t}){return t||e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,n)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},n))})]})}function MQ({onExport:e,loading:t}){const[r,n]=k.useState(!1);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):a.jsx(a.Fragment,{children:"Export"})}),r&&!t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[a.jsx("button",{onClick:()=>{e("csv"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),a.jsx("button",{onClick:()=>{e("pdf"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function IQ(){const[e,t]=k.useState("week"),[r,n]=k.useState(!0),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(!1),[p,m]=k.useState(!0),[x,v]=k.useState(null),[b,j]=k.useState([]),[y,N]=k.useState([]),[C,_]=k.useState([]),[O,S]=k.useState([]),A=k.useCallback(async()=>{var R,M,L,T;n(!0),u(null);try{const[I,G,X,U]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(eo(I)){f(!0);return}if(!I.ok)throw new Error("Failed to fetch overview");if(!G.ok)throw new Error("Failed to fetch agent metrics");if(!X.ok)throw new Error("Failed to fetch leaderboard");if(!U.ok)throw new Error("Failed to fetch trends");const[q,D,W,Y]=await Promise.all([I.json(),G.json(),X.json(),U.json()]);v(q.data),j(((R=D.data)==null?void 0:R.agents)||[]),N(((M=W.data)==null?void 0:M.leaderboard)||[]),_(((L=Y.data)==null?void 0:L.trends)||[]),S(((T=Y.data)==null?void 0:T.anomalies)||[])}catch(I){u(I instanceof Error?I.message:"Failed to load analytics"),console.error("Analytics fetch error:",I)}finally{n(!1)}},[e]),E=async R=>{o(!0);try{const M=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:R,period:e})});if(!M.ok)throw new Error("Export failed");const L=await M.blob(),T=window.URL.createObjectURL(L),I=document.createElement("a");I.href=T,I.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${R}`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(T)}catch(M){console.error("Export error:",M),u("Failed to export report")}finally{o(!1)}};return k.useEffect(()=>{A()},[A]),k.useEffect(()=>{if(!p)return;const R=setInterval(A,6e4);return()=>clearInterval(R)},[p,A]),d?a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsx(pc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:A})]}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("select",{value:e,onChange:R=>t(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:SQ.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:R=>m(R.target.checked),className:"rounded"}),"Auto-refresh"]}),a.jsx(MQ,{onExport:E,loading:s})]})]}),l&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,a.jsx("button",{onClick:A,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(RQ,{anomalies:O,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(kQ,{metrics:x,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(EQ,{trends:C,loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsx(OQ,{data:(x==null?void 0:x.dailyTrend)||[],loading:r}),a.jsx(AQ,{agents:b,loading:r})]}),a.jsx("div",{className:"mb-6",children:a.jsx(PQ,{agents:b,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(TQ,{data:((x==null?void 0:x.dailyTrend)||[]).flatMap(R=>Array.from({length:24},(M,L)=>({date:R.date,hour:L,value:Math.floor(R.executions*(L>=9&&L<=17?.08:.02))}))),loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(CQ,{agents:b,loading:r}),a.jsx(_Q,{entries:y,loading:r})]})]})}const $Q=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(null),[s,o]=k.useState(null),[l,u]=k.useState(null),[d,f]=k.useState(null),[p,m]=k.useState([]),[x,v]=k.useState("monthly"),[b,j]=k.useState(!0),[y,N]=k.useState(null);k.useEffect(()=>{C()},[]);const C=async()=>{try{j(!0),N(null);const[M,L,T,I]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!M.ok||!L.ok||!T.ok)throw new Error("Failed to load billing data");const G=await M.json(),X=await L.json(),U=await T.json(),q=await I.json();t(G.plans),n(X.subscription),o(U.usage),u(U.limits),f(U.percentages),m(q.invoices)}catch(M){N(M instanceof Error?M.message:"An error occurred")}finally{j(!1)}},_=async M=>{try{const L=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:M,billingInterval:x})});if(!L.ok){const I=await L.json();throw new Error(I.error||"Failed to create checkout session")}const{url:T}=await L.json();T&&(window.location.href=T)}catch(L){N(L instanceof Error?L.message:"Failed to upgrade")}},O=async()=>{try{const M=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const T=await M.json();throw new Error(T.error||"Failed to open billing portal")}const{url:L}=await M.json();L&&(window.location.href=L)}catch(M){N(M instanceof Error?M.message:"Failed to open billing portal")}},S=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const M=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to cancel subscription")}await C()}catch(M){N(M instanceof Error?M.message:"Failed to cancel")}},A=async()=>{try{const M=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to reactivate subscription")}await C()}catch(M){N(M instanceof Error?M.message:"Failed to reactivate")}},E=M=>M===-1?"Unlimited":M.toLocaleString(),R=M=>`${(M/1073741824).toFixed(2)} GB`;return b?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,a.jsx("button",{onClick:()=>N(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),a.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&a.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),a.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&a.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?a.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?a.jsx("button",{onClick:S,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&d&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ul,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:d.executions}),a.jsx(ul,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),a.jsx(ul,{label:"Agents",current:s.agents,limit:l.agents,percentage:d.agents}),a.jsx(ul,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:d.workflows}),a.jsx(ul,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:d.team_members}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Storage"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[R(s.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>v("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>v("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(M=>a.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${M.popular?"ring-2 ring-blue-500":""}`,children:[M.popular&&a.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:M.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:M.description}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?M.pricing.yearly:M.pricing.monthly}),M.pricing.monthlyRaw>0&&a.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),a.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," ",E(M.limits.agents)," Agents"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," ",E(M.limits.workflows)," Workflows"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," ",E(M.limits.executionsPerMonth)," Executions/month"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," ",E(M.limits.teamMembers)," Team members"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," ",M.limits.storageGb," GB Storage"]}),M.features.githubIntegration&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," GitHub Integration"]}),M.features.advancedAnalytics&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," Advanced Analytics"]}),M.features.prioritySupport&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," Priority Support"]}),M.features.sso&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx($n,{})," SSO"]})]}),(r==null?void 0:r.planId)===M.id?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):M.id==="free"?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):M.pricing.monthlyRaw===-1?a.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):a.jsxs("button",{onClick:()=>_(M.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",M.name]})]},M.id))})]}),p.length>0&&a.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:p.map(M=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:new Date(M.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"py-3 px-4",children:M.amountFormatted}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(DQ,{status:M.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[M.hostedInvoiceUrl&&a.jsx("a",{href:M.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),M.invoicePdfUrl&&a.jsx("a",{href:M.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},M.id))})]})})]})]})},ul=({label:e,current:t,limit:r,percentage:n})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),o=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:e}),a.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(r)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${o(n)} h-2 rounded-full transition-all`,style:{width:`${Math.min(n,100)}%`}})})]})},$n=()=>a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),DQ=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function LQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[s,o]=k.useState(null),[l,u]=k.useState(!0),[d,f]=k.useState(null),[p,m]=k.useState(!1),[x,v]=k.useState("month"),[b,j]=k.useState(""),[y,N]=k.useState(!1),{user:C}=Sn();k.useEffect(()=>{_()},[x]);const _=async()=>{try{u(!0),f(null);const[L,T,I]=await Promise.all([fetch(`/api/costs/summary?period=${x}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(eo(L)){m(!0);return}if(!L.ok||!T.ok||!I.ok)throw new Error("Failed to fetch cost data");const[G,X,U]=await Promise.all([L.json(),T.json(),I.json()]);t(G.data),n(X.data.trend),o(U.data),U.data.budgetCents&&j((U.data.budgetCents/100).toString())}catch(L){f(L instanceof Error?L.message:"Unknown error")}finally{u(!1)}},O=async()=>{try{N(!0);const L=b?Math.round(parseFloat(b)*100):null,T=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:L})});if(!T.ok){const I=await T.json();throw new Error(I.message||"Failed to update budget")}await _()}catch(L){f(L instanceof Error?L.message:"Failed to update budget")}finally{N(!1)}},S=L=>`$${(L/100).toFixed(2)}`,A=L=>L.toLocaleString(),E=L=>{switch(L){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},R=L=>{switch(L){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},M=()=>Math.max(...r.map(L=>L.totalCostCents),1);return p?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),a.jsx(pc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:_})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?a.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:S(s.spentCents)}),s.budgetCents&&a.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",S(s.budgetCents)]}),a.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all ${E(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),a.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${S(s.remainingCents)} remaining this month`:"No budget limit set"})]}):a.jsx("p",{className:"text-gray-500",children:"No budget data available"}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:b,onChange:L=>j(L.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{onClick:O,disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...":"Save"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),a.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(L=>a.jsx("button",{onClick:()=>v(L),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===L?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:L==="day"?"Today":L==="week"?"This Week":"This Month"},L))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:S((e==null?void 0:e.totalCostCents)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:A((e==null?void 0:e.requestCount)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalInputTokens)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalOutputTokens)??0)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(L=>a.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},L))}):e!=null&&e.byAgent&&e.byAgent.length>0?a.jsx("div",{className:"space-y-4",children:e.byAgent.map(L=>{const T=e.totalCostCents>0?Math.round(L.totalCostCents/e.totalCostCents*100):0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:L.agentName||L.agentId.slice(0,8)}),a.jsxs("span",{className:"text-sm text-gray-600",children:[S(L.totalCostCents)," (",T,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${T}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A(L.requestCount)," requests"]})]})]},L.agentId)})}):a.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?a.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?a.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map(L=>{const T=L.totalCostCents>0?Math.max(L.totalCostCents/M()*100,4):2;return a.jsxs("div",{className:"flex-1 group relative",title:`${L.date}: ${S(L.totalCostCents)}`,children:[a.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${T}%`}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[L.date,": ",S(L.totalCostCents)]})})]},L.date)})}):a.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(L=>a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},L))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,L],[,T])=>T.costCents-L.costCents).map(([L,T])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:L}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:S(T.costCents)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:A(T.requests)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:S(T.requests>0?Math.round(T.costCents/T.requests):0)})]},L))})]})}):a.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const FQ=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],BQ=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],qQ=()=>{const[e,t]=k.useState("keys"),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState(null),[d,f]=k.useState(!0),[p,m]=k.useState(null),[x,v]=k.useState(!1),[b,j]=k.useState(""),[y,N]=k.useState([]),[C,_]=k.useState("free"),[O,S]=k.useState(null),[A,E]=k.useState(!1),[R,M]=k.useState(""),[L,T]=k.useState([]),[I,G]=k.useState(null),X=k.useCallback(async()=>{f(!0),m(null);try{const[K,Z,de]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(K.ok){const ie=await K.json();n(ie.data||[])}if(Z.ok){const ie=await Z.json();o(ie.data||[])}if(de.ok){const ie=await de.json();u(ie.data||null)}}catch(K){m("Failed to load data"),console.error("Error fetching developer portal data:",K)}finally{f(!1)}},[]);k.useEffect(()=>{X()},[X]);const U=async()=>{try{const K=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,scopes:y,rateLimitTier:C})});if(K.ok){const Z=await K.json();S(Z.data.key),n(de=>[...de,Z.data]),j(""),N([]),_("free")}else{const Z=await K.json();m(Z.message||"Failed to create API key")}}catch{m("Failed to create API key")}},q=async K=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${K}`,{method:"DELETE"})).ok&&n(de=>de.map(ie=>ie.id===K?{...ie,status:"revoked"}:ie))}catch{m("Failed to revoke API key")}},D=async()=>{try{const K=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:R,events:L})});if(K.ok){const Z=await K.json();G(Z.data.secret),o(de=>[...de,Z.data]),M(""),T([])}else{const Z=await K.json();m(Z.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},W=async K=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${K}`,{method:"DELETE"})).ok&&o(de=>de.filter(ie=>ie.id!==K))}catch{m("Failed to delete webhook")}},Y=async K=>{try{const de=await(await fetch(`/api/organization/webhooks/${K}/test`,{method:"POST"})).json();de.data.success?alert(`Webhook test successful! Response time: ${de.data.latencyMs}ms`):alert(`Webhook test failed: ${de.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},z=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",B=K=>{switch(K){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},F=K=>{switch(K){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,a.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(K=>a.jsxs("button",{onClick:()=>t(K),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[K==="keys"&&"API Keys",K==="webhooks"&&"Webhooks",K==="docs"&&"Documentation"]},K))})}),e==="keys"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(K=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[K.scopes.slice(0,3).join(", "),K.scopes.length>3&&` +${K.scopes.length-3} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[K.keyPrefix,"..."]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B(K.rateLimitTier)}`,children:K.rateLimitTier})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(K.status)}`,children:K.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(K.lastUsedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.totalRequests.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:K.status==="active"&&a.jsx("button",{onClick:()=>q(K.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},K.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),a.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(K=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:K.url})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[K.events.slice(0,2).join(", "),K.events.length>2&&` +${K.events.length-2} more`]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(K.status)}`,children:K.status}),K.failureCount>0&&a.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",K.failureCount," failures)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastSuccess?a.jsx("span",{className:"text-green-600",children:z(K.lastSuccess)}):K.lastFailure?a.jsx("span",{className:"text-red-600",children:z(K.lastFailure)}):"Never"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[a.jsx("button",{onClick:()=>Y(K.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),a.jsx("button",{onClick:()=>W(K.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},K.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),a.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),a.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),a.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(K=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${K.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.method}),a.jsx("code",{className:"text-gray-900",children:K.path}),a.jsx("span",{className:"ml-3 text-gray-500",children:K.desc})]},K.path))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500",children:[a.jsx("th",{className:"pb-2",children:"Tier"}),a.jsx("th",{className:"pb-2",children:"Per Minute"}),a.jsx("th",{className:"pb-2",children:"Per Day"})]})}),a.jsxs("tbody",{className:"text-gray-900",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Free"}),a.jsx("td",{children:"60"}),a.jsx("td",{children:"1,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Pro"}),a.jsx("td",{children:"300"}),a.jsx("td",{children:"10,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Enterprise"}),a.jsx("td",{children:"1,000"}),a.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:O?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:O})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(O),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{v(!1),S(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:b,onChange:K=>j(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),a.jsxs("select",{value:C,onChange:K=>_(K.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),a.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),a.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:FQ.map(K=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:y.includes(K),onChange:Z=>{Z.target.checked?N(de=>[...de,K]):N(de=>de.filter(ie=>ie!==K))},className:"mr-2"}),K]},K))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:U,disabled:!b||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:I?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:I})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(I),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{E(!1),G(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:R,onChange:K=>M(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:BQ.map(K=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:L.includes(K),onChange:Z=>{Z.target.checked?T(de=>[...de,K]):T(de=>de.filter(ie=>ie!==K))},className:"mr-2"}),K]},K))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:D,disabled:!R||L.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function zQ(){const{slug:e}=ff(),[t,r]=k.useState(null),[n,s]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[f,p]=k.useState([]),[m,x]=k.useState(!1),[v,b]=k.useState(!0),[j,y]=k.useState(!1),[N,C]=k.useState(null),[_,O]=k.useState("overview"),[S,A]=k.useState(null),E=k.useCallback(async()=>{if(e){b(!0);try{const D=await ce({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(D.extension)}catch(D){D instanceof _e&&D.status===404?C("Extension not found"):C("Failed to load extension")}finally{b(!1)}}},[e]),R=k.useCallback(async()=>{if(e)try{const D=await ce({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(D.reviews.items),l(D.summary)}catch(D){console.error("Failed to fetch reviews:",D)}},[e]),M=k.useCallback(async()=>{if(e)try{const D=await ce({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(D.versions)}catch(D){console.error("Failed to fetch versions:",D)}},[e]),L=k.useCallback(async()=>{if(e)try{const D=await ce({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(D.extensions)}catch(D){console.error("Failed to fetch similar:",D)}},[e]),T=k.useCallback(async()=>{try{const D=await ce({url:"/api/marketplace/installed",method:"GET"});x(D.installed.some(W=>W.extension.slug===e))}catch{}},[e]);k.useEffect(()=>{E(),R(),M(),L(),T()},[E,R,M,L,T]);const I=async()=>{if(t){y(!0);try{await ce({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(D){const W=D instanceof _e?D.message:"Install failed";alert(W)}finally{y(!1)}}},G=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await ce({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(D){const W=D instanceof _e?D.message:"Uninstall failed";alert(W)}},X=D=>D>=1e6?`${(D/1e6).toFixed(1)}M`:D>=1e3?`${(D/1e3).toFixed(1)}K`:String(D),U=D=>{if(D.pricing==="free")return"Free";if(!D.price)return"Paid";const W=(D.price.amount/100).toFixed(2),Y=D.price.interval?`/${D.price.interval}`:"";return`$${W}${Y}`},q=(D,W="sm")=>{const Y=[],z=W==="lg"?"text-xl":"text-sm";for(let B=1;B<=5;B++)Y.push(a.jsx("span",{className:`${B<=D?"text-yellow-400":"text-gray-300"} ${z}`,children:""},B));return Y};return v?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):N||!t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:N||"Extension not found"}),a.jsx(Pt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(Pt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:t.name})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?a.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx("span",{children:t.publisherName}),t.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:U(t)}),m?a.jsx("button",{onClick:G,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):a.jsx("button",{onClick:I,disabled:j,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:j?"Installing...":"Install"})]})]}),a.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[q(Math.round(t.stats.rating)),a.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[X(t.stats.downloads)," downloads"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[X(t.stats.activeInstalls)," active installs"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(D=>a.jsx(Pt,{to:`/marketplace?q=${D}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:D},D))})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(D=>a.jsxs("button",{onClick:()=>O(D),className:`py-3 text-sm font-medium border-b-2 -mb-px ${_===D?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[D==="overview"&&"Overview",D==="reviews"&&`Reviews (${t.stats.reviewCount})`,D==="versions"&&"Version History"]},D))})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[_==="overview"&&a.jsxs("div",{children:[t.screenshots.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((D,W)=>a.jsx("img",{src:D,alt:`Screenshot ${W+1}`,onClick:()=>A(D),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},W))})]}),a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),_==="reviews"&&a.jsxs("div",{children:[o&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:o.average.toFixed(1)}),a.jsx("div",{className:"flex justify-center mt-1",children:q(Math.round(o.average),"lg")}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[o.count," reviews"]})]}),a.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(D=>a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 w-3",children:D}),a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${o.count>0?o.distribution[D]/o.count*100:0}%`}})}),a.jsx("span",{className:"text-sm text-gray-500 w-8",children:o.distribution[D]||0})]},D))})]})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):a.jsx("div",{className:"space-y-4",children:n.map(D=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:D.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q(D.rating),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",D.userName,"  ",new Date(D.createdAt).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[D.helpfulCount," found helpful"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:D.body}),D.publisherResponse&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.publisherResponse.body})]})]},D.id))})]}),_==="versions"&&a.jsx("div",{className:"space-y-4",children:u.map(D=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["v",D.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:D.publishedAt?new Date(D.publishedAt).toLocaleDateString():"Unpublished"})]}),D.changelog&&a.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:D.changelog})]},D.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Version"}),a.jsx("dd",{className:"text-gray-900",children:t.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Category"}),a.jsx("dd",{className:"text-gray-900",children:t.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),a.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Published"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),a.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&a.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&a.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&a.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),a.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(D=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",D]},D))})]}),f.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),a.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(D=>a.jsxs(Pt,{to:`/marketplace/${D.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:D.icon?a.jsx("img",{src:D.icon,alt:"",className:"w-6 h-6 rounded"}):a.jsx("span",{children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:D.name}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",D.stats.rating.toFixed(1)]})]})]},D.id))})]})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>A(null),children:a.jsx("img",{src:S,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function UQ(){var A;const[e,t]=k.useState(null),[r,n]=k.useState([]),[s,o]=k.useState(null),[l,u]=k.useState(!0),[d,f]=k.useState(null),[p,m]=k.useState(!1),[x,v]=k.useState(null),[b,j]=k.useState(30);k.useEffect(()=>{y()},[b]);const y=async()=>{u(!0),f(null);try{const[E,R]=await Promise.all([fetch(`/api/feedback/analysis?days=${b}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(eo(E)){m(!0);return}if(!E.ok||!R.ok)throw new Error("Failed to fetch feedback data");const M=await E.json(),L=await R.json();t(M),n(L.actions),o(L.stats)}catch(E){f(E instanceof Error?E.message:"An error occurred")}finally{u(!1)}},N=async E=>{v(E);try{if(!(await fetch(`/api/feedback/actions/${E}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to apply action")}finally{v(null)}},C=async E=>{v(E);try{if(!(await fetch(`/api/feedback/actions/${E}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to dismiss action")}finally{v(null)}},_=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await y()}catch(E){f(E instanceof Error?E.message:"Failed to process feedback")}},O=E=>{switch(E){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},S=E=>{switch(E){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),a.jsx(pc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:y})]}):l?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(E=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},E))})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:b,onChange:E=>j(parseInt(E.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([E,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O(E)}`,children:E}),a.jsx("span",{className:"text-gray-700 font-medium",children:R})]},E)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((E,R)=>R[1]-E[1]).slice(0,5).map(([E,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:E.replace(/_/g," ")}),a.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:R})]},E)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(E=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S(E.priority)}`,children:E.priority}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:E.type.replace(/_/g," ")}),E.autoApplicable&&a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),a.jsx("p",{className:"mt-2 text-gray-900",children:E.description}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",E.estimatedImpact.affectedRequests," requests, +",(E.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>N(E.id),disabled:x===E.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:x===E.id?"...":"Apply"}),a.jsx("button",{onClick:()=>C(E.id),disabled:x===E.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},E.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(A=e==null?void 0:e.recentFeedback)==null?void 0:A.slice(0,10).map(E=>{var R;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.type,E.rating&&a.jsxs("span",{className:"ml-1",children:["(",E.rating,"/5)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.sentiment&&a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O(E.sentiment)}`,children:E.sentiment})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((R=E.category)==null?void 0:R.replace(/_/g," "))||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E.originalRequest}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]},E.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const oi={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},sy={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function WQ(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(null),[p,m]=k.useState(null),[x,v]=k.useState([]),[b,j]=k.useState(""),[y,N]=k.useState([]),[C,_]=k.useState([]),[O,S]=k.useState(!1),A=k.useRef(null),E=k.useRef(null),R=k.useCallback(async()=>{try{const U=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(eo(U)){o(!0);return}if(!U.ok)throw new Error("Failed to fetch stats");const q=await U.json();u(q)}catch(U){console.error("Error fetching stats:",U)}},[]),M=k.useCallback(async U=>{t(!0),n(null);try{let q="/api/knowledge-graph/visualization";U&&U.length>0&&(q=`/api/knowledge-graph/visualization/filtered?nodeTypes=${U.join(",")}`);const D=await fetch(q,{credentials:"include"});if(!D.ok)throw new Error("Failed to fetch graph");const W=await D.json();f(W)}catch(q){n(q instanceof Error?q.message:"Unknown error")}finally{t(!1)}},[]),L=async()=>{S(!0),n(null);try{const U=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!U.ok)throw new Error("Failed to build graph");const q=await U.json();alert(`Graph built: ${q.nodeCount} nodes, ${q.edgeCount} edges`),await Promise.all([R(),M(C)])}catch(U){n(U instanceof Error?U.message:"Failed to build graph")}finally{S(!1)}},T=async()=>{if(!b.trim()){N([]);return}try{const U=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(b)}&limit=10`,{credentials:"include"});if(!U.ok)throw new Error("Search failed");const q=await U.json();N(q.nodes||[])}catch(U){console.error("Search error:",U)}},I=async U=>{try{const q=await fetch(`/api/knowledge-graph/related/${U}?depth=2&limit=20`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch related nodes");const D=await q.json();v(D.related||[])}catch(q){console.error("Error fetching related:",q)}},G=async U=>{m(U),await I(U.id)},X=U=>{_(q=>q.includes(U)?q.filter(W=>W!==U):[...q,U])};return k.useEffect(()=>{M(C)},[C,M]),k.useEffect(()=>{R(),M()},[R,M]),k.useEffect(()=>{if(!d||!A.current)return;const U=A.current,q=U.getContext("2d");if(!q)return;const D=U.parentElement;D&&(U.width=D.clientWidth,U.height=D.clientHeight),q.fillStyle="#1a1a2e",q.fillRect(0,0,U.width,U.height);const W=d.nodes.map(B=>({...B,x:Math.random()*U.width,y:Math.random()*U.height,vx:0,vy:0})),Y=new Map(W.map(B=>[B.id,B]));for(let B=0;B<100;B++){for(let F=0;F<W.length;F++)for(let K=F+1;K<W.length;K++){const Z=W[K].x-W[F].x,de=W[K].y-W[F].y,ie=Math.sqrt(Z*Z+de*de)||1,re=1e3/(ie*ie);W[F].vx-=Z/ie*re,W[F].vy-=de/ie*re,W[K].vx+=Z/ie*re,W[K].vy+=de/ie*re}for(const F of d.edges){const K=Y.get(F.from),Z=Y.get(F.to);if(K&&Z){const de=Z.x-K.x,ie=Z.y-K.y,re=Math.sqrt(de*de+ie*ie)||1,pe=re*.01;K.vx+=de/re*pe,K.vy+=ie/re*pe,Z.vx-=de/re*pe,Z.vy-=ie/re*pe}}for(const F of W)F.vx+=(U.width/2-F.x)*.001,F.vy+=(U.height/2-F.y)*.001;for(const F of W)F.x+=F.vx*.1,F.y+=F.vy*.1,F.vx*=.9,F.vy*=.9,F.x=Math.max(50,Math.min(U.width-50,F.x)),F.y=Math.max(50,Math.min(U.height-50,F.y))}q.strokeStyle="#4a4a6a",q.lineWidth=1;for(const B of d.edges){const F=Y.get(B.from),K=Y.get(B.to);F&&K&&(q.beginPath(),q.moveTo(F.x,F.y),q.lineTo(K.x,K.y),q.stroke())}for(const B of W){const F=oi[B.group]||"#9E9E9E",K=B.size||15;q.beginPath(),q.arc(B.x,B.y,K,0,Math.PI*2),q.fillStyle=F,q.fill(),q.strokeStyle=(p==null?void 0:p.id)===B.id?"#ffffff":"#000000",q.lineWidth=(p==null?void 0:p.id)===B.id?3:1,q.stroke(),q.fillStyle="#ffffff",q.font="11px sans-serif",q.textAlign="center",q.fillText(B.label.slice(0,15),B.x,B.y+K+12)}E.current=W;const z=B=>{const F=U.getBoundingClientRect(),K=B.clientX-F.left,Z=B.clientY-F.top;for(const de of W)if(Math.sqrt((K-de.x)**2+(Z-de.y)**2)<=(de.size||15)){G(de);return}m(null),v([])};return U.addEventListener("click",z),()=>U.removeEventListener("click",z)},[d,p]),s?a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),a.jsx("button",{onClick:()=>{o(!1),R(),M()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("button",{onClick:L,disabled:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Building...":"Rebuild Graph"})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[a.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),a.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),a.jsx("div",{className:"text-gray-400",children:"Edges"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),a.jsx("div",{className:"text-gray-400",children:"Density"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),a.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:b,onChange:U=>j(U.target.value),onKeyDown:U=>U.key==="Enter"&&T(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),a.jsx("button",{onClick:T,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),y.length>0&&a.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:y.map(U=>a.jsxs("button",{onClick:()=>G(U),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:oi[U.group]||"#9E9E9E"}}),U.label]},U.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(sy).map(([U,q])=>a.jsx("button",{onClick:()=>X(U),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${C.includes(U)?"opacity-100":C.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:C.includes(U)||C.length===0?oi[U]:"#4a4a6a"},children:q},U))}),C.length>0&&a.jsx("button",{onClick:()=>_([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:oi[p.group]||"#9E9E9E"}}),a.jsx("span",{className:"font-semibold",children:p.label})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",sy[p.group]||p.group]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",x.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(U=>a.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>G({id:U.node.id,label:U.node.label,group:U.node.type}),children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:oi[U.node.type]||"#9E9E9E"}}),a.jsx("span",{className:"flex-1 truncate",children:U.node.label}),a.jsx("span",{className:"text-gray-500",children:U.edge.type})]},U.node.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(sy).map(([U,q])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:oi[U]}}),q]},U))})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),a.jsx("div",{className:"text-sm",children:r}),a.jsx("button",{onClick:()=>M(C),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&d&&d.nodes.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),a.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),a.jsx("button",{onClick:L,disabled:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:O?"Building...":"Build Graph"})]})}),a.jsx("canvas",{ref:A,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function HQ(){const[e,t]=hf(),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState([]),[d,f]=k.useState(null),[p,m]=k.useState(0),[x,v]=k.useState(!0),[b,j]=k.useState(e.get("q")||""),[y,N]=k.useState(e.get("category")||""),[C,_]=k.useState(e.get("pricing")||""),[O,S]=k.useState(e.get("sort")||"popular"),[A,E]=k.useState(1),[R,M]=k.useState([]),[L,T]=k.useState(null),I=k.useCallback(async()=>{v(!0);try{const F=new URLSearchParams;b&&F.set("q",b),y&&F.set("category",y),C&&F.set("pricing",C),F.set("sort",O),F.set("page",String(A)),F.set("limit","20");const Z=await ce({url:`${b?"/api/marketplace/search":"/api/marketplace/extensions"}?${F.toString()}`,method:"GET"});n(Z.extensions||Z.items||[]),m(Z.total),Z.facets&&f(Z.facets)}catch(F){console.error("Failed to fetch extensions:",F)}finally{v(!1)}},[b,y,C,O,A]),G=k.useCallback(async()=>{try{const F=await ce({url:"/api/marketplace/featured",method:"GET"});o(F.extensions)}catch(F){console.error("Failed to fetch featured:",F)}},[]),X=k.useCallback(async()=>{try{const F=await ce({url:"/api/marketplace/categories",method:"GET"});u(F.categories)}catch(F){console.error("Failed to fetch categories:",F)}},[]),U=k.useCallback(async()=>{try{const F=await ce({url:"/api/marketplace/suggestions",method:"GET"});M(F.suggestions||[])}catch{}},[]);k.useEffect(()=>{X(),G(),U()},[X,G,U]),k.useEffect(()=>{I()},[I]),k.useEffect(()=>{const F=new URLSearchParams;b&&F.set("q",b),y&&F.set("category",y),C&&F.set("pricing",C),O!=="popular"&&F.set("sort",O),t(F)},[b,y,C,O,t]);const q=F=>{F.preventDefault(),E(1),I()},D=async F=>{T(F);try{await ce({url:`/api/marketplace/suggestions/${F}/accept`,method:"POST"}),M(K=>K.filter(Z=>Z.patternId!==F))}catch(K){console.error("Failed to accept suggestion:",K)}finally{T(null)}},W=async F=>{try{await ce({url:`/api/marketplace/suggestions/${F}/dismiss`,method:"POST"}),M(K=>K.filter(Z=>Z.patternId!==F))}catch(K){console.error("Failed to dismiss suggestion:",K)}},Y=F=>F>=1e6?`${(F/1e6).toFixed(1)}M`:F>=1e3?`${(F/1e3).toFixed(1)}K`:String(F),z=F=>{if(F.pricing==="free")return"Free";if(!F.price)return"Paid";const K=(F.price.amount/100).toFixed(2),Z=F.price.interval?`/${F.price.interval}`:"";return`$${K}${Z}`},B=F=>{const K=[];for(let Z=1;Z<=5;Z++)K.push(a.jsx("span",{className:Z<=F?"text-yellow-400":"text-gray-300",children:""},Z));return K};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),a.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),a.jsxs("form",{onSubmit:q,className:"flex gap-3 max-w-2xl",children:[a.jsx("input",{type:"text",value:b,onChange:F=>j(F.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[!b&&s.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(F=>a.jsx(Pt,{to:`/marketplace/${F.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:F.icon?a.jsx("img",{src:F.icon,alt:"",className:"w-10 h-10 rounded-lg"}):a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:F.name}),a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.description}),a.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:a.jsxs("span",{className:"flex items-center text-yellow-500",children:[B(Math.round(F.stats.rating)),a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",F.stats.reviewCount,")"]})]})})]})]})},F.id))})]}),R.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),a.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[R.length," suggestion",R.length!==1?"s":""]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(F=>a.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:F.patternType==="composite"?"":F.patternType==="sequence"?"":""})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(F.confidence*100)}% confidence`,children:a.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${F.confidence*100}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(F.confidence*100),"%"]})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900",children:F.suggestedName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.suggestedDescription}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:F.suggestedTriggers.slice(0,3).map(K=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:K},K))}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",F.frequency,"x as ",F.patternType," pattern"]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("button",{onClick:()=>D(F.patternId),disabled:L===F.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:L===F.patternId?"Creating...":"Create Skill"}),a.jsx("button",{onClick:()=>W(F.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},F.patternId))})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-56 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{N(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(F=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{N(F.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===F.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{children:F.name}),F.extensionCount!==void 0&&a.jsx("span",{className:"text-xs text-gray-400",children:F.extensionCount})]})},F.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),a.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(F=>a.jsx("li",{children:a.jsx("button",{onClick:()=>{_(F),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${C===F?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:F===""?"All":F.charAt(0).toUpperCase()+F.slice(1)})},F))})]}),d&&d.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(F=>a.jsx("button",{onClick:()=>j(F.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:F.name},F.name))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),a.jsxs("select",{value:O,onChange:F=>{S(F.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"recent",children:"Recently Added"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"trending",children:"Trending"})]})]}),x?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(F=>a.jsx(Pt,{to:`/marketplace/${F.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:F.icon?a.jsx("img",{src:F.icon,alt:"",className:"w-8 h-8 rounded-lg"}):a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:F.name}),F.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:F.publisherName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",F.stats.rating.toFixed(1)]}),a.jsxs("span",{className:"text-gray-400",children:[Y(F.stats.downloads)," downloads"]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F.pricing==="free"?"bg-green-100 text-green-700":F.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(F)})]})]})]})},F.id))}),p>20&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>E(F=>Math.max(1,F-1)),disabled:A===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",A," of ",Math.ceil(p/20)]}),a.jsx("button",{onClick:()=>E(F=>F+1),disabled:A>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const iy={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},zC={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function KQ(){const[e,t]=k.useState(""),[r,n]=k.useState([]),[s,o]=k.useState(""),[l,u]=k.useState([]),[d,f]=k.useState([]),[p,m]=k.useState([]),[x,v]=k.useState(!1),[b,j]=k.useState(null),[y,N]=k.useState(!1),[C,_]=k.useState(""),[O,S]=k.useState(!1),[A,E]=k.useState(null),R=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],M=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],L=k.useCallback(async()=>{try{const D=await ce({url:"/api/marketplace-hub/installed",method:"GET"});f(D.items||[])}catch(D){console.error("Failed to fetch installed:",D)}},[]);k.useEffect(()=>{L()},[L]);const T=async()=>{if(e.trim()){v(!0),E(null);try{const D=new URLSearchParams({q:e});r.length>0&&D.set("sources",r.join(",")),s&&D.set("type",s),D.set("limit","30");const W=await ce({url:`/api/marketplace-hub/search?${D.toString()}`,method:"GET"});u(W.items||[])}catch(D){E("Search failed. Please try again."),console.error("Search failed:",D)}finally{v(!1)}}},I=async D=>{j(D.id),E(null);try{await ce({url:"/api/marketplace-hub/install",method:"POST",data:{source:D.source,itemId:D.id}}),await L(),alert(`Successfully installed: ${D.name}`)}catch(W){E(`Failed to install ${D.name}`),console.error("Install failed:",W)}finally{j(null)}},G=async D=>{try{await ce({url:`/api/marketplace-hub/uninstall/${D}`,method:"DELETE"}),await L()}catch(W){E("Failed to uninstall"),console.error("Uninstall failed:",W)}},X=async()=>{if(C.trim()){S(!0),E(null);try{const D=await ce({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:C}});m(D.recommendations||[])}catch(D){E("Recommendation failed. Please try again."),console.error("Recommend failed:",D)}finally{S(!1)}}},U=D=>{n(W=>W.includes(D)?W.filter(Y=>Y!==D):[...W,D])},q=D=>d.some(W=>W.extensionId===D);return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:D=>t(D.target.value),onKeyDown:D=>D.key==="Enter"&&T(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{onClick:T,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Searching...":"Search"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),R.map(D=>a.jsx("button",{onClick:()=>U(D.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r.includes(D.id)||r.length===0?iy[D.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:D.name},D.id))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),M.map(D=>a.jsx("button",{onClick:()=>o(D.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===D.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:D.name},D.id))]})]}),A&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:A}),l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(D=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:zC[D.type]||""}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${iy[D.source]||"bg-gray-100 text-gray-800"}`,children:D.source})]}),D.version&&a.jsxs("span",{className:"text-xs text-gray-500",children:["v",D.version]})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:D.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:D.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[D.downloads!==void 0&&a.jsxs("span",{children:[" ",D.downloads.toLocaleString()]}),D.stars!==void 0&&a.jsxs("span",{children:[" ",D.stars.toLocaleString()]}),D.rating!==void 0&&a.jsxs("span",{children:["Rating: ",D.rating.toFixed(1)]})]}),a.jsx("button",{onClick:()=>I(D),disabled:b===D.id||q(D.id),className:`px-3 py-1 rounded text-sm font-medium ${q(D.id)?"bg-green-100 text-green-700 cursor-default":b===D.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:q(D.id)?"Installed":b===D.id?"Installing...":"Install"})]})]},`${D.source}-${D.id}`))})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:C,onChange:D=>_(D.target.value),onKeyDown:D=>D.key==="Enter"&&X(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),a.jsx("button",{onClick:X,disabled:O,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Finding...":"Get Recommendations"})]}),p.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((D,W)=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:zC[D.item.type]||""}),a.jsx("span",{className:"font-semibold",children:D.item.name})]}),a.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(D.confidence*100),"% match"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:D.reason}),a.jsx("button",{onClick:()=>I(D.item),disabled:b===D.item.id||q(D.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:q(D.item.id)?"Installed":"Install"})]},W))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>N(!y),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",d.length,")"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),a.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${y?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&d.length>0&&a.jsx("div",{className:"px-6 pb-6",children:a.jsx("div",{className:"divide-y divide-gray-100",children:d.map(D=>a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:D.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${iy[D.source]||"bg-gray-100"}`,children:D.source})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["v",D.version,"  Installed ",new Date(D.installedAt).toLocaleDateString()]})]}),a.jsx("button",{onClick:()=>G(D.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},D.id))})}),y&&d.length===0&&a.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]})]})})}const UC={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},oy=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function GQ(){var W;const e=Os(),{user:t}=Sn(),[r,n]=k.useState(null),[s,o]=k.useState([]),[l,u]=k.useState(!0),[d,f]=k.useState(!1),[p,m]=k.useState(null),[x,v]=k.useState(""),[b,j]=k.useState(""),[y,N]=k.useState(""),[C,_]=k.useState(null),[O,S]=k.useState([]),[A,E]=k.useState("");k.useEffect(()=>{R(),M()},[]);const R=async()=>{try{const z=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(z.data)n(z.data),z.data.data&&(v(z.data.data.companyName||""),j(z.data.data.industry||""),N(z.data.data.teamSize||""),_(z.data.data.templateId||null),S(z.data.data.selectedAgents||[]));else{const F=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();n(F.data)}}catch(Y){m(Y instanceof Error?Y.message:"Failed to load")}finally{u(!1)}},M=async()=>{try{const z=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();o(z.data||[])}catch(Y){console.error("Failed to fetch templates",Y)}},L=async(Y,z)=>{f(!0),m(null);try{const F=await(await fetch(`/api/onboarding/step/${Y}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:z})})).json();if(!F.success)throw new Error(F.error);n(F.data),F.data.isComplete&&e("/dashboard")}catch(B){m(B instanceof Error?B.message:"Failed to complete step")}finally{f(!1)}},T=async Y=>{f(!0),m(null);try{const B=await(await fetch(`/api/onboarding/step/${Y}/skip`,{method:"POST",credentials:"include"})).json();if(!B.success)throw new Error(B.error);n(B.data)}catch(z){m(z instanceof Error?z.message:"Failed to skip step")}finally{f(!1)}},I=()=>{if(!x.trim()){m("Company name is required");return}L("company_info",{companyName:x,industry:b,teamSize:y})},G=async()=>{if(!C){m("Please select a template");return}f(!0),m(null);try{const z=await(await fetch(`/api/onboarding/templates/${C}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:O}})})).json();if(!z.success)throw new Error(z.error);await R()}catch(Y){m(Y instanceof Error?Y.message:"Failed to apply template")}finally{f(!1)}},X=()=>{const Y=A.split(/[,\n]/).map(z=>z.trim()).filter(z=>z);if(Y.length===0){T("invite_team");return}L("invite_team",{invitedEmails:Y})},U=(r==null?void 0:r.currentStep)||"company_info",q=UC[U],D=oy.indexOf(U);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",D+1," of ",oy.length-1]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:q.titleKo}),a.jsx("p",{className:"text-gray-600",children:q.descriptionKo})]}),p&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:p})}),U==="company_info"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",value:x,onChange:Y=>v(Y.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsxs("select",{value:b,onChange:Y=>j(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select industry"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),a.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),a.jsx("option",{value:"manufacturing",children:"Manufacturing"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),a.jsxs("select",{value:y,onChange:Y=>N(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select team size"}),a.jsx("option",{value:"1-5",children:"1-5 people"}),a.jsx("option",{value:"6-20",children:"6-20 people"}),a.jsx("option",{value:"21-50",children:"21-50 people"}),a.jsx("option",{value:"51-200",children:"51-200 people"}),a.jsx("option",{value:"200+",children:"200+ people"})]})]}),a.jsx("button",{onClick:I,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),U==="google_workspace"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),a.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),U==="select_template"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(Y=>a.jsxs("button",{onClick:()=>_(Y.id),className:`p-6 border-2 rounded-xl text-left transition ${C===Y.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:Y.icon}),a.jsx("h3",{className:"font-semibold text-gray-900",children:Y.nameKo}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.descriptionKo}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Y.agents.filter(z=>z.enabled).length," agents,"," ",Y.id==="custom"?"configure yourself":"pre-configured"]})]},Y.id))}),a.jsx("button",{onClick:G,disabled:d||!C,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),U==="customize_agents"&&a.jsxs("div",{className:"space-y-6",children:[C&&a.jsx("div",{className:"space-y-4",children:(W=s.find(Y=>Y.id===C))==null?void 0:W.agents.map(Y=>a.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:Y.enabled||O.includes(Y.id),onChange:z=>{z.target.checked?S([...O,Y.id]):S(O.filter(B=>B!==Y.id))},className:"h-4 w-4 text-indigo-600 rounded"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),a.jsx("div",{className:"text-sm text-gray-500",children:Y.description})]})]},Y.id))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),a.jsx("button",{onClick:()=>L("customize_agents",{selectedAgents:O}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),U==="connect_slack"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),a.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),U==="invite_team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),a.jsx("textarea",{value:A,onChange:Y=>E(Y.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>T("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),a.jsx("button",{onClick:X,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":A.trim()?"Send Invites":"Continue"})]})]}),U==="first_workflow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),a.jsx("button",{onClick:()=>{L("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>T("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),U==="completed"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),U!=="completed"&&a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:oy.slice(0,-1).map(Y=>{const z=r==null?void 0:r.completedSteps.includes(Y),B=r==null?void 0:r.skippedSteps.includes(Y),F=Y===U;return a.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-green-500":B?"bg-gray-300":F?"bg-indigo-600":"bg-gray-200"}`,title:UC[Y].title},Y)})})]})]})}const VQ=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],dl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},WC={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function YQ(){var W,Y;const e=Os(),[t,r]=k.useState(WC),[n,s]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(null),[f,p]=k.useState(null),[m,x]=k.useState(""),[v,b]=k.useState(""),[j,y]=k.useState(""),[N,C]=k.useState(""),[_,O]=k.useState(""),S=k.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),d(null);try{const z=await ce({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(B=>({...B,analysis:z,selectedSkills:z.suggestedSkills,selectedTools:z.suggestedTools}))}catch(z){const B=z instanceof _e?z.message:"   ";d(B)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);k.useEffect(()=>{t.step===3&&!t.analysis&&S()},[t.step,t.analysis,S]);const A=z=>{r(B=>({...B,changeType:z}))},E=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(z=>({...z,step:z.step+1}))},R=()=>{d(null),r(z=>({...z,step:z.step-1}))},M=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const z=await ce({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:z.prUrl,changeId:z.changeId})}catch(z){const B=z instanceof _e?z.message:"    ";d(B)}finally{l(!1)}},L=z=>{r(B=>({...B,selectedSkills:B.selectedSkills.includes(z)?B.selectedSkills.filter(F=>F!==z):[...B.selectedSkills,z]}))},T=z=>{r(B=>({...B,selectedTools:B.selectedTools.includes(z)?B.selectedTools.filter(F=>F!==z):[...B.selectedTools,z]}))},I=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(r(z=>({...z,customSkills:[...z.customSkills,m.trim()]})),x(""))},G=()=>{v.trim()&&!t.customTools.includes(v.trim())&&(r(z=>({...z,customTools:[...z.customTools,v.trim()]})),b(""))},X=(z,B,F)=>{B.trim()&&!t.permissions[z].includes(B.trim())&&(r(K=>({...K,permissions:{...K.permissions,[z]:[...K.permissions[z],B.trim()]}})),F(""))},U=(z,B)=>{r(F=>({...F,permissions:{...F.permissions,[z]:F.permissions[z].filter(K=>K!==B)}}))},q=z=>{switch(z){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},D=z=>{switch(z){case"low":return"";case"medium":return"";case"high":return""}};return f?a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),a.jsx("a",{href:f.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:f.prUrl})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),a.jsx("button",{onClick:()=>{r(WC),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(z=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${z===t.step?"bg-indigo-600 text-white":z<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:z<t.step?"":z}),z<5&&a.jsx("div",{className:`w-16 h-1 mx-2 ${z<t.step?"bg-indigo-600":"bg-gray-200"}`})]},z))}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[a.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),a.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(dl).map(z=>{const B=dl[z],F=t.changeType===z;return a.jsxs("button",{onClick:()=>A(z),className:`p-4 rounded-lg border-2 text-left transition-all ${F?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:B.emoji}),a.jsx("div",{className:"font-semibold text-gray-900",children:B.title}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:B.titleEn}),a.jsx("div",{className:"text-sm text-gray-600",children:B.description})]},z)})})]}),t.step===2&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&dl[t.changeType].emoji," ",t.changeType&&dl[t.changeType].title," (Step 2/5)"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),a.jsxs("select",{value:t.teamFunction,onChange:z=>r(B=>({...B,teamFunction:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:""}),VQ.map(z=>a.jsx("option",{value:z,children:z},z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),a.jsx("input",{type:"text",value:t.entityName,onChange:z=>r(B=>({...B,entityName:z.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("textarea",{value:t.description,onChange:z=>r(B=>({...B,description:z.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):a.jsxs("div",{className:"space-y-6",children:[t.analysis&&a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(W=t.analysis)==null?void 0:W.suggestedSkills.map(z=>a.jsx("button",{onClick:()=>L(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customSkills.map(z=>a.jsxs("button",{onClick:()=>r(B=>({...B,customSkills:B.customSkills.filter(F=>F!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&I(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(Y=t.analysis)==null?void 0:Y.suggestedTools.map(z=>a.jsx("button",{onClick:()=>T(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customTools.map(z=>a.jsxs("button",{onClick:()=>r(B=>({...B,customTools:B.customTools.filter(F=>F!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:z=>b(z.target.value),onKeyPress:z=>z.key==="Enter"&&G(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>U("read",z),className:"ml-1 hover:text-blue-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:j,onChange:z=>y(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("read",j,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>X("read",j,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>U("write",z),className:"ml-1 hover:text-green-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:N,onChange:z=>C(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("write",N,C),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>X("write",N,C),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(z=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[z,a.jsx("button",{onClick:()=>U("deny",z),className:"ml-1 hover:text-red-900",children:""})]},z))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:_,onChange:z=>O(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("deny",_,O),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>X("deny",_,O),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:" :"}),a.jsx("span",{className:"font-medium",children:t.changeType&&dl[t.changeType].title})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),a.jsx("span",{className:"font-medium",children:t.teamFunction})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"font-medium",children:t.entityName})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"text-gray-700",children:t.description})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(z=>a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:z},z))})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(z=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:z},z))})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${q(t.analysis.riskLevel)}`,children:[": ",D(t.analysis.riskLevel)]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),a.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((z,B)=>a.jsx("li",{className:"text-sm text-gray-700",children:z},B))})]})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),a.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(z=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",z]},z))]}),t.analysis.filesModified.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(z=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",z]},z))]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):R,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?a.jsx("button",{onClick:E,disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):a.jsx("button",{onClick:M,disabled:o,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?" ...":"  PR "})]})]})}function XQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState(null),[l,u]=k.useState(!1),[d,f]=k.useState("all"),[p,m]=k.useState(!1);k.useEffect(()=>{x()},[d]);const x=async()=>{try{n(!0);const _=new URLSearchParams;d!=="all"&&_.set("type",d),_.set("status","active"),_.set("limit","50");const O=await fetch(`/api/patterns?${_}`,{credentials:"include"});if(eo(O)){u(!0);return}if(!O.ok)throw new Error("Failed to fetch patterns");const S=await O.json();t(S.patterns),o(null)}catch(_){o(_ instanceof Error?_.message:"Unknown error")}finally{n(!1)}},v=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await x()}catch(_){o(_ instanceof Error?_.message:"Analysis failed")}finally{m(!1)}},b=async _=>{try{if(!(await fetch(`/api/patterns/${_}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(S=>S.id!==_))}catch(O){o(O instanceof Error?O.message:"Failed to dismiss")}},j=async _=>{try{const O=await fetch(`/api/patterns/${_}/generate-sop`,{method:"POST",credentials:"include"});if(!O.ok)throw new Error("Failed to generate SOP");const S=await O.json();window.location.href=`/sop-drafts/${S.draft.id}`}catch(O){o(O instanceof Error?O.message:"Failed to generate SOP")}},y=()=>{const _={sequence:0,cluster:0,time:0};let O=0;for(const S of e)_[S.type]++,O+=S.confidence;return{total:e.length,byType:_,avgConfidence:e.length>0?O/e.length:0}},N=_=>{var S;const O=_.data;switch(_.type){case"sequence":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((S=O.sequence)==null?void 0:S.join("  "))||"N/A"]});case"cluster":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Intent:"})," ",O.commonIntent||"Similar requests"]});case"time":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Schedule:"})," ",O.description||"Recurring pattern"]});default:return null}},C=y();return l?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx(pc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:x})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx("button",{onClick:v,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.byType.sequence})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.byType.cluster})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:C.byType.time})]})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(_=>a.jsx("button",{onClick:()=>f(_),className:`px-4 py-2 rounded-lg ${d===_?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),a.jsx("button",{onClick:v,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.type==="sequence"?"bg-blue-100 text-blue-700":_.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.type}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(_.confidence*100),"% confidence"]})]}),a.jsx("div",{className:"mb-3",children:N(_)}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Frequency: ",_.frequency]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(_.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:a.jsx("div",{className:`h-full rounded-full ${_.confidence>=.8?"bg-green-500":_.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_.confidence*100}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(_.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),a.jsx("button",{onClick:()=>b(_.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},_.id))})]})})}function QQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[s,o]=k.useState(null),[l,u]=k.useState([]),[d,f]=k.useState(!0),[p,m]=k.useState(!1),[x,v]=k.useState(!1),[b,j]=k.useState("30d"),[y,N]=k.useState("overview"),[C,_]=k.useState({name:"",slug:"",email:"",website:"",description:""}),O=k.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me",method:"GET"});return t(T.publisher),!0}catch(T){return T instanceof _e&&T.status===404&&v(!0),!1}},[]),S=k.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me/extensions",method:"GET"});n(T.extensions)}catch(T){console.error("Failed to fetch extensions:",T)}},[]),A=k.useCallback(async()=>{try{const T=await ce({url:`/api/marketplace/publishers/me/analytics?period=${b}`,method:"GET"});o(T.analytics)}catch(T){console.error("Failed to fetch analytics:",T)}},[b]),E=k.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(T.payouts)}catch(T){console.error("Failed to fetch payouts:",T)}},[]);k.useEffect(()=>{(async()=>{f(!0),await O()&&await Promise.all([S(),A(),E()]),f(!1)})()},[O,S,A,E]),k.useEffect(()=>{e&&A()},[b,e,A]);const R=async T=>{T.preventDefault(),m(!0);try{const I=await ce({url:"/api/marketplace/publishers/register",method:"POST",data:C});t(I.publisher),v(!1)}catch(I){const G=I instanceof _e?I.message:"Registration failed";alert(G)}finally{m(!1)}},M=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:String(T),L=T=>`$${(T/100).toFixed(2)}`;return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?a.jsxs("div",{className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),a.jsx("input",{type:"text",value:C.name,onChange:T=>_({...C,name:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),a.jsx("input",{type:"text",value:C.slug,onChange:T=>_({...C,slug:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",value:C.email,onChange:T=>_({...C,email:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",value:C.website,onChange:T=>_({...C,website:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:C.description,onChange:T=>_({...C,description:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&a.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),a.jsx(Pt,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(T=>a.jsxs("button",{onClick:()=>N(T),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===T?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[T==="overview"&&"Overview",T==="extensions"&&`Extensions (${r.length})`,T==="payouts"&&"Payouts"]},T))})}),y==="overview"&&s&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("select",{value:b,onChange:T=>j(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(s.totalDownloads)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(s.totalInstalls)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:L(s.totalRevenue)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),a.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((T,I)=>{const G=Math.max(...s.downloadTrend.map(U=>U.count))||1,X=T.count/G*100;return a.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(X,2)}%`},title:`${T.date}: ${T.count} downloads`},I)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"pb-3",children:"Extension"}),a.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),a.jsx("th",{className:"pb-3 text-right",children:"Installs"}),a.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),a.jsx("tbody",{children:s.extensionStats.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium text-gray-900",children:T.name}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(T.downloads)}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(T.installs)}),a.jsx("td",{className:"py-3 text-right text-green-600",children:L(T.revenue)}),a.jsxs("td",{className:"py-3 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.rating.toFixed(1)]})]},T.extensionId))})]})]})]}),y==="extensions"&&a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),a.jsx(Pt,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Extension"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Downloads"}),a.jsx("th",{className:"p-4 text-right",children:"Rating"}),a.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),a.jsx("tbody",{children:r.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4",children:a.jsx(Pt,{to:`/marketplace/${T.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:T.name})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="published"?"bg-green-100 text-green-700":T.status==="review"?"bg-yellow-100 text-yellow-700":T.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-right text-gray-600",children:M(T.stats.downloads)}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",T.stats.rating.toFixed(1),a.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",T.stats.reviewCount,")"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.pricing})})]},T.id))})]})}),y==="payouts"&&a.jsxs("div",{children:[!e.payoutEnabled&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),a.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Period"}),a.jsx("th",{className:"p-4",children:"Amount"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4",children:"Paid Date"})]})}),a.jsx("tbody",{children:l.map(T=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(T.periodStart).toLocaleDateString()," -"," ",new Date(T.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"p-4 font-medium text-green-600",children:L(T.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="processing"?"bg-blue-100 text-blue-700":T.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),a.jsx("td",{className:"p-4 text-gray-600",children:T.paidAt?new Date(T.paidAt).toLocaleDateString():"-"})]},T.id))})]})})]})]}):null}function JQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,o]=k.useState(null),[l,u]=k.useState(null),[d,f]=k.useState("all"),[p,m]=k.useState(""),[x,v]=k.useState(!1);k.useEffect(()=>{b()},[d]);const b=async()=>{try{n(!0);const O=new URLSearchParams;d!=="all"&&O.set("status",d),O.set("limit","50");const S=await fetch(`/api/sop-drafts?${O}`,{credentials:"include"});if(!S.ok)throw new Error("Failed to fetch drafts");const A=await S.json();t(A.drafts),o(null)}catch(O){o(O instanceof Error?O.message:"Unknown error")}finally{n(!1)}},j=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(A=>A.id===O?{...A,status:"approved",reviewedAt:new Date().toISOString()}:A)),u(null)}catch(S){o(S instanceof Error?S.message:"Failed to approve")}},y=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(A=>A.id===O?{...A,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:A)),v(!1),m(""),u(null)}catch(S){o(S instanceof Error?S.message:"Failed to reject")}},N=async O=>{try{const S=await fetch(`/api/sop-drafts/${O.id}/yaml`,{credentials:"include"});if(!S.ok)throw new Error("Failed to download YAML");const A=await S.blob(),E=window.URL.createObjectURL(A),R=document.createElement("a");R.href=E,R.download=`${O.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(E)}catch(S){o(S instanceof Error?S.message:"Failed to download")}},C=O=>{switch(O){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},_=O=>{switch(O){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),a.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(O=>a.jsx("button",{onClick:()=>f(O),className:`px-4 py-2 rounded-lg ${d===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O==="all"?"All":O.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},O))}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:s})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-1/3",children:r?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):a.jsx("div",{className:"space-y-3",children:e.map(O=>a.jsxs("div",{onClick:()=>u(O),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===O.id?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:O.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C(O.status)}`,children:O.status.replace("_"," ")})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.description}),a.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:O.function}),a.jsx("span",{children:""}),a.jsxs("span",{children:[O.steps.length," steps"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(O.confidence*100),"%"]})]})]},O.id))})}),a.jsx("div",{className:"flex-1",children:l?a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full ${C(l.status)}`,children:l.status.replace("_"," ")})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Function: ",l.function]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Source: ",l.sourceType]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),a.jsx("div",{className:"space-y-3",children:l.steps.map((O,S)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:S+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:_(O.type)}),a.jsx("span",{className:"font-medium",children:O.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:O.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),O.agentId&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",O.agentId]}),O.toolName&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",O.toolName]})]})]},O.id))})]}),l.status==="rejected"&&l.rejectionReason&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>N(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),a.jsx("button",{onClick:()=>{v(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),a.jsx("button",{onClick:()=>j(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&a.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>N(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),a.jsx("textarea",{value:p,onChange:O=>m(O.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>y(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const ZQ={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function eJ({step:e,index:t,isSelected:r,isDragging:n,onSelect:s,onDragStart:o,onDragEnd:l}){const u=k.useMemo(()=>ZQ[e.type],[e.type]);return a.jsxs("div",{draggable:!0,onDragStart:o,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${n?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&a.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function tJ({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:n,onAddStep:s}){const[o,l]=k.useState(null),[u,d]=k.useState(null),f=k.useRef(null),p=k.useCallback(j=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(j)),l(j)},[]),m=k.useCallback(()=>{l(null),d(null)},[]),x=k.useCallback(j=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",o!==null&&j!==o&&d(j)},[o]),v=k.useCallback(j=>y=>{y.preventDefault();const N=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(N)&&N!==j&&n(N,j),l(null),d(null)},[n]),b=j=>j>=e.length-1?null:a.jsxs("div",{className:"flex justify-center my-2",children:[a.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),a.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:a.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return a.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:f,children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),a.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Automated"})]}),a.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Manual"})]}),a.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Approval"})]})]})}),a.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),a.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[e.map((j,y)=>a.jsxs("div",{children:[u===y&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),a.jsx("div",{onDragOver:x(y),onDrop:v(y),children:a.jsx(eJ,{step:j,index:y,isSelected:t===y,isDragging:o===y,onSelect:()=>r(y),onDragStart:p(y),onDragEnd:m})}),b(y)]},j.id+"-"+y)),u===e.length&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:j=>{j.preventDefault(),d(e.length)},onDrop:v(e.length),children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function rJ({step:e,onUpdate:t,onDelete:r,onClose:n}){var x,v;const[s,o]=k.useState(e),[l,u]=k.useState("");if(k.useEffect(()=>{o(e)},[e]),!s)return a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(b,j)=>{const y={...s,[b]:j};o(y),t(y)},f=b=>{const j={...s,conditional:{when:b}};o(j),t(j)},p=()=>{if(!l.trim())return;const b=[...s.checklist||[],l.trim()];d("checklist",b),u("")},m=b=>{var y;const j=((y=s.checklist)==null?void 0:y.filter((N,C)=>C!==b))||[];d("checklist",j.length>0?j:void 0)};return a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:s.type,onChange:b=>d("type",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"automated",children:" Automated"}),a.jsx("option",{value:"manual",children:" Manual"}),a.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),a.jsx("input",{type:"text",value:s.id,onChange:b=>d("id",b.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:s.name,onChange:b=>d("name",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:s.description||"",onChange:b=>d("description",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),a.jsx("input",{type:"text",value:s.agent||"",onChange:b=>d("agent",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),a.jsx("input",{type:"text",value:s.tool||"",onChange:b=>d("tool",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsx("input",{type:"text",value:s.assignee||"",onChange:b=>d("assignee",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:b=>d("requires_approval",b.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),a.jsx("input",{type:"text",value:s.approver||"",onChange:b=>d("approver",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),a.jsxs("select",{value:s.timeout||"",onChange:b=>d("timeout",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"No timeout"}),a.jsx("option",{value:"5m",children:"5 minutes"}),a.jsx("option",{value:"15m",children:"15 minutes"}),a.jsx("option",{value:"30m",children:"30 minutes"}),a.jsx("option",{value:"1h",children:"1 hour"}),a.jsx("option",{value:"2h",children:"2 hours"}),a.jsx("option",{value:"4h",children:"4 hours"}),a.jsx("option",{value:"8h",children:"8 hours"}),a.jsx("option",{value:"24h",children:"24 hours"}),a.jsx("option",{value:"48h",children:"48 hours"}),a.jsx("option",{value:"72h",children:"72 hours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),a.jsx("input",{type:"text",value:((x=s.conditional)==null?void 0:x.when)||"",onChange:b=>b.target.value?f(b.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),a.jsxs("div",{className:"space-y-2",children:[(v=s.checklist)==null?void 0:v.map((b,j)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:b}),a.jsx("button",{onClick:()=>m(j),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},j)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),onKeyDown:b=>b.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),a.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function nJ({sopId:e,isOpen:t,onClose:r}){const[n,s]=k.useState("{}"),[o,l]=k.useState(null),[u,d]=k.useState(!1),[f,p]=k.useState(null),[m,x]=k.useState(0),v=async()=>{if(e){d(!0),p(null);try{const y=JSON.parse(n),N=await ce({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(N.simulation),x(0)}catch(y){y instanceof SyntaxError?p("Invalid JSON in input data"):y instanceof _e?p(y.message):p("Failed to simulate SOP")}finally{d(!1)}}},b=y=>{if(y<60)return`${y}m`;const N=Math.floor(y/60),C=y%60;if(N<24)return C>0?`${N}h ${C}m`:`${N}h`;const _=Math.floor(N/24),O=N%24;return O>0?`${_}d ${O}h`:`${_}d`},j=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:n,onChange:y=>s(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),a.jsx("button",{onClick:v,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),f&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),o&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:o.sopName}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",a.jsx("span",{className:"font-medium",children:o.totalSteps})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",a.jsx("span",{className:"font-medium",children:b(o.estimatedTotalDuration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",a.jsxs("span",{className:"font-medium",children:[o.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),a.jsx("div",{className:"space-y-3",children:o.steps.map((y,N)=>{const C=j(y.type),_=N===m;return a.jsx("div",{onClick:()=>x(N),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${_?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:N+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${C.color}`,children:[C.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),a.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&a.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),_&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",a.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",a.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",a.jsx("span",{children:y.assignee})]}),y.approver&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",a.jsx("span",{children:y.approver})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",a.jsx("span",{children:b(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Checklist:"}),a.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((O,S)=>a.jsx("li",{className:"text-gray-600",children:O},S))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),a.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:b(y.estimatedDuration)})]})},y.id)})})]}),o.exceptionHandlers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),a.jsx("div",{className:"space-y-2",children:o.exceptionHandlers.map((y,N)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-500",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:y.condition}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&a.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},N))})]})]})]})]})}):null}const aJ=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function sJ(){const{id:e}=ff(),t=Os(),r=!!e,[n,s]=k.useState([]),[o,l]=k.useState(!0),[u,d]=k.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[f,p]=k.useState([{pattern:""}]),[m,x]=k.useState([]),[v,b]=k.useState([]),[j,y]=k.useState(null),[N,C]=k.useState(!1),[_,O]=k.useState(!1),[S,A]=k.useState(null),[E,R]=k.useState(null),[M,L]=k.useState(!1),[T,I]=k.useState(!1),[G,X]=k.useState(""),[U,q]=k.useState("editor"),D=k.useCallback(async()=>{try{const ee=await ce({url:"/api/sops",method:"GET"});s(ee.sops)}catch(ee){console.error("Failed to fetch SOP list:",ee)}finally{l(!1)}},[]),W=k.useCallback(async ee=>{C(!0),A(null);try{const be=(await ce({url:`/api/sops/${ee}`,method:"GET"})).sop;d(be.metadata),p(be.triggers),x(be.steps),b(be.exception_handling||[])}catch(ve){ve instanceof _e?A(ve.message):A("Failed to load SOP")}finally{C(!1)}},[]),Y=k.useCallback(async()=>{if(e)try{const ee=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(ee.ok){const ve=await ee.text();X(ve)}}catch(ee){console.error("Failed to fetch YAML:",ee)}},[e]);k.useEffect(()=>{D()},[D]),k.useEffect(()=>{e?W(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),x([]),b([]),y(null))},[e,W]),k.useEffect(()=>{T&&e&&Y()},[T,e,Y]);const z=ee=>{const ve={id:`step-${Date.now()}`,name:`New ${ee==="automated"?"Automated":ee==="manual"?"Manual":"Approval"} Step`,type:ee};x([...m,ve]),y(m.length)},B=ee=>{if(j===null)return;const ve=[...m];ve[j]=ee,x(ve)},F=()=>{if(j===null)return;const ee=m.filter((ve,be)=>be!==j);x(ee),y(null)},K=(ee,ve)=>{const be=[...m],[Je]=be.splice(ee,1);be.splice(ve,0,Je),x(be),j===ee&&y(ve)},Z=()=>{p([...f,{pattern:""}])},de=(ee,ve)=>{const be=[...f];be[ee]={pattern:ve},p(be)},ie=ee=>{f.length<=1||p(f.filter((ve,be)=>be!==ee))},re=()=>{b([...v,{condition:"",action:"notify_owner"}])},pe=(ee,ve,be)=>{const Je=[...v];Je[ee]={...Je[ee],[ve]:be},b(Je)},ue=ee=>{b(v.filter((ve,be)=>be!==ee))},Oe=async()=>{if(!u.id.trim()){A("SOP ID is required");return}if(!u.name.trim()){A("SOP name is required");return}if(!u.owner.trim()){A("Owner is required");return}if(f.every(ve=>!ve.pattern.trim())){A("At least one trigger pattern is required");return}if(m.length===0){A("At least one step is required");return}O(!0),A(null),R(null);const ee={metadata:u,triggers:f.filter(ve=>ve.pattern.trim()),steps:m,exception_handling:v.filter(ve=>ve.condition.trim())};try{r?(await ce({url:`/api/sops/${e}`,method:"PUT",data:ee}),R("SOP updated successfully")):(await ce({url:"/api/sops",method:"POST",data:ee}),R("SOP created successfully"),t(`/sops/${u.id}`)),D()}catch(ve){ve instanceof _e?A(ve.message):A("Failed to save SOP")}finally{O(!1)}},Te=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await ce({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),D()}catch(ee){ee instanceof _e?A(ee.message):A("Failed to delete SOP")}};return N?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("nav",{className:"text-sm mb-1",children:[a.jsx(Pt,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>I(!T),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:T?"Hide YAML":"View YAML"}),a.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),a.jsx("button",{onClick:Te,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),a.jsx("button",{onClick:Oe,disabled:_,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:_?"Saving...":r?"Update SOP":"Create SOP"})]})]}),S&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:S}),E&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsx("div",{className:"p-4",children:a.jsxs(Pt,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New SOP"})]})}),a.jsx("nav",{className:"px-2 pb-4",children:o?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):n.length===0?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):n.map(ee=>a.jsxs(Pt,{to:`/sops/${ee.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===ee.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"font-medium truncate",children:ee.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[ee.function,"  ",ee.stepCount," steps"]})]},ee.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(ee=>a.jsxs("button",{onClick:()=>q(ee),className:`py-3 text-sm font-medium border-b-2 transition-colors ${U===ee?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[ee==="editor"&&"Step Editor",ee==="triggers"&&"Triggers & Metadata",ee==="exceptions"&&"Exception Handlers"]},ee))})}),U==="editor"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(tJ,{steps:m,selectedStepIndex:j,onSelectStep:y,onReorderSteps:K,onAddStep:z}),a.jsx(rJ,{step:j!==null?m[j]:null,onUpdate:B,onDelete:F,onClose:()=>y(null)})]}),U==="triggers"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),a.jsx("input",{type:"text",value:u.id,onChange:ee=>d({...u,id:ee.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:u.name,onChange:ee=>d({...u,name:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{value:u.function,onChange:ee=>d({...u,function:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:aJ.map(ee=>a.jsx("option",{value:ee.value,children:ee.label},ee.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),a.jsx("input",{type:"text",value:u.owner,onChange:ee=>d({...u,owner:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",value:u.version,onChange:ee=>d({...u,version:ee.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),a.jsx("button",{onClick:Z,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),a.jsx("div",{className:"space-y-3",children:f.map((ee,ve)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:ee.pattern,onChange:be=>de(ve,be.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),f.length>1&&a.jsx("button",{onClick:()=>ie(ve),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},ve))})]})]})}),U==="exceptions"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),a.jsx("button",{onClick:re,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),v.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No exception handlers defined"}),a.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):a.jsx("div",{className:"space-y-4",children:v.map((ee,ve)=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),a.jsxs("select",{value:ee.condition,onChange:be=>pe(ve,"condition",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select condition..."}),a.jsx("option",{value:"step.failed",children:"Step Failed"}),a.jsx("option",{value:"step.timeout",children:"Step Timeout"}),a.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),a.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),a.jsxs("select",{value:ee.action,onChange:be=>pe(ve,"action",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"notify_owner",children:"Notify Owner"}),a.jsx("option",{value:"escalate",children:"Escalate"}),a.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),a.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),a.jsx("option",{value:"return_to_step",children:"Return to Step"}),a.jsx("option",{value:"send_reminder",children:"Send Reminder"}),a.jsx("option",{value:"request_revision",children:"Request Revision"}),a.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),a.jsx("input",{type:"text",value:ee.target||"",onChange:be=>pe(ve,"target",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),a.jsx("input",{type:"text",value:ee.message||"",onChange:be=>pe(ve,"message",be.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),a.jsx("button",{onClick:()=>ue(ve),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},ve))})]})})})]})]}),T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),a.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:G||"Loading..."})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),a.jsx(nJ,{sopId:e||null,isOpen:M,onClose:()=>L(!1)})]})}function iJ(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function oJ(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function g4(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function lJ(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function lj(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function HC(e){return new Date(e).toLocaleDateString()}function x4(e){return new Date(e).toLocaleString()}function KC(e){switch(e){case"up":return"";case"down":return"";default:return""}}function cJ({score:e,status:t}){return a.jsxs("div",{className:`rounded-lg p-6 ${oJ(e)} text-center`,children:[a.jsx("div",{className:`text-6xl font-bold ${iJ(e)}`,children:e}),a.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),a.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${g4(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function ly({title:e,value:t,subtitle:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function uJ({agent:e}){return a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g4(e.status)}`,children:e.status})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",a.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),a.jsx("span",{className:"ml-1 text-gray-400",children:KC(e.trends.executionsTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Success:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",a.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),a.jsx("span",{className:"ml-1 text-gray-400",children:KC(e.trends.latencyTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function dJ({anomaly:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`text-sm font-medium ${lJ(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",x4(e.detectedAt)]})]})}function fJ({gap:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function hJ({recommendation:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${lj(e.priority)}`,children:e.priority})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",a.jsx("span",{className:"text-gray-700",children:e.impact})]}),a.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function mJ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState([]),[d,f]=k.useState(!0),[p,m]=k.useState(null),[x,v]=k.useState(!1),[b,j]=k.useState(!0),[y,N]=k.useState("agents"),C=k.useCallback(async()=>{try{const[E,R,M,L]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(eo(E)){v(!0),f(!1);return}if(!E.ok)throw new Error("Failed to fetch health data");const T=await E.json();if(t(T.data),R.ok){const I=await R.json();n(I.data||[])}if(M.ok){const I=await M.json();o(I.data||[])}if(L.ok){const I=await L.json();u(I.data||[])}m(null)}catch(E){m(E instanceof Error?E.message:"Unknown error")}finally{f(!1)}},[]);k.useEffect(()=>{C()},[C]),k.useEffect(()=>{if(!b)return;const E=setInterval(C,6e4);return()=>clearInterval(E)},[b,C]);const _=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/accept`,{method:"POST",credentials:"include"})).ok&&o(M=>M.filter(L=>L.id!==E))}catch(R){console.error("Failed to accept recommendation",R)}},O=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/reject`,{method:"POST",credentials:"include"})).ok&&o(M=>M.filter(L=>L.id!==E))}catch(R){console.error("Failed to reject recommendation",R)}},S=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&C()}catch(E){console.error("Failed to generate report",E)}},A=async()=>{try{f(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&C()}catch(E){console.error("Failed to run system check",E)}finally{f(!1)}};return d&&!e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x?a.jsx(pc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:C}):p&&!e?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[a.jsx("h3",{className:"font-medium",children:"Error loading system health"}),a.jsx("p",{children:p}),a.jsx("button",{onClick:C,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),a.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?x4(e.timestamp):"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:E=>j(E.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(cJ,{score:e.overallScore,status:e.status}),a.jsx(ly,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),a.jsx(ly,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),a.jsx(ly,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(E=>E.severity==="critical"||E.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(E=>E.severity==="critical").length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(E=>E.severity==="critical").map((E,R)=>a.jsx(dJ,{anomaly:E},R))})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(E=>a.jsxs("button",{onClick:()=>N(E),className:`py-2 px-4 border-b-2 font-medium text-sm ${y===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,E==="gaps"&&`Knowledge Gaps (${r.length})`,E==="recommendations"&&`Recommendations (${s.length})`,E==="reports"&&`Reports (${l.length})`]},E))})}),y==="agents"&&e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(E=>a.jsx(uJ,{agent:E},E.agentId))}),y==="gaps"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((E,R)=>a.jsx(fJ,{gap:E},R))}),y==="recommendations"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(E=>a.jsx(hJ,{recommendation:E,onAccept:_,onReject:O},E.id))}),y==="reports"&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(E=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:[E.type.charAt(0).toUpperCase()+E.type.slice(1)," Report"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[HC(E.periodStart)," - ",HC(E.periodEnd)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),a.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},E.id))})]})}function pJ(){const{currentOrganization:e}=Sn(),[t,r]=k.useState("experiments"),[n,s]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[f,p]=k.useState(!0),[m,x]=k.useState("");k.useEffect(()=>{v()},[e]);async function v(){p(!0);try{const[y,N,C]=await Promise.all([ce({url:"/api/optimization/experiments"}),ce({url:"/api/optimization/costs",params:{days:30}}),ce({url:"/api/optimization/models"})]);s(y.experiments||[]),l(N.analysis||null),d(C.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{p(!1)}}async function b(y){try{await ce({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await v()}catch(N){console.error("Failed to start experiment:",N)}}async function j(y){try{await ce({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await v()}catch(N){console.error("Failed to stop experiment:",N)}}return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),a.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>a.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&a.jsx(gJ,{experiments:n,onStart:b,onStop:j}),t==="prompts"&&a.jsx(vJ,{selectedAgent:m,onAgentChange:x}),t==="routing"&&a.jsx(bJ,{selectedAgent:m,onAgentChange:x}),t==="models"&&a.jsx(jJ,{models:u}),t==="costs"&&o&&a.jsx(wJ,{analysis:o})]})}function gJ({experiments:e,onStart:t,onStop:r}){const n=e.filter(o=>o.status==="running"),s=e.filter(o=>o.status==="completed");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),n.length===0?a.jsx("p",{className:"text-gray-500",children:"No active experiments"}):a.jsx("div",{className:"space-y-4",children:n.map(o=>a.jsx(xJ,{experiment:o,onStart:t,onStop:r},o.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?a.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):a.jsx("div",{className:"space-y-4",children:s.map(o=>a.jsx(yJ,{experiment:o},o.id))})]})]})}function xJ({experiment:e,onStart:t,onStop:r}){const n={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${n[e.status]}`,children:e.status}),e.status==="draft"&&a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function yJ({experiment:e}){const t=e.results;return t?a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Control"}),a.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),a.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),a.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),a.jsxs("div",{className:"mt-4 text-sm",children:[a.jsxs("p",{children:["Improvement: ",a.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),a.jsxs("p",{children:["Confidence: ",a.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&a.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function vJ({selectedAgent:e,onAgentChange:t}){const[r,n]=k.useState([]),[s,o]=k.useState(!1);async function l(u){if(u){o(!0);try{const d=await ce({url:`/api/optimization/agents/${u}/prompts`});n(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{o(!1)}}}return k.useEffect(()=>{e&&l(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?a.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):a.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return a.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&a.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function bJ({selectedAgent:e,onAgentChange:t}){var f,p;const[r,n]=k.useState(null),[s,o]=k.useState(null),[l,u]=k.useState(!1);async function d(m){if(m){u(!0);try{const[x,v]=await Promise.all([ce({url:`/api/optimization/agents/${m}/routing/analysis`}),ce({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);n(x.analysis||null),o(v||null)}catch(x){console.error("Failed to load routing:",x)}finally{u(!1)}}}return k.useEffect(()=>{e&&d(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),a.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),a.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(m=>a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&a.jsxs(a.Fragment,{children:[((f=s.additions)==null?void 0:f.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function jJ({models:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function wJ({analysis:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),a.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?a.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):a.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),a.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=e=>{const t=SJ(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...kJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:y4("lucide",s),...!o&&!OJ(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>k.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=(e,t)=>{const r=k.forwardRef(({className:n,...s},o)=>k.createElement(AJ,{ref:o,iconNode:t,className:y4(`lucide-${NJ(GC(e))}`,`lucide-${e}`,n),...s}));return r.displayName=GC(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zv=sn("circle-alert",PJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],v4=sn("circle-check-big",CJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_J=sn("circle-question-mark",EJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RJ=sn("clock",TJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IJ=sn("external-link",MJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DJ=sn("pen",$J);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],FJ=sn("plus",LJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VC=sn("refresh-cw",BJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zJ=sn("rotate-ccw",qJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WJ=sn("trash-2",UJ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KJ=sn("zap",HJ);function GJ({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:a.jsx(v4,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:a.jsx(zv,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:a.jsx(zv,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:a.jsx(RJ,{className:"w-3 h-3"}),label:"Cooldown"}},{color:r,icon:n,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r}`,children:[n,s]})}function VJ({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function YJ({isOpen:e,onClose:t,onSubmit:r,initialData:n,isEditing:s}){const[o,l]=k.useState({nickname:(n==null?void 0:n.nickname)||"",email:(n==null?void 0:n.email)||"",priority:(n==null?void 0:n.priority)||100,sessionToken:"",cookieData:""}),[u,d]=k.useState(!1),[f,p]=k.useState(null),[m,x]=k.useState(!1);k.useEffect(()=>{l(n?{nickname:n.nickname,email:n.email,priority:n.priority,sessionToken:"",cookieData:""}:{nickname:"",email:"",priority:100,sessionToken:"",cookieData:""}),p(null)},[n,e]);const v=async b=>{b.preventDefault(),d(!0),p(null);try{await r(o),t()}catch(j){p(j instanceof Error?j.message:"Failed to save account")}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:s?"Edit Account":"Add Claude Max Account"}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:f}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),a.jsx("input",{type:"text",value:o.nickname,onChange:b=>l({...o,nickname:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:b=>l({...o,email:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"claude-account@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),a.jsx("input",{type:"number",value:o.priority,onChange:b=>l({...o,priority:parseInt(b.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Session Credentials"}),a.jsxs("button",{type:"button",onClick:()=>x(!m),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[a.jsx(_J,{className:"w-4 h-4"}),"How to get credentials"]})]}),m&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm",children:[a.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"How to extract Claude session:"}),a.jsxs("ol",{className:"list-decimal list-inside text-blue-700 space-y-1",children:[a.jsxs("li",{children:["Open"," ",a.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"underline inline-flex items-center gap-1",children:["claude.ai",a.jsx(IJ,{className:"w-3 h-3"})]})," ","and log in"]}),a.jsx("li",{children:"Open DevTools (F12)  Application  Cookies"}),a.jsxs("li",{children:["Copy the ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"sessionKey"})," value"]}),a.jsx("li",{children:"Paste it in the Session Token field below"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Token (sessionKey)"}),a.jsx("input",{type:"password",value:o.sessionToken,onChange:b=>l({...o,sessionToken:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"sk-ant-sid01-..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cookie Data (optional, full cookie string)"}),a.jsx("textarea",{value:o.cookieData,onChange:b=>l({...o,cookieData:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Only needed for advanced setups",rows:2})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":s?"Update":"Add Account"})]})]})]})}):null}function XJ(){const[e,t]=k.useState([]),[r,n]=k.useState(null),[s,o]=k.useState(!0),[l,u]=k.useState(null),[d,f]=k.useState(!1),[p,m]=k.useState(null),x=k.useCallback(async()=>{try{const{data:N}=await yn.get("/api/claude-max-accounts");t(N.accounts),n(N.summary),u(null)}catch(N){u(N instanceof Error?N.message:"Failed to load accounts")}finally{o(!1)}},[]);k.useEffect(()=>{x();const N=setInterval(x,3e4);return()=>clearInterval(N)},[x]);const v=async N=>{await yn.post("/api/claude-max-accounts",{nickname:N.nickname,email:N.email,priority:N.priority,credentials:N.sessionToken||N.cookieData?{sessionToken:N.sessionToken||void 0,cookieData:N.cookieData||void 0}:void 0}),await x()},b=async N=>{p&&(await yn.patch(`/api/claude-max-accounts/${p.id}`,{nickname:N.nickname,email:N.email,priority:N.priority,credentials:N.sessionToken||N.cookieData?{sessionToken:N.sessionToken||void 0,cookieData:N.cookieData||void 0}:void 0}),await x())},j=async N=>{confirm("Are you sure you want to delete this account?")&&(await yn.delete(`/api/claude-max-accounts/${N}`),await x())},y=async N=>{await yn.post(`/api/claude-max-accounts/${N}/reset-status`),await x()};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(VC,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),a.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(VC,{className:"w-4 h-4"}),"Refresh"]}),a.jsxs("button",{onClick:()=>{m(null),f(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx(FJ,{className:"w-4 h-4"}),"Add Account"]})]})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),r&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.total})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(v4,{className:"w-3 h-3 text-green-500"})," Active"]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.active})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(zv,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.rateLimited})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(KJ,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),a.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.exhausted})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[r.averageUsage.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No accounts configured. Add your first Claude Max account to get started."})}):e.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:N.nickname}),a.jsx("div",{className:"text-sm text-gray-500",children:N.email}),N.hasCredentials&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Credentials saved"})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx(GJ,{status:N.status}),N.cooldownUntil&&new Date(N.cooldownUntil)>new Date&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(N.cooldownUntil).toLocaleTimeString()]})]}),a.jsx("td",{className:"px-6 py-4 w-40",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(VJ,{percent:N.estimatedUsagePercent}),a.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[N.estimatedUsagePercent.toFixed(0),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-900",children:N.priority}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:N.lastActiveAt?new Date(N.lastActiveAt).toLocaleString():"Never"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[N.status!=="active"&&a.jsx("button",{onClick:()=>y(N.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:a.jsx(zJ,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{m(N),f(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx(DJ,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(WJ,{className:"w-4 h-4"})})]})})]},N.id))})]})}),a.jsx(YJ,{isOpen:d,onClose:()=>{f(!1),m(null)},onSubmit:p?b:v,initialData:p||void 0,isEditing:!!p})]})}const QJ=SE((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:r,pagination:n}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;r.category&&s.set("category",r.category),r.search&&s.set("search",r.search),r.isActive!==null&&s.set("isActive",String(r.isActive)),r.isSkill!==null&&s.set("isSkill",String(r.isSkill)),s.set("limit",String(n.limit)),s.set("offset",String(n.offset));const o=await ce({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:o.data,pagination:o.pagination,isLoading:!1})}catch(s){const o=s instanceof Error?s.message:"Failed to fetch workflows";e({error:o,isLoading:!1})}},fetchCategories:async()=>{try{const r=await ce({url:"/api/n8n/categories",method:"GET"});e({categories:r})}catch(r){console.error("Failed to fetch categories:",r)}},fetchWorkflowExecutions:async r=>{try{const n=await ce({url:`/api/n8n/workflows/${r}/executions`,method:"GET"});e({executions:n})}catch(n){console.error("Failed to fetch executions:",n)}},createWorkflow:async r=>{e({isLoading:!0,error:null});try{const n=await ce({url:"/api/n8n/workflows",method:"POST",data:r});return e(s=>({workflows:[n,...s.workflows],isLoading:!1})),n}catch(n){const s=n instanceof Error?n.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),n}},updateWorkflow:async(r,n)=>{e({isLoading:!0,error:null});try{const s=await ce({url:`/api/n8n/workflows/${r}`,method:"PUT",data:n});return e(o=>{var l;return{workflows:o.workflows.map(u=>u.id===r?s:u),selectedWorkflow:((l=o.selectedWorkflow)==null?void 0:l.id)===r?s:o.selectedWorkflow,isLoading:!1}}),s}catch(s){const o=s instanceof Error?s.message:"Failed to update workflow";throw e({error:o,isLoading:!1}),s}},deleteWorkflow:async r=>{e({isLoading:!0,error:null});try{await ce({url:`/api/n8n/workflows/${r}`,method:"DELETE"}),e(n=>{var s;return{workflows:n.workflows.filter(o=>o.id!==r),selectedWorkflow:((s=n.selectedWorkflow)==null?void 0:s.id)===r?null:n.selectedWorkflow,isLoading:!1}})}catch(n){const s=n instanceof Error?n.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),n}},executeWorkflow:async(r,n)=>{e({isExecuting:!0,error:null});try{const s=await ce({url:`/api/n8n/workflows/${r}/execute`,method:"POST",data:{inputData:n}});return e(o=>({executions:[s,...o.executions],isExecuting:!1})),s}catch(s){const o=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:o,isExecuting:!1}),s}},activateWorkflow:async r=>{try{const n=await ce({url:`/api/n8n/workflows/${r}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(o=>o.id===r?n:o)}))}catch(n){const s=n instanceof Error?n.message:"Failed to activate workflow";throw e({error:s}),n}},deactivateWorkflow:async r=>{try{const n=await ce({url:`/api/n8n/workflows/${r}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(o=>o.id===r?n:o)}))}catch(n){const s=n instanceof Error?n.message:"Failed to deactivate workflow";throw e({error:s}),n}},setFilters:r=>{e(n=>({filters:{...n.filters,...r},pagination:{...n.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:r=>{e({viewMode:r})},setSelectedWorkflow:r=>{e({selectedWorkflow:r,executions:[]}),r&&t().fetchWorkflowExecutions(r.id)},setPage:r=>{e(n=>({pagination:{...n.pagination,offset:r}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),YC=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function XC(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function JJ({workflow:e,onView:t,onEdit:r,onDelete:n,onExecute:s,onToggleActive:o}){var l;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),a.jsx("div",{className:"ml-3 flex-shrink-0",children:a.jsx("button",{onClick:o,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&a.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(u=>a.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:u},u)),e.tags.length>3&&a.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),a.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),a.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),a.jsx("button",{onClick:n,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function ZJ({workflow:e,onView:t,onEdit:r,onDelete:n,onExecute:s,onToggleActive:o}){var l;return a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),a.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),a.jsx("button",{onClick:o,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),a.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),a.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),a.jsx("button",{onClick:n,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function QC({isOpen:e,onClose:t,onSubmit:r,initialData:n,title:s,isLoading:o}){const[l,u]=k.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:YC,isActive:!1}),[d,f]=k.useState(null);k.useEffect(()=>{u(n?{name:n.name,description:n.description||"",category:n.category,tags:n.tags.join(", "),workflowJson:JSON.stringify(n.workflowJson,null,2),isActive:n.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:YC,isActive:!1}),f(null)},[n,e]);const p=x=>{u(b=>({...b,workflowJson:x}));const v=XC(x);f(v.valid?null:v.error??null)},m=()=>{const x=XC(l.workflowJson);if(!x.valid){f(x.error??"Invalid JSON");return}r(l)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:l.name,onChange:x=>u(v=>({...v,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:x=>u(v=>({...v,description:x.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("input",{type:"text",value:l.category,onChange:x=>u(v=>({...v,category:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",value:l.tags,onChange:x=>u(v=>({...v,tags:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:x=>u(v=>({...v,isActive:x.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),a.jsx("textarea",{value:l.workflowJson,onChange:x=>p(x.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),d&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:m,disabled:o||!l.name||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":n?"Update":"Create"})]})]})}):null}function eZ({isOpen:e,onClose:t,onExecute:r,workflowName:n,isExecuting:s}){const[o,l]=k.useState("{}"),[u,d]=k.useState(null),f=m=>{l(m);try{JSON.parse(m),d(null)}catch{d("Invalid JSON")}},p=()=>{try{const m=JSON.parse(o);r(m)}catch{d("Invalid JSON")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",n]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),a.jsx("textarea",{value:o,onChange:m=>f(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),u&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:s||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function tZ({isOpen:e,onClose:t,onConfirm:r,workflowName:n,isLoading:s}){return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),a.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:n}),"? This action cannot be undone."]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:r,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function rZ({workflow:e,executions:t,onClose:r}){const n=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),a.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):a.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n(s.status)}`,children:s.status}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function nZ(){const{workflows:e,categories:t,executions:r,isLoading:n,isExecuting:s,error:o,viewMode:l,filters:u,pagination:d,fetchWorkflows:f,fetchCategories:p,createWorkflow:m,updateWorkflow:x,deleteWorkflow:v,executeWorkflow:b,activateWorkflow:j,deactivateWorkflow:y,setFilters:N,setViewMode:C,setSelectedWorkflow:_,setPage:O,clearError:S}=QJ(),[A,E]=k.useState(!1),[R,M]=k.useState(null),[L,T]=k.useState(null),[I,G]=k.useState(null),[X,U]=k.useState(null);k.useEffect(()=>{f(),p()},[f,p]);const q=k.useCallback(async Z=>{const de={name:Z.name,description:Z.description||void 0,category:Z.category,tags:Z.tags.split(",").map(ie=>ie.trim()).filter(Boolean),workflowJson:JSON.parse(Z.workflowJson),isActive:Z.isActive};await m(de),E(!1)},[m]),D=k.useCallback(async Z=>{if(!R)return;const de={name:Z.name,description:Z.description||void 0,category:Z.category,tags:Z.tags.split(",").map(ie=>ie.trim()).filter(Boolean),workflowJson:JSON.parse(Z.workflowJson),isActive:Z.isActive};await x(R.id,de),M(null)},[R,x]),W=k.useCallback(async()=>{I&&(await v(I.id),G(null))},[I,v]),Y=k.useCallback(async Z=>{L&&(await b(L.id,Z),T(null))},[L,b]),z=k.useCallback(async Z=>{Z.isActive?await y(Z.id):await j(Z.id)},[j,y]),B=k.useCallback(Z=>{_(Z),U(Z)},[_]),F=Math.ceil(d.total/d.limit),K=Math.floor(d.offset/d.limit)+1;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),a.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),o&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[a.jsx("span",{children:o}),a.jsx("button",{onClick:S,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("input",{type:"text",value:u.search,onChange:Z=>N({search:Z.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsxs("select",{value:u.category,onChange:Z=>N({category:Z.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Categories"}),t.map(Z=>a.jsxs("option",{value:Z.name,children:[Z.name," (",Z.count,")"]},Z.name))]}),a.jsxs("select",{value:u.isActive===null?"":String(u.isActive),onChange:Z=>N({isActive:Z.target.value===""?null:Z.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"true",children:"Active"}),a.jsx("option",{value:"false",children:"Inactive"})]}),a.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>C("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),a.jsx("button",{onClick:()=>C("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),n?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:u.search||u.category||u.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!u.search&&!u.category&&u.isActive===null&&a.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(Z=>a.jsx(JJ,{workflow:Z,onView:()=>B(Z),onEdit:()=>M(Z),onDelete:()=>G(Z),onExecute:()=>T(Z),onToggleActive:()=>z(Z)},Z.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(Z=>a.jsx(ZJ,{workflow:Z,onView:()=>B(Z),onEdit:()=>M(Z),onDelete:()=>G(Z),onExecute:()=>T(Z),onToggleActive:()=>z(Z)},Z.id))}),F>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.offset+1,"-",Math.min(d.offset+d.limit,d.total)," of ",d.total]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O(Math.max(0,d.offset-d.limit)),disabled:d.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",K," of ",F]}),a.jsx("button",{onClick:()=>O(d.offset+d.limit),disabled:K>=F,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),a.jsx(QC,{isOpen:A,onClose:()=>E(!1),onSubmit:q,title:"Create Workflow",isLoading:n}),a.jsx(QC,{isOpen:!!R,onClose:()=>M(null),onSubmit:D,initialData:R??void 0,title:"Edit Workflow",isLoading:n}),a.jsx(eZ,{isOpen:!!L,onClose:()=>T(null),onExecute:Y,workflowName:(L==null?void 0:L.name)??"",isExecuting:s}),a.jsx(tZ,{isOpen:!!I,onClose:()=>G(null),onConfirm:W,workflowName:(I==null?void 0:I.name)??"",isLoading:n}),X&&a.jsx(rZ,{workflow:X,executions:r,onClose:()=>{U(null),_(null)}})]})}function aZ(){const[e,t]=k.useState(!1),{currentOrganization:r,organizations:n,switchOrganization:s}=Sn();if(!r||n.length<=1)return null;const o=async l=>{t(!1),await s(l)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),n.map(l=>a.jsxs("button",{onClick:()=>o(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function sZ({user:e,onLogout:t}){return a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),a.jsx(aZ,{}),e&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const iZ=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],oZ=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],lZ=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],cZ=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],uZ=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],dZ=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],fZ=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function hZ(){const e=ks(),t=r=>r.map(n=>{const o=e.pathname===n.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return a.jsx("li",{children:a.jsxs(Pt,{to:n.path,className:o,children:[a.jsx("span",{className:"text-xl",children:n.icon}),a.jsx("span",{className:"font-medium",children:n.name})]})},n.path)});return a.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:a.jsx("nav",{className:"p-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("ul",{className:"space-y-2",children:t(iZ)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),a.jsx("ul",{className:"space-y-2",children:t(oZ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),a.jsx("ul",{className:"space-y-2",children:t(lZ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),a.jsx("ul",{className:"space-y-2",children:t(cZ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),a.jsx("ul",{className:"space-y-2",children:t(uZ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),a.jsx("ul",{className:"space-y-2",children:t(dZ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),a.jsx("ul",{className:"space-y-2",children:t(fZ)})]})]})})})}function Be({children:e}){const{user:t,logout:r}=Sn();return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(sZ,{user:t||void 0,onLogout:r}),a.jsx(hZ,{}),a.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function qe({children:e}){const{user:t,isLoading:r,fetchUser:n}=Sn();return k.useEffect(()=>{n()},[n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(NE,{to:"/login",replace:!0})}function mZ(){return a.jsx(nM,{children:a.jsxs(YR,{children:[a.jsx(Le,{path:"/login",element:a.jsx(lM,{})}),a.jsx(Le,{path:"/dashboard",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(WI,{})})})}),a.jsx(Le,{path:"/okr",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(w$,{})})})}),a.jsx(Le,{path:"/workflows",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(GI,{})})})}),a.jsx(Le,{path:"/workflows/:id",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(VI,{})})})}),a.jsx(Le,{path:"/executions",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(YI,{})})})}),a.jsx(Le,{path:"/executions/:id",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(XI,{})})})}),a.jsx(Le,{path:"/settings",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(QI,{})})})}),a.jsx(Le,{path:"/settings/notion",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(JI,{})})})}),a.jsx(Le,{path:"/settings/slack",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(ZI,{})})})}),a.jsx(Le,{path:"/settings/google-calendar",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(e$,{})})})}),a.jsx(Le,{path:"/settings/members",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(n$,{})})})}),a.jsx(Le,{path:"/approvals",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(a$,{})})})}),a.jsx(Le,{path:"/activity",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(h$,{})})})}),a.jsx(Le,{path:"/metrics/agents",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(p$,{})})})}),a.jsx(Le,{path:"/org-changes",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(g$,{})})})}),a.jsx(Le,{path:"/admin/agents",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(O$,{})})})}),a.jsx(Le,{path:"/admin/skills",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(E$,{})})})}),a.jsx(Le,{path:"/admin",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx($$,{})})})}),a.jsx(Le,{path:"/admin/organizations",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(F$,{})})})}),a.jsx(Le,{path:"/admin/optimization",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(pJ,{})})})}),a.jsx(Le,{path:"/admin/claude-max-accounts",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(XJ,{})})})}),a.jsx(Le,{path:"/conversations",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(_$,{})})})}),a.jsx(Le,{path:"/search",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(I$,{})})})}),a.jsx(Le,{path:"/analytics",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(IQ,{})})})}),a.jsx(Le,{path:"/costs",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(LQ,{})})})}),a.jsx(Le,{path:"/billing",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx($Q,{})})})}),a.jsx(Le,{path:"/knowledge-graph",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(WQ,{})})})}),a.jsx(Le,{path:"/patterns",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(XQ,{})})})}),a.jsx(Le,{path:"/feedback",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(UQ,{})})})}),a.jsx(Le,{path:"/system-health",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(mJ,{})})})}),a.jsx(Le,{path:"/marketplace",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(HQ,{})})})}),a.jsx(Le,{path:"/marketplace-hub",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(KQ,{})})})}),a.jsx(Le,{path:"/marketplace/:extensionId",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(zQ,{})})})}),a.jsx(Le,{path:"/developer",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(qQ,{})})})}),a.jsx(Le,{path:"/developer/publisher",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(QQ,{})})})}),a.jsx(Le,{path:"/sops/drafts",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(JQ,{})})})}),a.jsx(Le,{path:"/sops/editor/:id?",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(sJ,{})})})}),a.jsx(Le,{path:"/onboarding",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(GQ,{})})})}),a.jsx(Le,{path:"/org-change-wizard",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(YQ,{})})})}),a.jsx(Le,{path:"/n8n/workflows",element:a.jsx(qe,{children:a.jsx(Be,{children:a.jsx(nZ,{})})})}),a.jsx(Le,{path:"/",element:a.jsx(NE,{to:"/dashboard",replace:!0})})]})})}class pZ extends V.Component{constructor(){super(...arguments);Ru(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const n=r instanceof Error?r.message:String(r);console.error("UI error:",n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?a.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,a.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const gZ=new tR;P6.createRoot(document.getElementById("root")).render(a.jsx(V.StrictMode,{children:a.jsx(pZ,{children:a.jsx(nR,{client:gZ,children:a.jsx(mZ,{})})})}));
