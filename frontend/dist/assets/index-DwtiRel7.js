var Bp=Object.defineProperty;var Yu=r=>{throw TypeError(r)};var Hp=(r,a,l)=>a in r?Bp(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l;var ol=(r,a,l)=>Hp(r,typeof a!="symbol"?a+"":a,l),wo=(r,a,l)=>a.has(r)||Yu("Cannot "+l);var q=(r,a,l)=>(wo(r,a,"read from private field"),l?l.call(r):a.get(r)),Pe=(r,a,l)=>a.has(r)?Yu("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,l),Se=(r,a,l,o)=>(wo(r,a,"write to private field"),o?o.call(r,l):a.set(r,l),l),ot=(r,a,l)=>(wo(r,a,"access private method"),l);var cl=(r,a,l,o)=>({set _(d){Se(r,a,d,l)},get _(){return q(r,a,o)}});function Wp(r,a){for(var l=0;l<a.length;l++){const o=a[l];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in r)){const f=Object.getOwnPropertyDescriptor(o,d);f&&Object.defineProperty(r,d,f.get?f:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=l(d);fetch(d.href,f)}})();function nf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var No={exports:{}},Ms={},So={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu;function qp(){if(Xu)return Ee;Xu=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),j=Symbol.iterator;function N(E){return E===null||typeof E!="object"?null:(E=j&&E[j]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(E,$,he){this.props=E,this.context=$,this.refs=S,this.updater=he||C}b.prototype.isReactComponent={},b.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},b.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=b.prototype;function K(E,$,he){this.props=E,this.context=$,this.refs=S,this.updater=he||C}var U=K.prototype=new I;U.constructor=K,w(U,b.prototype),U.isPureReactComponent=!0;var R=Array.isArray,T=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function _(E,$,he){var ve,X={},Q=null,ge=null;if($!=null)for(ve in $.ref!==void 0&&(ge=$.ref),$.key!==void 0&&(Q=""+$.key),$)T.call($,ve)&&!H.hasOwnProperty(ve)&&(X[ve]=$[ve]);var be=arguments.length-2;if(be===1)X.children=he;else if(1<be){for(var ke=Array(be),qe=0;qe<be;qe++)ke[qe]=arguments[qe+2];X.children=ke}if(E&&E.defaultProps)for(ve in be=E.defaultProps,be)X[ve]===void 0&&(X[ve]=be[ve]);return{$$typeof:r,type:E,key:Q,ref:ge,props:X,_owner:W.current}}function ee(E,$){return{$$typeof:r,type:E.type,key:$,ref:E.ref,props:E.props,_owner:E._owner}}function D(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function ie(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(he){return $[he]})}var B=/\/+/g;function V(E,$){return typeof E=="object"&&E!==null&&E.key!=null?ie(""+E.key):$.toString(36)}function se(E,$,he,ve,X){var Q=typeof E;(Q==="undefined"||Q==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(Q){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case r:case a:ge=!0}}if(ge)return ge=E,X=X(ge),E=ve===""?"."+V(ge,0):ve,R(X)?(he="",E!=null&&(he=E.replace(B,"$&/")+"/"),se(X,$,he,"",function(qe){return qe})):X!=null&&(D(X)&&(X=ee(X,he+(!X.key||ge&&ge.key===X.key?"":(""+X.key).replace(B,"$&/")+"/")+E)),$.push(X)),1;if(ge=0,ve=ve===""?".":ve+":",R(E))for(var be=0;be<E.length;be++){Q=E[be];var ke=ve+V(Q,be);ge+=se(Q,$,he,ke,X)}else if(ke=N(E),typeof ke=="function")for(E=ke.call(E),be=0;!(Q=E.next()).done;)Q=Q.value,ke=ve+V(Q,be++),ge+=se(Q,$,he,ke,X);else if(Q==="object")throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ge}function re(E,$,he){if(E==null)return E;var ve=[],X=0;return se(E,ve,"","",function(Q){return $.call(he,Q,X++)}),ve}function te(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(he){(E._status===0||E._status===-1)&&(E._status=1,E._result=he)},function(he){(E._status===0||E._status===-1)&&(E._status=2,E._result=he)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var me={current:null},J={transition:null},oe={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:J,ReactCurrentOwner:W};function P(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:re,forEach:function(E,$,he){re(E,function(){$.apply(this,arguments)},he)},count:function(E){var $=0;return re(E,function(){$++}),$},toArray:function(E){return re(E,function($){return $})||[]},only:function(E){if(!D(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ee.Component=b,Ee.Fragment=l,Ee.Profiler=d,Ee.PureComponent=K,Ee.StrictMode=o,Ee.Suspense=p,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ee.act=P,Ee.cloneElement=function(E,$,he){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ve=w({},E.props),X=E.key,Q=E.ref,ge=E._owner;if($!=null){if($.ref!==void 0&&(Q=$.ref,ge=W.current),$.key!==void 0&&(X=""+$.key),E.type&&E.type.defaultProps)var be=E.type.defaultProps;for(ke in $)T.call($,ke)&&!H.hasOwnProperty(ke)&&(ve[ke]=$[ke]===void 0&&be!==void 0?be[ke]:$[ke])}var ke=arguments.length-2;if(ke===1)ve.children=he;else if(1<ke){be=Array(ke);for(var qe=0;qe<ke;qe++)be[qe]=arguments[qe+2];ve.children=be}return{$$typeof:r,type:E.type,key:X,ref:Q,props:ve,_owner:ge}},Ee.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:f,_context:E},E.Consumer=E},Ee.createElement=_,Ee.createFactory=function(E){var $=_.bind(null,E);return $.type=E,$},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(E){return{$$typeof:h,render:E}},Ee.isValidElement=D,Ee.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:te}},Ee.memo=function(E,$){return{$$typeof:y,type:E,compare:$===void 0?null:$}},Ee.startTransition=function(E){var $=J.transition;J.transition={};try{E()}finally{J.transition=$}},Ee.unstable_act=P,Ee.useCallback=function(E,$){return me.current.useCallback(E,$)},Ee.useContext=function(E){return me.current.useContext(E)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(E){return me.current.useDeferredValue(E)},Ee.useEffect=function(E,$){return me.current.useEffect(E,$)},Ee.useId=function(){return me.current.useId()},Ee.useImperativeHandle=function(E,$,he){return me.current.useImperativeHandle(E,$,he)},Ee.useInsertionEffect=function(E,$){return me.current.useInsertionEffect(E,$)},Ee.useLayoutEffect=function(E,$){return me.current.useLayoutEffect(E,$)},Ee.useMemo=function(E,$){return me.current.useMemo(E,$)},Ee.useReducer=function(E,$,he){return me.current.useReducer(E,$,he)},Ee.useRef=function(E){return me.current.useRef(E)},Ee.useState=function(E){return me.current.useState(E)},Ee.useSyncExternalStore=function(E,$,he){return me.current.useSyncExternalStore(E,$,he)},Ee.useTransition=function(){return me.current.useTransition()},Ee.version="18.3.1",Ee}var Zu;function Ko(){return Zu||(Zu=1,So.exports=qp()),So.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Kp(){if(em)return Ms;em=1;var r=Ko(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function m(h,p,y){var v,j={},N=null,C=null;y!==void 0&&(N=""+y),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)o.call(p,v)&&!f.hasOwnProperty(v)&&(j[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)j[v]===void 0&&(j[v]=p[v]);return{$$typeof:a,type:h,key:N,ref:C,props:j,_owner:d.current}}return Ms.Fragment=l,Ms.jsx=m,Ms.jsxs=m,Ms}var tm;function Vp(){return tm||(tm=1,No.exports=Kp()),No.exports}var t=Vp(),x=Ko();const sr=nf(x),Qp=Wp({__proto__:null,default:sr},[x]);var dl={},ko={exports:{}},vt={},Co={exports:{}},Eo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Gp(){return nm||(nm=1,(function(r){function a(J,oe){var P=J.length;J.push(oe);e:for(;0<P;){var E=P-1>>>1,$=J[E];if(0<d($,oe))J[E]=oe,J[P]=$,P=E;else break e}}function l(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var oe=J[0],P=J.pop();if(P!==oe){J[0]=P;e:for(var E=0,$=J.length,he=$>>>1;E<he;){var ve=2*(E+1)-1,X=J[ve],Q=ve+1,ge=J[Q];if(0>d(X,P))Q<$&&0>d(ge,X)?(J[E]=ge,J[Q]=P,E=Q):(J[E]=X,J[ve]=P,E=ve);else if(Q<$&&0>d(ge,P))J[E]=ge,J[Q]=P,E=Q;else break e}}return oe}function d(J,oe){var P=J.sortIndex-oe.sortIndex;return P!==0?P:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();r.unstable_now=function(){return m.now()-h}}var p=[],y=[],v=1,j=null,N=3,C=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(J){for(var oe=l(y);oe!==null;){if(oe.callback===null)o(y);else if(oe.startTime<=J)o(y),oe.sortIndex=oe.expirationTime,a(p,oe);else break;oe=l(y)}}function R(J){if(S=!1,U(J),!w)if(l(p)!==null)w=!0,te(T);else{var oe=l(y);oe!==null&&me(R,oe.startTime-J)}}function T(J,oe){w=!1,S&&(S=!1,I(_),_=-1),C=!0;var P=N;try{for(U(oe),j=l(p);j!==null&&(!(j.expirationTime>oe)||J&&!ie());){var E=j.callback;if(typeof E=="function"){j.callback=null,N=j.priorityLevel;var $=E(j.expirationTime<=oe);oe=r.unstable_now(),typeof $=="function"?j.callback=$:j===l(p)&&o(p),U(oe)}else o(p);j=l(p)}if(j!==null)var he=!0;else{var ve=l(y);ve!==null&&me(R,ve.startTime-oe),he=!1}return he}finally{j=null,N=P,C=!1}}var W=!1,H=null,_=-1,ee=5,D=-1;function ie(){return!(r.unstable_now()-D<ee)}function B(){if(H!==null){var J=r.unstable_now();D=J;var oe=!0;try{oe=H(!0,J)}finally{oe?V():(W=!1,H=null)}}else W=!1}var V;if(typeof K=="function")V=function(){K(B)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=B,V=function(){re.postMessage(null)}}else V=function(){b(B,0)};function te(J){H=J,W||(W=!0,V())}function me(J,oe){_=b(function(){J(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){w||C||(w=!0,te(T))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return l(p)},r.unstable_next=function(J){switch(N){case 1:case 2:case 3:var oe=3;break;default:oe=N}var P=N;N=oe;try{return J()}finally{N=P}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var P=N;N=J;try{return oe()}finally{N=P}},r.unstable_scheduleCallback=function(J,oe,P){var E=r.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?E+P:E):P=E,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=P+$,J={id:v++,callback:oe,priorityLevel:J,startTime:P,expirationTime:$,sortIndex:-1},P>E?(J.sortIndex=P,a(y,J),l(p)===null&&J===l(y)&&(S?(I(_),_=-1):S=!0,me(R,P-E))):(J.sortIndex=$,a(p,J),w||C||(w=!0,te(T))),J},r.unstable_shouldYield=ie,r.unstable_wrapCallback=function(J){var oe=N;return function(){var P=N;N=oe;try{return J.apply(this,arguments)}finally{N=P}}}})(Eo)),Eo}var rm;function Jp(){return rm||(rm=1,Co.exports=Gp()),Co.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Yp(){if(sm)return vt;sm=1;var r=Ko(),a=Jp();function l(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,d={};function f(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(d[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},j={};function N(e){return p.call(j,e)?!0:p.call(v,e)?!1:y.test(e)?j[e]=!0:(v[e]=!0,!1)}function C(e,n,s,i){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w(e,n,s,i){if(n===null||typeof n>"u"||C(e,n,s,i))return!0;if(i)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function S(e,n,s,i,c,u,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=u,this.removeEmptyString=g}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];b[n]=new S(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(I,K);b[n]=new S(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(I,K);b[n]=new S(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(I,K);b[n]=new S(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,n,s,i){var c=b.hasOwnProperty(n)?b[n]:null;(c!==null?c.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,s,c,i)&&(s=null),i||c===null?N(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,i=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,i?e.setAttributeNS(i,n,s):e.setAttribute(n,s))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),ie=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),J=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,E;function $(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var he=!1;function ve(e,n){if(!e||he)return"";he=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(M){var i=M}Reflect.construct(e,[],n)}else{try{n.call()}catch(M){i=M}e.call(n.prototype)}else{try{throw Error()}catch(M){i=M}e()}}catch(M){if(M&&i&&typeof M.stack=="string"){for(var c=M.stack.split(`
`),u=i.stack.split(`
`),g=c.length-1,k=u.length-1;1<=g&&0<=k&&c[g]!==u[k];)k--;for(;1<=g&&0<=k;g--,k--)if(c[g]!==u[k]){if(g!==1||k!==1)do if(g--,k--,0>k||c[g]!==u[k]){var A=`
`+c[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=k);break}}}finally{he=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?$(e):""}function X(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function Q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case W:return"Portal";case ee:return"Profiler";case _:return"StrictMode";case V:return"Suspense";case se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ie:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:Q(e.type)||"Memo";case te:n=e._payload,e=e._init;try{return Q(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(n);case 8:return n===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qe(e){var n=ke(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,u=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,u.call(this,g)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wn(e){e._valueTracker||(e._valueTracker=qe(e))}function le(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),i="";return e&&(i=ke(e)?e.checked?"true":"false":e.value),e=i,e!==s?(n.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Te(e,n){var s=n.checked;return P({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function mn(e,n){var s=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;s=be(n.value!=null?n.value:s),e._wrapperState={initialChecked:i,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ac(e,n){n=n.checked,n!=null&&U(e,"checked",n,!1)}function Tl(e,n){ac(e,n);var s=be(n.value),i=n.type;if(s!=null)i==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Al(e,n.type,s):n.hasOwnProperty("defaultValue")&&Al(e,n.type,be(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function lc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Al(e,n,s){(n!=="number"||Ce(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Zr=Array.isArray;function pr(e,n,s,i){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&i&&(e[s].defaultSelected=!0)}else{for(s=""+be(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Rl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(l(91));return P({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ic(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(l(92));if(Zr(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:be(s)}}function oc(e,n){var s=be(n.value),i=be(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),i!=null&&(e.defaultValue=""+i)}function cc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _l(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?dc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ea,uc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,i,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,i,c)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function es(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){Kf.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ts[n]=ts[e]})});function mc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ts.hasOwnProperty(e)&&ts[e]?(""+n).trim():n+"px"}function fc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var i=s.indexOf("--")===0,c=mc(s,n[s],i);s==="float"&&(s="cssFloat"),i?e.setProperty(s,c):e[s]=c}}var Vf=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(e,n){if(n){if(Vf[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(l(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(l(61))}if(n.style!=null&&typeof n.style!="object")throw Error(l(62))}}function Dl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fl=null,gr=null,xr=null;function hc(e){if(e=Ns(e)){if(typeof Fl!="function")throw Error(l(280));var n=e.stateNode;n&&(n=Na(n),Fl(e.stateNode,e.type,n))}}function pc(e){gr?xr?xr.push(e):xr=[e]:gr=e}function gc(){if(gr){var e=gr,n=xr;if(xr=gr=null,hc(e),n)for(e=0;e<n.length;e++)hc(n[e])}}function xc(e,n){return e(n)}function yc(){}var Ml=!1;function vc(e,n,s){if(Ml)return e(n,s);Ml=!0;try{return xc(e,n,s)}finally{Ml=!1,(gr!==null||xr!==null)&&(yc(),gc())}}function ns(e,n){var s=e.stateNode;if(s===null)return null;var i=Na(s);if(i===null)return null;s=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var zl=!1;if(h)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){zl=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{zl=!1}function Qf(e,n,s,i,c,u,g,k,A){var M=Array.prototype.slice.call(arguments,3);try{n.apply(s,M)}catch(Y){this.onError(Y)}}var ss=!1,ta=null,na=!1,Ul=null,Gf={onError:function(e){ss=!0,ta=e}};function Jf(e,n,s,i,c,u,g,k,A){ss=!1,ta=null,Qf.apply(Gf,arguments)}function Yf(e,n,s,i,c,u,g,k,A){if(Jf.apply(this,arguments),ss){if(ss){var M=ta;ss=!1,ta=null}else throw Error(l(198));na||(na=!0,Ul=M)}}function qn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function bc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function jc(e){if(qn(e)!==e)throw Error(l(188))}function Xf(e){var n=e.alternate;if(!n){if(n=qn(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,i=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(i=c.return,i!==null){s=i;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return jc(c),e;if(u===i)return jc(c),n;u=u.sibling}throw Error(l(188))}if(s.return!==i.return)s=c,i=u;else{for(var g=!1,k=c.child;k;){if(k===s){g=!0,s=c,i=u;break}if(k===i){g=!0,i=c,s=u;break}k=k.sibling}if(!g){for(k=u.child;k;){if(k===s){g=!0,s=u,i=c;break}if(k===i){g=!0,i=u,s=c;break}k=k.sibling}if(!g)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function wc(e){return e=Xf(e),e!==null?Nc(e):null}function Nc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Nc(e);if(n!==null)return n;e=e.sibling}return null}var Sc=a.unstable_scheduleCallback,kc=a.unstable_cancelCallback,Zf=a.unstable_shouldYield,eh=a.unstable_requestPaint,Ke=a.unstable_now,th=a.unstable_getCurrentPriorityLevel,$l=a.unstable_ImmediatePriority,Cc=a.unstable_UserBlockingPriority,ra=a.unstable_NormalPriority,nh=a.unstable_LowPriority,Ec=a.unstable_IdlePriority,sa=null,Wt=null;function rh(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:lh,sh=Math.log,ah=Math.LN2;function lh(e){return e>>>=0,e===0?32:31-(sh(e)/ah|0)|0}var aa=64,la=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ia(e,n){var s=e.pendingLanes;if(s===0)return 0;var i=0,c=e.suspendedLanes,u=e.pingedLanes,g=s&268435455;if(g!==0){var k=g&~c;k!==0?i=as(k):(u&=g,u!==0&&(i=as(u)))}else g=s&~c,g!==0?i=as(g):u!==0&&(i=as(u));if(i===0)return 0;if(n!==0&&n!==i&&(n&c)===0&&(c=i&-i,u=n&-n,c>=u||c===16&&(u&4194240)!==0))return n;if((i&4)!==0&&(i|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)s=31-Ot(n),c=1<<s,i|=e[s],n&=~c;return i}function ih(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(e,n){for(var s=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes;0<u;){var g=31-Ot(u),k=1<<g,A=c[g];A===-1?((k&s)===0||(k&i)!==0)&&(c[g]=ih(k,n)):A<=n&&(e.expiredLanes|=k),u&=~k}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pc(){var e=aa;return aa<<=1,(aa&4194240)===0&&(aa=64),e}function Hl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ls(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ot(n),e[n]=s}function ch(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Ot(s),u=1<<c;n[c]=0,i[c]=-1,e[c]=-1,s&=~u}}function Wl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var i=31-Ot(s),c=1<<i;c&n|e[i]&n&&(e[i]|=n),s&=~c}}var _e=0;function Tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ac,ql,Rc,_c,Oc,Kl=!1,oa=[],fn=null,hn=null,pn=null,is=new Map,os=new Map,gn=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dc(e,n){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":is.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(n.pointerId)}}function cs(e,n,s,i,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:s,eventSystemFlags:i,nativeEvent:u,targetContainers:[c]},n!==null&&(n=Ns(n),n!==null&&ql(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function uh(e,n,s,i,c){switch(n){case"focusin":return fn=cs(fn,e,n,s,i,c),!0;case"dragenter":return hn=cs(hn,e,n,s,i,c),!0;case"mouseover":return pn=cs(pn,e,n,s,i,c),!0;case"pointerover":var u=c.pointerId;return is.set(u,cs(is.get(u)||null,e,n,s,i,c)),!0;case"gotpointercapture":return u=c.pointerId,os.set(u,cs(os.get(u)||null,e,n,s,i,c)),!0}return!1}function Ic(e){var n=Kn(e.target);if(n!==null){var s=qn(n);if(s!==null){if(n=s.tag,n===13){if(n=bc(s),n!==null){e.blockedOn=n,Oc(e.priority,function(){Rc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ql(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);Il=i,s.target.dispatchEvent(i),Il=null}else return n=Ns(s),n!==null&&ql(n),e.blockedOn=s,!1;n.shift()}return!0}function Lc(e,n,s){ca(e)&&s.delete(n)}function mh(){Kl=!1,fn!==null&&ca(fn)&&(fn=null),hn!==null&&ca(hn)&&(hn=null),pn!==null&&ca(pn)&&(pn=null),is.forEach(Lc),os.forEach(Lc)}function ds(e,n){e.blockedOn===n&&(e.blockedOn=null,Kl||(Kl=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mh)))}function us(e){function n(c){return ds(c,e)}if(0<oa.length){ds(oa[0],e);for(var s=1;s<oa.length;s++){var i=oa[s];i.blockedOn===e&&(i.blockedOn=null)}}for(fn!==null&&ds(fn,e),hn!==null&&ds(hn,e),pn!==null&&ds(pn,e),is.forEach(n),os.forEach(n),s=0;s<gn.length;s++)i=gn[s],i.blockedOn===e&&(i.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)Ic(s),s.blockedOn===null&&gn.shift()}var yr=R.ReactCurrentBatchConfig,da=!0;function fh(e,n,s,i){var c=_e,u=yr.transition;yr.transition=null;try{_e=1,Vl(e,n,s,i)}finally{_e=c,yr.transition=u}}function hh(e,n,s,i){var c=_e,u=yr.transition;yr.transition=null;try{_e=4,Vl(e,n,s,i)}finally{_e=c,yr.transition=u}}function Vl(e,n,s,i){if(da){var c=Ql(e,n,s,i);if(c===null)ui(e,n,i,ua,s),Dc(e,i);else if(uh(c,e,n,s,i))i.stopPropagation();else if(Dc(e,i),n&4&&-1<dh.indexOf(e)){for(;c!==null;){var u=Ns(c);if(u!==null&&Ac(u),u=Ql(e,n,s,i),u===null&&ui(e,n,i,ua,s),u===c)break;c=u}c!==null&&i.stopPropagation()}else ui(e,n,i,null,s)}}var ua=null;function Ql(e,n,s,i){if(ua=null,e=Ll(i),e=Kn(e),e!==null)if(n=qn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=bc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ua=e,null}function Fc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(th()){case $l:return 1;case Cc:return 4;case ra:case nh:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var xn=null,Gl=null,ma=null;function Mc(){if(ma)return ma;var e,n=Gl,s=n.length,i,c="value"in xn?xn.value:xn.textContent,u=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(i=1;i<=g&&n[s-i]===c[u-i];i++);return ma=c.slice(e,1<i?1-i:void 0)}function fa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function zc(){return!1}function wt(e){function n(s,i,c,u,g){this._reactName=s,this._targetInst=c,this.type=i,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(s=e[k],this[k]=s?s(u):u[k]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ha:zc,this.isPropagationStopped=zc,this}return P(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),n}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=wt(vr),ms=P({},vr,{view:0,detail:0}),ph=wt(ms),Yl,Xl,fs,pa=P({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(Yl=e.screenX-fs.screenX,Xl=e.screenY-fs.screenY):Xl=Yl=0,fs=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),Uc=wt(pa),gh=P({},pa,{dataTransfer:0}),xh=wt(gh),yh=P({},ms,{relatedTarget:0}),Zl=wt(yh),vh=P({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),bh=wt(vh),jh=P({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wh=wt(jh),Nh=P({},vr,{data:0}),$c=wt(Nh),Sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ch[e])?!!n[e]:!1}function ei(){return Eh}var Ph=P({},ms,{key:function(e){if(e.key){var n=Sh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ei,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Th=wt(Ph),Ah=P({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=wt(Ah),Rh=P({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ei}),_h=wt(Rh),Oh=P({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=wt(Oh),Ih=P({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lh=wt(Ih),Fh=[9,13,27,32],ti=h&&"CompositionEvent"in window,hs=null;h&&"documentMode"in document&&(hs=document.documentMode);var Mh=h&&"TextEvent"in window&&!hs,Hc=h&&(!ti||hs&&8<hs&&11>=hs),Wc=" ",qc=!1;function Kc(e,n){switch(e){case"keyup":return Fh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function zh(e,n){switch(e){case"compositionend":return Vc(n);case"keypress":return n.which!==32?null:(qc=!0,Wc);case"textInput":return e=n.data,e===Wc&&qc?null:e;default:return null}}function Uh(e,n){if(br)return e==="compositionend"||!ti&&Kc(e,n)?(e=Mc(),ma=Gl=xn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hc&&n.locale!=="ko"?null:n.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$h[e.type]:n==="textarea"}function Gc(e,n,s,i){pc(i),n=ba(n,"onChange"),0<n.length&&(s=new Jl("onChange","change",null,s,i),e.push({event:s,listeners:n}))}var ps=null,gs=null;function Bh(e){fd(e,0)}function ga(e){var n=kr(e);if(le(n))return e}function Hh(e,n){if(e==="change")return n}var Jc=!1;if(h){var ni;if(h){var ri="oninput"in document;if(!ri){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),ri=typeof Yc.oninput=="function"}ni=ri}else ni=!1;Jc=ni&&(!document.documentMode||9<document.documentMode)}function Xc(){ps&&(ps.detachEvent("onpropertychange",Zc),gs=ps=null)}function Zc(e){if(e.propertyName==="value"&&ga(gs)){var n=[];Gc(n,gs,e,Ll(e)),vc(Bh,n)}}function Wh(e,n,s){e==="focusin"?(Xc(),ps=n,gs=s,ps.attachEvent("onpropertychange",Zc)):e==="focusout"&&Xc()}function qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ga(gs)}function Kh(e,n){if(e==="click")return ga(n)}function Vh(e,n){if(e==="input"||e==="change")return ga(n)}function Qh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:Qh;function xs(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),i=Object.keys(n);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var c=s[i];if(!p.call(n,c)||!Dt(e[c],n[c]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,n){var s=ed(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=n&&i>=n)return{node:s,offset:n-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ed(s)}}function nd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?nd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rd(){for(var e=window,n=Ce();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ce(e.document)}return n}function si(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Gh(e){var n=rd(),s=e.focusedElem,i=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&nd(s.ownerDocument.documentElement,s)){if(i!==null&&si(s)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,u=Math.min(i.start,c);i=i.end===void 0?u:Math.min(i.end,c),!e.extend&&u>i&&(c=i,i=u,u=c),c=td(s,u);var g=td(s,i);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),u>i?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jh=h&&"documentMode"in document&&11>=document.documentMode,jr=null,ai=null,ys=null,li=!1;function sd(e,n,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;li||jr==null||jr!==Ce(i)||(i=jr,"selectionStart"in i&&si(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ys&&xs(ys,i)||(ys=i,i=ba(ai,"onSelect"),0<i.length&&(n=new Jl("onSelect","select",null,n,s),e.push({event:n,listeners:i}),n.target=jr)))}function xa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var wr={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},ii={},ad={};h&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ya(e){if(ii[e])return ii[e];if(!wr[e])return e;var n=wr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ad)return ii[e]=n[s];return e}var ld=ya("animationend"),id=ya("animationiteration"),od=ya("animationstart"),cd=ya("transitionend"),dd=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){dd.set(e,n),f(n,[e])}for(var oi=0;oi<ud.length;oi++){var ci=ud[oi],Yh=ci.toLowerCase(),Xh=ci[0].toUpperCase()+ci.slice(1);yn(Yh,"on"+Xh)}yn(ld,"onAnimationEnd"),yn(id,"onAnimationIteration"),yn(od,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(cd,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zh=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function md(e,n,s){var i=e.type||"unknown-event";e.currentTarget=s,Yf(i,n,void 0,e),e.currentTarget=null}function fd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],c=i.event;i=i.listeners;e:{var u=void 0;if(n)for(var g=i.length-1;0<=g;g--){var k=i[g],A=k.instance,M=k.currentTarget;if(k=k.listener,A!==u&&c.isPropagationStopped())break e;md(c,k,M),u=A}else for(g=0;g<i.length;g++){if(k=i[g],A=k.instance,M=k.currentTarget,k=k.listener,A!==u&&c.isPropagationStopped())break e;md(c,k,M),u=A}}}if(na)throw e=Ul,na=!1,Ul=null,e}function De(e,n){var s=n[xi];s===void 0&&(s=n[xi]=new Set);var i=e+"__bubble";s.has(i)||(hd(n,e,2,!1),s.add(i))}function di(e,n,s){var i=0;n&&(i|=4),hd(s,e,i,n)}var va="_reactListening"+Math.random().toString(36).slice(2);function bs(e){if(!e[va]){e[va]=!0,o.forEach(function(s){s!=="selectionchange"&&(Zh.has(s)||di(s,!1,e),di(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[va]||(n[va]=!0,di("selectionchange",!1,n))}}function hd(e,n,s,i){switch(Fc(n)){case 1:var c=fh;break;case 4:c=hh;break;default:c=Vl}s=c.bind(null,n,s,e),c=void 0,!zl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ui(e,n,s,i,c){var u=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var k=i.stateNode.containerInfo;if(k===c||k.nodeType===8&&k.parentNode===c)break;if(g===4)for(g=i.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===c||A.nodeType===8&&A.parentNode===c))return;g=g.return}for(;k!==null;){if(g=Kn(k),g===null)return;if(A=g.tag,A===5||A===6){i=u=g;continue e}k=k.parentNode}}i=i.return}vc(function(){var M=u,Y=Ll(s),Z=[];e:{var G=dd.get(e);if(G!==void 0){var ce=Jl,ue=e;switch(e){case"keypress":if(fa(s)===0)break e;case"keydown":case"keyup":ce=Th;break;case"focusin":ue="focus",ce=Zl;break;case"focusout":ue="blur",ce=Zl;break;case"beforeblur":case"afterblur":ce=Zl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=_h;break;case ld:case id:case od:ce=bh;break;case cd:ce=Dh;break;case"scroll":ce=ph;break;case"wheel":ce=Lh;break;case"copy":case"cut":case"paste":ce=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Bc}var fe=(n&4)!==0,Ve=!fe&&e==="scroll",L=fe?G!==null?G+"Capture":null:G;fe=[];for(var O=M,F;O!==null;){F=O;var ne=F.stateNode;if(F.tag===5&&ne!==null&&(F=ne,L!==null&&(ne=ns(O,L),ne!=null&&fe.push(js(O,ne,F)))),Ve)break;O=O.return}0<fe.length&&(G=new ce(G,ue,null,s,Y),Z.push({event:G,listeners:fe}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",G&&s!==Il&&(ue=s.relatedTarget||s.fromElement)&&(Kn(ue)||ue[en]))break e;if((ce||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ce?(ue=s.relatedTarget||s.toElement,ce=M,ue=ue?Kn(ue):null,ue!==null&&(Ve=qn(ue),ue!==Ve||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ce=null,ue=M),ce!==ue)){if(fe=Uc,ne="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Bc,ne="onPointerLeave",L="onPointerEnter",O="pointer"),Ve=ce==null?G:kr(ce),F=ue==null?G:kr(ue),G=new fe(ne,O+"leave",ce,s,Y),G.target=Ve,G.relatedTarget=F,ne=null,Kn(Y)===M&&(fe=new fe(L,O+"enter",ue,s,Y),fe.target=F,fe.relatedTarget=Ve,ne=fe),Ve=ne,ce&&ue)t:{for(fe=ce,L=ue,O=0,F=fe;F;F=Nr(F))O++;for(F=0,ne=L;ne;ne=Nr(ne))F++;for(;0<O-F;)fe=Nr(fe),O--;for(;0<F-O;)L=Nr(L),F--;for(;O--;){if(fe===L||L!==null&&fe===L.alternate)break t;fe=Nr(fe),L=Nr(L)}fe=null}else fe=null;ce!==null&&pd(Z,G,ce,fe,!1),ue!==null&&Ve!==null&&pd(Z,Ve,ue,fe,!0)}}e:{if(G=M?kr(M):window,ce=G.nodeName&&G.nodeName.toLowerCase(),ce==="select"||ce==="input"&&G.type==="file")var pe=Hh;else if(Qc(G))if(Jc)pe=Vh;else{pe=qh;var xe=Wh}else(ce=G.nodeName)&&ce.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(pe=Kh);if(pe&&(pe=pe(e,M))){Gc(Z,pe,s,Y);break e}xe&&xe(e,G,M),e==="focusout"&&(xe=G._wrapperState)&&xe.controlled&&G.type==="number"&&Al(G,"number",G.value)}switch(xe=M?kr(M):window,e){case"focusin":(Qc(xe)||xe.contentEditable==="true")&&(jr=xe,ai=M,ys=null);break;case"focusout":ys=ai=jr=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":li=!1,sd(Z,s,Y);break;case"selectionchange":if(Jh)break;case"keydown":case"keyup":sd(Z,s,Y)}var ye;if(ti)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else br?Kc(e,s)&&(Ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(Hc&&s.locale!=="ko"&&(br||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&br&&(ye=Mc()):(xn=Y,Gl="value"in xn?xn.value:xn.textContent,br=!0)),xe=ba(M,Ne),0<xe.length&&(Ne=new $c(Ne,e,null,s,Y),Z.push({event:Ne,listeners:xe}),ye?Ne.data=ye:(ye=Vc(s),ye!==null&&(Ne.data=ye)))),(ye=Mh?zh(e,s):Uh(e,s))&&(M=ba(M,"onBeforeInput"),0<M.length&&(Y=new $c("onBeforeInput","beforeinput",null,s,Y),Z.push({event:Y,listeners:M}),Y.data=ye))}fd(Z,n)})}function js(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ba(e,n){for(var s=n+"Capture",i=[];e!==null;){var c=e,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=ns(e,s),u!=null&&i.unshift(js(e,u,c)),u=ns(e,n),u!=null&&i.push(js(e,u,c))),e=e.return}return i}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pd(e,n,s,i,c){for(var u=n._reactName,g=[];s!==null&&s!==i;){var k=s,A=k.alternate,M=k.stateNode;if(A!==null&&A===i)break;k.tag===5&&M!==null&&(k=M,c?(A=ns(s,u),A!=null&&g.unshift(js(s,A,k))):c||(A=ns(s,u),A!=null&&g.push(js(s,A,k)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var ep=/\r\n?/g,tp=/\u0000|\uFFFD/g;function gd(e){return(typeof e=="string"?e:""+e).replace(ep,`
`).replace(tp,"")}function ja(e,n,s){if(n=gd(n),gd(e)!==n&&s)throw Error(l(425))}function wa(){}var mi=null,fi=null;function hi(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pi=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(sp)}:pi;function sp(e){setTimeout(function(){throw e})}function gi(e,n){var s=n,i=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(i===0){e.removeChild(c),us(n);return}i--}else s!=="$"&&s!=="$?"&&s!=="$!"||i++;s=c}while(s);us(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function yd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),qt="__reactFiber$"+Sr,ws="__reactProps$"+Sr,en="__reactContainer$"+Sr,xi="__reactEvents$"+Sr,ap="__reactListeners$"+Sr,lp="__reactHandles$"+Sr;function Kn(e){var n=e[qt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[en]||s[qt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=yd(e);e!==null;){if(s=e[qt])return s;e=yd(e)}return n}e=s,s=e.parentNode}return null}function Ns(e){return e=e[qt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function Na(e){return e[ws]||null}var yi=[],Cr=-1;function bn(e){return{current:e}}function Ie(e){0>Cr||(e.current=yi[Cr],yi[Cr]=null,Cr--)}function Oe(e,n){Cr++,yi[Cr]=e.current,e.current=n}var jn={},st=bn(jn),ht=bn(!1),Vn=jn;function Er(e,n){var s=e.type.contextTypes;if(!s)return jn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in s)c[u]=n[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function pt(e){return e=e.childContextTypes,e!=null}function Sa(){Ie(ht),Ie(st)}function vd(e,n,s){if(st.current!==jn)throw Error(l(168));Oe(st,n),Oe(ht,s)}function bd(e,n,s){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return s;i=i.getChildContext();for(var c in i)if(!(c in n))throw Error(l(108,ge(e)||"Unknown",c));return P({},s,i)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Vn=st.current,Oe(st,e),Oe(ht,ht.current),!0}function jd(e,n,s){var i=e.stateNode;if(!i)throw Error(l(169));s?(e=bd(e,n,Vn),i.__reactInternalMemoizedMergedChildContext=e,Ie(ht),Ie(st),Oe(st,e)):Ie(ht),Oe(ht,s)}var tn=null,Ca=!1,vi=!1;function wd(e){tn===null?tn=[e]:tn.push(e)}function ip(e){Ca=!0,wd(e)}function wn(){if(!vi&&tn!==null){vi=!0;var e=0,n=_e;try{var s=tn;for(_e=1;e<s.length;e++){var i=s[e];do i=i(!0);while(i!==null)}tn=null,Ca=!1}catch(c){throw tn!==null&&(tn=tn.slice(e+1)),Sc($l,wn),c}finally{_e=n,vi=!1}}return null}var Pr=[],Tr=0,Ea=null,Pa=0,Ct=[],Et=0,Qn=null,nn=1,rn="";function Gn(e,n){Pr[Tr++]=Pa,Pr[Tr++]=Ea,Ea=e,Pa=n}function Nd(e,n,s){Ct[Et++]=nn,Ct[Et++]=rn,Ct[Et++]=Qn,Qn=e;var i=nn;e=rn;var c=32-Ot(i)-1;i&=~(1<<c),s+=1;var u=32-Ot(n)+c;if(30<u){var g=c-c%5;u=(i&(1<<g)-1).toString(32),i>>=g,c-=g,nn=1<<32-Ot(n)+c|s<<c|i,rn=u+e}else nn=1<<u|s<<c|i,rn=e}function bi(e){e.return!==null&&(Gn(e,1),Nd(e,1,0))}function ji(e){for(;e===Ea;)Ea=Pr[--Tr],Pr[Tr]=null,Pa=Pr[--Tr],Pr[Tr]=null;for(;e===Qn;)Qn=Ct[--Et],Ct[Et]=null,rn=Ct[--Et],Ct[Et]=null,nn=Ct[--Et],Ct[Et]=null}var Nt=null,St=null,Fe=!1,It=null;function Sd(e,n){var s=Rt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function kd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Nt=e,St=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Nt=e,St=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Qn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Rt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Nt=e,St=null,!0):!1;default:return!1}}function wi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ni(e){if(Fe){var n=St;if(n){var s=n;if(!kd(e,n)){if(wi(e))throw Error(l(418));n=vn(s.nextSibling);var i=Nt;n&&kd(e,n)?Sd(i,s):(e.flags=e.flags&-4097|2,Fe=!1,Nt=e)}}else{if(wi(e))throw Error(l(418));e.flags=e.flags&-4097|2,Fe=!1,Nt=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ta(e){if(e!==Nt)return!1;if(!Fe)return Cd(e),Fe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!hi(e.type,e.memoizedProps)),n&&(n=St)){if(wi(e))throw Ed(),Error(l(418));for(;n;)Sd(e,n),n=vn(n.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){St=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}St=null}}else St=Nt?vn(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=St;e;)e=vn(e.nextSibling)}function Ar(){St=Nt=null,Fe=!1}function Si(e){It===null?It=[e]:It.push(e)}var op=R.ReactCurrentBatchConfig;function Ss(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(l(309));var i=s.stateNode}if(!i)throw Error(l(147,e));var c=i,u=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(g){var k=c.refs;g===null?delete k[u]:k[u]=g},n._stringRef=u,n)}if(typeof e!="string")throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function Aa(e,n){throw e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Pd(e){var n=e._init;return n(e._payload)}function Td(e){function n(L,O){if(e){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function i(L,O){for(L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function c(L,O){return L=An(L,O),L.index=0,L.sibling=null,L}function u(L,O,F){return L.index=F,e?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=2,O):F):(L.flags|=2,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=2),L}function k(L,O,F,ne){return O===null||O.tag!==6?(O=go(F,L.mode,ne),O.return=L,O):(O=c(O,F),O.return=L,O)}function A(L,O,F,ne){var pe=F.type;return pe===H?Y(L,O,F.props.children,ne,F.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===te&&Pd(pe)===O.type)?(ne=c(O,F.props),ne.ref=Ss(L,O,F),ne.return=L,ne):(ne=el(F.type,F.key,F.props,null,L.mode,ne),ne.ref=Ss(L,O,F),ne.return=L,ne)}function M(L,O,F,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=xo(F,L.mode,ne),O.return=L,O):(O=c(O,F.children||[]),O.return=L,O)}function Y(L,O,F,ne,pe){return O===null||O.tag!==7?(O=rr(F,L.mode,ne,pe),O.return=L,O):(O=c(O,F),O.return=L,O)}function Z(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return O=go(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return F=el(O.type,O.key,O.props,null,L.mode,F),F.ref=Ss(L,null,O),F.return=L,F;case W:return O=xo(O,L.mode,F),O.return=L,O;case te:var ne=O._init;return Z(L,ne(O._payload),F)}if(Zr(O)||oe(O))return O=rr(O,L.mode,F,null),O.return=L,O;Aa(L,O)}return null}function G(L,O,F,ne){var pe=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:k(L,O,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===pe?A(L,O,F,ne):null;case W:return F.key===pe?M(L,O,F,ne):null;case te:return pe=F._init,G(L,O,pe(F._payload),ne)}if(Zr(F)||oe(F))return pe!==null?null:Y(L,O,F,ne,null);Aa(L,F)}return null}function ce(L,O,F,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get(F)||null,k(O,L,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return L=L.get(ne.key===null?F:ne.key)||null,A(O,L,ne,pe);case W:return L=L.get(ne.key===null?F:ne.key)||null,M(O,L,ne,pe);case te:var xe=ne._init;return ce(L,O,F,xe(ne._payload),pe)}if(Zr(ne)||oe(ne))return L=L.get(F)||null,Y(O,L,ne,pe,null);Aa(O,ne)}return null}function ue(L,O,F,ne){for(var pe=null,xe=null,ye=O,Ne=O=0,et=null;ye!==null&&Ne<F.length;Ne++){ye.index>Ne?(et=ye,ye=null):et=ye.sibling;var Re=G(L,ye,F[Ne],ne);if(Re===null){ye===null&&(ye=et);break}e&&ye&&Re.alternate===null&&n(L,ye),O=u(Re,O,Ne),xe===null?pe=Re:xe.sibling=Re,xe=Re,ye=et}if(Ne===F.length)return s(L,ye),Fe&&Gn(L,Ne),pe;if(ye===null){for(;Ne<F.length;Ne++)ye=Z(L,F[Ne],ne),ye!==null&&(O=u(ye,O,Ne),xe===null?pe=ye:xe.sibling=ye,xe=ye);return Fe&&Gn(L,Ne),pe}for(ye=i(L,ye);Ne<F.length;Ne++)et=ce(ye,L,Ne,F[Ne],ne),et!==null&&(e&&et.alternate!==null&&ye.delete(et.key===null?Ne:et.key),O=u(et,O,Ne),xe===null?pe=et:xe.sibling=et,xe=et);return e&&ye.forEach(function(Rn){return n(L,Rn)}),Fe&&Gn(L,Ne),pe}function fe(L,O,F,ne){var pe=oe(F);if(typeof pe!="function")throw Error(l(150));if(F=pe.call(F),F==null)throw Error(l(151));for(var xe=pe=null,ye=O,Ne=O=0,et=null,Re=F.next();ye!==null&&!Re.done;Ne++,Re=F.next()){ye.index>Ne?(et=ye,ye=null):et=ye.sibling;var Rn=G(L,ye,Re.value,ne);if(Rn===null){ye===null&&(ye=et);break}e&&ye&&Rn.alternate===null&&n(L,ye),O=u(Rn,O,Ne),xe===null?pe=Rn:xe.sibling=Rn,xe=Rn,ye=et}if(Re.done)return s(L,ye),Fe&&Gn(L,Ne),pe;if(ye===null){for(;!Re.done;Ne++,Re=F.next())Re=Z(L,Re.value,ne),Re!==null&&(O=u(Re,O,Ne),xe===null?pe=Re:xe.sibling=Re,xe=Re);return Fe&&Gn(L,Ne),pe}for(ye=i(L,ye);!Re.done;Ne++,Re=F.next())Re=ce(ye,L,Ne,Re.value,ne),Re!==null&&(e&&Re.alternate!==null&&ye.delete(Re.key===null?Ne:Re.key),O=u(Re,O,Ne),xe===null?pe=Re:xe.sibling=Re,xe=Re);return e&&ye.forEach(function($p){return n(L,$p)}),Fe&&Gn(L,Ne),pe}function Ve(L,O,F,ne){if(typeof F=="object"&&F!==null&&F.type===H&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var pe=F.key,xe=O;xe!==null;){if(xe.key===pe){if(pe=F.type,pe===H){if(xe.tag===7){s(L,xe.sibling),O=c(xe,F.props.children),O.return=L,L=O;break e}}else if(xe.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===te&&Pd(pe)===xe.type){s(L,xe.sibling),O=c(xe,F.props),O.ref=Ss(L,xe,F),O.return=L,L=O;break e}s(L,xe);break}else n(L,xe);xe=xe.sibling}F.type===H?(O=rr(F.props.children,L.mode,ne,F.key),O.return=L,L=O):(ne=el(F.type,F.key,F.props,null,L.mode,ne),ne.ref=Ss(L,O,F),ne.return=L,L=ne)}return g(L);case W:e:{for(xe=F.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){s(L,O.sibling),O=c(O,F.children||[]),O.return=L,L=O;break e}else{s(L,O);break}else n(L,O);O=O.sibling}O=xo(F,L.mode,ne),O.return=L,L=O}return g(L);case te:return xe=F._init,Ve(L,O,xe(F._payload),ne)}if(Zr(F))return ue(L,O,F,ne);if(oe(F))return fe(L,O,F,ne);Aa(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,O!==null&&O.tag===6?(s(L,O.sibling),O=c(O,F),O.return=L,L=O):(s(L,O),O=go(F,L.mode,ne),O.return=L,L=O),g(L)):s(L,O)}return Ve}var Rr=Td(!0),Ad=Td(!1),Ra=bn(null),_a=null,_r=null,ki=null;function Ci(){ki=_r=_a=null}function Ei(e){var n=Ra.current;Ie(Ra),e._currentValue=n}function Pi(e,n,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===s)break;e=e.return}}function Or(e,n){_a=e,ki=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(gt=!0),e.firstContext=null)}function Pt(e){var n=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:n,next:null},_r===null){if(_a===null)throw Error(l(308));_r=e,_a.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return n}var Jn=null;function Ti(e){Jn===null?Jn=[e]:Jn.push(e)}function Rd(e,n,s,i){var c=n.interleaved;return c===null?(s.next=s,Ti(n)):(s.next=c.next,c.next=s),n.interleaved=s,sn(e,i)}function sn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Nn=!1;function Ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sn(e,n,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ae&2)!==0){var c=i.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),i.pending=n,sn(e,s)}return c=i.interleaved,c===null?(n.next=n,Ti(i)):(n.next=c.next,c.next=n),i.interleaved=n,sn(e,s)}function Oa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,Wl(e,s)}}function Od(e,n){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};u===null?c=u=g:u=u.next=g,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Da(e,n,s,i){var c=e.updateQueue;Nn=!1;var u=c.firstBaseUpdate,g=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var A=k,M=A.next;A.next=null,g===null?u=M:g.next=M,g=A;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==g&&(k===null?Y.firstBaseUpdate=M:k.next=M,Y.lastBaseUpdate=A))}if(u!==null){var Z=c.baseState;g=0,Y=M=A=null,k=u;do{var G=k.lane,ce=k.eventTime;if((i&G)===G){Y!==null&&(Y=Y.next={eventTime:ce,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ue=e,fe=k;switch(G=n,ce=s,fe.tag){case 1:if(ue=fe.payload,typeof ue=="function"){Z=ue.call(ce,Z,G);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=fe.payload,G=typeof ue=="function"?ue.call(ce,Z,G):ue,G==null)break e;Z=P({},Z,G);break e;case 2:Nn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,G=c.effects,G===null?c.effects=[k]:G.push(k))}else ce={eventTime:ce,lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(M=Y=ce,A=Z):Y=Y.next=ce,g|=G;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;G=k,k=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);if(Y===null&&(A=Z),c.baseState=A,c.firstBaseUpdate=M,c.lastBaseUpdate=Y,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else u===null&&(c.shared.lanes=0);Zn|=g,e.lanes=g,e.memoizedState=Z}}function Dd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],c=i.callback;if(c!==null){if(i.callback=null,i=s,typeof c!="function")throw Error(l(191,c));c.call(i)}}}var ks={},Kt=bn(ks),Cs=bn(ks),Es=bn(ks);function Yn(e){if(e===ks)throw Error(l(174));return e}function Ri(e,n){switch(Oe(Es,n),Oe(Cs,e),Oe(Kt,ks),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:_l(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=_l(n,e)}Ie(Kt),Oe(Kt,n)}function Dr(){Ie(Kt),Ie(Cs),Ie(Es)}function Id(e){Yn(Es.current);var n=Yn(Kt.current),s=_l(n,e.type);n!==s&&(Oe(Cs,e),Oe(Kt,s))}function _i(e){Cs.current===e&&(Ie(Kt),Ie(Cs))}var Me=bn(0);function Ia(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=[];function Di(){for(var e=0;e<Oi.length;e++)Oi[e]._workInProgressVersionPrimary=null;Oi.length=0}var La=R.ReactCurrentDispatcher,Ii=R.ReactCurrentBatchConfig,Xn=0,ze=null,Je=null,Xe=null,Fa=!1,Ps=!1,Ts=0,cp=0;function at(){throw Error(l(321))}function Li(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function Fi(e,n,s,i,c,u){if(Xn=u,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,La.current=e===null||e.memoizedState===null?fp:hp,e=s(i,c),Ps){u=0;do{if(Ps=!1,Ts=0,25<=u)throw Error(l(301));u+=1,Xe=Je=null,n.updateQueue=null,La.current=pp,e=s(i,c)}while(Ps)}if(La.current=Ua,n=Je!==null&&Je.next!==null,Xn=0,Xe=Je=ze=null,Fa=!1,n)throw Error(l(300));return e}function Mi(){var e=Ts!==0;return Ts=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ze.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Tt(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=Xe===null?ze.memoizedState:Xe.next;if(n!==null)Xe=n,Je=e;else{if(e===null)throw Error(l(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Xe===null?ze.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function As(e,n){return typeof n=="function"?n(e):n}function zi(e){var n=Tt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=Je,c=i.baseQueue,u=s.pending;if(u!==null){if(c!==null){var g=c.next;c.next=u.next,u.next=g}i.baseQueue=c=u,s.pending=null}if(c!==null){u=c.next,i=i.baseState;var k=g=null,A=null,M=u;do{var Y=M.lane;if((Xn&Y)===Y)A!==null&&(A=A.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),i=M.hasEagerState?M.eagerState:e(i,M.action);else{var Z={lane:Y,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};A===null?(k=A=Z,g=i):A=A.next=Z,ze.lanes|=Y,Zn|=Y}M=M.next}while(M!==null&&M!==u);A===null?g=i:A.next=k,Dt(i,n.memoizedState)||(gt=!0),n.memoizedState=i,n.baseState=g,n.baseQueue=A,s.lastRenderedState=i}if(e=s.interleaved,e!==null){c=e;do u=c.lane,ze.lanes|=u,Zn|=u,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ui(e){var n=Tt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do u=e(u,g.action),g=g.next;while(g!==c);Dt(u,n.memoizedState)||(gt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,i]}function Ld(){}function Fd(e,n){var s=ze,i=Tt(),c=n(),u=!Dt(i.memoizedState,c);if(u&&(i.memoizedState=c,gt=!0),i=i.queue,$i(Ud.bind(null,s,i,e),[e]),i.getSnapshot!==n||u||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Rs(9,zd.bind(null,s,i,c,n),void 0,null),Ze===null)throw Error(l(349));(Xn&30)!==0||Md(s,n,c)}return c}function Md(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zd(e,n,s,i){n.value=s,n.getSnapshot=i,$d(n)&&Bd(e)}function Ud(e,n,s){return s(function(){$d(n)&&Bd(e)})}function $d(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function Bd(e){var n=sn(e,1);n!==null&&zt(n,e,1,-1)}function Hd(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},n.queue=e,e=e.dispatch=mp.bind(null,ze,e),[n.memoizedState,e]}function Rs(e,n,s,i){return e={tag:e,create:n,destroy:s,deps:i,next:null},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,n.lastEffect=e)),e}function Wd(){return Tt().memoizedState}function Ma(e,n,s,i){var c=Vt();ze.flags|=e,c.memoizedState=Rs(1|n,s,void 0,i===void 0?null:i)}function za(e,n,s,i){var c=Tt();i=i===void 0?null:i;var u=void 0;if(Je!==null){var g=Je.memoizedState;if(u=g.destroy,i!==null&&Li(i,g.deps)){c.memoizedState=Rs(n,s,u,i);return}}ze.flags|=e,c.memoizedState=Rs(1|n,s,u,i)}function qd(e,n){return Ma(8390656,8,e,n)}function $i(e,n){return za(2048,8,e,n)}function Kd(e,n){return za(4,2,e,n)}function Vd(e,n){return za(4,4,e,n)}function Qd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gd(e,n,s){return s=s!=null?s.concat([e]):null,za(4,4,Qd.bind(null,n,e),s)}function Bi(){}function Jd(e,n){var s=Tt();n=n===void 0?null:n;var i=s.memoizedState;return i!==null&&n!==null&&Li(n,i[1])?i[0]:(s.memoizedState=[e,n],e)}function Yd(e,n){var s=Tt();n=n===void 0?null:n;var i=s.memoizedState;return i!==null&&n!==null&&Li(n,i[1])?i[0]:(e=e(),s.memoizedState=[e,n],e)}function Xd(e,n,s){return(Xn&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=s):(Dt(s,n)||(s=Pc(),ze.lanes|=s,Zn|=s,e.baseState=!0),n)}function dp(e,n){var s=_e;_e=s!==0&&4>s?s:4,e(!0);var i=Ii.transition;Ii.transition={};try{e(!1),n()}finally{_e=s,Ii.transition=i}}function Zd(){return Tt().memoizedState}function up(e,n,s){var i=Pn(e);if(s={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null},eu(e))tu(n,s);else if(s=Rd(e,n,s,i),s!==null){var c=mt();zt(s,e,i,c),nu(s,n,i)}}function mp(e,n,s){var i=Pn(e),c={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null};if(eu(e))tu(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var g=n.lastRenderedState,k=u(g,s);if(c.hasEagerState=!0,c.eagerState=k,Dt(k,g)){var A=n.interleaved;A===null?(c.next=c,Ti(n)):(c.next=A.next,A.next=c),n.interleaved=c;return}}catch{}finally{}s=Rd(e,n,c,i),s!==null&&(c=mt(),zt(s,e,i,c),nu(s,n,i))}}function eu(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function tu(e,n){Ps=Fa=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function nu(e,n,s){if((s&4194240)!==0){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,Wl(e,s)}}var Ua={readContext:Pt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},fp={readContext:Pt,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Pt,useEffect:qd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ma(4194308,4,Qd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ma(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ma(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var i=Vt();return n=s!==void 0?s(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=up.bind(null,ze,e),[i.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:Hd,useDebugValue:Bi,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Hd(!1),n=e[0];return e=dp.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var i=ze,c=Vt();if(Fe){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Ze===null)throw Error(l(349));(Xn&30)!==0||Md(i,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,qd(Ud.bind(null,i,u,e),[e]),i.flags|=2048,Rs(9,zd.bind(null,i,u,s,n),void 0,null),s},useId:function(){var e=Vt(),n=Ze.identifierPrefix;if(Fe){var s=rn,i=nn;s=(i&~(1<<32-Ot(i)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ts++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=cp++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},hp={readContext:Pt,useCallback:Jd,useContext:Pt,useEffect:$i,useImperativeHandle:Gd,useInsertionEffect:Kd,useLayoutEffect:Vd,useMemo:Yd,useReducer:zi,useRef:Wd,useState:function(){return zi(As)},useDebugValue:Bi,useDeferredValue:function(e){var n=Tt();return Xd(n,Je.memoizedState,e)},useTransition:function(){var e=zi(As)[0],n=Tt().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1},pp={readContext:Pt,useCallback:Jd,useContext:Pt,useEffect:$i,useImperativeHandle:Gd,useInsertionEffect:Kd,useLayoutEffect:Vd,useMemo:Yd,useReducer:Ui,useRef:Wd,useState:function(){return Ui(As)},useDebugValue:Bi,useDeferredValue:function(e){var n=Tt();return Je===null?n.memoizedState=e:Xd(n,Je.memoizedState,e)},useTransition:function(){var e=Ui(As)[0],n=Tt().memoizedState;return[e,n]},useMutableSource:Ld,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1};function Lt(e,n){if(e&&e.defaultProps){n=P({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Hi(e,n,s,i){n=e.memoizedState,s=s(i,n),s=s==null?n:P({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $a={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var i=mt(),c=Pn(e),u=an(i,c);u.payload=n,s!=null&&(u.callback=s),n=Sn(e,u,c),n!==null&&(zt(n,e,c,i),Oa(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var i=mt(),c=Pn(e),u=an(i,c);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Sn(e,u,c),n!==null&&(zt(n,e,c,i),Oa(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=mt(),i=Pn(e),c=an(s,i);c.tag=2,n!=null&&(c.callback=n),n=Sn(e,c,i),n!==null&&(zt(n,e,i,s),Oa(n,e,i))}};function ru(e,n,s,i,c,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,g):n.prototype&&n.prototype.isPureReactComponent?!xs(s,i)||!xs(c,u):!0}function su(e,n,s){var i=!1,c=jn,u=n.contextType;return typeof u=="object"&&u!==null?u=Pt(u):(c=pt(n)?Vn:st.current,i=n.contextTypes,u=(i=i!=null)?Er(e,c):jn),n=new n(s,u),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=$a,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=u),n}function au(e,n,s,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,i),n.state!==e&&$a.enqueueReplaceState(n,n.state,null)}function Wi(e,n,s,i){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ai(e);var u=n.contextType;typeof u=="object"&&u!==null?c.context=Pt(u):(u=pt(n)?Vn:st.current,c.context=Er(e,u)),c.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Hi(e,n,u,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&$a.enqueueReplaceState(c,c.state,null),Da(e,s,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,n){try{var s="",i=n;do s+=X(i),i=i.return;while(i);var c=s}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:n,stack:c,digest:null}}function qi(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ki(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var gp=typeof WeakMap=="function"?WeakMap:Map;function lu(e,n,s){s=an(-1,s),s.tag=3,s.payload={element:null};var i=n.value;return s.callback=function(){Qa||(Qa=!0,io=i),Ki(e,n)},s}function iu(e,n,s){s=an(-1,s),s.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=n.value;s.payload=function(){return i(c)},s.callback=function(){Ki(e,n)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(s.callback=function(){Ki(e,n),typeof i!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),s}function ou(e,n,s){var i=e.pingCache;if(i===null){i=e.pingCache=new gp;var c=new Set;i.set(n,c)}else c=i.get(n),c===void 0&&(c=new Set,i.set(n,c));c.has(s)||(c.add(s),e=Ap.bind(null,e,n,s),n.then(e,e))}function cu(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function du(e,n,s,i,c){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=an(-1,1),n.tag=2,Sn(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var xp=R.ReactCurrentOwner,gt=!1;function ut(e,n,s,i){n.child=e===null?Ad(n,null,s,i):Rr(n,e.child,s,i)}function uu(e,n,s,i,c){s=s.render;var u=n.ref;return Or(n,c),i=Fi(e,n,s,i,u,c),s=Mi(),e!==null&&!gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,ln(e,n,c)):(Fe&&s&&bi(n),n.flags|=1,ut(e,n,i,c),n.child)}function mu(e,n,s,i,c){if(e===null){var u=s.type;return typeof u=="function"&&!po(u)&&u.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=u,fu(e,n,u,i,c)):(e=el(s.type,null,i,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,(e.lanes&c)===0){var g=u.memoizedProps;if(s=s.compare,s=s!==null?s:xs,s(g,i)&&e.ref===n.ref)return ln(e,n,c)}return n.flags|=1,e=An(u,i),e.ref=n.ref,e.return=n,n.child=e}function fu(e,n,s,i,c){if(e!==null){var u=e.memoizedProps;if(xs(u,i)&&e.ref===n.ref)if(gt=!1,n.pendingProps=i=u,(e.lanes&c)!==0)(e.flags&131072)!==0&&(gt=!0);else return n.lanes=e.lanes,ln(e,n,c)}return Vi(e,n,s,i,c)}function hu(e,n,s){var i=n.pendingProps,c=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Fr,kt),kt|=s;else{if((s&1073741824)===0)return e=u!==null?u.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Oe(Fr,kt),kt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:s,Oe(Fr,kt),kt|=i}else u!==null?(i=u.baseLanes|s,n.memoizedState=null):i=s,Oe(Fr,kt),kt|=i;return ut(e,n,c,s),n.child}function pu(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Vi(e,n,s,i,c){var u=pt(s)?Vn:st.current;return u=Er(n,u),Or(n,c),s=Fi(e,n,s,i,u,c),i=Mi(),e!==null&&!gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,ln(e,n,c)):(Fe&&i&&bi(n),n.flags|=1,ut(e,n,s,c),n.child)}function gu(e,n,s,i,c){if(pt(s)){var u=!0;ka(n)}else u=!1;if(Or(n,c),n.stateNode===null)Ha(e,n),su(n,s,i),Wi(n,s,i,c),i=!0;else if(e===null){var g=n.stateNode,k=n.memoizedProps;g.props=k;var A=g.context,M=s.contextType;typeof M=="object"&&M!==null?M=Pt(M):(M=pt(s)?Vn:st.current,M=Er(n,M));var Y=s.getDerivedStateFromProps,Z=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function";Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==i||A!==M)&&au(n,g,i,M),Nn=!1;var G=n.memoizedState;g.state=G,Da(n,i,g,c),A=n.memoizedState,k!==i||G!==A||ht.current||Nn?(typeof Y=="function"&&(Hi(n,s,Y,i),A=n.memoizedState),(k=Nn||ru(n,s,k,i,G,A,M))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=A),g.props=i,g.state=A,g.context=M,i=k):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{g=n.stateNode,_d(e,n),k=n.memoizedProps,M=n.type===n.elementType?k:Lt(n.type,k),g.props=M,Z=n.pendingProps,G=g.context,A=s.contextType,typeof A=="object"&&A!==null?A=Pt(A):(A=pt(s)?Vn:st.current,A=Er(n,A));var ce=s.getDerivedStateFromProps;(Y=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==Z||G!==A)&&au(n,g,i,A),Nn=!1,G=n.memoizedState,g.state=G,Da(n,i,g,c);var ue=n.memoizedState;k!==Z||G!==ue||ht.current||Nn?(typeof ce=="function"&&(Hi(n,s,ce,i),ue=n.memoizedState),(M=Nn||ru(n,s,M,i,G,ue,A)||!1)?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,ue,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,ue,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=ue),g.props=i,g.state=ue,g.context=A,i=M):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),i=!1)}return Qi(e,n,s,i,u,c)}function Qi(e,n,s,i,c,u){pu(e,n);var g=(n.flags&128)!==0;if(!i&&!g)return c&&jd(n,s,!1),ln(e,n,u);i=n.stateNode,xp.current=n;var k=g&&typeof s.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&g?(n.child=Rr(n,e.child,null,u),n.child=Rr(n,null,k,u)):ut(e,n,k,u),n.memoizedState=i.state,c&&jd(n,s,!0),n.child}function xu(e){var n=e.stateNode;n.pendingContext?vd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&vd(e,n.context,!1),Ri(e,n.containerInfo)}function yu(e,n,s,i,c){return Ar(),Si(c),n.flags|=256,ut(e,n,s,i),n.child}var Gi={dehydrated:null,treeContext:null,retryLane:0};function Ji(e){return{baseLanes:e,cachePool:null,transitions:null}}function vu(e,n,s){var i=n.pendingProps,c=Me.current,u=!1,g=(n.flags&128)!==0,k;if((k=g)||(k=e!==null&&e.memoizedState===null?!1:(c&2)!==0),k?(u=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Oe(Me,c&1),e===null)return Ni(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=i.children,e=i.fallback,u?(i=n.mode,u=n.child,g={mode:"hidden",children:g},(i&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=g):u=tl(g,i,0,null),e=rr(e,i,s,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=Ji(s),n.memoizedState=Gi,e):Yi(n,g));if(c=e.memoizedState,c!==null&&(k=c.dehydrated,k!==null))return yp(e,n,g,i,k,c,s);if(u){u=i.fallback,g=n.mode,c=e.child,k=c.sibling;var A={mode:"hidden",children:i.children};return(g&1)===0&&n.child!==c?(i=n.child,i.childLanes=0,i.pendingProps=A,n.deletions=null):(i=An(c,A),i.subtreeFlags=c.subtreeFlags&14680064),k!==null?u=An(k,u):(u=rr(u,g,s,null),u.flags|=2),u.return=n,i.return=n,i.sibling=u,n.child=i,i=u,u=n.child,g=e.child.memoizedState,g=g===null?Ji(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},u.memoizedState=g,u.childLanes=e.childLanes&~s,n.memoizedState=Gi,i}return u=e.child,e=u.sibling,i=An(u,{mode:"visible",children:i.children}),(n.mode&1)===0&&(i.lanes=s),i.return=n,i.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=i,n.memoizedState=null,i}function Yi(e,n){return n=tl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ba(e,n,s,i){return i!==null&&Si(i),Rr(n,e.child,null,s),e=Yi(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yp(e,n,s,i,c,u,g){if(s)return n.flags&256?(n.flags&=-257,i=qi(Error(l(422))),Ba(e,n,g,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(u=i.fallback,c=n.mode,i=tl({mode:"visible",children:i.children},c,0,null),u=rr(u,c,g,null),u.flags|=2,i.return=n,u.return=n,i.sibling=u,n.child=i,(n.mode&1)!==0&&Rr(n,e.child,null,g),n.child.memoizedState=Ji(g),n.memoizedState=Gi,u);if((n.mode&1)===0)return Ba(e,n,g,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var k=i.dgst;return i=k,u=Error(l(419)),i=qi(u,i,void 0),Ba(e,n,g,i)}if(k=(g&e.childLanes)!==0,gt||k){if(i=Ze,i!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|g))!==0?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,sn(e,c),zt(i,e,c,-1))}return ho(),i=qi(Error(l(421))),Ba(e,n,g,i)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Rp.bind(null,e),c._reactRetry=n,null):(e=u.treeContext,St=vn(c.nextSibling),Nt=n,Fe=!0,It=null,e!==null&&(Ct[Et++]=nn,Ct[Et++]=rn,Ct[Et++]=Qn,nn=e.id,rn=e.overflow,Qn=n),n=Yi(n,i.children),n.flags|=4096,n)}function bu(e,n,s){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),Pi(e.return,n,s)}function Xi(e,n,s,i,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:c}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=s,u.tailMode=c)}function ju(e,n,s){var i=n.pendingProps,c=i.revealOrder,u=i.tail;if(ut(e,n,i.children,s),i=Me.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,s,n);else if(e.tag===19)bu(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Oe(Me,i),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Ia(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Xi(n,!1,c,s,u);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ia(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Xi(n,!0,s,null,u);break;case"together":Xi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ha(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ln(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Zn|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=An(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=An(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vp(e,n,s){switch(n.tag){case 3:xu(n),Ar();break;case 5:Id(n);break;case 1:pt(n.type)&&ka(n);break;case 4:Ri(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,c=n.memoizedProps.value;Oe(Ra,i._currentValue),i._currentValue=c;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(Oe(Me,Me.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?vu(e,n,s):(Oe(Me,Me.current&1),e=ln(e,n,s),e!==null?e.sibling:null);Oe(Me,Me.current&1);break;case 19:if(i=(s&n.childLanes)!==0,(e.flags&128)!==0){if(i)return ju(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Oe(Me,Me.current),i)break;return null;case 22:case 23:return n.lanes=0,hu(e,n,s)}return ln(e,n,s)}var wu,Zi,Nu,Su;wu=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Zi=function(){},Nu=function(e,n,s,i){var c=e.memoizedProps;if(c!==i){e=n.stateNode,Yn(Kt.current);var u=null;switch(s){case"input":c=Te(e,c),i=Te(e,i),u=[];break;case"select":c=P({},c,{value:void 0}),i=P({},i,{value:void 0}),u=[];break;case"textarea":c=Rl(e,c),i=Rl(e,i),u=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=wa)}Ol(s,i);var g;s=null;for(M in c)if(!i.hasOwnProperty(M)&&c.hasOwnProperty(M)&&c[M]!=null)if(M==="style"){var k=c[M];for(g in k)k.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(d.hasOwnProperty(M)?u||(u=[]):(u=u||[]).push(M,null));for(M in i){var A=i[M];if(k=c!=null?c[M]:void 0,i.hasOwnProperty(M)&&A!==k&&(A!=null||k!=null))if(M==="style")if(k){for(g in k)!k.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in A)A.hasOwnProperty(g)&&k[g]!==A[g]&&(s||(s={}),s[g]=A[g])}else s||(u||(u=[]),u.push(M,s)),s=A;else M==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(u=u||[]).push(M,A)):M==="children"?typeof A!="string"&&typeof A!="number"||(u=u||[]).push(M,""+A):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(d.hasOwnProperty(M)?(A!=null&&M==="onScroll"&&De("scroll",e),u||k===A||(u=[])):(u=u||[]).push(M,A))}s&&(u=u||[]).push("style",s);var M=u;(n.updateQueue=M)&&(n.flags|=4)}},Su=function(e,n,s,i){s!==i&&(n.flags|=4)};function _s(e,n){if(!Fe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=s,n}function bp(e,n,s){var i=n.pendingProps;switch(ji(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return pt(n.type)&&Sa(),lt(n),null;case 3:return i=n.stateNode,Dr(),Ie(ht),Ie(st),Di(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,It!==null&&(uo(It),It=null))),Zi(e,n),lt(n),null;case 5:_i(n);var c=Yn(Es.current);if(s=n.type,e!==null&&n.stateNode!=null)Nu(e,n,s,i,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(l(166));return lt(n),null}if(e=Yn(Kt.current),Ta(n)){i=n.stateNode,s=n.type;var u=n.memoizedProps;switch(i[qt]=n,i[ws]=u,e=(n.mode&1)!==0,s){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(c=0;c<vs.length;c++)De(vs[c],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":mn(i,u),De("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},De("invalid",i);break;case"textarea":ic(i,u),De("invalid",i)}Ol(s,u),c=null;for(var g in u)if(u.hasOwnProperty(g)){var k=u[g];g==="children"?typeof k=="string"?i.textContent!==k&&(u.suppressHydrationWarning!==!0&&ja(i.textContent,k,e),c=["children",k]):typeof k=="number"&&i.textContent!==""+k&&(u.suppressHydrationWarning!==!0&&ja(i.textContent,k,e),c=["children",""+k]):d.hasOwnProperty(g)&&k!=null&&g==="onScroll"&&De("scroll",i)}switch(s){case"input":Wn(i),lc(i,u,!0);break;case"textarea":Wn(i),cc(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=wa)}i=c,n.updateQueue=i,i!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(s,{is:i.is}):(e=g.createElement(s),s==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,s),e[qt]=n,e[ws]=i,wu(e,n,!1,!1),n.stateNode=e;e:{switch(g=Dl(s,i),s){case"dialog":De("cancel",e),De("close",e),c=i;break;case"iframe":case"object":case"embed":De("load",e),c=i;break;case"video":case"audio":for(c=0;c<vs.length;c++)De(vs[c],e);c=i;break;case"source":De("error",e),c=i;break;case"img":case"image":case"link":De("error",e),De("load",e),c=i;break;case"details":De("toggle",e),c=i;break;case"input":mn(e,i),c=Te(e,i),De("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=P({},i,{value:void 0}),De("invalid",e);break;case"textarea":ic(e,i),c=Rl(e,i),De("invalid",e);break;default:c=i}Ol(s,c),k=c;for(u in k)if(k.hasOwnProperty(u)){var A=k[u];u==="style"?fc(e,A):u==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&uc(e,A)):u==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&es(e,A):typeof A=="number"&&es(e,""+A):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?A!=null&&u==="onScroll"&&De("scroll",e):A!=null&&U(e,u,A,g))}switch(s){case"input":Wn(e),lc(e,i,!1);break;case"textarea":Wn(e),cc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+be(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?pr(e,!!i.multiple,u,!1):i.defaultValue!=null&&pr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=wa)}switch(s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return lt(n),null;case 6:if(e&&n.stateNode!=null)Su(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(s=Yn(Es.current),Yn(Kt.current),Ta(n)){if(i=n.stateNode,s=n.memoizedProps,i[qt]=n,(u=i.nodeValue!==s)&&(e=Nt,e!==null))switch(e.tag){case 3:ja(i.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ja(i.nodeValue,s,(e.mode&1)!==0)}u&&(n.flags|=4)}else i=(s.nodeType===9?s:s.ownerDocument).createTextNode(i),i[qt]=n,n.stateNode=i}return lt(n),null;case 13:if(Ie(Me),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&St!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ed(),Ar(),n.flags|=98560,u=!1;else if(u=Ta(n),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[qt]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),u=!1}else It!==null&&(uo(It),It=null),u=!0;if(!u)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Me.current&1)!==0?Ye===0&&(Ye=3):ho())),n.updateQueue!==null&&(n.flags|=4),lt(n),null);case 4:return Dr(),Zi(e,n),e===null&&bs(n.stateNode.containerInfo),lt(n),null;case 10:return Ei(n.type._context),lt(n),null;case 17:return pt(n.type)&&Sa(),lt(n),null;case 19:if(Ie(Me),u=n.memoizedState,u===null)return lt(n),null;if(i=(n.flags&128)!==0,g=u.rendering,g===null)if(i)_s(u,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Ia(e),g!==null){for(n.flags|=128,_s(u,!1),i=g.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=s,s=n.child;s!==null;)u=s,e=i,u.flags&=14680066,g=u.alternate,g===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,e=g.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Oe(Me,Me.current&1|2),n.child}e=e.sibling}u.tail!==null&&Ke()>Mr&&(n.flags|=128,i=!0,_s(u,!1),n.lanes=4194304)}else{if(!i)if(e=Ia(g),e!==null){if(n.flags|=128,i=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),_s(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Fe)return lt(n),null}else 2*Ke()-u.renderingStartTime>Mr&&s!==1073741824&&(n.flags|=128,i=!0,_s(u,!1),n.lanes=4194304);u.isBackwards?(g.sibling=n.child,n.child=g):(s=u.last,s!==null?s.sibling=g:n.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ke(),n.sibling=null,s=Me.current,Oe(Me,i?s&1|2:s&1),n):(lt(n),null);case 22:case 23:return fo(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&(n.mode&1)!==0?(kt&1073741824)!==0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),null;case 24:return null;case 25:return null}throw Error(l(156,n.tag))}function jp(e,n){switch(ji(n),n.tag){case 1:return pt(n.type)&&Sa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Dr(),Ie(ht),Ie(st),Di(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return _i(n),null;case 13:if(Ie(Me),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ie(Me),null;case 4:return Dr(),null;case 10:return Ei(n.type._context),null;case 22:case 23:return fo(),null;case 24:return null;default:return null}}var Wa=!1,it=!1,wp=typeof WeakSet=="function"?WeakSet:Set,de=null;function Lr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(i){Ue(e,n,i)}else s.current=null}function eo(e,n,s){try{s()}catch(i){Ue(e,n,i)}}var ku=!1;function Np(e,n){if(mi=da,e=rd(),si(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var c=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var g=0,k=-1,A=-1,M=0,Y=0,Z=e,G=null;t:for(;;){for(var ce;Z!==s||c!==0&&Z.nodeType!==3||(k=g+c),Z!==u||i!==0&&Z.nodeType!==3||(A=g+i),Z.nodeType===3&&(g+=Z.nodeValue.length),(ce=Z.firstChild)!==null;)G=Z,Z=ce;for(;;){if(Z===e)break t;if(G===s&&++M===c&&(k=g),G===u&&++Y===i&&(A=g),(ce=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=ce}s=k===-1||A===-1?null:{start:k,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(fi={focusedElem:e,selectionRange:s},da=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var ue=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var fe=ue.memoizedProps,Ve=ue.memoizedState,L=n.stateNode,O=L.getSnapshotBeforeUpdate(n.elementType===n.type?fe:Lt(n.type,fe),Ve);L.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(ne){Ue(n,n.return,ne)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return ue=ku,ku=!1,ue}function Os(e,n,s){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var u=c.destroy;c.destroy=void 0,u!==void 0&&eo(n,s,u)}c=c.next}while(c!==i)}}function qa(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.create;s.destroy=i()}s=s.next}while(s!==n)}}function to(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Cu(e){var n=e.alternate;n!==null&&(e.alternate=null,Cu(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[qt],delete n[ws],delete n[xi],delete n[ap],delete n[lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eu(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function no(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wa));else if(i!==4&&(e=e.child,e!==null))for(no(e,n,s),e=e.sibling;e!==null;)no(e,n,s),e=e.sibling}function ro(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ro(e,n,s),e=e.sibling;e!==null;)ro(e,n,s),e=e.sibling}var nt=null,Ft=!1;function kn(e,n,s){for(s=s.child;s!==null;)Tu(e,n,s),s=s.sibling}function Tu(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(sa,s)}catch{}switch(s.tag){case 5:it||Lr(s,n);case 6:var i=nt,c=Ft;nt=null,kn(e,n,s),nt=i,Ft=c,nt!==null&&(Ft?(e=nt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):nt.removeChild(s.stateNode));break;case 18:nt!==null&&(Ft?(e=nt,s=s.stateNode,e.nodeType===8?gi(e.parentNode,s):e.nodeType===1&&gi(e,s),us(e)):gi(nt,s.stateNode));break;case 4:i=nt,c=Ft,nt=s.stateNode.containerInfo,Ft=!0,kn(e,n,s),nt=i,Ft=c;break;case 0:case 11:case 14:case 15:if(!it&&(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var u=c,g=u.destroy;u=u.tag,g!==void 0&&((u&2)!==0||(u&4)!==0)&&eo(s,n,g),c=c.next}while(c!==i)}kn(e,n,s);break;case 1:if(!it&&(Lr(s,n),i=s.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(k){Ue(s,n,k)}kn(e,n,s);break;case 21:kn(e,n,s);break;case 22:s.mode&1?(it=(i=it)||s.memoizedState!==null,kn(e,n,s),it=i):kn(e,n,s);break;default:kn(e,n,s)}}function Au(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new wp),n.forEach(function(i){var c=_p.bind(null,e,i);s.has(i)||(s.add(i),i.then(c,c))})}}function Mt(e,n){var s=n.deletions;if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];try{var u=e,g=n,k=g;e:for(;k!==null;){switch(k.tag){case 5:nt=k.stateNode,Ft=!1;break e;case 3:nt=k.stateNode.containerInfo,Ft=!0;break e;case 4:nt=k.stateNode.containerInfo,Ft=!0;break e}k=k.return}if(nt===null)throw Error(l(160));Tu(u,g,c),nt=null,Ft=!1;var A=c.alternate;A!==null&&(A.return=null),c.return=null}catch(M){Ue(c,n,M)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ru(n,e),n=n.sibling}function Ru(e,n){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(n,e),Qt(e),i&4){try{Os(3,e,e.return),qa(3,e)}catch(fe){Ue(e,e.return,fe)}try{Os(5,e,e.return)}catch(fe){Ue(e,e.return,fe)}}break;case 1:Mt(n,e),Qt(e),i&512&&s!==null&&Lr(s,s.return);break;case 5:if(Mt(n,e),Qt(e),i&512&&s!==null&&Lr(s,s.return),e.flags&32){var c=e.stateNode;try{es(c,"")}catch(fe){Ue(e,e.return,fe)}}if(i&4&&(c=e.stateNode,c!=null)){var u=e.memoizedProps,g=s!==null?s.memoizedProps:u,k=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{k==="input"&&u.type==="radio"&&u.name!=null&&ac(c,u),Dl(k,g);var M=Dl(k,u);for(g=0;g<A.length;g+=2){var Y=A[g],Z=A[g+1];Y==="style"?fc(c,Z):Y==="dangerouslySetInnerHTML"?uc(c,Z):Y==="children"?es(c,Z):U(c,Y,Z,M)}switch(k){case"input":Tl(c,u);break;case"textarea":oc(c,u);break;case"select":var G=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var ce=u.value;ce!=null?pr(c,!!u.multiple,ce,!1):G!==!!u.multiple&&(u.defaultValue!=null?pr(c,!!u.multiple,u.defaultValue,!0):pr(c,!!u.multiple,u.multiple?[]:"",!1))}c[ws]=u}catch(fe){Ue(e,e.return,fe)}}break;case 6:if(Mt(n,e),Qt(e),i&4){if(e.stateNode===null)throw Error(l(162));c=e.stateNode,u=e.memoizedProps;try{c.nodeValue=u}catch(fe){Ue(e,e.return,fe)}}break;case 3:if(Mt(n,e),Qt(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{us(n.containerInfo)}catch(fe){Ue(e,e.return,fe)}break;case 4:Mt(n,e),Qt(e);break;case 13:Mt(n,e),Qt(e),c=e.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(lo=Ke())),i&4&&Au(e);break;case 22:if(Y=s!==null&&s.memoizedState!==null,e.mode&1?(it=(M=it)||Y,Mt(n,e),it=M):Mt(n,e),Qt(e),i&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!Y&&(e.mode&1)!==0)for(de=e,Y=e.child;Y!==null;){for(Z=de=Y;de!==null;){switch(G=de,ce=G.child,G.tag){case 0:case 11:case 14:case 15:Os(4,G,G.return);break;case 1:Lr(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){i=G,s=G.return;try{n=i,ue.props=n.memoizedProps,ue.state=n.memoizedState,ue.componentWillUnmount()}catch(fe){Ue(i,s,fe)}}break;case 5:Lr(G,G.return);break;case 22:if(G.memoizedState!==null){Du(Z);continue}}ce!==null?(ce.return=G,de=ce):Du(Z)}Y=Y.sibling}e:for(Y=null,Z=e;;){if(Z.tag===5){if(Y===null){Y=Z;try{c=Z.stateNode,M?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(k=Z.stateNode,A=Z.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=mc("display",g))}catch(fe){Ue(e,e.return,fe)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=M?"":Z.memoizedProps}catch(fe){Ue(e,e.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Mt(n,e),Qt(e),i&4&&Au(e);break;case 21:break;default:Mt(n,e),Qt(e)}}function Qt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Eu(s)){var i=s;break e}s=s.return}throw Error(l(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(es(c,""),i.flags&=-33);var u=Pu(e);ro(e,u,c);break;case 3:case 4:var g=i.stateNode.containerInfo,k=Pu(e);no(e,k,g);break;default:throw Error(l(161))}}catch(A){Ue(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sp(e,n,s){de=e,_u(e)}function _u(e,n,s){for(var i=(e.mode&1)!==0;de!==null;){var c=de,u=c.child;if(c.tag===22&&i){var g=c.memoizedState!==null||Wa;if(!g){var k=c.alternate,A=k!==null&&k.memoizedState!==null||it;k=Wa;var M=it;if(Wa=g,(it=A)&&!M)for(de=c;de!==null;)g=de,A=g.child,g.tag===22&&g.memoizedState!==null?Iu(c):A!==null?(A.return=g,de=A):Iu(c);for(;u!==null;)de=u,_u(u),u=u.sibling;de=c,Wa=k,it=M}Ou(e)}else(c.subtreeFlags&8772)!==0&&u!==null?(u.return=c,de=u):Ou(e)}}function Ou(e){for(;de!==null;){var n=de;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:it||qa(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!it)if(s===null)i.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Lt(n.type,s.memoizedProps);i.componentDidUpdate(c,s.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&Dd(n,u,i);break;case 3:var g=n.updateQueue;if(g!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Dd(n,g,s)}break;case 5:var k=n.stateNode;if(s===null&&n.flags&4){s=k;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&s.focus();break;case"img":A.src&&(s.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var M=n.alternate;if(M!==null){var Y=M.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&us(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}it||n.flags&512&&to(n)}catch(G){Ue(n,n.return,G)}}if(n===e){de=null;break}if(s=n.sibling,s!==null){s.return=n.return,de=s;break}de=n.return}}function Du(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var s=n.sibling;if(s!==null){s.return=n.return,de=s;break}de=n.return}}function Iu(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{qa(4,n)}catch(A){Ue(n,s,A)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var c=n.return;try{i.componentDidMount()}catch(A){Ue(n,c,A)}}var u=n.return;try{to(n)}catch(A){Ue(n,u,A)}break;case 5:var g=n.return;try{to(n)}catch(A){Ue(n,g,A)}}}catch(A){Ue(n,n.return,A)}if(n===e){de=null;break}var k=n.sibling;if(k!==null){k.return=n.return,de=k;break}de=n.return}}var kp=Math.ceil,Ka=R.ReactCurrentDispatcher,so=R.ReactCurrentOwner,At=R.ReactCurrentBatchConfig,Ae=0,Ze=null,Ge=null,rt=0,kt=0,Fr=bn(0),Ye=0,Ds=null,Zn=0,Va=0,ao=0,Is=null,xt=null,lo=0,Mr=1/0,on=null,Qa=!1,io=null,Cn=null,Ga=!1,En=null,Ja=0,Ls=0,oo=null,Ya=-1,Xa=0;function mt(){return(Ae&6)!==0?Ke():Ya!==-1?Ya:Ya=Ke()}function Pn(e){return(e.mode&1)===0?1:(Ae&2)!==0&&rt!==0?rt&-rt:op.transition!==null?(Xa===0&&(Xa=Pc()),Xa):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Fc(e.type)),e)}function zt(e,n,s,i){if(50<Ls)throw Ls=0,oo=null,Error(l(185));ls(e,s,i),((Ae&2)===0||e!==Ze)&&(e===Ze&&((Ae&2)===0&&(Va|=s),Ye===4&&Tn(e,rt)),yt(e,i),s===1&&Ae===0&&(n.mode&1)===0&&(Mr=Ke()+500,Ca&&wn()))}function yt(e,n){var s=e.callbackNode;oh(e,n);var i=ia(e,e===Ze?rt:0);if(i===0)s!==null&&kc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(s!=null&&kc(s),n===1)e.tag===0?ip(Fu.bind(null,e)):wd(Fu.bind(null,e)),rp(function(){(Ae&6)===0&&wn()}),s=null;else{switch(Tc(i)){case 1:s=$l;break;case 4:s=Cc;break;case 16:s=ra;break;case 536870912:s=Ec;break;default:s=ra}s=qu(s,Lu.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Lu(e,n){if(Ya=-1,Xa=0,(Ae&6)!==0)throw Error(l(327));var s=e.callbackNode;if(zr()&&e.callbackNode!==s)return null;var i=ia(e,e===Ze?rt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||n)n=Za(e,i);else{n=i;var c=Ae;Ae|=2;var u=zu();(Ze!==e||rt!==n)&&(on=null,Mr=Ke()+500,tr(e,n));do try{Pp();break}catch(k){Mu(e,k)}while(!0);Ci(),Ka.current=u,Ae=c,Ge!==null?n=0:(Ze=null,rt=0,n=Ye)}if(n!==0){if(n===2&&(c=Bl(e),c!==0&&(i=c,n=co(e,c))),n===1)throw s=Ds,tr(e,0),Tn(e,i),yt(e,Ke()),s;if(n===6)Tn(e,i);else{if(c=e.current.alternate,(i&30)===0&&!Cp(c)&&(n=Za(e,i),n===2&&(u=Bl(e),u!==0&&(i=u,n=co(e,u))),n===1))throw s=Ds,tr(e,0),Tn(e,i),yt(e,Ke()),s;switch(e.finishedWork=c,e.finishedLanes=i,n){case 0:case 1:throw Error(l(345));case 2:nr(e,xt,on);break;case 3:if(Tn(e,i),(i&130023424)===i&&(n=lo+500-Ke(),10<n)){if(ia(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){mt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=pi(nr.bind(null,e,xt,on),n);break}nr(e,xt,on);break;case 4:if(Tn(e,i),(i&4194240)===i)break;for(n=e.eventTimes,c=-1;0<i;){var g=31-Ot(i);u=1<<g,g=n[g],g>c&&(c=g),i&=~u}if(i=c,i=Ke()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kp(i/1960))-i,10<i){e.timeoutHandle=pi(nr.bind(null,e,xt,on),i);break}nr(e,xt,on);break;case 5:nr(e,xt,on);break;default:throw Error(l(329))}}}return yt(e,Ke()),e.callbackNode===s?Lu.bind(null,e):null}function co(e,n){var s=Is;return e.current.memoizedState.isDehydrated&&(tr(e,n).flags|=256),e=Za(e,n),e!==2&&(n=xt,xt=s,n!==null&&uo(n)),e}function uo(e){xt===null?xt=e:xt.push.apply(xt,e)}function Cp(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var i=0;i<s.length;i++){var c=s[i],u=c.getSnapshot;c=c.value;try{if(!Dt(u(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tn(e,n){for(n&=~ao,n&=~Va,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;e[s]=-1,n&=~i}}function Fu(e){if((Ae&6)!==0)throw Error(l(327));zr();var n=ia(e,0);if((n&1)===0)return yt(e,Ke()),null;var s=Za(e,n);if(e.tag!==0&&s===2){var i=Bl(e);i!==0&&(n=i,s=co(e,i))}if(s===1)throw s=Ds,tr(e,0),Tn(e,n),yt(e,Ke()),s;if(s===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,nr(e,xt,on),yt(e,Ke()),null}function mo(e,n){var s=Ae;Ae|=1;try{return e(n)}finally{Ae=s,Ae===0&&(Mr=Ke()+500,Ca&&wn())}}function er(e){En!==null&&En.tag===0&&(Ae&6)===0&&zr();var n=Ae;Ae|=1;var s=At.transition,i=_e;try{if(At.transition=null,_e=1,e)return e()}finally{_e=i,At.transition=s,Ae=n,(Ae&6)===0&&wn()}}function fo(){kt=Fr.current,Ie(Fr)}function tr(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,np(s)),Ge!==null)for(s=Ge.return;s!==null;){var i=s;switch(ji(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Sa();break;case 3:Dr(),Ie(ht),Ie(st),Di();break;case 5:_i(i);break;case 4:Dr();break;case 13:Ie(Me);break;case 19:Ie(Me);break;case 10:Ei(i.type._context);break;case 22:case 23:fo()}s=s.return}if(Ze=e,Ge=e=An(e.current,null),rt=kt=n,Ye=0,Ds=null,ao=Va=Zn=0,xt=Is=null,Jn!==null){for(n=0;n<Jn.length;n++)if(s=Jn[n],i=s.interleaved,i!==null){s.interleaved=null;var c=i.next,u=s.pending;if(u!==null){var g=u.next;u.next=c,i.next=g}s.pending=i}Jn=null}return e}function Mu(e,n){do{var s=Ge;try{if(Ci(),La.current=Ua,Fa){for(var i=ze.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}Fa=!1}if(Xn=0,Xe=Je=ze=null,Ps=!1,Ts=0,so.current=null,s===null||s.return===null){Ye=1,Ds=n,Ge=null;break}e:{var u=e,g=s.return,k=s,A=n;if(n=rt,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var M=A,Y=k,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ce=cu(g);if(ce!==null){ce.flags&=-257,du(ce,g,k,u,n),ce.mode&1&&ou(u,M,n),n=ce,A=M;var ue=n.updateQueue;if(ue===null){var fe=new Set;fe.add(A),n.updateQueue=fe}else ue.add(A);break e}else{if((n&1)===0){ou(u,M,n),ho();break e}A=Error(l(426))}}else if(Fe&&k.mode&1){var Ve=cu(g);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),du(Ve,g,k,u,n),Si(Ir(A,k));break e}}u=A=Ir(A,k),Ye!==4&&(Ye=2),Is===null?Is=[u]:Is.push(u),u=g;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var L=lu(u,A,n);Od(u,L);break e;case 1:k=A;var O=u.type,F=u.stateNode;if((u.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Cn===null||!Cn.has(F)))){u.flags|=65536,n&=-n,u.lanes|=n;var ne=iu(u,k,n);Od(u,ne);break e}}u=u.return}while(u!==null)}$u(s)}catch(pe){n=pe,Ge===s&&s!==null&&(Ge=s=s.return);continue}break}while(!0)}function zu(){var e=Ka.current;return Ka.current=Ua,e===null?Ua:e}function ho(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||(Zn&268435455)===0&&(Va&268435455)===0||Tn(Ze,rt)}function Za(e,n){var s=Ae;Ae|=2;var i=zu();(Ze!==e||rt!==n)&&(on=null,tr(e,n));do try{Ep();break}catch(c){Mu(e,c)}while(!0);if(Ci(),Ae=s,Ka.current=i,Ge!==null)throw Error(l(261));return Ze=null,rt=0,Ye}function Ep(){for(;Ge!==null;)Uu(Ge)}function Pp(){for(;Ge!==null&&!Zf();)Uu(Ge)}function Uu(e){var n=Wu(e.alternate,e,kt);e.memoizedProps=e.pendingProps,n===null?$u(e):Ge=n,so.current=null}function $u(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=bp(s,n,kt),s!==null){Ge=s;return}}else{if(s=jp(s,n),s!==null){s.flags&=32767,Ge=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ge=null;return}}if(n=n.sibling,n!==null){Ge=n;return}Ge=n=e}while(n!==null);Ye===0&&(Ye=5)}function nr(e,n,s){var i=_e,c=At.transition;try{At.transition=null,_e=1,Tp(e,n,s,i)}finally{At.transition=c,_e=i}return null}function Tp(e,n,s,i){do zr();while(En!==null);if((Ae&6)!==0)throw Error(l(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var u=s.lanes|s.childLanes;if(ch(e,u),e===Ze&&(Ge=Ze=null,rt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ga||(Ga=!0,qu(ra,function(){return zr(),null})),u=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||u){u=At.transition,At.transition=null;var g=_e;_e=1;var k=Ae;Ae|=4,so.current=null,Np(e,s),Ru(s,e),Gh(fi),da=!!mi,fi=mi=null,e.current=s,Sp(s),eh(),Ae=k,_e=g,At.transition=u}else e.current=s;if(Ga&&(Ga=!1,En=e,Ja=c),u=e.pendingLanes,u===0&&(Cn=null),rh(s.stateNode),yt(e,Ke()),n!==null)for(i=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],i(c.value,{componentStack:c.stack,digest:c.digest});if(Qa)throw Qa=!1,e=io,io=null,e;return(Ja&1)!==0&&e.tag!==0&&zr(),u=e.pendingLanes,(u&1)!==0?e===oo?Ls++:(Ls=0,oo=e):Ls=0,wn(),null}function zr(){if(En!==null){var e=Tc(Ja),n=At.transition,s=_e;try{if(At.transition=null,_e=16>e?16:e,En===null)var i=!1;else{if(e=En,En=null,Ja=0,(Ae&6)!==0)throw Error(l(331));var c=Ae;for(Ae|=4,de=e.current;de!==null;){var u=de,g=u.child;if((de.flags&16)!==0){var k=u.deletions;if(k!==null){for(var A=0;A<k.length;A++){var M=k[A];for(de=M;de!==null;){var Y=de;switch(Y.tag){case 0:case 11:case 15:Os(8,Y,u)}var Z=Y.child;if(Z!==null)Z.return=Y,de=Z;else for(;de!==null;){Y=de;var G=Y.sibling,ce=Y.return;if(Cu(Y),Y===M){de=null;break}if(G!==null){G.return=ce,de=G;break}de=ce}}}var ue=u.alternate;if(ue!==null){var fe=ue.child;if(fe!==null){ue.child=null;do{var Ve=fe.sibling;fe.sibling=null,fe=Ve}while(fe!==null)}}de=u}}if((u.subtreeFlags&2064)!==0&&g!==null)g.return=u,de=g;else e:for(;de!==null;){if(u=de,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Os(9,u,u.return)}var L=u.sibling;if(L!==null){L.return=u.return,de=L;break e}de=u.return}}var O=e.current;for(de=O;de!==null;){g=de;var F=g.child;if((g.subtreeFlags&2064)!==0&&F!==null)F.return=g,de=F;else e:for(g=O;de!==null;){if(k=de,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:qa(9,k)}}catch(pe){Ue(k,k.return,pe)}if(k===g){de=null;break e}var ne=k.sibling;if(ne!==null){ne.return=k.return,de=ne;break e}de=k.return}}if(Ae=c,wn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(sa,e)}catch{}i=!0}return i}finally{_e=s,At.transition=n}}return!1}function Bu(e,n,s){n=Ir(s,n),n=lu(e,n,1),e=Sn(e,n,1),n=mt(),e!==null&&(ls(e,1,n),yt(e,n))}function Ue(e,n,s){if(e.tag===3)Bu(e,e,s);else for(;n!==null;){if(n.tag===3){Bu(n,e,s);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cn===null||!Cn.has(i))){e=Ir(s,e),e=iu(n,e,1),n=Sn(n,e,1),e=mt(),n!==null&&(ls(n,1,e),yt(n,e));break}}n=n.return}}function Ap(e,n,s){var i=e.pingCache;i!==null&&i.delete(n),n=mt(),e.pingedLanes|=e.suspendedLanes&s,Ze===e&&(rt&s)===s&&(Ye===4||Ye===3&&(rt&130023424)===rt&&500>Ke()-lo?tr(e,0):ao|=s),yt(e,n)}function Hu(e,n){n===0&&((e.mode&1)===0?n=1:(n=la,la<<=1,(la&130023424)===0&&(la=4194304)));var s=mt();e=sn(e,n),e!==null&&(ls(e,n,s),yt(e,s))}function Rp(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hu(e,s)}function _p(e,n){var s=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(l(314))}i!==null&&i.delete(n),Hu(e,s)}var Wu;Wu=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ht.current)gt=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return gt=!1,vp(e,n,s);gt=(e.flags&131072)!==0}else gt=!1,Fe&&(n.flags&1048576)!==0&&Nd(n,Pa,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;Ha(e,n),e=n.pendingProps;var c=Er(n,st.current);Or(n,s),c=Fi(null,n,i,e,c,s);var u=Mi();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,pt(i)?(u=!0,ka(n)):u=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ai(n),c.updater=$a,n.stateNode=c,c._reactInternals=n,Wi(n,i,e,s),n=Qi(null,n,i,!0,u,s)):(n.tag=0,Fe&&u&&bi(n),ut(null,n,c,s),n=n.child),n;case 16:i=n.elementType;e:{switch(Ha(e,n),e=n.pendingProps,c=i._init,i=c(i._payload),n.type=i,c=n.tag=Dp(i),e=Lt(i,e),c){case 0:n=Vi(null,n,i,e,s);break e;case 1:n=gu(null,n,i,e,s);break e;case 11:n=uu(null,n,i,e,s);break e;case 14:n=mu(null,n,i,Lt(i.type,e),s);break e}throw Error(l(306,i,""))}return n;case 0:return i=n.type,c=n.pendingProps,c=n.elementType===i?c:Lt(i,c),Vi(e,n,i,c,s);case 1:return i=n.type,c=n.pendingProps,c=n.elementType===i?c:Lt(i,c),gu(e,n,i,c,s);case 3:e:{if(xu(n),e===null)throw Error(l(387));i=n.pendingProps,u=n.memoizedState,c=u.element,_d(e,n),Da(n,i,null,s);var g=n.memoizedState;if(i=g.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){c=Ir(Error(l(423)),n),n=yu(e,n,i,s,c);break e}else if(i!==c){c=Ir(Error(l(424)),n),n=yu(e,n,i,s,c);break e}else for(St=vn(n.stateNode.containerInfo.firstChild),Nt=n,Fe=!0,It=null,s=Ad(n,null,i,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),i===c){n=ln(e,n,s);break e}ut(e,n,i,s)}n=n.child}return n;case 5:return Id(n),e===null&&Ni(n),i=n.type,c=n.pendingProps,u=e!==null?e.memoizedProps:null,g=c.children,hi(i,c)?g=null:u!==null&&hi(i,u)&&(n.flags|=32),pu(e,n),ut(e,n,g,s),n.child;case 6:return e===null&&Ni(n),null;case 13:return vu(e,n,s);case 4:return Ri(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Rr(n,null,i,s):ut(e,n,i,s),n.child;case 11:return i=n.type,c=n.pendingProps,c=n.elementType===i?c:Lt(i,c),uu(e,n,i,c,s);case 7:return ut(e,n,n.pendingProps,s),n.child;case 8:return ut(e,n,n.pendingProps.children,s),n.child;case 12:return ut(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(i=n.type._context,c=n.pendingProps,u=n.memoizedProps,g=c.value,Oe(Ra,i._currentValue),i._currentValue=g,u!==null)if(Dt(u.value,g)){if(u.children===c.children&&!ht.current){n=ln(e,n,s);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var k=u.dependencies;if(k!==null){g=u.child;for(var A=k.firstContext;A!==null;){if(A.context===i){if(u.tag===1){A=an(-1,s&-s),A.tag=2;var M=u.updateQueue;if(M!==null){M=M.shared;var Y=M.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),M.pending=A}}u.lanes|=s,A=u.alternate,A!==null&&(A.lanes|=s),Pi(u.return,s,n),k.lanes|=s;break}A=A.next}}else if(u.tag===10)g=u.type===n.type?null:u.child;else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=s,k=g.alternate,k!==null&&(k.lanes|=s),Pi(g,s,n),g=u.sibling}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===n){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}ut(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,i=n.pendingProps.children,Or(n,s),c=Pt(c),i=i(c),n.flags|=1,ut(e,n,i,s),n.child;case 14:return i=n.type,c=Lt(i,n.pendingProps),c=Lt(i.type,c),mu(e,n,i,c,s);case 15:return fu(e,n,n.type,n.pendingProps,s);case 17:return i=n.type,c=n.pendingProps,c=n.elementType===i?c:Lt(i,c),Ha(e,n),n.tag=1,pt(i)?(e=!0,ka(n)):e=!1,Or(n,s),su(n,i,c),Wi(n,i,c,s),Qi(null,n,i,!0,e,s);case 19:return ju(e,n,s);case 22:return hu(e,n,s)}throw Error(l(156,n.tag))};function qu(e,n){return Sc(e,n)}function Op(e,n,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,s,i){return new Op(e,n,s,i)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dp(e){if(typeof e=="function")return po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B)return 11;if(e===re)return 14}return 2}function An(e,n){var s=e.alternate;return s===null?(s=Rt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function el(e,n,s,i,c,u){var g=2;if(i=e,typeof e=="function")po(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case H:return rr(s.children,c,u,n);case _:g=8,c|=8;break;case ee:return e=Rt(12,s,n,c|2),e.elementType=ee,e.lanes=u,e;case V:return e=Rt(13,s,n,c),e.elementType=V,e.lanes=u,e;case se:return e=Rt(19,s,n,c),e.elementType=se,e.lanes=u,e;case me:return tl(s,c,u,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:g=10;break e;case ie:g=9;break e;case B:g=11;break e;case re:g=14;break e;case te:g=16,i=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return n=Rt(g,s,n,c),n.elementType=e,n.type=i,n.lanes=u,n}function rr(e,n,s,i){return e=Rt(7,e,i,n),e.lanes=s,e}function tl(e,n,s,i){return e=Rt(22,e,i,n),e.elementType=me,e.lanes=s,e.stateNode={isHidden:!1},e}function go(e,n,s){return e=Rt(6,e,null,n),e.lanes=s,e}function xo(e,n,s){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ip(e,n,s,i,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function yo(e,n,s,i,c,u,g,k,A){return e=new Ip(e,n,s,k,A),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Rt(3,null,null,n),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(u),e}function Lp(e,n,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:i==null?null:""+i,children:e,containerInfo:n,implementation:s}}function Ku(e){if(!e)return jn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(l(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(pt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(l(171))}if(e.tag===1){var s=e.type;if(pt(s))return bd(e,s,n)}return n}function Vu(e,n,s,i,c,u,g,k,A){return e=yo(s,i,!0,e,c,u,g,k,A),e.context=Ku(null),s=e.current,i=mt(),c=Pn(s),u=an(i,c),u.callback=n??null,Sn(s,u,c),e.current.lanes=c,ls(e,c,i),yt(e,i),e}function nl(e,n,s,i){var c=n.current,u=mt(),g=Pn(c);return s=Ku(s),n.context===null?n.context=s:n.pendingContext=s,n=an(u,g),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Sn(c,n,g),e!==null&&(zt(e,c,g,u),Oa(e,c,g)),g}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qu(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vo(e,n){Qu(e,n),(e=e.alternate)&&Qu(e,n)}function Fp(){return null}var Gu=typeof reportError=="function"?reportError:function(e){console.error(e)};function bo(e){this._internalRoot=e}sl.prototype.render=bo.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));nl(e,n,null,null)},sl.prototype.unmount=bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;er(function(){nl(null,e,null,null)}),n[en]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var n=_c();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&Ic(e)}};function jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function Mp(e,n,s,i,c){if(c){if(typeof i=="function"){var u=i;i=function(){var M=rl(g);u.call(M)}}var g=Vu(n,i,e,0,null,!1,!1,"",Ju);return e._reactRootContainer=g,e[en]=g.current,bs(e.nodeType===8?e.parentNode:e),er(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var k=i;i=function(){var M=rl(A);k.call(M)}}var A=yo(e,0,!1,null,null,!1,!1,"",Ju);return e._reactRootContainer=A,e[en]=A.current,bs(e.nodeType===8?e.parentNode:e),er(function(){nl(n,A,s,i)}),A}function ll(e,n,s,i,c){var u=s._reactRootContainer;if(u){var g=u;if(typeof c=="function"){var k=c;c=function(){var A=rl(g);k.call(A)}}nl(n,g,e,c)}else g=Mp(s,n,e,c,i);return rl(g)}Ac=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=as(n.pendingLanes);s!==0&&(Wl(n,s|1),yt(n,Ke()),(Ae&6)===0&&(Mr=Ke()+500,wn()))}break;case 13:er(function(){var i=sn(e,1);if(i!==null){var c=mt();zt(i,e,1,c)}}),vo(e,1)}},ql=function(e){if(e.tag===13){var n=sn(e,134217728);if(n!==null){var s=mt();zt(n,e,134217728,s)}vo(e,134217728)}},Rc=function(e){if(e.tag===13){var n=Pn(e),s=sn(e,n);if(s!==null){var i=mt();zt(s,e,n,i)}vo(e,n)}},_c=function(){return _e},Oc=function(e,n){var s=_e;try{return _e=e,n()}finally{_e=s}},Fl=function(e,n,s){switch(n){case"input":if(Tl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var i=s[n];if(i!==e&&i.form===e.form){var c=Na(i);if(!c)throw Error(l(90));le(i),Tl(i,c)}}}break;case"textarea":oc(e,s);break;case"select":n=s.value,n!=null&&pr(e,!!s.multiple,n,!1)}},xc=mo,yc=er;var zp={usingClientEntryPoint:!1,Events:[Ns,kr,Na,pc,gc,mo]},Fs={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wc(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||Fp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{sa=il.inject(Up),Wt=il}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zp,vt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jo(n))throw Error(l(200));return Lp(e,n,null,s)},vt.createRoot=function(e,n){if(!jo(e))throw Error(l(299));var s=!1,i="",c=Gu;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=yo(e,1,!1,null,null,s,!1,i,c),e[en]=n.current,bs(e.nodeType===8?e.parentNode:e),new bo(n)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=wc(n),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return er(e)},vt.hydrate=function(e,n,s){if(!al(n))throw Error(l(200));return ll(null,e,n,!0,s)},vt.hydrateRoot=function(e,n,s){if(!jo(e))throw Error(l(405));var i=s!=null&&s.hydratedSources||null,c=!1,u="",g=Gu;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),n=Vu(n,null,e,1,s??null,c,!1,u,g),e[en]=n.current,bs(e),i)for(e=0;e<i.length;e++)s=i[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new sl(n)},vt.render=function(e,n,s){if(!al(n))throw Error(l(200));return ll(null,e,n,!1,s)},vt.unmountComponentAtNode=function(e){if(!al(e))throw Error(l(40));return e._reactRootContainer?(er(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},vt.unstable_batchedUpdates=mo,vt.unstable_renderSubtreeIntoContainer=function(e,n,s,i){if(!al(s))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return ll(e,n,s,!1,i)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var am;function rf(){if(am)return ko.exports;am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),ko.exports=Yp(),ko.exports}var lm;function Xp(){if(lm)return dl;lm=1;var r=rf();return dl.createRoot=r.createRoot,dl.hydrateRoot=r.hydrateRoot,dl}var Zp=Xp();const eg=nf(Zp);var jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tg={setTimeout:(r,a)=>setTimeout(r,a),clearTimeout:r=>clearTimeout(r),setInterval:(r,a)=>setInterval(r,a),clearInterval:r=>clearInterval(r)},Dn,qo,Vm,ng=(Vm=class{constructor(){Pe(this,Dn,tg);Pe(this,qo,!1)}setTimeoutProvider(r){Se(this,Dn,r)}setTimeout(r,a){return q(this,Dn).setTimeout(r,a)}clearTimeout(r){q(this,Dn).clearTimeout(r)}setInterval(r,a){return q(this,Dn).setInterval(r,a)}clearInterval(r){q(this,Dn).clearInterval(r)}},Dn=new WeakMap,qo=new WeakMap,Vm),Oo=new ng;function rg(r){setTimeout(r,0)}var wl=typeof window>"u"||"Deno"in globalThis;function Ut(){}function sg(r,a){return typeof r=="function"?r(a):r}function ag(r){return typeof r=="number"&&r>=0&&r!==1/0}function lg(r,a){return Math.max(r+(a||0)-Date.now(),0)}function Do(r,a){return typeof r=="function"?r(a):r}function ig(r,a){return typeof r=="function"?r(a):r}function im(r,a){const{type:l="all",exact:o,fetchStatus:d,predicate:f,queryKey:m,stale:h}=r;if(m){if(o){if(a.queryHash!==Vo(m,a.options))return!1}else if(!Hs(a.queryKey,m))return!1}if(l!=="all"){const p=a.isActive();if(l==="active"&&!p||l==="inactive"&&p)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||d&&d!==a.state.fetchStatus||f&&!f(a))}function om(r,a){const{exact:l,status:o,predicate:d,mutationKey:f}=r;if(f){if(!a.options.mutationKey)return!1;if(l){if(Bs(a.options.mutationKey)!==Bs(f))return!1}else if(!Hs(a.options.mutationKey,f))return!1}return!(o&&a.state.status!==o||d&&!d(a))}function Vo(r,a){return((a==null?void 0:a.queryKeyHashFn)||Bs)(r)}function Bs(r){return JSON.stringify(r,(a,l)=>Io(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function Hs(r,a){return r===a?!0:typeof r!=typeof a?!1:r&&a&&typeof r=="object"&&typeof a=="object"?Object.keys(a).every(l=>Hs(r[l],a[l])):!1}var og=Object.prototype.hasOwnProperty;function sf(r,a,l=0){if(r===a)return r;if(l>500)return a;const o=cm(r)&&cm(a);if(!o&&!(Io(r)&&Io(a)))return a;const f=(o?r:Object.keys(r)).length,m=o?a:Object.keys(a),h=m.length,p=o?new Array(h):{};let y=0;for(let v=0;v<h;v++){const j=o?v:m[v],N=r[j],C=a[j];if(N===C){p[j]=N,(o?v<f:og.call(r,j))&&y++;continue}if(N===null||C===null||typeof N!="object"||typeof C!="object"){p[j]=C;continue}const w=sf(N,C,l+1);p[j]=w,w===N&&y++}return f===h&&y===f?r:p}function cm(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Io(r){if(!dm(r))return!1;const a=r.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!dm(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function dm(r){return Object.prototype.toString.call(r)==="[object Object]"}function cg(r){return new Promise(a=>{Oo.setTimeout(a,r)})}function dg(r,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(r,a):l.structuralSharing!==!1?sf(r,a):a}function ug(r,a,l=0){const o=[...r,a];return l&&o.length>l?o.slice(1):o}function mg(r,a,l=0){const o=[a,...r];return l&&o.length>l?o.slice(0,-1):o}var Qo=Symbol();function af(r,a){return!r.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!r.queryFn||r.queryFn===Qo?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function fg(r,a,l){let o=!1,d;return Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(d??(d=a()),o||(o=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),r}var lr,In,Ur,Qm,hg=(Qm=class extends jl{constructor(){super();Pe(this,lr);Pe(this,In);Pe(this,Ur);Se(this,Ur,a=>{if(!wl&&window.addEventListener){const l=()=>a();return window.addEventListener("visibilitychange",l,!1),()=>{window.removeEventListener("visibilitychange",l)}}})}onSubscribe(){q(this,In)||this.setEventListener(q(this,Ur))}onUnsubscribe(){var a;this.hasListeners()||((a=q(this,In))==null||a.call(this),Se(this,In,void 0))}setEventListener(a){var l;Se(this,Ur,a),(l=q(this,In))==null||l.call(this),Se(this,In,a(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(a){q(this,lr)!==a&&(Se(this,lr,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(l=>{l(a)})}isFocused(){var a;return typeof q(this,lr)=="boolean"?q(this,lr):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},lr=new WeakMap,In=new WeakMap,Ur=new WeakMap,Qm),lf=new hg;function pg(){let r,a;const l=new Promise((d,f)=>{r=d,a=f});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),r(d)},l.reject=d=>{o({status:"rejected",reason:d}),a(d)},l}var gg=rg;function xg(){let r=[],a=0,l=h=>{h()},o=h=>{h()},d=gg;const f=h=>{a?r.push(h):d(()=>{l(h)})},m=()=>{const h=r;r=[],h.length&&d(()=>{o(()=>{h.forEach(p=>{l(p)})})})};return{batch:h=>{let p;a++;try{p=h()}finally{a--,a||m()}return p},batchCalls:h=>(...p)=>{f(()=>{h(...p)})},schedule:f,setNotifyFunction:h=>{l=h},setBatchNotifyFunction:h=>{o=h},setScheduler:h=>{d=h}}}var ft=xg(),$r,Ln,Br,Gm,yg=(Gm=class extends jl{constructor(){super();Pe(this,$r,!0);Pe(this,Ln);Pe(this,Br);Se(this,Br,a=>{if(!wl&&window.addEventListener){const l=()=>a(!0),o=()=>a(!1);return window.addEventListener("online",l,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",o)}}})}onSubscribe(){q(this,Ln)||this.setEventListener(q(this,Br))}onUnsubscribe(){var a;this.hasListeners()||((a=q(this,Ln))==null||a.call(this),Se(this,Ln,void 0))}setEventListener(a){var l;Se(this,Br,a),(l=q(this,Ln))==null||l.call(this),Se(this,Ln,a(this.setOnline.bind(this)))}setOnline(a){q(this,$r)!==a&&(Se(this,$r,a),this.listeners.forEach(o=>{o(a)}))}isOnline(){return q(this,$r)}},$r=new WeakMap,Ln=new WeakMap,Br=new WeakMap,Gm),yl=new yg;function vg(r){return Math.min(1e3*2**r,3e4)}function of(r){return(r??"online")==="online"?yl.isOnline():!0}var Lo=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function cf(r){let a=!1,l=0,o;const d=pg(),f=()=>d.status!=="pending",m=S=>{var b;if(!f()){const I=new Lo(S);N(I),(b=r.onCancel)==null||b.call(r,I)}},h=()=>{a=!0},p=()=>{a=!1},y=()=>lf.isFocused()&&(r.networkMode==="always"||yl.isOnline())&&r.canRun(),v=()=>of(r.networkMode)&&r.canRun(),j=S=>{f()||(o==null||o(),d.resolve(S))},N=S=>{f()||(o==null||o(),d.reject(S))},C=()=>new Promise(S=>{var b;o=I=>{(f()||y())&&S(I)},(b=r.onPause)==null||b.call(r)}).then(()=>{var S;o=void 0,f()||(S=r.onContinue)==null||S.call(r)}),w=()=>{if(f())return;let S;const b=l===0?r.initialPromise:void 0;try{S=b??r.fn()}catch(I){S=Promise.reject(I)}Promise.resolve(S).then(j).catch(I=>{var W;if(f())return;const K=r.retry??(wl?0:3),U=r.retryDelay??vg,R=typeof U=="function"?U(l,I):U,T=K===!0||typeof K=="number"&&l<K||typeof K=="function"&&K(l,I);if(a||!T){N(I);return}l++,(W=r.onFail)==null||W.call(r,l,I),cg(R).then(()=>y()?void 0:C()).then(()=>{a?N(I):w()})})};return{promise:d,status:()=>d.status,cancel:m,continue:()=>(o==null||o(),d),cancelRetry:h,continueRetry:p,canStart:v,start:()=>(v()?w():C().then(w),d)}}var ir,Jm,df=(Jm=class{constructor(){Pe(this,ir)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&Se(this,ir,Oo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(wl?1/0:300*1e3))}clearGcTimeout(){q(this,ir)&&(Oo.clearTimeout(q(this,ir)),Se(this,ir,void 0))}},ir=new WeakMap,Jm),or,Hr,_t,cr,tt,Ks,dr,$t,cn,Ym,bg=(Ym=class extends df{constructor(a){super();Pe(this,$t);Pe(this,or);Pe(this,Hr);Pe(this,_t);Pe(this,cr);Pe(this,tt);Pe(this,Ks);Pe(this,dr);Se(this,dr,!1),Se(this,Ks,a.defaultOptions),this.setOptions(a.options),this.observers=[],Se(this,cr,a.client),Se(this,_t,q(this,cr).getQueryCache()),this.queryKey=a.queryKey,this.queryHash=a.queryHash,Se(this,or,mm(this.options)),this.state=a.state??q(this,or),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=q(this,tt))==null?void 0:a.promise}setOptions(a){if(this.options={...q(this,Ks),...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const l=mm(this.options);l.data!==void 0&&(this.setState(um(l.data,l.dataUpdatedAt)),Se(this,or,l))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,_t).remove(this)}setData(a,l){const o=dg(this.state.data,a,this.options);return ot(this,$t,cn).call(this,{data:o,type:"success",dataUpdatedAt:l==null?void 0:l.updatedAt,manual:l==null?void 0:l.manual}),o}setState(a,l){ot(this,$t,cn).call(this,{type:"setState",state:a,setStateOptions:l})}cancel(a){var o,d;const l=(o=q(this,tt))==null?void 0:o.promise;return(d=q(this,tt))==null||d.cancel(a),l?l.then(Ut).catch(Ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,or))}isActive(){return this.observers.some(a=>ig(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>Do(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!lg(this.state.dataUpdatedAt,a)}onFocus(){var l;const a=this.observers.find(o=>o.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),(l=q(this,tt))==null||l.continue()}onOnline(){var l;const a=this.observers.find(o=>o.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),(l=q(this,tt))==null||l.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),q(this,_t).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(l=>l!==a),this.observers.length||(q(this,tt)&&(q(this,dr)?q(this,tt).cancel({revert:!0}):q(this,tt).cancelRetry()),this.scheduleGc()),q(this,_t).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,$t,cn).call(this,{type:"invalidate"})}async fetch(a,l){var p,y,v,j,N,C,w,S,b,I,K,U;if(this.state.fetchStatus!=="idle"&&((p=q(this,tt))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(l!=null&&l.cancelRefetch))this.cancel({silent:!0});else if(q(this,tt))return q(this,tt).continueRetry(),q(this,tt).promise}if(a&&this.setOptions(a),!this.options.queryFn){const R=this.observers.find(T=>T.options.queryFn);R&&this.setOptions(R.options)}const o=new AbortController,d=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Se(this,dr,!0),o.signal)})},f=()=>{const R=af(this.options,l),W=(()=>{const H={client:q(this,cr),queryKey:this.queryKey,meta:this.meta};return d(H),H})();return Se(this,dr,!1),this.options.persister?this.options.persister(R,W,this):R(W)},h=(()=>{const R={fetchOptions:l,options:this.options,queryKey:this.queryKey,client:q(this,cr),state:this.state,fetchFn:f};return d(R),R})();(y=this.options.behavior)==null||y.onFetch(h,this),Se(this,Hr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=h.fetchOptions)==null?void 0:v.meta))&&ot(this,$t,cn).call(this,{type:"fetch",meta:(j=h.fetchOptions)==null?void 0:j.meta}),Se(this,tt,cf({initialPromise:l==null?void 0:l.initialPromise,fn:h.fetchFn,onCancel:R=>{R instanceof Lo&&R.revert&&this.setState({...q(this,Hr),fetchStatus:"idle"}),o.abort()},onFail:(R,T)=>{ot(this,$t,cn).call(this,{type:"failed",failureCount:R,error:T})},onPause:()=>{ot(this,$t,cn).call(this,{type:"pause"})},onContinue:()=>{ot(this,$t,cn).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0}));try{const R=await q(this,tt).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(C=(N=q(this,_t).config).onSuccess)==null||C.call(N,R,this),(S=(w=q(this,_t).config).onSettled)==null||S.call(w,R,this.state.error,this),R}catch(R){if(R instanceof Lo){if(R.silent)return q(this,tt).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw ot(this,$t,cn).call(this,{type:"error",error:R}),(I=(b=q(this,_t).config).onError)==null||I.call(b,R,this),(U=(K=q(this,_t).config).onSettled)==null||U.call(K,this.state.data,R,this),R}finally{this.scheduleGc()}}},or=new WeakMap,Hr=new WeakMap,_t=new WeakMap,cr=new WeakMap,tt=new WeakMap,Ks=new WeakMap,dr=new WeakMap,$t=new WeakSet,cn=function(a){const l=o=>{switch(a.type){case"failed":return{...o,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...jg(o.data,this.options),fetchMeta:a.meta??null};case"success":const d={...o,...um(a.data,a.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,Hr,a.manual?d:void 0),d;case"error":const f=a.error;return{...o,error:f,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:f,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...a.state}}};this.state=l(this.state),ft.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),q(this,_t).notify({query:this,type:"updated",action:a})})},Ym);function jg(r,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:of(a.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function um(r,a){return{data:r,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mm(r){const a=typeof r.initialData=="function"?r.initialData():r.initialData,l=a!==void 0,o=l?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}function fm(r){return{onFetch:(a,l)=>{var v,j,N,C,w;const o=a.options,d=(N=(j=(v=a.fetchOptions)==null?void 0:v.meta)==null?void 0:j.fetchMore)==null?void 0:N.direction,f=((C=a.state.data)==null?void 0:C.pages)||[],m=((w=a.state.data)==null?void 0:w.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const y=async()=>{let S=!1;const b=U=>{fg(U,()=>a.signal,()=>S=!0)},I=af(a.options,a.fetchOptions),K=async(U,R,T)=>{if(S)return Promise.reject();if(R==null&&U.pages.length)return Promise.resolve(U);const H=(()=>{const ie={client:a.client,queryKey:a.queryKey,pageParam:R,direction:T?"backward":"forward",meta:a.options.meta};return b(ie),ie})(),_=await I(H),{maxPages:ee}=a.options,D=T?mg:ug;return{pages:D(U.pages,_,ee),pageParams:D(U.pageParams,R,ee)}};if(d&&f.length){const U=d==="backward",R=U?wg:hm,T={pages:f,pageParams:m},W=R(o,T);h=await K(T,W,U)}else{const U=r??f.length;do{const R=p===0?m[0]??o.initialPageParam:hm(o,h);if(p>0&&R==null)break;h=await K(h,R),p++}while(p<U)}return h};a.options.persister?a.fetchFn=()=>{var S,b;return(b=(S=a.options).persister)==null?void 0:b.call(S,y,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l)}:a.fetchFn=y}}}function hm(r,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?r.getNextPageParam(a[o],a,l[o],l):void 0}function wg(r,{pages:a,pageParams:l}){var o;return a.length>0?(o=r.getPreviousPageParam)==null?void 0:o.call(r,a[0],a,l[0],l):void 0}var Vs,Jt,ct,ur,Yt,On,Xm,Ng=(Xm=class extends df{constructor(a){super();Pe(this,Yt);Pe(this,Vs);Pe(this,Jt);Pe(this,ct);Pe(this,ur);Se(this,Vs,a.client),this.mutationId=a.mutationId,Se(this,ct,a.mutationCache),Se(this,Jt,[]),this.state=a.state||Sg(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){q(this,Jt).includes(a)||(q(this,Jt).push(a),this.clearGcTimeout(),q(this,ct).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){Se(this,Jt,q(this,Jt).filter(l=>l!==a)),this.scheduleGc(),q(this,ct).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){q(this,Jt).length||(this.state.status==="pending"?this.scheduleGc():q(this,ct).remove(this))}continue(){var a;return((a=q(this,ur))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var m,h,p,y,v,j,N,C,w,S,b,I,K,U,R,T,W,H;const l=()=>{ot(this,Yt,On).call(this,{type:"continue"})},o={client:q(this,Vs),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,ur,cf({fn:()=>this.options.mutationFn?this.options.mutationFn(a,o):Promise.reject(new Error("No mutationFn found")),onFail:(_,ee)=>{ot(this,Yt,On).call(this,{type:"failed",failureCount:_,error:ee})},onPause:()=>{ot(this,Yt,On).call(this,{type:"pause"})},onContinue:l,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,ct).canRun(this)}));const d=this.state.status==="pending",f=!q(this,ur).canStart();try{if(d)l();else{ot(this,Yt,On).call(this,{type:"pending",variables:a,isPaused:f}),q(this,ct).config.onMutate&&await q(this,ct).config.onMutate(a,this,o);const ee=await((h=(m=this.options).onMutate)==null?void 0:h.call(m,a,o));ee!==this.state.context&&ot(this,Yt,On).call(this,{type:"pending",context:ee,variables:a,isPaused:f})}const _=await q(this,ur).start();return await((y=(p=q(this,ct).config).onSuccess)==null?void 0:y.call(p,_,a,this.state.context,this,o)),await((j=(v=this.options).onSuccess)==null?void 0:j.call(v,_,a,this.state.context,o)),await((C=(N=q(this,ct).config).onSettled)==null?void 0:C.call(N,_,null,this.state.variables,this.state.context,this,o)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,_,null,a,this.state.context,o)),ot(this,Yt,On).call(this,{type:"success",data:_}),_}catch(_){try{await((I=(b=q(this,ct).config).onError)==null?void 0:I.call(b,_,a,this.state.context,this,o))}catch(ee){Promise.reject(ee)}try{await((U=(K=this.options).onError)==null?void 0:U.call(K,_,a,this.state.context,o))}catch(ee){Promise.reject(ee)}try{await((T=(R=q(this,ct).config).onSettled)==null?void 0:T.call(R,void 0,_,this.state.variables,this.state.context,this,o))}catch(ee){Promise.reject(ee)}try{await((H=(W=this.options).onSettled)==null?void 0:H.call(W,void 0,_,a,this.state.context,o))}catch(ee){Promise.reject(ee)}throw ot(this,Yt,On).call(this,{type:"error",error:_}),_}finally{q(this,ct).runNext(this)}}},Vs=new WeakMap,Jt=new WeakMap,ct=new WeakMap,ur=new WeakMap,Yt=new WeakSet,On=function(a){const l=o=>{switch(a.type){case"failed":return{...o,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...o,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:a.error,failureCount:o.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=l(this.state),ft.batch(()=>{q(this,Jt).forEach(o=>{o.onMutationUpdate(a)}),q(this,ct).notify({mutation:this,type:"updated",action:a})})},Xm);function Sg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Bt,Qs,Zm,kg=(Zm=class extends jl{constructor(a={}){super();Pe(this,dn);Pe(this,Bt);Pe(this,Qs);this.config=a,Se(this,dn,new Set),Se(this,Bt,new Map),Se(this,Qs,0)}build(a,l,o){const d=new Ng({client:a,mutationCache:this,mutationId:++cl(this,Qs)._,options:a.defaultMutationOptions(l),state:o});return this.add(d),d}add(a){q(this,dn).add(a);const l=ul(a);if(typeof l=="string"){const o=q(this,Bt).get(l);o?o.push(a):q(this,Bt).set(l,[a])}this.notify({type:"added",mutation:a})}remove(a){if(q(this,dn).delete(a)){const l=ul(a);if(typeof l=="string"){const o=q(this,Bt).get(l);if(o)if(o.length>1){const d=o.indexOf(a);d!==-1&&o.splice(d,1)}else o[0]===a&&q(this,Bt).delete(l)}}this.notify({type:"removed",mutation:a})}canRun(a){const l=ul(a);if(typeof l=="string"){const o=q(this,Bt).get(l),d=o==null?void 0:o.find(f=>f.state.status==="pending");return!d||d===a}else return!0}runNext(a){var o;const l=ul(a);if(typeof l=="string"){const d=(o=q(this,Bt).get(l))==null?void 0:o.find(f=>f!==a&&f.state.isPaused);return(d==null?void 0:d.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ft.batch(()=>{q(this,dn).forEach(a=>{this.notify({type:"removed",mutation:a})}),q(this,dn).clear(),q(this,Bt).clear()})}getAll(){return Array.from(q(this,dn))}find(a){const l={exact:!0,...a};return this.getAll().find(o=>om(l,o))}findAll(a={}){return this.getAll().filter(l=>om(a,l))}notify(a){ft.batch(()=>{this.listeners.forEach(l=>{l(a)})})}resumePausedMutations(){const a=this.getAll().filter(l=>l.state.isPaused);return ft.batch(()=>Promise.all(a.map(l=>l.continue().catch(Ut))))}},dn=new WeakMap,Bt=new WeakMap,Qs=new WeakMap,Zm);function ul(r){var a;return(a=r.options.scope)==null?void 0:a.id}var Xt,ef,Cg=(ef=class extends jl{constructor(a={}){super();Pe(this,Xt);this.config=a,Se(this,Xt,new Map)}build(a,l,o){const d=l.queryKey,f=l.queryHash??Vo(d,l);let m=this.get(f);return m||(m=new bg({client:a,queryKey:d,queryHash:f,options:a.defaultQueryOptions(l),state:o,defaultOptions:a.getQueryDefaults(d)}),this.add(m)),m}add(a){q(this,Xt).has(a.queryHash)||(q(this,Xt).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const l=q(this,Xt).get(a.queryHash);l&&(a.destroy(),l===a&&q(this,Xt).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){ft.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return q(this,Xt).get(a)}getAll(){return[...q(this,Xt).values()]}find(a){const l={exact:!0,...a};return this.getAll().find(o=>im(l,o))}findAll(a={}){const l=this.getAll();return Object.keys(a).length>0?l.filter(o=>im(a,o)):l}notify(a){ft.batch(()=>{this.listeners.forEach(l=>{l(a)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Xt=new WeakMap,ef),He,Fn,Mn,Wr,qr,zn,Kr,Vr,tf,Eg=(tf=class{constructor(r={}){Pe(this,He);Pe(this,Fn);Pe(this,Mn);Pe(this,Wr);Pe(this,qr);Pe(this,zn);Pe(this,Kr);Pe(this,Vr);Se(this,He,r.queryCache||new Cg),Se(this,Fn,r.mutationCache||new kg),Se(this,Mn,r.defaultOptions||{}),Se(this,Wr,new Map),Se(this,qr,new Map),Se(this,zn,0)}mount(){cl(this,zn)._++,q(this,zn)===1&&(Se(this,Kr,lf.subscribe(async r=>{r&&(await this.resumePausedMutations(),q(this,He).onFocus())})),Se(this,Vr,yl.subscribe(async r=>{r&&(await this.resumePausedMutations(),q(this,He).onOnline())})))}unmount(){var r,a;cl(this,zn)._--,q(this,zn)===0&&((r=q(this,Kr))==null||r.call(this),Se(this,Kr,void 0),(a=q(this,Vr))==null||a.call(this),Se(this,Vr,void 0))}isFetching(r){return q(this,He).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return q(this,Fn).findAll({...r,status:"pending"}).length}getQueryData(r){var l;const a=this.defaultQueryOptions({queryKey:r});return(l=q(this,He).get(a.queryHash))==null?void 0:l.state.data}ensureQueryData(r){const a=this.defaultQueryOptions(r),l=q(this,He).build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(r):(r.revalidateIfStale&&l.isStaleByTime(Do(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(r){return q(this,He).findAll(r).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(r,a,l){const o=this.defaultQueryOptions({queryKey:r}),d=q(this,He).get(o.queryHash),f=d==null?void 0:d.state.data,m=sg(a,f);if(m!==void 0)return q(this,He).build(this,o).setData(m,{...l,manual:!0})}setQueriesData(r,a,l){return ft.batch(()=>q(this,He).findAll(r).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(r){var l;const a=this.defaultQueryOptions({queryKey:r});return(l=q(this,He).get(a.queryHash))==null?void 0:l.state}removeQueries(r){const a=q(this,He);ft.batch(()=>{a.findAll(r).forEach(l=>{a.remove(l)})})}resetQueries(r,a){const l=q(this,He);return ft.batch(()=>(l.findAll(r).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...r},a)))}cancelQueries(r,a={}){const l={revert:!0,...a},o=ft.batch(()=>q(this,He).findAll(r).map(d=>d.cancel(l)));return Promise.all(o).then(Ut).catch(Ut)}invalidateQueries(r,a={}){return ft.batch(()=>(q(this,He).findAll(r).forEach(l=>{l.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},a)))}refetchQueries(r,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=ft.batch(()=>q(this,He).findAll(r).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let f=d.fetch(void 0,l);return l.throwOnError||(f=f.catch(Ut)),d.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(o).then(Ut)}fetchQuery(r){const a=this.defaultQueryOptions(r);a.retry===void 0&&(a.retry=!1);const l=q(this,He).build(this,a);return l.isStaleByTime(Do(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Ut).catch(Ut)}fetchInfiniteQuery(r){return r.behavior=fm(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Ut).catch(Ut)}ensureInfiniteQueryData(r){return r.behavior=fm(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return yl.isOnline()?q(this,Fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,He)}getMutationCache(){return q(this,Fn)}getDefaultOptions(){return q(this,Mn)}setDefaultOptions(r){Se(this,Mn,r)}setQueryDefaults(r,a){q(this,Wr).set(Bs(r),{queryKey:r,defaultOptions:a})}getQueryDefaults(r){const a=[...q(this,Wr).values()],l={};return a.forEach(o=>{Hs(r,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(r,a){q(this,qr).set(Bs(r),{mutationKey:r,defaultOptions:a})}getMutationDefaults(r){const a=[...q(this,qr).values()],l={};return a.forEach(o=>{Hs(r,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(r){if(r._defaulted)return r;const a={...q(this,Mn).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return a.queryHash||(a.queryHash=Vo(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Qo&&(a.enabled=!1),a}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...q(this,Mn).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){q(this,He).clear(),q(this,Fn).clear()}},He=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Wr=new WeakMap,qr=new WeakMap,zn=new WeakMap,Kr=new WeakMap,Vr=new WeakMap,tf),Pg=x.createContext(void 0),Tg=({client:r,children:a})=>(x.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),t.jsx(Pg.Provider,{value:r,children:a}));rf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(r[o]=l[o])}return r},Ws.apply(this,arguments)}var Un;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Un||(Un={}));const pm="popstate";function Ag(r){r===void 0&&(r={});function a(o,d){let{pathname:f,search:m,hash:h}=o.location;return Fo("",{pathname:f,search:m,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:vl(d)}return _g(a,l,null,r)}function Qe(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Go(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Rg(){return Math.random().toString(36).substr(2,8)}function gm(r,a){return{usr:r.state,key:r.key,idx:a}}function Fo(r,a,l,o){return l===void 0&&(l=null),Ws({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof a=="string"?Gr(a):a,{state:l,key:a&&a.key||o||Rg()})}function vl(r){let{pathname:a="/",search:l="",hash:o=""}=r;return l&&l!=="?"&&(a+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function Gr(r){let a={};if(r){let l=r.indexOf("#");l>=0&&(a.hash=r.substr(l),r=r.substr(0,l));let o=r.indexOf("?");o>=0&&(a.search=r.substr(o),r=r.substr(0,o)),r&&(a.pathname=r)}return a}function _g(r,a,l,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:f=!1}=o,m=d.history,h=Un.Pop,p=null,y=v();y==null&&(y=0,m.replaceState(Ws({},m.state,{idx:y}),""));function v(){return(m.state||{idx:null}).idx}function j(){h=Un.Pop;let b=v(),I=b==null?null:b-y;y=b,p&&p({action:h,location:S.location,delta:I})}function N(b,I){h=Un.Push;let K=Fo(S.location,b,I);y=v()+1;let U=gm(K,y),R=S.createHref(K);try{m.pushState(U,"",R)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;d.location.assign(R)}f&&p&&p({action:h,location:S.location,delta:1})}function C(b,I){h=Un.Replace;let K=Fo(S.location,b,I);y=v();let U=gm(K,y),R=S.createHref(K);m.replaceState(U,"",R),f&&p&&p({action:h,location:S.location,delta:0})}function w(b){let I=d.location.origin!=="null"?d.location.origin:d.location.href,K=typeof b=="string"?b:vl(b);return K=K.replace(/ $/,"%20"),Qe(I,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,I)}let S={get action(){return h},get location(){return r(d,m)},listen(b){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(pm,j),p=b,()=>{d.removeEventListener(pm,j),p=null}},createHref(b){return a(d,b)},createURL:w,encodeLocation(b){let I=w(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:N,replace:C,go(b){return m.go(b)}};return S}var xm;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(xm||(xm={}));function Og(r,a,l){return l===void 0&&(l="/"),Dg(r,a,l)}function Dg(r,a,l,o){let d=typeof a=="string"?Gr(a):a,f=Jo(d.pathname||"/",l);if(f==null)return null;let m=uf(r);Ig(m);let h=null;for(let p=0;h==null&&p<m.length;++p){let y=Vg(f);h=Wg(m[p],y)}return h}function uf(r,a,l,o){a===void 0&&(a=[]),l===void 0&&(l=[]),o===void 0&&(o="");let d=(f,m,h)=>{let p={relativePath:h===void 0?f.path||"":h,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};p.relativePath.startsWith("/")&&(Qe(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let y=$n([o,p.relativePath]),v=l.concat(p);f.children&&f.children.length>0&&(Qe(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),uf(f.children,a,v,y)),!(f.path==null&&!f.index)&&a.push({path:y,score:Bg(y,f.index),routesMeta:v})};return r.forEach((f,m)=>{var h;if(f.path===""||!((h=f.path)!=null&&h.includes("?")))d(f,m);else for(let p of mf(f.path))d(f,m,p)}),a}function mf(r){let a=r.split("/");if(a.length===0)return[];let[l,...o]=a,d=l.endsWith("?"),f=l.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let m=mf(o.join("/")),h=[];return h.push(...m.map(p=>p===""?f:[f,p].join("/"))),d&&h.push(...m),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ig(r){r.sort((a,l)=>a.score!==l.score?l.score-a.score:Hg(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}const Lg=/^:[\w-]+$/,Fg=3,Mg=2,zg=1,Ug=10,$g=-2,ym=r=>r==="*";function Bg(r,a){let l=r.split("/"),o=l.length;return l.some(ym)&&(o+=$g),a&&(o+=Mg),l.filter(d=>!ym(d)).reduce((d,f)=>d+(Lg.test(f)?Fg:f===""?zg:Ug),o)}function Hg(r,a){return r.length===a.length&&r.slice(0,-1).every((o,d)=>o===a[d])?r[r.length-1]-a[a.length-1]:0}function Wg(r,a,l){let{routesMeta:o}=r,d={},f="/",m=[];for(let h=0;h<o.length;++h){let p=o[h],y=h===o.length-1,v=f==="/"?a:a.slice(f.length)||"/",j=qg({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),N=p.route;if(!j)return null;Object.assign(d,j.params),m.push({params:d,pathname:$n([f,j.pathname]),pathnameBase:Xg($n([f,j.pathnameBase])),route:N}),j.pathnameBase!=="/"&&(f=$n([f,j.pathnameBase]))}return m}function qg(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,o]=Kg(r.path,r.caseSensitive,r.end),d=a.match(l);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((y,v,j)=>{let{paramName:N,isOptional:C}=v;if(N==="*"){let S=h[j]||"";m=f.slice(0,f.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[j];return C&&!w?y[N]=void 0:y[N]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:m,pattern:r}}function Kg(r,a,l){a===void 0&&(a=!1),l===void 0&&(l=!0),Go(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Vg(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Go(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),r}}function Jo(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=r.charAt(l);return o&&o!=="/"?null:r.slice(l)||"/"}const Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gg=r=>Qg.test(r);function Jg(r,a){a===void 0&&(a="/");let{pathname:l,search:o="",hash:d=""}=typeof r=="string"?Gr(r):r,f;if(l)if(Gg(l))f=l;else{if(l.includes("//")){let m=l;l=l.replace(/\/\/+/g,"/"),Go(!1,"Pathnames cannot have embedded double slashes - normalizing "+(m+" -> "+l))}l.startsWith("/")?f=vm(l.substring(1),"/"):f=vm(l,a)}else f=a;return{pathname:f,search:Zg(o),hash:ex(d)}}function vm(r,a){let l=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Po(r,a,l,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yg(r){return r.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Yo(r,a){let l=Yg(r);return a?l.map((o,d)=>d===l.length-1?o.pathname:o.pathnameBase):l.map(o=>o.pathnameBase)}function Xo(r,a,l,o){o===void 0&&(o=!1);let d;typeof r=="string"?d=Gr(r):(d=Ws({},r),Qe(!d.pathname||!d.pathname.includes("?"),Po("?","pathname","search",d)),Qe(!d.pathname||!d.pathname.includes("#"),Po("#","pathname","hash",d)),Qe(!d.search||!d.search.includes("#"),Po("#","search","hash",d)));let f=r===""||d.pathname==="",m=f?"/":d.pathname,h;if(m==null)h=l;else{let j=a.length-1;if(!o&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),j-=1;d.pathname=N.join("/")}h=j>=0?a[j]:"/"}let p=Jg(d,h),y=m&&m!=="/"&&m.endsWith("/"),v=(f||m===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const $n=r=>r.join("/").replace(/\/\/+/g,"/"),Xg=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zg=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ex=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const ff=["post","put","patch","delete"];new Set(ff);const nx=["get",...ff];new Set(nx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(r[o]=l[o])}return r},qs.apply(this,arguments)}const Zo=x.createContext(null),rx=x.createContext(null),Bn=x.createContext(null),Nl=x.createContext(null),un=x.createContext({outlet:null,matches:[],isDataRoute:!1}),hf=x.createContext(null);function sx(r,a){let{relative:l}=a===void 0?{}:a;Jr()||Qe(!1);let{basename:o,navigator:d}=x.useContext(Bn),{hash:f,pathname:m,search:h}=gf(r,{relative:l}),p=m;return o!=="/"&&(p=m==="/"?o:$n([o,m])),d.createHref({pathname:p,search:h,hash:f})}function Jr(){return x.useContext(Nl)!=null}function hr(){return Jr()||Qe(!1),x.useContext(Nl).location}function pf(r){x.useContext(Bn).static||x.useLayoutEffect(r)}function Yr(){let{isDataRoute:r}=x.useContext(un);return r?xx():ax()}function ax(){Jr()||Qe(!1);let r=x.useContext(Zo),{basename:a,future:l,navigator:o}=x.useContext(Bn),{matches:d}=x.useContext(un),{pathname:f}=hr(),m=JSON.stringify(Yo(d,l.v7_relativeSplatPath)),h=x.useRef(!1);return pf(()=>{h.current=!0}),x.useCallback(function(y,v){if(v===void 0&&(v={}),!h.current)return;if(typeof y=="number"){o.go(y);return}let j=Xo(y,JSON.parse(m),f,v.relative==="path");r==null&&a!=="/"&&(j.pathname=j.pathname==="/"?a:$n([a,j.pathname])),(v.replace?o.replace:o.push)(j,v.state,v)},[a,o,m,f,r])}function ec(){let{matches:r}=x.useContext(un),a=r[r.length-1];return a?a.params:{}}function gf(r,a){let{relative:l}=a===void 0?{}:a,{future:o}=x.useContext(Bn),{matches:d}=x.useContext(un),{pathname:f}=hr(),m=JSON.stringify(Yo(d,o.v7_relativeSplatPath));return x.useMemo(()=>Xo(r,JSON.parse(m),f,l==="path"),[r,m,f,l])}function lx(r,a){return ix(r,a)}function ix(r,a,l,o){Jr()||Qe(!1);let{navigator:d}=x.useContext(Bn),{matches:f}=x.useContext(un),m=f[f.length-1],h=m?m.params:{};m&&m.pathname;let p=m?m.pathnameBase:"/";m&&m.route;let y=hr(),v;if(a){var j;let b=typeof a=="string"?Gr(a):a;p==="/"||(j=b.pathname)!=null&&j.startsWith(p)||Qe(!1),v=b}else v=y;let N=v.pathname||"/",C=N;if(p!=="/"){let b=p.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=Og(r,{pathname:C}),S=mx(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:$n([p,d.encodeLocation?d.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:$n([p,d.encodeLocation?d.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),f,l,o);return a&&S?x.createElement(Nl.Provider,{value:{location:qs({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Un.Pop}},S):S}function ox(){let r=gx(),a=tx(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},a),l?x.createElement("pre",{style:d},l):null,null)}const cx=x.createElement(ox,null);class dx extends x.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,l){return l.location!==a.location||l.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:l.error,location:l.location,revalidation:a.revalidation||l.revalidation}}componentDidCatch(a,l){console.error("React Router caught the following error during render",a,l)}render(){return this.state.error!==void 0?x.createElement(un.Provider,{value:this.props.routeContext},x.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ux(r){let{routeContext:a,match:l,children:o}=r,d=x.useContext(Zo);return d&&d.static&&d.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=l.route.id),x.createElement(un.Provider,{value:a},o)}function mx(r,a,l,o){var d;if(a===void 0&&(a=[]),l===void 0&&(l=null),o===void 0&&(o=null),r==null){var f;if(!l)return null;if(l.errors)r=l.matches;else if((f=o)!=null&&f.v7_partialHydration&&a.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let m=r,h=(d=l)==null?void 0:d.errors;if(h!=null){let v=m.findIndex(j=>j.route.id&&(h==null?void 0:h[j.route.id])!==void 0);v>=0||Qe(!1),m=m.slice(0,Math.min(m.length,v+1))}let p=!1,y=-1;if(l&&o&&o.v7_partialHydration)for(let v=0;v<m.length;v++){let j=m[v];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(y=v),j.route.id){let{loaderData:N,errors:C}=l,w=j.route.loader&&N[j.route.id]===void 0&&(!C||C[j.route.id]===void 0);if(j.route.lazy||w){p=!0,y>=0?m=m.slice(0,y+1):m=[m[0]];break}}}return m.reduceRight((v,j,N)=>{let C,w=!1,S=null,b=null;l&&(C=h&&j.route.id?h[j.route.id]:void 0,S=j.route.errorElement||cx,p&&(y<0&&N===0?(yx("route-fallback"),w=!0,b=null):y===N&&(w=!0,b=j.route.hydrateFallbackElement||null)));let I=a.concat(m.slice(0,N+1)),K=()=>{let U;return C?U=S:w?U=b:j.route.Component?U=x.createElement(j.route.Component,null):j.route.element?U=j.route.element:U=v,x.createElement(ux,{match:j,routeContext:{outlet:v,matches:I,isDataRoute:l!=null},children:U})};return l&&(j.route.ErrorBoundary||j.route.errorElement||N===0)?x.createElement(dx,{location:l.location,revalidation:l.revalidation,component:S,error:C,children:K(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):K()},null)}var xf=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(xf||{}),yf=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(yf||{});function fx(r){let a=x.useContext(Zo);return a||Qe(!1),a}function hx(r){let a=x.useContext(rx);return a||Qe(!1),a}function px(r){let a=x.useContext(un);return a||Qe(!1),a}function vf(r){let a=px(),l=a.matches[a.matches.length-1];return l.route.id||Qe(!1),l.route.id}function gx(){var r;let a=x.useContext(hf),l=hx(),o=vf();return a!==void 0?a:(r=l.errors)==null?void 0:r[o]}function xx(){let{router:r}=fx(xf.UseNavigateStable),a=vf(yf.UseNavigateStable),l=x.useRef(!1);return pf(()=>{l.current=!0}),x.useCallback(function(d,f){f===void 0&&(f={}),l.current&&(typeof d=="number"?r.navigate(d):r.navigate(d,qs({fromRouteId:a},f)))},[r,a])}const bm={};function yx(r,a,l){bm[r]||(bm[r]=!0)}function vx(r,a){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function bf(r){let{to:a,replace:l,state:o,relative:d}=r;Jr()||Qe(!1);let{future:f,static:m}=x.useContext(Bn),{matches:h}=x.useContext(un),{pathname:p}=hr(),y=Yr(),v=Xo(a,Yo(h,f.v7_relativeSplatPath),p,d==="path"),j=JSON.stringify(v);return x.useEffect(()=>y(JSON.parse(j),{replace:l,state:o,relative:d}),[y,j,d,l,o]),null}function Le(r){Qe(!1)}function bx(r){let{basename:a="/",children:l=null,location:o,navigationType:d=Un.Pop,navigator:f,static:m=!1,future:h}=r;Jr()&&Qe(!1);let p=a.replace(/^\/*/,"/"),y=x.useMemo(()=>({basename:p,navigator:f,static:m,future:qs({v7_relativeSplatPath:!1},h)}),[p,h,f,m]);typeof o=="string"&&(o=Gr(o));let{pathname:v="/",search:j="",hash:N="",state:C=null,key:w="default"}=o,S=x.useMemo(()=>{let b=Jo(v,p);return b==null?null:{location:{pathname:b,search:j,hash:N,state:C,key:w},navigationType:d}},[p,v,j,N,C,w,d]);return S==null?null:x.createElement(Bn.Provider,{value:y},x.createElement(Nl.Provider,{children:l,value:S}))}function jx(r){let{children:a,location:l}=r;return lx(Mo(a),l)}new Promise(()=>{});function Mo(r,a){a===void 0&&(a=[]);let l=[];return x.Children.forEach(r,(o,d)=>{if(!x.isValidElement(o))return;let f=[...a,d];if(o.type===x.Fragment){l.push.apply(l,Mo(o.props.children,f));return}o.type!==Le&&Qe(!1),!o.props.index||!o.props.children||Qe(!1);let m={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Mo(o.props.children,f)),l.push(m)}),l}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(r[o]=l[o])}return r},zo.apply(this,arguments)}function wx(r,a){if(r==null)return{};var l={},o=Object.keys(r),d,f;for(f=0;f<o.length;f++)d=o[f],!(a.indexOf(d)>=0)&&(l[d]=r[d]);return l}function Nx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sx(r,a){return r.button===0&&(!a||a==="_self")&&!Nx(r)}function Uo(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((a,l)=>{let o=r[l];return a.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function kx(r,a){let l=Uo(r);return a&&a.forEach((o,d)=>{l.has(d)||a.getAll(d).forEach(f=>{l.append(d,f)})}),l}const Cx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ex="6";try{window.__reactRouterVersion=Ex}catch{}const Px="startTransition",jm=Qp[Px];function Tx(r){let{basename:a,children:l,future:o,window:d}=r,f=x.useRef();f.current==null&&(f.current=Ag({window:d,v5Compat:!0}));let m=f.current,[h,p]=x.useState({action:m.action,location:m.location}),{v7_startTransition:y}=o||{},v=x.useCallback(j=>{y&&jm?jm(()=>p(j)):p(j)},[p,y]);return x.useLayoutEffect(()=>m.listen(v),[m,v]),x.useEffect(()=>vx(o),[o]),x.createElement(bx,{basename:a,children:l,location:h.location,navigationType:h.action,navigator:m,future:o})}const Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=x.forwardRef(function(a,l){let{onClick:o,relative:d,reloadDocument:f,replace:m,state:h,target:p,to:y,preventScrollReset:v,viewTransition:j}=a,N=wx(a,Cx),{basename:C}=x.useContext(Bn),w,S=!1;if(typeof y=="string"&&Rx.test(y)&&(w=y,Ax))try{let U=new URL(window.location.href),R=y.startsWith("//")?new URL(U.protocol+y):new URL(y),T=Jo(R.pathname,C);R.origin===U.origin&&T!=null?y=T+R.search+R.hash:S=!0}catch{}let b=sx(y,{relative:d}),I=_x(y,{replace:m,state:h,target:p,preventScrollReset:v,relative:d,viewTransition:j});function K(U){o&&o(U),U.defaultPrevented||I(U)}return x.createElement("a",zo({},N,{href:w||b,onClick:S||f?o:K,ref:l,target:p}))});var wm;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(wm||(wm={}));var Nm;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Nm||(Nm={}));function _x(r,a){let{target:l,replace:o,state:d,preventScrollReset:f,relative:m,viewTransition:h}=a===void 0?{}:a,p=Yr(),y=hr(),v=gf(r,{relative:m});return x.useCallback(j=>{if(Sx(j,l)){j.preventDefault();let N=o!==void 0?o:vl(y)===vl(v);p(r,{replace:N,state:d,preventScrollReset:f,relative:m,viewTransition:h})}},[y,p,v,o,d,l,r,f,m,h])}function jf(r){let a=x.useRef(Uo(r)),l=x.useRef(!1),o=hr(),d=x.useMemo(()=>kx(o.search,l.current?null:a.current),[o.search]),f=Yr(),m=x.useCallback((h,p)=>{const y=Uo(typeof h=="function"?h(d):h);l.current=!0,f("?"+y,p)},[f,d]);return[d,m]}function Ox({onClick:r,loading:a=!1}){return t.jsxs("button",{onClick:r,disabled:a,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),t.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),t.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),t.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),t.jsx("span",{className:"text-gray-700 font-medium",children:a?"Signing in...":"Sign in with Google"})]})}function Dx(){const r=()=>{window.location.href="/auth/google"};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:t.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),t.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t.jsx(Ox,{onClick:r}),t.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const Sm=r=>{let a;const l=new Set,o=(y,v)=>{const j=typeof y=="function"?y(a):y;if(!Object.is(j,a)){const N=a;a=v??(typeof j!="object"||j===null)?j:Object.assign({},a,j),l.forEach(C=>C(a,N))}},d=()=>a,h={setState:o,getState:d,getInitialState:()=>p,subscribe:y=>(l.add(y),()=>l.delete(y))},p=a=r(o,d,h);return h},Ix=(r=>r?Sm(r):Sm),Lx=r=>r;function Fx(r,a=Lx){const l=sr.useSyncExternalStore(r.subscribe,sr.useCallback(()=>a(r.getState()),[r,a]),sr.useCallback(()=>a(r.getInitialState()),[r,a]));return sr.useDebugValue(l),l}const km=r=>{const a=Ix(r),l=o=>Fx(a,o);return Object.assign(l,a),l},Mx=(r=>r?km(r):km);function wf(r,a){return function(){return r.apply(a,arguments)}}const{toString:zx}=Object.prototype,{getPrototypeOf:tc}=Object,{iterator:Sl,toStringTag:Nf}=Symbol,kl=(r=>a=>{const l=zx.call(a);return r[l]||(r[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=r=>(r=r.toLowerCase(),a=>kl(a)===r),Cl=r=>a=>typeof a===r,{isArray:Xr}=Array,Qr=Cl("undefined");function Gs(r){return r!==null&&!Qr(r)&&r.constructor!==null&&!Qr(r.constructor)&&bt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Sf=Ht("ArrayBuffer");function Ux(r){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&Sf(r.buffer),a}const $x=Cl("string"),bt=Cl("function"),kf=Cl("number"),Js=r=>r!==null&&typeof r=="object",Bx=r=>r===!0||r===!1,pl=r=>{if(kl(r)!=="object")return!1;const a=tc(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Nf in r)&&!(Sl in r)},Hx=r=>{if(!Js(r)||Gs(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Wx=Ht("Date"),qx=Ht("File"),Kx=Ht("Blob"),Vx=Ht("FileList"),Qx=r=>Js(r)&&bt(r.pipe),Gx=r=>{let a;return r&&(typeof FormData=="function"&&r instanceof FormData||bt(r.append)&&((a=kl(r))==="formdata"||a==="object"&&bt(r.toString)&&r.toString()==="[object FormData]"))},Jx=Ht("URLSearchParams"),[Yx,Xx,Zx,e0]=["ReadableStream","Request","Response","Headers"].map(Ht),t0=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(r,a,{allOwnKeys:l=!1}={}){if(r===null||typeof r>"u")return;let o,d;if(typeof r!="object"&&(r=[r]),Xr(r))for(o=0,d=r.length;o<d;o++)a.call(null,r[o],o,r);else{if(Gs(r))return;const f=l?Object.getOwnPropertyNames(r):Object.keys(r),m=f.length;let h;for(o=0;o<m;o++)h=f[o],a.call(null,r[h],h,r)}}function Cf(r,a){if(Gs(r))return null;a=a.toLowerCase();const l=Object.keys(r);let o=l.length,d;for(;o-- >0;)if(d=l[o],a===d.toLowerCase())return d;return null}const ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ef=r=>!Qr(r)&&r!==ar;function $o(){const{caseless:r,skipUndefined:a}=Ef(this)&&this||{},l={},o=(d,f)=>{const m=r&&Cf(l,f)||f;pl(l[m])&&pl(d)?l[m]=$o(l[m],d):pl(d)?l[m]=$o({},d):Xr(d)?l[m]=d.slice():(!a||!Qr(d))&&(l[m]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&Ys(arguments[d],o);return l}const n0=(r,a,l,{allOwnKeys:o}={})=>(Ys(a,(d,f)=>{l&&bt(d)?Object.defineProperty(r,f,{value:wf(d,l),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,f,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),r),r0=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),s0=(r,a,l,o)=>{r.prototype=Object.create(a.prototype,o),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:a.prototype}),l&&Object.assign(r.prototype,l)},a0=(r,a,l,o)=>{let d,f,m;const h={};if(a=a||{},r==null)return a;do{for(d=Object.getOwnPropertyNames(r),f=d.length;f-- >0;)m=d[f],(!o||o(m,r,a))&&!h[m]&&(a[m]=r[m],h[m]=!0);r=l!==!1&&tc(r)}while(r&&(!l||l(r,a))&&r!==Object.prototype);return a},l0=(r,a,l)=>{r=String(r),(l===void 0||l>r.length)&&(l=r.length),l-=a.length;const o=r.indexOf(a,l);return o!==-1&&o===l},i0=r=>{if(!r)return null;if(Xr(r))return r;let a=r.length;if(!kf(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=r[a];return l},o0=(r=>a=>r&&a instanceof r)(typeof Uint8Array<"u"&&tc(Uint8Array)),c0=(r,a)=>{const o=(r&&r[Sl]).call(r);let d;for(;(d=o.next())&&!d.done;){const f=d.value;a.call(r,f[0],f[1])}},d0=(r,a)=>{let l;const o=[];for(;(l=r.exec(a))!==null;)o.push(l);return o},u0=Ht("HTMLFormElement"),m0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),Cm=(({hasOwnProperty:r})=>(a,l)=>r.call(a,l))(Object.prototype),f0=Ht("RegExp"),Pf=(r,a)=>{const l=Object.getOwnPropertyDescriptors(r),o={};Ys(l,(d,f)=>{let m;(m=a(d,f,r))!==!1&&(o[f]=m||d)}),Object.defineProperties(r,o)},h0=r=>{Pf(r,(a,l)=>{if(bt(r)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=r[l];if(bt(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},p0=(r,a)=>{const l={},o=d=>{d.forEach(f=>{l[f]=!0})};return Xr(r)?o(r):o(String(r).split(a)),l},g0=()=>{},x0=(r,a)=>r!=null&&Number.isFinite(r=+r)?r:a;function y0(r){return!!(r&&bt(r.append)&&r[Nf]==="FormData"&&r[Sl])}const v0=r=>{const a=new Array(10),l=(o,d)=>{if(Js(o)){if(a.indexOf(o)>=0)return;if(Gs(o))return o;if(!("toJSON"in o)){a[d]=o;const f=Xr(o)?[]:{};return Ys(o,(m,h)=>{const p=l(m,d+1);!Qr(p)&&(f[h]=p)}),a[d]=void 0,f}}return o};return l(r,0)},b0=Ht("AsyncFunction"),j0=r=>r&&(Js(r)||bt(r))&&bt(r.then)&&bt(r.catch),Tf=((r,a)=>r?setImmediate:a?((l,o)=>(ar.addEventListener("message",({source:d,data:f})=>{d===ar&&f===l&&o.length&&o.shift()()},!1),d=>{o.push(d),ar.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",bt(ar.postMessage)),w0=typeof queueMicrotask<"u"?queueMicrotask.bind(ar):typeof process<"u"&&process.nextTick||Tf,N0=r=>r!=null&&bt(r[Sl]),z={isArray:Xr,isArrayBuffer:Sf,isBuffer:Gs,isFormData:Gx,isArrayBufferView:Ux,isString:$x,isNumber:kf,isBoolean:Bx,isObject:Js,isPlainObject:pl,isEmptyObject:Hx,isReadableStream:Yx,isRequest:Xx,isResponse:Zx,isHeaders:e0,isUndefined:Qr,isDate:Wx,isFile:qx,isBlob:Kx,isRegExp:f0,isFunction:bt,isStream:Qx,isURLSearchParams:Jx,isTypedArray:o0,isFileList:Vx,forEach:Ys,merge:$o,extend:n0,trim:t0,stripBOM:r0,inherits:s0,toFlatObject:a0,kindOf:kl,kindOfTest:Ht,endsWith:l0,toArray:i0,forEachEntry:c0,matchAll:d0,isHTMLForm:u0,hasOwnProperty:Cm,hasOwnProp:Cm,reduceDescriptors:Pf,freezeMethods:h0,toObjectSet:p0,toCamelCase:m0,noop:g0,toFiniteNumber:x0,findKey:Cf,global:ar,isContextDefined:Ef,isSpecCompliantForm:y0,toJSONObject:v0,isAsyncFn:b0,isThenable:j0,setImmediate:Tf,asap:w0,isIterable:N0};let je=class Af extends Error{static from(a,l,o,d,f,m){const h=new Af(a.message,l||a.code,o,d,f);return h.cause=a,h.name=a.name,m&&Object.assign(h,m),h}constructor(a,l,o,d,f){super(a),this.name="AxiosError",this.isAxiosError=!0,l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),f&&(this.response=f,this.status=f.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}};je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";je.ERR_BAD_OPTION="ERR_BAD_OPTION";je.ECONNABORTED="ECONNABORTED";je.ETIMEDOUT="ETIMEDOUT";je.ERR_NETWORK="ERR_NETWORK";je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";je.ERR_DEPRECATED="ERR_DEPRECATED";je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";je.ERR_CANCELED="ERR_CANCELED";je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";je.ERR_INVALID_URL="ERR_INVALID_URL";const S0=null;function Bo(r){return z.isPlainObject(r)||z.isArray(r)}function Rf(r){return z.endsWith(r,"[]")?r.slice(0,-2):r}function Em(r,a,l){return r?r.concat(a).map(function(d,f){return d=Rf(d),!l&&f?"["+d+"]":d}).join(l?".":""):a}function k0(r){return z.isArray(r)&&!r.some(Bo)}const C0=z.toFlatObject(z,{},null,function(a){return/^is[A-Z]/.test(a)});function El(r,a,l){if(!z.isObject(r))throw new TypeError("target must be an object");a=a||new FormData,l=z.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!z.isUndefined(b[S])});const o=l.metaTokens,d=l.visitor||v,f=l.dots,m=l.indexes,p=(l.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(a);if(!z.isFunction(d))throw new TypeError("visitor must be a function");function y(w){if(w===null)return"";if(z.isDate(w))return w.toISOString();if(z.isBoolean(w))return w.toString();if(!p&&z.isBlob(w))throw new je("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(w)||z.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function v(w,S,b){let I=w;if(w&&!b&&typeof w=="object"){if(z.endsWith(S,"{}"))S=o?S:S.slice(0,-2),w=JSON.stringify(w);else if(z.isArray(w)&&k0(w)||(z.isFileList(w)||z.endsWith(S,"[]"))&&(I=z.toArray(w)))return S=Rf(S),I.forEach(function(U,R){!(z.isUndefined(U)||U===null)&&a.append(m===!0?Em([S],R,f):m===null?S:S+"[]",y(U))}),!1}return Bo(w)?!0:(a.append(Em(b,S,f),y(w)),!1)}const j=[],N=Object.assign(C0,{defaultVisitor:v,convertValue:y,isVisitable:Bo});function C(w,S){if(!z.isUndefined(w)){if(j.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));j.push(w),z.forEach(w,function(I,K){(!(z.isUndefined(I)||I===null)&&d.call(a,I,z.isString(K)?K.trim():K,S,N))===!0&&C(I,S?S.concat(K):[K])}),j.pop()}}if(!z.isObject(r))throw new TypeError("data must be an object");return C(r),a}function Pm(r){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function nc(r,a){this._pairs=[],r&&El(r,this,a)}const _f=nc.prototype;_f.append=function(a,l){this._pairs.push([a,l])};_f.toString=function(a){const l=a?function(o){return a.call(this,o,Pm)}:Pm;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function E0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Of(r,a,l){if(!a)return r;const o=l&&l.encode||E0,d=z.isFunction(l)?{serialize:l}:l,f=d&&d.serialize;let m;if(f?m=f(a,d):m=z.isURLSearchParams(a)?a.toString():new nc(a,d).toString(o),m){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+m}return r}class Tm{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){z.forEach(this.handlers,function(o){o!==null&&a(o)})}}const Df={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P0=typeof URLSearchParams<"u"?URLSearchParams:nc,T0=typeof FormData<"u"?FormData:null,A0=typeof Blob<"u"?Blob:null,R0={isBrowser:!0,classes:{URLSearchParams:P0,FormData:T0,Blob:A0},protocols:["http","https","file","blob","url","data"]},rc=typeof window<"u"&&typeof document<"u",Ho=typeof navigator=="object"&&navigator||void 0,_0=rc&&(!Ho||["ReactNative","NativeScript","NS"].indexOf(Ho.product)<0),O0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D0=rc&&window.location.href||"http://localhost",I0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rc,hasStandardBrowserEnv:_0,hasStandardBrowserWebWorkerEnv:O0,navigator:Ho,origin:D0},Symbol.toStringTag,{value:"Module"})),dt={...I0,...R0};function L0(r,a){return El(r,new dt.classes.URLSearchParams,{visitor:function(l,o,d,f){return dt.isNode&&z.isBuffer(l)?(this.append(o,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...a})}function F0(r){return z.matchAll(/\w+|\[(\w*)]/g,r).map(a=>a[0]==="[]"?"":a[1]||a[0])}function M0(r){const a={},l=Object.keys(r);let o;const d=l.length;let f;for(o=0;o<d;o++)f=l[o],a[f]=r[f];return a}function If(r){function a(l,o,d,f){let m=l[f++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),p=f>=l.length;return m=!m&&z.isArray(d)?d.length:m,p?(z.hasOwnProp(d,m)?d[m]=[d[m],o]:d[m]=o,!h):((!d[m]||!z.isObject(d[m]))&&(d[m]=[]),a(l,o,d[m],f)&&z.isArray(d[m])&&(d[m]=M0(d[m])),!h)}if(z.isFormData(r)&&z.isFunction(r.entries)){const l={};return z.forEachEntry(r,(o,d)=>{a(F0(o),d,l,0)}),l}return null}function z0(r,a,l){if(z.isString(r))try{return(a||JSON.parse)(r),z.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(r)}const Xs={transitional:Df,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,f=z.isObject(a);if(f&&z.isHTMLForm(a)&&(a=new FormData(a)),z.isFormData(a))return d?JSON.stringify(If(a)):a;if(z.isArrayBuffer(a)||z.isBuffer(a)||z.isStream(a)||z.isFile(a)||z.isBlob(a)||z.isReadableStream(a))return a;if(z.isArrayBufferView(a))return a.buffer;if(z.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return L0(a,this.formSerializer).toString();if((h=z.isFileList(a))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return El(h?{"files[]":a}:a,p&&new p,this.formSerializer)}}return f||d?(l.setContentType("application/json",!1),z0(a)):a}],transformResponse:[function(a){const l=this.transitional||Xs.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(z.isResponse(a)||z.isReadableStream(a))return a;if(a&&z.isString(a)&&(o&&!this.responseType||d)){const m=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?je.from(h,je.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],r=>{Xs.headers[r]={}});const U0=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$0=r=>{const a={};let l,o,d;return r&&r.split(`
`).forEach(function(m){d=m.indexOf(":"),l=m.substring(0,d).trim().toLowerCase(),o=m.substring(d+1).trim(),!(!l||a[l]&&U0[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},Am=Symbol("internals");function zs(r){return r&&String(r).trim().toLowerCase()}function gl(r){return r===!1||r==null?r:z.isArray(r)?r.map(gl):String(r)}function B0(r){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(r);)a[o[1]]=o[2];return a}const H0=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function To(r,a,l,o,d){if(z.isFunction(o))return o.call(this,a,l);if(d&&(a=l),!!z.isString(a)){if(z.isString(o))return a.indexOf(o)!==-1;if(z.isRegExp(o))return o.test(a)}}function W0(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function q0(r,a){const l=z.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+l,{value:function(d,f,m){return this[o].call(this,a,d,f,m)},configurable:!0})})}let jt=class{constructor(a){a&&this.set(a)}set(a,l,o){const d=this;function f(h,p,y){const v=zs(p);if(!v)throw new Error("header name must be a non-empty string");const j=z.findKey(d,v);(!j||d[j]===void 0||y===!0||y===void 0&&d[j]!==!1)&&(d[j||p]=gl(h))}const m=(h,p)=>z.forEach(h,(y,v)=>f(y,v,p));if(z.isPlainObject(a)||a instanceof this.constructor)m(a,l);else if(z.isString(a)&&(a=a.trim())&&!H0(a))m($0(a),l);else if(z.isObject(a)&&z.isIterable(a)){let h={},p,y;for(const v of a){if(!z.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[y=v[0]]=(p=h[y])?z.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}m(h,l)}else a!=null&&f(l,a,o);return this}get(a,l){if(a=zs(a),a){const o=z.findKey(this,a);if(o){const d=this[o];if(!l)return d;if(l===!0)return B0(d);if(z.isFunction(l))return l.call(this,d,o);if(z.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=zs(a),a){const o=z.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||To(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let d=!1;function f(m){if(m=zs(m),m){const h=z.findKey(o,m);h&&(!l||To(o,o[h],h,l))&&(delete o[h],d=!0)}}return z.isArray(a)?a.forEach(f):f(a),d}clear(a){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const f=l[o];(!a||To(this,this[f],f,a,!0))&&(delete this[f],d=!0)}return d}normalize(a){const l=this,o={};return z.forEach(this,(d,f)=>{const m=z.findKey(o,f);if(m){l[m]=gl(d),delete l[f];return}const h=a?W0(f):String(f).trim();h!==f&&delete l[f],l[h]=gl(d),o[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return z.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=a&&z.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[Am]=this[Am]={accessors:{}}).accessors,d=this.prototype;function f(m){const h=zs(m);o[h]||(q0(d,m),o[h]=!0)}return z.isArray(a)?a.forEach(f):f(a),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(jt.prototype,({value:r},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>r,set(o){this[l]=o}}});z.freezeMethods(jt);function Ao(r,a){const l=this||Xs,o=a||l,d=jt.from(o.headers);let f=o.data;return z.forEach(r,function(h){f=h.call(l,f,d.normalize(),a?a.status:void 0)}),d.normalize(),f}function Lf(r){return!!(r&&r.__CANCEL__)}let Zs=class extends je{constructor(a,l,o){super(a??"canceled",je.ERR_CANCELED,l,o),this.name="CanceledError",this.__CANCEL__=!0}};function Ff(r,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?r(l):a(new je("Request failed with status code "+l.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function K0(r){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""}function V0(r,a){r=r||10;const l=new Array(r),o=new Array(r);let d=0,f=0,m;return a=a!==void 0?a:1e3,function(p){const y=Date.now(),v=o[f];m||(m=y),l[d]=p,o[d]=y;let j=f,N=0;for(;j!==d;)N+=l[j++],j=j%r;if(d=(d+1)%r,d===f&&(f=(f+1)%r),y-m<a)return;const C=v&&y-v;return C?Math.round(N*1e3/C):void 0}}function Q0(r,a){let l=0,o=1e3/a,d,f;const m=(y,v=Date.now())=>{l=v,d=null,f&&(clearTimeout(f),f=null),r(...y)};return[(...y)=>{const v=Date.now(),j=v-l;j>=o?m(y,v):(d=y,f||(f=setTimeout(()=>{f=null,m(d)},o-j)))},()=>d&&m(d)]}const bl=(r,a,l=3)=>{let o=0;const d=V0(50,250);return Q0(f=>{const m=f.loaded,h=f.lengthComputable?f.total:void 0,p=m-o,y=d(p),v=m<=h;o=m;const j={loaded:m,total:h,progress:h?m/h:void 0,bytes:p,rate:y||void 0,estimated:y&&h&&v?(h-m)/y:void 0,event:f,lengthComputable:h!=null,[a?"download":"upload"]:!0};r(j)},l)},Rm=(r,a)=>{const l=r!=null;return[o=>a[0]({lengthComputable:l,total:r,loaded:o}),a[1]]},_m=r=>(...a)=>z.asap(()=>r(...a)),G0=dt.hasStandardBrowserEnv?((r,a)=>l=>(l=new URL(l,dt.origin),r.protocol===l.protocol&&r.host===l.host&&(a||r.port===l.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,J0=dt.hasStandardBrowserEnv?{write(r,a,l,o,d,f,m){if(typeof document>"u")return;const h=[`${r}=${encodeURIComponent(a)}`];z.isNumber(l)&&h.push(`expires=${new Date(l).toUTCString()}`),z.isString(o)&&h.push(`path=${o}`),z.isString(d)&&h.push(`domain=${d}`),f===!0&&h.push("secure"),z.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(r){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Y0(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function X0(r,a){return a?r.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):r}function Mf(r,a,l){let o=!Y0(a);return r&&(o||l==!1)?X0(r,a):a}const Om=r=>r instanceof jt?{...r}:r;function fr(r,a){a=a||{};const l={};function o(y,v,j,N){return z.isPlainObject(y)&&z.isPlainObject(v)?z.merge.call({caseless:N},y,v):z.isPlainObject(v)?z.merge({},v):z.isArray(v)?v.slice():v}function d(y,v,j,N){if(z.isUndefined(v)){if(!z.isUndefined(y))return o(void 0,y,j,N)}else return o(y,v,j,N)}function f(y,v){if(!z.isUndefined(v))return o(void 0,v)}function m(y,v){if(z.isUndefined(v)){if(!z.isUndefined(y))return o(void 0,y)}else return o(void 0,v)}function h(y,v,j){if(j in a)return o(y,v);if(j in r)return o(void 0,y)}const p={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(y,v,j)=>d(Om(y),Om(v),j,!0)};return z.forEach(Object.keys({...r,...a}),function(v){const j=p[v]||d,N=j(r[v],a[v],v);z.isUndefined(N)&&j!==h||(l[v]=N)}),l}const zf=r=>{const a=fr({},r);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:m,auth:h}=a;if(a.headers=m=jt.from(m),a.url=Of(Mf(a.baseURL,a.url,a.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),z.isFormData(l)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(z.isFunction(l.getHeaders)){const p=l.getHeaders(),y=["content-type","content-length"];Object.entries(p).forEach(([v,j])=>{y.includes(v.toLowerCase())&&m.set(v,j)})}}if(dt.hasStandardBrowserEnv&&(o&&z.isFunction(o)&&(o=o(a)),o||o!==!1&&G0(a.url))){const p=d&&f&&J0.read(f);p&&m.set(d,p)}return a},Z0=typeof XMLHttpRequest<"u",ey=Z0&&function(r){return new Promise(function(l,o){const d=zf(r);let f=d.data;const m=jt.from(d.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:y}=d,v,j,N,C,w;function S(){C&&C(),w&&w(),d.cancelToken&&d.cancelToken.unsubscribe(v),d.signal&&d.signal.removeEventListener("abort",v)}let b=new XMLHttpRequest;b.open(d.method.toUpperCase(),d.url,!0),b.timeout=d.timeout;function I(){if(!b)return;const U=jt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:U,config:r,request:b};Ff(function(H){l(H),S()},function(H){o(H),S()},T),b=null}"onloadend"in b?b.onloadend=I:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(I)},b.onabort=function(){b&&(o(new je("Request aborted",je.ECONNABORTED,r,b)),b=null)},b.onerror=function(R){const T=R&&R.message?R.message:"Network Error",W=new je(T,je.ERR_NETWORK,r,b);W.event=R||null,o(W),b=null},b.ontimeout=function(){let R=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const T=d.transitional||Df;d.timeoutErrorMessage&&(R=d.timeoutErrorMessage),o(new je(R,T.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,r,b)),b=null},f===void 0&&m.setContentType(null),"setRequestHeader"in b&&z.forEach(m.toJSON(),function(R,T){b.setRequestHeader(T,R)}),z.isUndefined(d.withCredentials)||(b.withCredentials=!!d.withCredentials),h&&h!=="json"&&(b.responseType=d.responseType),y&&([N,w]=bl(y,!0),b.addEventListener("progress",N)),p&&b.upload&&([j,C]=bl(p),b.upload.addEventListener("progress",j),b.upload.addEventListener("loadend",C)),(d.cancelToken||d.signal)&&(v=U=>{b&&(o(!U||U.type?new Zs(null,r,b):U),b.abort(),b=null)},d.cancelToken&&d.cancelToken.subscribe(v),d.signal&&(d.signal.aborted?v():d.signal.addEventListener("abort",v)));const K=K0(d.url);if(K&&dt.protocols.indexOf(K)===-1){o(new je("Unsupported protocol "+K+":",je.ERR_BAD_REQUEST,r));return}b.send(f||null)})},ty=(r,a)=>{const{length:l}=r=r?r.filter(Boolean):[];if(a||l){let o=new AbortController,d;const f=function(y){if(!d){d=!0,h();const v=y instanceof Error?y:this.reason;o.abort(v instanceof je?v:new Zs(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,f(new je(`timeout of ${a}ms exceeded`,je.ETIMEDOUT))},a);const h=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(f):y.removeEventListener("abort",f)}),r=null)};r.forEach(y=>y.addEventListener("abort",f));const{signal:p}=o;return p.unsubscribe=()=>z.asap(h),p}},ny=function*(r,a){let l=r.byteLength;if(l<a){yield r;return}let o=0,d;for(;o<l;)d=o+a,yield r.slice(o,d),o=d},ry=async function*(r,a){for await(const l of sy(r))yield*ny(l,a)},sy=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const a=r.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Dm=(r,a,l,o)=>{const d=ry(r,a);let f=0,m,h=p=>{m||(m=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await d.next();if(y){h(),p.close();return}let j=v.byteLength;if(l){let N=f+=j;l(N)}p.enqueue(new Uint8Array(v))}catch(y){throw h(y),y}},cancel(p){return h(p),d.return()}},{highWaterMark:2})},Im=64*1024,{isFunction:ml}=z,ay=(({Request:r,Response:a})=>({Request:r,Response:a}))(z.global),{ReadableStream:Lm,TextEncoder:Fm}=z.global,Mm=(r,...a)=>{try{return!!r(...a)}catch{return!1}},ly=r=>{r=z.merge.call({skipUndefined:!0},ay,r);const{fetch:a,Request:l,Response:o}=r,d=a?ml(a):typeof fetch=="function",f=ml(l),m=ml(o);if(!d)return!1;const h=d&&ml(Lm),p=d&&(typeof Fm=="function"?(w=>S=>w.encode(S))(new Fm):async w=>new Uint8Array(await new l(w).arrayBuffer())),y=f&&h&&Mm(()=>{let w=!1;const S=new l(dt.origin,{body:new Lm,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),v=m&&h&&Mm(()=>z.isReadableStream(new o("").body)),j={stream:v&&(w=>w.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!j[w]&&(j[w]=(S,b)=>{let I=S&&S[w];if(I)return I.call(S);throw new je(`Response type '${w}' is not supported`,je.ERR_NOT_SUPPORT,b)})});const N=async w=>{if(w==null)return 0;if(z.isBlob(w))return w.size;if(z.isSpecCompliantForm(w))return(await new l(dt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(z.isArrayBufferView(w)||z.isArrayBuffer(w))return w.byteLength;if(z.isURLSearchParams(w)&&(w=w+""),z.isString(w))return(await p(w)).byteLength},C=async(w,S)=>{const b=z.toFiniteNumber(w.getContentLength());return b??N(S)};return async w=>{let{url:S,method:b,data:I,signal:K,cancelToken:U,timeout:R,onDownloadProgress:T,onUploadProgress:W,responseType:H,headers:_,withCredentials:ee="same-origin",fetchOptions:D}=zf(w),ie=a||fetch;H=H?(H+"").toLowerCase():"text";let B=ty([K,U&&U.toAbortSignal()],R),V=null;const se=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let re;try{if(W&&y&&b!=="get"&&b!=="head"&&(re=await C(_,I))!==0){let E=new l(S,{method:"POST",body:I,duplex:"half"}),$;if(z.isFormData(I)&&($=E.headers.get("content-type"))&&_.setContentType($),E.body){const[he,ve]=Rm(re,bl(_m(W)));I=Dm(E.body,Im,he,ve)}}z.isString(ee)||(ee=ee?"include":"omit");const te=f&&"credentials"in l.prototype,me={...D,signal:B,method:b.toUpperCase(),headers:_.normalize().toJSON(),body:I,duplex:"half",credentials:te?ee:void 0};V=f&&new l(S,me);let J=await(f?ie(V,D):ie(S,me));const oe=v&&(H==="stream"||H==="response");if(v&&(T||oe&&se)){const E={};["status","statusText","headers"].forEach(X=>{E[X]=J[X]});const $=z.toFiniteNumber(J.headers.get("content-length")),[he,ve]=T&&Rm($,bl(_m(T),!0))||[];J=new o(Dm(J.body,Im,he,()=>{ve&&ve(),se&&se()}),E)}H=H||"text";let P=await j[z.findKey(j,H)||"text"](J,w);return!oe&&se&&se(),await new Promise((E,$)=>{Ff(E,$,{data:P,headers:jt.from(J.headers),status:J.status,statusText:J.statusText,config:w,request:V})})}catch(te){throw se&&se(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,w,V),{cause:te.cause||te}):je.from(te,te&&te.code,w,V)}}},iy=new Map,Uf=r=>{let a=r&&r.env||{};const{fetch:l,Request:o,Response:d}=a,f=[o,d,l];let m=f.length,h=m,p,y,v=iy;for(;h--;)p=f[h],y=v.get(p),y===void 0&&v.set(p,y=h?new Map:ly(a)),v=y;return y};Uf();const sc={http:S0,xhr:ey,fetch:{get:Uf}};z.forEach(sc,(r,a)=>{if(r){try{Object.defineProperty(r,"name",{value:a})}catch{}Object.defineProperty(r,"adapterName",{value:a})}});const zm=r=>`- ${r}`,oy=r=>z.isFunction(r)||r===null||r===!1;function cy(r,a){r=z.isArray(r)?r:[r];const{length:l}=r;let o,d;const f={};for(let m=0;m<l;m++){o=r[m];let h;if(d=o,!oy(o)&&(d=sc[(h=String(o)).toLowerCase()],d===void 0))throw new je(`Unknown adapter '${h}'`);if(d&&(z.isFunction(d)||(d=d.get(a))))break;f[h||"#"+m]=d}if(!d){const m=Object.entries(f).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=l?m.length>1?`since :
`+m.map(zm).join(`
`):" "+zm(m[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const $f={getAdapter:cy,adapters:sc};function Ro(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Zs(null,r)}function Um(r){return Ro(r),r.headers=jt.from(r.headers),r.data=Ao.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),$f.getAdapter(r.adapter||Xs.adapter,r)(r).then(function(o){return Ro(r),o.data=Ao.call(r,r.transformResponse,o),o.headers=jt.from(o.headers),o},function(o){return Lf(o)||(Ro(r),o&&o.response&&(o.response.data=Ao.call(r,r.transformResponse,o.response),o.response.headers=jt.from(o.response.headers))),Promise.reject(o)})}const Bf="1.13.4",Pl={};["object","boolean","number","function","string","symbol"].forEach((r,a)=>{Pl[r]=function(o){return typeof o===r||"a"+(a<1?"n ":" ")+r}});const $m={};Pl.transitional=function(a,l,o){function d(f,m){return"[Axios v"+Bf+"] Transitional option '"+f+"'"+m+(o?". "+o:"")}return(f,m,h)=>{if(a===!1)throw new je(d(m," has been removed"+(l?" in "+l:"")),je.ERR_DEPRECATED);return l&&!$m[m]&&($m[m]=!0,console.warn(d(m," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(f,m,h):!0}};Pl.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function dy(r,a,l){if(typeof r!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let d=o.length;for(;d-- >0;){const f=o[d],m=a[f];if(m){const h=r[f],p=h===void 0||m(h,f,r);if(p!==!0)throw new je("option "+f+" must be "+p,je.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new je("Unknown option "+f,je.ERR_BAD_OPTION)}}const xl={assertOptions:dy,validators:Pl},Gt=xl.validators;let mr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Tm,response:new Tm}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=fr(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:f}=l;o!==void 0&&xl.assertOptions(o,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),d!=null&&(z.isFunction(d)?l.paramsSerializer={serialize:d}:xl.assertOptions(d,{encode:Gt.function,serialize:Gt.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),xl.assertOptions(l,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let m=f&&z.merge(f.common,f[l.method]);f&&z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete f[w]}),l.headers=jt.concat(m,f);const h=[];let p=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(l)===!1||(p=p&&S.synchronous,h.unshift(S.fulfilled,S.rejected))});const y=[];this.interceptors.response.forEach(function(S){y.push(S.fulfilled,S.rejected)});let v,j=0,N;if(!p){const w=[Um.bind(this),void 0];for(w.unshift(...h),w.push(...y),N=w.length,v=Promise.resolve(l);j<N;)v=v.then(w[j++],w[j++]);return v}N=h.length;let C=l;for(;j<N;){const w=h[j++],S=h[j++];try{C=w(C)}catch(b){S.call(this,b);break}}try{v=Um.call(this,C)}catch(w){return Promise.reject(w)}for(j=0,N=y.length;j<N;)v=v.then(y[j++],y[j++]);return v}getUri(a){a=fr(this.defaults,a);const l=Mf(a.baseURL,a.url,a.allowAbsoluteUrls);return Of(l,a.params,a.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(a){mr.prototype[a]=function(l,o){return this.request(fr(o||{},{method:a,url:l,data:(o||{}).data}))}});z.forEach(["post","put","patch"],function(a){function l(o){return function(f,m,h){return this.request(fr(h||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}mr.prototype[a]=l(),mr.prototype[a+"Form"]=l(!0)});let uy=class Hf{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(f){l=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const m=new Promise(h=>{o.subscribe(h),f=h}).then(d);return m.cancel=function(){o.unsubscribe(f)},m},a(function(f,m,h){o.reason||(o.reason=new Zs(f,m,h),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new Hf(function(d){a=d}),cancel:a}}};function my(r){return function(l){return r.apply(null,l)}}function fy(r){return z.isObject(r)&&r.isAxiosError===!0}const Wo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wo).forEach(([r,a])=>{Wo[a]=r});function Wf(r){const a=new mr(r),l=wf(mr.prototype.request,a);return z.extend(l,mr.prototype,a,{allOwnKeys:!0}),z.extend(l,a,null,{allOwnKeys:!0}),l.create=function(d){return Wf(fr(r,d))},l}const We=Wf(Xs);We.Axios=mr;We.CanceledError=Zs;We.CancelToken=uy;We.isCancel=Lf;We.VERSION=Bf;We.toFormData=El;We.AxiosError=je;We.Cancel=We.CanceledError;We.all=function(a){return Promise.all(a)};We.spread=my;We.isAxiosError=fy;We.mergeConfig=fr;We.AxiosHeaders=jt;We.formToJSON=r=>If(z.isHTMLForm(r)?new FormData(r):r);We.getAdapter=$f.getAdapter;We.HttpStatusCode=Wo;We.default=We;const{Axios:Tv,AxiosError:Av,CanceledError:Rv,isCancel:_v,CancelToken:Ov,VERSION:Dv,all:Iv,Cancel:Lv,isAxiosError:Fv,spread:Mv,toFormData:zv,AxiosHeaders:Uv,HttpStatusCode:$v,formToJSON:Bv,getAdapter:Hv,mergeConfig:Wv}=We;class we extends Error{constructor(l,o,d){super(l);ol(this,"status");ol(this,"data");this.name="ApiError",this.status=o,this.data=d}}const hy=We.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function py(r){var l,o;if(We.isAxiosError(r)){const d=r,f=((l=d.response)==null?void 0:l.status)??null,m=(o=d.response)==null?void 0:o.data,h=typeof(m==null?void 0:m.error)=="string"&&m.error||typeof(m==null?void 0:m.message)=="string"&&m.message||d.message||"Request failed";return new we(h,f,m)}const a=r instanceof Error?r.message:String(r);return new we(a,null,null)}async function ae(r){try{return(await hy.request(r)).data}catch(a){throw py(a)}}const Hn=Mx((r,a)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!a().hasCheckedAuth){r({isLoading:!0,hasCheckedAuth:!0});try{const l=await ae({url:"/auth/me",method:"GET"});r({user:l.user,currentOrganization:l.currentOrganization,organizations:l.organizations||[],isLoading:!1})}catch(l){console.error("Failed to fetch user:",l),r({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await ae({url:"/auth/logout",method:"POST"}),r({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(l){console.error("Logout failed:",l)}},switchOrganization:async l=>{try{const o=await ae({url:"/auth/switch-org",method:"POST",data:{organizationId:l}});if(o.redirectUrl){window.location.href=o.redirectUrl;return}window.location.reload()}catch(o){console.error("Switch organization failed:",o)}},setUser:l=>{r({user:l})}}));function gy(){const[r,a]=x.useState(null),[l,o]=x.useState(!0),[d,f]=x.useState(null),{user:m}=Hn();x.useEffect(()=>{(async()=>{try{o(!0);const y=await fetch("/api/dashboard/stats",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch dashboard stats");const v=await y.json();a(v),f(null)}catch(y){f(y instanceof Error?y.message:"Unknown error")}finally{o(!1)}})()},[]);const h=p=>p===0?"-":`${p}%`;return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),t.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(m==null?void 0:m.name)||"User","! Here's your workflow overview."]})]}),d&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsx("p",{className:"text-red-800",children:d})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),l?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(r==null?void 0:r.totalWorkflows)??0}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(r==null?void 0:r.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),l?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(r==null?void 0:r.recentExecutions)??0}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),l?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-green-600",children:h((r==null?void 0:r.successRate)??0)}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),l?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(r==null?void 0:r.pendingApprovals)??0}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(r==null?void 0:r.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(r==null?void 0:r.activeIntegrations)&&r.activeIntegrations.length>0&&t.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.activeIntegrations.map(p=>t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:p},p))})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),t.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[t.jsx("li",{children:"Create your first workflow"}),t.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),t.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function xy({workflow:r,onExecute:a}){return t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.name}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:r.description||"No description"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(r.createdAt).toLocaleDateString()]}),t.jsx("button",{onClick:()=>a(r.id),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function qf({workflowId:r,workflowName:a,isOpen:l,onClose:o,onSuccess:d}){const[f,m]=x.useState("{}"),[h,p]=x.useState("idle"),[y,v]=x.useState("");if(!l)return null;const j=async()=>{p("executing"),v("");try{let N={};f.trim()&&(N=JSON.parse(f)),await ae({url:`/api/workflows/${r}/execute`,method:"POST",data:{inputData:N}}),p("success"),setTimeout(()=>{d==null||d(),o()},1500)}catch(N){N instanceof SyntaxError?v("Invalid JSON format"):N instanceof we?v(N.message):v("Execution failed"),p("error")}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:o}),t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",a]}),t.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),t.jsx("textarea",{value:f,onChange:N=>m(N.target.value),disabled:h==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),h==="executing"&&t.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),t.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),h==="success"&&t.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[t.jsx("span",{className:"text-green-600 text-xl",children:""}),t.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),h==="error"&&t.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("span",{className:"text-red-800",children:y})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[t.jsx("button",{onClick:o,disabled:h==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:h==="executing"||h==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h==="executing"?"Executing...":"Execute"})]})]})})]})}function yy({isOpen:r,onClose:a,onSuccess:l}){const[o,d]=x.useState(""),[f,m]=x.useState(""),[h,p]=x.useState(!1),[y,v]=x.useState(null),j=async()=>{if(!o.trim()){v("Workflow name is required");return}p(!0),v(null);try{await ae({url:"/api/workflows",method:"POST",data:{name:o.trim(),description:f.trim()||void 0,enabled:!0,config:{}}}),l(),a(),d(""),m("")}catch(N){let C="Failed to create workflow";N instanceof we&&(N.status===403?C="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":C=N.message),v(C)}finally{p(!1)}};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),y&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:y}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{id:"name",type:"text",value:o,onChange:N=>d(N.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{id:"description",value:f,onChange:N=>m(N.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating...":"Create"})]})]})})}):null}function vy(){const[r,a]=x.useState([]),[l,o]=x.useState(!0),[d,f]=x.useState(null),[m,h]=x.useState(!1),p=async()=>{try{const N=await ae({url:"/api/workflows",method:"GET"});a(N.workflows)}catch(N){console.error("Failed to fetch workflows:",N)}finally{o(!1)}};x.useEffect(()=>{p()},[]);const y=N=>{const C=r.find(w=>w.id===N);C&&f(C)},v=()=>{f(null)},j=()=>{p()};return l?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),t.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),t.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),r.length===0?t.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),t.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(N=>t.jsx(xy,{workflow:N,onExecute:y},N.id))}),d&&t.jsx(qf,{workflowId:d.id,workflowName:d.name,isOpen:!0,onClose:v,onSuccess:j}),t.jsx(yy,{isOpen:m,onClose:()=>h(!1),onSuccess:p})]})}function by(){var X;const{id:r}=ec(),a=Yr(),[l,o]=x.useState(null),[d,f]=x.useState(!0),[m,h]=x.useState(null),[p,y]=x.useState(!1),[v,j]=x.useState(!1),[N,C]=x.useState(!1),[w,S]=x.useState(!1),[b,I]=x.useState(!1),[K,U]=x.useState(!1),[R,T]=x.useState(!1),[W,H]=x.useState(null),[_,ee]=x.useState(null),[D,ie]=x.useState([]),[B,V]=x.useState(""),[se,re]=x.useState(""),[te,me]=x.useState(!0),J=async()=>{if(r)try{const Q=await ae({url:`/api/workflows/${r}`,method:"GET"});o(Q.workflow),V(Q.workflow.name),re(Q.workflow.description||""),me(Q.workflow.enabled)}catch(Q){Q instanceof we&&Q.status===404?h("Workflow not found"):h("Failed to load workflow")}finally{f(!1)}};x.useEffect(()=>{J()},[r]);const oe=async()=>{if(!(!r||!B.trim())){j(!0);try{const Q=await ae({url:`/api/workflows/${r}`,method:"PUT",data:{name:B.trim(),description:se.trim()||null,enabled:te}});o(Q.workflow),y(!1)}catch(Q){const ge=Q instanceof we?Q.message:"Failed to save";alert(ge)}finally{j(!1)}}},P=async()=>{if(r){C(!0);try{await ae({url:`/api/workflows/${r}`,method:"DELETE"}),a("/workflows")}catch(Q){const ge=Q instanceof we?Q.message:"Failed to delete";alert(ge),C(!1),I(!1)}}},E=async()=>{if(r){T(!0),ee(null);try{const Q=await ae({url:`/api/workflows/${r}/generate-sop`,method:"POST"});H(Q.sop),ie(Q.sop.steps),U(!0)}catch(Q){const ge=Q instanceof we?Q.message:"Failed to generate SOP";ee(ge)}finally{T(!1)}}},$=()=>{W&&(alert(`SOP saved with ${D.length} steps. (This would save to database in production)`),U(!1))},he=(Q,ge,be)=>{const ke=[...D];ke[Q]={...ke[Q],[ge]:be},ie(ke)},ve=Q=>{switch(Q){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return d?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):m||!l?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m||"Workflow not found"}),t.jsx(Zt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):t.jsxs("div",{children:[t.jsxs("nav",{className:"mb-4 text-sm",children:[t.jsx(Zt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),t.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),t.jsx("span",{className:"text-gray-600",children:l.name})]}),t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsx("div",{className:"flex-1",children:p?t.jsxs("div",{className:"space-y-4 max-w-xl",children:[t.jsx("input",{type:"text",value:B,onChange:Q=>V(Q.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),t.jsx("textarea",{value:se,onChange:Q=>re(Q.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:te,onChange:Q=>me(Q.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[l.name,t.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${l.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.enabled?"Enabled":"Disabled"})]}),t.jsx("p",{className:"text-gray-600",children:l.description||"No description"})]})}),t.jsx("div",{className:"flex gap-2",children:p?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:oe,disabled:v,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:v?"Saving...":"Save"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),t.jsx("button",{onClick:E,disabled:R,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:R?"Generating...":"Generate SOP"}),t.jsx("button",{onClick:()=>S(!0),disabled:!l.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),t.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(l.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(l.updatedAt).toLocaleDateString()})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((X=l.executions)==null?void 0:X.length)||0})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),l.executions&&l.executions.length>0?t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.executions.map(Q=>{const ge=Q.startedAt&&Q.completedAt?Math.round((new Date(Q.completedAt).getTime()-new Date(Q.startedAt).getTime())/1e3):null;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ve(Q.status)}`,children:Q.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q.startedAt?new Date(Q.startedAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ge!==null?`${ge}s`:"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsx(Zt,{to:`/executions/${Q.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},Q.id)})})]}):t.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),w&&t.jsx(qf,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:()=>S(!1),onSuccess:()=>{S(!1),J()}}),b&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',l.name,'"? This action cannot be undone.']}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:P,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:N?"Deleting...":"Delete"})]})]})}),K&&W&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),_&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:_}),t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:D.map((Q,ge)=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",ge+1,": Title"]}),t.jsx("input",{type:"text",value:Q.title,onChange:be=>he(ge,"title",be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),t.jsx("input",{type:"number",value:Q.expectedDuration,onChange:be=>he(ge,"expectedDuration",parseInt(be.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:Q.description,onChange:be=>he(ge,"description",be.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:Q.approvalRequired,onChange:be=>he(ge,"approvalRequired",be.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},Q.id))}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:$,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function jy(){const[r,a]=x.useState([]),[l,o]=x.useState(!0),[d,f]=x.useState("all");x.useEffect(()=>{(async()=>{try{const v=await ae({url:"/api/executions",method:"GET"});a(v.executions||[])}catch(v){console.error("Failed to fetch executions:",v)}finally{o(!1)}})()},[]);const m=r.filter(y=>d==="all"?!0:y.status===d),h=y=>{switch(y){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=y=>{switch(y){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return l?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),t.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),t.jsxs("div",{className:"mb-6 flex gap-2",children:[t.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-medium ${d==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),t.jsx("button",{onClick:()=>f("success"),className:`px-4 py-2 rounded-lg font-medium ${d==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),t.jsx("button",{onClick:()=>f("failed"),className:`px-4 py-2 rounded-lg font-medium ${d==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),t.jsx("button",{onClick:()=>f("running"),className:`px-4 py-2 rounded-lg font-medium ${d==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),m.length===0?t.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),t.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(y=>{var j;const v=y.startedAt&&y.completedAt?Math.round((new Date(y.completedAt).getTime()-new Date(y.startedAt).getTime())/1e3):null;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${h(y.status)}`,children:[p(y.status)," ",y.status]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((j=y.workflow)==null?void 0:j.name)||"Unknown"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.startedAt?new Date(y.startedAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v!==null?`${v}s`:"-"})]},y.id)})})]})})]})}function wy(){var re;const{id:r}=ec(),[a,l]=x.useState(null),[o,d]=x.useState(null),[f,m]=x.useState(!0),[h,p]=x.useState(null),[y,v]=x.useState(!1),[j,N]=x.useState(!0),[C,w]=x.useState(!0),[S,b]=x.useState(null),[I,K]=x.useState(""),[U,R]=x.useState(!1),T=async()=>{var te;if(r)try{const me=await ae({url:`/api/executions/${r}`,method:"GET"});l(me.execution),(te=me.execution.workflow)!=null&&te.sopEnabled&&await W()}catch(me){me instanceof we&&me.status===404?p("Execution not found"):p("Failed to load execution")}finally{m(!1)}},W=async()=>{if(r)try{const te=await ae({url:`/api/executions/${r}/sop-progress`,method:"GET"});d(te.progress)}catch{console.error("Failed to load SOP progress")}};x.useEffect(()=>{T()},[r]);const H=async()=>{if(!(!(a!=null&&a.workflowId)||!(a!=null&&a.inputData))){v(!0);try{await ae({url:`/api/workflows/${a.workflowId}/execute`,method:"POST",data:{input:a.inputData}}),T()}catch(te){const me=te instanceof we?te.message:"Failed to retry";alert(me)}finally{v(!1)}}},_=async()=>{if(r){b("approve");try{await ae({url:`/api/executions/${r}/sop/approve`,method:"POST",data:{}}),await W(),await T()}catch(te){const me=te instanceof we?te.message:"Failed to approve step";alert(me)}finally{b(null)}}},ee=async()=>{if(!(!r||!I.trim())){b("skip");try{await ae({url:`/api/executions/${r}/sop/skip`,method:"POST",data:{reason:I}}),R(!1),K(""),await W(),await T()}catch(te){const me=te instanceof we?te.message:"Failed to skip step";alert(me)}finally{b(null)}}},D=te=>{switch(te){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:te}}},ie=(te,me,J)=>te.result?D(te.result.status):me===J?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},B=(te,me)=>{if(!te)return"-";const J=new Date(te).getTime(),oe=me?new Date(me).getTime():Date.now(),P=Math.round((oe-J)/1e3);if(P<60)return`${P}s`;const E=Math.floor(P/60),$=P%60;return`${E}m ${$}s`},V=te=>{navigator.clipboard.writeText(te)};if(f)return t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(h||!a)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:h||"Execution not found"}),t.jsx(Zt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const se=D(a.status);return t.jsxs("div",{children:[t.jsxs("nav",{className:"mb-4 text-sm",children:[t.jsx(Zt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),t.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),t.jsxs("span",{className:"text-gray-600",children:[a.id.slice(0,8),"..."]})]}),t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${se.bg} ${se.text}`,children:[t.jsx("span",{className:"text-2xl",children:se.icon}),se.label]}),((re=a.workflow)==null?void 0:re.sopEnabled)&&t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),a.workflow&&t.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",t.jsx(Zt,{to:`/workflows/${a.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:a.workflow.name})]})]}),a.status==="failed"&&t.jsx("button",{onClick:H,disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:y?"Retrying...":"Retry Execution"})]}),o&&o.steps.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[t.jsxs("span",{children:[o.completedSteps," / ",o.totalSteps," completed"]}),o.skippedSteps>0&&t.jsxs("span",{className:"text-gray-400",children:["(",o.skippedSteps," skipped)"]})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:t.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(o.completedSteps+o.skippedSteps)/o.totalSteps*100}%`}})}),t.jsx("div",{className:"space-y-3",children:o.steps.map((te,me)=>{var P,E,$,he,ve,X,Q;const J=ie(te,me,o.currentStep),oe=me===o.currentStep&&!((E=(P=te.result)==null?void 0:P.status)!=null&&E.match(/completed|skipped|failed/));return t.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${oe?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[t.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${J.bg} ${J.text} font-bold`,children:(($=te.result)==null?void 0:$.status)==="completed"||((he=te.result)==null?void 0:he.status)==="skipped"?J.icon:me+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate",children:te.name}),t.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${J.bg} ${J.text}`,children:te.type})]}),te.description&&t.jsx("p",{className:"text-sm text-gray-500 truncate",children:te.description}),((ve=te.result)==null?void 0:ve.skippedReason)&&t.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",te.result.skippedReason]}),((X=te.result)==null?void 0:X.error)&&t.jsx("p",{className:"text-sm text-red-600",children:te.result.error})]}),oe&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:_,disabled:S!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:S==="approve"?"...":"Approve"}),te.skippable!==!1&&t.jsx("button",{onClick:()=>R(!0),disabled:S!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((Q=te.result)==null?void 0:Q.completedAt)&&t.jsx("span",{className:"text-xs text-gray-400",children:new Date(te.result.completedAt).toLocaleTimeString()})]},te.id)})})]}),U&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),t.jsx("textarea",{value:I,onChange:te=>K(te.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>{R(!1),K("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),t.jsx("button",{onClick:ee,disabled:!I.trim()||S==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:S==="skip"?"Skipping...":"Skip Step"})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),t.jsx("p",{className:"font-medium",children:new Date(a.createdAt).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),t.jsx("p",{className:"font-medium",children:a.startedAt?new Date(a.startedAt).toLocaleString():"-"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),t.jsx("p",{className:"font-medium",children:a.completedAt?new Date(a.completedAt).toLocaleString():"-"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),t.jsx("p",{className:"font-medium",children:B(a.startedAt,a.completedAt)})]})]})]}),a.errorMessage&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),t.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:a.errorMessage})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[t.jsxs("button",{onClick:()=>N(!j),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),t.jsx("span",{className:"text-gray-400",children:j?"":""})]}),j&&t.jsx("div",{className:"p-6",children:a.inputData?t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>V(JSON.stringify(a.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),t.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(a.inputData,null,2)})]}):t.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsxs("button",{onClick:()=>w(!C),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),t.jsx("span",{className:"text-gray-400",children:C?"":""})]}),C&&t.jsx("div",{className:"p-6",children:a.outputData?t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>V(JSON.stringify(a.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),t.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(a.outputData,null,2)})]}):t.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function Ny(){const{user:r,currentOrganization:a}=Hn(),[l,o]=jf(),[d,f]=x.useState((r==null?void 0:r.name)||""),[m,h]=x.useState(!1),[p,y]=x.useState({}),[v,j]=x.useState(""),[N,C]=x.useState(""),[w,S]=x.useState(""),[b,I]=x.useState(""),[K,U]=x.useState(!1),[R,T]=x.useState(null),[W,H]=x.useState(null),[_,ee]=x.useState(null),[D,ie]=x.useState(!1),[B,V]=x.useState([]),[se,re]=x.useState(null),[te,me]=x.useState(!1);x.useEffect(()=>{const X=async()=>{try{const ke=await ae({url:"/api/organization/settings",method:"GET"});y(ke.settings)}catch(ke){console.error("Failed to fetch API key settings:",ke)}},Q=async()=>{try{const ke=await ae({url:"/api/google-ai/status",method:"GET"});ee(ke)}catch(ke){console.error("Failed to fetch Google AI status:",ke)}},ge=async()=>{try{const ke=await ae({url:"/api/organization/providers",method:"GET"});V(ke.providers),re(ke.preferredProvider)}catch(ke){console.error("Failed to fetch providers:",ke)}},be=()=>{const ke=l.get("success"),qe=l.get("error");ke==="google_ai_connected"?(H("Google AI connected successfully!"),o({}),Q(),ge()):qe!=null&&qe.startsWith("google_ai_")&&(T({google_ai_oauth_denied:"You denied the Google AI authorization request",google_ai_oauth_invalid:"Missing required parameters from Google",google_ai_oauth_config:"Server configuration error. Please contact support.",google_ai_oauth_invalid_state:"Invalid state parameter. Please try again.",google_ai_oauth_token_failed:"Failed to exchange token with Google",google_ai_oauth_org_not_found:"Organization not found",google_ai_oauth_error:"An error occurred. Please try again."}[qe]||`Error: ${qe}`),o({}))};X(),Q(),ge(),be()},[l,o]);const J=async()=>{U(!0),T(null),H(null);try{const X={};if(v&&(X.anthropicApiKey=v),N&&(X.openaiApiKey=N),w&&(X.openrouterApiKey=w),b&&(X.googleAiApiKey=b),Object.keys(X).length===0){T("Please enter at least one API key"),U(!1);return}await ae({url:"/api/organization/settings/api-keys",method:"PUT",data:X});const Q=await ae({url:"/api/organization/settings",method:"GET"});y(Q.settings),j(""),C(""),S(""),I(""),H("API keys saved successfully");const ge=await ae({url:"/api/google-ai/status",method:"GET"});ee(ge);const be=await ae({url:"/api/organization/providers",method:"GET"});V(be.providers),re(be.preferredProvider)}catch(X){const Q=X instanceof we?X.message:"Failed to save API keys";T(Q)}finally{U(!1)}},oe=async X=>{if(confirm(`Are you sure you want to delete ${X}?`))try{await ae({url:`/api/organization/settings/api-keys/${X}`,method:"DELETE"});const Q=await ae({url:"/api/organization/settings",method:"GET"});if(y(Q.settings),H(`${X} deleted successfully`),X==="googleAiApiKey"){const be=await ae({url:"/api/google-ai/status",method:"GET"});ee(be)}const ge=await ae({url:"/api/organization/providers",method:"GET"});V(ge.providers),re(ge.preferredProvider)}catch(Q){const ge=Q instanceof we?Q.message:"Failed to delete API key";T(ge)}},P=()=>{window.location.href="/api/google-ai/oauth/install"},E=async()=>{if(confirm("Are you sure you want to disconnect Google AI?")){ie(!0),T(null);try{await ae({url:"/api/google-ai/oauth/disconnect",method:"DELETE"}),ee({connected:!1,method:null,email:null,connectedAt:null}),H("Google AI disconnected successfully");const X=await ae({url:"/api/organization/providers",method:"GET"});V(X.providers),re(X.preferredProvider)}catch(X){const Q=X instanceof we?X.message:"Failed to disconnect Google AI";T(Q)}finally{ie(!1)}}},$=async X=>{me(!0),T(null);try{await ae({url:"/api/organization/settings/preferred-provider",method:"PUT",data:{provider:X}}),re(X),H(X?`Default provider set to ${X}`:"Default provider preference cleared")}catch(Q){const ge=Q instanceof we?Q.message:"Failed to update preferred provider";T(ge)}finally{me(!1)}},he=async()=>{h(!0);try{await ae({url:"/api/user/profile",method:"PUT",data:{name:d}}),alert("Profile updated successfully")}catch(X){const Q=X instanceof we?X.message:"Failed to update profile";console.error("Save failed:",X),alert(Q)}finally{h(!1)}},ve=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await ae({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(X){const Q=X instanceof we?X.message:"Failed to logout from all devices";console.error("Logout all failed:",X),alert(Q)}};return t.jsxs("div",{className:"max-w-4xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),t.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:d,onChange:X=>f(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),t.jsxs("div",{className:"flex items-center gap-4",children:[r!=null&&r.picture?t.jsx("img",{src:r.picture,alt:r.name,className:"w-16 h-16 rounded-full"}):t.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-2xl font-medium",children:((r==null?void 0:r.name)||(r==null?void 0:r.email)||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{onClick:he,disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),t.jsx("input",{type:"text",value:(a==null?void 0:a.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),t.jsx("input",{type:"text",value:(a==null?void 0:a.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),t.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),R&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:R}),W&&t.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:W}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",p.anthropicApiKeySet&&t.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),p.anthropicApiKeySet?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:p.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),t.jsx("button",{onClick:()=>oe("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):t.jsx("input",{type:"password",value:v,onChange:X=>j(X.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",t.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",p.openaiApiKeySet&&t.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),p.openaiApiKeySet?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:p.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),t.jsx("button",{onClick:()=>oe("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):t.jsx("input",{type:"password",value:N,onChange:X=>C(X.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",p.openrouterApiKeySet&&t.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),p.openrouterApiKeySet?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:p.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),t.jsx("button",{onClick:()=>oe("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):t.jsx("input",{type:"password",value:w,onChange:X=>S(X.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Google AI (Gemini)",(_==null?void 0:_.connected)&&t.jsxs("span",{className:"ml-2 text-green-600 text-xs font-normal",children:["(connected via ",_.method==="oauth"?"OAuth":"API key",")"]})]}),_!=null&&_.connected&&_.method==="oauth"?t.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:t.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:[t.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:_.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Connected"," ",_.connectedAt?new Date(_.connectedAt).toLocaleDateString():""]})]})]}),t.jsx("button",{onClick:E,disabled:D,className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50 disabled:opacity-50",children:D?"Disconnecting...":"Disconnect"})]})}):_!=null&&_.connected&&_.method==="api_key"?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:p.googleAiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),t.jsx("button",{onClick:()=>oe("googleAiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:[t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[t.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-200"})}),t.jsx("div",{className:"relative flex justify-center text-xs",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or use API key"})})]}),t.jsx("input",{type:"password",value:b,onChange:X=>I(X.target.value),placeholder:"AIza...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"})]}),t.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Connect via OAuth (recommended) or use an API key from"," ",t.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google AI Studio"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{onClick:J,disabled:K||!v&&!N&&!w&&!b,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Saving...":"Save API Keys"})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Default AI Provider"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose your preferred AI provider. This will be used as the default for all AI-powered features."}),B.length===0?t.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg text-center",children:t.jsx("p",{className:"text-gray-600",children:"No AI providers configured yet. Add API keys above to enable AI features."})}):t.jsxs("div",{className:"space-y-3",children:[B.map(X=>t.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${se===X.name?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("input",{type:"radio",name:"preferredProvider",value:X.name,checked:se===X.name,onChange:()=>$(X.name),disabled:te,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),t.jsx("span",{className:"ml-3 font-medium text-gray-900",children:X.displayName}),se===X.name&&t.jsx("span",{className:"ml-auto text-xs text-indigo-600 font-medium",children:"Default"})]},X.name)),se&&t.jsx("button",{onClick:()=>$(null),disabled:te,className:"text-sm text-gray-500 hover:text-gray-700 underline disabled:opacity-50",children:"Clear preference (use automatic selection)"})]}),t.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"If no preference is set, the system will automatically select the best available provider based on priority: Anthropic, OpenAI, Google AI, OpenRouter."})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),t.jsx("button",{onClick:ve,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function Sy(){const[r,a]=x.useState(null),[l,o]=x.useState([]),[d,f]=x.useState(""),[m,h]=x.useState(""),[p,y]=x.useState(!0),[v,j]=x.useState(!1),[N,C]=x.useState(!1),[w,S]=x.useState(null);x.useEffect(()=>{b()},[]);const b=async()=>{try{const T=await ae({url:"/api/notion/connection",method:"GET"});a(T.connection),h(T.connection.defaultDatabaseId||""),await I()}catch(T){if(T instanceof we&&T.status===404){a(null);return}console.error("Fetch connection error:",T)}finally{y(!1)}},I=async()=>{try{const T=await ae({url:"/api/notion/databases",method:"GET"});o(T.databases||[])}catch(T){console.error("Fetch databases error:",T)}},K=async()=>{if(!d){S({type:"error",text:"Please enter an API key"});return}C(!0),S(null);try{const T=await ae({url:"/api/notion/test",method:"POST",data:{apiKey:d}});T.success?S({type:"success",text:`Connection successful! Found ${T.databaseCount||0} databases.`}):S({type:"error",text:T.error||"Connection failed"})}catch(T){const W=T instanceof we?T.message:"Failed to test connection";S({type:"error",text:W})}finally{C(!1)}},U=async()=>{if(!d){S({type:"error",text:"Please enter an API key"});return}j(!0),S(null);try{const W=await ae({url:"/api/notion/connection",method:r?"PUT":"POST",data:{apiKey:d,defaultDatabaseId:m}});a(W.connection),S({type:"success",text:"Notion connection saved successfully"}),await I(),f("")}catch(T){const W=T instanceof we?T.message:"Failed to save connection";S({type:"error",text:W})}finally{j(!1)}},R=async()=>{if(confirm("Are you sure you want to delete the Notion connection?")){j(!0),S(null);try{await ae({url:"/api/notion/connection",method:"DELETE"}),a(null),o([]),h(""),S({type:"success",text:"Notion connection deleted"})}catch(T){const W=T instanceof we?T.message:"Failed to delete connection";S({type:"error",text:W})}finally{j(!1)}}};return p?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):t.jsxs("div",{className:"max-w-4xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Settings"}),t.jsx("p",{className:"text-gray-600",children:"Configure Notion integration for workflows"})]}),w&&t.jsx("div",{className:`mb-6 p-4 rounded-lg ${w.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:w.text}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Key"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notion Internal Integration Token"}),t.jsx("input",{id:"apiKey",type:"password",value:d,onChange:T=>f(T.target.value),placeholder:r?"":"secret_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Create an integration at"," ",t.jsx("a",{href:"https://www.notion.so/my-integrations",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"notion.so/my-integrations"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:K,disabled:N||!d,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Testing...":"Test Connection"}),t.jsx("button",{onClick:U,disabled:v||!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":r?"Update":"Save"}),r&&t.jsx("button",{onClick:R,disabled:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),r&&l.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Databases"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"defaultDb",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Database (optional)"}),t.jsxs("select",{id:"defaultDb",value:m,onChange:T=>h(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"-- Select a database --"}),l.map(T=>t.jsx("option",{value:T.id,children:T.title},T.id))]})]}),t.jsx("div",{className:"space-y-2",children:l.map(T=>t.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900",children:T.title}),t.jsx("p",{className:"text-sm text-gray-500 font-mono",children:T.id})]}),t.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion "})]})},T.id))})]}),r&&l.length===0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),t.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion integration is connected, but it doesn't have access to any databases yet."}),t.jsxs("div",{className:"bg-yellow-100 rounded-md p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:"How to grant access:"}),t.jsxs("ol",{className:"text-sm text-yellow-700 list-decimal list-inside space-y-1",children:[t.jsx("li",{children:"Open the database you want to connect in Notion"}),t.jsxs("li",{children:["Click the ",t.jsx("strong",{children:"..."})," menu in the top-right corner"]}),t.jsxs("li",{children:["Select ",t.jsx("strong",{children:"Connections"})," (or Add connections)"]}),t.jsx("li",{children:"Find and add your integration"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",t.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),t.jsxs("button",{onClick:()=>I(),className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:[t.jsx("svg",{className:"mr-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Databases"]})]})]})]})}function ky(){const[r,a]=jf(),[l,o]=x.useState(null),[d,f]=x.useState(!0),[m,h]=x.useState(!1),[p,y]=x.useState(null);x.useEffect(()=>{const C=r.get("success"),w=r.get("error");C==="true"?(y({type:"success",text:"Slack workspace connected successfully!"}),a({})):w&&(y({type:"error",text:{access_denied:"You denied the Slack authorization request",missing_params:"Missing required parameters from Slack",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured for this deployment. Please contact your administrator to set up Slack credentials (SLACK_CLIENT_ID, SLACK_CLIENT_SECRET)."}[w]||`Error: ${w}`}),a({})),v()},[r,a]);const v=async()=>{try{const C=await ae({url:"/api/slack/integration",method:"GET"});o(C.integration)}catch(C){if(C instanceof we&&C.status===404){o(null);return}console.error("Fetch integration error:",C)}finally{f(!1)}},j=()=>{window.location.href="/api/slack/oauth/install"},N=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){h(!0),y(null);try{await ae({url:"/api/slack/integration",method:"DELETE"}),o(null),y({type:"success",text:"Slack disconnected successfully"})}catch{y({type:"error",text:"Failed to disconnect Slack"})}finally{h(!1)}}};return d?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):t.jsxs("div",{className:"max-w-4xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),t.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),p&&t.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),l?t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l.workspaceName}),t.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.enabled&&l.healthStatus==="healthy"?"bg-green-100 text-green-800":l.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.enabled&&l.healthStatus==="healthy"?"Connected":l.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),t.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:l.workspaceId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),t.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:l.botUserId||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Installed:"}),t.jsx("span",{className:"ml-2 text-gray-700",children:new Date(l.installedAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),t.jsx("span",{className:"ml-2 text-gray-700",children:new Date(l.updatedAt).toLocaleDateString()})]})]}),l.scopes&&l.scopes.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.scopes.map(C=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:C},C))})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:j,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),t.jsx("button",{onClick:N,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Disconnecting...":"Disconnect"})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect Your Slack Workspace"}),t.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect Slack to enable AI-powered automation. Mention the bot in any channel to trigger workflows."}),t.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium",children:[t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Add to Slack"]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Connect Your Workspace"}),t.jsx("p",{className:"text-sm text-gray-600",children:'Click "Add to Slack" to authorize Nubabel in your Slack workspace.'})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the Bot"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Add @Nubabel to channels where you want to use AI automation."})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Start Automating"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Mention @Nubabel with your request, and our AI will handle the rest."})]})]})]})]})]})}function Cy(){const[r,a]=x.useState(null),[l,o]=x.useState([]),[d,f]=x.useState(""),[m,h]=x.useState(""),[p,y]=x.useState(""),[v,j]=x.useState(!0),[N,C]=x.useState(!1),[w,S]=x.useState(!1),[b,I]=x.useState(null);x.useEffect(()=>{K()},[]);const K=async()=>{try{const H=await ae({url:"/api/google-calendar/connection",method:"GET"});a(H.connection),y(H.connection.calendarId||""),await U()}catch(H){if(H instanceof we&&H.status===404){a(null);return}console.error("Fetch connection error:",H)}finally{j(!1)}},U=async()=>{try{const H=await ae({url:"/api/google-calendar/calendars",method:"GET"});o(H.calendars||[])}catch(H){console.error("Fetch calendars error:",H)}},R=async()=>{if(!d){I({type:"error",text:"Please enter an access token"});return}S(!0),I(null);try{const H=await ae({url:"/api/google-calendar/test",method:"POST",data:{accessToken:d,refreshToken:m||void 0}});H.success?I({type:"success",text:`Connection successful! Email: ${H.email}, ${H.calendars||0} calendars found.`}):I({type:"error",text:H.error||"Connection failed"})}catch(H){const _=H instanceof we?H.message:"Failed to test connection";I({type:"error",text:_})}finally{S(!1)}},T=async()=>{if(!d){I({type:"error",text:"Please enter an access token"});return}C(!0),I(null);try{const _=await ae({url:"/api/google-calendar/connection",method:r?"PUT":"POST",data:{accessToken:d,refreshToken:m||void 0,calendarId:p||void 0}});a(_.connection),I({type:"success",text:"Google Calendar connection saved successfully"}),await U(),f(""),h("")}catch(H){const _=H instanceof we?H.message:"Failed to save connection";I({type:"error",text:_})}finally{C(!1)}},W=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){C(!0),I(null);try{await ae({url:"/api/google-calendar/connection",method:"DELETE"}),a(null),o([]),y(""),I({type:"success",text:"Google Calendar connection deleted"})}catch(H){const _=H instanceof we?H.message:"Failed to delete connection";I({type:"error",text:_})}finally{C(!1)}}};return v?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):t.jsxs("div",{className:"max-w-4xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),t.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),b&&t.jsx("div",{className:`mb-6 p-4 rounded-lg ${b.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:b.text}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),t.jsx("input",{id:"accessToken",type:"password",value:d,onChange:H=>f(H.target.value),placeholder:r?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),t.jsx("input",{id:"refreshToken",type:"password",value:m,onChange:H=>h(H.target.value),placeholder:r?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",t.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:R,disabled:w||!d,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Testing...":"Test Connection"}),t.jsx("button",{onClick:T,disabled:N||!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Saving...":r?"Update":"Save"}),r&&t.jsx("button",{onClick:W,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),r&&l.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),t.jsxs("select",{id:"defaultCalendar",value:p,onChange:H=>y(H.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"-- Primary Calendar --"}),l.map(H=>t.jsxs("option",{value:H.id,children:[H.summary," ",H.primary?"(Primary)":""]},H.id))]})]}),t.jsx("div",{className:"space-y-2",children:l.map(H=>t.jsx("div",{className:`p-4 border rounded-lg transition ${H.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsxs("h3",{className:"font-medium text-gray-900",children:[H.summary,H.primary&&t.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),H.description&&t.jsx("p",{className:"text-sm text-gray-500",children:H.description}),t.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:H.id})]})})},H.id))})]}),r&&l.length===0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),t.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),t.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),t.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),t.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function Ey({organizationId:r,isOpen:a,onClose:l,onSuccess:o}){const[d,f]=x.useState(""),[m,h]=x.useState("member"),[p,y]=x.useState(!1),[v,j]=x.useState(null),N=async()=>{if(!d.trim()){j("Email is required");return}y(!0),j(null);try{await ae({url:`/api/organizations/${r}/members/invite`,method:"POST",data:{email:d.trim(),role:m}}),o(),l(),f(""),h("member")}catch(C){const w=C instanceof we?C.message:"Failed to invite member";j(w)}finally{y(!1)}};return a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),v&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:v}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),t.jsx("input",{id:"email",type:"email",value:d,onChange:C=>f(C.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsxs("select",{id:"role",value:m,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"admin",children:"Admin - Full access"}),t.jsx("option",{value:"member",children:"Member - Can execute workflows"}),t.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Inviting...":"Send Invitation"})]})]})})}):null}function Py({userId:r,currentRole:a,organizationId:l,currentUserId:o,onSuccess:d}){const[f,m]=x.useState(!1),h=r===o,p=async y=>{if(y!==a){m(!0);try{await ae({url:`/api/organizations/${l}/members/${r}/role`,method:"PUT",data:{role:y}}),d()}catch(v){const j=v instanceof we?v.message:"Failed to update role";alert(j)}finally{m(!1)}}};return t.jsxs("select",{value:a,onChange:y=>p(y.target.value),disabled:f||h,className:`px-2 py-1 text-sm border border-gray-300 rounded ${h?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${f?"opacity-50":""}`,children:[t.jsx("option",{value:"owner",children:"Owner"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"member",children:"Member"}),t.jsx("option",{value:"viewer",children:"Viewer"})]})}function Ty(){const{currentOrganization:r,user:a}=Hn(),[l,o]=x.useState([]),[d,f]=x.useState(!0),[m,h]=x.useState(!1),p=r==null?void 0:r.id,y=a==null?void 0:a.id,v=async()=>{if(p)try{const C=await ae({url:`/api/organizations/${p}/members`,method:"GET"});o(C.members)}catch(C){console.error("Failed to fetch members:",C)}finally{f(!1)}};x.useEffect(()=>{v()},[p]);const j=async(C,w)=>{if(confirm(`Are you sure you want to remove ${w} from this organization?`))try{await ae({url:`/api/organizations/${p}/members/${C}`,method:"DELETE"}),v()}catch(S){const b=S instanceof we?S.message:"Failed to remove member";alert(b)}},N=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return d?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):t.jsxs("div",{className:"max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),t.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their roles"})]}),t.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:C.avatarUrl?t.jsx("img",{className:"h-10 w-10 rounded-full",src:C.avatarUrl,alt:C.name}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:C.name.charAt(0).toUpperCase()})})}),t.jsxs("div",{className:"ml-4",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.name,C.userId===y&&t.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:C.email})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p&&y&&t.jsx(Py,{userId:C.userId,currentRole:C.role,organizationId:p,currentUserId:y,onSuccess:v})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.status==="active"?"Active":"Pending"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(C.joinedAt)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:C.userId!==y&&t.jsx("button",{onClick:()=>j(C.userId,C.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},C.id))})]}),l.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),t.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),p&&t.jsx(Ey,{organizationId:p,isOpen:m,onClose:()=>h(!1),onSuccess:v})]})}function Ay(){const[r,a]=x.useState([]),[l,o]=x.useState(!0),[d,f]=x.useState(null),[m,h]=x.useState("pending"),[p,y]=x.useState("all"),[v,j]=x.useState({page:1,total:0,totalPages:0}),[N,C]=x.useState(null),w=async()=>{o(!0),f(null);try{const R=await ae({url:"/api/approvals",method:"GET",params:{status:m,type:p,page:v.page,limit:20}});a(R.approvals),j({page:R.pagination.page,total:R.pagination.total,totalPages:R.pagination.totalPages})}catch(R){const T=R instanceof we?R.message:"Failed to fetch approvals";f(T)}finally{o(!1)}};x.useEffect(()=>{w()},[m,p,v.page]);const S=async(R,T)=>{C(R);try{await ae({url:`/api/approvals/${R}/respond`,method:"PUT",data:{action:T}}),w()}catch(W){const H=W instanceof we?W.message:"Failed to respond to approval";f(H)}finally{C(null)}},b=R=>{const T={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T[R]}`,children:R.charAt(0).toUpperCase()+R.slice(1)})},I=R=>{const T={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T[R].bg}`,children:R.charAt(0).toUpperCase()+R.slice(1)})},K=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=R=>new Date(R)<new Date;return l&&r.length===0?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),t.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),d&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:d}),t.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:m,onChange:R=>{h(R.target.value),j(T=>({...T,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"expired",children:"Expired"}),t.jsx("option",{value:"all",children:"All"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),t.jsxs("select",{value:p,onChange:R=>{y(R.target.value),j(T=>({...T,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"budget",children:"Budget"}),t.jsx("option",{value:"deployment",children:"Deployment"}),t.jsx("option",{value:"content",children:"Content"})]})]})]}),r.length===0?t.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("div",{className:"text-6xl mb-4",children:m==="pending"?"inbox":"check-circle"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m==="pending"?"No pending approvals":"No approvals found"}),t.jsx("p",{className:"text-gray-600",children:m==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(R=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),t.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:R.description})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(R.type)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(R.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U(R.expiresAt)?t.jsx("span",{className:"text-red-600",children:"Expired"}):K(R.expiresAt)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.status==="pending"&&!U(R.expiresAt)?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>S(R.id,"approved"),disabled:N===R.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:N===R.id?"...":"Approve"}),t.jsx("button",{onClick:()=>S(R.id,"rejected"),disabled:N===R.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:N===R.id?"...":"Reject"})]}):t.jsx("span",{className:"text-sm text-gray-400",children:R.respondedAt?K(R.respondedAt):"-"})})]},R.id))})]}),v.totalPages>1&&t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",v.page," of ",v.totalPages," (",v.total," total)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>j(R=>({...R,page:R.page-1})),disabled:v.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>j(R=>({...R,page:R.page+1})),disabled:v.page>=v.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const Ry=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","workflow:state","notification","agent:agent_started","agent:agent_completed","agent:agent_message","agent:tool_called","agent:tool_completed","agent:approval_requested","agent:approval_granted","agent:approval_denied","agent:workflow_step","agent:session_paused","agent:session_resumed","agent:session_cancelled","agent:error"];function _y(r={}){const{url:a="/api/events",reconnectDelay:l=3e3,maxReconnectAttempts:o=10,onEvent:d}=r,[f,m]=x.useState(!1),[h,p]=x.useState(null),[y,v]=x.useState(null),j=x.useRef(null),N=x.useRef(0),C=x.useRef(null),w=x.useRef(d),S=x.useRef([]);x.useEffect(()=>{w.current=d},[d]);const b=x.useCallback(()=>{j.current&&(S.current.forEach(({type:U,handler:R})=>{var T;(T=j.current)==null||T.removeEventListener(U,R)}),S.current=[],j.current.close(),j.current=null),C.current&&(clearTimeout(C.current),C.current=null)},[]),I=x.useCallback(()=>{b();const R=`${a}`;try{const T=new EventSource(R,{withCredentials:!0});j.current=T,T.onopen=()=>{m(!0),v(null),N.current=0},T.onerror=()=>{if(m(!1),b(),N.current<o){const W=l*Math.pow(2,N.current);N.current+=1,C.current=setTimeout(()=>{I()},W)}else v("Failed to connect to server. Please refresh the page.")},T.onmessage=W=>{var H;try{const _=JSON.parse(W.data),ee={type:_.type||"message",data:_.data||_,timestamp:Date.now()};p(ee),(H=w.current)==null||H.call(w,ee)}catch{W.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",W.data)}},Ry.forEach(W=>{const H=_=>{var ee;try{const ie=JSON.parse(_.data),B={type:W,data:ie,timestamp:Date.now()};p(B),(ee=w.current)==null||ee.call(w,B)}catch(D){console.warn(`Failed to parse ${W} event:`,D)}};T.addEventListener(W,H),S.current.push({type:W,handler:H})})}catch(T){v("Failed to create EventSource connection"),console.error("SSE connection error:",T)}},[a,l,o,b]),K=x.useCallback(()=>{N.current=0,I()},[I]);return x.useEffect(()=>(I(),b),[I,b]),{isConnected:f,lastEvent:h,error:y,reconnect:K}}const Oy={pending:{bg:"bg-gray-100",border:"border-gray-300",text:"text-gray-600"},active:{bg:"bg-blue-100",border:"border-blue-500",text:"text-blue-700"},completed:{bg:"bg-green-100",border:"border-green-500",text:"text-green-700"},failed:{bg:"bg-red-100",border:"border-red-500",text:"text-red-700"},paused:{bg:"bg-yellow-100",border:"border-yellow-500",text:"text-yellow-700"}},Dy={pending:"",active:"",completed:"",failed:"",paused:""};function Iy({nodes:r,edges:a,currentAgentId:l}){const o=x.useMemo(()=>{const f=new Map,m=140,h=40;return r.forEach((p,y)=>{f.set(p.agentId,{x:y*(m+h),y:0})}),f},[r]),d=x.useMemo(()=>r.length===0?400:Math.max(400,r.length*180+40),[r]);return r.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsx("p",{className:"text-gray-500",children:"No workflow graph available"})]}):t.jsx("div",{className:"bg-white rounded-lg shadow p-4 overflow-x-auto",children:t.jsxs("div",{className:"min-w-fit",children:[t.jsxs("svg",{width:d,height:120,className:"mx-auto",children:[a.map((f,m)=>{const h=o.get(f.from),p=o.get(f.to);if(!h||!p)return null;const y=h.x+140,v=h.y+40,j=p.x,N=p.y+40;return t.jsx("g",{children:t.jsx("line",{x1:y,y1:v,x2:j,y2:N,stroke:"#94a3b8",strokeWidth:2,markerEnd:"url(#arrowhead)"})},`edge-${m}`)}),t.jsx("defs",{children:t.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:t.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#94a3b8"})})})]}),t.jsx("div",{className:"flex items-center gap-10 justify-center -mt-16",children:r.map(f=>{const m=Oy[f.status],h=Dy[f.status],p=f.agentId===l;return t.jsxs("div",{className:`
                  relative flex flex-col items-center justify-center
                  w-[140px] h-[80px] rounded-lg border-2
                  ${m.bg} ${m.border} ${m.text}
                  ${p?"ring-2 ring-offset-2 ring-blue-400":""}
                  transition-all duration-300
                `,children:[t.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[t.jsx("span",{children:h}),t.jsx("span",{className:"truncate max-w-[90px] text-sm",children:f.agentName})]}),t.jsx("div",{className:"text-xs mt-1 capitalize opacity-75",children:f.status}),f.status==="active"&&f.progress!==void 0&&t.jsx("div",{className:"absolute bottom-1 left-2 right-2 h-1 bg-blue-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${f.progress}%`}})}),f.status==="active"&&t.jsx("div",{className:"absolute -top-1 -right-1",children:t.jsxs("span",{className:"relative flex h-3 w-3",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})})]},f.agentId)})}),t.jsx("div",{className:"flex items-center justify-center mt-2",children:r.slice(0,-1).map((f,m)=>t.jsx("div",{className:"w-[180px] flex items-center justify-center",children:t.jsxs("svg",{width:"40",height:"20",className:"text-gray-400",children:[t.jsx("line",{x1:"0",y1:"10",x2:"30",y2:"10",stroke:"currentColor",strokeWidth:"2"}),t.jsx("polygon",{points:"30,5 40,10 30,15",fill:"currentColor"})]})},`arrow-${m}`))})]})})}const Ly={agent_started:"",agent_completed:"",agent_message:"",tool_called:"",tool_completed:"",approval_requested:"",approval_granted:"",approval_denied:"",workflow_step:"",session_paused:"",session_resumed:"",session_cancelled:"",error:""},Fy={agent_started:{bg:"bg-blue-50",border:"border-l-blue-500"},agent_completed:{bg:"bg-green-50",border:"border-l-green-500"},agent_message:{bg:"bg-purple-50",border:"border-l-purple-500"},tool_called:{bg:"bg-yellow-50",border:"border-l-yellow-500"},tool_completed:{bg:"bg-emerald-50",border:"border-l-emerald-500"},approval_requested:{bg:"bg-orange-50",border:"border-l-orange-500"},approval_granted:{bg:"bg-green-50",border:"border-l-green-500"},approval_denied:{bg:"bg-red-50",border:"border-l-red-500"},workflow_step:{bg:"bg-indigo-50",border:"border-l-indigo-500"},session_paused:{bg:"bg-amber-50",border:"border-l-amber-500"},session_resumed:{bg:"bg-teal-50",border:"border-l-teal-500"},session_cancelled:{bg:"bg-red-50",border:"border-l-red-500"},error:{bg:"bg-red-50",border:"border-l-red-500"}};function My(r){return r.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Bm(r){return r.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function zy({message:r,onApprove:a,onDeny:l}){const o=Ly[r.type]||"",d=Fy[r.type]||{bg:"bg-gray-50",border:"border-l-gray-500"},f=()=>{switch(r.type){case"agent_message":return t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-700",children:r.data.message}),r.data.targetAgent&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.jsx("span",{className:"font-medium",children:r.agentName}),t.jsx("span",{className:"mx-2",children:""}),t.jsx("span",{className:"font-medium",children:r.data.targetAgent})]})]});case"tool_called":return t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-700",children:["Calling ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:r.data.toolName})]}),r.data.toolArgs&&t.jsxs("details",{className:"mt-2",children:[t.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"View arguments"}),t.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-x-auto",children:JSON.stringify(r.data.toolArgs,null,2)})]})]});case"tool_completed":return t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-700",children:[t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:r.data.toolName})," completed"]}),r.data.toolResult&&t.jsxs("details",{className:"mt-2",children:[t.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"View result"}),t.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-x-auto max-h-40",children:JSON.stringify(r.data.toolResult,null,2)})]})]});case"approval_requested":return t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-700",children:r.data.message}),r.data.approvalType&&t.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full",children:r.data.approvalType}),r.data.approvalId&&a&&l&&t.jsxs("div",{className:"mt-3 flex gap-2",children:[t.jsx("button",{onClick:()=>a(r.data.approvalId),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition",children:"Approve"}),t.jsx("button",{onClick:()=>l(r.data.approvalId),className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition",children:"Deny"})]})]});case"workflow_step":return t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-700",children:r.data.message}),r.data.stepIndex!==void 0&&r.data.totalSteps!==void 0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsxs("span",{children:["Step ",r.data.stepIndex+1," of ",r.data.totalSteps]}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsxs("span",{children:[r.data.progress,"%"]})]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${r.data.progress}%`}})})]})]});case"error":return t.jsxs("div",{children:[t.jsx("p",{className:"text-red-700",children:r.data.message||r.data.error}),r.data.error&&r.data.message&&t.jsx("pre",{className:"mt-2 p-2 bg-red-100 rounded text-xs text-red-800 overflow-x-auto",children:r.data.error})]});default:return t.jsx("p",{className:"text-gray-700",children:r.data.message||Bm(r.type)})}};return t.jsx("div",{className:`${d.bg} ${d.border} border-l-4 rounded-r-lg p-4 transition-all`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-xl flex-shrink-0",children:o}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"font-medium text-gray-900",children:r.agentName}),t.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded-full",children:Bm(r.type)}),t.jsx("span",{className:"text-xs text-gray-400",children:My(r.timestamp)})]}),t.jsx("div",{className:"mt-2",children:f()})]})]})})}const Uy=[{label:"All",types:null},{label:"Agents",types:["agent_started","agent_completed","agent_message"]},{label:"Tools",types:["tool_called","tool_completed"]},{label:"Approvals",types:["approval_requested","approval_granted","approval_denied"]},{label:"Session",types:["session_paused","session_resumed","session_cancelled","workflow_step"]},{label:"Errors",types:["error"]}];function Hm({events:r,maxEvents:a=100,onApprove:l,onDeny:o,autoScroll:d=!0}){const[f,m]=x.useState(null),[h,p]=x.useState(""),y=x.useRef(null),[v,j]=x.useState(!1),N=x.useMemo(()=>{let S=r;if(f!==null&&(S=S.filter(b=>f.includes(b.type))),h.trim()){const b=h.toLowerCase();S=S.filter(I=>{var K,U,R;return I.agentName.toLowerCase().includes(b)||((K=I.data.message)==null?void 0:K.toLowerCase().includes(b))||((U=I.data.toolName)==null?void 0:U.toLowerCase().includes(b))||((R=I.data.targetAgent)==null?void 0:R.toLowerCase().includes(b))})}return S.slice(0,a)},[r,f,h,a]);x.useEffect(()=>{d&&!v&&y.current&&(y.current.scrollTop=y.current.scrollHeight)},[r,d,v]);const C=()=>{if(!y.current)return;const{scrollTop:S,scrollHeight:b,clientHeight:I}=y.current,K=b-S-I<50;j(!K)},w=()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight,j(!1))};return t.jsxs("div",{className:"bg-white rounded-lg shadow flex flex-col h-full",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Activity Feed"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[N.length," event",N.length!==1?"s":""]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:h,onChange:S=>p(S.target.value),placeholder:"Search events...",className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:Uy.map(S=>t.jsx("button",{onClick:()=>m(S.types),className:`px-3 py-1 text-xs rounded-full transition ${f===S.types||f===null&&S.types===null?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:S.label},S.label))})]}),t.jsx("div",{ref:y,onScroll:C,className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-[200px] max-h-[500px]",children:N.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:""}),t.jsx("p",{className:"font-medium",children:"No events yet"}),t.jsx("p",{className:"text-sm mt-1",children:"Events will appear here in real-time"})]}):N.map(S=>t.jsx(zy,{message:S,onApprove:l,onDeny:o},S.id))}),v&&r.length>0&&t.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2",children:t.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm rounded-full shadow-lg hover:bg-blue-700 transition",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"New events"]})})]})}function $y({sessionId:r,sessionStatus:a,onPause:l,onResume:o,onCancel:d,onSendMessage:f,agentIds:m=[],disabled:h=!1}){const[p,y]=x.useState(""),[v,j]=x.useState(""),[N,C]=x.useState(!1),[w,S]=x.useState(!1),b=a==="running"||a==="paused",I=a==="running",K=a==="paused",U=b,R=b,T=async _=>{C(!0);try{await _()}finally{C(!1)}},W=async _=>{if(_.preventDefault(),!!p.trim()){C(!0);try{await f(p.trim(),v||void 0),y("")}finally{C(!1)}}},H=async()=>{C(!0);try{await d(),S(!1)}finally{C(!1)}};return t.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Intervention Controls"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a==="running"?"bg-green-100 text-green-800":a==="paused"?"bg-yellow-100 text-yellow-800":a==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[a==="running"&&t.jsx("span",{className:"w-2 h-2 mr-1.5 bg-green-500 rounded-full animate-pulse"}),a.charAt(0).toUpperCase()+a.slice(1)]})})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[I&&t.jsxs("button",{onClick:()=>T(l),disabled:h||N,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pause"]}),K&&t.jsxs("button",{onClick:()=>T(o),disabled:h||N,className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Resume"]}),U&&!w&&t.jsxs("button",{onClick:()=>S(!0),disabled:h||N,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Cancel"]}),w&&t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-red-700",children:"Are you sure?"}),t.jsx("button",{onClick:H,disabled:h||N,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition disabled:opacity-50",children:"Yes, cancel"}),t.jsx("button",{onClick:()=>S(!1),disabled:N,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"No"})]})]}),R&&t.jsx("form",{onSubmit:W,className:"space-y-3",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",value:p,onChange:_=>y(_.target.value),placeholder:"Send a message to agents...",disabled:h||N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})}),m.length>0&&t.jsxs("select",{value:v,onChange:_=>j(_.target.value),disabled:h||N,className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[t.jsx("option",{value:"",children:"All agents"}),m.map(_=>t.jsx("option",{value:_.id,children:_.name},_.id))]}),t.jsxs("button",{type:"submit",disabled:h||N||!p.trim(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),"Send"]})]})}),!b&&t.jsx("div",{className:"text-center py-4 text-gray-500",children:t.jsxs("p",{children:["Session is ",a,". No actions available."]})}),N&&t.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center rounded-lg",children:t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})})]})}const _n="";function By(){const[r,a]=x.useState([]),[l,o]=x.useState(null),[d,f]=x.useState(null),[m,h]=x.useState([]),[p,y]=x.useState(!0),[v,j]=x.useState(null),N=x.useCallback(async()=>{try{const _=await fetch(`${_n}/api/agent/sessions`,{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch sessions");const ee=await _.json();a(ee.sessions),j(null)}catch(_){console.error("Failed to fetch sessions:",_),j("Failed to load active sessions")}finally{y(!1)}},[]),C=x.useCallback(async _=>{try{const ee=await fetch(`${_n}/api/agent/sessions/${_}`,{credentials:"include"});if(!ee.ok)throw new Error("Failed to fetch session");const D=await ee.json();f(D.session)}catch(ee){console.error("Failed to fetch session details:",ee)}},[]);x.useEffect(()=>{N();const _=setInterval(N,3e4);return()=>clearInterval(_)},[N]),x.useEffect(()=>{l?C(l):f(null)},[l,C]);const w=x.useCallback(_=>{var ie;const ee=_.type.replace("agent:",""),D=_.data;if(_.type==="workflow:state"){const B=_.data;B.sessionId===l&&f(B),a(V=>V.find(re=>re.sessionId===B.sessionId)?V.map(re=>re.sessionId===B.sessionId?{...re,status:B.status,currentAgentId:B.currentAgentId,completedNodes:B.nodes.filter(te=>te.status==="completed").length,updatedAt:B.updatedAt}:re):V);return}if(_.type.startsWith("agent:")&&D.sessionId){if(l&&D.sessionId!==l)return;const B={id:`${_.timestamp}-${Math.random().toString(36).slice(2)}`,type:ee,agentId:D.agentId||"unknown",agentName:D.agentName||"Unknown Agent",sessionId:D.sessionId,timestamp:new Date(_.timestamp),data:D.data||{}};h(V=>[B,...V].slice(0,200)),d&&D.sessionId===d.sessionId&&D.agentId&&(ee==="agent_started"?f(V=>V&&{...V,currentAgentId:D.agentId,nodes:V.nodes.map(se=>se.agentId===D.agentId?{...se,status:"active"}:se)}):ee==="agent_completed"?f(V=>V&&{...V,nodes:V.nodes.map(se=>se.agentId===D.agentId?{...se,status:"completed"}:se)}):ee==="workflow_step"&&((ie=D.data)==null?void 0:ie.progress)!==void 0&&f(V=>V&&{...V,nodes:V.nodes.map(se=>{var re;return se.agentId===D.agentId?{...se,progress:(re=D.data)==null?void 0:re.progress}:se})}))}},[l,d]),{isConnected:S,reconnect:b}=_y({url:"/api/events",onEvent:w}),I=async()=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/pause`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to pause session");C(l)},K=async()=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/resume`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to resume session");C(l)},U=async()=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/cancel`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to cancel session");C(l)},R=async(_,ee)=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/message`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_,targetAgentId:ee})})).ok)throw new Error("Failed to send message")},T=async _=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/approval`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!0})})).ok)throw new Error("Failed to approve")},W=async _=>{if(!l)return;if(!(await fetch(`${_n}/api/agent/sessions/${l}/approval`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!1})})).ok)throw new Error("Failed to deny")},H=l?m.filter(_=>_.sessionId===l):m;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of agent collaboration"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${S?"bg-green-500 animate-pulse":"bg-red-500"}`}),t.jsx("span",{className:"text-sm text-gray-600",children:S?"Live":"Disconnected"})]}),!S&&t.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"})]})]}),v&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[t.jsx("span",{className:"text-red-500 text-xl",children:"!"}),t.jsx("p",{className:"text-red-700",children:v}),t.jsx("button",{onClick:N,className:"ml-auto text-sm text-red-600 hover:text-red-800",children:"Retry"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"font-semibold text-gray-900",children:"Active Sessions"}),t.jsx("button",{onClick:N,disabled:p,className:"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50",children:"Refresh"})]}),p?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):r.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsx("p",{children:"No active agent sessions"}),t.jsx("p",{className:"text-sm mt-1",children:"Start a workflow to see agents in action"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(_=>t.jsxs("button",{onClick:()=>o(_.sessionId),className:`text-left p-4 rounded-lg border-2 transition ${l===_.sessionId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium text-gray-900 truncate",children:_.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${_.status==="running"?"bg-green-100 text-green-700":_.status==="paused"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:_.status})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[_.completedNodes,"/",_.nodeCount," agents completed"]}),t.jsx("div",{className:"mt-2 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${_.completedNodes/_.nodeCount*100}%`}})})]},_.sessionId))})]}),l&&d&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[t.jsxs("span",{className:"relative flex h-4 w-4",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500"})]}),"Live: ",d.title]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Workflow Progress"}),t.jsx(Iy,{nodes:d.nodes,edges:d.edges,currentAgentId:d.currentAgentId})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(Hm,{events:H,onApprove:T,onDeny:W})}),t.jsx("div",{children:t.jsx($y,{sessionId:l,sessionStatus:d.status,onPause:I,onResume:K,onCancel:U,onSendMessage:R,agentIds:d.nodes.map(_=>({id:_.agentId,name:_.agentName}))})})]})]}),!l&&t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsx("h2",{className:"font-semibold text-gray-900",children:"All Agent Events"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select a session above to see detailed workflow and intervention controls"})]}),t.jsx("div",{className:"p-4",children:t.jsx(Hm,{events:m,maxEvents:100})})]}),m.length===0&&!l&&!p&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Waiting for events..."}),t.jsx("p",{className:"text-gray-500",children:"Agent events will appear here in real-time as workflows execute"})]})]})}const Us={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function fl(r){return r<1?`${Math.round(r*1e3)}ms`:r<60?`${r.toFixed(1)}s`:`${Math.floor(r/60)}m ${Math.round(r%60)}s`}function Wm(r){return new Date(r).toLocaleString()}function hl(r){return r>=95?"text-green-600":r>=80?"text-yellow-600":"text-red-600"}function Hy(r){return r>=95?"bg-green-100":r>=80?"bg-yellow-100":"bg-red-100"}function Wy(){const[r,a]=x.useState([]),[l,o]=x.useState([]),[d,f]=x.useState([]),[m,h]=x.useState(!0),[p,y]=x.useState(null),[v,j]=x.useState(null),[N,C]=x.useState(!0),[w,S]=x.useState(null),b=x.useCallback(async()=>{try{const[T,W,H]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!T.ok||!W.ok||!H.ok)throw new Error("Failed to fetch metrics");const _=await T.json(),ee=await W.json(),D=await H.json();a(_.agents||[]),o(ee.tools||[]),f(D.delegations||[]),j(_.timestamp),y(null)}catch(T){y(T instanceof Error?T.message:"Unknown error")}finally{h(!1)}},[]);x.useEffect(()=>{b()},[b]),x.useEffect(()=>{if(!N)return;const T=setInterval(b,3e4);return()=>clearInterval(T)},[N,b]);const I=r.reduce((T,W)=>T+W.activeSessions,0),K=r.reduce((T,W)=>T+W.totalExecutions,0),U=r.length>0?r.reduce((T,W)=>T+W.successRate,0)/r.length:0,R=w?r.find(T=>T.agentId===w):null;return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),t.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx("input",{type:"checkbox",checked:N,onChange:T=>C(T.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),t.jsx("button",{onClick:b,disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:m?"Refreshing...":"Refresh"})]})]}),p&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsx("p",{className:"text-red-800",children:p})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),m?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:I}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:I===0?"No active agents":"Currently running"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),m?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:K}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),m?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:`text-3xl font-bold ${hl(U)}`,children:[U.toFixed(1),"%"]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),m?t.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:l.reduce((T,W)=>T+W.totalCalls,0)}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),m?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(T=>t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},T))}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(T=>t.jsxs("div",{onClick:()=>S(T.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${w===T.agentId?"ring-2 ring-indigo-500":""}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-2xl",children:Us[T.agentId]||""}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),t.jsx("p",{className:"text-sm text-gray-500",children:T.description})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Executions"}),t.jsx("p",{className:"font-semibold",children:T.totalExecutions})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Success Rate"}),t.jsxs("p",{className:`font-semibold ${hl(T.successRate)}`,children:[T.successRate.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),t.jsx("p",{className:"font-semibold",children:fl(T.avgDuration)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),t.jsx("p",{className:"font-semibold",children:fl(T.p95Duration)})]})]}),T.activeSessions>0&&t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsxs("span",{className:"text-sm text-green-600",children:[T.activeSessions," active session",T.activeSessions>1?"s":""]})]}),T.lastError&&t.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[t.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",T.lastError.message]}),t.jsx("p",{className:"text-red-400 text-xs",children:Wm(T.lastError.timestamp)})]})]},T.agentId))})]}),R&&t.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Us[R.agentId]||""," ",R.name," Details"]}),t.jsx("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:`p-3 rounded-lg ${Hy(R.successRate)}`,children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),t.jsxs("p",{className:`text-2xl font-bold ${hl(R.successRate)}`,children:[R.successRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[R.errorRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:fl(R.avgDuration)})]}),t.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:fl(R.p95Duration)})]})]}),R.topTools.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:R.topTools.map(T=>t.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[T.name," (",T.count,")"]},T.name))})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),m?t.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:t.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):l.length===0?t.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):t.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),t.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),t.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),t.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),t.jsx("tbody",{children:l.slice(0,10).map(T=>t.jsxs("tr",{className:"border-b last:border-0",children:[t.jsx("td",{className:"py-2 px-3 font-medium",children:T.toolName}),t.jsx("td",{className:"text-right py-2 px-3",children:T.totalCalls}),t.jsxs("td",{className:`text-right py-2 px-3 ${hl(T.successRate)}`,children:[T.successRate.toFixed(1),"%"]}),t.jsx("td",{className:"py-2 px-3",children:t.jsx("div",{className:"flex gap-1",children:T.agentUsage.slice(0,3).map(W=>t.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${W.callCount} calls`,children:[Us[W.agentId]||""," ",W.callCount]},W.agentId))})})]},T.toolName))})]})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),m?t.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:t.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):d.length===0?t.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):t.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:t.jsx("div",{className:"space-y-4",children:d.map(T=>t.jsxs("div",{className:"border-b pb-4 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-xl",children:Us[T.fromAgent]||""}),t.jsx("span",{className:"font-semibold capitalize",children:T.fromAgent}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsxs("span",{className:"text-sm text-gray-500",children:[T.totalDelegations," delegations (",T.successRate.toFixed(1),"% success)"]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:T.targets.map(W=>t.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[t.jsx("span",{children:Us[W.toAgent]||""}),t.jsx("span",{className:"capitalize",children:W.toAgent}),t.jsxs("span",{className:"text-gray-400",children:["(",W.count,")"]})]},W.toAgent))})]},T.fromAgent))})})]}),v&&t.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",Wm(v)]})]})}function qy(){const[r,a]=x.useState(null),[l,o]=x.useState([]),[d,f]=x.useState(null),[m,h]=x.useState(!0),[p,y]=x.useState(null),[v,j]=x.useState("month"),[N,C]=x.useState(""),[w,S]=x.useState(!1),{user:b}=Hn();x.useEffect(()=>{I()},[v]);const I=async()=>{try{h(!0),y(null);const[_,ee,D]=await Promise.all([fetch(`/api/costs/summary?period=${v}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(!_.ok||!ee.ok||!D.ok)throw new Error("Failed to fetch cost data");const[ie,B,V]=await Promise.all([_.json(),ee.json(),D.json()]);a(ie.data),o(B.data.trend),f(V.data),V.data.budgetCents&&C((V.data.budgetCents/100).toString())}catch(_){y(_ instanceof Error?_.message:"Unknown error")}finally{h(!1)}},K=async()=>{try{S(!0);const _=N?Math.round(parseFloat(N)*100):null,ee=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:_})});if(!ee.ok){const D=await ee.json();throw new Error(D.message||"Failed to update budget")}await I()}catch(_){y(_ instanceof Error?_.message:"Failed to update budget")}finally{S(!1)}},U=_=>`$${(_/100).toFixed(2)}`,R=_=>_.toLocaleString(),T=_=>{switch(_){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},W=_=>{switch(_){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},H=()=>Math.max(...l.map(_=>_.totalCostCents),1);return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),p&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsx("p",{className:"text-red-800",children:p})}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),d&&t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${W(d.status)}`,children:d.status==="exceeded"?"Budget Exceeded":d.status==="critical"?"Critical":d.status==="warning"?"Warning":"On Track"})]}),m?t.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):d?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[t.jsx("span",{className:"text-4xl font-bold text-gray-900",children:U(d.spentCents)}),d.budgetCents&&t.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",U(d.budgetCents)]}),t.jsxs("span",{className:"text-lg text-gray-500",children:["(",d.usedPercent,"%)"]})]}),d.budgetCents&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:t.jsx("div",{className:`h-4 rounded-full transition-all ${T(d.status)}`,style:{width:`${Math.min(d.usedPercent,100)}%`}})}),t.jsx("p",{className:"text-gray-600",children:d.budgetCents?`${U(d.remainingCents)} remaining this month`:"No budget limit set"})]}):t.jsx("p",{className:"text-gray-500",children:"No budget data available"}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),t.jsx("input",{type:"number",value:N,onChange:_=>C(_.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsx("button",{onClick:K,disabled:w,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Saving...":"Save"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),t.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(_=>t.jsx("button",{onClick:()=>j(_),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${v===_?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:_==="day"?"Today":_==="week"?"This Week":"This Month"},_))}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),m?t.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):t.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:U((r==null?void 0:r.totalCostCents)??0)})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),m?t.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):t.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:R((r==null?void 0:r.requestCount)??0)})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),m?t.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R((r==null?void 0:r.totalInputTokens)??0)})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),m?t.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R((r==null?void 0:r.totalOutputTokens)??0)})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),m?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(_=>t.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},_))}):r!=null&&r.byAgent&&r.byAgent.length>0?t.jsx("div",{className:"space-y-4",children:r.byAgent.map(_=>{const ee=r.totalCostCents>0?Math.round(_.totalCostCents/r.totalCostCents*100):0;return t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm",children:""})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:_.agentName||_.agentId.slice(0,8)}),t.jsxs("span",{className:"text-sm text-gray-600",children:[U(_.totalCostCents)," (",ee,"%)"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${ee}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R(_.requestCount)," requests"]})]})]},_.agentId)})}):t.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),m?t.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):l.length>0?t.jsx("div",{className:"h-48 flex items-end gap-1",children:l.slice(-30).map((_,ee)=>{const D=_.totalCostCents>0?Math.max(_.totalCostCents/H()*100,4):2;return t.jsxs("div",{className:"flex-1 group relative",title:`${_.date}: ${U(_.totalCostCents)}`,children:[t.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${D}%`}}),t.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:t.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[_.date,": ",U(_.totalCostCents)]})})]},_.date)})}):t.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),m?t.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>t.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},_))}):r!=null&&r.byModel&&Object.keys(r.byModel).length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(r.byModel).sort(([,_],[,ee])=>ee.costCents-_.costCents).map(([_,ee])=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:_}),t.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:U(ee.costCents)}),t.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:R(ee.requests)}),t.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:U(ee.requests>0?Math.round(ee.costCents/ee.requests):0)})]},_))})]})}):t.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}function Ky(){const[r,a]=x.useState([]),[l,o]=x.useState(!0),[d,f]=x.useState(""),[m,h]=x.useState(""),[p,y]=x.useState(0),v=20;x.useEffect(()=>{(async()=>{try{o(!0);const w=new URLSearchParams({limit:v.toString(),offset:p.toString()});d&&w.append("type",d),m&&w.append("impactLevel",m);const S=await ae({url:`/api/org-changes?${w.toString()}`,method:"GET"});a(S.data||[])}catch(w){console.error("Failed to fetch organization changes:",w)}finally{o(!1)}})()},[d,m,p]);const j=C=>{switch(C){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=C=>{switch(C){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}};return l&&r.length===0?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),t.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),t.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),t.jsxs("select",{value:d,onChange:C=>{f(C.target.value),y(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"new_member",children:"New Member"}),t.jsx("option",{value:"role_change",children:"Role Change"}),t.jsx("option",{value:"workflow_added",children:"Workflow Added"}),t.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),t.jsx("option",{value:"integration_added",children:"Integration Added"}),t.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),t.jsxs("select",{value:m,onChange:C=>{h(C.target.value),y(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[t.jsx("option",{value:"",children:"All Impact Levels"}),t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),r.length===0?t.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),t.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[t.jsx("span",{className:"mr-2",children:N(C.type)}),C.type.replace(/_/g," ")]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:C.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${j(C.impactLevel)}`,children:C.impactLevel})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.createdAt).toLocaleString()})]},C.id))})]})}),r.length>0&&t.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[t.jsx("button",{onClick:()=>y(Math.max(0,p-v)),disabled:p===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",p+1," to ",Math.min(p+v,p+r.length)]}),t.jsx("button",{onClick:()=>y(p+v),disabled:r.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}const Vy=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],$s={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},qm={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function Qy(){var J,oe;const r=Yr(),[a,l]=x.useState(qm),[o,d]=x.useState(!1),[f,m]=x.useState(!1),[h,p]=x.useState(null),[y,v]=x.useState(null),[j,N]=x.useState(""),[C,w]=x.useState(""),[S,b]=x.useState(""),[I,K]=x.useState(""),[U,R]=x.useState(""),T=x.useCallback(async()=>{if(!(!a.changeType||!a.teamFunction||!a.entityName||!a.description)){d(!0),p(null);try{const P=await ae({url:"/api/org-changes/analyze",method:"POST",data:{changeType:a.changeType,teamFunction:a.teamFunction,entityName:a.entityName,description:a.description}});l(E=>({...E,analysis:P,selectedSkills:P.suggestedSkills,selectedTools:P.suggestedTools}))}catch(P){const E=P instanceof we?P.message:"   ";p(E)}finally{d(!1)}}},[a.changeType,a.teamFunction,a.entityName,a.description]);x.useEffect(()=>{a.step===3&&!a.analysis&&T()},[a.step,a.analysis,T]);const W=P=>{l(E=>({...E,changeType:P}))},H=()=>{if(p(null),a.step===1&&!a.changeType){p("  ");return}if(a.step===2){if(!a.teamFunction){p("/Function ");return}if(!a.entityName.trim()){p(" ");return}if(!a.description.trim()){p(" ");return}}l(P=>({...P,step:P.step+1}))},_=()=>{p(null),l(P=>({...P,step:P.step-1}))},ee=async()=>{m(!0),p(null);try{const P=await ae({url:"/api/org-changes/wizard",method:"POST",data:{changeType:a.changeType,teamFunction:a.teamFunction,entityName:a.entityName,description:a.description,selectedSkills:[...a.selectedSkills,...a.customSkills],selectedTools:[...a.selectedTools,...a.customTools],permissions:a.permissions}});v({prUrl:P.prUrl,changeId:P.change.id})}catch(P){const E=P instanceof we?P.message:"    ";p(E)}finally{m(!1)}},D=P=>{l(E=>({...E,selectedSkills:E.selectedSkills.includes(P)?E.selectedSkills.filter($=>$!==P):[...E.selectedSkills,P]}))},ie=P=>{l(E=>({...E,selectedTools:E.selectedTools.includes(P)?E.selectedTools.filter($=>$!==P):[...E.selectedTools,P]}))},B=()=>{j.trim()&&!a.customSkills.includes(j.trim())&&(l(P=>({...P,customSkills:[...P.customSkills,j.trim()]})),N(""))},V=()=>{C.trim()&&!a.customTools.includes(C.trim())&&(l(P=>({...P,customTools:[...P.customTools,C.trim()]})),w(""))},se=(P,E,$)=>{E.trim()&&!a.permissions[P].includes(E.trim())&&(l(he=>({...he,permissions:{...he.permissions,[P]:[...he.permissions[P],E.trim()]}})),$(""))},re=(P,E)=>{l($=>({...$,permissions:{...$.permissions,[P]:$.permissions[P].filter(he=>he!==E)}}))},te=P=>{switch(P){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},me=P=>{switch(P){case"low":return"";case"medium":return"";case"high":return""}};return y?t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),t.jsx("a",{href:y.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:y.prUrl})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx("button",{onClick:()=>r("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),t.jsx("button",{onClick:()=>{l(qm),v(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(P=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${P===a.step?"bg-indigo-600 text-white":P<a.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:P<a.step?"":P}),P<5&&t.jsx("div",{className:`w-16 h-1 mx-2 ${P<a.step?"bg-indigo-600":"bg-gray-200"}`})]},P))}),t.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[t.jsx("span",{className:a.step>=1?"text-indigo-600":"text-gray-500",children:" "}),t.jsx("span",{className:a.step>=2?"text-indigo-600":"text-gray-500",children:" "}),t.jsx("span",{className:a.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),t.jsx("span",{className:a.step>=4?"text-indigo-600":"text-gray-500",children:" "}),t.jsx("span",{className:a.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),h&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:h}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.step===1&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),t.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys($s).map(P=>{const E=$s[P],$=a.changeType===P;return t.jsxs("button",{onClick:()=>W(P),className:`p-4 rounded-lg border-2 text-left transition-all ${$?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:E.emoji}),t.jsx("div",{className:"font-semibold text-gray-900",children:E.title}),t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:E.titleEn}),t.jsx("div",{className:"text-sm text-gray-600",children:E.description})]},P)})})]}),a.step===2&&t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[a.changeType&&$s[a.changeType].emoji," ",a.changeType&&$s[a.changeType].title," (Step 2/5)"]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),t.jsxs("select",{value:a.teamFunction,onChange:P=>l(E=>({...E,teamFunction:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"",children:""}),Vy.map(P=>t.jsx("option",{value:P,children:P},P))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a.changeType==="new_agent"?" ":a.changeType==="new_team"?" ":" "}),t.jsx("input",{type:"text",value:a.entityName,onChange:P=>l(E=>({...E,entityName:P.target.value})),placeholder:a.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("textarea",{value:a.description,onChange:P=>l(E=>({...E,description:P.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-xl mr-2",children:""}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),t.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',a.teamFunction||" ",'"       .']})]})]})})]})]}),a.step===3&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),o?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):t.jsxs("div",{className:"space-y-6",children:[a.analysis&&t.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-xl mr-2",children:""}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),t.jsxs("div",{className:"text-sm text-indigo-700",children:['"',a.teamFunction,'"     ,    .       .']})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(J=a.analysis)==null?void 0:J.suggestedSkills.map(P=>t.jsx("button",{onClick:()=>D(P),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${a.selectedSkills.includes(P)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P)),a.customSkills.map(P=>t.jsxs("button",{onClick:()=>l(E=>({...E,customSkills:E.customSkills.filter($=>$!==P)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[P," "]},P))]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:j,onChange:P=>N(P.target.value),onKeyPress:P=>P.key==="Enter"&&B(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(oe=a.analysis)==null?void 0:oe.suggestedTools.map(P=>t.jsx("button",{onClick:()=>ie(P),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${a.selectedTools.includes(P)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},P)),a.customTools.map(P=>t.jsxs("button",{onClick:()=>l(E=>({...E,customTools:E.customTools.filter($=>$!==P)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[P," "]},P))]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:C,onChange:P=>w(P.target.value),onKeyPress:P=>P.key==="Enter"&&V(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{onClick:V,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),a.step===4&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.permissions.read.map(P=>t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[P,t.jsx("button",{onClick:()=>re("read",P),className:"ml-1 hover:text-blue-900",children:""})]},P))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:S,onChange:P=>b(P.target.value),onKeyPress:P=>P.key==="Enter"&&se("read",S,b),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{onClick:()=>se("read",S,b),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.permissions.write.map(P=>t.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[P,t.jsx("button",{onClick:()=>re("write",P),className:"ml-1 hover:text-green-900",children:""})]},P))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:I,onChange:P=>K(P.target.value),onKeyPress:P=>P.key==="Enter"&&se("write",I,K),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{onClick:()=>se("write",I,K),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.permissions.deny.map(P=>t.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[P,t.jsx("button",{onClick:()=>re("deny",P),className:"ml-1 hover:text-red-900",children:""})]},P))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:U,onChange:P=>R(P.target.value),onKeyPress:P=>P.key==="Enter"&&se("deny",U,R),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{onClick:()=>se("deny",U,R),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),t.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("li",{children:[t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),t.jsxs("li",{children:[t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),t.jsxs("li",{children:[t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),a.step===5&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:" :"}),t.jsx("span",{className:"font-medium",children:a.changeType&&$s[a.changeType].title})]}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),t.jsx("span",{className:"font-medium",children:a.teamFunction})]}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:":"}),t.jsx("span",{className:"font-medium",children:a.entityName})]}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:":"}),t.jsx("span",{className:"text-gray-700",children:a.description})]}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:":"}),t.jsx("span",{className:"flex flex-wrap gap-1",children:[...a.selectedSkills,...a.customSkills].map(P=>t.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:P},P))})]}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"w-32 text-gray-500",children:":"}),t.jsx("span",{className:"flex flex-wrap gap-1",children:[...a.selectedTools,...a.customTools].map(P=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:P},P))})]})]})]}),a.analysis&&t.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${te(a.analysis.riskLevel)}`,children:[": ",me(a.analysis.riskLevel)]})]}),t.jsxs("div",{className:"p-4 space-y-3",children:[a.analysis.impactedAgents.length>0&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-lg mr-2",children:""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),t.jsx("div",{className:"font-medium",children:a.analysis.impactedAgents.join(", ")})]})]}),a.analysis.impactedSOPs.length>0&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-lg mr-2",children:""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),t.jsx("div",{className:"font-medium",children:a.analysis.impactedSOPs.join(", ")})]})]}),a.analysis.recommendations.length>0&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-lg mr-2",children:""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),t.jsx("ul",{className:"mt-1 space-y-1",children:a.analysis.recommendations.slice(0,3).map((P,E)=>t.jsx("li",{className:"text-sm text-gray-700",children:P},E))})]})]})]})]}),a.analysis&&t.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),t.jsxs("div",{className:"p-4 font-mono text-sm",children:[a.analysis.filesCreated.length>0&&t.jsxs("div",{className:"mb-2",children:[t.jsx("span",{className:"text-green-600",children:":"}),a.analysis.filesCreated.map(P=>t.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",P]},P))]}),a.analysis.filesModified.length>0&&t.jsxs("div",{children:[t.jsx("span",{className:"text-yellow-600",children:":"}),a.analysis.filesModified.map(P=>t.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",P]},P))]})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:a.step===1?()=>r("/org-changes"):_,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:a.step===1?"":" "}),a.step<5?t.jsx("button",{onClick:H,disabled:o,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):t.jsx("button",{onClick:ee,disabled:f,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":"  PR "})]})]})}function Gy({isOpen:r,onClose:a,onSuccess:l,objective:o,defaultQuarter:d,currentUserId:f}){const[m,h]=x.useState({title:"",description:"",quarter:d,ownerId:f,status:"on_track"}),[p,y]=x.useState(!1),[v,j]=x.useState(null);x.useEffect(()=>{h(o?{title:o.title,description:o.description||"",quarter:o.quarter,ownerId:o.ownerId,status:o.status}:{title:"",description:"",quarter:d,ownerId:f,status:"on_track"})},[o,d,f]);const N=async()=>{if(!m.title.trim()){j("Title is required");return}y(!0),j(null);try{o?await ae({url:`/api/okr/${o.id}`,method:"PUT",data:m}):await ae({url:"/api/okr",method:"POST",data:m}),l(),a()}catch(C){const w=C instanceof we?C.message:"Failed to save objective";j(w)}finally{y(!1)}};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:o?"Edit Objective":"New Objective"}),v&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:v}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:m.title,onChange:C=>h({...m,title:C.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:m.description,onChange:C=>h({...m,description:C.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),t.jsx("input",{type:"text",value:m.quarter,onChange:C=>h({...m,quarter:C.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:m.status,onChange:C=>h({...m,status:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"on_track",children:"On Track"}),t.jsx("option",{value:"at_risk",children:"At Risk"}),t.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:p?"Saving...":o?"Save Changes":"Create Objective"})]})]})})}):null}function Jy({isOpen:r,onClose:a,onSuccess:l,objectiveId:o,keyResult:d}){const[f,m]=x.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[h,p]=x.useState(!1),[y,v]=x.useState(null);x.useEffect(()=>{m(d?{title:d.title,target:String(d.target),current:String(d.current),unit:d.unit,ownerId:d.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[d]);const j=async()=>{if(!f.title.trim()){v("Title is required");return}p(!0),v(null);try{const N={title:f.title,target:Number(f.target),current:Number(f.current),unit:f.unit,ownerId:f.ownerId||null};d?await ae({url:`/api/okr/key-results/${d.id}`,method:"PUT",data:N}):await ae({url:`/api/okr/${o}/key-results`,method:"POST",data:N}),l(),a()}catch(N){const C=N instanceof we?N.message:"Failed to save key result";v(C)}finally{p(!1)}};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:d?"Edit Key Result":"New Key Result"}),y&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:y}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:f.title,onChange:N=>m({...f,title:N.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),t.jsx("input",{type:"number",value:f.target,onChange:N=>m({...f,target:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),t.jsx("input",{type:"number",value:f.current,onChange:N=>m({...f,current:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),t.jsxs("select",{value:f.unit,onChange:N=>m({...f,unit:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"%",children:"%"}),t.jsx("option",{value:"count",children:"Count"}),t.jsx("option",{value:"$",children:"$"}),t.jsx("option",{value:"score",children:"Score"})]})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Saving...":d?"Save Changes":"Add Key Result"})]})]})})}):null}function Yy({progress:r,status:a}){const l=()=>a==="behind"?"bg-red-500":a==="at_risk"?"bg-yellow-500":"bg-green-500";return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`h-2.5 rounded-full ${l()}`,style:{width:`${Math.min(r,100)}%`}})})}function Xy({status:r}){const a={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},l={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a[r]||a.on_track}`,children:l[r]||r})}function Zy({objective:r,onEdit:a,onDelete:l,onAddKeyResult:o,onEditKeyResult:d,onUpdateKeyResultProgress:f}){const[m,h]=x.useState(!0);return t.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.title}),t.jsx(Xy,{status:r.status})]}),r.description&&t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:r.description}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1 max-w-xs",children:t.jsx(Yy,{progress:r.progress,status:r.status})}),t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.progress,"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>a(r),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:t.jsx("span",{className:"text-lg",children:""})}),t.jsx("button",{onClick:()=>l(r.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:t.jsx("span",{className:"text-lg",children:""})})]})]}),t.jsxs("div",{className:"mt-4 border-t pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("button",{onClick:()=>h(!m),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[t.jsx("span",{children:m?"":""}),"Key Results (",r.keyResults.length,")"]}),t.jsx("button",{onClick:()=>o(r.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),m&&t.jsx("div",{className:"space-y-3",children:r.keyResults.length===0?t.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):r.keyResults.map(p=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800",children:p.title}),t.jsx("button",{onClick:()=>d(p),className:"text-gray-400 hover:text-gray-600",children:t.jsx("span",{className:"text-sm",children:""})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(p.progress,100)}%`}})})}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"number",value:p.current,onChange:y=>f(p.id,Number(y.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),t.jsxs("span",{className:"text-gray-500",children:["/ ",p.target," ",p.unit]}),t.jsxs("span",{className:"font-medium text-gray-700",children:["(",p.progress,"%)"]})]})]})]},p.id))})]})]})})}function ev(){const{user:r}=Hn(),[a,l]=x.useState([]),[o,d]=x.useState([]),[f,m]=x.useState(""),[h,p]=x.useState(!0),[y,v]=x.useState(null),[j,N]=x.useState(!1),[C,w]=x.useState(null),[S,b]=x.useState(!1),[I,K]=x.useState(""),[U,R]=x.useState(null),T=()=>{const re=new Date;return`${re.getFullYear()}-Q${Math.ceil((re.getMonth()+1)/3)}`},W=async()=>{try{const re=await ae({url:"/api/okr/meta/quarters",method:"GET"});d(re.quarters),re.quarters.length>0&&!f&&m(re.quarters[0])}catch(re){console.error("Failed to fetch quarters:",re)}},H=async()=>{if(f){p(!0),v(null);try{const re=await ae({url:"/api/okr",method:"GET",params:{quarter:f}});l(re.objectives)}catch(re){const te=re instanceof we?re.message:"Failed to fetch objectives";v(te)}finally{p(!1)}}};x.useEffect(()=>{W()},[]),x.useEffect(()=>{f&&H()},[f]);const _=async re=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await ae({url:`/api/okr/${re}`,method:"DELETE"}),H()}catch(te){const me=te instanceof we?te.message:"Failed to delete objective";v(me)}},ee=async(re,te)=>{try{await ae({url:`/api/okr/key-results/${re}`,method:"PUT",data:{current:te}}),H()}catch(me){console.error("Failed to update key result:",me)}},D=()=>{w(null),N(!0)},ie=re=>{w(re),N(!0)},B=re=>{K(re),R(null),b(!0)},V=re=>{K(re.objectiveId),R(re),b(!0)},se=a.length>0?Math.round(a.reduce((re,te)=>re+te.progress,0)/a.length):0;return h&&a.length===0?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):t.jsxs("div",{className:"max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),t.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),t.jsxs("button",{onClick:D,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),y&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:y}),t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),t.jsx("select",{value:f,onChange:re=>m(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:o.map(re=>t.jsx("option",{value:re,children:re},re))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[a.length," objective",a.length!==1?"s":""]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),t.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${se}%`}})}),t.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[se,"%"]})]})]})]}),a.length===0?t.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),t.jsx("button",{onClick:D,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):t.jsx("div",{className:"space-y-6",children:a.map(re=>t.jsx(Zy,{objective:re,onEdit:ie,onDelete:_,onAddKeyResult:B,onEditKeyResult:V,onUpdateKeyResultProgress:ee},re.id))}),t.jsx(Gy,{isOpen:j,onClose:()=>N(!1),onSuccess:()=>{H(),W()},objective:C,defaultQuarter:f||T(),currentUserId:(r==null?void 0:r.id)||""}),t.jsx(Jy,{isOpen:S,onClose:()=>b(!1),onSuccess:H,objectiveId:I,keyResult:U})]})}const tv={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function nv({step:r,index:a,isSelected:l,isDragging:o,onSelect:d,onDragStart:f,onDragEnd:m}){const h=x.useMemo(()=>tv[r.type],[r.type]);return t.jsxs("div",{draggable:!0,onDragStart:f,onDragEnd:m,onClick:d,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${h.bgColor}
        ${l?h.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":h.borderColor}
        ${o?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[t.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:a+1}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg",children:h.icon}),t.jsx("span",{className:`text-xs font-medium ${h.textColor}`,children:h.label})]}),t.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:r.name}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[r.agent&&t.jsxs("p",{className:"truncate",children:[t.jsx("span",{className:"text-gray-400",children:"agent:"})," ",r.agent]}),r.tool&&t.jsxs("p",{className:"truncate",children:[t.jsx("span",{className:"text-gray-400",children:"tool:"})," ",r.tool]}),r.assignee&&t.jsxs("p",{className:"truncate",children:[t.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",r.assignee]}),r.approver&&t.jsxs("p",{className:"truncate",children:[t.jsx("span",{className:"text-gray-400",children:"approver:"})," ",r.approver]}),r.timeout&&t.jsxs("p",{className:"truncate",children:[t.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",r.timeout]})]}),r.conditional&&t.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function rv({steps:r,selectedStepIndex:a,onSelectStep:l,onReorderSteps:o,onAddStep:d}){const[f,m]=x.useState(null),[h,p]=x.useState(null),y=x.useRef(null),v=x.useCallback(S=>b=>{b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",String(S)),m(S)},[]),j=x.useCallback(()=>{m(null),p(null)},[]),N=x.useCallback(S=>b=>{b.preventDefault(),b.dataTransfer.dropEffect="move",f!==null&&S!==f&&p(S)},[f]),C=x.useCallback(S=>b=>{b.preventDefault();const I=parseInt(b.dataTransfer.getData("text/plain"),10);!isNaN(I)&&I!==S&&o(I,S),m(null),p(null)},[o]),w=S=>S>=r.length-1?null:t.jsxs("div",{className:"flex justify-center my-2",children:[t.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),t.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:t.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return t.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:y,children:[t.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),t.jsxs("button",{onClick:()=>d("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Automated"})]}),t.jsxs("button",{onClick:()=>d("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Manual"})]}),t.jsxs("button",{onClick:()=>d("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Approval"})]})]})}),t.jsx("div",{className:"p-8 min-h-[400px]",children:r.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[t.jsx("div",{className:"text-5xl mb-4",children:""}),t.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),t.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):t.jsxs("div",{className:"flex flex-col items-center",children:[r.map((S,b)=>t.jsxs("div",{children:[h===b&&f!==null&&t.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:t.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),t.jsx("div",{onDragOver:N(b),onDrop:C(b),children:t.jsx(nv,{step:S,index:b,isSelected:a===b,isDragging:f===b,onSelect:()=>l(b),onDragStart:v(b),onDragEnd:j})}),w(b)]},S.id+"-"+b)),h===r.length&&f!==null&&t.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:S=>{S.preventDefault(),p(r.length)},onDrop:C(r.length),children:t.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),a!==null&&t.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>l(null),style:{pointerEvents:"none"}})]})}function sv({step:r,onUpdate:a,onDelete:l,onClose:o}){var N,C;const[d,f]=x.useState(r),[m,h]=x.useState("");if(x.useEffect(()=>{f(r)},[r]),!d)return t.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:t.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const p=(w,S)=>{const b={...d,[w]:S};f(b),a(b)},y=w=>{const S={...d,conditional:{when:w}};f(S),a(S)},v=()=>{if(!m.trim())return;const w=[...d.checklist||[],m.trim()];p("checklist",w),h("")},j=w=>{var b;const S=((b=d.checklist)==null?void 0:b.filter((I,K)=>K!==w))||[];p("checklist",S.length>0?S:void 0)};return t.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),t.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),t.jsxs("select",{value:d.type,onChange:w=>p("type",w.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"automated",children:" Automated"}),t.jsx("option",{value:"manual",children:" Manual"}),t.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),t.jsx("input",{type:"text",value:d.id,onChange:w=>p("id",w.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:d.name,onChange:w=>p("name",w.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:d.description||"",onChange:w=>p("description",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),d.type==="automated"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),t.jsx("input",{type:"text",value:d.agent||"",onChange:w=>p("agent",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),t.jsx("input",{type:"text",value:d.tool||"",onChange:w=>p("tool",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),d.type==="manual"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),t.jsx("input",{type:"text",value:d.assignee||"",onChange:w=>p("assignee",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:d.requires_approval||!1,onChange:w=>p("requires_approval",w.target.checked),className:"rounded border-gray-300"}),t.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),d.type==="approval_required"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),t.jsx("input",{type:"text",value:d.approver||"",onChange:w=>p("approver",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),t.jsxs("select",{value:d.timeout||"",onChange:w=>p("timeout",w.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"",children:"No timeout"}),t.jsx("option",{value:"5m",children:"5 minutes"}),t.jsx("option",{value:"15m",children:"15 minutes"}),t.jsx("option",{value:"30m",children:"30 minutes"}),t.jsx("option",{value:"1h",children:"1 hour"}),t.jsx("option",{value:"2h",children:"2 hours"}),t.jsx("option",{value:"4h",children:"4 hours"}),t.jsx("option",{value:"8h",children:"8 hours"}),t.jsx("option",{value:"24h",children:"24 hours"}),t.jsx("option",{value:"48h",children:"48 hours"}),t.jsx("option",{value:"72h",children:"72 hours"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),t.jsx("input",{type:"text",value:((N=d.conditional)==null?void 0:N.when)||"",onChange:w=>w.target.value?y(w.target.value):p("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(d.type==="manual"||d.type==="approval_required")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),t.jsxs("div",{className:"space-y-2",children:[(C=d.checklist)==null?void 0:C.map((w,S)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:w}),t.jsx("button",{onClick:()=>j(S),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},S)),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),onKeyDown:w=>w.key==="Enter"&&v(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),t.jsx("button",{onClick:v,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function av({sopId:r,isOpen:a,onClose:l}){const[o,d]=x.useState("{}"),[f,m]=x.useState(null),[h,p]=x.useState(!1),[y,v]=x.useState(null),[j,N]=x.useState(0),C=async()=>{if(r){p(!0),v(null);try{const b=JSON.parse(o),I=await ae({url:`/api/sops/${r}/simulate`,method:"POST",data:{input:b}});m(I.simulation),N(0)}catch(b){b instanceof SyntaxError?v("Invalid JSON in input data"):b instanceof we?v(b.message):v("Failed to simulate SOP")}finally{p(!1)}}},w=b=>{if(b<60)return`${b}m`;const I=Math.floor(b/60),K=b%60;if(I<24)return K>0?`${I}h ${K}m`:`${I}h`;const U=Math.floor(I/24),R=I%24;return R>0?`${U}d ${R}h`:`${U}d`},S=b=>{switch(b){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),t.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),t.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),t.jsx("textarea",{value:o,onChange:b=>d(b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),t.jsx("button",{onClick:C,disabled:h||!r,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:h?"Simulating...":"Run Simulation"})]}),y&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),f&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[t.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:f.sopName}),t.jsxs("div",{className:"flex gap-6 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",t.jsx("span",{className:"font-medium",children:f.totalSteps})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",t.jsx("span",{className:"font-medium",children:w(f.estimatedTotalDuration)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",t.jsxs("span",{className:"font-medium",children:[f.steps.filter(b=>b.willExecute).length," steps"]})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),t.jsx("div",{className:"space-y-3",children:f.steps.map((b,I)=>{const K=S(b.type),U=I===j;return t.jsx("div",{onClick:()=>N(I),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${U?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${b.willExecute?"":"opacity-50"}
                        `,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${b.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:I+1}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${K.color}`,children:[K.icon," ",b.type.replace("_"," ")]}),!b.willExecute&&t.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),t.jsx("h5",{className:"font-medium text-gray-900",children:b.name}),b.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b.description}),b.skipReason&&t.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",b.skipReason]}),U&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[b.agent&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",t.jsx("span",{className:"font-mono",children:b.agent})]}),b.tool&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",t.jsx("span",{className:"font-mono",children:b.tool})]}),b.assignee&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",t.jsx("span",{children:b.assignee})]}),b.approver&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",t.jsx("span",{children:b.approver})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",t.jsx("span",{children:w(b.estimatedDuration)})]}),b.checklist&&b.checklist.length>0&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Checklist:"}),t.jsx("ul",{className:"mt-1 ml-4 list-disc",children:b.checklist.map((R,T)=>t.jsx("li",{className:"text-gray-600",children:R},T))})]}),b.resolvedInput&&Object.keys(b.resolvedInput).length>0&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),t.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(b.resolvedInput,null,2)})]})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:w(b.estimatedDuration)})]})},b.id)})})]}),f.exceptionHandlers.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),t.jsx("div",{className:"space-y-2",children:f.exceptionHandlers.map((b,I)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[t.jsx("span",{className:"text-amber-500",children:""}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:b.condition}),t.jsx("span",{className:"text-gray-400 mx-2",children:""}),t.jsx("span",{className:"text-indigo-600",children:b.action}),b.target&&t.jsxs("span",{className:"text-gray-500",children:[" (target: ",b.target,")"]})]})]},I))})]})]})]})]})}):null}const lv=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function _o(){const{id:r}=ec(),a=Yr(),l=!!r,[o,d]=x.useState([]),[f,m]=x.useState(!0),[h,p]=x.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[y,v]=x.useState([{pattern:""}]),[j,N]=x.useState([]),[C,w]=x.useState([]),[S,b]=x.useState(null),[I,K]=x.useState(!1),[U,R]=x.useState(!1),[T,W]=x.useState(null),[H,_]=x.useState(null),[ee,D]=x.useState(!1),[ie,B]=x.useState(!1),[V,se]=x.useState(""),[re,te]=x.useState("editor"),me=x.useCallback(async()=>{try{const le=await ae({url:"/api/sops",method:"GET"});d(le.sops)}catch(le){console.error("Failed to fetch SOP list:",le)}finally{m(!1)}},[]),J=x.useCallback(async le=>{K(!0),W(null);try{const Te=(await ae({url:`/api/sops/${le}`,method:"GET"})).sop;p(Te.metadata),v(Te.triggers),N(Te.steps),w(Te.exception_handling||[])}catch(Ce){Ce instanceof we?W(Ce.message):W("Failed to load SOP")}finally{K(!1)}},[]),oe=x.useCallback(async()=>{if(r)try{const le=await fetch(`/api/sops/${r}/yaml`,{credentials:"include"});if(le.ok){const Ce=await le.text();se(Ce)}}catch(le){console.error("Failed to fetch YAML:",le)}},[r]);x.useEffect(()=>{me()},[me]),x.useEffect(()=>{r?J(r):(p({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),v([{pattern:""}]),N([]),w([]),b(null))},[r,J]),x.useEffect(()=>{ie&&r&&oe()},[ie,r,oe]);const P=le=>{const Ce={id:`step-${Date.now()}`,name:`New ${le==="automated"?"Automated":le==="manual"?"Manual":"Approval"} Step`,type:le};N([...j,Ce]),b(j.length)},E=le=>{if(S===null)return;const Ce=[...j];Ce[S]=le,N(Ce)},$=()=>{if(S===null)return;const le=j.filter((Ce,Te)=>Te!==S);N(le),b(null)},he=(le,Ce)=>{const Te=[...j],[mn]=Te.splice(le,1);Te.splice(Ce,0,mn),N(Te),S===le&&b(Ce)},ve=()=>{v([...y,{pattern:""}])},X=(le,Ce)=>{const Te=[...y];Te[le]={pattern:Ce},v(Te)},Q=le=>{y.length<=1||v(y.filter((Ce,Te)=>Te!==le))},ge=()=>{w([...C,{condition:"",action:"notify_owner"}])},be=(le,Ce,Te)=>{const mn=[...C];mn[le]={...mn[le],[Ce]:Te},w(mn)},ke=le=>{w(C.filter((Ce,Te)=>Te!==le))},qe=async()=>{if(!h.id.trim()){W("SOP ID is required");return}if(!h.name.trim()){W("SOP name is required");return}if(!h.owner.trim()){W("Owner is required");return}if(y.every(Ce=>!Ce.pattern.trim())){W("At least one trigger pattern is required");return}if(j.length===0){W("At least one step is required");return}R(!0),W(null),_(null);const le={metadata:h,triggers:y.filter(Ce=>Ce.pattern.trim()),steps:j,exception_handling:C.filter(Ce=>Ce.condition.trim())};try{l?(await ae({url:`/api/sops/${r}`,method:"PUT",data:le}),_("SOP updated successfully")):(await ae({url:"/api/sops",method:"POST",data:le}),_("SOP created successfully"),a(`/sops/${h.id}`)),me()}catch(Ce){Ce instanceof we?W(Ce.message):W("Failed to save SOP")}finally{R(!1)}},Wn=async()=>{if(!(!r||!confirm("Are you sure you want to delete this SOP?")))try{await ae({url:`/api/sops/${r}`,method:"DELETE"}),a("/sops"),me()}catch(le){le instanceof we?W(le.message):W("Failed to delete SOP")}};return I?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("nav",{className:"text-sm mb-1",children:[t.jsx(Zt,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),t.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),t.jsx("span",{className:"text-gray-600",children:l?h.name||r:"New SOP"})]}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l?"Edit SOP":"Create New SOP"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[l&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>B(!ie),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:ie?"Hide YAML":"View YAML"}),t.jsx("button",{onClick:()=>D(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),t.jsx("button",{onClick:Wn,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),t.jsx("button",{onClick:qe,disabled:U,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:U?"Saving...":l?"Update SOP":"Create SOP"})]})]}),T&&t.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:T}),H&&t.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:H})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[t.jsx("div",{className:"p-4",children:t.jsxs(Zt,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[t.jsx("span",{children:"+"}),t.jsx("span",{children:"New SOP"})]})}),t.jsx("nav",{className:"px-2 pb-4",children:f?t.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):o.length===0?t.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):o.map(le=>t.jsxs(Zt,{to:`/sops/${le.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${r===le.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[t.jsx("div",{className:"font-medium truncate",children:le.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[le.function,"  ",le.stepCount," steps"]})]},le.id))})]}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:t.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(le=>t.jsxs("button",{onClick:()=>te(le),className:`py-3 text-sm font-medium border-b-2 transition-colors ${re===le?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[le==="editor"&&"Step Editor",le==="triggers"&&"Triggers & Metadata",le==="exceptions"&&"Exception Handlers"]},le))})}),re==="editor"&&t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsx(rv,{steps:j,selectedStepIndex:S,onSelectStep:b,onReorderSteps:he,onAddStep:P}),t.jsx(sv,{step:S!==null?j[S]:null,onUpdate:E,onDelete:$,onClose:()=>b(null)})]}),re==="triggers"&&t.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:t.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),t.jsx("input",{type:"text",value:h.id,onChange:le=>p({...h,id:le.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:h.name,onChange:le=>p({...h,name:le.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),t.jsx("select",{value:h.function,onChange:le=>p({...h,function:le.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:lv.map(le=>t.jsx("option",{value:le.value,children:le.label},le.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),t.jsx("input",{type:"text",value:h.owner,onChange:le=>p({...h,owner:le.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),t.jsx("input",{type:"text",value:h.version,onChange:le=>p({...h,version:le.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),t.jsx("button",{onClick:ve,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),t.jsx("div",{className:"space-y-3",children:y.map((le,Ce)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:le.pattern,onChange:Te=>X(Ce,Te.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),y.length>1&&t.jsx("button",{onClick:()=>Q(Ce),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},Ce))})]})]})}),re==="exceptions"&&t.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),t.jsx("button",{onClick:ge,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),C.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx("p",{children:"No exception handlers defined"}),t.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):t.jsx("div",{className:"space-y-4",children:C.map((le,Ce)=>t.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),t.jsxs("select",{value:le.condition,onChange:Te=>be(Ce,"condition",Te.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[t.jsx("option",{value:"",children:"Select condition..."}),t.jsx("option",{value:"step.failed",children:"Step Failed"}),t.jsx("option",{value:"step.timeout",children:"Step Timeout"}),t.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),t.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),t.jsxs("select",{value:le.action,onChange:Te=>be(Ce,"action",Te.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[t.jsx("option",{value:"notify_owner",children:"Notify Owner"}),t.jsx("option",{value:"escalate",children:"Escalate"}),t.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),t.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),t.jsx("option",{value:"return_to_step",children:"Return to Step"}),t.jsx("option",{value:"send_reminder",children:"Send Reminder"}),t.jsx("option",{value:"request_revision",children:"Request Revision"}),t.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),t.jsx("input",{type:"text",value:le.target||"",onChange:Te=>be(Ce,"target",Te.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),t.jsx("input",{type:"text",value:le.message||"",onChange:Te=>be(Ce,"message",Te.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),t.jsx("button",{onClick:()=>ke(Ce),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},Ce))})]})})})]})]}),ie&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),t.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),t.jsx("div",{className:"flex-1 overflow-auto p-4",children:t.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:V||"Loading..."})}),t.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(V)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),t.jsx(av,{sopId:r||null,isOpen:ee,onClose:()=>D(!1)})]})}function iv({agent:r,onEdit:a,onDelete:l,onViewActivity:o}){const[d,f]=x.useState(!1),m=h=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[h]||"bg-gray-100 text-gray-800";return t.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:t.jsxs("span",{className:"text-2xl text-white",children:[r.function==="ops"&&"",r.function==="brand"&&"",r.function==="hr"&&"",r.function==="finance"&&"",r.function==="cs"&&"",r.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(r.function)&&""]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.name}),t.jsx("p",{className:"text-sm text-gray-500",children:r.id})]})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m(r.function)}`,children:r.function})]}),t.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:r.description}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[(r.skillDetails||r.skills.map(h=>({id:h,name:h}))).map(h=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:h.name},h.id)),r.skills.length===0&&t.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),t.jsxs("button",{onClick:()=>f(!d),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[d?"Hide details":"Show details",t.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.tools.map(h=>t.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:h},h)),r.tools.length===0&&t.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.routing_keywords.map(h=>t.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:h},h)),r.routing_keywords.length===0&&t.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Read:"}),t.jsxs("ul",{className:"mt-1 space-y-1",children:[r.permissions.read.map(h=>t.jsx("li",{className:"text-green-700 font-mono",children:h},h)),r.permissions.read.length===0&&t.jsx("li",{className:"text-gray-400",children:"None"})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Write:"}),t.jsxs("ul",{className:"mt-1 space-y-1",children:[r.permissions.write.map(h=>t.jsx("li",{className:"text-yellow-700 font-mono",children:h},h)),r.permissions.write.length===0&&t.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[t.jsx("button",{onClick:()=>o==null?void 0:o(r),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>a(r),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),t.jsx("button",{onClick:()=>l(r),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const ov=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function cv({isOpen:r,onClose:a,onSuccess:l,agent:o,availableSkills:d,availableTools:f}){const m=!!o,[h,p]=x.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[y,v]=x.useState(""),[j,N]=x.useState(""),[C,w]=x.useState(""),[S,b]=x.useState(!1),[I,K]=x.useState(null);x.useEffect(()=>{p(o?{id:o.id,name:o.name,function:o.function,description:o.description,skills:[...o.skills],tools:[...o.tools],routing_keywords:[...o.routing_keywords],permissions:{read:[...o.permissions.read],write:[...o.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),K(null)},[o,r]);const U=async B=>{B.preventDefault(),b(!0),K(null);try{m?await ae({url:`/api/admin/agents/${h.id}`,method:"PUT",data:{name:h.name,function:h.function,description:h.description,skills:h.skills,tools:h.tools,routing_keywords:h.routing_keywords,permissions:h.permissions}}):await ae({url:"/api/admin/agents",method:"POST",data:h}),l(),a()}catch(V){const se=V instanceof we?V.message:"Failed to save agent";K(se)}finally{b(!1)}},R=()=>{y.trim()&&!h.routing_keywords.includes(y.trim())&&(p({...h,routing_keywords:[...h.routing_keywords,y.trim()]}),v(""))},T=B=>{p({...h,routing_keywords:h.routing_keywords.filter(V=>V!==B)})},W=()=>{j.trim()&&!h.permissions.read.includes(j.trim())&&(p({...h,permissions:{...h.permissions,read:[...h.permissions.read,j.trim()]}}),N(""))},H=B=>{p({...h,permissions:{...h.permissions,read:h.permissions.read.filter(V=>V!==B)}})},_=()=>{C.trim()&&!h.permissions.write.includes(C.trim())&&(p({...h,permissions:{...h.permissions,write:[...h.permissions.write,C.trim()]}}),w(""))},ee=B=>{p({...h,permissions:{...h.permissions,write:h.permissions.write.filter(V=>V!==B)}})},D=B=>{const V=h.skills.includes(B)?h.skills.filter(se=>se!==B):[...h.skills,B];p({...h,skills:V})},ie=B=>{const V=h.tools.includes(B)?h.tools.filter(se=>se!==B):[...h.tools,B];p({...h,tools:V})};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:t.jsxs("form",{onSubmit:U,children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m?"Edit Agent":"Create Agent"}),I&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:I}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),t.jsx("input",{id:"id",type:"text",value:h.id,onChange:B=>p({...h,id:B.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{id:"name",type:"text",value:h.name,onChange:B=>p({...h,name:B.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),t.jsx("select",{id:"function",value:h.function,onChange:B=>p({...h,function:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:ov.map(B=>t.jsx("option",{value:B.value,children:B.label},B.value))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{id:"description",value:h.description,onChange:B=>p({...h,description:B.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[d.map(B=>t.jsx("button",{type:"button",onClick:()=>D(B.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${h.skills.includes(B.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:B.name},B.id)),d.length===0&&t.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),t.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:f.map(B=>t.jsx("button",{type:"button",onClick:()=>ie(B.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${h.tools.includes(B.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:B.description,children:B.name},B.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:y,onChange:B=>v(B.target.value),onKeyDown:B=>B.key==="Enter"&&(B.preventDefault(),R()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),t.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:h.routing_keywords.map(B=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[B,t.jsx("button",{type:"button",onClick:()=>T(B),className:"text-orange-600 hover:text-orange-800",children:""})]},B))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:j,onChange:B=>N(B.target.value),onKeyDown:B=>B.key==="Enter"&&(B.preventDefault(),W()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),t.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),t.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:h.permissions.read.map(B=>t.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[t.jsx("span",{className:"font-mono text-green-700",children:B}),t.jsx("button",{type:"button",onClick:()=>H(B),className:"text-green-600 hover:text-green-800",children:""})]},B))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:C,onChange:B=>w(B.target.value),onKeyDown:B=>B.key==="Enter"&&(B.preventDefault(),_()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),t.jsx("button",{type:"button",onClick:_,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),t.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:h.permissions.write.map(B=>t.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[t.jsx("span",{className:"font-mono text-yellow-700",children:B}),t.jsx("button",{type:"button",onClick:()=>ee(B),className:"text-yellow-600 hover:text-yellow-800",children:""})]},B))})]})]})]})]}),t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:S||!h.id||!h.name||!h.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Creating PR...":m?"Update Agent":"Create Agent"})]})]})]})})}):null}function dv(){const[r,a]=x.useState([]),[l,o]=x.useState([]),[d,f]=x.useState([]),[m,h]=x.useState(!0),[p,y]=x.useState(null),[v,j]=x.useState(!1),[N,C]=x.useState(null),[w,S]=x.useState([]),[b,I]=x.useState(null),K=async()=>{try{const D=await ae({url:"/api/admin/agents",method:"GET"});a(D.agents)}catch(D){const ie=D instanceof we?D.message:"Failed to fetch agents";y(ie)}},U=async()=>{try{const D=await ae({url:"/api/admin/skills",method:"GET"});o(D.skills.map(ie=>({id:ie.id,name:ie.name})))}catch(D){console.error("Failed to fetch skills:",D)}},R=async()=>{try{const D=await ae({url:"/api/admin/tools",method:"GET"});f(D.tools)}catch(D){console.error("Failed to fetch tools:",D)}};x.useEffect(()=>{(async()=>{h(!0),await Promise.all([K(),U(),R()]),h(!1)})()},[]);const T=()=>{C(null),j(!0)},W=D=>{C(D),j(!0)},H=async D=>{if(confirm(`Are you sure you want to delete "${D.name}"? This will create a PR.`))try{const ie=await ae({url:`/api/admin/agents/${D.id}`,method:"DELETE"});I(`PR created to delete agent. View at: ${ie.pullRequest.html_url}`),K()}catch(ie){const B=ie instanceof we?ie.message:"Failed to delete agent";y(B)}},_=()=>{I("Changes submitted successfully. A GitHub PR has been created for review."),K()},ee=D=>{window.location.href=`/activity?agent=${D.id}`};return m?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):t.jsxs("div",{className:"max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),t.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),t.jsxs("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),b&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>I(null),className:"text-green-600 hover:text-green-800",children:""})]}),p&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[t.jsx("span",{children:p}),t.jsx("button",{onClick:()=>y(null),className:"text-red-600 hover:text-red-800",children:""})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:r.length}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(r.map(D=>D.function)).size}),t.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(r.flatMap(D=>D.skills)).size}),t.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(r.flatMap(D=>D.tools)).size}),t.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),w.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Pull Requests"}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("ul",{className:"space-y-2",children:w.map(D=>t.jsxs("li",{className:"flex items-center justify-between",children:[t.jsxs("a",{href:D.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline",children:["#",D.number,": ",D.title]}),t.jsx("span",{className:"text-sm text-yellow-600",children:new Date(D.created_at).toLocaleDateString()})]},D.number))})})]}),r.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),t.jsx("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(D=>t.jsx(iv,{agent:D,onEdit:W,onDelete:H,onViewActivity:ee},D.id))}),t.jsx(cv,{isOpen:v,onClose:()=>j(!1),onSuccess:_,agent:N,availableSkills:l,availableTools:d})]})}function uv({skill:r,onEdit:a,onDelete:l}){var m;const[o,d]=x.useState(!1),f=h=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[h]||"bg-gray-100 text-gray-800";return t.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl text-white",children:""})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.name}),t.jsx("p",{className:"text-sm text-gray-500",children:r.id})]})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(r.category)}`,children:r.category})]}),t.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:r.description}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.triggers.map((h,p)=>t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:h},p)),r.triggers.length===0&&t.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:((m=r.agentDetails)==null?void 0:m.map(h=>t.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:h.name},h.id)))||t.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),t.jsxs("button",{onClick:()=>d(!o),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[o?"Hide details":"Show details",t.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.tools_required.map(h=>t.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:h},h)),r.tools_required.length===0&&t.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),r.parameters&&r.parameters.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:r.parameters.map(h=>t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium text-gray-700",children:h.name}),t.jsxs("span",{className:"text-gray-400 mx-1",children:["(",h.type,")"]}),h.required&&t.jsx("span",{className:"text-red-500 text-xs",children:"*"}),t.jsx("p",{className:"text-gray-500 text-xs",children:h.description}),h.default!==void 0&&t.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(h.default)]})]},h.name))})]}),r.outputs&&r.outputs.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:r.outputs.map(h=>t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium text-gray-700",children:h.name}),t.jsxs("span",{className:"text-gray-400 mx-1",children:["(",h.type,")"]}),t.jsx("p",{className:"text-gray-500 text-xs",children:h.description})]},h.name))})]})]})]}),t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[t.jsx("button",{onClick:()=>a(r),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),t.jsx("button",{onClick:()=>l(r),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const mv=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],Km=["string","number","boolean","object","array"];function fv({isOpen:r,onClose:a,onSuccess:l,skill:o,availableTools:d}){const f=!!o,[m,h]=x.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[p,y]=x.useState(""),[v,j]=x.useState({name:"",type:"string",description:"",required:!1,default:""}),[N,C]=x.useState({name:"",type:"string",description:""}),[w,S]=x.useState(!1),[b,I]=x.useState(null);x.useEffect(()=>{h(o?{id:o.id,name:o.name,description:o.description,category:o.category,triggers:[...o.triggers],parameters:o.parameters?[...o.parameters]:[],outputs:o.outputs?[...o.outputs]:[],tools_required:[...o.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),I(null)},[o,r]);const K=async D=>{D.preventDefault(),S(!0),I(null);try{f?await ae({url:`/api/admin/skills/${m.id}`,method:"PUT",data:{name:m.name,description:m.description,category:m.category,triggers:m.triggers,parameters:m.parameters,outputs:m.outputs,tools_required:m.tools_required}}):await ae({url:"/api/admin/skills",method:"POST",data:m}),l(),a()}catch(ie){const B=ie instanceof we?ie.message:"Failed to save skill";I(B)}finally{S(!1)}},U=()=>{p.trim()&&!m.triggers.includes(p.trim())&&(h({...m,triggers:[...m.triggers,p.trim()]}),y(""))},R=D=>{h({...m,triggers:m.triggers.filter((ie,B)=>B!==D)})},T=()=>{if(v.name.trim()&&v.description.trim()){const D={name:v.name.trim(),type:v.type,description:v.description.trim(),required:v.required};if(v.default.trim())try{D.default=JSON.parse(v.default)}catch{D.default=v.default}h({...m,parameters:[...m.parameters,D]}),j({name:"",type:"string",description:"",required:!1,default:""})}},W=D=>{h({...m,parameters:m.parameters.filter((ie,B)=>B!==D)})},H=()=>{N.name.trim()&&N.description.trim()&&(h({...m,outputs:[...m.outputs,{...N,name:N.name.trim(),description:N.description.trim()}]}),C({name:"",type:"string",description:""}))},_=D=>{h({...m,outputs:m.outputs.filter((ie,B)=>B!==D)})},ee=D=>{const ie=m.tools_required.includes(D)?m.tools_required.filter(B=>B!==D):[...m.tools_required,D];h({...m,tools_required:ie})};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:t.jsxs("form",{onSubmit:K,children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f?"Edit Skill":"Create Skill"}),b&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:b}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),t.jsx("input",{id:"id",type:"text",value:m.id,onChange:D=>h({...m,id:D.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{id:"name",type:"text",value:m.name,onChange:D=>h({...m,name:D.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{id:"description",value:m.description,onChange:D=>h({...m,description:D.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),t.jsx("select",{id:"category",value:m.category,onChange:D=>h({...m,category:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:mv.map(D=>t.jsx("option",{value:D.value,children:D.label},D.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:p,onChange:D=>y(D.target.value),onKeyDown:D=>D.key==="Enter"&&(D.preventDefault(),U()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),t.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m.triggers.map((D,ie)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[D,t.jsx("button",{type:"button",onClick:()=>R(ie),className:"text-green-600 hover:text-green-800",children:""})]},ie))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),t.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:d.map(D=>t.jsx("button",{type:"button",onClick:()=>ee(D.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${m.tools_required.includes(D.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:D.description,children:D.name},D.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),t.jsxs("div",{className:"space-y-2 mb-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:v.name,onChange:D=>j({...v,name:D.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),t.jsx("select",{value:v.type,onChange:D=>j({...v,type:D.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:Km.map(D=>t.jsx("option",{value:D,children:D},D))}),t.jsx("input",{type:"text",value:v.description,onChange:D=>j({...v,description:D.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),t.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),t.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[t.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[t.jsx("input",{type:"checkbox",checked:v.required,onChange:D=>j({...v,required:D.target.checked}),className:"w-3 h-3"}),"Required"]}),t.jsx("input",{type:"text",value:v.default,onChange:D=>j({...v,default:D.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),m.parameters.length>0&&t.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:m.parameters.map((D,ie)=>t.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-medium",children:D.name}),t.jsxs("span",{className:"text-gray-400 mx-1",children:["(",D.type,")"]}),D.required&&t.jsx("span",{className:"text-red-500",children:"*"}),t.jsx("span",{className:"text-gray-500 text-xs ml-2",children:D.description})]}),t.jsx("button",{type:"button",onClick:()=>W(ie),className:"text-gray-400 hover:text-gray-600",children:""})]},ie))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:N.name,onChange:D=>C({...N,name:D.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),t.jsx("select",{value:N.type,onChange:D=>C({...N,type:D.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:Km.map(D=>t.jsx("option",{value:D,children:D},D))}),t.jsx("input",{type:"text",value:N.description,onChange:D=>C({...N,description:D.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),t.jsx("button",{type:"button",onClick:H,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),m.outputs.length>0&&t.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:m.outputs.map((D,ie)=>t.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-medium",children:D.name}),t.jsxs("span",{className:"text-gray-400 mx-1",children:["(",D.type,")"]}),t.jsx("span",{className:"text-gray-500 text-xs ml-2",children:D.description})]}),t.jsx("button",{type:"button",onClick:()=>_(ie),className:"text-gray-400 hover:text-gray-600",children:""})]},ie))})]})]})]}),t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:w||!m.id||!m.name||!m.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":f?"Update Skill":"Create Skill"})]})]})]})})}):null}function hv(){const[r,a]=x.useState([]),[l,o]=x.useState([]),[d,f]=x.useState([]),[m,h]=x.useState(!0),[p,y]=x.useState(null),[v,j]=x.useState(!1),[N,C]=x.useState(null),[w,S]=x.useState([]),[b,I]=x.useState(null),[K,U]=x.useState("all"),R=async()=>{try{const V=await ae({url:"/api/admin/skills",method:"GET"});a(V.skills)}catch(V){const se=V instanceof we?V.message:"Failed to fetch skills";y(se)}},T=async()=>{try{const V=await ae({url:"/api/admin/agents",method:"GET"});o(V.agents.map(se=>({id:se.id,name:se.name})))}catch(V){console.error("Failed to fetch agents:",V)}},W=async()=>{try{const V=await ae({url:"/api/admin/tools",method:"GET"});f(V.tools)}catch(V){console.error("Failed to fetch tools:",V)}};x.useEffect(()=>{(async()=>{h(!0),await Promise.all([R(),T(),W()]),h(!1)})()},[]);const H=()=>{C(null),j(!0)},_=V=>{C(V),j(!0)},ee=async V=>{if(confirm(`Are you sure you want to delete "${V.name}"? This will create a PR.`))try{const se=await ae({url:`/api/admin/skills/${V.id}`,method:"DELETE"});I(`PR created to delete skill. View at: ${se.pullRequest.html_url}`),R()}catch(se){const re=se instanceof we?se.message:"Failed to delete skill";y(re)}},D=()=>{I("Changes submitted successfully. A GitHub PR has been created for review."),R()},ie=Array.from(new Set(r.map(V=>V.category))),B=r.filter(V=>K==="all"?!0:V.category===K);return m?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):t.jsxs("div",{className:"max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),t.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),t.jsxs("button",{onClick:H,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),b&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>I(null),className:"text-green-600 hover:text-green-800",children:""})]}),p&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[t.jsx("span",{children:p}),t.jsx("button",{onClick:()=>y(null),className:"text-red-600 hover:text-red-800",children:""})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:ie.length}),t.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.reduce((V,se)=>V+se.triggers.length,0)}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:r.reduce((V,se)=>{var re;return V+(((re=se.agentDetails)==null?void 0:re.length)||0)},0)}),t.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),t.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsxs("button",{onClick:()=>U("all"),className:`px-3 py-1 text-sm rounded-full ${K==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",r.length,")"]}),ie.map(V=>t.jsxs("button",{onClick:()=>U(V),className:`px-3 py-1 text-sm rounded-full capitalize ${K===V?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[V," (",r.filter(se=>se.category===V).length,")"]},V))]})]}),w.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Pull Requests"}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("ul",{className:"space-y-2",children:w.map(V=>t.jsxs("li",{className:"flex items-center justify-between",children:[t.jsxs("a",{href:V.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline",children:["#",V.number,": ",V.title]}),t.jsx("span",{className:"text-sm text-yellow-600",children:new Date(V.created_at).toLocaleDateString()})]},V.number))})})]}),B.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No skills yet":"No matching skills"}),t.jsx("p",{className:"text-gray-600 mb-4",children:r.length===0?"Create your first skill to get started":"Try changing the filter"}),r.length===0&&t.jsx("button",{onClick:H,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map(V=>t.jsx(uv,{skill:V,onEdit:_,onDelete:ee},V.id))}),t.jsx(fv,{isOpen:v,onClose:()=>j(!1),onSuccess:D,skill:N,availableAgents:l,availableTools:d})]})}function pv(){const[r,a]=x.useState(!1),{currentOrganization:l,organizations:o,switchOrganization:d}=Hn();if(!l||o.length<=1)return null;const f=async m=>{a(!1),await d(m)};return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.name}),t.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),t.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:t.jsxs("div",{className:"p-2",children:[t.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),o.map(m=>t.jsxs("button",{onClick:()=>f(m.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${m.id===l.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[t.jsx("div",{className:"font-medium",children:m.name}),t.jsx("div",{className:"text-xs text-gray-500",children:m.domain})]},m.id))]})})]})]})}function gv({user:r,onLogout:a}){return t.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),t.jsx(pv,{}),r&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[r.picture?t.jsx("img",{src:r.picture,alt:r.name,className:"w-8 h-8 rounded-full"}):t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:(r.name||r.email||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),t.jsx("span",{className:"text-xs text-gray-500",children:r.email})]})]}),t.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const xv=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"SOPs",path:"/sops",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Settings",path:"/settings",icon:""}],yv=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],vv=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],bv=[{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""}];function jv(){const r=hr(),a=l=>l.map(o=>{const d=r.pathname===o.path;return t.jsx("li",{children:t.jsxs(Zt,{to:o.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${d?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-200"}`,children:[t.jsx("span",{className:"text-xl",children:o.icon}),t.jsx("span",{className:"font-medium",children:o.name})]})},o.path)});return t.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200",children:t.jsx("nav",{className:"p-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{children:t.jsx("ul",{className:"space-y-2",children:a(xv)})}),t.jsxs("div",{children:[t.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),t.jsx("ul",{className:"space-y-2",children:a(yv)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),t.jsx("ul",{className:"space-y-2",children:a(vv)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),t.jsx("ul",{className:"space-y-2",children:a(bv)})]})]})})})}function $e({children:r}){const{user:a,logout:l}=Hn();return t.jsxs("div",{className:"min-h-screen bg-gray-100",children:[t.jsx(gv,{user:a||void 0,onLogout:l}),t.jsx(jv,{}),t.jsx("main",{className:"ml-64 mt-16 p-8",children:r})]})}function Be({children:r}){const{user:a,isLoading:l,fetchUser:o}=Hn();return x.useEffect(()=>{o()},[o]),l?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):a?t.jsx(t.Fragment,{children:r}):t.jsx(bf,{to:"/login",replace:!0})}function wv(){return t.jsx(Tx,{children:t.jsxs(jx,{children:[t.jsx(Le,{path:"/login",element:t.jsx(Dx,{})}),t.jsx(Le,{path:"/dashboard",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(gy,{})})})}),t.jsx(Le,{path:"/okr",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(ev,{})})})}),t.jsx(Le,{path:"/sops",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(_o,{})})})}),t.jsx(Le,{path:"/sops/new",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(_o,{})})})}),t.jsx(Le,{path:"/sops/:id",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(_o,{})})})}),t.jsx(Le,{path:"/workflows",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(vy,{})})})}),t.jsx(Le,{path:"/workflows/:id",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(by,{})})})}),t.jsx(Le,{path:"/executions",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(jy,{})})})}),t.jsx(Le,{path:"/executions/:id",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(wy,{})})})}),t.jsx(Le,{path:"/settings",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Ny,{})})})}),t.jsx(Le,{path:"/settings/notion",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Sy,{})})})}),t.jsx(Le,{path:"/settings/slack",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(ky,{})})})}),t.jsx(Le,{path:"/settings/google-calendar",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Cy,{})})})}),t.jsx(Le,{path:"/settings/members",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Ty,{})})})}),t.jsx(Le,{path:"/approvals",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Ay,{})})})}),t.jsx(Le,{path:"/activity",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(By,{})})})}),t.jsx(Le,{path:"/metrics/agents",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Wy,{})})})}),t.jsx(Le,{path:"/costs",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(qy,{})})})}),t.jsx(Le,{path:"/org-changes/wizard",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Qy,{})})})}),t.jsx(Le,{path:"/org-changes",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(Ky,{})})})}),t.jsx(Le,{path:"/admin/agents",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(dv,{})})})}),t.jsx(Le,{path:"/admin/skills",element:t.jsx(Be,{children:t.jsx($e,{children:t.jsx(hv,{})})})}),t.jsx(Le,{path:"/",element:t.jsx(bf,{to:"/dashboard",replace:!0})})]})})}class Nv extends sr.Component{constructor(){super(...arguments);ol(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(l){return{hasError:!0,errorMessage:l instanceof Error?l.message:String(l)}}componentDidCatch(l){const o=l instanceof Error?l.message:String(l);console.error("UI error:",o)}render(){return this.state.hasError?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?t.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,t.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const Sv=new Eg;eg.createRoot(document.getElementById("root")).render(t.jsx(sr.StrictMode,{children:t.jsx(Nv,{children:t.jsx(Tg,{client:Sv,children:t.jsx(wv,{})})})}));
