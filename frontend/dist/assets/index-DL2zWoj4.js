var e6=Object.defineProperty;var K1=e=>{throw TypeError(e)};var t6=(e,t,r)=>t in e?e6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Cu=(e,t,r)=>t6(e,typeof t!="symbol"?t+"":t,r),qp=(e,t,r)=>t.has(e)||K1("Cannot "+r);var ie=(e,t,r)=>(qp(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?K1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(qp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ht=(e,t,r)=>(qp(e,t,"access private method"),r);var Eu=(e,t,r,n)=>({set _(i){$e(e,t,i,r)},get _(){return ie(e,t,n)}});function r6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zp={exports:{}},Yo={},Up={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function n6(){if(H1)return Be;H1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function y(q,H,X){this.props=q,this.context=H,this.refs=w,this.updater=X||v}y.prototype.isReactComponent={},y.prototype.setState=function(q,H){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,H,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=y.prototype;function _(q,H,X){this.props=q,this.context=H,this.refs=w,this.updater=X||v}var C=_.prototype=new S;C.constructor=_,b(C,y.prototype),C.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(q,H,X){var oe,fe={},se=null,ke=null;if(H!=null)for(oe in H.ref!==void 0&&(ke=H.ref),H.key!==void 0&&(se=""+H.key),H)j.call(H,oe)&&!E.hasOwnProperty(oe)&&(fe[oe]=H[oe]);var Se=arguments.length-2;if(Se===1)fe.children=X;else if(1<Se){for(var ce=Array(Se),Oe=0;Oe<Se;Oe++)ce[Oe]=arguments[Oe+2];fe.children=ce}if(q&&q.defaultProps)for(oe in Se=q.defaultProps,Se)fe[oe]===void 0&&(fe[oe]=Se[oe]);return{$$typeof:e,type:q,key:se,ref:ke,props:fe,_owner:P.current}}function M(q,H){return{$$typeof:e,type:q.type,key:H,ref:q.ref,props:q.props,_owner:q._owner}}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function R(q){var H={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return H[X]})}var F=/\/+/g;function U(q,H){return typeof q=="object"&&q!==null&&q.key!=null?R(""+q.key):H.toString(36)}function W(q,H,X,oe,fe){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(se){case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case e:case t:ke=!0}}if(ke)return ke=q,fe=fe(ke),q=oe===""?"."+U(ke,0):oe,O(fe)?(X="",q!=null&&(X=q.replace(F,"$&/")+"/"),W(fe,H,X,"",function(Oe){return Oe})):fe!=null&&(L(fe)&&(fe=M(fe,X+(!fe.key||ke&&ke.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+q)),H.push(fe)),1;if(ke=0,oe=oe===""?".":oe+":",O(q))for(var Se=0;Se<q.length;Se++){se=q[Se];var ce=oe+U(se,Se);ke+=W(se,H,X,ce,fe)}else if(ce=x(q),typeof ce=="function")for(q=ce.call(q),Se=0;!(se=q.next()).done;)se=se.value,ce=oe+U(se,Se++),ke+=W(se,H,X,ce,fe);else if(se==="object")throw H=String(q),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ke}function B(q,H,X){if(q==null)return q;var oe=[],fe=0;return W(q,oe,"","",function(se){return H.call(X,se,fe++)}),oe}function $(q){if(q._status===-1){var H=q._result;H=H(),H.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=H)}if(q._status===1)return q._result.default;throw q._result}var z={current:null},V={transition:null},G={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:V,ReactCurrentOwner:P};function D(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:B,forEach:function(q,H,X){B(q,function(){H.apply(this,arguments)},X)},count:function(q){var H=0;return B(q,function(){H++}),H},toArray:function(q){return B(q,function(H){return H})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Be.Component=y,Be.Fragment=r,Be.Profiler=i,Be.PureComponent=_,Be.StrictMode=n,Be.Suspense=d,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Be.act=D,Be.cloneElement=function(q,H,X){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var oe=b({},q.props),fe=q.key,se=q.ref,ke=q._owner;if(H!=null){if(H.ref!==void 0&&(se=H.ref,ke=P.current),H.key!==void 0&&(fe=""+H.key),q.type&&q.type.defaultProps)var Se=q.type.defaultProps;for(ce in H)j.call(H,ce)&&!E.hasOwnProperty(ce)&&(oe[ce]=H[ce]===void 0&&Se!==void 0?Se[ce]:H[ce])}var ce=arguments.length-2;if(ce===1)oe.children=X;else if(1<ce){Se=Array(ce);for(var Oe=0;Oe<ce;Oe++)Se[Oe]=arguments[Oe+2];oe.children=Se}return{$$typeof:e,type:q.type,key:fe,ref:se,props:oe,_owner:ke}},Be.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Be.createElement=T,Be.createFactory=function(q){var H=T.bind(null,q);return H.type=q,H},Be.createRef=function(){return{current:null}},Be.forwardRef=function(q){return{$$typeof:u,render:q}},Be.isValidElement=L,Be.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:$}},Be.memo=function(q,H){return{$$typeof:h,type:q,compare:H===void 0?null:H}},Be.startTransition=function(q){var H=V.transition;V.transition={};try{q()}finally{V.transition=H}},Be.unstable_act=D,Be.useCallback=function(q,H){return z.current.useCallback(q,H)},Be.useContext=function(q){return z.current.useContext(q)},Be.useDebugValue=function(){},Be.useDeferredValue=function(q){return z.current.useDeferredValue(q)},Be.useEffect=function(q,H){return z.current.useEffect(q,H)},Be.useId=function(){return z.current.useId()},Be.useImperativeHandle=function(q,H,X){return z.current.useImperativeHandle(q,H,X)},Be.useInsertionEffect=function(q,H){return z.current.useInsertionEffect(q,H)},Be.useLayoutEffect=function(q,H){return z.current.useLayoutEffect(q,H)},Be.useMemo=function(q,H){return z.current.useMemo(q,H)},Be.useReducer=function(q,H,X){return z.current.useReducer(q,H,X)},Be.useRef=function(q){return z.current.useRef(q)},Be.useState=function(q){return z.current.useState(q)},Be.useSyncExternalStore=function(q,H,X){return z.current.useSyncExternalStore(q,H,X)},Be.useTransition=function(){return z.current.useTransition()},Be.version="18.3.1",Be}var G1;function Lv(){return G1||(G1=1,Up.exports=n6()),Up.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function a6(){if(V1)return Yo;V1=1;var e=Lv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,p={},x=null,v=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:u,key:x,ref:v,props:p,_owner:i.current}}return Yo.Fragment=r,Yo.jsx=l,Yo.jsxs=l,Yo}var Y1;function i6(){return Y1||(Y1=1,zp.exports=a6()),zp.exports}var a=i6(),k=Lv();const Y=Xe(k),s6=r6({__proto__:null,default:Y},[k]);var Ru={},Wp={exports:{}},cr={},Kp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function o6(){return X1||(X1=1,(function(e){function t(V,G){var D=V.length;V.push(G);e:for(;0<D;){var q=D-1>>>1,H=V[q];if(0<i(H,G))V[q]=G,V[D]=H,D=q;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var G=V[0],D=V.pop();if(D!==G){V[0]=D;e:for(var q=0,H=V.length,X=H>>>1;q<X;){var oe=2*(q+1)-1,fe=V[oe],se=oe+1,ke=V[se];if(0>i(fe,D))se<H&&0>i(ke,fe)?(V[q]=ke,V[se]=D,q=se):(V[q]=fe,V[oe]=D,q=oe);else if(se<H&&0>i(ke,D))V[q]=ke,V[se]=D,q=se;else break e}}return G}function i(V,G){var D=V.sortIndex-G.sortIndex;return D!==0?D:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,x=3,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=V)n(h),G.sortIndex=G.expirationTime,t(d,G);else break;G=r(h)}}function O(V){if(w=!1,C(V),!b)if(r(d)!==null)b=!0,$(j);else{var G=r(h);G!==null&&z(O,G.startTime-V)}}function j(V,G){b=!1,w&&(w=!1,S(T),T=-1),v=!0;var D=x;try{for(C(G),p=r(d);p!==null&&(!(p.expirationTime>G)||V&&!R());){var q=p.callback;if(typeof q=="function"){p.callback=null,x=p.priorityLevel;var H=q(p.expirationTime<=G);G=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(d)&&n(d),C(G)}else n(d);p=r(d)}if(p!==null)var X=!0;else{var oe=r(h);oe!==null&&z(O,oe.startTime-G),X=!1}return X}finally{p=null,x=D,v=!1}}var P=!1,E=null,T=-1,M=5,L=-1;function R(){return!(e.unstable_now()-L<M)}function F(){if(E!==null){var V=e.unstable_now();L=V;var G=!0;try{G=E(!0,V)}finally{G?U():(P=!1,E=null)}}else P=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,B=W.port2;W.port1.onmessage=F,U=function(){B.postMessage(null)}}else U=function(){y(F,0)};function $(V){E=V,P||(P=!0,U())}function z(V,G){T=y(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,$(j))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var D=x;x=G;try{return V()}finally{x=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var D=x;x=V;try{return G()}finally{x=D}},e.unstable_scheduleCallback=function(V,G,D){var q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,V={id:m++,callback:G,priorityLevel:V,startTime:D,expirationTime:H,sortIndex:-1},D>q?(V.sortIndex=D,t(h,V),r(d)===null&&V===r(h)&&(w?(S(T),T=-1):w=!0,z(O,D-q))):(V.sortIndex=H,t(d,V),b||v||(b=!0,$(j))),V},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(V){var G=x;return function(){var D=x;x=G;try{return V.apply(this,arguments)}finally{x=D}}}})(Hp)),Hp}var Q1;function l6(){return Q1||(Q1=1,Kp.exports=o6()),Kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function c6(){if(J1)return cr;J1=1;var e=Lv(),t=l6();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(s){return d.call(p,s)?!0:d.call(m,s)?!1:h.test(s)?p[s]=!0:(m[s]=!0,!1)}function v(s,c,f,g){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,c,f,g){if(c===null||typeof c>"u"||v(s,c,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(s,c,f,g,N,A,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=s,this.type=c,this.sanitizeURL=A,this.removeEmptyString=I}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new w(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,c,f,g){var N=y.hasOwnProperty(c)?y[c]:null;(N!==null?N.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,f,N,g)&&(f=null),g||N===null?x(c)&&(f===null?s.removeAttribute(c):s.setAttribute(c,""+f)):N.mustUseProperty?s[N.propertyName]=f===null?N.type===3?!1:"":f:(c=N.attributeName,g=N.attributeNamespace,f===null?s.removeAttribute(c):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,g?s.setAttributeNS(g,c,f):s.setAttribute(c,f))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),V=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var D=Object.assign,q;function H(s){if(q===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+s}var X=!1;function oe(s,c){if(!s||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var g=re}Reflect.construct(s,[],c)}else{try{c.call()}catch(re){g=re}s.call(c.prototype)}else{try{throw Error()}catch(re){g=re}s()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var N=re.stack.split(`
`),A=g.stack.split(`
`),I=N.length-1,K=A.length-1;1<=I&&0<=K&&N[I]!==A[K];)K--;for(;1<=I&&0<=K;I--,K--)if(N[I]!==A[K]){if(I!==1||K!==1)do if(I--,K--,0>K||N[I]!==A[K]){var Q=`
`+N[I].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=I&&0<=K);break}}}finally{X=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function fe(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case P:return"Portal";case M:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return c=s.displayName||null,c!==null?c:se(s.type)||"Memo";case $:c=s._payload,s=s._init;try{return se(s(c))}catch{}}return null}function ke(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ce(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(s){var c=ce(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,A=f.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return N.call(this)},set:function(I){g=""+I,A.call(this,I)}}),Object.defineProperty(s,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ie(s){s._valueTracker||(s._valueTracker=Oe(s))}function Z(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return s&&(g=ce(s)?s.checked?"true":"false":s.value),s=g,s!==f?(c.setValue(s),!0):!1}function xe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ye(s,c){var f=c.checked;return D({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Je(s,c){var f=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;f=Se(c.value!=null?c.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ft(s,c){c=c.checked,c!=null&&C(s,"checked",c,!1)}function Et(s,c){ft(s,c);var f=Se(c.value),g=c.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?sn(s,c.type,f):c.hasOwnProperty("defaultValue")&&sn(s,c.type,Se(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Br(s,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,f||c===s.value||(s.value=c),s.defaultValue=c}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function sn(s,c,f){(c!=="number"||xe(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var on=Array.isArray;function nr(s,c,f,g){if(s=s.options,c){c={};for(var N=0;N<f.length;N++)c["$"+f[N]]=!0;for(f=0;f<s.length;f++)N=c.hasOwnProperty("$"+s[f].value),s[f].selected!==N&&(s[f].selected=N),N&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Se(f),c=null,N=0;N<s.length;N++){if(s[N].value===f){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}c!==null||s[N].disabled||(c=s[N])}c!==null&&(c.selected=!0)}}function qr(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return D({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ci(s,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(on(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}s._wrapperState={initialValue:Se(f)}}function lo(s,c){var f=Se(c.value),g=Se(c.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),c.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function co(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function aj(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?aj(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wc,ij=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,g,N){MSApp.execUnsafeLocalFunction(function(){return s(c,f,g,N)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=wc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function uo(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a4=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(s){a4.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),fo[c]=fo[s]})});function sj(s,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||fo.hasOwnProperty(s)&&fo[s]?(""+c).trim():c+"px"}function oj(s,c){s=s.style;for(var f in c)if(c.hasOwnProperty(f)){var g=f.indexOf("--")===0,N=sj(f,c[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,N):s[f]=N}}var i4=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(s,c){if(c){if(i4[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function eh(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function rh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var nh=null,Ei=null,Ti=null;function lj(s){if(s=Mo(s)){if(typeof nh!="function")throw Error(r(280));var c=s.stateNode;c&&(c=Kc(c),nh(s.stateNode,s.type,c))}}function cj(s){Ei?Ti?Ti.push(s):Ti=[s]:Ei=s}function uj(){if(Ei){var s=Ei,c=Ti;if(Ti=Ei=null,lj(s),c)for(s=0;s<c.length;s++)lj(c[s])}}function dj(s,c){return s(c)}function fj(){}var ah=!1;function hj(s,c,f){if(ah)return s(c,f);ah=!0;try{return dj(s,c,f)}finally{ah=!1,(Ei!==null||Ti!==null)&&(fj(),uj())}}function ho(s,c){var f=s.stateNode;if(f===null)return null;var g=Kc(f);if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var ih=!1;if(u)try{var po={};Object.defineProperty(po,"passive",{get:function(){ih=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{ih=!1}function s4(s,c,f,g,N,A,I,K,Q){var re=Array.prototype.slice.call(arguments,3);try{c.apply(f,re)}catch(ue){this.onError(ue)}}var mo=!1,Nc=null,Sc=!1,sh=null,o4={onError:function(s){mo=!0,Nc=s}};function l4(s,c,f,g,N,A,I,K,Q){mo=!1,Nc=null,s4.apply(o4,arguments)}function c4(s,c,f,g,N,A,I,K,Q){if(l4.apply(this,arguments),mo){if(mo){var re=Nc;mo=!1,Nc=null}else throw Error(r(198));Sc||(Sc=!0,sh=re)}}function Da(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function pj(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function mj(s){if(Da(s)!==s)throw Error(r(188))}function u4(s){var c=s.alternate;if(!c){if(c=Da(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,g=c;;){var N=f.return;if(N===null)break;var A=N.alternate;if(A===null){if(g=N.return,g!==null){f=g;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===f)return mj(N),s;if(A===g)return mj(N),c;A=A.sibling}throw Error(r(188))}if(f.return!==g.return)f=N,g=A;else{for(var I=!1,K=N.child;K;){if(K===f){I=!0,f=N,g=A;break}if(K===g){I=!0,g=N,f=A;break}K=K.sibling}if(!I){for(K=A.child;K;){if(K===f){I=!0,f=A,g=N;break}if(K===g){I=!0,g=A,f=N;break}K=K.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function gj(s){return s=u4(s),s!==null?xj(s):null}function xj(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=xj(s);if(c!==null)return c;s=s.sibling}return null}var yj=t.unstable_scheduleCallback,vj=t.unstable_cancelCallback,d4=t.unstable_shouldYield,f4=t.unstable_requestPaint,xt=t.unstable_now,h4=t.unstable_getCurrentPriorityLevel,oh=t.unstable_ImmediatePriority,bj=t.unstable_UserBlockingPriority,Oc=t.unstable_NormalPriority,p4=t.unstable_LowPriority,jj=t.unstable_IdlePriority,kc=null,ln=null;function m4(s){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:y4,g4=Math.log,x4=Math.LN2;function y4(s){return s>>>=0,s===0?32:31-(g4(s)/x4|0)|0}var Pc=64,Ac=4194304;function go(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _c(s,c){var f=s.pendingLanes;if(f===0)return 0;var g=0,N=s.suspendedLanes,A=s.pingedLanes,I=f&268435455;if(I!==0){var K=I&~N;K!==0?g=go(K):(A&=I,A!==0&&(g=go(A)))}else I=f&~N,I!==0?g=go(I):A!==0&&(g=go(A));if(g===0)return 0;if(c!==0&&c!==g&&(c&N)===0&&(N=g&-g,A=c&-c,N>=A||N===16&&(A&4194240)!==0))return c;if((g&4)!==0&&(g|=f&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)f=31-zr(c),N=1<<f,g|=s[f],c&=~N;return g}function v4(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b4(s,c){for(var f=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,A=s.pendingLanes;0<A;){var I=31-zr(A),K=1<<I,Q=N[I];Q===-1?((K&f)===0||(K&g)!==0)&&(N[I]=v4(K,c)):Q<=c&&(s.expiredLanes|=K),A&=~K}}function lh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function wj(){var s=Pc;return Pc<<=1,(Pc&4194240)===0&&(Pc=64),s}function ch(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function xo(s,c,f){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-zr(c),s[c]=f}function j4(s,c){var f=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var N=31-zr(f),A=1<<N;c[N]=0,g[N]=-1,s[N]=-1,f&=~A}}function uh(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var g=31-zr(f),N=1<<g;N&c|s[g]&c&&(s[g]|=c),f&=~N}}var Qe=0;function Nj(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Sj,dh,Oj,kj,Pj,fh=!1,Cc=[],Jn=null,Zn=null,ea=null,yo=new Map,vo=new Map,ta=[],w4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aj(s,c){switch(s){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":yo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(c.pointerId)}}function bo(s,c,f,g,N,A){return s===null||s.nativeEvent!==A?(s={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[N]},c!==null&&(c=Mo(c),c!==null&&dh(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),s)}function N4(s,c,f,g,N){switch(c){case"focusin":return Jn=bo(Jn,s,c,f,g,N),!0;case"dragenter":return Zn=bo(Zn,s,c,f,g,N),!0;case"mouseover":return ea=bo(ea,s,c,f,g,N),!0;case"pointerover":var A=N.pointerId;return yo.set(A,bo(yo.get(A)||null,s,c,f,g,N)),!0;case"gotpointercapture":return A=N.pointerId,vo.set(A,bo(vo.get(A)||null,s,c,f,g,N)),!0}return!1}function _j(s){var c=La(s.target);if(c!==null){var f=Da(c);if(f!==null){if(c=f.tag,c===13){if(c=pj(f),c!==null){s.blockedOn=c,Pj(s.priority,function(){Oj(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ec(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=ph(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);th=g,f.target.dispatchEvent(g),th=null}else return c=Mo(f),c!==null&&dh(c),s.blockedOn=f,!1;c.shift()}return!0}function Cj(s,c,f){Ec(s)&&f.delete(c)}function S4(){fh=!1,Jn!==null&&Ec(Jn)&&(Jn=null),Zn!==null&&Ec(Zn)&&(Zn=null),ea!==null&&Ec(ea)&&(ea=null),yo.forEach(Cj),vo.forEach(Cj)}function jo(s,c){s.blockedOn===c&&(s.blockedOn=null,fh||(fh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S4)))}function wo(s){function c(N){return jo(N,s)}if(0<Cc.length){jo(Cc[0],s);for(var f=1;f<Cc.length;f++){var g=Cc[f];g.blockedOn===s&&(g.blockedOn=null)}}for(Jn!==null&&jo(Jn,s),Zn!==null&&jo(Zn,s),ea!==null&&jo(ea,s),yo.forEach(c),vo.forEach(c),f=0;f<ta.length;f++)g=ta[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<ta.length&&(f=ta[0],f.blockedOn===null);)_j(f),f.blockedOn===null&&ta.shift()}var Ri=O.ReactCurrentBatchConfig,Tc=!0;function O4(s,c,f,g){var N=Qe,A=Ri.transition;Ri.transition=null;try{Qe=1,hh(s,c,f,g)}finally{Qe=N,Ri.transition=A}}function k4(s,c,f,g){var N=Qe,A=Ri.transition;Ri.transition=null;try{Qe=4,hh(s,c,f,g)}finally{Qe=N,Ri.transition=A}}function hh(s,c,f,g){if(Tc){var N=ph(s,c,f,g);if(N===null)Eh(s,c,g,Rc,f),Aj(s,g);else if(N4(N,s,c,f,g))g.stopPropagation();else if(Aj(s,g),c&4&&-1<w4.indexOf(s)){for(;N!==null;){var A=Mo(N);if(A!==null&&Sj(A),A=ph(s,c,f,g),A===null&&Eh(s,c,g,Rc,f),A===N)break;N=A}N!==null&&g.stopPropagation()}else Eh(s,c,g,null,f)}}var Rc=null;function ph(s,c,f,g){if(Rc=null,s=rh(g),s=La(s),s!==null)if(c=Da(s),c===null)s=null;else if(f=c.tag,f===13){if(s=pj(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Rc=s,null}function Ej(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h4()){case oh:return 1;case bj:return 4;case Oc:case p4:return 16;case jj:return 536870912;default:return 16}default:return 16}}var ra=null,mh=null,Mc=null;function Tj(){if(Mc)return Mc;var s,c=mh,f=c.length,g,N="value"in ra?ra.value:ra.textContent,A=N.length;for(s=0;s<f&&c[s]===N[s];s++);var I=f-s;for(g=1;g<=I&&c[f-g]===N[A-g];g++);return Mc=N.slice(s,1<g?1-g:void 0)}function Ic(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function $c(){return!0}function Rj(){return!1}function pr(s){function c(f,g,N,A,I){this._reactName=f,this._targetInst=N,this.type=g,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(f=s[K],this[K]=f?f(A):A[K]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?$c:Rj,this.isPropagationStopped=Rj,this}return D(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),c}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=pr(Mi),No=D({},Mi,{view:0,detail:0}),P4=pr(No),xh,yh,So,Dc=D({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==So&&(So&&s.type==="mousemove"?(xh=s.screenX-So.screenX,yh=s.screenY-So.screenY):yh=xh=0,So=s),xh)},movementY:function(s){return"movementY"in s?s.movementY:yh}}),Mj=pr(Dc),A4=D({},Dc,{dataTransfer:0}),_4=pr(A4),C4=D({},No,{relatedTarget:0}),vh=pr(C4),E4=D({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),T4=pr(E4),R4=D({},Mi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),M4=pr(R4),I4=D({},Mi,{data:0}),Ij=pr(I4),$4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F4(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=L4[s])?!!c[s]:!1}function bh(){return F4}var B4=D({},No,{key:function(s){if(s.key){var c=$4[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ic(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?D4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(s){return s.type==="keypress"?Ic(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ic(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),q4=pr(B4),z4=D({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$j=pr(z4),U4=D({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),W4=pr(U4),K4=D({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),H4=pr(K4),G4=D({},Dc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),V4=pr(G4),Y4=[9,13,27,32],jh=u&&"CompositionEvent"in window,Oo=null;u&&"documentMode"in document&&(Oo=document.documentMode);var X4=u&&"TextEvent"in window&&!Oo,Dj=u&&(!jh||Oo&&8<Oo&&11>=Oo),Lj=" ",Fj=!1;function Bj(s,c){switch(s){case"keyup":return Y4.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function Q4(s,c){switch(s){case"compositionend":return qj(c);case"keypress":return c.which!==32?null:(Fj=!0,Lj);case"textInput":return s=c.data,s===Lj&&Fj?null:s;default:return null}}function J4(s,c){if(Ii)return s==="compositionend"||!jh&&Bj(s,c)?(s=Tj(),Mc=mh=ra=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Dj&&c.locale!=="ko"?null:c.data;default:return null}}var Z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zj(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Z4[s.type]:c==="textarea"}function Uj(s,c,f,g){cj(g),c=zc(c,"onChange"),0<c.length&&(f=new gh("onChange","change",null,f,g),s.push({event:f,listeners:c}))}var ko=null,Po=null;function e3(s){ow(s,0)}function Lc(s){var c=Bi(s);if(Z(c))return s}function t3(s,c){if(s==="change")return c}var Wj=!1;if(u){var wh;if(u){var Nh="oninput"in document;if(!Nh){var Kj=document.createElement("div");Kj.setAttribute("oninput","return;"),Nh=typeof Kj.oninput=="function"}wh=Nh}else wh=!1;Wj=wh&&(!document.documentMode||9<document.documentMode)}function Hj(){ko&&(ko.detachEvent("onpropertychange",Gj),Po=ko=null)}function Gj(s){if(s.propertyName==="value"&&Lc(Po)){var c=[];Uj(c,Po,s,rh(s)),hj(e3,c)}}function r3(s,c,f){s==="focusin"?(Hj(),ko=c,Po=f,ko.attachEvent("onpropertychange",Gj)):s==="focusout"&&Hj()}function n3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lc(Po)}function a3(s,c){if(s==="click")return Lc(c)}function i3(s,c){if(s==="input"||s==="change")return Lc(c)}function s3(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ur=typeof Object.is=="function"?Object.is:s3;function Ao(s,c){if(Ur(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var N=f[g];if(!d.call(c,N)||!Ur(s[N],c[N]))return!1}return!0}function Vj(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Yj(s,c){var f=Vj(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=c&&g>=c)return{node:f,offset:c-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Vj(f)}}function Xj(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Xj(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Qj(){for(var s=window,c=xe();c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=xe(s.document)}return c}function Sh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function o3(s){var c=Qj(),f=s.focusedElem,g=s.selectionRange;if(c!==f&&f&&f.ownerDocument&&Xj(f.ownerDocument.documentElement,f)){if(g!==null&&Sh(f)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(s,f.value.length);else if(s=(c=f.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var N=f.textContent.length,A=Math.min(g.start,N);g=g.end===void 0?A:Math.min(g.end,N),!s.extend&&A>g&&(N=g,g=A,A=N),N=Yj(f,A);var I=Yj(f,g);N&&I&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(N.node,N.offset),s.removeAllRanges(),A>g?(s.addRange(c),s.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),s.addRange(c)))}}for(c=[],s=f;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)s=c[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var l3=u&&"documentMode"in document&&11>=document.documentMode,$i=null,Oh=null,_o=null,kh=!1;function Jj(s,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;kh||$i==null||$i!==xe(g)||(g=$i,"selectionStart"in g&&Sh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_o&&Ao(_o,g)||(_o=g,g=zc(Oh,"onSelect"),0<g.length&&(c=new gh("onSelect","select",null,c,f),s.push({event:c,listeners:g}),c.target=$i)))}function Fc(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Di={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},Ph={},Zj={};u&&(Zj=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Bc(s){if(Ph[s])return Ph[s];if(!Di[s])return s;var c=Di[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in Zj)return Ph[s]=c[f];return s}var ew=Bc("animationend"),tw=Bc("animationiteration"),rw=Bc("animationstart"),nw=Bc("transitionend"),aw=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(s,c){aw.set(s,c),o(c,[s])}for(var Ah=0;Ah<iw.length;Ah++){var _h=iw[Ah],c3=_h.toLowerCase(),u3=_h[0].toUpperCase()+_h.slice(1);na(c3,"on"+u3)}na(ew,"onAnimationEnd"),na(tw,"onAnimationIteration"),na(rw,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(nw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function sw(s,c,f){var g=s.type||"unknown-event";s.currentTarget=f,c4(g,c,void 0,s),s.currentTarget=null}function ow(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],N=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var I=g.length-1;0<=I;I--){var K=g[I],Q=K.instance,re=K.currentTarget;if(K=K.listener,Q!==A&&N.isPropagationStopped())break e;sw(N,K,re),A=Q}else for(I=0;I<g.length;I++){if(K=g[I],Q=K.instance,re=K.currentTarget,K=K.listener,Q!==A&&N.isPropagationStopped())break e;sw(N,K,re),A=Q}}}if(Sc)throw s=sh,Sc=!1,sh=null,s}function it(s,c){var f=c[Dh];f===void 0&&(f=c[Dh]=new Set);var g=s+"__bubble";f.has(g)||(lw(c,s,2,!1),f.add(g))}function Ch(s,c,f){var g=0;c&&(g|=4),lw(f,s,g,c)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Eo(s){if(!s[qc]){s[qc]=!0,n.forEach(function(f){f!=="selectionchange"&&(d3.has(f)||Ch(f,!1,s),Ch(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[qc]||(c[qc]=!0,Ch("selectionchange",!1,c))}}function lw(s,c,f,g){switch(Ej(c)){case 1:var N=O4;break;case 4:N=k4;break;default:N=hh}f=N.bind(null,c,f,s),N=void 0,!ih||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(c,f,{capture:!0,passive:N}):s.addEventListener(c,f,!0):N!==void 0?s.addEventListener(c,f,{passive:N}):s.addEventListener(c,f,!1)}function Eh(s,c,f,g,N){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var K=g.stateNode.containerInfo;if(K===N||K.nodeType===8&&K.parentNode===N)break;if(I===4)for(I=g.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&(Q=I.stateNode.containerInfo,Q===N||Q.nodeType===8&&Q.parentNode===N))return;I=I.return}for(;K!==null;){if(I=La(K),I===null)return;if(Q=I.tag,Q===5||Q===6){g=A=I;continue e}K=K.parentNode}}g=g.return}hj(function(){var re=A,ue=rh(f),he=[];e:{var le=aw.get(s);if(le!==void 0){var ge=gh,je=s;switch(s){case"keypress":if(Ic(f)===0)break e;case"keydown":case"keyup":ge=q4;break;case"focusin":je="focus",ge=vh;break;case"focusout":je="blur",ge=vh;break;case"beforeblur":case"afterblur":ge=vh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Mj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=_4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=W4;break;case ew:case tw:case rw:ge=T4;break;case nw:ge=H4;break;case"scroll":ge=P4;break;case"wheel":ge=V4;break;case"copy":case"cut":case"paste":ge=M4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=$j}var we=(c&4)!==0,yt=!we&&s==="scroll",ee=we?le!==null?le+"Capture":null:le;we=[];for(var J=re,te;J!==null;){te=J;var pe=te.stateNode;if(te.tag===5&&pe!==null&&(te=pe,ee!==null&&(pe=ho(J,ee),pe!=null&&we.push(To(J,pe,te)))),yt)break;J=J.return}0<we.length&&(le=new ge(le,je,null,f,ue),he.push({event:le,listeners:we}))}}if((c&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",le&&f!==th&&(je=f.relatedTarget||f.fromElement)&&(La(je)||je[On]))break e;if((ge||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ge?(je=f.relatedTarget||f.toElement,ge=re,je=je?La(je):null,je!==null&&(yt=Da(je),je!==yt||je.tag!==5&&je.tag!==6)&&(je=null)):(ge=null,je=re),ge!==je)){if(we=Mj,pe="onMouseLeave",ee="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(we=$j,pe="onPointerLeave",ee="onPointerEnter",J="pointer"),yt=ge==null?le:Bi(ge),te=je==null?le:Bi(je),le=new we(pe,J+"leave",ge,f,ue),le.target=yt,le.relatedTarget=te,pe=null,La(ue)===re&&(we=new we(ee,J+"enter",je,f,ue),we.target=te,we.relatedTarget=yt,pe=we),yt=pe,ge&&je)t:{for(we=ge,ee=je,J=0,te=we;te;te=Li(te))J++;for(te=0,pe=ee;pe;pe=Li(pe))te++;for(;0<J-te;)we=Li(we),J--;for(;0<te-J;)ee=Li(ee),te--;for(;J--;){if(we===ee||ee!==null&&we===ee.alternate)break t;we=Li(we),ee=Li(ee)}we=null}else we=null;ge!==null&&cw(he,le,ge,we,!1),je!==null&&yt!==null&&cw(he,yt,je,we,!0)}}e:{if(le=re?Bi(re):window,ge=le.nodeName&&le.nodeName.toLowerCase(),ge==="select"||ge==="input"&&le.type==="file")var Ne=t3;else if(zj(le))if(Wj)Ne=i3;else{Ne=n3;var Pe=r3}else(ge=le.nodeName)&&ge.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ne=a3);if(Ne&&(Ne=Ne(s,re))){Uj(he,Ne,f,ue);break e}Pe&&Pe(s,le,re),s==="focusout"&&(Pe=le._wrapperState)&&Pe.controlled&&le.type==="number"&&sn(le,"number",le.value)}switch(Pe=re?Bi(re):window,s){case"focusin":(zj(Pe)||Pe.contentEditable==="true")&&($i=Pe,Oh=re,_o=null);break;case"focusout":_o=Oh=$i=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Jj(he,f,ue);break;case"selectionchange":if(l3)break;case"keydown":case"keyup":Jj(he,f,ue)}var Ae;if(jh)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ii?Bj(s,f)&&(Re="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Re="onCompositionStart");Re&&(Dj&&f.locale!=="ko"&&(Ii||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ii&&(Ae=Tj()):(ra=ue,mh="value"in ra?ra.value:ra.textContent,Ii=!0)),Pe=zc(re,Re),0<Pe.length&&(Re=new Ij(Re,s,null,f,ue),he.push({event:Re,listeners:Pe}),Ae?Re.data=Ae:(Ae=qj(f),Ae!==null&&(Re.data=Ae)))),(Ae=X4?Q4(s,f):J4(s,f))&&(re=zc(re,"onBeforeInput"),0<re.length&&(ue=new Ij("onBeforeInput","beforeinput",null,f,ue),he.push({event:ue,listeners:re}),ue.data=Ae))}ow(he,c)})}function To(s,c,f){return{instance:s,listener:c,currentTarget:f}}function zc(s,c){for(var f=c+"Capture",g=[];s!==null;){var N=s,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=ho(s,f),A!=null&&g.unshift(To(s,A,N)),A=ho(s,c),A!=null&&g.push(To(s,A,N))),s=s.return}return g}function Li(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cw(s,c,f,g,N){for(var A=c._reactName,I=[];f!==null&&f!==g;){var K=f,Q=K.alternate,re=K.stateNode;if(Q!==null&&Q===g)break;K.tag===5&&re!==null&&(K=re,N?(Q=ho(f,A),Q!=null&&I.unshift(To(f,Q,K))):N||(Q=ho(f,A),Q!=null&&I.push(To(f,Q,K)))),f=f.return}I.length!==0&&s.push({event:c,listeners:I})}var f3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function uw(s){return(typeof s=="string"?s:""+s).replace(f3,`
`).replace(h3,"")}function Uc(s,c,f){if(c=uw(c),uw(s)!==c&&f)throw Error(r(425))}function Wc(){}var Th=null,Rh=null;function Mh(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,p3=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,m3=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(s){return dw.resolve(null).then(s).catch(g3)}:Ih;function g3(s){setTimeout(function(){throw s})}function $h(s,c){var f=c,g=0;do{var N=f.nextSibling;if(s.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(g===0){s.removeChild(N),wo(c);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=N}while(f);wo(c)}function aa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function fw(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return s;c--}else f==="/$"&&c++}s=s.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),cn="__reactFiber$"+Fi,Ro="__reactProps$"+Fi,On="__reactContainer$"+Fi,Dh="__reactEvents$"+Fi,x3="__reactListeners$"+Fi,y3="__reactHandles$"+Fi;function La(s){var c=s[cn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[On]||f[cn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=fw(s);s!==null;){if(f=s[cn])return f;s=fw(s)}return c}s=f,f=s.parentNode}return null}function Mo(s){return s=s[cn]||s[On],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Kc(s){return s[Ro]||null}var Lh=[],qi=-1;function ia(s){return{current:s}}function st(s){0>qi||(s.current=Lh[qi],Lh[qi]=null,qi--)}function tt(s,c){qi++,Lh[qi]=s.current,s.current=c}var sa={},zt=ia(sa),ar=ia(!1),Fa=sa;function zi(s,c){var f=s.type.contextTypes;if(!f)return sa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in f)N[A]=c[A];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=N),N}function ir(s){return s=s.childContextTypes,s!=null}function Hc(){st(ar),st(zt)}function hw(s,c,f){if(zt.current!==sa)throw Error(r(168));tt(zt,c),tt(ar,f)}function pw(s,c,f){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var N in g)if(!(N in c))throw Error(r(108,ke(s)||"Unknown",N));return D({},f,g)}function Gc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||sa,Fa=zt.current,tt(zt,s),tt(ar,ar.current),!0}function mw(s,c,f){var g=s.stateNode;if(!g)throw Error(r(169));f?(s=pw(s,c,Fa),g.__reactInternalMemoizedMergedChildContext=s,st(ar),st(zt),tt(zt,s)):st(ar),tt(ar,f)}var kn=null,Vc=!1,Fh=!1;function gw(s){kn===null?kn=[s]:kn.push(s)}function v3(s){Vc=!0,gw(s)}function oa(){if(!Fh&&kn!==null){Fh=!0;var s=0,c=Qe;try{var f=kn;for(Qe=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}kn=null,Vc=!1}catch(N){throw kn!==null&&(kn=kn.slice(s+1)),yj(oh,oa),N}finally{Qe=c,Fh=!1}}return null}var Ui=[],Wi=0,Yc=null,Xc=0,Or=[],kr=0,Ba=null,Pn=1,An="";function qa(s,c){Ui[Wi++]=Xc,Ui[Wi++]=Yc,Yc=s,Xc=c}function xw(s,c,f){Or[kr++]=Pn,Or[kr++]=An,Or[kr++]=Ba,Ba=s;var g=Pn;s=An;var N=32-zr(g)-1;g&=~(1<<N),f+=1;var A=32-zr(c)+N;if(30<A){var I=N-N%5;A=(g&(1<<I)-1).toString(32),g>>=I,N-=I,Pn=1<<32-zr(c)+N|f<<N|g,An=A+s}else Pn=1<<A|f<<N|g,An=s}function Bh(s){s.return!==null&&(qa(s,1),xw(s,1,0))}function qh(s){for(;s===Yc;)Yc=Ui[--Wi],Ui[Wi]=null,Xc=Ui[--Wi],Ui[Wi]=null;for(;s===Ba;)Ba=Or[--kr],Or[kr]=null,An=Or[--kr],Or[kr]=null,Pn=Or[--kr],Or[kr]=null}var mr=null,gr=null,lt=!1,Wr=null;function yw(s,c){var f=Cr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=s,c=s.deletions,c===null?(s.deletions=[f],s.flags|=16):c.push(f)}function vw(s,c){switch(s.tag){case 5:var f=s.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,mr=s,gr=aa(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,mr=s,gr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=Ba!==null?{id:Pn,overflow:An}:null,s.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Cr(18,null,null,0),f.stateNode=c,f.return=s,s.child=f,mr=s,gr=null,!0):!1;default:return!1}}function zh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Uh(s){if(lt){var c=gr;if(c){var f=c;if(!vw(s,c)){if(zh(s))throw Error(r(418));c=aa(f.nextSibling);var g=mr;c&&vw(s,c)?yw(g,f):(s.flags=s.flags&-4097|2,lt=!1,mr=s)}}else{if(zh(s))throw Error(r(418));s.flags=s.flags&-4097|2,lt=!1,mr=s}}}function bw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mr=s}function Qc(s){if(s!==mr)return!1;if(!lt)return bw(s),lt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!Mh(s.type,s.memoizedProps)),c&&(c=gr)){if(zh(s))throw jw(),Error(r(418));for(;c;)yw(s,c),c=aa(c.nextSibling)}if(bw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(c===0){gr=aa(s.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}s=s.nextSibling}gr=null}}else gr=mr?aa(s.stateNode.nextSibling):null;return!0}function jw(){for(var s=gr;s;)s=aa(s.nextSibling)}function Ki(){gr=mr=null,lt=!1}function Wh(s){Wr===null?Wr=[s]:Wr.push(s)}var b3=O.ReactCurrentBatchConfig;function Io(s,c,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,s));var N=g,A=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(I){var K=N.refs;I===null?delete K[A]:K[A]=I},c._stringRef=A,c)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function Jc(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function ww(s){var c=s._init;return c(s._payload)}function Nw(s){function c(ee,J){if(s){var te=ee.deletions;te===null?(ee.deletions=[J],ee.flags|=16):te.push(J)}}function f(ee,J){if(!s)return null;for(;J!==null;)c(ee,J),J=J.sibling;return null}function g(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function N(ee,J){return ee=ma(ee,J),ee.index=0,ee.sibling=null,ee}function A(ee,J,te){return ee.index=te,s?(te=ee.alternate,te!==null?(te=te.index,te<J?(ee.flags|=2,J):te):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function I(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function K(ee,J,te,pe){return J===null||J.tag!==6?(J=Ip(te,ee.mode,pe),J.return=ee,J):(J=N(J,te),J.return=ee,J)}function Q(ee,J,te,pe){var Ne=te.type;return Ne===E?ue(ee,J,te.props.children,pe,te.key):J!==null&&(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&ww(Ne)===J.type)?(pe=N(J,te.props),pe.ref=Io(ee,J,te),pe.return=ee,pe):(pe=wu(te.type,te.key,te.props,null,ee.mode,pe),pe.ref=Io(ee,J,te),pe.return=ee,pe)}function re(ee,J,te,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=$p(te,ee.mode,pe),J.return=ee,J):(J=N(J,te.children||[]),J.return=ee,J)}function ue(ee,J,te,pe,Ne){return J===null||J.tag!==7?(J=Ya(te,ee.mode,pe,Ne),J.return=ee,J):(J=N(J,te),J.return=ee,J)}function he(ee,J,te){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Ip(""+J,ee.mode,te),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return te=wu(J.type,J.key,J.props,null,ee.mode,te),te.ref=Io(ee,null,J),te.return=ee,te;case P:return J=$p(J,ee.mode,te),J.return=ee,J;case $:var pe=J._init;return he(ee,pe(J._payload),te)}if(on(J)||G(J))return J=Ya(J,ee.mode,te,null),J.return=ee,J;Jc(ee,J)}return null}function le(ee,J,te,pe){var Ne=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ne!==null?null:K(ee,J,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ne?Q(ee,J,te,pe):null;case P:return te.key===Ne?re(ee,J,te,pe):null;case $:return Ne=te._init,le(ee,J,Ne(te._payload),pe)}if(on(te)||G(te))return Ne!==null?null:ue(ee,J,te,pe,null);Jc(ee,te)}return null}function ge(ee,J,te,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ee=ee.get(te)||null,K(J,ee,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return ee=ee.get(pe.key===null?te:pe.key)||null,Q(J,ee,pe,Ne);case P:return ee=ee.get(pe.key===null?te:pe.key)||null,re(J,ee,pe,Ne);case $:var Pe=pe._init;return ge(ee,J,te,Pe(pe._payload),Ne)}if(on(pe)||G(pe))return ee=ee.get(te)||null,ue(J,ee,pe,Ne,null);Jc(J,pe)}return null}function je(ee,J,te,pe){for(var Ne=null,Pe=null,Ae=J,Re=J=0,Mt=null;Ae!==null&&Re<te.length;Re++){Ae.index>Re?(Mt=Ae,Ae=null):Mt=Ae.sibling;var Ke=le(ee,Ae,te[Re],pe);if(Ke===null){Ae===null&&(Ae=Mt);break}s&&Ae&&Ke.alternate===null&&c(ee,Ae),J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke,Ae=Mt}if(Re===te.length)return f(ee,Ae),lt&&qa(ee,Re),Ne;if(Ae===null){for(;Re<te.length;Re++)Ae=he(ee,te[Re],pe),Ae!==null&&(J=A(Ae,J,Re),Pe===null?Ne=Ae:Pe.sibling=Ae,Pe=Ae);return lt&&qa(ee,Re),Ne}for(Ae=g(ee,Ae);Re<te.length;Re++)Mt=ge(Ae,ee,Re,te[Re],pe),Mt!==null&&(s&&Mt.alternate!==null&&Ae.delete(Mt.key===null?Re:Mt.key),J=A(Mt,J,Re),Pe===null?Ne=Mt:Pe.sibling=Mt,Pe=Mt);return s&&Ae.forEach(function(ga){return c(ee,ga)}),lt&&qa(ee,Re),Ne}function we(ee,J,te,pe){var Ne=G(te);if(typeof Ne!="function")throw Error(r(150));if(te=Ne.call(te),te==null)throw Error(r(151));for(var Pe=Ne=null,Ae=J,Re=J=0,Mt=null,Ke=te.next();Ae!==null&&!Ke.done;Re++,Ke=te.next()){Ae.index>Re?(Mt=Ae,Ae=null):Mt=Ae.sibling;var ga=le(ee,Ae,Ke.value,pe);if(ga===null){Ae===null&&(Ae=Mt);break}s&&Ae&&ga.alternate===null&&c(ee,Ae),J=A(ga,J,Re),Pe===null?Ne=ga:Pe.sibling=ga,Pe=ga,Ae=Mt}if(Ke.done)return f(ee,Ae),lt&&qa(ee,Re),Ne;if(Ae===null){for(;!Ke.done;Re++,Ke=te.next())Ke=he(ee,Ke.value,pe),Ke!==null&&(J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke);return lt&&qa(ee,Re),Ne}for(Ae=g(ee,Ae);!Ke.done;Re++,Ke=te.next())Ke=ge(Ae,ee,Re,Ke.value,pe),Ke!==null&&(s&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Re:Ke.key),J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke);return s&&Ae.forEach(function(Z3){return c(ee,Z3)}),lt&&qa(ee,Re),Ne}function yt(ee,J,te,pe){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ne=te.key,Pe=J;Pe!==null;){if(Pe.key===Ne){if(Ne=te.type,Ne===E){if(Pe.tag===7){f(ee,Pe.sibling),J=N(Pe,te.props.children),J.return=ee,ee=J;break e}}else if(Pe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&ww(Ne)===Pe.type){f(ee,Pe.sibling),J=N(Pe,te.props),J.ref=Io(ee,Pe,te),J.return=ee,ee=J;break e}f(ee,Pe);break}else c(ee,Pe);Pe=Pe.sibling}te.type===E?(J=Ya(te.props.children,ee.mode,pe,te.key),J.return=ee,ee=J):(pe=wu(te.type,te.key,te.props,null,ee.mode,pe),pe.ref=Io(ee,J,te),pe.return=ee,ee=pe)}return I(ee);case P:e:{for(Pe=te.key;J!==null;){if(J.key===Pe)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){f(ee,J.sibling),J=N(J,te.children||[]),J.return=ee,ee=J;break e}else{f(ee,J);break}else c(ee,J);J=J.sibling}J=$p(te,ee.mode,pe),J.return=ee,ee=J}return I(ee);case $:return Pe=te._init,yt(ee,J,Pe(te._payload),pe)}if(on(te))return je(ee,J,te,pe);if(G(te))return we(ee,J,te,pe);Jc(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,J!==null&&J.tag===6?(f(ee,J.sibling),J=N(J,te),J.return=ee,ee=J):(f(ee,J),J=Ip(te,ee.mode,pe),J.return=ee,ee=J),I(ee)):f(ee,J)}return yt}var Hi=Nw(!0),Sw=Nw(!1),Zc=ia(null),eu=null,Gi=null,Kh=null;function Hh(){Kh=Gi=eu=null}function Gh(s){var c=Zc.current;st(Zc),s._currentValue=c}function Vh(s,c,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===f)break;s=s.return}}function Vi(s,c){eu=s,Kh=Gi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(sr=!0),s.firstContext=null)}function Pr(s){var c=s._currentValue;if(Kh!==s)if(s={context:s,memoizedValue:c,next:null},Gi===null){if(eu===null)throw Error(r(308));Gi=s,eu.dependencies={lanes:0,firstContext:s}}else Gi=Gi.next=s;return c}var za=null;function Yh(s){za===null?za=[s]:za.push(s)}function Ow(s,c,f,g){var N=c.interleaved;return N===null?(f.next=f,Yh(c)):(f.next=N.next,N.next=f),c.interleaved=f,_n(s,g)}function _n(s,c){s.lanes|=c;var f=s.alternate;for(f!==null&&(f.lanes|=c),f=s,s=s.return;s!==null;)s.childLanes|=c,f=s.alternate,f!==null&&(f.childLanes|=c),f=s,s=s.return;return f.tag===3?f.stateNode:null}var la=!1;function Xh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Cn(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ca(s,c,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(We&2)!==0){var N=g.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),g.pending=c,_n(s,f)}return N=g.interleaved,N===null?(c.next=c,Yh(g)):(c.next=N.next,N.next=c),g.interleaved=c,_n(s,f)}function tu(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,uh(s,f)}}function Pw(s,c){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var N=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var I={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?N=A=I:A=A.next=I,f=f.next}while(f!==null);A===null?N=A=c:A=A.next=c}else N=A=c;f={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}function ru(s,c,f,g){var N=s.updateQueue;la=!1;var A=N.firstBaseUpdate,I=N.lastBaseUpdate,K=N.shared.pending;if(K!==null){N.shared.pending=null;var Q=K,re=Q.next;Q.next=null,I===null?A=re:I.next=re,I=Q;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,K=ue.lastBaseUpdate,K!==I&&(K===null?ue.firstBaseUpdate=re:K.next=re,ue.lastBaseUpdate=Q))}if(A!==null){var he=N.baseState;I=0,ue=re=Q=null,K=A;do{var le=K.lane,ge=K.eventTime;if((g&le)===le){ue!==null&&(ue=ue.next={eventTime:ge,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var je=s,we=K;switch(le=c,ge=f,we.tag){case 1:if(je=we.payload,typeof je=="function"){he=je.call(ge,he,le);break e}he=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=we.payload,le=typeof je=="function"?je.call(ge,he,le):je,le==null)break e;he=D({},he,le);break e;case 2:la=!0}}K.callback!==null&&K.lane!==0&&(s.flags|=64,le=N.effects,le===null?N.effects=[K]:le.push(K))}else ge={eventTime:ge,lane:le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ue===null?(re=ue=ge,Q=he):ue=ue.next=ge,I|=le;if(K=K.next,K===null){if(K=N.shared.pending,K===null)break;le=K,K=le.next,le.next=null,N.lastBaseUpdate=le,N.shared.pending=null}}while(!0);if(ue===null&&(Q=he),N.baseState=Q,N.firstBaseUpdate=re,N.lastBaseUpdate=ue,c=N.shared.interleaved,c!==null){N=c;do I|=N.lane,N=N.next;while(N!==c)}else A===null&&(N.shared.lanes=0);Ka|=I,s.lanes=I,s.memoizedState=he}}function Aw(s,c,f){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],N=g.callback;if(N!==null){if(g.callback=null,g=f,typeof N!="function")throw Error(r(191,N));N.call(g)}}}var $o={},un=ia($o),Do=ia($o),Lo=ia($o);function Ua(s){if(s===$o)throw Error(r(174));return s}function Qh(s,c){switch(tt(Lo,c),tt(Do,s),tt(un,$o),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Jf(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Jf(c,s)}st(un),tt(un,c)}function Yi(){st(un),st(Do),st(Lo)}function _w(s){Ua(Lo.current);var c=Ua(un.current),f=Jf(c,s.type);c!==f&&(tt(Do,s),tt(un,f))}function Jh(s){Do.current===s&&(st(un),st(Do))}var ut=ia(0);function nu(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Zh=[];function ep(){for(var s=0;s<Zh.length;s++)Zh[s]._workInProgressVersionPrimary=null;Zh.length=0}var au=O.ReactCurrentDispatcher,tp=O.ReactCurrentBatchConfig,Wa=0,dt=null,Nt=null,Tt=null,iu=!1,Fo=!1,Bo=0,j3=0;function Ut(){throw Error(r(321))}function rp(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!Ur(s[f],c[f]))return!1;return!0}function np(s,c,f,g,N,A){if(Wa=A,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,au.current=s===null||s.memoizedState===null?O3:k3,s=f(g,N),Fo){A=0;do{if(Fo=!1,Bo=0,25<=A)throw Error(r(301));A+=1,Tt=Nt=null,c.updateQueue=null,au.current=P3,s=f(g,N)}while(Fo)}if(au.current=lu,c=Nt!==null&&Nt.next!==null,Wa=0,Tt=Nt=dt=null,iu=!1,c)throw Error(r(300));return s}function ap(){var s=Bo!==0;return Bo=0,s}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function Ar(){if(Nt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var c=Tt===null?dt.memoizedState:Tt.next;if(c!==null)Tt=c,Nt=s;else{if(s===null)throw Error(r(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function qo(s,c){return typeof c=="function"?c(s):c}function ip(s){var c=Ar(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=Nt,N=g.baseQueue,A=f.pending;if(A!==null){if(N!==null){var I=N.next;N.next=A.next,A.next=I}g.baseQueue=N=A,f.pending=null}if(N!==null){A=N.next,g=g.baseState;var K=I=null,Q=null,re=A;do{var ue=re.lane;if((Wa&ue)===ue)Q!==null&&(Q=Q.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:s(g,re.action);else{var he={lane:ue,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};Q===null?(K=Q=he,I=g):Q=Q.next=he,dt.lanes|=ue,Ka|=ue}re=re.next}while(re!==null&&re!==A);Q===null?I=g:Q.next=K,Ur(g,c.memoizedState)||(sr=!0),c.memoizedState=g,c.baseState=I,c.baseQueue=Q,f.lastRenderedState=g}if(s=f.interleaved,s!==null){N=s;do A=N.lane,dt.lanes|=A,Ka|=A,N=N.next;while(N!==s)}else N===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function sp(s){var c=Ar(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,N=f.pending,A=c.memoizedState;if(N!==null){f.pending=null;var I=N=N.next;do A=s(A,I.action),I=I.next;while(I!==N);Ur(A,c.memoizedState)||(sr=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),f.lastRenderedState=A}return[A,g]}function Cw(){}function Ew(s,c){var f=dt,g=Ar(),N=c(),A=!Ur(g.memoizedState,N);if(A&&(g.memoizedState=N,sr=!0),g=g.queue,op(Mw.bind(null,f,g,s),[s]),g.getSnapshot!==c||A||Tt!==null&&Tt.memoizedState.tag&1){if(f.flags|=2048,zo(9,Rw.bind(null,f,g,N,c),void 0,null),Rt===null)throw Error(r(349));(Wa&30)!==0||Tw(f,c,N)}return N}function Tw(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function Rw(s,c,f,g){c.value=f,c.getSnapshot=g,Iw(c)&&$w(s)}function Mw(s,c,f){return f(function(){Iw(c)&&$w(s)})}function Iw(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!Ur(s,f)}catch{return!0}}function $w(s){var c=_n(s,1);c!==null&&Vr(c,s,1,-1)}function Dw(s){var c=dn();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:s},c.queue=s,s=s.dispatch=S3.bind(null,dt,s),[c.memoizedState,s]}function zo(s,c,f,g){return s={tag:s,create:c,destroy:f,deps:g,next:null},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.lastEffect=s.next=s):(f=c.lastEffect,f===null?c.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,c.lastEffect=s)),s}function Lw(){return Ar().memoizedState}function su(s,c,f,g){var N=dn();dt.flags|=s,N.memoizedState=zo(1|c,f,void 0,g===void 0?null:g)}function ou(s,c,f,g){var N=Ar();g=g===void 0?null:g;var A=void 0;if(Nt!==null){var I=Nt.memoizedState;if(A=I.destroy,g!==null&&rp(g,I.deps)){N.memoizedState=zo(c,f,A,g);return}}dt.flags|=s,N.memoizedState=zo(1|c,f,A,g)}function Fw(s,c){return su(8390656,8,s,c)}function op(s,c){return ou(2048,8,s,c)}function Bw(s,c){return ou(4,2,s,c)}function qw(s,c){return ou(4,4,s,c)}function zw(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Uw(s,c,f){return f=f!=null?f.concat([s]):null,ou(4,4,zw.bind(null,c,s),f)}function lp(){}function Ww(s,c){var f=Ar();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&rp(c,g[1])?g[0]:(f.memoizedState=[s,c],s)}function Kw(s,c){var f=Ar();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&rp(c,g[1])?g[0]:(s=s(),f.memoizedState=[s,c],s)}function Hw(s,c,f){return(Wa&21)===0?(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=f):(Ur(f,c)||(f=wj(),dt.lanes|=f,Ka|=f,s.baseState=!0),c)}function w3(s,c){var f=Qe;Qe=f!==0&&4>f?f:4,s(!0);var g=tp.transition;tp.transition={};try{s(!1),c()}finally{Qe=f,tp.transition=g}}function Gw(){return Ar().memoizedState}function N3(s,c,f){var g=ha(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Vw(s))Yw(c,f);else if(f=Ow(s,c,f,g),f!==null){var N=Jt();Vr(f,s,g,N),Xw(f,c,g)}}function S3(s,c,f){var g=ha(s),N={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Vw(s))Yw(c,N);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var I=c.lastRenderedState,K=A(I,f);if(N.hasEagerState=!0,N.eagerState=K,Ur(K,I)){var Q=c.interleaved;Q===null?(N.next=N,Yh(c)):(N.next=Q.next,Q.next=N),c.interleaved=N;return}}catch{}finally{}f=Ow(s,c,N,g),f!==null&&(N=Jt(),Vr(f,s,g,N),Xw(f,c,g))}}function Vw(s){var c=s.alternate;return s===dt||c!==null&&c===dt}function Yw(s,c){Fo=iu=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function Xw(s,c,f){if((f&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,uh(s,f)}}var lu={readContext:Pr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},O3={readContext:Pr,useCallback:function(s,c){return dn().memoizedState=[s,c===void 0?null:c],s},useContext:Pr,useEffect:Fw,useImperativeHandle:function(s,c,f){return f=f!=null?f.concat([s]):null,su(4194308,4,zw.bind(null,c,s),f)},useLayoutEffect:function(s,c){return su(4194308,4,s,c)},useInsertionEffect:function(s,c){return su(4,2,s,c)},useMemo:function(s,c){var f=dn();return c=c===void 0?null:c,s=s(),f.memoizedState=[s,c],s},useReducer:function(s,c,f){var g=dn();return c=f!==void 0?f(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=N3.bind(null,dt,s),[g.memoizedState,s]},useRef:function(s){var c=dn();return s={current:s},c.memoizedState=s},useState:Dw,useDebugValue:lp,useDeferredValue:function(s){return dn().memoizedState=s},useTransition:function(){var s=Dw(!1),c=s[0];return s=w3.bind(null,s[1]),dn().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,f){var g=dt,N=dn();if(lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),Rt===null)throw Error(r(349));(Wa&30)!==0||Tw(g,c,f)}N.memoizedState=f;var A={value:f,getSnapshot:c};return N.queue=A,Fw(Mw.bind(null,g,A,s),[s]),g.flags|=2048,zo(9,Rw.bind(null,g,A,f,c),void 0,null),f},useId:function(){var s=dn(),c=Rt.identifierPrefix;if(lt){var f=An,g=Pn;f=(g&~(1<<32-zr(g)-1)).toString(32)+f,c=":"+c+"R"+f,f=Bo++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=j3++,c=":"+c+"r"+f.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},k3={readContext:Pr,useCallback:Ww,useContext:Pr,useEffect:op,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:qw,useMemo:Kw,useReducer:ip,useRef:Lw,useState:function(){return ip(qo)},useDebugValue:lp,useDeferredValue:function(s){var c=Ar();return Hw(c,Nt.memoizedState,s)},useTransition:function(){var s=ip(qo)[0],c=Ar().memoizedState;return[s,c]},useMutableSource:Cw,useSyncExternalStore:Ew,useId:Gw,unstable_isNewReconciler:!1},P3={readContext:Pr,useCallback:Ww,useContext:Pr,useEffect:op,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:qw,useMemo:Kw,useReducer:sp,useRef:Lw,useState:function(){return sp(qo)},useDebugValue:lp,useDeferredValue:function(s){var c=Ar();return Nt===null?c.memoizedState=s:Hw(c,Nt.memoizedState,s)},useTransition:function(){var s=sp(qo)[0],c=Ar().memoizedState;return[s,c]},useMutableSource:Cw,useSyncExternalStore:Ew,useId:Gw,unstable_isNewReconciler:!1};function Kr(s,c){if(s&&s.defaultProps){c=D({},c),s=s.defaultProps;for(var f in s)c[f]===void 0&&(c[f]=s[f]);return c}return c}function cp(s,c,f,g){c=s.memoizedState,f=f(g,c),f=f==null?c:D({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var cu={isMounted:function(s){return(s=s._reactInternals)?Da(s)===s:!1},enqueueSetState:function(s,c,f){s=s._reactInternals;var g=Jt(),N=ha(s),A=Cn(g,N);A.payload=c,f!=null&&(A.callback=f),c=ca(s,A,N),c!==null&&(Vr(c,s,N,g),tu(c,s,N))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var g=Jt(),N=ha(s),A=Cn(g,N);A.tag=1,A.payload=c,f!=null&&(A.callback=f),c=ca(s,A,N),c!==null&&(Vr(c,s,N,g),tu(c,s,N))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Jt(),g=ha(s),N=Cn(f,g);N.tag=2,c!=null&&(N.callback=c),c=ca(s,N,g),c!==null&&(Vr(c,s,g,f),tu(c,s,g))}};function Qw(s,c,f,g,N,A,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,I):c.prototype&&c.prototype.isPureReactComponent?!Ao(f,g)||!Ao(N,A):!0}function Jw(s,c,f){var g=!1,N=sa,A=c.contextType;return typeof A=="object"&&A!==null?A=Pr(A):(N=ir(c)?Fa:zt.current,g=c.contextTypes,A=(g=g!=null)?zi(s,N):sa),c=new c(f,A),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cu,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=A),c}function Zw(s,c,f,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==s&&cu.enqueueReplaceState(c,c.state,null)}function up(s,c,f,g){var N=s.stateNode;N.props=f,N.state=s.memoizedState,N.refs={},Xh(s);var A=c.contextType;typeof A=="object"&&A!==null?N.context=Pr(A):(A=ir(c)?Fa:zt.current,N.context=zi(s,A)),N.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(cp(s,c,A,f),N.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(c=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),c!==N.state&&cu.enqueueReplaceState(N,N.state,null),ru(s,f,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Xi(s,c){try{var f="",g=c;do f+=fe(g),g=g.return;while(g);var N=f}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:c,stack:N,digest:null}}function dp(s,c,f){return{value:s,source:null,stack:f??null,digest:c??null}}function fp(s,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var A3=typeof WeakMap=="function"?WeakMap:Map;function e1(s,c,f){f=Cn(-1,f),f.tag=3,f.payload={element:null};var g=c.value;return f.callback=function(){gu||(gu=!0,Pp=g),fp(s,c)},f}function t1(s,c,f){f=Cn(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=c.value;f.payload=function(){return g(N)},f.callback=function(){fp(s,c)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){fp(s,c),typeof g!="function"&&(da===null?da=new Set([this]):da.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),f}function r1(s,c,f){var g=s.pingCache;if(g===null){g=s.pingCache=new A3;var N=new Set;g.set(c,N)}else N=g.get(c),N===void 0&&(N=new Set,g.set(c,N));N.has(f)||(N.add(f),s=z3.bind(null,s,c,f),c.then(s,s))}function n1(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function a1(s,c,f,g,N){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Cn(-1,1),c.tag=2,ca(f,c,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var _3=O.ReactCurrentOwner,sr=!1;function Qt(s,c,f,g){c.child=s===null?Sw(c,null,f,g):Hi(c,s.child,f,g)}function i1(s,c,f,g,N){f=f.render;var A=c.ref;return Vi(c,N),g=np(s,c,f,g,A,N),f=ap(),s!==null&&!sr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~N,En(s,c,N)):(lt&&f&&Bh(c),c.flags|=1,Qt(s,c,g,N),c.child)}function s1(s,c,f,g,N){if(s===null){var A=f.type;return typeof A=="function"&&!Mp(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=A,o1(s,c,A,g,N)):(s=wu(f.type,null,g,c,c.mode,N),s.ref=c.ref,s.return=c,c.child=s)}if(A=s.child,(s.lanes&N)===0){var I=A.memoizedProps;if(f=f.compare,f=f!==null?f:Ao,f(I,g)&&s.ref===c.ref)return En(s,c,N)}return c.flags|=1,s=ma(A,g),s.ref=c.ref,s.return=c,c.child=s}function o1(s,c,f,g,N){if(s!==null){var A=s.memoizedProps;if(Ao(A,g)&&s.ref===c.ref)if(sr=!1,c.pendingProps=g=A,(s.lanes&N)!==0)(s.flags&131072)!==0&&(sr=!0);else return c.lanes=s.lanes,En(s,c,N)}return hp(s,c,f,g,N)}function l1(s,c,f){var g=c.pendingProps,N=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ji,xr),xr|=f;else{if((f&1073741824)===0)return s=A!==null?A.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,tt(Ji,xr),xr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:f,tt(Ji,xr),xr|=g}else A!==null?(g=A.baseLanes|f,c.memoizedState=null):g=f,tt(Ji,xr),xr|=g;return Qt(s,c,N,f),c.child}function c1(s,c){var f=c.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function hp(s,c,f,g,N){var A=ir(f)?Fa:zt.current;return A=zi(c,A),Vi(c,N),f=np(s,c,f,g,A,N),g=ap(),s!==null&&!sr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~N,En(s,c,N)):(lt&&g&&Bh(c),c.flags|=1,Qt(s,c,f,N),c.child)}function u1(s,c,f,g,N){if(ir(f)){var A=!0;Gc(c)}else A=!1;if(Vi(c,N),c.stateNode===null)du(s,c),Jw(c,f,g),up(c,f,g,N),g=!0;else if(s===null){var I=c.stateNode,K=c.memoizedProps;I.props=K;var Q=I.context,re=f.contextType;typeof re=="object"&&re!==null?re=Pr(re):(re=ir(f)?Fa:zt.current,re=zi(c,re));var ue=f.getDerivedStateFromProps,he=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";he||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==g||Q!==re)&&Zw(c,I,g,re),la=!1;var le=c.memoizedState;I.state=le,ru(c,g,I,N),Q=c.memoizedState,K!==g||le!==Q||ar.current||la?(typeof ue=="function"&&(cp(c,f,ue,g),Q=c.memoizedState),(K=la||Qw(c,f,K,g,le,Q,re))?(he||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Q),I.props=g,I.state=Q,I.context=re,g=K):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{I=c.stateNode,kw(s,c),K=c.memoizedProps,re=c.type===c.elementType?K:Kr(c.type,K),I.props=re,he=c.pendingProps,le=I.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=Pr(Q):(Q=ir(f)?Fa:zt.current,Q=zi(c,Q));var ge=f.getDerivedStateFromProps;(ue=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==he||le!==Q)&&Zw(c,I,g,Q),la=!1,le=c.memoizedState,I.state=le,ru(c,g,I,N);var je=c.memoizedState;K!==he||le!==je||ar.current||la?(typeof ge=="function"&&(cp(c,f,ge,g),je=c.memoizedState),(re=la||Qw(c,f,re,g,le,je,Q)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,je,Q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,je,Q)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=je),I.props=g,I.state=je,I.context=Q,g=re):(typeof I.componentDidUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),g=!1)}return pp(s,c,f,g,A,N)}function pp(s,c,f,g,N,A){c1(s,c);var I=(c.flags&128)!==0;if(!g&&!I)return N&&mw(c,f,!1),En(s,c,A);g=c.stateNode,_3.current=c;var K=I&&typeof f.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&I?(c.child=Hi(c,s.child,null,A),c.child=Hi(c,null,K,A)):Qt(s,c,K,A),c.memoizedState=g.state,N&&mw(c,f,!0),c.child}function d1(s){var c=s.stateNode;c.pendingContext?hw(s,c.pendingContext,c.pendingContext!==c.context):c.context&&hw(s,c.context,!1),Qh(s,c.containerInfo)}function f1(s,c,f,g,N){return Ki(),Wh(N),c.flags|=256,Qt(s,c,f,g),c.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(s){return{baseLanes:s,cachePool:null,transitions:null}}function h1(s,c,f){var g=c.pendingProps,N=ut.current,A=!1,I=(c.flags&128)!==0,K;if((K=I)||(K=s!==null&&s.memoizedState===null?!1:(N&2)!==0),K?(A=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),tt(ut,N&1),s===null)return Uh(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=g.children,s=g.fallback,A?(g=c.mode,A=c.child,I={mode:"hidden",children:I},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Nu(I,g,0,null),s=Ya(s,g,f,null),A.return=c,s.return=c,A.sibling=s,c.child=A,c.child.memoizedState=gp(f),c.memoizedState=mp,s):xp(c,I));if(N=s.memoizedState,N!==null&&(K=N.dehydrated,K!==null))return C3(s,c,I,g,K,N,f);if(A){A=g.fallback,I=c.mode,N=s.child,K=N.sibling;var Q={mode:"hidden",children:g.children};return(I&1)===0&&c.child!==N?(g=c.child,g.childLanes=0,g.pendingProps=Q,c.deletions=null):(g=ma(N,Q),g.subtreeFlags=N.subtreeFlags&14680064),K!==null?A=ma(K,A):(A=Ya(A,I,f,null),A.flags|=2),A.return=c,g.return=c,g.sibling=A,c.child=g,g=A,A=c.child,I=s.child.memoizedState,I=I===null?gp(f):{baseLanes:I.baseLanes|f,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=s.childLanes&~f,c.memoizedState=mp,g}return A=s.child,s=A.sibling,g=ma(A,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=f),g.return=c,g.sibling=null,s!==null&&(f=c.deletions,f===null?(c.deletions=[s],c.flags|=16):f.push(s)),c.child=g,c.memoizedState=null,g}function xp(s,c){return c=Nu({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function uu(s,c,f,g){return g!==null&&Wh(g),Hi(c,s.child,null,f),s=xp(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function C3(s,c,f,g,N,A,I){if(f)return c.flags&256?(c.flags&=-257,g=dp(Error(r(422))),uu(s,c,I,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(A=g.fallback,N=c.mode,g=Nu({mode:"visible",children:g.children},N,0,null),A=Ya(A,N,I,null),A.flags|=2,g.return=c,A.return=c,g.sibling=A,c.child=g,(c.mode&1)!==0&&Hi(c,s.child,null,I),c.child.memoizedState=gp(I),c.memoizedState=mp,A);if((c.mode&1)===0)return uu(s,c,I,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var K=g.dgst;return g=K,A=Error(r(419)),g=dp(A,g,void 0),uu(s,c,I,g)}if(K=(I&s.childLanes)!==0,sr||K){if(g=Rt,g!==null){switch(I&-I){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|I))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,_n(s,N),Vr(g,s,N,-1))}return Rp(),g=dp(Error(r(421))),uu(s,c,I,g)}return N.data==="$?"?(c.flags|=128,c.child=s.child,c=U3.bind(null,s),N._reactRetry=c,null):(s=A.treeContext,gr=aa(N.nextSibling),mr=c,lt=!0,Wr=null,s!==null&&(Or[kr++]=Pn,Or[kr++]=An,Or[kr++]=Ba,Pn=s.id,An=s.overflow,Ba=c),c=xp(c,g.children),c.flags|=4096,c)}function p1(s,c,f){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Vh(s.return,c,f)}function yp(s,c,f,g,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:N}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=N)}function m1(s,c,f){var g=c.pendingProps,N=g.revealOrder,A=g.tail;if(Qt(s,c,g.children,f),g=ut.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&p1(s,f,c);else if(s.tag===19)p1(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(tt(ut,g),(c.mode&1)===0)c.memoizedState=null;else switch(N){case"forwards":for(f=c.child,N=null;f!==null;)s=f.alternate,s!==null&&nu(s)===null&&(N=f),f=f.sibling;f=N,f===null?(N=c.child,c.child=null):(N=f.sibling,f.sibling=null),yp(c,!1,N,f,A);break;case"backwards":for(f=null,N=c.child,c.child=null;N!==null;){if(s=N.alternate,s!==null&&nu(s)===null){c.child=N;break}s=N.sibling,N.sibling=f,f=N,N=s}yp(c,!0,f,null,A);break;case"together":yp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function du(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function En(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Ka|=c.lanes,(f&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=ma(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=ma(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function E3(s,c,f){switch(c.tag){case 3:d1(c),Ki();break;case 5:_w(c);break;case 1:ir(c.type)&&Gc(c);break;case 4:Qh(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,N=c.memoizedProps.value;tt(Zc,g._currentValue),g._currentValue=N;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(tt(ut,ut.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?h1(s,c,f):(tt(ut,ut.current&1),s=En(s,c,f),s!==null?s.sibling:null);tt(ut,ut.current&1);break;case 19:if(g=(f&c.childLanes)!==0,(s.flags&128)!==0){if(g)return m1(s,c,f);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),tt(ut,ut.current),g)break;return null;case 22:case 23:return c.lanes=0,l1(s,c,f)}return En(s,c,f)}var g1,vp,x1,y1;g1=function(s,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},vp=function(){},x1=function(s,c,f,g){var N=s.memoizedProps;if(N!==g){s=c.stateNode,Ua(un.current);var A=null;switch(f){case"input":N=ye(s,N),g=ye(s,g),A=[];break;case"select":N=D({},N,{value:void 0}),g=D({},g,{value:void 0}),A=[];break;case"textarea":N=qr(s,N),g=qr(s,g),A=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Wc)}Zf(f,g);var I;f=null;for(re in N)if(!g.hasOwnProperty(re)&&N.hasOwnProperty(re)&&N[re]!=null)if(re==="style"){var K=N[re];for(I in K)K.hasOwnProperty(I)&&(f||(f={}),f[I]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?A||(A=[]):(A=A||[]).push(re,null));for(re in g){var Q=g[re];if(K=N!=null?N[re]:void 0,g.hasOwnProperty(re)&&Q!==K&&(Q!=null||K!=null))if(re==="style")if(K){for(I in K)!K.hasOwnProperty(I)||Q&&Q.hasOwnProperty(I)||(f||(f={}),f[I]="");for(I in Q)Q.hasOwnProperty(I)&&K[I]!==Q[I]&&(f||(f={}),f[I]=Q[I])}else f||(A||(A=[]),A.push(re,f)),f=Q;else re==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,K=K?K.__html:void 0,Q!=null&&K!==Q&&(A=A||[]).push(re,Q)):re==="children"?typeof Q!="string"&&typeof Q!="number"||(A=A||[]).push(re,""+Q):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(Q!=null&&re==="onScroll"&&it("scroll",s),A||K===Q||(A=[])):(A=A||[]).push(re,Q))}f&&(A=A||[]).push("style",f);var re=A;(c.updateQueue=re)&&(c.flags|=4)}},y1=function(s,c,f,g){f!==g&&(c.flags|=4)};function Uo(s,c){if(!lt)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Wt(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(c)for(var N=s.child;N!==null;)f|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)f|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=f,c}function T3(s,c,f){var g=c.pendingProps;switch(qh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return ir(c.type)&&Hc(),Wt(c),null;case 3:return g=c.stateNode,Yi(),st(ar),st(zt),ep(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Qc(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wr!==null&&(Cp(Wr),Wr=null))),vp(s,c),Wt(c),null;case 5:Jh(c);var N=Ua(Lo.current);if(f=c.type,s!==null&&c.stateNode!=null)x1(s,c,f,g,N),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(s=Ua(un.current),Qc(c)){g=c.stateNode,f=c.type;var A=c.memoizedProps;switch(g[cn]=c,g[Ro]=A,s=(c.mode&1)!==0,f){case"dialog":it("cancel",g),it("close",g);break;case"iframe":case"object":case"embed":it("load",g);break;case"video":case"audio":for(N=0;N<Co.length;N++)it(Co[N],g);break;case"source":it("error",g);break;case"img":case"image":case"link":it("error",g),it("load",g);break;case"details":it("toggle",g);break;case"input":Je(g,A),it("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},it("invalid",g);break;case"textarea":Ci(g,A),it("invalid",g)}Zf(f,A),N=null;for(var I in A)if(A.hasOwnProperty(I)){var K=A[I];I==="children"?typeof K=="string"?g.textContent!==K&&(A.suppressHydrationWarning!==!0&&Uc(g.textContent,K,s),N=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(A.suppressHydrationWarning!==!0&&Uc(g.textContent,K,s),N=["children",""+K]):i.hasOwnProperty(I)&&K!=null&&I==="onScroll"&&it("scroll",g)}switch(f){case"input":Ie(g),Br(g,A,!0);break;case"textarea":Ie(g),co(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Wc)}g=N,c.updateQueue=g,g!==null&&(c.flags|=4)}else{I=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=aj(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=I.createElement(f,{is:g.is}):(s=I.createElement(f),f==="select"&&(I=s,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):s=I.createElementNS(s,f),s[cn]=c,s[Ro]=g,g1(s,c,!1,!1),c.stateNode=s;e:{switch(I=eh(f,g),f){case"dialog":it("cancel",s),it("close",s),N=g;break;case"iframe":case"object":case"embed":it("load",s),N=g;break;case"video":case"audio":for(N=0;N<Co.length;N++)it(Co[N],s);N=g;break;case"source":it("error",s),N=g;break;case"img":case"image":case"link":it("error",s),it("load",s),N=g;break;case"details":it("toggle",s),N=g;break;case"input":Je(s,g),N=ye(s,g),it("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=D({},g,{value:void 0}),it("invalid",s);break;case"textarea":Ci(s,g),N=qr(s,g),it("invalid",s);break;default:N=g}Zf(f,N),K=N;for(A in K)if(K.hasOwnProperty(A)){var Q=K[A];A==="style"?oj(s,Q):A==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&ij(s,Q)):A==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&uo(s,Q):typeof Q=="number"&&uo(s,""+Q):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Q!=null&&A==="onScroll"&&it("scroll",s):Q!=null&&C(s,A,Q,I))}switch(f){case"input":Ie(s),Br(s,g,!1);break;case"textarea":Ie(s),co(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Se(g.value));break;case"select":s.multiple=!!g.multiple,A=g.value,A!=null?nr(s,!!g.multiple,A,!1):g.defaultValue!=null&&nr(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Wc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wt(c),null;case 6:if(s&&c.stateNode!=null)y1(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(f=Ua(Lo.current),Ua(un.current),Qc(c)){if(g=c.stateNode,f=c.memoizedProps,g[cn]=c,(A=g.nodeValue!==f)&&(s=mr,s!==null))switch(s.tag){case 3:Uc(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uc(g.nodeValue,f,(s.mode&1)!==0)}A&&(c.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[cn]=c,c.stateNode=g}return Wt(c),null;case 13:if(st(ut),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&gr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)jw(),Ki(),c.flags|=98560,A=!1;else if(A=Qc(c),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[cn]=c}else Ki(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),A=!1}else Wr!==null&&(Cp(Wr),Wr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(ut.current&1)!==0?St===0&&(St=3):Rp())),c.updateQueue!==null&&(c.flags|=4),Wt(c),null);case 4:return Yi(),vp(s,c),s===null&&Eo(c.stateNode.containerInfo),Wt(c),null;case 10:return Gh(c.type._context),Wt(c),null;case 17:return ir(c.type)&&Hc(),Wt(c),null;case 19:if(st(ut),A=c.memoizedState,A===null)return Wt(c),null;if(g=(c.flags&128)!==0,I=A.rendering,I===null)if(g)Uo(A,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(I=nu(s),I!==null){for(c.flags|=128,Uo(A,!1),g=I.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=f,f=c.child;f!==null;)A=f,s=g,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,s=I.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return tt(ut,ut.current&1|2),c.child}s=s.sibling}A.tail!==null&&xt()>Zi&&(c.flags|=128,g=!0,Uo(A,!1),c.lanes=4194304)}else{if(!g)if(s=nu(I),s!==null){if(c.flags|=128,g=!0,f=s.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Uo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!lt)return Wt(c),null}else 2*xt()-A.renderingStartTime>Zi&&f!==1073741824&&(c.flags|=128,g=!0,Uo(A,!1),c.lanes=4194304);A.isBackwards?(I.sibling=c.child,c.child=I):(f=A.last,f!==null?f.sibling=I:c.child=I,A.last=I)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=xt(),c.sibling=null,f=ut.current,tt(ut,g?f&1|2:f&1),c):(Wt(c),null);case 22:case 23:return Tp(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function R3(s,c){switch(qh(c),c.tag){case 1:return ir(c.type)&&Hc(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yi(),st(ar),st(zt),ep(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return Jh(c),null;case 13:if(st(ut),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ki()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return st(ut),null;case 4:return Yi(),null;case 10:return Gh(c.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var fu=!1,Kt=!1,M3=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Qi(s,c){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){ht(s,c,g)}else f.current=null}function bp(s,c,f){try{f()}catch(g){ht(s,c,g)}}var v1=!1;function I3(s,c){if(Th=Tc,s=Qj(),Sh(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var N=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var I=0,K=-1,Q=-1,re=0,ue=0,he=s,le=null;t:for(;;){for(var ge;he!==f||N!==0&&he.nodeType!==3||(K=I+N),he!==A||g!==0&&he.nodeType!==3||(Q=I+g),he.nodeType===3&&(I+=he.nodeValue.length),(ge=he.firstChild)!==null;)le=he,he=ge;for(;;){if(he===s)break t;if(le===f&&++re===N&&(K=I),le===A&&++ue===g&&(Q=I),(ge=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=ge}f=K===-1||Q===-1?null:{start:K,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Rh={focusedElem:s,selectionRange:f},Tc=!1,ve=c;ve!==null;)if(c=ve,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ve=s;else for(;ve!==null;){c=ve;try{var je=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var we=je.memoizedProps,yt=je.memoizedState,ee=c.stateNode,J=ee.getSnapshotBeforeUpdate(c.elementType===c.type?we:Kr(c.type,we),yt);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){ht(c,c.return,pe)}if(s=c.sibling,s!==null){s.return=c.return,ve=s;break}ve=c.return}return je=v1,v1=!1,je}function Wo(s,c,f){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var A=N.destroy;N.destroy=void 0,A!==void 0&&bp(c,f,A)}N=N.next}while(N!==g)}}function hu(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==c)}}function jp(s){var c=s.ref;if(c!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof c=="function"?c(s):c.current=s}}function b1(s){var c=s.alternate;c!==null&&(s.alternate=null,b1(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[cn],delete c[Ro],delete c[Dh],delete c[x3],delete c[y3])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function j1(s){return s.tag===5||s.tag===3||s.tag===4}function w1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||j1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wp(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(s,c):f.insertBefore(s,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(s,f)):(c=f,c.appendChild(s)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Wc));else if(g!==4&&(s=s.child,s!==null))for(wp(s,c,f),s=s.sibling;s!==null;)wp(s,c,f),s=s.sibling}function Np(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Np(s,c,f),s=s.sibling;s!==null;)Np(s,c,f),s=s.sibling}var Ft=null,Hr=!1;function ua(s,c,f){for(f=f.child;f!==null;)N1(s,c,f),f=f.sibling}function N1(s,c,f){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(kc,f)}catch{}switch(f.tag){case 5:Kt||Qi(f,c);case 6:var g=Ft,N=Hr;Ft=null,ua(s,c,f),Ft=g,Hr=N,Ft!==null&&(Hr?(s=Ft,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Ft.removeChild(f.stateNode));break;case 18:Ft!==null&&(Hr?(s=Ft,f=f.stateNode,s.nodeType===8?$h(s.parentNode,f):s.nodeType===1&&$h(s,f),wo(s)):$h(Ft,f.stateNode));break;case 4:g=Ft,N=Hr,Ft=f.stateNode.containerInfo,Hr=!0,ua(s,c,f),Ft=g,Hr=N;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var A=N,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&bp(f,c,I),N=N.next}while(N!==g)}ua(s,c,f);break;case 1:if(!Kt&&(Qi(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(K){ht(f,c,K)}ua(s,c,f);break;case 21:ua(s,c,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,ua(s,c,f),Kt=g):ua(s,c,f);break;default:ua(s,c,f)}}function S1(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new M3),c.forEach(function(g){var N=W3.bind(null,s,g);f.has(g)||(f.add(g),g.then(N,N))})}}function Gr(s,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var N=f[g];try{var A=s,I=c,K=I;e:for(;K!==null;){switch(K.tag){case 5:Ft=K.stateNode,Hr=!1;break e;case 3:Ft=K.stateNode.containerInfo,Hr=!0;break e;case 4:Ft=K.stateNode.containerInfo,Hr=!0;break e}K=K.return}if(Ft===null)throw Error(r(160));N1(A,I,N),Ft=null,Hr=!1;var Q=N.alternate;Q!==null&&(Q.return=null),N.return=null}catch(re){ht(N,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)O1(c,s),c=c.sibling}function O1(s,c){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gr(c,s),fn(s),g&4){try{Wo(3,s,s.return),hu(3,s)}catch(we){ht(s,s.return,we)}try{Wo(5,s,s.return)}catch(we){ht(s,s.return,we)}}break;case 1:Gr(c,s),fn(s),g&512&&f!==null&&Qi(f,f.return);break;case 5:if(Gr(c,s),fn(s),g&512&&f!==null&&Qi(f,f.return),s.flags&32){var N=s.stateNode;try{uo(N,"")}catch(we){ht(s,s.return,we)}}if(g&4&&(N=s.stateNode,N!=null)){var A=s.memoizedProps,I=f!==null?f.memoizedProps:A,K=s.type,Q=s.updateQueue;if(s.updateQueue=null,Q!==null)try{K==="input"&&A.type==="radio"&&A.name!=null&&ft(N,A),eh(K,I);var re=eh(K,A);for(I=0;I<Q.length;I+=2){var ue=Q[I],he=Q[I+1];ue==="style"?oj(N,he):ue==="dangerouslySetInnerHTML"?ij(N,he):ue==="children"?uo(N,he):C(N,ue,he,re)}switch(K){case"input":Et(N,A);break;case"textarea":lo(N,A);break;case"select":var le=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var ge=A.value;ge!=null?nr(N,!!A.multiple,ge,!1):le!==!!A.multiple&&(A.defaultValue!=null?nr(N,!!A.multiple,A.defaultValue,!0):nr(N,!!A.multiple,A.multiple?[]:"",!1))}N[Ro]=A}catch(we){ht(s,s.return,we)}}break;case 6:if(Gr(c,s),fn(s),g&4){if(s.stateNode===null)throw Error(r(162));N=s.stateNode,A=s.memoizedProps;try{N.nodeValue=A}catch(we){ht(s,s.return,we)}}break;case 3:if(Gr(c,s),fn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{wo(c.containerInfo)}catch(we){ht(s,s.return,we)}break;case 4:Gr(c,s),fn(s);break;case 13:Gr(c,s),fn(s),N=s.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(kp=xt())),g&4&&S1(s);break;case 22:if(ue=f!==null&&f.memoizedState!==null,s.mode&1?(Kt=(re=Kt)||ue,Gr(c,s),Kt=re):Gr(c,s),fn(s),g&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!ue&&(s.mode&1)!==0)for(ve=s,ue=s.child;ue!==null;){for(he=ve=ue;ve!==null;){switch(le=ve,ge=le.child,le.tag){case 0:case 11:case 14:case 15:Wo(4,le,le.return);break;case 1:Qi(le,le.return);var je=le.stateNode;if(typeof je.componentWillUnmount=="function"){g=le,f=le.return;try{c=g,je.props=c.memoizedProps,je.state=c.memoizedState,je.componentWillUnmount()}catch(we){ht(g,f,we)}}break;case 5:Qi(le,le.return);break;case 22:if(le.memoizedState!==null){A1(he);continue}}ge!==null?(ge.return=le,ve=ge):A1(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{N=he.stateNode,re?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(K=he.stateNode,Q=he.memoizedProps.style,I=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,K.style.display=sj("display",I))}catch(we){ht(s,s.return,we)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=re?"":he.memoizedProps}catch(we){ht(s,s.return,we)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Gr(c,s),fn(s),g&4&&S1(s);break;case 21:break;default:Gr(c,s),fn(s)}}function fn(s){var c=s.flags;if(c&2){try{e:{for(var f=s.return;f!==null;){if(j1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(uo(N,""),g.flags&=-33);var A=w1(s);Np(s,A,N);break;case 3:case 4:var I=g.stateNode.containerInfo,K=w1(s);wp(s,K,I);break;default:throw Error(r(161))}}catch(Q){ht(s,s.return,Q)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function $3(s,c,f){ve=s,k1(s)}function k1(s,c,f){for(var g=(s.mode&1)!==0;ve!==null;){var N=ve,A=N.child;if(N.tag===22&&g){var I=N.memoizedState!==null||fu;if(!I){var K=N.alternate,Q=K!==null&&K.memoizedState!==null||Kt;K=fu;var re=Kt;if(fu=I,(Kt=Q)&&!re)for(ve=N;ve!==null;)I=ve,Q=I.child,I.tag===22&&I.memoizedState!==null?_1(N):Q!==null?(Q.return=I,ve=Q):_1(N);for(;A!==null;)ve=A,k1(A),A=A.sibling;ve=N,fu=K,Kt=re}P1(s)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,ve=A):P1(s)}}function P1(s){for(;ve!==null;){var c=ve;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Kt||hu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var N=c.elementType===c.type?f.memoizedProps:Kr(c.type,f.memoizedProps);g.componentDidUpdate(N,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Aw(c,A,g);break;case 3:var I=c.updateQueue;if(I!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Aw(c,I,f)}break;case 5:var K=c.stateNode;if(f===null&&c.flags&4){f=K;var Q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var ue=re.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&wo(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||c.flags&512&&jp(c)}catch(le){ht(c,c.return,le)}}if(c===s){ve=null;break}if(f=c.sibling,f!==null){f.return=c.return,ve=f;break}ve=c.return}}function A1(s){for(;ve!==null;){var c=ve;if(c===s){ve=null;break}var f=c.sibling;if(f!==null){f.return=c.return,ve=f;break}ve=c.return}}function _1(s){for(;ve!==null;){var c=ve;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{hu(4,c)}catch(Q){ht(c,f,Q)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var N=c.return;try{g.componentDidMount()}catch(Q){ht(c,N,Q)}}var A=c.return;try{jp(c)}catch(Q){ht(c,A,Q)}break;case 5:var I=c.return;try{jp(c)}catch(Q){ht(c,I,Q)}}}catch(Q){ht(c,c.return,Q)}if(c===s){ve=null;break}var K=c.sibling;if(K!==null){K.return=c.return,ve=K;break}ve=c.return}}var D3=Math.ceil,pu=O.ReactCurrentDispatcher,Sp=O.ReactCurrentOwner,_r=O.ReactCurrentBatchConfig,We=0,Rt=null,bt=null,Bt=0,xr=0,Ji=ia(0),St=0,Ko=null,Ka=0,mu=0,Op=0,Ho=null,or=null,kp=0,Zi=1/0,Tn=null,gu=!1,Pp=null,da=null,xu=!1,fa=null,yu=0,Go=0,Ap=null,vu=-1,bu=0;function Jt(){return(We&6)!==0?xt():vu!==-1?vu:vu=xt()}function ha(s){return(s.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:b3.transition!==null?(bu===0&&(bu=wj()),bu):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Ej(s.type)),s)}function Vr(s,c,f,g){if(50<Go)throw Go=0,Ap=null,Error(r(185));xo(s,f,g),((We&2)===0||s!==Rt)&&(s===Rt&&((We&2)===0&&(mu|=f),St===4&&pa(s,Bt)),lr(s,g),f===1&&We===0&&(c.mode&1)===0&&(Zi=xt()+500,Vc&&oa()))}function lr(s,c){var f=s.callbackNode;b4(s,c);var g=_c(s,s===Rt?Bt:0);if(g===0)f!==null&&vj(f),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(f!=null&&vj(f),c===1)s.tag===0?v3(E1.bind(null,s)):gw(E1.bind(null,s)),m3(function(){(We&6)===0&&oa()}),f=null;else{switch(Nj(g)){case 1:f=oh;break;case 4:f=bj;break;case 16:f=Oc;break;case 536870912:f=jj;break;default:f=Oc}f=F1(f,C1.bind(null,s))}s.callbackPriority=c,s.callbackNode=f}}function C1(s,c){if(vu=-1,bu=0,(We&6)!==0)throw Error(r(327));var f=s.callbackNode;if(es()&&s.callbackNode!==f)return null;var g=_c(s,s===Rt?Bt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=ju(s,g);else{c=g;var N=We;We|=2;var A=R1();(Rt!==s||Bt!==c)&&(Tn=null,Zi=xt()+500,Ga(s,c));do try{B3();break}catch(K){T1(s,K)}while(!0);Hh(),pu.current=A,We=N,bt!==null?c=0:(Rt=null,Bt=0,c=St)}if(c!==0){if(c===2&&(N=lh(s),N!==0&&(g=N,c=_p(s,N))),c===1)throw f=Ko,Ga(s,0),pa(s,g),lr(s,xt()),f;if(c===6)pa(s,g);else{if(N=s.current.alternate,(g&30)===0&&!L3(N)&&(c=ju(s,g),c===2&&(A=lh(s),A!==0&&(g=A,c=_p(s,A))),c===1))throw f=Ko,Ga(s,0),pa(s,g),lr(s,xt()),f;switch(s.finishedWork=N,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Va(s,or,Tn);break;case 3:if(pa(s,g),(g&130023424)===g&&(c=kp+500-xt(),10<c)){if(_c(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){Jt(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Ih(Va.bind(null,s,or,Tn),c);break}Va(s,or,Tn);break;case 4:if(pa(s,g),(g&4194240)===g)break;for(c=s.eventTimes,N=-1;0<g;){var I=31-zr(g);A=1<<I,I=c[I],I>N&&(N=I),g&=~A}if(g=N,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*D3(g/1960))-g,10<g){s.timeoutHandle=Ih(Va.bind(null,s,or,Tn),g);break}Va(s,or,Tn);break;case 5:Va(s,or,Tn);break;default:throw Error(r(329))}}}return lr(s,xt()),s.callbackNode===f?C1.bind(null,s):null}function _p(s,c){var f=Ho;return s.current.memoizedState.isDehydrated&&(Ga(s,c).flags|=256),s=ju(s,c),s!==2&&(c=or,or=f,c!==null&&Cp(c)),s}function Cp(s){or===null?or=s:or.push.apply(or,s)}function L3(s){for(var c=s;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var N=f[g],A=N.getSnapshot;N=N.value;try{if(!Ur(A(),N))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pa(s,c){for(c&=~Op,c&=~mu,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var f=31-zr(c),g=1<<f;s[f]=-1,c&=~g}}function E1(s){if((We&6)!==0)throw Error(r(327));es();var c=_c(s,0);if((c&1)===0)return lr(s,xt()),null;var f=ju(s,c);if(s.tag!==0&&f===2){var g=lh(s);g!==0&&(c=g,f=_p(s,g))}if(f===1)throw f=Ko,Ga(s,0),pa(s,c),lr(s,xt()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Va(s,or,Tn),lr(s,xt()),null}function Ep(s,c){var f=We;We|=1;try{return s(c)}finally{We=f,We===0&&(Zi=xt()+500,Vc&&oa())}}function Ha(s){fa!==null&&fa.tag===0&&(We&6)===0&&es();var c=We;We|=1;var f=_r.transition,g=Qe;try{if(_r.transition=null,Qe=1,s)return s()}finally{Qe=g,_r.transition=f,We=c,(We&6)===0&&oa()}}function Tp(){xr=Ji.current,st(Ji)}function Ga(s,c){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,p3(f)),bt!==null)for(f=bt.return;f!==null;){var g=f;switch(qh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Hc();break;case 3:Yi(),st(ar),st(zt),ep();break;case 5:Jh(g);break;case 4:Yi();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Gh(g.type._context);break;case 22:case 23:Tp()}f=f.return}if(Rt=s,bt=s=ma(s.current,null),Bt=xr=c,St=0,Ko=null,Op=mu=Ka=0,or=Ho=null,za!==null){for(c=0;c<za.length;c++)if(f=za[c],g=f.interleaved,g!==null){f.interleaved=null;var N=g.next,A=f.pending;if(A!==null){var I=A.next;A.next=N,g.next=I}f.pending=g}za=null}return s}function T1(s,c){do{var f=bt;try{if(Hh(),au.current=lu,iu){for(var g=dt.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}iu=!1}if(Wa=0,Tt=Nt=dt=null,Fo=!1,Bo=0,Sp.current=null,f===null||f.return===null){St=1,Ko=c,bt=null;break}e:{var A=s,I=f.return,K=f,Q=c;if(c=Bt,K.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var re=Q,ue=K,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ge=n1(I);if(ge!==null){ge.flags&=-257,a1(ge,I,K,A,c),ge.mode&1&&r1(A,re,c),c=ge,Q=re;var je=c.updateQueue;if(je===null){var we=new Set;we.add(Q),c.updateQueue=we}else je.add(Q);break e}else{if((c&1)===0){r1(A,re,c),Rp();break e}Q=Error(r(426))}}else if(lt&&K.mode&1){var yt=n1(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),a1(yt,I,K,A,c),Wh(Xi(Q,K));break e}}A=Q=Xi(Q,K),St!==4&&(St=2),Ho===null?Ho=[A]:Ho.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var ee=e1(A,Q,c);Pw(A,ee);break e;case 1:K=Q;var J=A.type,te=A.stateNode;if((A.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(da===null||!da.has(te)))){A.flags|=65536,c&=-c,A.lanes|=c;var pe=t1(A,K,c);Pw(A,pe);break e}}A=A.return}while(A!==null)}I1(f)}catch(Ne){c=Ne,bt===f&&f!==null&&(bt=f=f.return);continue}break}while(!0)}function R1(){var s=pu.current;return pu.current=lu,s===null?lu:s}function Rp(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ka&268435455)===0&&(mu&268435455)===0||pa(Rt,Bt)}function ju(s,c){var f=We;We|=2;var g=R1();(Rt!==s||Bt!==c)&&(Tn=null,Ga(s,c));do try{F3();break}catch(N){T1(s,N)}while(!0);if(Hh(),We=f,pu.current=g,bt!==null)throw Error(r(261));return Rt=null,Bt=0,St}function F3(){for(;bt!==null;)M1(bt)}function B3(){for(;bt!==null&&!d4();)M1(bt)}function M1(s){var c=L1(s.alternate,s,xr);s.memoizedProps=s.pendingProps,c===null?I1(s):bt=c,Sp.current=null}function I1(s){var c=s;do{var f=c.alternate;if(s=c.return,(c.flags&32768)===0){if(f=T3(f,c,xr),f!==null){bt=f;return}}else{if(f=R3(f,c),f!==null){f.flags&=32767,bt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{St=6,bt=null;return}}if(c=c.sibling,c!==null){bt=c;return}bt=c=s}while(c!==null);St===0&&(St=5)}function Va(s,c,f){var g=Qe,N=_r.transition;try{_r.transition=null,Qe=1,q3(s,c,f,g)}finally{_r.transition=N,Qe=g}return null}function q3(s,c,f,g){do es();while(fa!==null);if((We&6)!==0)throw Error(r(327));f=s.finishedWork;var N=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var A=f.lanes|f.childLanes;if(j4(s,A),s===Rt&&(bt=Rt=null,Bt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||xu||(xu=!0,F1(Oc,function(){return es(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=_r.transition,_r.transition=null;var I=Qe;Qe=1;var K=We;We|=4,Sp.current=null,I3(s,f),O1(f,s),o3(Rh),Tc=!!Th,Rh=Th=null,s.current=f,$3(f),f4(),We=K,Qe=I,_r.transition=A}else s.current=f;if(xu&&(xu=!1,fa=s,yu=N),A=s.pendingLanes,A===0&&(da=null),m4(f.stateNode),lr(s,xt()),c!==null)for(g=s.onRecoverableError,f=0;f<c.length;f++)N=c[f],g(N.value,{componentStack:N.stack,digest:N.digest});if(gu)throw gu=!1,s=Pp,Pp=null,s;return(yu&1)!==0&&s.tag!==0&&es(),A=s.pendingLanes,(A&1)!==0?s===Ap?Go++:(Go=0,Ap=s):Go=0,oa(),null}function es(){if(fa!==null){var s=Nj(yu),c=_r.transition,f=Qe;try{if(_r.transition=null,Qe=16>s?16:s,fa===null)var g=!1;else{if(s=fa,fa=null,yu=0,(We&6)!==0)throw Error(r(331));var N=We;for(We|=4,ve=s.current;ve!==null;){var A=ve,I=A.child;if((ve.flags&16)!==0){var K=A.deletions;if(K!==null){for(var Q=0;Q<K.length;Q++){var re=K[Q];for(ve=re;ve!==null;){var ue=ve;switch(ue.tag){case 0:case 11:case 15:Wo(8,ue,A)}var he=ue.child;if(he!==null)he.return=ue,ve=he;else for(;ve!==null;){ue=ve;var le=ue.sibling,ge=ue.return;if(b1(ue),ue===re){ve=null;break}if(le!==null){le.return=ge,ve=le;break}ve=ge}}}var je=A.alternate;if(je!==null){var we=je.child;if(we!==null){je.child=null;do{var yt=we.sibling;we.sibling=null,we=yt}while(we!==null)}}ve=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,ve=I;else e:for(;ve!==null;){if(A=ve,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Wo(9,A,A.return)}var ee=A.sibling;if(ee!==null){ee.return=A.return,ve=ee;break e}ve=A.return}}var J=s.current;for(ve=J;ve!==null;){I=ve;var te=I.child;if((I.subtreeFlags&2064)!==0&&te!==null)te.return=I,ve=te;else e:for(I=J;ve!==null;){if(K=ve,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:hu(9,K)}}catch(Ne){ht(K,K.return,Ne)}if(K===I){ve=null;break e}var pe=K.sibling;if(pe!==null){pe.return=K.return,ve=pe;break e}ve=K.return}}if(We=N,oa(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(kc,s)}catch{}g=!0}return g}finally{Qe=f,_r.transition=c}}return!1}function $1(s,c,f){c=Xi(f,c),c=e1(s,c,1),s=ca(s,c,1),c=Jt(),s!==null&&(xo(s,1,c),lr(s,c))}function ht(s,c,f){if(s.tag===3)$1(s,s,f);else for(;c!==null;){if(c.tag===3){$1(c,s,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(da===null||!da.has(g))){s=Xi(f,s),s=t1(c,s,1),c=ca(c,s,1),s=Jt(),c!==null&&(xo(c,1,s),lr(c,s));break}}c=c.return}}function z3(s,c,f){var g=s.pingCache;g!==null&&g.delete(c),c=Jt(),s.pingedLanes|=s.suspendedLanes&f,Rt===s&&(Bt&f)===f&&(St===4||St===3&&(Bt&130023424)===Bt&&500>xt()-kp?Ga(s,0):Op|=f),lr(s,c)}function D1(s,c){c===0&&((s.mode&1)===0?c=1:(c=Ac,Ac<<=1,(Ac&130023424)===0&&(Ac=4194304)));var f=Jt();s=_n(s,c),s!==null&&(xo(s,c,f),lr(s,f))}function U3(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),D1(s,f)}function W3(s,c){var f=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(f=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),D1(s,f)}var L1;L1=function(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps||ar.current)sr=!0;else{if((s.lanes&f)===0&&(c.flags&128)===0)return sr=!1,E3(s,c,f);sr=(s.flags&131072)!==0}else sr=!1,lt&&(c.flags&1048576)!==0&&xw(c,Xc,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;du(s,c),s=c.pendingProps;var N=zi(c,zt.current);Vi(c,f),N=np(null,c,g,s,N,f);var A=ap();return c.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ir(g)?(A=!0,Gc(c)):A=!1,c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Xh(c),N.updater=cu,c.stateNode=N,N._reactInternals=c,up(c,g,s,f),c=pp(null,c,g,!0,A,f)):(c.tag=0,lt&&A&&Bh(c),Qt(null,c,N,f),c=c.child),c;case 16:g=c.elementType;e:{switch(du(s,c),s=c.pendingProps,N=g._init,g=N(g._payload),c.type=g,N=c.tag=H3(g),s=Kr(g,s),N){case 0:c=hp(null,c,g,s,f);break e;case 1:c=u1(null,c,g,s,f);break e;case 11:c=i1(null,c,g,s,f);break e;case 14:c=s1(null,c,g,Kr(g.type,s),f);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),hp(s,c,g,N,f);case 1:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),u1(s,c,g,N,f);case 3:e:{if(d1(c),s===null)throw Error(r(387));g=c.pendingProps,A=c.memoizedState,N=A.element,kw(s,c),ru(c,g,null,f);var I=c.memoizedState;if(g=I.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){N=Xi(Error(r(423)),c),c=f1(s,c,g,f,N);break e}else if(g!==N){N=Xi(Error(r(424)),c),c=f1(s,c,g,f,N);break e}else for(gr=aa(c.stateNode.containerInfo.firstChild),mr=c,lt=!0,Wr=null,f=Sw(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ki(),g===N){c=En(s,c,f);break e}Qt(s,c,g,f)}c=c.child}return c;case 5:return _w(c),s===null&&Uh(c),g=c.type,N=c.pendingProps,A=s!==null?s.memoizedProps:null,I=N.children,Mh(g,N)?I=null:A!==null&&Mh(g,A)&&(c.flags|=32),c1(s,c),Qt(s,c,I,f),c.child;case 6:return s===null&&Uh(c),null;case 13:return h1(s,c,f);case 4:return Qh(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Hi(c,null,g,f):Qt(s,c,g,f),c.child;case 11:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),i1(s,c,g,N,f);case 7:return Qt(s,c,c.pendingProps,f),c.child;case 8:return Qt(s,c,c.pendingProps.children,f),c.child;case 12:return Qt(s,c,c.pendingProps.children,f),c.child;case 10:e:{if(g=c.type._context,N=c.pendingProps,A=c.memoizedProps,I=N.value,tt(Zc,g._currentValue),g._currentValue=I,A!==null)if(Ur(A.value,I)){if(A.children===N.children&&!ar.current){c=En(s,c,f);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var K=A.dependencies;if(K!==null){I=A.child;for(var Q=K.firstContext;Q!==null;){if(Q.context===g){if(A.tag===1){Q=Cn(-1,f&-f),Q.tag=2;var re=A.updateQueue;if(re!==null){re=re.shared;var ue=re.pending;ue===null?Q.next=Q:(Q.next=ue.next,ue.next=Q),re.pending=Q}}A.lanes|=f,Q=A.alternate,Q!==null&&(Q.lanes|=f),Vh(A.return,f,c),K.lanes|=f;break}Q=Q.next}}else if(A.tag===10)I=A.type===c.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=f,K=I.alternate,K!==null&&(K.lanes|=f),Vh(I,f,c),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===c){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Qt(s,c,N.children,f),c=c.child}return c;case 9:return N=c.type,g=c.pendingProps.children,Vi(c,f),N=Pr(N),g=g(N),c.flags|=1,Qt(s,c,g,f),c.child;case 14:return g=c.type,N=Kr(g,c.pendingProps),N=Kr(g.type,N),s1(s,c,g,N,f);case 15:return o1(s,c,c.type,c.pendingProps,f);case 17:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),du(s,c),c.tag=1,ir(g)?(s=!0,Gc(c)):s=!1,Vi(c,f),Jw(c,g,N),up(c,g,N,f),pp(null,c,g,!0,s,f);case 19:return m1(s,c,f);case 22:return l1(s,c,f)}throw Error(r(156,c.tag))};function F1(s,c){return yj(s,c)}function K3(s,c,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(s,c,f,g){return new K3(s,c,f,g)}function Mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function H3(s){if(typeof s=="function")return Mp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===B)return 14}return 2}function ma(s,c){var f=s.alternate;return f===null?(f=Cr(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function wu(s,c,f,g,N,A){var I=2;if(g=s,typeof s=="function")Mp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case E:return Ya(f.children,N,A,c);case T:I=8,N|=8;break;case M:return s=Cr(12,f,c,N|2),s.elementType=M,s.lanes=A,s;case U:return s=Cr(13,f,c,N),s.elementType=U,s.lanes=A,s;case W:return s=Cr(19,f,c,N),s.elementType=W,s.lanes=A,s;case z:return Nu(f,N,A,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case R:I=9;break e;case F:I=11;break e;case B:I=14;break e;case $:I=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Cr(I,f,c,N),c.elementType=s,c.type=g,c.lanes=A,c}function Ya(s,c,f,g){return s=Cr(7,s,g,c),s.lanes=f,s}function Nu(s,c,f,g){return s=Cr(22,s,g,c),s.elementType=z,s.lanes=f,s.stateNode={isHidden:!1},s}function Ip(s,c,f){return s=Cr(6,s,null,c),s.lanes=f,s}function $p(s,c,f){return c=Cr(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function G3(s,c,f,g,N){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Dp(s,c,f,g,N,A,I,K,Q){return s=new G3(s,c,f,K,Q),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Cr(3,null,null,c),s.current=A,A.stateNode=s,A.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(A),s}function V3(s,c,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:s,containerInfo:c,implementation:f}}function B1(s){if(!s)return sa;s=s._reactInternals;e:{if(Da(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ir(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(ir(f))return pw(s,f,c)}return c}function q1(s,c,f,g,N,A,I,K,Q){return s=Dp(f,g,!0,s,N,A,I,K,Q),s.context=B1(null),f=s.current,g=Jt(),N=ha(f),A=Cn(g,N),A.callback=c??null,ca(f,A,N),s.current.lanes=N,xo(s,N,g),lr(s,g),s}function Su(s,c,f,g){var N=c.current,A=Jt(),I=ha(N);return f=B1(f),c.context===null?c.context=f:c.pendingContext=f,c=Cn(A,I),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=ca(N,c,I),s!==null&&(Vr(s,N,I,A),tu(s,N,I)),I}function Ou(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function z1(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function Lp(s,c){z1(s,c),(s=s.alternate)&&z1(s,c)}function Y3(){return null}var U1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fp(s){this._internalRoot=s}ku.prototype.render=Fp.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Su(s,c,null,null)},ku.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Ha(function(){Su(null,s,null,null)}),c[On]=null}};function ku(s){this._internalRoot=s}ku.prototype.unstable_scheduleHydration=function(s){if(s){var c=kj();s={blockedOn:null,target:s,priority:c};for(var f=0;f<ta.length&&c!==0&&c<ta[f].priority;f++);ta.splice(f,0,s),f===0&&_j(s)}};function Bp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function W1(){}function X3(s,c,f,g,N){if(N){if(typeof g=="function"){var A=g;g=function(){var re=Ou(I);A.call(re)}}var I=q1(c,g,s,0,null,!1,!1,"",W1);return s._reactRootContainer=I,s[On]=I.current,Eo(s.nodeType===8?s.parentNode:s),Ha(),I}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var K=g;g=function(){var re=Ou(Q);K.call(re)}}var Q=Dp(s,0,!1,null,null,!1,!1,"",W1);return s._reactRootContainer=Q,s[On]=Q.current,Eo(s.nodeType===8?s.parentNode:s),Ha(function(){Su(c,Q,f,g)}),Q}function Au(s,c,f,g,N){var A=f._reactRootContainer;if(A){var I=A;if(typeof N=="function"){var K=N;N=function(){var Q=Ou(I);K.call(Q)}}Su(c,I,s,N)}else I=X3(f,c,s,N,g);return Ou(I)}Sj=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var f=go(c.pendingLanes);f!==0&&(uh(c,f|1),lr(c,xt()),(We&6)===0&&(Zi=xt()+500,oa()))}break;case 13:Ha(function(){var g=_n(s,1);if(g!==null){var N=Jt();Vr(g,s,1,N)}}),Lp(s,1)}},dh=function(s){if(s.tag===13){var c=_n(s,134217728);if(c!==null){var f=Jt();Vr(c,s,134217728,f)}Lp(s,134217728)}},Oj=function(s){if(s.tag===13){var c=ha(s),f=_n(s,c);if(f!==null){var g=Jt();Vr(f,s,c,g)}Lp(s,c)}},kj=function(){return Qe},Pj=function(s,c){var f=Qe;try{return Qe=s,c()}finally{Qe=f}},nh=function(s,c,f){switch(c){case"input":if(Et(s,f),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==s&&g.form===s.form){var N=Kc(g);if(!N)throw Error(r(90));Z(g),Et(g,N)}}}break;case"textarea":lo(s,f);break;case"select":c=f.value,c!=null&&nr(s,!!f.multiple,c,!1)}},dj=Ep,fj=Ha;var Q3={usingClientEntryPoint:!1,Events:[Mo,Bi,Kc,cj,uj,Ep]},Vo={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J3={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gj(s),s===null?null:s.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||Y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{kc=_u.inject(J3),ln=_u}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3,cr.createPortal=function(s,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(c))throw Error(r(200));return V3(s,c,null,f)},cr.createRoot=function(s,c){if(!Bp(s))throw Error(r(299));var f=!1,g="",N=U1;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=Dp(s,1,!1,null,null,f,!1,g,N),s[On]=c.current,Eo(s.nodeType===8?s.parentNode:s),new Fp(c)},cr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=gj(c),s=s===null?null:s.stateNode,s},cr.flushSync=function(s){return Ha(s)},cr.hydrate=function(s,c,f){if(!Pu(c))throw Error(r(200));return Au(null,s,c,!0,f)},cr.hydrateRoot=function(s,c,f){if(!Bp(s))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,N=!1,A="",I=U1;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),c=q1(c,null,s,1,f??null,N,!1,A,I),s[On]=c.current,Eo(s),g)for(s=0;s<g.length;s++)f=g[s],N=f._getVersion,N=N(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,N]:c.mutableSourceEagerHydrationData.push(f,N);return new ku(c)},cr.render=function(s,c,f){if(!Pu(c))throw Error(r(200));return Au(null,s,c,!1,f)},cr.unmountComponentAtNode=function(s){if(!Pu(s))throw Error(r(40));return s._reactRootContainer?(Ha(function(){Au(null,null,s,!1,function(){s._reactRootContainer=null,s[On]=null})}),!0):!1},cr.unstable_batchedUpdates=Ep,cr.unstable_renderSubtreeIntoContainer=function(s,c,f,g){if(!Pu(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Au(s,c,f,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var Z1;function Y_(){if(Z1)return Wp.exports;Z1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wp.exports=c6(),Wp.exports}var eN;function u6(){if(eN)return Ru;eN=1;var e=Y_();return Ru.createRoot=e.createRoot,Ru.hydrateRoot=e.hydrateRoot,Ru}var d6=u6();const f6=Xe(d6);var sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ba,Dv,B_,p6=(B_=class{constructor(){Ue(this,ba,h6);Ue(this,Dv,!1)}setTimeoutProvider(e){$e(this,ba,e)}setTimeout(e,t){return ie(this,ba).setTimeout(e,t)}clearTimeout(e){ie(this,ba).clearTimeout(e)}setInterval(e,t){return ie(this,ba).setInterval(e,t)}clearInterval(e){ie(this,ba).clearInterval(e)}},ba=new WeakMap,Dv=new WeakMap,B_),ay=new p6;function m6(e){setTimeout(e,0)}var of=typeof window>"u"||"Deno"in globalThis;function Xr(){}function g6(e,t){return typeof e=="function"?e(t):e}function x6(e){return typeof e=="number"&&e>=0&&e!==1/0}function y6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function iy(e,t){return typeof e=="function"?e(t):e}function v6(e,t){return typeof e=="function"?e(t):e}function tN(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==Fv(l,t.options))return!1}else if(!bl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function rN(e,t){const{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(vl(t.options.mutationKey)!==vl(o))return!1}else if(!bl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Fv(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,r)=>sy(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>bl(e[r],t[r])):!1}var b6=Object.prototype.hasOwnProperty;function X_(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=nN(e)&&nN(t);if(!n&&!(sy(e)&&sy(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,d=n?new Array(u):{};let h=0;for(let m=0;m<u;m++){const p=n?m:l[m],x=e[p],v=t[p];if(x===v){d[p]=x,(n?m<o:b6.call(e,p))&&h++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[p]=v;continue}const b=X_(x,v,r+1);d[p]=b,b===x&&h++}return o===u&&h===o?e:d}function nN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sy(e){if(!aN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!aN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aN(e){return Object.prototype.toString.call(e)==="[object Object]"}function j6(e){return new Promise(t=>{ay.setTimeout(t,e)})}function w6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?X_(e,t):t}function N6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function S6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Bv=Symbol();function Q_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function O6(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var oi,ja,ps,q_,k6=(q_=class extends sf{constructor(){super();Ue(this,oi);Ue(this,ja);Ue(this,ps);$e(this,ps,t=>{if(!of&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,ja)||this.setEventListener(ie(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,ja))==null||t.call(this),$e(this,ja,void 0))}setEventListener(t){var r;$e(this,ps,t),(r=ie(this,ja))==null||r.call(this),$e(this,ja,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ie(this,oi)!==t&&($e(this,oi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ie(this,oi)=="boolean"?ie(this,oi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oi=new WeakMap,ja=new WeakMap,ps=new WeakMap,q_),J_=new k6;function P6(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var A6=m6;function _6(){let e=[],t=0,r=u=>{u()},n=u=>{u()},i=A6;const o=u=>{t?e.push(u):i(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var Zt=_6(),ms,wa,gs,z_,C6=(z_=class extends sf{constructor(){super();Ue(this,ms,!0);Ue(this,wa);Ue(this,gs);$e(this,gs,t=>{if(!of&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,wa)||this.setEventListener(ie(this,gs))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,wa))==null||t.call(this),$e(this,wa,void 0))}setEventListener(t){var r;$e(this,gs,t),(r=ie(this,wa))==null||r.call(this),$e(this,wa,t(this.setOnline.bind(this)))}setOnline(t){ie(this,ms)!==t&&($e(this,ms,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ie(this,ms)}},ms=new WeakMap,wa=new WeakMap,gs=new WeakMap,z_),rd=new C6;function E6(e){return Math.min(1e3*2**e,3e4)}function Z_(e){return(e??"online")==="online"?rd.isOnline():!0}var oy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eC(e){let t=!1,r=0,n;const i=P6(),o=()=>i.status!=="pending",l=w=>{var y;if(!o()){const S=new oy(w);x(S),(y=e.onCancel)==null||y.call(e,S)}},u=()=>{t=!0},d=()=>{t=!1},h=()=>J_.isFocused()&&(e.networkMode==="always"||rd.isOnline())&&e.canRun(),m=()=>Z_(e.networkMode)&&e.canRun(),p=w=>{o()||(n==null||n(),i.resolve(w))},x=w=>{o()||(n==null||n(),i.reject(w))},v=()=>new Promise(w=>{var y;n=S=>{(o()||h())&&w(S)},(y=e.onPause)==null||y.call(e)}).then(()=>{var w;n=void 0,o()||(w=e.onContinue)==null||w.call(e)}),b=()=>{if(o())return;let w;const y=r===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(p).catch(S=>{var P;if(o())return;const _=e.retry??(of?0:3),C=e.retryDelay??E6,O=typeof C=="function"?C(r,S):C,j=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,S);if(t||!j){x(S);return}r++,(P=e.onFail)==null||P.call(e,r,S),j6(O).then(()=>h()?void 0:v()).then(()=>{t?x(S):b()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(n==null||n(),i),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?b():v().then(b),i)}}var li,U_,tC=(U_=class{constructor(){Ue(this,li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x6(this.gcTime)&&$e(this,li,ay.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(of?1/0:300*1e3))}clearGcTimeout(){ie(this,li)&&(ay.clearTimeout(ie(this,li)),$e(this,li,void 0))}},li=new WeakMap,U_),ci,xs,Mr,ui,It,ic,di,Qr,In,W_,T6=(W_=class extends tC{constructor(t){super();Ue(this,Qr);Ue(this,ci);Ue(this,xs);Ue(this,Mr);Ue(this,ui);Ue(this,It);Ue(this,ic);Ue(this,di);$e(this,di,!1),$e(this,ic,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,ui,t.client),$e(this,Mr,ie(this,ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,ci,sN(this.options)),this.state=t.state??ie(this,ci),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,It))==null?void 0:t.promise}setOptions(t){if(this.options={...ie(this,ic),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sN(this.options);r.data!==void 0&&(this.setState(iN(r.data,r.dataUpdatedAt)),$e(this,ci,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Mr).remove(this)}setData(t,r){const n=w6(this.state.data,t,this.options);return Ht(this,Qr,In).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ht(this,Qr,In).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ie(this,It))==null?void 0:n.promise;return(i=ie(this,It))==null||i.cancel(t),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,ci))}isActive(){return this.observers.some(t=>v6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>iy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!y6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,It))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,It))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,Mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ie(this,It)&&(ie(this,di)?ie(this,It).cancel({revert:!0}):ie(this,It).cancelRetry()),this.scheduleGc()),ie(this,Mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,Qr,In).call(this,{type:"invalidate"})}async fetch(t,r){var d,h,m,p,x,v,b,w,y,S,_,C;if(this.state.fetchStatus!=="idle"&&((d=ie(this,It))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,It))return ie(this,It).continueRetry(),ie(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(j=>j.options.queryFn);O&&this.setOptions(O.options)}const n=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>($e(this,di,!0),n.signal)})},o=()=>{const O=Q_(this.options,r),P=(()=>{const E={client:ie(this,ui),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return $e(this,di,!1),this.options.persister?this.options.persister(O,P,this):O(P)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,ui),state:this.state,fetchFn:o};return i(O),O})();(h=this.options.behavior)==null||h.onFetch(u,this),$e(this,xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Ht(this,Qr,In).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),$e(this,It,eC({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof oy&&O.revert&&this.setState({...ie(this,xs),fetchStatus:"idle"}),n.abort()},onFail:(O,j)=>{Ht(this,Qr,In).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Ht(this,Qr,In).call(this,{type:"pause"})},onContinue:()=>{Ht(this,Qr,In).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await ie(this,It).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(v=(x=ie(this,Mr).config).onSuccess)==null||v.call(x,O,this),(w=(b=ie(this,Mr).config).onSettled)==null||w.call(b,O,this.state.error,this),O}catch(O){if(O instanceof oy){if(O.silent)return ie(this,It).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Ht(this,Qr,In).call(this,{type:"error",error:O}),(S=(y=ie(this,Mr).config).onError)==null||S.call(y,O,this),(C=(_=ie(this,Mr).config).onSettled)==null||C.call(_,this.state.data,O,this),O}finally{this.scheduleGc()}}},ci=new WeakMap,xs=new WeakMap,Mr=new WeakMap,ui=new WeakMap,It=new WeakMap,ic=new WeakMap,di=new WeakMap,Qr=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R6(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...iN(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,xs,t.manual?i:void 0),i;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,Mr).notify({query:this,type:"updated",action:t})})},W_);function R6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function oN(e){return{onFetch:(t,r)=>{var m,p,x,v,b;const n=t.options,i=(x=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const y=C=>{O6(C,()=>t.signal,()=>w=!0)},S=Q_(t.options,t.fetchOptions),_=async(C,O,j)=>{if(w)return Promise.reject();if(O==null&&C.pages.length)return Promise.resolve(C);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:O,direction:j?"backward":"forward",meta:t.options.meta};return y(R),R})(),T=await S(E),{maxPages:M}=t.options,L=j?S6:N6;return{pages:L(C.pages,T,M),pageParams:L(C.pageParams,O,M)}};if(i&&o.length){const C=i==="backward",O=C?M6:lN,j={pages:o,pageParams:l},P=O(n,j);u=await _(j,P,C)}else{const C=e??o.length;do{const O=d===0?l[0]??n.initialPageParam:lN(n,u);if(d>0&&O==null)break;u=await _(u,O),d++}while(d<C)}return u};t.options.persister?t.fetchFn=()=>{var w,y;return(y=(w=t.options).persister)==null?void 0:y.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function lN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var sc,pn,Gt,fi,mn,xa,K_,I6=(K_=class extends tC{constructor(t){super();Ue(this,mn);Ue(this,sc);Ue(this,pn);Ue(this,Gt);Ue(this,fi);$e(this,sc,t.client),this.mutationId=t.mutationId,$e(this,Gt,t.mutationCache),$e(this,pn,[]),this.state=t.state||$6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,pn).includes(t)||(ie(this,pn).push(t),this.clearGcTimeout(),ie(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,pn,ie(this,pn).filter(r=>r!==t)),this.scheduleGc(),ie(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,pn).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Gt).remove(this))}continue(){var t;return((t=ie(this,fi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,m,p,x,v,b,w,y,S,_,C,O,j,P,E;const r=()=>{Ht(this,mn,xa).call(this,{type:"continue"})},n={client:ie(this,sc),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,fi,eC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,M)=>{Ht(this,mn,xa).call(this,{type:"failed",failureCount:T,error:M})},onPause:()=>{Ht(this,mn,xa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Gt).canRun(this)}));const i=this.state.status==="pending",o=!ie(this,fi).canStart();try{if(i)r();else{Ht(this,mn,xa).call(this,{type:"pending",variables:t,isPaused:o}),ie(this,Gt).config.onMutate&&await ie(this,Gt).config.onMutate(t,this,n);const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));M!==this.state.context&&Ht(this,mn,xa).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const T=await ie(this,fi).start();return await((h=(d=ie(this,Gt).config).onSuccess)==null?void 0:h.call(d,T,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,T,t,this.state.context,n)),await((v=(x=ie(this,Gt).config).onSettled)==null?void 0:v.call(x,T,null,this.state.variables,this.state.context,this,n)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,T,null,t,this.state.context,n)),Ht(this,mn,xa).call(this,{type:"success",data:T}),T}catch(T){try{await((S=(y=ie(this,Gt).config).onError)==null?void 0:S.call(y,T,t,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((C=(_=this.options).onError)==null?void 0:C.call(_,T,t,this.state.context,n))}catch(M){Promise.reject(M)}try{await((j=(O=ie(this,Gt).config).onSettled)==null?void 0:j.call(O,void 0,T,this.state.variables,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,T,t,this.state.context,n))}catch(M){Promise.reject(M)}throw Ht(this,mn,xa).call(this,{type:"error",error:T}),T}finally{ie(this,Gt).runNext(this)}}},sc=new WeakMap,pn=new WeakMap,Gt=new WeakMap,fi=new WeakMap,mn=new WeakSet,xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{ie(this,pn).forEach(n=>{n.onMutationUpdate(t)}),ie(this,Gt).notify({mutation:this,type:"updated",action:t})})},K_);function $6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dn,Jr,oc,H_,D6=(H_=class extends sf{constructor(t={}){super();Ue(this,Dn);Ue(this,Jr);Ue(this,oc);this.config=t,$e(this,Dn,new Set),$e(this,Jr,new Map),$e(this,oc,0)}build(t,r,n){const i=new I6({client:t,mutationCache:this,mutationId:++Eu(this,oc)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ie(this,Dn).add(t);const r=Mu(t);if(typeof r=="string"){const n=ie(this,Jr).get(r);n?n.push(t):ie(this,Jr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ie(this,Dn).delete(t)){const r=Mu(t);if(typeof r=="string"){const n=ie(this,Jr).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ie(this,Jr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Mu(t);if(typeof r=="string"){const n=ie(this,Jr).get(r),i=n==null?void 0:n.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Mu(t);if(typeof r=="string"){const i=(n=ie(this,Jr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{ie(this,Dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),ie(this,Dn).clear(),ie(this,Jr).clear()})}getAll(){return Array.from(ie(this,Dn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rN(r,n))}findAll(t={}){return this.getAll().filter(r=>rN(t,r))}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xr))))}},Dn=new WeakMap,Jr=new WeakMap,oc=new WeakMap,H_);function Mu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gn,G_,L6=(G_=class extends sf{constructor(t={}){super();Ue(this,gn);this.config=t,$e(this,gn,new Map)}build(t,r,n){const i=r.queryKey,o=r.queryHash??Fv(i,r);let l=this.get(o);return l||(l=new T6({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ie(this,gn).has(t.queryHash)||(ie(this,gn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ie(this,gn).get(t.queryHash);r&&(t.destroy(),r===t&&ie(this,gn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,gn).get(t)}getAll(){return[...ie(this,gn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>tN(t,n)):r}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gn=new WeakMap,G_),pt,Na,Sa,ys,vs,Oa,bs,js,V_,F6=(V_=class{constructor(e={}){Ue(this,pt);Ue(this,Na);Ue(this,Sa);Ue(this,ys);Ue(this,vs);Ue(this,Oa);Ue(this,bs);Ue(this,js);$e(this,pt,e.queryCache||new L6),$e(this,Na,e.mutationCache||new D6),$e(this,Sa,e.defaultOptions||{}),$e(this,ys,new Map),$e(this,vs,new Map),$e(this,Oa,0)}mount(){Eu(this,Oa)._++,ie(this,Oa)===1&&($e(this,bs,J_.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,pt).onFocus())})),$e(this,js,rd.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,pt).onOnline())})))}unmount(){var e,t;Eu(this,Oa)._--,ie(this,Oa)===0&&((e=ie(this,bs))==null||e.call(this),$e(this,bs,void 0),(t=ie(this,js))==null||t.call(this),$e(this,js,void 0))}isFetching(e){return ie(this,pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,Na).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,pt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ie(this,pt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(iy(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ie(this,pt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ie(this,pt).get(n.queryHash),o=i==null?void 0:i.state.data,l=g6(t,o);if(l!==void 0)return ie(this,pt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>ie(this,pt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,pt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ie(this,pt);Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ie(this,pt);return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>ie(this,pt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return Zt.batch(()=>(ie(this,pt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>ie(this,pt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ie(this,pt).build(this,t);return r.isStaleByTime(iy(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=oN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=oN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rd.isOnline()?ie(this,Na).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,pt)}getMutationCache(){return ie(this,Na)}getDefaultOptions(){return ie(this,Sa)}setDefaultOptions(e){$e(this,Sa,e)}setQueryDefaults(e,t){ie(this,ys).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,ys).values()],r={};return t.forEach(n=>{bl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ie(this,vs).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,vs).values()],r={};return t.forEach(n=>{bl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,Sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,Sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,pt).clear(),ie(this,Na).clear()}},pt=new WeakMap,Na=new WeakMap,Sa=new WeakMap,ys=new WeakMap,vs=new WeakMap,Oa=new WeakMap,bs=new WeakMap,js=new WeakMap,V_),B6=k.createContext(void 0),q6=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(B6.Provider,{value:e,children:t}));Y_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const cN="popstate";function z6(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:l,hash:u}=n.location;return ly("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nd(i)}return W6(t,r,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U6(){return Math.random().toString(36).substr(2,8)}function uN(e,t){return{usr:e.state,key:e.key,idx:t}}function ly(e,t,r,n){return r===void 0&&(r=null),jl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ys(t):t,{state:r,key:t&&t.key||n||U6()})}function nd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ys(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function W6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u=ka.Pop,d=null,h=m();h==null&&(h=0,l.replaceState(jl({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){u=ka.Pop;let y=m(),S=y==null?null:y-h;h=y,d&&d({action:u,location:w.location,delta:S})}function x(y,S){u=ka.Push;let _=ly(w.location,y,S);h=m()+1;let C=uN(_,h),O=w.createHref(_);try{l.pushState(C,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}o&&d&&d({action:u,location:w.location,delta:1})}function v(y,S){u=ka.Replace;let _=ly(w.location,y,S);h=m();let C=uN(_,h),O=w.createHref(_);l.replaceState(C,"",O),o&&d&&d({action:u,location:w.location,delta:0})}function b(y){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:nd(y);return _=_.replace(/ $/,"%20"),vt(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let w={get action(){return u},get location(){return e(i,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(cN,p),d=y,()=>{i.removeEventListener(cN,p),d=null}},createHref(y){return t(i,y)},createURL:b,encodeLocation(y){let S=b(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:v,go(y){return l.go(y)}};return w}var dN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dN||(dN={}));function K6(e,t,r){return r===void 0&&(r="/"),H6(e,t,r)}function H6(e,t,r,n){let i=typeof t=="string"?Ys(t):t,o=zv(i.pathname||"/",r);if(o==null)return null;let l=rC(e);G6(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=iR(o);u=rR(l[d],h)}return u}function rC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(vt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Aa([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),rC(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:eR(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of nC(o.path))i(o,l,d)}),t}function nC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=nC(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function G6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const V6=/^:[\w-]+$/,Y6=3,X6=2,Q6=1,J6=10,Z6=-2,fN=e=>e==="*";function eR(e,t){let r=e.split("/"),n=r.length;return r.some(fN)&&(n+=Z6),t&&(n+=X6),r.filter(i=>!fN(i)).reduce((i,o)=>i+(V6.test(o)?Y6:o===""?Q6:J6),n)}function tR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function rR(e,t,r){let{routesMeta:n}=e,i={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=nR({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Aa([o,p.pathname]),pathnameBase:uR(Aa([o,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(o=Aa([o,p.pathnameBase]))}return l}function nR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:x,isOptional:v}=m;if(x==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[p];return v&&!b?h[x]=void 0:h[x]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function aR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function iR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const sR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oR=e=>sR.test(e);function lR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ys(e):e,o;if(r)if(oR(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),qv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?o=hN(r.substring(1),"/"):o=hN(r,t)}else o=t;return{pathname:o,search:dR(n),hash:fR(i)}}function hN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uv(e,t){let r=cR(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ys(e):(i=jl({},e),vt(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}u=p>=0?t[p]:"/"}let d=lR(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),uR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aC=["post","put","patch","delete"];new Set(aC);const pR=["get",...aC];new Set(pR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}const Kv=k.createContext(null),mR=k.createContext(null),Ta=k.createContext(null),lf=k.createContext(null),Gn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),iC=k.createContext(null);function gR(e,t){let{relative:r}=t===void 0?{}:t;Xs()||vt(!1);let{basename:n,navigator:i}=k.useContext(Ta),{hash:o,pathname:l,search:u}=oC(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Aa([n,l])),i.createHref({pathname:d,search:u,hash:o})}function Xs(){return k.useContext(lf)!=null}function Ni(){return Xs()||vt(!1),k.useContext(lf).location}function sC(e){k.useContext(Ta).static||k.useLayoutEffect(e)}function Si(){let{isDataRoute:e}=k.useContext(Gn);return e?_R():xR()}function xR(){Xs()||vt(!1);let e=k.useContext(Kv),{basename:t,future:r,navigator:n}=k.useContext(Ta),{matches:i}=k.useContext(Gn),{pathname:o}=Ni(),l=JSON.stringify(Uv(i,r.v7_relativeSplatPath)),u=k.useRef(!1);return sC(()=>{u.current=!0}),k.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Wv(h,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Aa([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,l,o,e])}function cf(){let{matches:e}=k.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function oC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Ta),{matches:i}=k.useContext(Gn),{pathname:o}=Ni(),l=JSON.stringify(Uv(i,n.v7_relativeSplatPath));return k.useMemo(()=>Wv(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function yR(e,t){return vR(e,t)}function vR(e,t,r,n){Xs()||vt(!1);let{navigator:i}=k.useContext(Ta),{matches:o}=k.useContext(Gn),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Ni(),m;if(t){var p;let y=typeof t=="string"?Ys(t):t;d==="/"||(p=y.pathname)!=null&&p.startsWith(d)||vt(!1),m=y}else m=h;let x=m.pathname||"/",v=x;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=K6(e,{pathname:v}),w=SR(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Aa([d,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Aa([d,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&w?k.createElement(lf.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ka.Pop}},w):w}function bR(){let e=AR(),t=hR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,null)}const jR=k.createElement(bR,null);class wR extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Gn.Provider,{value:this.props.routeContext},k.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NR(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(Kv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Gn.Provider,{value:t},n)}function SR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||vt(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:v}=r,b=p.route.loader&&x[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,x)=>{let v,b=!1,w=null,y=null;r&&(v=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||jR,d&&(h<0&&x===0?(CR("route-fallback"),b=!0,y=null):h===x&&(b=!0,y=p.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),_=()=>{let C;return v?C=w:b?C=y:p.route.Component?C=k.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=m,k.createElement(NR,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?k.createElement(wR,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var lC=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(lC||{}),cC=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(cC||{});function OR(e){let t=k.useContext(Kv);return t||vt(!1),t}function kR(e){let t=k.useContext(mR);return t||vt(!1),t}function PR(e){let t=k.useContext(Gn);return t||vt(!1),t}function uC(e){let t=PR(),r=t.matches[t.matches.length-1];return r.route.id||vt(!1),r.route.id}function AR(){var e;let t=k.useContext(iC),r=kR(),n=uC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _R(){let{router:e}=OR(lC.UseNavigateStable),t=uC(cC.UseNavigateStable),r=k.useRef(!1);return sC(()=>{r.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,wl({fromRouteId:t},o)))},[e,t])}const pN={};function CR(e,t,r){pN[e]||(pN[e]=!0)}function ER(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dC(e){let{to:t,replace:r,state:n,relative:i}=e;Xs()||vt(!1);let{future:o,static:l}=k.useContext(Ta),{matches:u}=k.useContext(Gn),{pathname:d}=Ni(),h=Si(),m=Wv(t,Uv(u,o.v7_relativeSplatPath),d,i==="path"),p=JSON.stringify(m);return k.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:i}),[h,p,i,r,n]),null}function Fe(e){vt(!1)}function TR(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ka.Pop,navigator:o,static:l=!1,future:u}=e;Xs()&&vt(!1);let d=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:d,navigator:o,static:l,future:wl({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof n=="string"&&(n=Ys(n));let{pathname:m="/",search:p="",hash:x="",state:v=null,key:b="default"}=n,w=k.useMemo(()=>{let y=zv(m,d);return y==null?null:{location:{pathname:y,search:p,hash:x,state:v,key:b},navigationType:i}},[d,m,p,x,v,b,i]);return w==null?null:k.createElement(Ta.Provider,{value:h},k.createElement(lf.Provider,{children:r,value:w}))}function RR(e){let{children:t,location:r}=e;return yR(cy(t),r)}new Promise(()=>{});function cy(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let o=[...t,i];if(n.type===k.Fragment){r.push.apply(r,cy(n.props.children,o));return}n.type!==Fe&&vt(!1),!n.props.index||!n.props.children||vt(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=cy(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function MR(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function IR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $R(e,t){return e.button===0&&(!t||t==="_self")&&!IR(e)}function dy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function DR(e,t){let r=dy(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(o=>{r.append(i,o)})}),r}const LR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FR="6";try{window.__reactRouterVersion=FR}catch{}const BR="startTransition",mN=s6[BR];function qR(e){let{basename:t,children:r,future:n,window:i}=e,o=k.useRef();o.current==null&&(o.current=z6({window:i,v5Compat:!0}));let l=o.current,[u,d]=k.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},m=k.useCallback(p=>{h&&mN?mN(()=>d(p)):d(p)},[d,h]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.useEffect(()=>ER(n),[n]),k.createElement(TR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const zR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:p}=t,x=MR(t,LR),{basename:v}=k.useContext(Ta),b,w=!1;if(typeof h=="string"&&UR.test(h)&&(b=h,zR))try{let C=new URL(window.location.href),O=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=zv(O.pathname,v);O.origin===C.origin&&j!=null?h=j+O.search+O.hash:w=!0}catch{}let y=gR(h,{relative:i}),S=WR(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:p});function _(C){n&&n(C),C.defaultPrevented||S(C)}return k.createElement("a",uy({},x,{href:b||y,onClick:w||o?n:_,ref:r,target:d}))});var gN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gN||(gN={}));var xN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xN||(xN={}));function WR(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=Si(),h=Ni(),m=oC(e,{relative:l});return k.useCallback(p=>{if($R(p,r)){p.preventDefault();let x=n!==void 0?n:nd(h)===nd(m);d(e,{replace:x,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,m,n,i,r,e,o,l,u])}function Hv(e){let t=k.useRef(dy(e)),r=k.useRef(!1),n=Ni(),i=k.useMemo(()=>DR(n.search,r.current?null:t.current),[n.search]),o=Si(),l=k.useCallback((u,d)=>{const h=dy(typeof u=="function"?u(i):u);r.current=!0,o("?"+h,d)},[o,i]);return[i,l]}function KR({onClick:e,loading:t=!1}){return a.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),a.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),a.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),a.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const yN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function HR(){const[e]=Hv(),[t,r]=k.useState(null);k.useEffect(()=>{const i=e.get("error");if(i&&yN[i]){r(yN[i]);const o=new URLSearchParams(e);o.delete("error");const l=o.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const n=()=>{window.location.href="/auth/google"};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),a.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),a.jsx(KR,{onClick:n}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const vN=e=>{let t;const r=new Set,n=(h,m)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const x=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(v=>v(t,x))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h))},d=t=e(n,i,u);return u},GR=(e=>e?vN(e):vN),VR=e=>e;function YR(e,t=VR){const r=Y.useSyncExternalStore(e.subscribe,Y.useCallback(()=>t(e.getState()),[e,t]),Y.useCallback(()=>t(e.getInitialState()),[e,t]));return Y.useDebugValue(r),r}const bN=e=>{const t=GR(e),r=n=>YR(t,n);return Object.assign(r,t),r},XR=(e=>e?bN(e):bN);function fC(e,t){return function(){return e.apply(t,arguments)}}const{toString:QR}=Object.prototype,{getPrototypeOf:Gv}=Object,{iterator:uf,toStringTag:hC}=Symbol,df=(e=>t=>{const r=QR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nn=e=>(e=e.toLowerCase(),t=>df(t)===e),ff=e=>t=>typeof t===e,{isArray:Qs}=Array,ws=ff("undefined");function lc(e){return e!==null&&!ws(e)&&e.constructor!==null&&!ws(e.constructor)&&dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pC=nn("ArrayBuffer");function JR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pC(e.buffer),t}const ZR=ff("string"),dr=ff("function"),mC=ff("number"),cc=e=>e!==null&&typeof e=="object",eM=e=>e===!0||e===!1,Ju=e=>{if(df(e)!=="object")return!1;const t=Gv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hC in e)&&!(uf in e)},tM=e=>{if(!cc(e)||lc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rM=nn("Date"),nM=nn("File"),aM=nn("Blob"),iM=nn("FileList"),sM=e=>cc(e)&&dr(e.pipe),oM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dr(e.append)&&((t=df(e))==="formdata"||t==="object"&&dr(e.toString)&&e.toString()==="[object FormData]"))},lM=nn("URLSearchParams"),[cM,uM,dM,fM]=["ReadableStream","Request","Response","Headers"].map(nn),hM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Qs(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(lc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,e[u],u,e)}}function gC(e,t){if(lc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xC=e=>!ws(e)&&e!==ri;function fy(){const{caseless:e,skipUndefined:t}=xC(this)&&this||{},r={},n=(i,o)=>{const l=e&&gC(r,o)||o;Ju(r[l])&&Ju(i)?r[l]=fy(r[l],i):Ju(i)?r[l]=fy({},i):Qs(i)?r[l]=i.slice():(!t||!ws(i))&&(r[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&uc(arguments[i],n);return r}const pM=(e,t,r,{allOwnKeys:n}={})=>(uc(t,(i,o)=>{r&&dr(i)?Object.defineProperty(e,o,{value:fC(i,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),mM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xM=(e,t,r,n)=>{let i,o,l;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Gv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vM=e=>{if(!e)return null;if(Qs(e))return e;let t=e.length;if(!mC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},bM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gv(Uint8Array)),jM=(e,t)=>{const n=(e&&e[uf]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},wM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},NM=nn("HTMLFormElement"),SM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),jN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OM=nn("RegExp"),yC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};uc(r,(i,o)=>{let l;(l=t(i,o,e))!==!1&&(n[o]=l||i)}),Object.defineProperties(e,n)},kM=e=>{yC(e,(t,r)=>{if(dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},PM=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Qs(e)?n(e):n(String(e).split(t)),r},AM=()=>{},_M=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function CM(e){return!!(e&&dr(e.append)&&e[hC]==="FormData"&&e[uf])}const EM=e=>{const t=new Array(10),r=(n,i)=>{if(cc(n)){if(t.indexOf(n)>=0)return;if(lc(n))return n;if(!("toJSON"in n)){t[i]=n;const o=Qs(n)?[]:{};return uc(n,(l,u)=>{const d=r(l,i+1);!ws(d)&&(o[u]=d)}),t[i]=void 0,o}}return n};return r(e,0)},TM=nn("AsyncFunction"),RM=e=>e&&(cc(e)||dr(e))&&dr(e.then)&&dr(e.catch),vC=((e,t)=>e?setImmediate:t?((r,n)=>(ri.addEventListener("message",({source:i,data:o})=>{i===ri&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ri.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dr(ri.postMessage)),MM=typeof queueMicrotask<"u"?queueMicrotask.bind(ri):typeof process<"u"&&process.nextTick||vC,IM=e=>e!=null&&dr(e[uf]),ne={isArray:Qs,isArrayBuffer:pC,isBuffer:lc,isFormData:oM,isArrayBufferView:JR,isString:ZR,isNumber:mC,isBoolean:eM,isObject:cc,isPlainObject:Ju,isEmptyObject:tM,isReadableStream:cM,isRequest:uM,isResponse:dM,isHeaders:fM,isUndefined:ws,isDate:rM,isFile:nM,isBlob:aM,isRegExp:OM,isFunction:dr,isStream:sM,isURLSearchParams:lM,isTypedArray:bM,isFileList:iM,forEach:uc,merge:fy,extend:pM,trim:hM,stripBOM:mM,inherits:gM,toFlatObject:xM,kindOf:df,kindOfTest:nn,endsWith:yM,toArray:vM,forEachEntry:jM,matchAll:wM,isHTMLForm:NM,hasOwnProperty:jN,hasOwnProp:jN,reduceDescriptors:yC,freezeMethods:kM,toObjectSet:PM,toCamelCase:SM,noop:AM,toFiniteNumber:_M,findKey:gC,global:ri,isContextDefined:xC,isSpecCompliantForm:CM,toJSONObject:EM,isAsyncFn:TM,isThenable:RM,setImmediate:vC,asap:MM,isIterable:IM};let Te=class bC extends Error{static from(t,r,n,i,o,l){const u=new bC(t.message,r||t.code,n,i,o);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,n,i,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}};Te.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Te.ERR_BAD_OPTION="ERR_BAD_OPTION";Te.ECONNABORTED="ECONNABORTED";Te.ETIMEDOUT="ETIMEDOUT";Te.ERR_NETWORK="ERR_NETWORK";Te.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Te.ERR_DEPRECATED="ERR_DEPRECATED";Te.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Te.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Te.ERR_CANCELED="ERR_CANCELED";Te.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Te.ERR_INVALID_URL="ERR_INVALID_URL";const $M=null;function hy(e){return ne.isPlainObject(e)||ne.isArray(e)}function jC(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function wN(e,t,r){return e?e.concat(t).map(function(i,o){return i=jC(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function DM(e){return ne.isArray(e)&&!e.some(hy)}const LM=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function hf(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!ne.isUndefined(y[w])});const n=r.metaTokens,i=r.visitor||m,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ne.isDate(b))return b.toISOString();if(ne.isBoolean(b))return b.toString();if(!d&&ne.isBlob(b))throw new Te("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(b)||ne.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,w,y){let S=b;if(b&&!y&&typeof b=="object"){if(ne.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(ne.isArray(b)&&DM(b)||(ne.isFileList(b)||ne.endsWith(w,"[]"))&&(S=ne.toArray(b)))return w=jC(w),S.forEach(function(C,O){!(ne.isUndefined(C)||C===null)&&t.append(l===!0?wN([w],O,o):l===null?w:w+"[]",h(C))}),!1}return hy(b)?!0:(t.append(wN(y,w,o),h(b)),!1)}const p=[],x=Object.assign(LM,{defaultVisitor:m,convertValue:h,isVisitable:hy});function v(b,w){if(!ne.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(b),ne.forEach(b,function(S,_){(!(ne.isUndefined(S)||S===null)&&i.call(t,S,ne.isString(_)?_.trim():_,w,x))===!0&&v(S,w?w.concat(_):[_])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return v(e),t}function NN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vv(e,t){this._pairs=[],e&&hf(e,this,t)}const wC=Vv.prototype;wC.append=function(t,r){this._pairs.push([t,r])};wC.toString=function(t){const r=t?function(n){return t.call(this,n,NN)}:NN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function FM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function NC(e,t,r){if(!t)return e;const n=r&&r.encode||FM,i=ne.isFunction(r)?{serialize:r}:r,o=i&&i.serialize;let l;if(o?l=o(t,i):l=ne.isURLSearchParams(t)?t.toString():new Vv(t,i).toString(n),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class SN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const SC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BM=typeof URLSearchParams<"u"?URLSearchParams:Vv,qM=typeof FormData<"u"?FormData:null,zM=typeof Blob<"u"?Blob:null,UM={isBrowser:!0,classes:{URLSearchParams:BM,FormData:qM,Blob:zM},protocols:["http","https","file","blob","url","data"]},Yv=typeof window<"u"&&typeof document<"u",py=typeof navigator=="object"&&navigator||void 0,WM=Yv&&(!py||["ReactNative","NativeScript","NS"].indexOf(py.product)<0),KM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HM=Yv&&window.location.href||"http://localhost",GM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yv,hasStandardBrowserEnv:WM,hasStandardBrowserWebWorkerEnv:KM,navigator:py,origin:HM},Symbol.toStringTag,{value:"Module"})),Xt={...GM,...UM};function VM(e,t){return hf(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,i,o){return Xt.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function YM(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XM(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function OC(e){function t(r,n,i,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&ne.isArray(i)?i.length:l,d?(ne.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!u):((!i[l]||!ne.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],o)&&ne.isArray(i[l])&&(i[l]=XM(i[l])),!u)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,i)=>{t(YM(n),i,r,0)}),r}return null}function QM(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const dc={transitional:SC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=ne.isObject(t);if(o&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return i?JSON.stringify(OC(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return VM(t,this.formSerializer).toString();if((u=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),QM(t)):t}],transformResponse:[function(t){const r=this.transitional||dc.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Te.from(u,Te.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{dc.headers[e]={}});const JM=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZM=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&JM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ON=Symbol("internals");function Xo(e){return e&&String(e).trim().toLowerCase()}function Zu(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Zu):String(e)}function eI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vp(e,t,r,n,i){if(ne.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function rI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nI(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,l){return this[n].call(this,t,i,o,l)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function o(u,d,h){const m=Xo(d);if(!m)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,m);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||d]=Zu(u))}const l=(u,d)=>ne.forEach(u,(h,m)=>o(h,m,d));if(ne.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ne.isString(t)&&(t=t.trim())&&!tI(t))l(ZM(t),r);else if(ne.isObject(t)&&ne.isIterable(t)){let u={},d,h;for(const m of t){if(!ne.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(d=u[h])?ne.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Xo(t),t){const n=ne.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return eI(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Xo(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Vp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function o(l){if(l=Xo(l),l){const u=ne.findKey(n,l);u&&(!r||Vp(n,n[u],u,r))&&(delete n[u],i=!0)}}return ne.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!t||Vp(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,n={};return ne.forEach(this,(i,o)=>{const l=ne.findKey(n,o);if(l){r[l]=Zu(i),delete r[o];return}const u=t?rI(o):String(o).trim();u!==o&&delete r[o],r[u]=Zu(i),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[ON]=this[ON]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Xo(l);n[u]||(nI(i,l),n[u]=!0)}return ne.isArray(t)?t.forEach(o):o(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(fr);function Yp(e,t){const r=this||dc,n=t||r,i=fr.from(n.headers);let o=n.data;return ne.forEach(e,function(u){o=u.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function kC(e){return!!(e&&e.__CANCEL__)}let fc=class extends Te{constructor(t,r,n){super(t??"canceled",Te.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function PC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function aI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function iI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),m=n[o];l||(l=h),r[i]=d,n[i]=h;let p=o,x=0;for(;p!==i;)x+=r[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),h-l<t)return;const v=m&&h-m;return v?Math.round(x*1e3/v):void 0}}function sI(e,t){let r=0,n=1e3/t,i,o;const l=(h,m=Date.now())=>{r=m,i=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const m=Date.now(),p=m-r;p>=n?l(h,m):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},n-p)))},()=>i&&l(i)]}const ad=(e,t,r=3)=>{let n=0;const i=iI(50,250);return sI(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,h=i(d),m=l<=u;n=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},r)},kN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},PN=e=>(...t)=>ne.asap(()=>e(...t)),oI=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,lI=Xt.hasStandardBrowserEnv?{write(e,t,r,n,i,o,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];ne.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),ne.isString(n)&&u.push(`path=${n}`),ne.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),ne.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function AC(e,t,r){let n=!cI(t);return e&&(n||r==!1)?uI(e,t):t}const AN=e=>e instanceof fr?{...e}:e;function gi(e,t){t=t||{};const r={};function n(h,m,p,x){return ne.isPlainObject(h)&&ne.isPlainObject(m)?ne.merge.call({caseless:x},h,m):ne.isPlainObject(m)?ne.merge({},m):ne.isArray(m)?m.slice():m}function i(h,m,p,x){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return n(void 0,h,p,x)}else return n(h,m,p,x)}function o(h,m){if(!ne.isUndefined(m))return n(void 0,m)}function l(h,m){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function u(h,m,p){if(p in t)return n(h,m);if(p in e)return n(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,p)=>i(AN(h),AN(m),p,!0)};return ne.forEach(Object.keys({...e,...t}),function(m){const p=d[m]||i,x=p(e[m],t[m],m);ne.isUndefined(x)&&p!==u||(r[m]=x)}),r}const _C=e=>{const t=gi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=fr.from(l),t.url=NC(AC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ne.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ne.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,p])=>{h.includes(m.toLowerCase())&&l.set(m,p)})}}if(Xt.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&oI(t.url))){const d=i&&o&&lI.read(o);d&&l.set(i,d)}return t},dI=typeof XMLHttpRequest<"u",fI=dI&&function(e){return new Promise(function(r,n){const i=_C(e);let o=i.data;const l=fr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,p,x,v,b;function w(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function S(){if(!y)return;const C=fr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};PC(function(E){r(E),w()},function(E){n(E),w()},j),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(n(new Te("Request aborted",Te.ECONNABORTED,e,y)),y=null)},y.onerror=function(O){const j=O&&O.message?O.message:"Network Error",P=new Te(j,Te.ERR_NETWORK,e,y);P.event=O||null,n(P),y=null},y.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||SC;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),n(new Te(O,j.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,y)),y=null},o===void 0&&l.setContentType(null),"setRequestHeader"in y&&ne.forEach(l.toJSON(),function(O,j){y.setRequestHeader(j,O)}),ne.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),u&&u!=="json"&&(y.responseType=i.responseType),h&&([x,b]=ad(h,!0),y.addEventListener("progress",x)),d&&y.upload&&([p,v]=ad(d),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(m=C=>{y&&(n(!C||C.type?new fc(null,e,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const _=aI(i.url);if(_&&Xt.protocols.indexOf(_)===-1){n(new Te("Unsupported protocol "+_+":",Te.ERR_BAD_REQUEST,e));return}y.send(o||null)})},hI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;n.abort(m instanceof Te?m:new fc(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,o(new Te(`timeout of ${t}ms exceeded`,Te.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ne.asap(u),d}},pI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},mI=async function*(e,t){for await(const r of gI(e))yield*pI(r,t)},gI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},_N=(e,t,r,n)=>{const i=mI(e,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let p=m.byteLength;if(r){let x=o+=p;r(x)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},CN=64*1024,{isFunction:Iu}=ne,xI=(({Request:e,Response:t})=>({Request:e,Response:t}))(ne.global),{ReadableStream:EN,TextEncoder:TN}=ne.global,RN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yI=e=>{e=ne.merge.call({skipUndefined:!0},xI,e);const{fetch:t,Request:r,Response:n}=e,i=t?Iu(t):typeof fetch=="function",o=Iu(r),l=Iu(n);if(!i)return!1;const u=i&&Iu(EN),d=i&&(typeof TN=="function"?(b=>w=>b.encode(w))(new TN):async b=>new Uint8Array(await new r(b).arrayBuffer())),h=o&&u&&RN(()=>{let b=!1;const w=new r(Xt.origin,{body:new EN,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),m=l&&u&&RN(()=>ne.isReadableStream(new n("").body)),p={stream:m&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(w,y)=>{let S=w&&w[b];if(S)return S.call(w);throw new Te(`Response type '${b}' is not supported`,Te.ERR_NOT_SUPPORT,y)})});const x=async b=>{if(b==null)return 0;if(ne.isBlob(b))return b.size;if(ne.isSpecCompliantForm(b))return(await new r(Xt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(b)||ne.isArrayBuffer(b))return b.byteLength;if(ne.isURLSearchParams(b)&&(b=b+""),ne.isString(b))return(await d(b)).byteLength},v=async(b,w)=>{const y=ne.toFiniteNumber(b.getContentLength());return y??x(w)};return async b=>{let{url:w,method:y,data:S,signal:_,cancelToken:C,timeout:O,onDownloadProgress:j,onUploadProgress:P,responseType:E,headers:T,withCredentials:M="same-origin",fetchOptions:L}=_C(b),R=t||fetch;E=E?(E+"").toLowerCase():"text";let F=hI([_,C&&C.toAbortSignal()],O),U=null;const W=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let B;try{if(P&&h&&y!=="get"&&y!=="head"&&(B=await v(T,S))!==0){let q=new r(w,{method:"POST",body:S,duplex:"half"}),H;if(ne.isFormData(S)&&(H=q.headers.get("content-type"))&&T.setContentType(H),q.body){const[X,oe]=kN(B,ad(PN(P)));S=_N(q.body,CN,X,oe)}}ne.isString(M)||(M=M?"include":"omit");const $=o&&"credentials"in r.prototype,z={...L,signal:F,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:$?M:void 0};U=o&&new r(w,z);let V=await(o?R(U,L):R(w,z));const G=m&&(E==="stream"||E==="response");if(m&&(j||G&&W)){const q={};["status","statusText","headers"].forEach(fe=>{q[fe]=V[fe]});const H=ne.toFiniteNumber(V.headers.get("content-length")),[X,oe]=j&&kN(H,ad(PN(j),!0))||[];V=new n(_N(V.body,CN,X,()=>{oe&&oe(),W&&W()}),q)}E=E||"text";let D=await p[ne.findKey(p,E)||"text"](V,b);return!G&&W&&W(),await new Promise((q,H)=>{PC(q,H,{data:D,headers:fr.from(V.headers),status:V.status,statusText:V.statusText,config:b,request:U})})}catch($){throw W&&W(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,b,U),{cause:$.cause||$}):Te.from($,$&&$.code,b,U)}}},vI=new Map,CC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,o=[n,i,r];let l=o.length,u=l,d,h,m=vI;for(;u--;)d=o[u],h=m.get(d),h===void 0&&m.set(d,h=u?new Map:yI(t)),m=h;return h};CC();const Xv={http:$M,xhr:fI,fetch:{get:CC}};ne.forEach(Xv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const MN=e=>`- ${e}`,bI=e=>ne.isFunction(e)||e===null||e===!1;function jI(e,t){e=ne.isArray(e)?e:[e];const{length:r}=e;let n,i;const o={};for(let l=0;l<r;l++){n=e[l];let u;if(i=n,!bI(n)&&(i=Xv[(u=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${u}'`);if(i&&(ne.isFunction(i)||(i=i.get(t))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(MN).join(`
`):" "+MN(l[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const EC={getAdapter:jI,adapters:Xv};function Xp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fc(null,e)}function IN(e){return Xp(e),e.headers=fr.from(e.headers),e.data=Yp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),EC.getAdapter(e.adapter||dc.adapter,e)(e).then(function(n){return Xp(e),n.data=Yp.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return kC(n)||(Xp(e),n&&n.response&&(n.response.data=Yp.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const TC="1.13.4",pf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const $N={};pf.transitional=function(t,r,n){function i(o,l){return"[Axios v"+TC+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new Te(i(l," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!$N[l]&&($N[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,u):!0}};pf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function wI(e,t,r){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],l=t[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new Te("option "+o+" must be "+d,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const ed={assertOptions:wI,validators:pf},hn=ed.validators;let hi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new SN,response:new SN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&ed.assertOptions(n,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:ed.assertOptions(i,{encode:hn.function,serialize:hn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ed.assertOptions(r,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&ne.merge(o.common,o[r.method]);o&&ne.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=fr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,p=0,x;if(!d){const b=[IN.bind(this),void 0];for(b.unshift(...u),b.push(...h),x=b.length,m=Promise.resolve(r);p<x;)m=m.then(b[p++],b[p++]);return m}x=u.length;let v=r;for(;p<x;){const b=u[p++],w=u[p++];try{v=b(v)}catch(y){w.call(this,y);break}}try{m=IN.call(this,v)}catch(b){return Promise.reject(b)}for(p=0,x=h.length;p<x;)m=m.then(h[p++],h[p++]);return m}getUri(t){t=gi(this.defaults,t);const r=AC(t.baseURL,t.url,t.allowAbsoluteUrls);return NC(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){hi.prototype[t]=function(r,n){return this.request(gi(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,u){return this.request(gi(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}hi.prototype[t]=r(),hi.prototype[t+"Form"]=r(!0)});let NI=class RC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new fc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new RC(function(i){t=i}),cancel:t}}};function SI(e){return function(r){return e.apply(null,r)}}function OI(e){return ne.isObject(e)&&e.isAxiosError===!0}const my={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(my).forEach(([e,t])=>{my[t]=e});function MC(e){const t=new hi(e),r=fC(hi.prototype.request,t);return ne.extend(r,hi.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return MC(gi(e,i))},r}const gt=MC(dc);gt.Axios=hi;gt.CanceledError=fc;gt.CancelToken=NI;gt.isCancel=kC;gt.VERSION=TC;gt.toFormData=hf;gt.AxiosError=Te;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=SI;gt.isAxiosError=OI;gt.mergeConfig=gi;gt.AxiosHeaders=fr;gt.formToJSON=e=>OC(ne.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=EC.getAdapter;gt.HttpStatusCode=my;gt.default=gt;const{Axios:yJ,AxiosError:vJ,CanceledError:bJ,isCancel:jJ,CancelToken:wJ,VERSION:NJ,all:SJ,Cancel:OJ,isAxiosError:kJ,spread:PJ,toFormData:AJ,AxiosHeaders:_J,HttpStatusCode:CJ,formToJSON:EJ,getAdapter:TJ,mergeConfig:RJ}=gt;class Ce extends Error{constructor(r,n,i){super(r);Cu(this,"status");Cu(this,"data");this.name="ApiError",this.status=n,this.data=i}}const Nl=gt.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function kI(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}Nl.interceptors.request.use(e=>{const t=kI();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function PI(e){var r,n;if(gt.isAxiosError(e)){const i=e,o=((r=i.response)==null?void 0:r.status)??null,l=(n=i.response)==null?void 0:n.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||i.message||"Request failed";return new Ce(u,o,l)}const t=e instanceof Error?e.message:String(e);return new Ce(t,null,null)}let Qp=!1,Jp=null;async function AI(){try{return await Nl.post("/auth/refresh"),!0}catch{return!1}}Nl.interceptors.response.use(e=>e,async e=>{var r,n,i;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&t&&!t._retried&&!((n=t.url)!=null&&n.includes("/auth/refresh"))&&!((i=t.url)!=null&&i.includes("/auth/login"))){t._retried=!0,Qp||(Qp=!0,Jp=AI());const o=await Jp;return Qp=!1,Jp=null,o?Nl.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function de(e){try{return(await Nl.request(e)).data}catch(t){throw PI(t)}}const wn=XR((e,t)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await de({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await de({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const n=await de({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(n.redirectUrl){window.location.href=n.redirectUrl;return}window.location.reload()}catch(n){console.error("Switch organization failed:",n)}},setUser:r=>{e({user:r})}}));function _I(){const[e,t]=k.useState(null),[r,n]=k.useState(!0),[i,o]=k.useState(null),{user:l}=wn();k.useEffect(()=>{(async()=>{try{n(!0);const h=await fetch("/api/dashboard/stats",{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch dashboard stats");const m=await h.json();t(m),o(null)}catch(h){o(h instanceof Error?h.message:"Unknown error")}finally{n(!1)}})()},[]);const u=d=>d===0?"-":`${d}%`;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(l==null?void 0:l.name)||"User","! Here's your workflow overview."]})]}),i&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:i})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.totalWorkflows)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.recentExecutions)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:u((e==null?void 0:e.successRate)??0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.pendingApprovals)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(e==null?void 0:e.activeIntegrations)&&e.activeIntegrations.length>0&&a.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.activeIntegrations.map(d=>a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:d},d))})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),a.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[a.jsx("li",{children:"Create your first workflow"}),a.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),a.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function CI({workflow:e,onExecute:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function IC({workflowId:e,workflowName:t,isOpen:r,onClose:n,onSuccess:i}){const[o,l]=k.useState("{}"),[u,d]=k.useState("idle"),[h,m]=k.useState("");if(!r)return null;const p=async()=>{d("executing"),m("");try{let x={};o.trim()&&(x=JSON.parse(o)),await de({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),d("success"),setTimeout(()=>{i==null||i(),n()},1500)}catch(x){x instanceof SyntaxError?m("Invalid JSON format"):x instanceof Ce?m(x.message):m("Execution failed"),d("error")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600 text-xl",children:""}),a.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("span",{className:"text-red-800",children:h})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:n,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function EI({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(!1),[h,m]=k.useState(null),p=async()=>{if(!n.trim()){m("Workflow name is required");return}d(!0),m(null);try{await de({url:"/api/workflows",method:"POST",data:{name:n.trim(),description:o.trim()||void 0,enabled:!0,config:{}}}),r(),t(),i(""),l("")}catch(x){let v="Failed to create workflow";x instanceof Ce&&(x.status===403?v="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":v=x.message),m(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:n,onChange:x=>i(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:o,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function TI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(!1),d=async()=>{try{const x=await de({url:"/api/workflows",method:"GET"});t(x.workflows)}catch(x){console.error("Failed to fetch workflows:",x)}finally{n(!1)}};k.useEffect(()=>{d()},[]);const h=x=>{const v=e.find(b=>b.id===x);v&&o(v)},m=()=>{o(null)},p=()=>{d()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),a.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>a.jsx(CI,{workflow:x,onExecute:h},x.id))}),i&&a.jsx(IC,{workflowId:i.id,workflowName:i.name,isOpen:!0,onClose:m,onSuccess:p}),a.jsx(EI,{isOpen:l,onClose:()=>u(!1),onSuccess:d})]})}function RI(){var fe;const{id:e}=cf(),t=Si(),[r,n]=k.useState(null),[i,o]=k.useState(!0),[l,u]=k.useState(null),[d,h]=k.useState(!1),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(!1),[_,C]=k.useState(!1),[O,j]=k.useState(!1),[P,E]=k.useState(null),[T,M]=k.useState(null),[L,R]=k.useState([]),[F,U]=k.useState(""),[W,B]=k.useState(""),[$,z]=k.useState(!0),V=async()=>{if(e)try{const se=await de({url:`/api/workflows/${e}`,method:"GET"});n(se.workflow),U(se.workflow.name),B(se.workflow.description||""),z(se.workflow.enabled)}catch(se){se instanceof Ce&&se.status===404?u("Workflow not found"):u("Failed to load workflow")}finally{o(!1)}};k.useEffect(()=>{V()},[e]);const G=async()=>{if(!(!e||!F.trim())){p(!0);try{const se=await de({url:`/api/workflows/${e}`,method:"PUT",data:{name:F.trim(),description:W.trim()||null,enabled:$}});n(se.workflow),h(!1)}catch(se){const ke=se instanceof Ce?se.message:"Failed to save";alert(ke)}finally{p(!1)}}},D=async()=>{if(e){v(!0);try{await de({url:`/api/workflows/${e}`,method:"DELETE"}),t("/workflows")}catch(se){const ke=se instanceof Ce?se.message:"Failed to delete";alert(ke),v(!1),S(!1)}}},q=async()=>{if(e){j(!0),M(null);try{const se=await de({url:`/api/workflows/${e}/generate-sop`,method:"POST"});E(se.sop),R(se.sop.steps),C(!0)}catch(se){const ke=se instanceof Ce?se.message:"Failed to generate SOP";M(ke)}finally{j(!1)}}},H=()=>{P&&(alert(`SOP saved with ${L.length} steps. (This would save to database in production)`),C(!1))},X=(se,ke,Se)=>{const ce=[...L];ce[se]={...ce[se],[ke]:Se},R(ce)},oe=se=>{switch(se){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):l||!r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l||"Workflow not found"}),a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r.name})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:d?a.jsxs("div",{className:"space-y-4 max-w-xl",children:[a.jsx("input",{type:"text",value:F,onChange:se=>U(se.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),a.jsx("textarea",{value:W,onChange:se=>B(se.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:$,onChange:se=>z(se.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[r.name,a.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-gray-600",children:r.description||"No description"})]})}),a.jsx("div",{className:"flex gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:G,disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:m?"Saving...":"Save"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),a.jsx("button",{onClick:q,disabled:O,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Generating...":"Generate SOP"}),a.jsx("button",{onClick:()=>w(!0),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),a.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((fe=r.executions)==null?void 0:fe.length)||0})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),r.executions&&r.executions.length>0?a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.executions.map(se=>{const ke=se.startedAt&&se.completedAt?Math.round((new Date(se.completedAt).getTime()-new Date(se.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${oe(se.status)}`,children:se.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:se.startedAt?new Date(se.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ke!==null?`${ke}s`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx(At,{to:`/executions/${se.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},se.id)})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),b&&a.jsx(IC,{workflowId:r.id,workflowName:r.name,isOpen:!0,onClose:()=>w(!1),onSuccess:()=>{w(!1),V()}}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:D,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})}),_&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),T&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:T}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:L.map((se,ke)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",ke+1,": Title"]}),a.jsx("input",{type:"text",value:se.title,onChange:Se=>X(ke,"title",Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:se.expectedDuration,onChange:Se=>X(ke,"expectedDuration",parseInt(Se.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:se.description,onChange:Se=>X(ke,"description",Se.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:se.approvalRequired,onChange:Se=>X(ke,"approvalRequired",Se.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},se.id))}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:H,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function MI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState("all");k.useEffect(()=>{(async()=>{try{const m=await de({url:"/api/executions",method:"GET"});t(m.executions||[])}catch(m){console.error("Failed to fetch executions:",m)}finally{n(!1)}})()},[]);const l=e.filter(h=>i==="all"?!0:h.status===i),u=h=>{switch(h){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),a.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium ${i==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>o("success"),className:`px-4 py-2 rounded-lg font-medium ${i==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),a.jsx("button",{onClick:()=>o("failed"),className:`px-4 py-2 rounded-lg font-medium ${i==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),a.jsx("button",{onClick:()=>o("running"),className:`px-4 py-2 rounded-lg font-medium ${i==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>{var p;const m=h.startedAt&&h.completedAt?Math.round((new Date(h.completedAt).getTime()-new Date(h.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(h.status)}`,children:[d(h.status)," ",h.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((p=h.workflow)==null?void 0:p.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m!==null?`${m}s`:"-"})]},h.id)})})]})})]})}function II(){var B;const{id:e}=cf(),[t,r]=k.useState(null),[n,i]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),[h,m]=k.useState(!1),[p,x]=k.useState(!0),[v,b]=k.useState(!0),[w,y]=k.useState(null),[S,_]=k.useState(""),[C,O]=k.useState(!1),j=async()=>{var $;if(e)try{const z=await de({url:`/api/executions/${e}`,method:"GET"});r(z.execution),($=z.execution.workflow)!=null&&$.sopEnabled&&await P()}catch(z){z instanceof Ce&&z.status===404?d("Execution not found"):d("Failed to load execution")}finally{l(!1)}},P=async()=>{if(e)try{const $=await de({url:`/api/executions/${e}/sop-progress`,method:"GET"});i($.progress)}catch{console.error("Failed to load SOP progress")}};k.useEffect(()=>{j()},[e]);const E=async()=>{if(!(!(t!=null&&t.workflowId)||!(t!=null&&t.inputData))){m(!0);try{await de({url:`/api/workflows/${t.workflowId}/execute`,method:"POST",data:{input:t.inputData}}),j()}catch($){const z=$ instanceof Ce?$.message:"Failed to retry";alert(z)}finally{m(!1)}}},T=async()=>{if(e){y("approve");try{await de({url:`/api/executions/${e}/sop/approve`,method:"POST",data:{}}),await P(),await j()}catch($){const z=$ instanceof Ce?$.message:"Failed to approve step";alert(z)}finally{y(null)}}},M=async()=>{if(!(!e||!S.trim())){y("skip");try{await de({url:`/api/executions/${e}/sop/skip`,method:"POST",data:{reason:S}}),O(!1),_(""),await P(),await j()}catch($){const z=$ instanceof Ce?$.message:"Failed to skip step";alert(z)}finally{y(null)}}},L=$=>{switch($){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:$}}},R=($,z,V)=>$.result?L($.result.status):z===V?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},F=($,z)=>{if(!$)return"-";const V=new Date($).getTime(),G=z?new Date(z).getTime():Date.now(),D=Math.round((G-V)/1e3);if(D<60)return`${D}s`;const q=Math.floor(D/60),H=D%60;return`${q}m ${H}s`},U=$=>{navigator.clipboard.writeText($)};if(o)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(u||!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u||"Execution not found"}),a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const W=L(t.status);return a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsxs("span",{className:"text-gray-600",children:[t.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${W.bg} ${W.text}`,children:[a.jsx("span",{className:"text-2xl",children:W.icon}),W.label]}),((B=t.workflow)==null?void 0:B.sopEnabled)&&a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),t.workflow&&a.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",a.jsx(At,{to:`/workflows/${t.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:t.workflow.name})]})]}),t.status==="failed"&&a.jsx("button",{onClick:E,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Retrying...":"Retry Execution"})]}),n&&n.steps.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[n.completedSteps," / ",n.totalSteps," completed"]}),n.skippedSteps>0&&a.jsxs("span",{className:"text-gray-400",children:["(",n.skippedSteps," skipped)"]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(n.completedSteps+n.skippedSteps)/n.totalSteps*100}%`}})}),a.jsx("div",{className:"space-y-3",children:n.steps.map(($,z)=>{var D,q,H,X,oe,fe,se;const V=R($,z,n.currentStep),G=z===n.currentStep&&!((q=(D=$.result)==null?void 0:D.status)!=null&&q.match(/completed|skipped|failed/));return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${G?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${V.bg} ${V.text} font-bold`,children:((H=$.result)==null?void 0:H.status)==="completed"||((X=$.result)==null?void 0:X.status)==="skipped"?V.icon:z+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:$.name}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${V.bg} ${V.text}`,children:$.type})]}),$.description&&a.jsx("p",{className:"text-sm text-gray-500 truncate",children:$.description}),((oe=$.result)==null?void 0:oe.skippedReason)&&a.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",$.result.skippedReason]}),((fe=$.result)==null?void 0:fe.error)&&a.jsx("p",{className:"text-sm text-red-600",children:$.result.error})]}),G&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:T,disabled:w!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:w==="approve"?"...":"Approve"}),$.skippable!==!1&&a.jsx("button",{onClick:()=>O(!0),disabled:w!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((se=$.result)==null?void 0:se.completedAt)&&a.jsx("span",{className:"text-xs text-gray-400",children:new Date($.result.completedAt).toLocaleTimeString()})]},$.id)})})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),a.jsx("textarea",{value:S,onChange:$=>_($.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{O(!1),_("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!S.trim()||w==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:w==="skip"?"Skipping...":"Skip Step"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),a.jsx("p",{className:"font-medium",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),a.jsx("p",{className:"font-medium",children:F(t.startedAt,t.completedAt)})]})]})]}),t.errorMessage&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),a.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:t.errorMessage})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[a.jsxs("button",{onClick:()=>x(!p),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),a.jsx("span",{className:"text-gray-400",children:p?"":""})]}),p&&a.jsx("div",{className:"p-6",children:t.inputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>U(JSON.stringify(t.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.inputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>b(!v),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),a.jsx("span",{className:"text-gray-400",children:v?"":""})]}),v&&a.jsx("div",{className:"p-6",children:t.outputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>U(JSON.stringify(t.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.outputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function $I(){const{user:e,currentOrganization:t}=wn(),[r,n]=k.useState((e==null?void 0:e.name)||""),[i,o]=k.useState(!1),[l,u]=k.useState({}),[d,h]=k.useState(""),[m,p]=k.useState(""),[x,v]=k.useState(""),[b,w]=k.useState(!1),[y,S]=k.useState(null),[_,C]=k.useState(null);k.useEffect(()=>{(async()=>{try{const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings)}catch(M){console.error("Failed to fetch API key settings:",M)}})()},[]);const O=async()=>{w(!0),S(null),C(null);try{const T={};if(d&&(T.anthropicApiKey=d),m&&(T.openaiApiKey=m),x&&(T.openrouterApiKey=x),Object.keys(T).length===0){S("Please enter at least one API key"),w(!1);return}await de({url:"/api/organization/settings/api-keys",method:"PUT",data:T});const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings),h(""),p(""),v(""),C("API keys saved successfully")}catch(T){const M=T instanceof Ce?T.message:"Failed to save API keys";S(M)}finally{w(!1)}},j=async T=>{if(confirm(`Are you sure you want to delete ${T}?`))try{await de({url:`/api/organization/settings/api-keys/${T}`,method:"DELETE"});const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings),C(`${T} deleted successfully`)}catch(M){const L=M instanceof Ce?M.message:"Failed to delete API key";S(L)}},P=async()=>{o(!0);try{await de({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(T){const M=T instanceof Ce?T.message:"Failed to update profile";console.error("Save failed:",T),alert(M)}finally{o(!1)}},E=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await de({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(T){const M=T instanceof Ce?T.message:"Failed to logout from all devices";console.error("Logout all failed:",T),alert(M)}};return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:T=>n(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:P,disabled:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),a.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),y&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),_&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:_}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",l.anthropicApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.anthropicApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:d,onChange:T=>h(T.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",a.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",l.openaiApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openaiApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:m,onChange:T=>p(T.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",l.openrouterApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openrouterApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:x,onChange:T=>v(T.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:O,disabled:b||!d&&!m&&!x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Save API Keys"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function DI(){var M;const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!0),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(null),_=(M=y==null?void 0:y.text)==null?void 0:M.toLowerCase().includes("circuit breaker"),C=async()=>{w(!0);try{await de({url:"/health/circuits/reset",method:"POST",data:{name:"notion-api"}}),S({type:"success",text:"Circuit breaker reset. Please try again."})}catch{S({type:"error",text:"Failed to reset circuit breaker"})}finally{w(!1)}};k.useEffect(()=>{O()},[]);const O=async()=>{try{const L=await de({url:"/api/notion/connection",method:"GET"});t(L.connection),u(L.connection.defaultDatabaseId||""),await j()}catch(L){if(L instanceof Ce&&L.status===404){t(null);return}console.error("Fetch connection error:",L)}finally{h(!1)}},j=async()=>{try{const L=await de({url:"/api/notion/databases",method:"GET"});n(L.databases||[])}catch(L){console.error("Fetch databases error:",L)}},P=async()=>{if(!i){S({type:"error",text:"Please enter an API key"});return}v(!0),S(null);try{const L=await de({url:"/api/notion/test",method:"POST",data:{apiKey:i}});L.success?S({type:"success",text:`Connection successful! Found ${L.databaseCount||0} databases.`}):S({type:"error",text:L.error||"Connection failed"})}catch(L){const R=L instanceof Ce?L.message:"Failed to test connection";S({type:"error",text:R})}finally{v(!1)}},E=async()=>{if(!i){S({type:"error",text:"Please enter an API key"});return}p(!0),S(null);try{const R=await de({url:"/api/notion/connection",method:e?"PUT":"POST",data:{apiKey:i,defaultDatabaseId:l}});t(R.connection),S({type:"success",text:"Notion connection saved successfully"}),await j(),o("")}catch(L){const R=L instanceof Ce?L.message:"Failed to save connection";S({type:"error",text:R})}finally{p(!1)}},T=async()=>{if(confirm("Are you sure you want to delete the Notion connection?")){p(!0),S(null);try{await de({url:"/api/notion/connection",method:"DELETE"}),t(null),n([]),u(""),S({type:"success",text:"Notion connection deleted"})}catch(L){const R=L instanceof Ce?L.message:"Failed to delete connection";S({type:"error",text:R})}finally{p(!1)}}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Notion integration for workflows"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:y.text}),_&&a.jsx("button",{onClick:C,disabled:b,className:"ml-4 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 disabled:opacity-50",children:b?"Resetting...":"Reset Circuit Breaker"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Key"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notion Internal Integration Token"}),a.jsx("input",{id:"apiKey",type:"password",value:i,onChange:L=>o(L.target.value),placeholder:e?"":"secret_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Create an integration at"," ",a.jsx("a",{href:"https://www.notion.so/my-integrations",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"notion.so/my-integrations"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:P,disabled:x||!i,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Testing...":"Test Connection"}),a.jsx("button",{onClick:E,disabled:m||!i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:T,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Databases"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultDb",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Database (optional)"}),a.jsxs("select",{id:"defaultDb",value:l,onChange:L=>u(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Select a database --"}),r.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(L=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:L.title}),a.jsx("p",{className:"text-sm text-gray-500 font-mono",children:L.id})]}),a.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion "})]})},L.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion integration is connected, but it doesn't have access to any databases yet."}),a.jsxs("div",{className:"bg-yellow-100 rounded-md p-4 mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:"How to grant access:"}),a.jsxs("ol",{className:"text-sm text-yellow-700 list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Open the database you want to connect in Notion"}),a.jsxs("li",{children:["Click the ",a.jsx("strong",{children:"..."})," menu in the top-right corner"]}),a.jsxs("li",{children:["Select ",a.jsx("strong",{children:"Connections"})," (or Add connections)"]}),a.jsx("li",{children:"Find and add your integration"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",a.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),a.jsxs("button",{onClick:()=>j(),className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:[a.jsx("svg",{className:"mr-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Databases"]})]})]})]})}function LI(){const[e,t]=Hv(),[r,n]=k.useState(null),[i,o]=k.useState(!0),[l,u]=k.useState(!1),[d,h]=k.useState(!1),[m,p]=k.useState(null),[x,v]=k.useState(""),[b,w]=k.useState(""),[y,S]=k.useState("");k.useEffect(()=>{const T=e.get("success"),M=e.get("error");T==="true"?(p({type:"success",text:"Slack workspace connected successfully!"}),t({})):M&&(p({type:"error",text:{access_denied:"You denied the Slack authorization request",missing_params:"Missing required parameters from Slack",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack",server_error:"Server error occurred. Please try again.",credentials_not_configured:"Please configure your Slack App credentials first, then click 'Add to Slack'.",slack_not_configured:"Please configure your Slack App credentials first, then click 'Add to Slack'."}[M]||`Error: ${M}`}),t({})),_()},[e,t]);const _=async()=>{try{const T=await de({url:"/api/slack/integration",method:"GET"});n(T.integration)}catch(T){if(T instanceof Ce&&T.status===404){n(null);return}console.error("Fetch integration error:",T)}finally{o(!1)}},C=async T=>{T.preventDefault(),h(!0),p(null);try{await de({url:"/api/slack/credentials",method:"POST",data:{clientId:x,clientSecret:b,signingSecret:y}}),p({type:"success",text:"Slack App credentials saved. You can now connect your workspace."}),v(""),w(""),S(""),await _()}catch{p({type:"error",text:"Failed to save credentials. Please check your input."})}finally{h(!1)}},O=()=>{window.location.href="/api/slack/oauth/install"},j=async()=>{if(confirm("Are you sure you want to disconnect Slack? This will remove all credentials.")){u(!0),p(null);try{await de({url:"/api/slack/integration",method:"DELETE"}),n(null),p({type:"success",text:"Slack disconnected successfully"})}catch{p({type:"error",text:"Failed to disconnect Slack"})}finally{u(!1)}}};if(i)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const P=(r==null?void 0:r.hasCredentials)??!1,E=(r==null?void 0:r.hasWorkspace)??!1;return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),m&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${m.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:m.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-medium ${P?"bg-green-100 text-green-600":"bg-indigo-100 text-indigo-600"}`,children:P?"":"1"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configure Slack App"})]}),P?a.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-sm",children:"Slack App credentials configured"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["First, create a Slack App at"," ",a.jsx("a",{href:"https://api.slack.com/apps",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"api.slack.com/apps"}),", then enter your app credentials below."]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Required OAuth Redirect URL:"}),a.jsx("code",{className:"text-xs bg-gray-200 px-2 py-1 rounded block overflow-x-auto",children:"https://app.nubabel.com/api/slack/oauth/callback"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add this URL to your Slack App's OAuth & Permissions  Redirect URLs"})]}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),a.jsx("input",{type:"text",id:"clientId",value:x,onChange:T=>v(T.target.value),placeholder:"Your Slack App Client ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientSecret",className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Secret"}),a.jsx("input",{type:"password",id:"clientSecret",value:b,onChange:T=>w(T.target.value),placeholder:"Your Slack App Client Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"signingSecret",className:"block text-sm font-medium text-gray-700 mb-1",children:"Signing Secret"}),a.jsx("input",{type:"password",id:"signingSecret",value:y,onChange:T=>S(T.target.value),placeholder:"Your Slack App Signing Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Found in Basic Information  App Credentials"})]}),a.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Saving...":"Save Credentials"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-medium ${E?"bg-green-100 text-green-600":P?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-400"}`,children:E?"":"2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Connect Workspace"})]}),E&&r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Installed:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:r.installedAt?new Date(r.installedAt).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(T=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:T},T))})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:O,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),a.jsx("button",{onClick:j,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:P?"":"opacity-50",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:P?"Click the button below to authorize Nubabel in your Slack workspace.":"Configure your Slack App credentials first."}),a.jsxs("button",{onClick:O,disabled:!P,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Add to Slack"]})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Create a Slack App"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Go to"," ",a.jsx("a",{href:"https://api.slack.com/apps",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"api.slack.com/apps"})," ","and create a new app from scratch."]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Configure OAuth"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add the redirect URL above to OAuth & Permissions, then enter your credentials."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect Your Workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Add to Slack" to authorize and start using AI automation.'})]})]})]})]})]})}function FI(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(""),[m,p]=k.useState(!0),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(null);k.useEffect(()=>{_()},[]);const _=async()=>{try{const E=await de({url:"/api/google-calendar/connection",method:"GET"});t(E.connection),h(E.connection.calendarId||""),await C()}catch(E){if(E instanceof Ce&&E.status===404){t(null);return}console.error("Fetch connection error:",E)}finally{p(!1)}},C=async()=>{try{const E=await de({url:"/api/google-calendar/calendars",method:"GET"});n(E.calendars||[])}catch(E){console.error("Fetch calendars error:",E)}},O=async()=>{if(!i){S({type:"error",text:"Please enter an access token"});return}w(!0),S(null);try{const E=await de({url:"/api/google-calendar/test",method:"POST",data:{accessToken:i,refreshToken:l||void 0}});E.success?S({type:"success",text:`Connection successful! Email: ${E.email}, ${E.calendars||0} calendars found.`}):S({type:"error",text:E.error||"Connection failed"})}catch(E){const T=E instanceof Ce?E.message:"Failed to test connection";S({type:"error",text:T})}finally{w(!1)}},j=async()=>{if(!i){S({type:"error",text:"Please enter an access token"});return}v(!0),S(null);try{const T=await de({url:"/api/google-calendar/connection",method:e?"PUT":"POST",data:{accessToken:i,refreshToken:l||void 0,calendarId:d||void 0}});t(T.connection),S({type:"success",text:"Google Calendar connection saved successfully"}),await C(),o(""),u("")}catch(E){const T=E instanceof Ce?E.message:"Failed to save connection";S({type:"error",text:T})}finally{v(!1)}},P=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){v(!0),S(null);try{await de({url:"/api/google-calendar/connection",method:"DELETE"}),t(null),n([]),h(""),S({type:"success",text:"Google Calendar connection deleted"})}catch(E){const T=E instanceof Ce?E.message:"Failed to delete connection";S({type:"error",text:T})}finally{v(!1)}}};return m?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:y.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),a.jsx("input",{id:"accessToken",type:"password",value:i,onChange:E=>o(E.target.value),placeholder:e?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),a.jsx("input",{id:"refreshToken",type:"password",value:l,onChange:E=>u(E.target.value),placeholder:e?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",a.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:O,disabled:b||!i,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Testing...":"Test Connection"}),a.jsx("button",{onClick:j,disabled:x||!i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:P,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),a.jsxs("select",{id:"defaultCalendar",value:d,onChange:E=>h(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Primary Calendar --"}),r.map(E=>a.jsxs("option",{value:E.id,children:[E.summary," ",E.primary?"(Primary)":""]},E.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(E=>a.jsx("div",{className:`p-4 border rounded-lg transition ${E.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:[E.summary,E.primary&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),E.description&&a.jsx("p",{className:"text-sm text-gray-500",children:E.description}),a.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:E.id})]})})},E.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),a.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),a.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),a.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function BI({organizationId:e,isOpen:t,onClose:r,onSuccess:n}){const[i,o]=k.useState(""),[l,u]=k.useState("member"),[d,h]=k.useState(!1),[m,p]=k.useState(null),x=async()=>{if(!i.trim()){p("Email is required");return}h(!0),p(null);try{await de({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:i.trim(),role:l}}),n(),r(),o(""),u("member")}catch(v){const b=v instanceof Ce?v.message:"Failed to invite member";p(b)}finally{h(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),m&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",value:l,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"admin",children:"Admin - Full access"}),a.jsx("option",{value:"member",children:"Member - Can execute workflows"}),a.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function qI({userId:e,currentRole:t,organizationId:r,currentUserId:n,onSuccess:i}){const[o,l]=k.useState(!1),u=e===n,d=async h=>{if(h!==t){l(!0);try{await de({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:h}}),i()}catch(m){const p=m instanceof Ce?m.message:"Failed to update role";alert(p)}finally{l(!1)}}};return a.jsxs("select",{value:t,onChange:h=>d(h.target.value),disabled:o||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${o?"opacity-50":""}`,children:[a.jsx("option",{value:"owner",children:"Owner"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})}function zI(){const{currentOrganization:e,user:t}=wn(),[r,n]=k.useState([]),[i,o]=k.useState(!0),[l,u]=k.useState(!1),d=e==null?void 0:e.id,h=t==null?void 0:t.id,m=async()=>{if(d)try{const v=await de({url:`/api/organizations/${d}/members`,method:"GET"});n(v.members)}catch(v){console.error("Failed to fetch members:",v)}finally{o(!1)}};k.useEffect(()=>{m()},[d]);const p=async(v,b)=>{if(confirm(`Are you sure you want to remove ${b} from this organization?`))try{await de({url:`/api/organizations/${d}/members/${v}`,method:"DELETE"}),m()}catch(w){const y=w instanceof Ce?w.message:"Failed to remove member";alert(y)}},x=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),a.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their roles"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:v.avatarUrl?a.jsx("img",{className:"h-10 w-10 rounded-full",src:v.avatarUrl,alt:v.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:v.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.name,v.userId===h&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d&&h&&a.jsx(qI,{userId:v.userId,currentRole:v.role,organizationId:d,currentUserId:h,onSuccess:m})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.status==="active"?"Active":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.joinedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.userId!==h&&a.jsx("button",{onClick:()=>p(v.userId,v.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},v.id))})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),d&&a.jsx(BI,{organizationId:d,isOpen:l,onClose:()=>u(!1),onSuccess:m})]})}function UI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState("pending"),[d,h]=k.useState("all"),[m,p]=k.useState({page:1,total:0,totalPages:0}),[x,v]=k.useState(null),b=async()=>{n(!0),o(null);try{const O=await de({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:m.page,limit:20}});t(O.approvals),p({page:O.pagination.page,total:O.pagination.total,totalPages:O.pagination.totalPages})}catch(O){const j=O instanceof Ce?O.message:"Failed to fetch approvals";o(j)}finally{n(!1)}};k.useEffect(()=>{b()},[l,d,m.page]);const w=async(O,j)=>{v(O);try{await de({url:`/api/approvals/${O}/respond`,method:"PUT",data:{action:j}}),b()}catch(P){const E=P instanceof Ce?P.message:"Failed to respond to approval";o(E)}finally{v(null)}},y=O=>{const j={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j[O]}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},S=O=>{const j={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j[O].bg}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},_=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=O=>new Date(O)<new Date;return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),a.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),i&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:i}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l,onChange:O=>{u(O.target.value),p(j=>({...j,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"all",children:"All"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d,onChange:O=>{h(O.target.value),p(j=>({...j,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"budget",children:"Budget"}),a.jsx("option",{value:"deployment",children:"Deployment"}),a.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"inbox":"check-circle"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),a.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:O.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(O.type)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(O.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(O.expiresAt)?a.jsx("span",{className:"text-red-600",children:"Expired"}):_(O.expiresAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.status==="pending"&&!C(O.expiresAt)?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(O.id,"approved"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===O.id?"...":"Approve"}),a.jsx("button",{onClick:()=>w(O.id,"rejected"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===O.id?"...":"Reject"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:O.respondedAt?_(O.respondedAt):"-"})})]},O.id))})]}),m.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",m.page," of ",m.totalPages," (",m.total," total)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>p(O=>({...O,page:O.page-1})),disabled:m.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>p(O=>({...O,page:O.page+1})),disabled:m.page>=m.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const WI=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function KI(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:n=10,onEvent:i}=e,[o,l]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(null),p=k.useRef(null),x=k.useRef(0),v=k.useRef(null),b=k.useRef(i),w=k.useRef([]);k.useEffect(()=>{b.current=i},[i]);const y=k.useCallback(()=>{p.current&&(w.current.forEach(({type:C,handler:O})=>{var j;(j=p.current)==null||j.removeEventListener(C,O)}),w.current=[],p.current.close(),p.current=null),v.current&&(clearTimeout(v.current),v.current=null)},[]),S=k.useCallback(()=>{y();const O=`${t}`;try{const j=new EventSource(O,{withCredentials:!0});p.current=j,j.onopen=()=>{l(!0),m(null),x.current=0},j.onerror=()=>{if(l(!1),y(),x.current<n){const P=r*Math.pow(2,x.current);x.current+=1,v.current=setTimeout(()=>{S()},P)}else m("Failed to connect to server. Please refresh the page.")},j.onmessage=P=>{var E;try{const T=JSON.parse(P.data),M={type:T.type||"message",data:T.data||T,timestamp:Date.now()};d(M),(E=b.current)==null||E.call(b,M)}catch{P.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",P.data)}},WI.forEach(P=>{const E=T=>{var M;try{const R=JSON.parse(T.data),F={type:P,data:R,timestamp:Date.now()};d(F),(M=b.current)==null||M.call(b,F)}catch(L){console.warn(`Failed to parse ${P} event:`,L)}};j.addEventListener(P,E),w.current.push({type:P,handler:E})})}catch(j){m("Failed to create EventSource connection"),console.error("SSE connection error:",j)}},[t,r,n,y]),_=k.useCallback(()=>{x.current=0,S()},[S]);return k.useEffect(()=>(S(),y),[S,y]),{isConnected:o,lastEvent:u,error:h,reconnect:_}}function HI(){const[e,t]=k.useState([]),[r,n]=k.useState("all"),i=k.useCallback(v=>{const b={id:`${v.timestamp}-${Math.random().toString(36).slice(2)}`,type:v.type,data:v.data,timestamp:v.timestamp};t(w=>[b,...w].slice(0,100))},[]),{isConnected:o,error:l,reconnect:u}=KI({url:"/api/events",onEvent:i}),d=e.filter(v=>r==="all"?!0:v.type===r),h=v=>v.includes("started")?"bg-blue-100 text-blue-800":v.includes("completed")?"bg-green-100 text-green-800":v.includes("failed")||v.includes("error")?"bg-red-100 text-red-800":v.includes("progress")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",m=v=>v.includes("started")?"":v.includes("completed")?"":v.includes("failed")?"":v.includes("progress")?"":v.includes("notification")?"":"",p=v=>new Date(v).toLocaleTimeString(),x=["all","execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),a.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of agent operations"})]}),a.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:o?"Connected":"Disconnected"})]}),!o&&a.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),l&&a.jsx("span",{className:"text-sm text-red-600",children:l})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:x.map(v=>a.jsx("button",{onClick:()=>n(v),className:`px-3 py-1 rounded-full text-sm ${r===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v==="all"?"All Events":v.replace(":",": ")},v))}),a.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:["Showing ",d.length," events",r!=="all"&&` (filtered by ${r})`]}),d.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Waiting for events..."}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Events will appear here in real-time as agents execute workflows"})]}):a.jsx("div",{className:"space-y-3",children:d.map(v=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:m(v.type)}),a.jsxs("div",{children:[a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${h(v.type)}`,children:v.type}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p(v.timestamp)})]})]})}),Object.keys(v.data).length>0&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm",children:a.jsx("pre",{className:"text-gray-700 overflow-x-auto",children:JSON.stringify(v.data,null,2)})})]},v.id))}),e.length>0&&a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>t([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all events"})})]})}const Qo={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function $u(e){return e<1?`${Math.round(e*1e3)}ms`:e<60?`${e.toFixed(1)}s`:`${Math.floor(e/60)}m ${Math.round(e%60)}s`}function DN(e){return new Date(e).toLocaleString()}function Du(e){return e>=95?"text-green-600":e>=80?"text-yellow-600":"text-red-600"}function GI(e){return e>=95?"bg-green-100":e>=80?"bg-yellow-100":"bg-red-100"}function VI(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(null),[x,v]=k.useState(!0),[b,w]=k.useState(null),y=k.useCallback(async()=>{try{const[j,P,E]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!j.ok||!P.ok||!E.ok)throw new Error("Failed to fetch metrics");const T=await j.json(),M=await P.json(),L=await E.json();t(T.agents||[]),n(M.tools||[]),o(L.delegations||[]),p(T.timestamp),h(null)}catch(j){h(j instanceof Error?j.message:"Unknown error")}finally{u(!1)}},[]);k.useEffect(()=>{y()},[y]),k.useEffect(()=>{if(!x)return;const j=setInterval(y,3e4);return()=>clearInterval(j)},[x,y]);const S=e.reduce((j,P)=>j+P.activeSessions,0),_=e.reduce((j,P)=>j+P.totalExecutions,0),C=e.length>0?e.reduce((j,P)=>j+P.successRate,0)/e.length:0,O=b?e.find(j=>j.agentId===b):null;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),a.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:j=>v(j.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),a.jsx("button",{onClick:y,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Refreshing...":"Refresh"})]})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:S}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:S===0?"No active agents":"Currently running"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-3xl font-bold ${Du(C)}`,children:[C.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r.reduce((j,P)=>j+P.totalCalls,0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),l?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(j=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},j))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(j=>a.jsxs("div",{onClick:()=>w(j.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${b===j.agentId?"ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:Qo[j.agentId]||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),a.jsx("p",{className:"text-sm text-gray-500",children:j.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Executions"}),a.jsx("p",{className:"font-semibold",children:j.totalExecutions})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Success Rate"}),a.jsxs("p",{className:`font-semibold ${Du(j.successRate)}`,children:[j.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),a.jsx("p",{className:"font-semibold",children:$u(j.avgDuration)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),a.jsx("p",{className:"font-semibold",children:$u(j.p95Duration)})]})]}),j.activeSessions>0&&a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-green-600",children:[j.activeSessions," active session",j.activeSessions>1?"s":""]})]}),j.lastError&&a.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[a.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",j.lastError.message]}),a.jsx("p",{className:"text-red-400 text-xs",children:DN(j.lastError.timestamp)})]})]},j.agentId))})]}),O&&a.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Qo[O.agentId]||""," ",O.name," Details"]}),a.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:`p-3 rounded-lg ${GI(O.successRate)}`,children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:`text-2xl font-bold ${Du(O.successRate)}`,children:[O.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O.errorRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$u(O.avgDuration)})]}),a.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:$u(O.p95Duration)})]})]}),O.topTools.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:O.topTools.map(j=>a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[j.name," (",j.count,")"]},j.name))})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):r.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),a.jsx("tbody",{children:r.slice(0,10).map(j=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:j.toolName}),a.jsx("td",{className:"text-right py-2 px-3",children:j.totalCalls}),a.jsxs("td",{className:`text-right py-2 px-3 ${Du(j.successRate)}`,children:[j.successRate.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex gap-1",children:j.agentUsage.slice(0,3).map(P=>a.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${P.callCount} calls`,children:[Qo[P.agentId]||""," ",P.callCount]},P.agentId))})})]},j.toolName))})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):i.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsx("div",{className:"space-y-4",children:i.map(j=>a.jsxs("div",{className:"border-b pb-4 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:Qo[j.fromAgent]||""}),a.jsx("span",{className:"font-semibold capitalize",children:j.fromAgent}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-sm text-gray-500",children:[j.totalDelegations," delegations (",j.successRate.toFixed(1),"% success)"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:j.targets.map(P=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[a.jsx("span",{children:Qo[P.toAgent]||""}),a.jsx("span",{className:"capitalize",children:P.toAgent}),a.jsxs("span",{className:"text-gray-400",children:["(",P.count,")"]})]},P.toAgent))})]},j.fromAgent))})})]}),m&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",DN(m)]})]})}function YI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(0),m=20;k.useEffect(()=>{(async()=>{try{n(!0);const b=new URLSearchParams({limit:m.toString(),offset:d.toString()});i&&b.append("type",i),l&&b.append("impactLevel",l);const w=await de({url:`/api/org-changes?${b.toString()}`,method:"GET"});t(w.data||[])}catch(b){console.error("Failed to fetch organization changes:",b)}finally{n(!1)}})()},[i,l,d]);const p=v=>{switch(v){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{switch(v){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),a.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),a.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:i,onChange:v=>{o(v.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"new_member",children:"New Member"}),a.jsx("option",{value:"role_change",children:"Role Change"}),a.jsx("option",{value:"workflow_added",children:"Workflow Added"}),a.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),a.jsx("option",{value:"integration_added",children:"Integration Added"}),a.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),a.jsxs("select",{value:l,onChange:v=>{u(v.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Impact Levels"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),a.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.jsx("span",{className:"mr-2",children:x(v.type)}),v.type.replace(/_/g," ")]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:v.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${p(v.impactLevel)}`,children:v.impactLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.createdAt).toLocaleString()})]},v.id))})]})}),e.length>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>h(Math.max(0,d-m)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+m,d+e.length)]}),a.jsx("button",{onClick:()=>h(d+m),disabled:e.length<m,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function XI({isOpen:e,onClose:t,onSuccess:r,objective:n,defaultQuarter:i,currentUserId:o}){const[l,u]=k.useState({title:"",description:"",quarter:i,ownerId:o,status:"on_track"}),[d,h]=k.useState(!1),[m,p]=k.useState(null);k.useEffect(()=>{u(n?{title:n.title,description:n.description||"",quarter:n.quarter,ownerId:n.ownerId,status:n.status}:{title:"",description:"",quarter:i,ownerId:o,status:"on_track"})},[n,i,o]);const x=async()=>{if(!l.title.trim()){p("Title is required");return}h(!0),p(null);try{n?await de({url:`/api/okr/${n.id}`,method:"PUT",data:l}):await de({url:"/api/okr",method:"POST",data:l}),r(),t()}catch(v){const b=v instanceof Ce?v.message:"Failed to save objective";p(b)}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Objective":"New Objective"}),m&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:l.title,onChange:v=>u({...l,title:v.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:v=>u({...l,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),a.jsx("input",{type:"text",value:l.quarter,onChange:v=>u({...l,quarter:v.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:v=>u({...l,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"on_track",children:"On Track"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":n?"Save Changes":"Create Objective"})]})]})})}):null}function QI({isOpen:e,onClose:t,onSuccess:r,objectiveId:n,keyResult:i}){const[o,l]=k.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[u,d]=k.useState(!1),[h,m]=k.useState(null);k.useEffect(()=>{l(i?{title:i.title,target:String(i.target),current:String(i.current),unit:i.unit,ownerId:i.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[i]);const p=async()=>{if(!o.title.trim()){m("Title is required");return}d(!0),m(null);try{const x={title:o.title,target:Number(o.target),current:Number(o.current),unit:o.unit,ownerId:o.ownerId||null};i?await de({url:`/api/okr/key-results/${i.id}`,method:"PUT",data:x}):await de({url:`/api/okr/${n}/key-results`,method:"POST",data:x}),r(),t()}catch(x){const v=x instanceof Ce?x.message:"Failed to save key result";m(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i?"Edit Key Result":"New Key Result"}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:o.title,onChange:x=>l({...o,title:x.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),a.jsx("input",{type:"number",value:o.target,onChange:x=>l({...o,target:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),a.jsx("input",{type:"number",value:o.current,onChange:x=>l({...o,current:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{value:o.unit,onChange:x=>l({...o,unit:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"%",children:"%"}),a.jsx("option",{value:"count",children:"Count"}),a.jsx("option",{value:"$",children:"$"}),a.jsx("option",{value:"score",children:"Score"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":i?"Save Changes":"Add Key Result"})]})]})})}):null}function JI({progress:e,status:t}){const r=()=>t==="behind"?"bg-red-500":t==="at_risk"?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${r()}`,style:{width:`${Math.min(e,100)}%`}})})}function ZI({status:e}){const t={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},r={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.on_track}`,children:r[e]||e})}function e$({objective:e,onEdit:t,onDelete:r,onAddKeyResult:n,onEditKeyResult:i,onUpdateKeyResultProgress:o}){const[l,u]=k.useState(!0);return a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx(ZI,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsx(JI,{progress:e.progress,status:e.status})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:a.jsx("span",{className:"text-lg",children:""})})]})]}),a.jsxs("div",{className:"mt-4 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("button",{onClick:()=>u(!l),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[a.jsx("span",{children:l?"":""}),"Key Results (",e.keyResults.length,")"]}),a.jsx("button",{onClick:()=>n(e.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),l&&a.jsx("div",{className:"space-y-3",children:e.keyResults.length===0?a.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):e.keyResults.map(d=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.title}),a.jsx("button",{onClick:()=>i(d),className:"text-gray-400 hover:text-gray-600",children:a.jsx("span",{className:"text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(d.progress,100)}%`}})})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"number",value:d.current,onChange:h=>o(d.id,Number(h.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),a.jsxs("span",{className:"text-gray-500",children:["/ ",d.target," ",d.unit]}),a.jsxs("span",{className:"font-medium text-gray-700",children:["(",d.progress,"%)"]})]})]})]},d.id))})]})]})})}function t$(){const{user:e}=wn(),[t,r]=k.useState([]),[n,i]=k.useState([]),[o,l]=k.useState(""),[u,d]=k.useState(!0),[h,m]=k.useState(null),[p,x]=k.useState(!1),[v,b]=k.useState(null),[w,y]=k.useState(!1),[S,_]=k.useState(""),[C,O]=k.useState(null),j=()=>{const B=new Date;return`${B.getFullYear()}-Q${Math.ceil((B.getMonth()+1)/3)}`},P=async()=>{try{const B=await de({url:"/api/okr/meta/quarters",method:"GET"});i(B.quarters),B.quarters.length>0&&!o&&l(B.quarters[0])}catch(B){console.error("Failed to fetch quarters:",B)}},E=async()=>{if(o){d(!0),m(null);try{const B=await de({url:"/api/okr",method:"GET",params:{quarter:o}});r(B.objectives)}catch(B){const $=B instanceof Ce?B.message:"Failed to fetch objectives";m($)}finally{d(!1)}}};k.useEffect(()=>{P()},[]),k.useEffect(()=>{o&&E()},[o]);const T=async B=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await de({url:`/api/okr/${B}`,method:"DELETE"}),E()}catch($){const z=$ instanceof Ce?$.message:"Failed to delete objective";m(z)}},M=async(B,$)=>{try{await de({url:`/api/okr/key-results/${B}`,method:"PUT",data:{current:$}}),E()}catch(z){console.error("Failed to update key result:",z)}},L=()=>{b(null),x(!0)},R=B=>{b(B),x(!0)},F=B=>{_(B),O(null),y(!0)},U=B=>{_(B.objectiveId),O(B),y(!0)},W=t.length>0?Math.round(t.reduce((B,$)=>B+$.progress,0)/t.length):0;return u&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),a.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),a.jsx("select",{value:o,onChange:B=>l(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:n.map(B=>a.jsx("option",{value:B,children:B},B))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," objective",t.length!==1?"s":""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${W}%`}})}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[W,"%"]})]})]})]}),t.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),a.jsx("button",{onClick:L,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):a.jsx("div",{className:"space-y-6",children:t.map(B=>a.jsx(e$,{objective:B,onEdit:R,onDelete:T,onAddKeyResult:F,onEditKeyResult:U,onUpdateKeyResultProgress:M},B.id))}),a.jsx(XI,{isOpen:p,onClose:()=>x(!1),onSuccess:()=>{E(),P()},objective:v,defaultQuarter:o||j(),currentUserId:(e==null?void 0:e.id)||""}),a.jsx(QI,{isOpen:w,onClose:()=>y(!1),onSuccess:E,objectiveId:S,keyResult:C})]})}function r$({agent:e,onEdit:t,onDelete:r,onViewActivity:n,onToggleEnabled:i}){const[o,l]=k.useState(!1),[u,d]=k.useState(!1),h=async()=>{if(!(!i||u)){d(!0);try{await i(e,!e.enabled)}finally{d(!1)}}},m=p=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[p]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m(e.function)}`,children:e.function}),i&&a.jsx("button",{onClick:h,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(p=>({id:p,name:p}))).map(p=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:p.name},p.id)),e.skills.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),a.jsxs("button",{onClick:()=>l(!o),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[o?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(p=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:p},p)),e.tools.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(p=>a.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:p},p)),e.routing_keywords.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Read:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(p=>a.jsx("li",{className:"text-green-700 font-mono",children:p},p)),e.permissions.read.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Write:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(p=>a.jsx("li",{className:"text-yellow-700 font-mono",children:p},p)),e.permissions.write.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[a.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const n$=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function a$({isOpen:e,onClose:t,onSuccess:r,agent:n,availableSkills:i,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[h,m]=k.useState(""),[p,x]=k.useState(""),[v,b]=k.useState(""),[w,y]=k.useState(!1),[S,_]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,function:n.function,description:n.description,skills:[...n.skills],tools:[...n.tools],routing_keywords:[...n.routing_keywords],permissions:{read:[...n.permissions.read],write:[...n.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),_(null)},[n,e]);const C=async F=>{F.preventDefault(),y(!0),_(null);try{l?await de({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await de({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(U){const W=U instanceof Ce?U.message:"Failed to save agent";_(W)}finally{y(!1)}},O=()=>{h.trim()&&!u.routing_keywords.includes(h.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,h.trim()]}),m(""))},j=F=>{d({...u,routing_keywords:u.routing_keywords.filter(U=>U!==F)})},P=()=>{p.trim()&&!u.permissions.read.includes(p.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,p.trim()]}}),x(""))},E=F=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(U=>U!==F)}})},T=()=>{v.trim()&&!u.permissions.write.includes(v.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,v.trim()]}}),b(""))},M=F=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(U=>U!==F)}})},L=F=>{const U=u.skills.includes(F)?u.skills.filter(W=>W!==F):[...u.skills,F];d({...u,skills:U})},R=F=>{const U=u.tools.includes(F)?u.tools.filter(W=>W!==F):[...u.tools,F];d({...u,tools:U})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:F=>d({...u,id:F.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:F=>d({...u,name:F.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{id:"function",value:u.function,onChange:F=>d({...u,function:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:n$.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:F=>d({...u,description:F.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[i.map(F=>a.jsx("button",{type:"button",onClick:()=>L(F.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes(F.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:F.name},F.id)),i.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(F=>a.jsx("button",{type:"button",onClick:()=>R(F.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes(F.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:F.description,children:F.name},F.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),O()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map(F=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[F,a.jsx("button",{type:"button",onClick:()=>j(F),className:"text-orange-600 hover:text-orange-800",children:""})]},F))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:p,onChange:F=>x(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),P()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map(F=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-green-700",children:F}),a.jsx("button",{type:"button",onClick:()=>E(F),className:"text-green-600 hover:text-green-800",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:F=>b(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),T()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map(F=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-yellow-700",children:F}),a.jsx("button",{type:"button",onClick:()=>M(F),className:"text-yellow-600 hover:text-yellow-800",children:""})]},F))})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function i$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(!1),[x,v]=k.useState(null),[b,w]=k.useState([]),[y,S]=k.useState(null),[_,C]=k.useState(""),[O,j]=k.useState("all"),P=async()=>{try{const $=await de({url:"/api/admin/pending-prs?type=agent",method:"GET"});w($.pullRequests)}catch($){console.error("Failed to fetch pending PRs:",$)}},E=async()=>{try{const $=await de({url:"/api/admin/agents",method:"GET"});t($.agents)}catch($){const z=$ instanceof Ce?$.message:"Failed to fetch agents";h(z)}},T=async()=>{try{const $=await de({url:"/api/admin/skills",method:"GET"});n($.skills.map(z=>({id:z.id,name:z.name})))}catch($){console.error("Failed to fetch skills:",$)}},M=async()=>{try{const $=await de({url:"/api/admin/tools",method:"GET"});o($.tools)}catch($){console.error("Failed to fetch tools:",$)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),T(),M(),P()]),u(!1)})()},[]);const L=()=>{v(null),p(!0)},R=$=>{v($),p(!0)},F=async $=>{if(confirm(`Are you sure you want to delete "${$.name}"? This will create a PR.`))try{const z=await de({url:`/api/admin/agents/${$.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${z.pullRequest.html_url}`),E(),P()}catch(z){const V=z instanceof Ce?z.message:"Failed to delete agent";h(V)}},U=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),P()},W=$=>{window.location.href=`/activity?agent=${$.id}`},B=async($,z)=>{try{const V=await de({url:`/api/admin/agents/${$.id}`,method:"PUT",data:{...$,enabled:z}});S(`PR created to ${z?"enable":"disable"} agent. View at: ${V.pullRequest.html_url}`),E(),P()}catch(V){const G=V instanceof Ce?V.message:"Failed to toggle agent status";h(G)}};return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map($=>$.function)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap($=>$.skills)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap($=>$.tools)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:_,onChange:$=>C($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:O,onChange:$=>j($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map($=>$.function))).map($=>a.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]})})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map($=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:$.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",$.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:$.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:$.author_avatar,alt:$.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:$.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:$.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},$.number))})]})})]}),(()=>{const $=e.filter(z=>{const V=_.toLowerCase(),G=!V||z.name.toLowerCase().includes(V)||z.id.toLowerCase().includes(V)||z.description.toLowerCase().includes(V)||z.routing_keywords.some(q=>q.toLowerCase().includes(V)),D=O==="all"||z.function===O;return G&&D});return e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),a.jsx("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):$.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),a.jsx("button",{onClick:()=>{C(""),j("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:$.map(z=>a.jsx(r$,{agent:z,onEdit:R,onDelete:F,onViewActivity:W,onToggleEnabled:B},z.id))})})(),a.jsx(a$,{isOpen:m,onClose:()=>p(!1),onSuccess:U,agent:x,availableSkills:r,availableTools:i})]})}function s$({skill:e,onEdit:t,onDelete:r}){var l;const[n,i]=k.useState(!1),o=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-white",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.category)}`,children:e.category})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>a.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||a.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),a.jsxs("button",{onClick:()=>i(!n),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[n?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&a.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const o$=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],LN=["string","number","boolean","object","array"];function l$({isOpen:e,onClose:t,onSuccess:r,skill:n,availableAgents:i,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[h,m]=k.useState(""),[p,x]=k.useState({name:"",type:"string",description:"",required:!1,default:""}),[v,b]=k.useState({name:"",type:"string",description:""}),[w,y]=k.useState(!1),[S,_]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,description:n.description,category:n.category,triggers:[...n.triggers],parameters:n.parameters?[...n.parameters]:[],outputs:n.outputs?[...n.outputs]:[],tools_required:[...n.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),_(null)},[n,e]);const C=async R=>{R.preventDefault(),y(!0),_(null);try{l?await de({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await de({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch(F){const U=F instanceof Ce?F.message:"Failed to save skill";_(U)}finally{y(!1)}},O=()=>{h.trim()&&!u.triggers.includes(h.trim())&&(d({...u,triggers:[...u.triggers,h.trim()]}),m(""))},j=R=>{d({...u,triggers:u.triggers.filter((F,U)=>U!==R)})},P=()=>{if(p.name.trim()&&p.description.trim()){const R={name:p.name.trim(),type:p.type,description:p.description.trim(),required:p.required};if(p.default.trim())try{R.default=JSON.parse(p.default)}catch{R.default=p.default}d({...u,parameters:[...u.parameters,R]}),x({name:"",type:"string",description:"",required:!1,default:""})}},E=R=>{d({...u,parameters:u.parameters.filter((F,U)=>U!==R)})},T=()=>{v.name.trim()&&v.description.trim()&&(d({...u,outputs:[...u.outputs,{...v,name:v.name.trim(),description:v.description.trim()}]}),b({name:"",type:"string",description:""}))},M=R=>{d({...u,outputs:u.outputs.filter((F,U)=>U!==R)})},L=R=>{const F=u.tools_required.includes(R)?u.tools_required.filter(U=>U!==R):[...u.tools_required,R];d({...u,tools_required:F})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:R=>d({...u,id:R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:R=>d({...u,name:R.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:R=>d({...u,description:R.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:u.category,onChange:R=>d({...u,category:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:o$.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),O()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((R,F)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[R,a.jsx("button",{type:"button",onClick:()=>j(F),className:"text-green-600 hover:text-green-800",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(R=>a.jsx("button",{type:"button",onClick:()=>L(R.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(R.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:R.description,children:R.name},R.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p.name,onChange:R=>x({...p,name:R.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:p.type,onChange:R=>x({...p,type:R.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:LN.map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("input",{type:"text",value:p.description,onChange:R=>x({...p,description:R.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:p.required,onChange:R=>x({...p,required:R.target.checked}),className:"w-3 h-3"}),"Required"]}),a.jsx("input",{type:"text",value:p.default,onChange:R=>x({...p,default:R.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((R,F)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:R.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",R.type,")"]}),R.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:R.description})]}),a.jsx("button",{type:"button",onClick:()=>E(F),className:"text-gray-400 hover:text-gray-600",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v.name,onChange:R=>b({...v,name:R.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:v.type,onChange:R=>b({...v,type:R.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:LN.map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("input",{type:"text",value:v.description,onChange:R=>b({...v,description:R.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((R,F)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:R.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",R.type,")"]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:R.description})]}),a.jsx("button",{type:"button",onClick:()=>M(F),className:"text-gray-400 hover:text-gray-600",children:""})]},F))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function c$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(!1),[x,v]=k.useState(null),[b,w]=k.useState([]),[y,S]=k.useState(null),[_,C]=k.useState("all"),[O,j]=k.useState(""),P=async()=>{try{const $=await de({url:"/api/admin/pending-prs?type=skill",method:"GET"});w($.pullRequests)}catch($){console.error("Failed to fetch pending PRs:",$)}},E=async()=>{try{const $=await de({url:"/api/admin/skills",method:"GET"});t($.skills)}catch($){const z=$ instanceof Ce?$.message:"Failed to fetch skills";h(z)}},T=async()=>{try{const $=await de({url:"/api/admin/agents",method:"GET"});n($.agents.map(z=>({id:z.id,name:z.name})))}catch($){console.error("Failed to fetch agents:",$)}},M=async()=>{try{const $=await de({url:"/api/admin/tools",method:"GET"});o($.tools)}catch($){console.error("Failed to fetch tools:",$)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),T(),M(),P()]),u(!1)})()},[]);const L=()=>{v(null),p(!0)},R=$=>{v($),p(!0)},F=async $=>{if(confirm(`Are you sure you want to delete "${$.name}"? This will create a PR.`))try{const z=await de({url:`/api/admin/skills/${$.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${z.pullRequest.html_url}`),E(),P()}catch(z){const V=z instanceof Ce?z.message:"Failed to delete skill";h(V)}},U=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),P()},W=Array.from(new Set(e.map($=>$.category))),B=e.filter($=>{const z=O.toLowerCase(),V=!z||$.name.toLowerCase().includes(z)||$.id.toLowerCase().includes(z)||$.description.toLowerCase().includes(z)||$.triggers.some(D=>D.toLowerCase().includes(z)),G=_==="all"||$.category===_;return V&&G});return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:W.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce(($,z)=>$+z.triggers.length,0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce(($,z)=>{var V;return $+(((V=z.agentDetails)==null?void 0:V.length)||0)},0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:O,onChange:$=>j($.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>C("all"),className:`px-3 py-1 text-sm rounded-full ${_==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),W.map($=>a.jsxs("button",{onClick:()=>C($),className:`px-3 py-1 text-sm rounded-full capitalize ${_===$?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[$," (",e.filter(z=>z.category===$).length,")"]},$))]})]})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map($=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:$.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",$.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:$.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:$.author_avatar,alt:$.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:$.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:$.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},$.number))})]})})]}),B.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?a.jsx("button",{onClick:L,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):a.jsx("button",{onClick:()=>{j(""),C("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map($=>a.jsx(s$,{skill:$,onEdit:R,onDelete:F},$.id))}),a.jsx(l$,{isOpen:m,onClose:()=>p(!1),onSuccess:U,skill:x,availableAgents:r,availableTools:i})]})}function u$(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState("all"),[l,u]=k.useState(null),[d,h]=k.useState(!1),[m,p]=k.useState(0);k.useEffect(()=>{x()},[i]);const x=async()=>{n(!0);try{const S=new URLSearchParams;i!=="all"&&S.set("source",i);const _=await de({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(_.conversations||[]),p(_.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{n(!1)}},v=async S=>{h(!0);try{const _=await de({url:`/api/conversations/${S}`,method:"GET"});u(_.conversation)}catch(_){console.error("Failed to fetch conversation detail:",_)}finally{h(!1)}},b=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},w=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=S=>{const _=new Date(S),O=new Date().getTime()-_.getTime(),j=Math.floor(O/(1e3*60*60)),P=Math.floor(O/(1e3*60*60*24));return j<1?"Just now":j<24?`${j}h ago`:P<7?`${P}d ago`:_.toLocaleDateString()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),a.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",m," total)"]})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>a.jsx("button",{onClick:()=>o(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${i===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),a.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>a.jsx("div",{onClick:()=>v(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(S.source)}`,children:[b(S.source)," ",S.source||"unknown"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),a.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:y(S.lastUsedAt)})]})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&a.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[a.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(l.source)}`,children:[b(l.source)," ",l.source||"unknown"]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,_)=>a.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&a.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&a.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},_)),l.history.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const FN={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},d$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function f$({result:e,onClick:t,onCopyLink:r}){const[n,i]=k.useState(!1),o=FN[e.source]||FN.notion,l=h=>{h.stopPropagation(),navigator.clipboard.writeText(e.url),i(!0),r==null||r(e.url),setTimeout(()=>i(!1),2e3)},u=h=>{h.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=h=>h?new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${o.bg} ${o.color}`,children:o.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500",children:d$[e.source]}),e.lastModified&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:n?a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?a.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):a.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const h$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function p$(){const[e,t]=k.useState(""),[r,n]=k.useState(null),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState([]),[m,p]=k.useState(null),[x,v]=k.useState("");k.useEffect(()=>{const O=setTimeout(()=>{v(e)},300);return()=>clearTimeout(O)},[e]);const b=k.useCallback(async O=>{if(!O.trim()){n(null);return}o(!0),u(null);try{const j=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:O,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!j.ok)throw new Error("Search failed");const P=await j.json();n(P),P.results.length>0&&p(null)}catch(j){u(j instanceof Error?j.message:"Search failed")}finally{o(!1)}},[d]);k.useEffect(()=>{x&&b(x)},[x,b]);const w=async O=>{if(m)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:m,clickedResult:O.url,clickedSource:O.source})})}catch{}window.open(O.url,"_blank","noopener,noreferrer")},y=O=>{t(O)},S=async O=>{if(m)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:m,aiAnswerUseful:O})})}catch{}},_=O=>{h(j=>j.includes(O)?j.filter(P=>P!==O):[...j,O])},C=(r==null?void 0:r.sources.filter(O=>O.connected).map(O=>O.source))||[];return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),a.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:e,onChange:O=>t(O.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),i&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),C.length>0&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),C.map(O=>{var j;return a.jsxs("button",{onClick:()=>_(O),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(O)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[h$[O],r&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",((j=r.sources.find(P=>P.source===O))==null?void 0:j.count)||0,")"]})]},O)})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&a.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),a.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&a.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?a.jsx("div",{className:"space-y-3",children:r.results.map((O,j)=>a.jsx(f$,{result:O,onClick:w},`${O.source}-${O.id}-${j}`))}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),a.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((O,j)=>a.jsxs("button",{onClick:()=>y(O),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]},j))})]})]}),!r&&!i&&!e&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),a.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function m$(){const[e,t]=k.useState(null),[r,n]=k.useState(null),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null);k.useEffect(()=>{m();const p=setInterval(m,3e4);return()=>clearInterval(p)},[]);const m=async()=>{try{const[p,x,v]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(p.ok&&t(await p.json()),x.ok&&n(await x.json()),v.ok){const b=await v.json();o(b.topOrganizations||[])}h(null)}catch{h("Failed to load dashboard data")}finally{u(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),a.jsx("button",{onClick:m,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Lu,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),a.jsx(Lu,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),a.jsx(Lu,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),a.jsx(Lu,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),a.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([p,x])=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:p}),a.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),a.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},p))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsx(g$,{status:(r==null?void 0:r.status)||"healthy"})]}),a.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(p=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:p.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[p.latency&&a.jsxs("span",{className:"text-xs text-gray-400",children:[p.latency,"ms"]}),a.jsx(x$,{status:p.status})]})]},p.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[i.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:p.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:p.plan})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",p.monthlySpend.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},p.id)),i.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([p,x])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:p})]},p))})]})]})}function Lu({title:e,value:t,subtext:r,trend:n,trendLabel:i,icon:o,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:o}),n!==void 0&&a.jsxs("span",{className:`text-sm font-medium ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?"+":"",n,"%"]})]}),a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function g$({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:n,label:i}=t[e];return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${n}`,children:i})}function x$({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function y$(){const[e,t]=k.useState([]),[r,n]=k.useState({total:0,page:1,pageSize:20,totalPages:0}),[i,o]=k.useState(!0),[l,u]=k.useState(null),[d,h]=k.useState(""),[m,p]=k.useState("all"),[x,v]=k.useState("all"),[b,w]=k.useState("createdAt"),[y,S]=k.useState("desc"),_=k.useCallback(async()=>{o(!0);try{const L=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:b,sortOrder:y});d&&L.append("search",d),m!=="all"&&L.append("status",m),x!=="all"&&L.append("plan",x);const R=await fetch(`/api/admin/organizations?${L}`,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch organizations");const F=await R.json();t(F.organizations||[]),n(U=>({...U,total:F.total||0,totalPages:Math.ceil((F.total||0)/U.pageSize)}))}catch(L){u(L instanceof Error?L.message:"Failed to load organizations")}finally{o(!1)}},[r.page,r.pageSize,d,m,x,b,y]);k.useEffect(()=>{_()},[_]);const C=L=>{b===L?S(y==="asc"?"desc":"asc"):(w(L),S("desc"))},O=async L=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${L}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");_()}catch(R){alert(R instanceof Error?R.message:"Failed to suspend organization")}},j=async L=>{try{if(!(await fetch(`/api/admin/organizations/${L}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");_()}catch(R){alert(R instanceof Error?R.message:"Failed to reactivate organization")}},P=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(L),E=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=L=>{switch(L.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:L=>{h(L.target.value),n(R=>({...R,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),a.jsxs("select",{value:m,onChange:L=>{p(L.target.value),n(R=>({...R,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trial",children:"Trial"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"churned",children:"Churned"})]}),a.jsxs("select",{value:x,onChange:L=>{v(L.target.value),n(R=>({...R,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("button",{onClick:_,disabled:i,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:a.jsx("svg",{className:`w-5 h-5 ${i?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Organization",b==="name"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("userCount"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Users",b==="userCount"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("mrr"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["MRR",b==="mrr"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Created",b==="createdAt"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-500",children:L.slug})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${M(L.plan)}`,children:L.plan})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${T(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.userCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P(L.mrr)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(L.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/admin/organizations/${L.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),L.status==="active"?a.jsx("button",{onClick:()=>O(L.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):L.status==="suspended"?a.jsx("button",{onClick:()=>j(L.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},L.id))})]})}),r.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function $C(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$C(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$C(e))&&(n&&(n+=" "),n+=t);return n}var Zp,BN;function hr(){if(BN)return Zp;BN=1;var e=Array.isArray;return Zp=e,Zp}var em,qN;function DC(){if(qN)return em;qN=1;var e=typeof Tu=="object"&&Tu&&Tu.Object===Object&&Tu;return em=e,em}var tm,zN;function Nn(){if(zN)return tm;zN=1;var e=DC(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return tm=r,tm}var rm,UN;function hc(){if(UN)return rm;UN=1;var e=Nn(),t=e.Symbol;return rm=t,rm}var nm,WN;function v$(){if(WN)return nm;WN=1;var e=hc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var m=n.call(l);return h&&(u?l[i]=d:delete l[i]),m}return nm=o,nm}var am,KN;function b$(){if(KN)return am;KN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return am=r,am}var im,HN;function Vn(){if(HN)return im;HN=1;var e=hc(),t=v$(),r=b$(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return im=l,im}var sm,GN;function Yn(){if(GN)return sm;GN=1;function e(t){return t!=null&&typeof t=="object"}return sm=e,sm}var om,VN;function Js(){if(VN)return om;VN=1;var e=Vn(),t=Yn(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return om=n,om}var lm,YN;function Qv(){if(YN)return lm;YN=1;var e=hr(),t=Js(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return lm=i,lm}var cm,XN;function Ra(){if(XN)return cm;XN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return cm=e,cm}var um,QN;function Jv(){if(QN)return um;QN=1;var e=Vn(),t=Ra(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return um=l,um}var dm,JN;function j$(){if(JN)return dm;JN=1;var e=Nn(),t=e["__core-js_shared__"];return dm=t,dm}var fm,ZN;function w$(){if(ZN)return fm;ZN=1;var e=j$(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return fm=r,fm}var hm,e2;function LC(){if(e2)return hm;e2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return hm=r,hm}var pm,t2;function N$(){if(t2)return pm;t2=1;var e=Jv(),t=w$(),r=Ra(),n=LC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!r(x)||t(x))return!1;var v=e(x)?m:o;return v.test(n(x))}return pm=p,pm}var mm,r2;function S$(){if(r2)return mm;r2=1;function e(t,r){return t==null?void 0:t[r]}return mm=e,mm}var gm,n2;function Oi(){if(n2)return gm;n2=1;var e=N$(),t=S$();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return gm=r,gm}var xm,a2;function mf(){if(a2)return xm;a2=1;var e=Oi(),t=e(Object,"create");return xm=t,xm}var ym,i2;function O$(){if(i2)return ym;i2=1;var e=mf();function t(){this.__data__=e?e(null):{},this.size=0}return ym=t,ym}var vm,s2;function k$(){if(s2)return vm;s2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return vm=e,vm}var bm,o2;function P$(){if(o2)return bm;o2=1;var e=mf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return bm=i,bm}var jm,l2;function A$(){if(l2)return jm;l2=1;var e=mf(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return jm=n,jm}var wm,c2;function _$(){if(c2)return wm;c2=1;var e=mf(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return wm=r,wm}var Nm,u2;function C$(){if(u2)return Nm;u2=1;var e=O$(),t=k$(),r=P$(),n=A$(),i=_$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Nm=o,Nm}var Sm,d2;function E$(){if(d2)return Sm;d2=1;function e(){this.__data__=[],this.size=0}return Sm=e,Sm}var Om,f2;function Zv(){if(f2)return Om;f2=1;function e(t,r){return t===r||t!==t&&r!==r}return Om=e,Om}var km,h2;function gf(){if(h2)return km;h2=1;var e=Zv();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return km=t,km}var Pm,p2;function T$(){if(p2)return Pm;p2=1;var e=gf(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Pm=n,Pm}var Am,m2;function R$(){if(m2)return Am;m2=1;var e=gf();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Am=t,Am}var _m,g2;function M$(){if(g2)return _m;g2=1;var e=gf();function t(r){return e(this.__data__,r)>-1}return _m=t,_m}var Cm,x2;function I$(){if(x2)return Cm;x2=1;var e=gf();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Cm=t,Cm}var Em,y2;function xf(){if(y2)return Em;y2=1;var e=E$(),t=T$(),r=R$(),n=M$(),i=I$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Em=o,Em}var Tm,v2;function eb(){if(v2)return Tm;v2=1;var e=Oi(),t=Nn(),r=e(t,"Map");return Tm=r,Tm}var Rm,b2;function $$(){if(b2)return Rm;b2=1;var e=C$(),t=xf(),r=eb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Rm=n,Rm}var Mm,j2;function D$(){if(j2)return Mm;j2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Mm=e,Mm}var Im,w2;function yf(){if(w2)return Im;w2=1;var e=D$();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Im=t,Im}var $m,N2;function L$(){if(N2)return $m;N2=1;var e=yf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return $m=t,$m}var Dm,S2;function F$(){if(S2)return Dm;S2=1;var e=yf();function t(r){return e(this,r).get(r)}return Dm=t,Dm}var Lm,O2;function B$(){if(O2)return Lm;O2=1;var e=yf();function t(r){return e(this,r).has(r)}return Lm=t,Lm}var Fm,k2;function q$(){if(k2)return Fm;k2=1;var e=yf();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return Fm=t,Fm}var Bm,P2;function tb(){if(P2)return Bm;P2=1;var e=$$(),t=L$(),r=F$(),n=B$(),i=q$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Bm=o,Bm}var qm,A2;function FC(){if(A2)return qm;A2=1;var e=tb(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||e),o}return r.Cache=e,qm=r,qm}var zm,_2;function z$(){if(_2)return zm;_2=1;var e=FC(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return zm=r,zm}var Um,C2;function U$(){if(C2)return Um;C2=1;var e=z$(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,h){o.push(d?h.replace(r,"$1"):u||l)}),o});return Um=n,Um}var Wm,E2;function rb(){if(E2)return Wm;E2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return Wm=e,Wm}var Km,T2;function W$(){if(T2)return Km;T2=1;var e=hc(),t=rb(),r=hr(),n=Js(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Km=l,Km}var Hm,R2;function BC(){if(R2)return Hm;R2=1;var e=W$();function t(r){return r==null?"":e(r)}return Hm=t,Hm}var Gm,M2;function qC(){if(M2)return Gm;M2=1;var e=hr(),t=Qv(),r=U$(),n=BC();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Gm=i,Gm}var Vm,I2;function vf(){if(I2)return Vm;I2=1;var e=Js();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Vm=t,Vm}var Ym,$2;function nb(){if($2)return Ym;$2=1;var e=qC(),t=vf();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return Ym=r,Ym}var Xm,D2;function zC(){if(D2)return Xm;D2=1;var e=nb();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Xm=t,Xm}var K$=zC();const Nr=Xe(K$);var Qm,L2;function H$(){if(L2)return Qm;L2=1;function e(t){return t==null}return Qm=e,Qm}var G$=H$();const De=Xe(G$);var Jm,F2;function V$(){if(F2)return Jm;F2=1;var e=Vn(),t=hr(),r=Yn(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return Jm=i,Jm}var Y$=V$();const xi=Xe(Y$);var X$=Jv();const Me=Xe(X$);var Q$=Ra();const Zs=Xe(Q$);var Zm={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function J$(){if(B2)return Ve;B2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var S=y.$$typeof;switch(S){case e:switch(y=y.type,y){case r:case i:case n:case h:case m:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case x:case p:case o:return y;default:return S}}case t:return S}}}return Ve.ContextConsumer=l,Ve.ContextProvider=o,Ve.Element=e,Ve.ForwardRef=d,Ve.Fragment=r,Ve.Lazy=x,Ve.Memo=p,Ve.Portal=t,Ve.Profiler=i,Ve.StrictMode=n,Ve.Suspense=h,Ve.SuspenseList=m,Ve.isAsyncMode=function(){return!1},Ve.isConcurrentMode=function(){return!1},Ve.isContextConsumer=function(y){return w(y)===l},Ve.isContextProvider=function(y){return w(y)===o},Ve.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ve.isForwardRef=function(y){return w(y)===d},Ve.isFragment=function(y){return w(y)===r},Ve.isLazy=function(y){return w(y)===x},Ve.isMemo=function(y){return w(y)===p},Ve.isPortal=function(y){return w(y)===t},Ve.isProfiler=function(y){return w(y)===i},Ve.isStrictMode=function(y){return w(y)===n},Ve.isSuspense=function(y){return w(y)===h},Ve.isSuspenseList=function(y){return w(y)===m},Ve.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===h||y===m||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===p||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},Ve.typeOf=w,Ve}var q2;function Z$(){return q2||(q2=1,Zm.exports=J$()),Zm.exports}var eD=Z$(),eg,z2;function UC(){if(z2)return eg;z2=1;var e=Vn(),t=Yn(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return eg=n,eg}var tg,U2;function tD(){if(U2)return tg;U2=1;var e=UC();function t(r){return e(r)&&r!=+r}return tg=t,tg}var rD=tD();const pc=Xe(rD);var nD=UC();const aD=Xe(nD);var er=function(t){return t===0?0:t>0?1:-1},ni=function(t){return xi(t)&&t.indexOf("%")===t.length-1},me=function(t){return aD(t)&&!pc(t)},iD=function(t){return De(t)},_t=function(t){return me(t)||xi(t)},sD=0,eo=function(t){var r=++sD;return"".concat(t||"").concat(r)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&!xi(t))return n;var o;if(ni(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return pc(o)&&(o=n),i&&o>r&&(o=r),o},va=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},jr=function(t,r){return me(t)&&me(r)?function(n){return t+n*(r-t)}:function(){return r}};function id(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Nr(n,t))===r})}var lD=function(t,r){return me(t)&&me(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}var cD=["viewBox","children"],uD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],W2=["points","pathLength"],rg={svg:cD,polygon:W2,polyline:W2},ab=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Zs(n))return null;var i={};return Object.keys(n).forEach(function(o){ab.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},dD=function(t,r,n){return function(i){return t(r,n,i),null}},yi=function(t,r,n){if(!Zs(t)||gy(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];ab.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=dD(l,r,n))}),i},fD=["children"],hD=["children"];function K2(e,t){if(e==null)return{};var r=pD(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}var H2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},G2=null,ng=null,ib=function e(t){if(t===G2&&Array.isArray(ng))return ng;var r=[];return k.Children.forEach(t,function(n){De(n)||(eD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ng=r,G2=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return qn(i)}):n=[qn(t)],ib(e).forEach(function(i){var o=Nr(i,"type.displayName")||Nr(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function br(e,t){var r=Sr(e,t);return r&&r[0]}var V2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!me(n)||n<=0||!me(i)||i<=0)},mD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gD=function(t){return t&&t.type&&xi(t.type)&&mD.indexOf(t.type)>=0},xD=function(t){return t&&xy(t)==="object"&&"clipDot"in t},yD=function(t,r,n,i){var o,l=(o=rg==null?void 0:rg[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Me(t)&&(i&&l.includes(r)||uD.includes(r))||n&&ab.includes(r)},_e=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!Zs(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;yD((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},yy=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Y2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!Y2(o,l))return!1}return!0},Y2=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},i=n.children,o=K2(n,fD),l=r.props||{},u=l.children,d=K2(l,hD);return i&&u?ds(o,d)&&yy(i,u):!i&&!u?ds(o,d):!1}return!1},X2=function(t,r){var n=[],i={};return ib(t).forEach(function(o,l){if(gD(o))n.push(o);else if(o){var u=qn(o.type),d=r[u]||{},h=d.handler,m=d.once;if(h&&(!m||!i[u])){var p=h(o,u,l);n.push(p),i[u]=!0}}}),n},vD=function(t){var r=t&&t.type;return r&&H2[r]?H2[r]:null},bD=function(t,r){return ib(r).indexOf(t)},jD=["children","width","height","viewBox","className","style","title","desc"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(this,arguments)}function wD(e,t){if(e==null)return{};var r=ND(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ND(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function by(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,h=wD(e,jD),m=i||{width:r,height:n,x:0,y:0},p=Le("recharts-surface",o);return Y.createElement("svg",vy({},_e(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Y.createElement("title",null,u),Y.createElement("desc",null,d),t)}var SD=["children","className"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function OD(e,t){if(e==null)return{};var r=kD(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var He=Y.forwardRef(function(e,t){var r=e.children,n=e.className,i=OD(e,SD),o=Le("recharts-layer",n);return Y.createElement("g",jy({className:o},_e(i,!0),{ref:t}),r)}),rn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},ag,Q2;function PD(){if(Q2)return ag;Q2=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return ag=e,ag}var ig,J2;function AD(){if(J2)return ig;J2=1;var e=PD();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return ig=t,ig}var sg,Z2;function WC(){if(Z2)return sg;Z2=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(h){return u.test(h)}return sg=d,sg}var og,eS;function _D(){if(eS)return og;eS=1;function e(t){return t.split("")}return og=e,og}var lg,tS;function CD(){if(tS)return lg;tS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=h+"?",w="["+o+"]?",y="(?:"+v+"(?:"+[m,p,x].join("|")+")"+w+b+")*",S=w+b+y,_="(?:"+[m+u+"?",u,p,x,l].join("|")+")",C=RegExp(d+"(?="+d+")|"+_+S,"g");function O(j){return j.match(C)||[]}return lg=O,lg}var cg,rS;function ED(){if(rS)return cg;rS=1;var e=_D(),t=WC(),r=CD();function n(i){return t(i)?r(i):e(i)}return cg=n,cg}var ug,nS;function TD(){if(nS)return ug;nS=1;var e=AD(),t=WC(),r=ED(),n=BC();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?e(u,1).join(""):l.slice(1);return d[o]()+h}}return ug=i,ug}var dg,aS;function RD(){if(aS)return dg;aS=1;var e=TD(),t=e("toUpperCase");return dg=t,dg}var MD=RD();const bf=Xe(MD);function nt(e){return function(){return e}}const KC=Math.cos,od=Math.sin,an=Math.sqrt,ld=Math.PI,jf=2*ld,wy=Math.PI,Ny=2*wy,Za=1e-6,ID=Ny-Za;function HC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $D(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HC;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class DD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HC:$D(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,h=i-r,m=l-t,p=u-r,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Za)if(!(Math.abs(p*d-h*m)>Za)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,b=i-u,w=d*d+h*h,y=v*v+b*b,S=Math.sqrt(w),_=Math.sqrt(x),C=o*Math.tan((wy-Math.acos((w+x-y)/(2*S*_)))/2),O=C/_,j=C/S;Math.abs(O-1)>Za&&this._append`L${t+O*m},${r+O*p}`,this._append`A${o},${o},0,0,${+(p*v>m*b)},${this._x1=t+j*d},${this._y1=r+j*h}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=t+u,m=r+d,p=1^l,x=l?i-o:o-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Za||Math.abs(this._y1-m)>Za)&&this._append`L${h},${m}`,n&&(x<0&&(x=x%Ny+Ny),x>ID?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:x>Za&&this._append`A${n},${n},0,${+(x>=wy)},${p},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DD(t)}function ob(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GC(e){this._context=e}GC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wf(e){return new GC(e)}function VC(e){return e[0]}function YC(e){return e[1]}function XC(e,t){var r=nt(!0),n=null,i=wf,o=null,l=sb(u);e=typeof e=="function"?e:e===void 0?VC:nt(e),t=typeof t=="function"?t:t===void 0?YC:nt(t);function u(d){var h,m=(d=ob(d)).length,p,x=!1,v;for(n==null&&(o=i(v=l())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(p,h,d),+t(p,h,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Fu(e,t,r){var n=null,i=nt(!0),o=null,l=wf,u=null,d=sb(h);e=typeof e=="function"?e:e===void 0?VC:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?YC:nt(+r);function h(p){var x,v,b,w=(p=ob(p)).length,y,S=!1,_,C=new Array(w),O=new Array(w);for(o==null&&(u=l(_=d())),x=0;x<=w;++x){if(!(x<w&&i(y=p[x],x,p))===S)if(S=!S)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=x-1;b>=v;--b)u.point(C[b],O[b]);u.lineEnd(),u.areaEnd()}S&&(C[x]=+e(y,x,p),O[x]=+t(y,x,p),u.point(n?+n(y,x,p):C[x],r?+r(y,x,p):O[x]))}if(_)return u=null,_+""||null}function m(){return XC().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:nt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:nt(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:nt(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class QC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function LD(e){return new QC(e,!0)}function FD(e){return new QC(e,!1)}const lb={draw(e,t){const r=an(t/ld);e.moveTo(r,0),e.arc(0,0,r,0,jf)}},BD={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JC=an(1/3),qD=JC*2,zD={draw(e,t){const r=an(t/qD),n=r*JC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},UD={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},WD=.8908130915292852,ZC=od(ld/10)/od(7*ld/10),KD=od(jf/10)*ZC,HD=-KC(jf/10)*ZC,GD={draw(e,t){const r=an(t*WD),n=KD*r,i=HD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=jf*o/5,u=KC(l),d=od(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},fg=an(3),VD={draw(e,t){const r=-an(t/(fg*3));e.moveTo(0,r*2),e.lineTo(-fg*r,-r),e.lineTo(fg*r,-r),e.closePath()}},Er=-.5,Tr=an(3)/2,Sy=1/an(12),YD=(Sy/2+1)*3,XD={draw(e,t){const r=an(t/YD),n=r/2,i=r*Sy,o=n,l=r*Sy+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Er*n-Tr*i,Tr*n+Er*i),e.lineTo(Er*o-Tr*l,Tr*o+Er*l),e.lineTo(Er*u-Tr*d,Tr*u+Er*d),e.lineTo(Er*n+Tr*i,Er*i-Tr*n),e.lineTo(Er*o+Tr*l,Er*l-Tr*o),e.lineTo(Er*u+Tr*d,Er*d-Tr*u),e.closePath()}};function QD(e,t){let r=null,n=sb(i);e=typeof e=="function"?e:nt(e||lb),t=typeof t=="function"?t:nt(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:nt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:nt(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function cd(){}function ud(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function eE(e){this._context=e}eE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ud(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JD(e){return new eE(e)}function tE(e){this._context=e}tE.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZD(e){return new tE(e)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eL(e){return new rE(e)}function nE(e){this._context=e}nE.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tL(e){return new nE(e)}function iS(e){return e<0?-1:1}function sS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(iS(o)+iS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function oS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hg(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function dd(e){this._context=e}dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hg(this,this._t0,oS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hg(this,oS(this,r=sS(this,e,t)),r);break;default:hg(this,this._t0,r=sS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function aE(e){this._context=new iE(e)}(aE.prototype=Object.create(dd.prototype)).point=function(e,t){dd.prototype.point.call(this,t,e)};function iE(e){this._context=e}iE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function rL(e){return new dd(e)}function nL(e){return new aE(e)}function sE(e){this._context=e}sE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lS(e),i=lS(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lS(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function aL(e){return new sE(e)}function Nf(e,t){this._context=e,this._t=t}Nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function iL(e){return new Nf(e,.5)}function sL(e){return new Nf(e,0)}function oL(e){return new Nf(e,1)}function Ns(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Oy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lL(e,t){return e[t]}function cL(e){const t=[];return t.key=e,t}function uL(){var e=nt([]),t=Oy,r=Ns,n=lL;function i(o){var l=Array.from(e.apply(this,arguments),cL),u,d=l.length,h=-1,m;for(const p of o)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,o)]).data=p;for(u=0,m=ob(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:nt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:nt(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?Oy:typeof o=="function"?o:nt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Ns,i):r},i}function dL(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Ns(e,t)}}function fL(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ns(e,t)}}function hL(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,h=0;u<l;++u){for(var m=e[t[u]],p=m[n][1]||0,x=m[n-1][1]||0,v=(p-x)/2,b=0;b<u;++b){var w=e[t[b]],y=w[n][1]||0,S=w[n-1][1]||0;v+=y-S}d+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Ns(e,t)}}function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}var pL=["type","size","sizeType"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(this,arguments)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){mL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mL(e,t,r){return t=gL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=xL(e,"string");return Sl(t)=="symbol"?t:t+""}function xL(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yL(e,t){if(e==null)return{};var r=vL(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oE={symbolCircle:lb,symbolCross:BD,symbolDiamond:zD,symbolSquare:UD,symbolStar:GD,symbolTriangle:VD,symbolWye:XD},bL=Math.PI/180,jL=function(t){var r="symbol".concat(bf(t));return oE[r]||lb},wL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*bL;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},NL=function(t,r){oE["symbol".concat(bf(t))]=r},cb=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=yL(t,pL),h=uS(uS({},d),{},{type:n,size:o,sizeType:u}),m=function(){var y=jL(n),S=QD().type(y).size(wL(o,u,n));return S()},p=h.className,x=h.cx,v=h.cy,b=_e(h,!0);return x===+x&&v===+v&&o===+o?Y.createElement("path",ky({},b,{className:Le("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:m()})):null};cb.registerSymbol=NL;function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cE(n.key),n)}}function PL(e,t,r){return t&&kL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AL(e,t,r){return t=fd(t),_L(e,lE()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function _L(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CL(e)}function CL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lE=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function EL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ay(e,t)}function Ol(e,t,r){return t=cE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cE(e){var t=TL(e,"string");return Ss(t)=="symbol"?t:t+""}function TL(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rr=32,ub=(function(e){function t(){return OL(this,t),AL(this,t,arguments)}return EL(t,e),PL(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Rr/2,l=Rr/6,u=Rr/3,d=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Rr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var h=SL({},n);return delete h.legendIcon,Y.cloneElement(n.legendIcon,h)}return Y.createElement(cb,{fill:d,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,h=i.inactiveColor,m={x:0,y:0,width:Rr,height:Rr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,b){var w=v.formatter||d,y=Le(Ol(Ol({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Me(v.value)?null:v.value;rn(!Me(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=v.inactive?h:v.color;return Y.createElement("li",Py({className:y,style:p,key:"legend-item-".concat(b)},yi(n.props,v,b)),Y.createElement(by,{width:l,height:l,viewBox:m,style:x},n.renderIcon(v)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(S,v,b):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(k.PureComponent);Ol(ub,"displayName","Legend");Ol(ub,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pg,fS;function RL(){if(fS)return pg;fS=1;var e=xf();function t(){this.__data__=new e,this.size=0}return pg=t,pg}var mg,hS;function ML(){if(hS)return mg;hS=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return mg=e,mg}var gg,pS;function IL(){if(pS)return gg;pS=1;function e(t){return this.__data__.get(t)}return gg=e,gg}var xg,mS;function $L(){if(mS)return xg;mS=1;function e(t){return this.__data__.has(t)}return xg=e,xg}var yg,gS;function DL(){if(gS)return yg;gS=1;var e=xf(),t=eb(),r=tb(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return yg=i,yg}var vg,xS;function uE(){if(xS)return vg;xS=1;var e=xf(),t=RL(),r=ML(),n=IL(),i=$L(),o=DL();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,vg=l,vg}var bg,yS;function LL(){if(yS)return bg;yS=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return bg=t,bg}var jg,vS;function FL(){if(vS)return jg;vS=1;function e(t){return this.__data__.has(t)}return jg=e,jg}var wg,bS;function dE(){if(bS)return wg;bS=1;var e=tb(),t=LL(),r=FL();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,wg=n,wg}var Ng,jS;function fE(){if(jS)return Ng;jS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Ng=e,Ng}var Sg,wS;function hE(){if(wS)return Sg;wS=1;function e(t,r){return t.has(r)}return Sg=e,Sg}var Og,NS;function pE(){if(NS)return Og;NS=1;var e=dE(),t=fE(),r=hE(),n=1,i=2;function o(l,u,d,h,m,p){var x=d&n,v=l.length,b=u.length;if(v!=b&&!(x&&b>v))return!1;var w=p.get(l),y=p.get(u);if(w&&y)return w==u&&y==l;var S=-1,_=!0,C=d&i?new e:void 0;for(p.set(l,u),p.set(u,l);++S<v;){var O=l[S],j=u[S];if(h)var P=x?h(j,O,S,u,l,p):h(O,j,S,l,u,p);if(P!==void 0){if(P)continue;_=!1;break}if(C){if(!t(u,function(E,T){if(!r(C,T)&&(O===E||m(O,E,d,h,p)))return C.push(T)})){_=!1;break}}else if(!(O===j||m(O,j,d,h,p))){_=!1;break}}return p.delete(l),p.delete(u),_}return Og=o,Og}var kg,SS;function BL(){if(SS)return kg;SS=1;var e=Nn(),t=e.Uint8Array;return kg=t,kg}var Pg,OS;function qL(){if(OS)return Pg;OS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return Pg=e,Pg}var Ag,kS;function db(){if(kS)return Ag;kS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Ag=e,Ag}var _g,PS;function zL(){if(PS)return _g;PS=1;var e=hc(),t=BL(),r=Zv(),n=pE(),i=qL(),o=db(),l=1,u=2,d="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",b="[object Set]",w="[object String]",y="[object Symbol]",S="[object ArrayBuffer]",_="[object DataView]",C=e?e.prototype:void 0,O=C?C.valueOf:void 0;function j(P,E,T,M,L,R,F){switch(T){case _:if(P.byteLength!=E.byteLength||P.byteOffset!=E.byteOffset)return!1;P=P.buffer,E=E.buffer;case S:return!(P.byteLength!=E.byteLength||!R(new t(P),new t(E)));case d:case h:case x:return r(+P,+E);case m:return P.name==E.name&&P.message==E.message;case v:case w:return P==E+"";case p:var U=i;case b:var W=M&l;if(U||(U=o),P.size!=E.size&&!W)return!1;var B=F.get(P);if(B)return B==E;M|=u,F.set(P,E);var $=n(U(P),U(E),M,L,R,F);return F.delete(P),$;case y:if(O)return O.call(P)==O.call(E)}return!1}return _g=j,_g}var Cg,AS;function mE(){if(AS)return Cg;AS=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return Cg=e,Cg}var Eg,_S;function UL(){if(_S)return Eg;_S=1;var e=mE(),t=hr();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return Eg=r,Eg}var Tg,CS;function WL(){if(CS)return Tg;CS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return Tg=e,Tg}var Rg,ES;function KL(){if(ES)return Rg;ES=1;function e(){return[]}return Rg=e,Rg}var Mg,TS;function HL(){if(TS)return Mg;TS=1;var e=WL(),t=KL(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return Mg=o,Mg}var Ig,RS;function GL(){if(RS)return Ig;RS=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Ig=e,Ig}var $g,MS;function VL(){if(MS)return $g;MS=1;var e=Vn(),t=Yn(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return $g=n,$g}var Dg,IS;function fb(){if(IS)return Dg;IS=1;var e=VL(),t=Yn(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return Dg=o,Dg}var cl={exports:{}},Lg,$S;function YL(){if($S)return Lg;$S=1;function e(){return!1}return Lg=e,Lg}cl.exports;var DS;function gE(){return DS||(DS=1,(function(e,t){var r=Nn(),n=YL(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;e.exports=h})(cl,cl.exports)),cl.exports}var Fg,LS;function hb(){if(LS)return Fg;LS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Fg=r,Fg}var Bg,FS;function pb(){if(FS)return Bg;FS=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Bg=t,Bg}var qg,BS;function XL(){if(BS)return qg;BS=1;var e=Vn(),t=pb(),r=Yn(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",b="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",R={};R[_]=R[C]=R[O]=R[j]=R[P]=R[E]=R[T]=R[M]=R[L]=!0,R[n]=R[i]=R[y]=R[o]=R[S]=R[l]=R[u]=R[d]=R[h]=R[m]=R[p]=R[x]=R[v]=R[b]=R[w]=!1;function F(U){return r(U)&&t(U.length)&&!!R[e(U)]}return qg=F,qg}var zg,qS;function xE(){if(qS)return zg;qS=1;function e(t){return function(r){return t(r)}}return zg=e,zg}var ul={exports:{}};ul.exports;var zS;function QL(){return zS||(zS=1,(function(e,t){var r=DC(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(ul,ul.exports)),ul.exports}var Ug,US;function yE(){if(US)return Ug;US=1;var e=XL(),t=xE(),r=QL(),n=r&&r.isTypedArray,i=n?t(n):e;return Ug=i,Ug}var Wg,WS;function JL(){if(WS)return Wg;WS=1;var e=GL(),t=fb(),r=hr(),n=gE(),i=hb(),o=yE(),l=Object.prototype,u=l.hasOwnProperty;function d(h,m){var p=r(h),x=!p&&t(h),v=!p&&!x&&n(h),b=!p&&!x&&!v&&o(h),w=p||x||v||b,y=w?e(h.length,String):[],S=y.length;for(var _ in h)(m||u.call(h,_))&&!(w&&(_=="length"||v&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,S)))&&y.push(_);return y}return Wg=d,Wg}var Kg,KS;function ZL(){if(KS)return Kg;KS=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Kg=t,Kg}var Hg,HS;function vE(){if(HS)return Hg;HS=1;function e(t,r){return function(n){return t(r(n))}}return Hg=e,Hg}var Gg,GS;function e8(){if(GS)return Gg;GS=1;var e=vE(),t=e(Object.keys,Object);return Gg=t,Gg}var Vg,VS;function t8(){if(VS)return Vg;VS=1;var e=ZL(),t=e8(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return Vg=i,Vg}var Yg,YS;function mc(){if(YS)return Yg;YS=1;var e=Jv(),t=pb();function r(n){return n!=null&&t(n.length)&&!e(n)}return Yg=r,Yg}var Xg,XS;function Sf(){if(XS)return Xg;XS=1;var e=JL(),t=t8(),r=mc();function n(i){return r(i)?e(i):t(i)}return Xg=n,Xg}var Qg,QS;function r8(){if(QS)return Qg;QS=1;var e=UL(),t=HL(),r=Sf();function n(i){return e(i,r,t)}return Qg=n,Qg}var Jg,JS;function n8(){if(JS)return Jg;JS=1;var e=r8(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,h,m){var p=u&t,x=e(o),v=x.length,b=e(l),w=b.length;if(v!=w&&!p)return!1;for(var y=v;y--;){var S=x[y];if(!(p?S in l:n.call(l,S)))return!1}var _=m.get(o),C=m.get(l);if(_&&C)return _==l&&C==o;var O=!0;m.set(o,l),m.set(l,o);for(var j=p;++y<v;){S=x[y];var P=o[S],E=l[S];if(d)var T=p?d(E,P,S,l,o,m):d(P,E,S,o,l,m);if(!(T===void 0?P===E||h(P,E,u,d,m):T)){O=!1;break}j||(j=S=="constructor")}if(O&&!j){var M=o.constructor,L=l.constructor;M!=L&&"constructor"in o&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(O=!1)}return m.delete(o),m.delete(l),O}return Jg=i,Jg}var Zg,ZS;function a8(){if(ZS)return Zg;ZS=1;var e=Oi(),t=Nn(),r=e(t,"DataView");return Zg=r,Zg}var ex,eO;function i8(){if(eO)return ex;eO=1;var e=Oi(),t=Nn(),r=e(t,"Promise");return ex=r,ex}var tx,tO;function bE(){if(tO)return tx;tO=1;var e=Oi(),t=Nn(),r=e(t,"Set");return tx=r,tx}var rx,rO;function s8(){if(rO)return rx;rO=1;var e=Oi(),t=Nn(),r=e(t,"WeakMap");return rx=r,rx}var nx,nO;function o8(){if(nO)return nx;nO=1;var e=a8(),t=eb(),r=i8(),n=bE(),i=s8(),o=Vn(),l=LC(),u="[object Map]",d="[object Object]",h="[object Promise]",m="[object Set]",p="[object WeakMap]",x="[object DataView]",v=l(e),b=l(t),w=l(r),y=l(n),S=l(i),_=o;return(e&&_(new e(new ArrayBuffer(1)))!=x||t&&_(new t)!=u||r&&_(r.resolve())!=h||n&&_(new n)!=m||i&&_(new i)!=p)&&(_=function(C){var O=o(C),j=O==d?C.constructor:void 0,P=j?l(j):"";if(P)switch(P){case v:return x;case b:return u;case w:return h;case y:return m;case S:return p}return O}),nx=_,nx}var ax,aO;function l8(){if(aO)return ax;aO=1;var e=uE(),t=pE(),r=zL(),n=n8(),i=o8(),o=hr(),l=gE(),u=yE(),d=1,h="[object Arguments]",m="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function b(w,y,S,_,C,O){var j=o(w),P=o(y),E=j?m:i(w),T=P?m:i(y);E=E==h?p:E,T=T==h?p:T;var M=E==p,L=T==p,R=E==T;if(R&&l(w)){if(!l(y))return!1;j=!0,M=!1}if(R&&!M)return O||(O=new e),j||u(w)?t(w,y,S,_,C,O):r(w,y,E,S,_,C,O);if(!(S&d)){var F=M&&v.call(w,"__wrapped__"),U=L&&v.call(y,"__wrapped__");if(F||U){var W=F?w.value():w,B=U?y.value():y;return O||(O=new e),C(W,B,S,_,O)}}return R?(O||(O=new e),n(w,y,S,_,C,O)):!1}return ax=b,ax}var ix,iO;function mb(){if(iO)return ix;iO=1;var e=l8(),t=Yn();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return ix=r,ix}var sx,sO;function c8(){if(sO)return sx;sO=1;var e=uE(),t=mb(),r=1,n=2;function i(o,l,u,d){var h=u.length,m=h,p=!d;if(o==null)return!m;for(o=Object(o);h--;){var x=u[h];if(p&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++h<m;){x=u[h];var v=x[0],b=o[v],w=x[1];if(p&&x[2]){if(b===void 0&&!(v in o))return!1}else{var y=new e;if(d)var S=d(b,w,v,o,l,y);if(!(S===void 0?t(w,b,r|n,d,y):S))return!1}}return!0}return sx=i,sx}var ox,oO;function jE(){if(oO)return ox;oO=1;var e=Ra();function t(r){return r===r&&!e(r)}return ox=t,ox}var lx,lO;function u8(){if(lO)return lx;lO=1;var e=jE(),t=Sf();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return lx=r,lx}var cx,cO;function wE(){if(cO)return cx;cO=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return cx=e,cx}var ux,uO;function d8(){if(uO)return ux;uO=1;var e=c8(),t=u8(),r=wE();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return ux=n,ux}var dx,dO;function f8(){if(dO)return dx;dO=1;function e(t,r){return t!=null&&r in Object(t)}return dx=e,dx}var fx,fO;function h8(){if(fO)return fx;fO=1;var e=qC(),t=fb(),r=hr(),n=hb(),i=pb(),o=vf();function l(u,d,h){d=e(d,u);for(var m=-1,p=d.length,x=!1;++m<p;){var v=o(d[m]);if(!(x=u!=null&&h(u,v)))break;u=u[v]}return x||++m!=p?x:(p=u==null?0:u.length,!!p&&i(p)&&n(v,p)&&(r(u)||t(u)))}return fx=l,fx}var hx,hO;function p8(){if(hO)return hx;hO=1;var e=f8(),t=h8();function r(n,i){return n!=null&&t(n,i,e)}return hx=r,hx}var px,pO;function m8(){if(pO)return px;pO=1;var e=mb(),t=zC(),r=p8(),n=Qv(),i=jE(),o=wE(),l=vf(),u=1,d=2;function h(m,p){return n(m)&&i(p)?o(l(m),p):function(x){var v=t(x,m);return v===void 0&&v===p?r(x,m):e(p,v,u|d)}}return px=h,px}var mx,mO;function to(){if(mO)return mx;mO=1;function e(t){return t}return mx=e,mx}var gx,gO;function g8(){if(gO)return gx;gO=1;function e(t){return function(r){return r==null?void 0:r[t]}}return gx=e,gx}var xx,xO;function x8(){if(xO)return xx;xO=1;var e=nb();function t(r){return function(n){return e(n,r)}}return xx=t,xx}var yx,yO;function y8(){if(yO)return yx;yO=1;var e=g8(),t=x8(),r=Qv(),n=vf();function i(o){return r(o)?e(n(o)):t(o)}return yx=i,yx}var vx,vO;function Sn(){if(vO)return vx;vO=1;var e=d8(),t=m8(),r=to(),n=hr(),i=y8();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return vx=o,vx}var bx,bO;function NE(){if(bO)return bx;bO=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return bx=e,bx}var jx,jO;function v8(){if(jO)return jx;jO=1;function e(t){return t!==t}return jx=e,jx}var wx,wO;function b8(){if(wO)return wx;wO=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return wx=e,wx}var Nx,NO;function j8(){if(NO)return Nx;NO=1;var e=NE(),t=v8(),r=b8();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return Nx=n,Nx}var Sx,SO;function w8(){if(SO)return Sx;SO=1;var e=j8();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Sx=t,Sx}var Ox,OO;function N8(){if(OO)return Ox;OO=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return Ox=e,Ox}var kx,kO;function S8(){if(kO)return kx;kO=1;function e(){}return kx=e,kx}var Px,PO;function O8(){if(PO)return Px;PO=1;var e=bE(),t=S8(),r=db(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Px=i,Px}var Ax,AO;function k8(){if(AO)return Ax;AO=1;var e=dE(),t=w8(),r=N8(),n=hE(),i=O8(),o=db(),l=200;function u(d,h,m){var p=-1,x=t,v=d.length,b=!0,w=[],y=w;if(m)b=!1,x=r;else if(v>=l){var S=h?null:i(d);if(S)return o(S);b=!1,x=n,y=new e}else y=h?[]:w;e:for(;++p<v;){var _=d[p],C=h?h(_):_;if(_=m||_!==0?_:0,b&&C===C){for(var O=y.length;O--;)if(y[O]===C)continue e;h&&y.push(C),w.push(_)}else x(y,C,m)||(y!==w&&y.push(C),w.push(_))}return w}return Ax=u,Ax}var _x,_O;function P8(){if(_O)return _x;_O=1;var e=Sn(),t=k8();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return _x=r,_x}var A8=P8();const CO=Xe(A8);function SE(e,t,r){return t===!0?CO(e,r):Me(t)?CO(e,t):e}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}var _8=["ref"];function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kE(n.key),n)}}function E8(e,t,r){return t&&TO(e.prototype,t),r&&TO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T8(e,t,r){return t=hd(t),R8(e,OE()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function R8(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8(e)}function M8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OE=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function I8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_y(e,t)}function Of(e,t,r){return t=kE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e){var t=$8(e,"string");return Os(t)=="symbol"?t:t+""}function $8(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D8(e,t){if(e==null)return{};var r=L8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F8(e){return e.value}function B8(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var r=D8(t,_8);return Y.createElement(ub,r)}var RO=1,_a=(function(e){function t(){var r;C8(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=T8(this,t,[].concat(i)),Of(r,"lastBoundingBox",{width:-1,height:-1}),r}return I8(t,e),E8(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>RO||Math.abs(i.height-this.lastBoundingBox.height)>RO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,h=i.chartWidth,m=i.chartHeight,p,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var b=this.getBBoxSnapshot();x={top:((m||0)-b.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Rn(Rn({},p),x)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,m=i.payload,p=Rn(Rn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},B8(o,Rn(Rn({},this.props),{},{payload:SE(m,h,F8)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Rn(Rn({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&me(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);Of(_a,"displayName","Legend");Of(_a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Cx,MO;function q8(){if(MO)return Cx;MO=1;var e=hc(),t=fb(),r=hr(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return Cx=i,Cx}var Ex,IO;function PE(){if(IO)return Ex;IO=1;var e=mE(),t=q8();function r(n,i,o,l,u){var d=-1,h=n.length;for(o||(o=t),u||(u=[]);++d<h;){var m=n[d];i>0&&o(m)?i>1?r(m,i-1,o,l,u):e(u,m):l||(u[u.length]=m)}return u}return Ex=r,Ex}var Tx,$O;function z8(){if($O)return Tx;$O=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var h=u[t?d:++o];if(n(l[h],h,l)===!1)break}return r}}return Tx=e,Tx}var Rx,DO;function U8(){if(DO)return Rx;DO=1;var e=z8(),t=e();return Rx=t,Rx}var Mx,LO;function AE(){if(LO)return Mx;LO=1;var e=U8(),t=Sf();function r(n,i){return n&&e(n,i,t)}return Mx=r,Mx}var Ix,FO;function W8(){if(FO)return Ix;FO=1;var e=mc();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Ix=t,Ix}var $x,BO;function gb(){if(BO)return $x;BO=1;var e=AE(),t=W8(),r=t(e);return $x=r,$x}var Dx,qO;function _E(){if(qO)return Dx;qO=1;var e=gb(),t=mc();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,h){l[++o]=i(u,d,h)}),l}return Dx=r,Dx}var Lx,zO;function K8(){if(zO)return Lx;zO=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Lx=e,Lx}var Fx,UO;function H8(){if(UO)return Fx;UO=1;var e=Js();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,h=n===null,m=n===n,p=e(n);if(!h&&!p&&!u&&r>n||u&&d&&m&&!h&&!p||o&&d&&m||!i&&m||!l)return 1;if(!o&&!u&&!p&&r<n||p&&i&&l&&!o&&!u||h&&i&&l||!d&&l||!m)return-1}return 0}return Fx=t,Fx}var Bx,WO;function G8(){if(WO)return Bx;WO=1;var e=H8();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,h=i.length;++o<d;){var m=e(l[o],u[o]);if(m){if(o>=h)return m;var p=i[o];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Bx=t,Bx}var qx,KO;function V8(){if(KO)return qx;KO=1;var e=rb(),t=nb(),r=Sn(),n=_E(),i=K8(),o=xE(),l=G8(),u=to(),d=hr();function h(m,p,x){p.length?p=e(p,function(w){return d(w)?function(y){return t(y,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=e(p,o(r));var b=n(m,function(w,y,S){var _=e(p,function(C){return C(w)});return{criteria:_,index:++v,value:w}});return i(b,function(w,y){return l(w,y,x)})}return qx=h,qx}var zx,HO;function Y8(){if(HO)return zx;HO=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return zx=e,zx}var Ux,GO;function X8(){if(GO)return Ux;GO=1;var e=Y8(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),h=Array(d);++u<d;)h[u]=l[i+u];u=-1;for(var m=Array(i+1);++u<i;)m[u]=l[u];return m[i]=o(h),e(n,this,m)}}return Ux=r,Ux}var Wx,VO;function Q8(){if(VO)return Wx;VO=1;function e(t){return function(){return t}}return Wx=e,Wx}var Kx,YO;function CE(){if(YO)return Kx;YO=1;var e=Oi(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Kx=t,Kx}var Hx,XO;function J8(){if(XO)return Hx;XO=1;var e=Q8(),t=CE(),r=to(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Hx=n,Hx}var Gx,QO;function Z8(){if(QO)return Gx;QO=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Gx=n,Gx}var Vx,JO;function eF(){if(JO)return Vx;JO=1;var e=J8(),t=Z8(),r=t(e);return Vx=r,Vx}var Yx,ZO;function tF(){if(ZO)return Yx;ZO=1;var e=to(),t=X8(),r=eF();function n(i,o){return r(t(i,o,e),i+"")}return Yx=n,Yx}var Xx,ek;function kf(){if(ek)return Xx;ek=1;var e=Zv(),t=mc(),r=hb(),n=Ra();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Xx=i,Xx}var Qx,tk;function rF(){if(tk)return Qx;tk=1;var e=PE(),t=V8(),r=tF(),n=kf(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return Qx=i,Qx}var nF=rF();const xb=Xe(nF);function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function aF(e,t){return lF(e)||oF(e,t)||sF(e,t)||iF()}function iF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sF(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function lF(e){if(Array.isArray(e))return e}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return kl(t)=="symbol"?t:t+""}function dF(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e){return Array.isArray(e)&&_t(e[0])&&_t(e[1])?e.join(" ~ "):e}var hF=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,h=d===void 0?{}:d,m=t.payload,p=t.formatter,x=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,w=t.label,y=t.labelFormatter,S=t.accessibilityLayer,_=S===void 0?!1:S,C=function(){if(m&&m.length){var F={padding:0,margin:0},U=(x?xb(m,x):m).map(function(W,B){if(W.type==="none")return null;var $=Jx({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),z=W.formatter||p||fF,V=W.value,G=W.name,D=V,q=G;if(z&&D!=null&&q!=null){var H=z(V,G,W,B,m);if(Array.isArray(H)){var X=aF(H,2);D=X[0],q=X[1]}else D=H}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},_t(q)?Y.createElement("span",{className:"recharts-tooltip-item-name"},q):null,_t(q)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},D),Y.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:F},U)}return null},O=Jx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=Jx({margin:0},h),P=!De(w),E=P?w:"",T=Le("recharts-default-tooltip",v),M=Le("recharts-tooltip-label",b);P&&y&&m!==void 0&&m!==null&&(E=y(w,m));var L=_?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",Cy({className:T,style:O},L),Y.createElement("p",{className:M,style:j},Y.isValidElement(E)?E:"".concat(E)),C())};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Bu(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=mF(e,"string");return Pl(t)=="symbol"?t:t+""}function mF(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo="recharts-tooltip-wrapper",gF={visibility:"hidden"};function xF(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Le(Jo,Bu(Bu(Bu(Bu({},"".concat(Jo,"-right"),me(r)&&t&&me(t.x)&&r>=t.x),"".concat(Jo,"-left"),me(r)&&t&&me(t.x)&&r<t.x),"".concat(Jo,"-bottom"),me(n)&&t&&me(t.y)&&n>=t.y),"".concat(Jo,"-top"),me(n)&&t&&me(t.y)&&n<t.y))}function ak(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,h=e.viewBoxDimension;if(o&&me(o[n]))return o[n];var m=r[n]-u-i,p=r[n]+i;if(t[n])return l[n]?m:p;if(l[n]){var x=m,v=d[n];return x<v?Math.max(p,d[n]):Math.max(m,d[n])}var b=p+u,w=d[n]+h;return b>w?Math.max(m,d[n]):Math.max(p,d[n])}function yF(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function vF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,h,m,p;return l.height>0&&l.width>0&&r?(m=ak({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=ak({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=yF({translateX:m,translateY:p,useTranslate3d:u})):h=gF,{cssProperties:h,cssClasses:xF({translateX:m,translateY:p,coordinate:r})}}function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){Ty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TE(n.key),n)}}function wF(e,t,r){return t&&jF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NF(e,t,r){return t=pd(t),SF(e,EE()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function SF(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OF(e)}function OF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EE=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function kF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ey(e,t)}function Ty(e,t,r){return t=TE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TE(e){var t=PF(e,"string");return ks(t)=="symbol"?t:t+""}function PF(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ok=1,AF=(function(e){function t(){var r;bF(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=NF(this,t,[].concat(i)),Ty(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ty(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),r}return kF(t,e),wF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ok||Math.abs(n.height-this.state.lastBoundingBox.height)>ok)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.children,m=i.coordinate,p=i.hasPayload,x=i.isAnimationActive,v=i.offset,b=i.position,w=i.reverseDirection,y=i.useTranslate3d,S=i.viewBox,_=i.wrapperStyle,C=vF({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:v,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:S}),O=C.cssClasses,j=C.cssProperties,P=sk(sk({transition:x&&o?"transform ".concat(u,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},_);return Y.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(T){n.wrapperNode=T}},h)}}])})(k.PureComponent),_F=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ki={isSsr:_F()};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){yb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ME(n.key),n)}}function TF(e,t,r){return t&&EF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RF(e,t,r){return t=md(t),MF(e,RE()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function MF(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IF(e)}function IF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RE=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function $F(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ry(e,t)}function yb(e,t,r){return t=ME(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ME(e){var t=DF(e,"string");return Ps(t)=="symbol"?t:t+""}function DF(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LF(e){return e.dataKey}function FF(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(hF,t)}var Ir=(function(e){function t(){return CF(this,t),RF(this,t,arguments)}return $F(t,e),TF(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.content,m=i.coordinate,p=i.filterNull,x=i.isAnimationActive,v=i.offset,b=i.payload,w=i.payloadUniqBy,y=i.position,S=i.reverseDirection,_=i.useTranslate3d,C=i.viewBox,O=i.wrapperStyle,j=b??[];p&&j.length&&(j=SE(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),w,LF));var P=j.length>0;return Y.createElement(AF,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:o,coordinate:m,hasPayload:P,offset:v,position:y,reverseDirection:S,useTranslate3d:_,viewBox:C,wrapperStyle:O},FF(h,ck(ck({},this.props),{},{payload:j})))}}])})(k.PureComponent);yb(Ir,"displayName","Tooltip");yb(Ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ki.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zx,uk;function BF(){if(uk)return Zx;uk=1;var e=Nn(),t=function(){return e.Date.now()};return Zx=t,Zx}var e0,dk;function qF(){if(dk)return e0;dk=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return e0=t,e0}var t0,fk;function zF(){if(fk)return t0;fk=1;var e=qF(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return t0=r,t0}var r0,hk;function IE(){if(hk)return r0;hk=1;var e=zF(),t=Ra(),r=Js(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(t(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=t(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):i.test(h)?n:+h}return r0=d,r0}var n0,pk;function UF(){if(pk)return n0;pk=1;var e=Ra(),t=BF(),r=IE(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,h){var m,p,x,v,b,w,y=0,S=!1,_=!1,C=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(h)&&(S=!!h.leading,_="maxWait"in h,x=_?i(r(h.maxWait)||0,d):x,C="trailing"in h?!!h.trailing:C);function O(U){var W=m,B=p;return m=p=void 0,y=U,v=u.apply(B,W),v}function j(U){return y=U,b=setTimeout(T,d),S?O(U):v}function P(U){var W=U-w,B=U-y,$=d-W;return _?o($,x-B):$}function E(U){var W=U-w,B=U-y;return w===void 0||W>=d||W<0||_&&B>=x}function T(){var U=t();if(E(U))return M(U);b=setTimeout(T,P(U))}function M(U){return b=void 0,C&&m?O(U):(m=p=void 0,v)}function L(){b!==void 0&&clearTimeout(b),y=0,m=w=p=b=void 0}function R(){return b===void 0?v:M(t())}function F(){var U=t(),W=E(U);if(m=arguments,p=this,w=U,W){if(b===void 0)return j(w);if(_)return clearTimeout(b),b=setTimeout(T,d),O(w)}return b===void 0&&(b=setTimeout(T,d)),v}return F.cancel=L,F.flush=R,F}return n0=l,n0}var a0,mk;function WF(){if(mk)return a0;mk=1;var e=UF(),t=Ra(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return a0=n,a0}var KF=WF();const $E=Xe(KF);function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=VF(e,"string");return Al(t)=="symbol"?t:t+""}function VF(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YF(e,t){return ZF(e)||JF(e,t)||QF(e,t)||XF()}function XF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QF(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function ZF(e){if(Array.isArray(e))return e}var vb=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,h=e.minWidth,m=h===void 0?0:h,p=e.minHeight,x=e.maxHeight,v=e.children,b=e.debounce,w=b===void 0?0:b,y=e.id,S=e.className,_=e.onResize,C=e.style,O=C===void 0?{}:C,j=k.useRef(null),P=k.useRef();P.current=_,k.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var E=k.useState({containerWidth:i.width,containerHeight:i.height}),T=YF(E,2),M=T[0],L=T[1],R=k.useCallback(function(U,W){L(function(B){var $=Math.round(U),z=Math.round(W);return B.containerWidth===$&&B.containerHeight===z?B:{containerWidth:$,containerHeight:z}})},[]);k.useEffect(function(){var U=function(G){var D,q=G[0].contentRect,H=q.width,X=q.height;R(H,X),(D=P.current)===null||D===void 0||D.call(P,H,X)};w>0&&(U=$E(U,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),B=j.current.getBoundingClientRect(),$=B.width,z=B.height;return R($,z),W.observe(j.current),function(){W.disconnect()}},[R,w]);var F=k.useMemo(function(){var U=M.containerWidth,W=M.containerHeight;if(U<0||W<0)return null;rn(ni(l)||ni(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=ni(l)?U:l,$=ni(d)?W:d;r&&r>0&&(B?$=B/r:$&&(B=$*r),x&&$>x&&($=x)),rn(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,l,d,m,p,r);var z=!Array.isArray(v)&&qn(v.type).endsWith("Chart");return Y.Children.map(v,function(V){return Y.isValidElement(V)?k.cloneElement(V,qu({width:B,height:$},z?{style:qu({height:"100%",width:"100%",maxHeight:$,maxWidth:B},V.props.style)}:{})):V})},[r,v,d,x,p,m,M,l]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:Le("recharts-responsive-container",S),style:qu(qu({},O),{},{width:l,height:d,minWidth:m,minHeight:p,maxHeight:x}),ref:j},F)}),Pf=function(t){return null};Pf.displayName="Cell";function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){e7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7(e,t,r){return t=t7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return _l(t)=="symbol"?t:t+""}function r7(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts={widthCache:{},cacheCount:0},n7=2e3,a7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vk="recharts_measurement_span";function i7(e){var t=My({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ki.isSsr)return{width:0,height:0};var n=i7(r),i=JSON.stringify({text:t,copyStyle:n});if(ts.widthCache[i])return ts.widthCache[i];try{var o=document.getElementById(vk);o||(o=document.createElement("span"),o.setAttribute("id",vk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=My(My({},a7),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return ts.widthCache[i]=d,++ts.cacheCount>n7&&(ts.cacheCount=0,ts.widthCache={}),d}catch{return{width:0,height:0}}},s7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function gd(e,t){return u7(e)||c7(e,t)||l7(e,t)||o7()}function o7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e,t){if(e){if(typeof e=="string")return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function u7(e){if(Array.isArray(e))return e}function d7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h7(n.key),n)}}function f7(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h7(e){var t=p7(e,"string");return Cl(t)=="symbol"?t:t+""}function p7(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x7=Object.keys(DE),ss="NaN";function y7(e,t){return e*DE[t]}var zu=(function(){function e(t,r){d7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!m7.test(r)&&(this.num=NaN,this.unit=""),x7.includes(r)&&(this.num=y7(t,r),this.unit="px")}return f7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=g7.exec(r))!==null&&n!==void 0?n:[],o=gd(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function LE(e){if(e.includes(ss))return ss;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=wk.exec(t))!==null&&r!==void 0?r:[],i=gd(n,4),o=i[1],l=i[2],u=i[3],d=zu.parse(o??""),h=zu.parse(u??""),m=l==="*"?d.multiply(h):d.divide(h);if(m.isNaN())return ss;t=t.replace(wk,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,x=(p=Nk.exec(t))!==null&&p!==void 0?p:[],v=gd(x,4),b=v[1],w=v[2],y=v[3],S=zu.parse(b??""),_=zu.parse(y??""),C=w==="+"?S.add(_):S.subtract(_);if(C.isNaN())return ss;t=t.replace(Nk,C.toString())}return t}var Sk=/\(([^()]*)\)/;function v7(e){for(var t=e;t.includes("(");){var r=Sk.exec(t),n=gd(r,2),i=n[1];t=t.replace(Sk,LE(i))}return t}function b7(e){var t=e.replace(/\s+/g,"");return t=v7(t),t=LE(t),t}function j7(e){try{return b7(e)}catch{return ss}}function i0(e){var t=j7(e.slice(5,-1));return t===ss?"":t}var w7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],N7=["dx","dy","angle","className","breakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function Ok(e,t){if(e==null)return{};var r=S7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kk(e,t){return A7(e)||P7(e,t)||k7(e,t)||O7()}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k7(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function A7(e){if(Array.isArray(e))return e}var FE=/[ \f\n\r\t\v\u2028\u2029]+/,BE=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(FE));var l=o.map(function(d){return{word:d,width:fl(d,i).width}}),u=n?0:fl("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},_7=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,h=t.breakAll,m=me(l),p=u,x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,z){var V=z.word,G=z.width,D=$[$.length-1];if(D&&(i==null||o||D.width+G+n<Number(i)))D.words.push(V),D.width+=G+n;else{var q={words:[V],width:G};$.push(q)}return $},[])},v=x(r),b=function(B){return B.reduce(function($,z){return $.width>z.width?$:z})};if(!m)return v;for(var w="",y=function(B){var $=p.slice(0,B),z=BE({breakAll:h,style:d,children:$+w}).wordsWithComputedWidth,V=x(z),G=V.length>l||b(V).width>Number(i);return[G,V]},S=0,_=p.length-1,C=0,O;S<=_&&C<=p.length-1;){var j=Math.floor((S+_)/2),P=j-1,E=y(P),T=kk(E,2),M=T[0],L=T[1],R=y(j),F=kk(R,1),U=F[0];if(!M&&!U&&(S=j+1),M&&U&&(_=j-1),!M&&U){O=L;break}C++}return O||v},Ak=function(t){var r=De(t)?[]:t.toString().split(FE);return[{words:r}]},C7=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!ki.isSsr){var d,h,m=BE({breakAll:l,children:i,style:o});if(m){var p=m.wordsWithComputedWidth,x=m.spaceWidth;d=p,h=x}else return Ak(i);return _7({breakAll:l,children:i,maxLines:u,style:o},d,h,r,n)}return Ak(i)},_k="#808080",vi=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,h=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,x=t.textAnchor,v=x===void 0?"start":x,b=t.verticalAnchor,w=b===void 0?"end":b,y=t.fill,S=y===void 0?_k:y,_=Ok(t,w7),C=k.useMemo(function(){return C7({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:p,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,p,_.style,_.width]),O=_.dx,j=_.dy,P=_.angle,E=_.className,T=_.breakAll,M=Ok(_,N7);if(!_t(n)||!_t(o))return null;var L=n+(me(O)?O:0),R=o+(me(j)?j:0),F;switch(w){case"start":F=i0("calc(".concat(h,")"));break;case"middle":F=i0("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:F=i0("calc(".concat(C.length-1," * -").concat(u,")"));break}var U=[];if(p){var W=C[0].width,B=_.width;U.push("scale(".concat((me(B)?B/W:1)/W,")"))}return P&&U.push("rotate(".concat(P,", ").concat(L,", ").concat(R,")")),U.length&&(M.transform=U.join(" ")),Y.createElement("text",Iy({},_e(M,!0),{x:L,y:R,className:Le("recharts-text",E),textAnchor:v,fill:S.includes("url")?_k:S}),C.map(function($,z){var V=$.words.join(T?"":" ");return Y.createElement("tspan",{x:L,dy:z===0?F:u,key:"".concat(V,"-").concat(z)},V)}))};function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bb(e){let t,r,n;e.length!==2?(t=Ca,r=(u,d)=>Ca(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ca||e===E7?e:T7,r=e,n=e);function i(u,d,h=0,m=u.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<0?h=p+1:m=p}while(h<m)}return h}function o(u,d,h=0,m=u.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(u,d,h=0,m=u.length){const p=i(u,d,h,m-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:l,right:o}}function T7(){return 0}function qE(e){return e===null?NaN:+e}function*R7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const M7=bb(Ca),gc=M7.right;bb(qE).center;class Ck extends Map{constructor(t,r=D7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Ek(this,t))}has(t){return super.has(Ek(this,t))}set(t,r){return super.set(I7(this,t),r)}delete(t){return super.delete($7(this,t))}}function Ek({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function I7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function L7(e=Ca){if(e===Ca)return zE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const F7=Math.sqrt(50),B7=Math.sqrt(10),q7=Math.sqrt(2);function xd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=F7?10:o>=B7?5:o>=q7?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?xd(e,t,r*2):[u,d,h]}function $y(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?xd(t,e,r):xd(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(o-h)/-l;else for(let h=0;h<u;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function Dy(e,t,r){return t=+t,e=+e,r=+r,xd(e,t,r)[2]}function Ly(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Dy(t,e,r):Dy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Tk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Rk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?zE:L7(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(t-h*p/d+x)),b=Math.min(n,Math.floor(t+(d-h)*p/d+x));UE(e,t,v,b,i)}const o=e[t];let l=r,u=n;for(Zo(e,r,t),i(e[n],o)>0&&Zo(e,r,n);l<u;){for(Zo(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?Zo(e,r,u):(++u,Zo(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function z7(e,t,r){if(e=Float64Array.from(R7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Rk(e);if(t>=1)return Tk(e);var n,i=(n-1)*t,o=Math.floor(i),l=Tk(UE(e,o).subarray(0,o+1)),u=Rk(e.subarray(o+1));return l+(u-l)*(i-o)}}function U7(e,t,r=qE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function W7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fy=Symbol("implicit");function jb(){var e=new Ck,t=[],r=[],n=Fy;function i(o){let l=e.get(o);if(l===void 0){if(n!==Fy)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Ck;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return jb(t,r).unknown(n)},Fr.apply(i,arguments),i}function El(){var e=jb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,h=0,m=.5;delete e.unknown;function p(){var x=t().length,v=i<n,b=v?i:n,w=v?n:i;o=(w-b)/Math.max(1,x-d+h*2),u&&(o=Math.floor(o)),b+=(w-b-o*(x-d))*m,l=o*(1-d),u&&(b=Math.round(b),l=Math.round(l));var y=W7(x).map(function(S){return b+o*S});return r(v?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),p()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,p()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),p()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},e.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},e.copy=function(){return El(t(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(m)},Fr.apply(p(),arguments)}function WE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WE(t())},e}function hl(){return WE(El.apply(null,arguments).paddingInner(1))}function wb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xc(){}var Tl=.7,yd=1/Tl,fs="\\s*([+-]?\\d+)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K7=/^#([0-9a-f]{3,8})$/,H7=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),G7=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),V7=new RegExp(`^rgba\\(${fs},${fs},${fs},${Rl}\\)$`),Y7=new RegExp(`^rgba\\(${yn},${yn},${yn},${Rl}\\)$`),X7=new RegExp(`^hsl\\(${Rl},${yn},${yn}\\)$`),Q7=new RegExp(`^hsla\\(${Rl},${yn},${yn},${Rl}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wb(xc,Ml,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ik,formatHex:Ik,formatHex8:J7,formatHsl:Z7,formatRgb:$k,toString:$k});function Ik(){return this.rgb().formatHex()}function J7(){return this.rgb().formatHex8()}function Z7(){return HE(this).formatHsl()}function $k(){return this.rgb().formatRgb()}function Ml(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=K7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Dk(t):r===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H7.exec(e))?new ur(t[1],t[2],t[3],1):(t=G7.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V7.exec(e))?Uu(t[1],t[2],t[3],t[4]):(t=Y7.exec(e))?Uu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X7.exec(e))?Bk(t[1],t[2]/100,t[3]/100,1):(t=Q7.exec(e))?Bk(t[1],t[2]/100,t[3]/100,t[4]):Mk.hasOwnProperty(e)?Dk(Mk[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function Dk(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function Uu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ur(e,t,r,n)}function eB(e){return e instanceof xc||(e=Ml(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function By(e,t,r,n){return arguments.length===1?eB(e):new ur(e,t,r,n??1)}function ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wb(ur,By,KE(xc,{brighter(e){return e=e==null?yd:Math.pow(yd,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tl:Math.pow(Tl,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(pi(this.r),pi(this.g),pi(this.b),vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lk,formatHex:Lk,formatHex8:tB,formatRgb:Fk,toString:Fk}));function Lk(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function tB(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const e=vd(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function vd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ai(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function Bk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function HE(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof xc||(e=Ml(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new tn(l,u,d,e.opacity)}function rB(e,t,r,n){return arguments.length===1?HE(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wb(tn,rB,KE(xc,{brighter(e){return e=e==null?yd:Math.pow(yd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tl:Math.pow(Tl,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ur(s0(e>=240?e-240:e+120,i,n),s0(e,i,n),s0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new tn(qk(this.h),Wu(this.s),Wu(this.l),vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vd(this.opacity);return`${e===1?"hsl(":"hsla("}${qk(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qk(e){return e=(e||0)%360,e<0?e+360:e}function Wu(e){return Math.max(0,Math.min(1,e||0))}function s0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nb=e=>()=>e;function nB(e,t){return function(r){return e+r*t}}function aB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function iB(e){return(e=+e)==1?GE:function(t,r){return r-t?aB(t,r,e):Nb(isNaN(t)?r:t)}}function GE(e,t){var r=t-e;return r?nB(e,r):Nb(isNaN(e)?t:e)}const zk=(function e(t){var r=iB(t);function n(i,o){var l=r((i=By(i)).r,(o=By(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),h=GE(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=d(m),i.opacity=h(m),i+""}}return n.gamma=e,n})(1);function sB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function oB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=ro(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function cB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function uB(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ro(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o0=new RegExp(qy.source,"g");function dB(e){return function(){return e}}function fB(e){return function(t){return e(t)+""}}function hB(e,t){var r=qy.lastIndex=o0.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=qy.exec(e))&&(i=o0.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:bd(n,i)})),r=o0.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?fB(d[0].x):dB(t):(t=d.length,function(h){for(var m=0,p;m<t;++m)u[(p=d[m]).i]=p.x(h);return u.join("")})}function ro(e,t){var r=typeof t,n;return t==null||r==="boolean"?Nb(t):(r==="number"?bd:r==="string"?(n=Ml(t))?(t=n,zk):hB:t instanceof Ml?zk:t instanceof Date?cB:oB(t)?sB:Array.isArray(t)?lB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uB:bd)(e,t)}function Sb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pB(e,t){t===void 0&&(t=e,e=ro);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function mB(e){return function(){return e}}function jd(e){return+e}var Uk=[0,1];function rr(e){return e}function zy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mB(isNaN(t)?NaN:.5)}function gB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function xB(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=zy(i,n),o=r(l,o)):(n=zy(n,i),o=r(o,l)),function(u){return o(n(u))}}function yB(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=zy(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=gc(e,u,1,n)-1;return o[d](i[d](u))}}function yc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Af(){var e=Uk,t=Uk,r=ro,n,i,o,l=rr,u,d,h;function m(){var x=Math.min(e.length,t.length);return l!==rr&&(l=gB(e[0],e[x-1])),u=x>2?yB:xB,d=h=null,p}function p(x){return x==null||isNaN(x=+x)?o:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return p.invert=function(x){return l(i((h||(h=u(t,e.map(n),bd)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,jd),m()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),r=Sb,m()},p.clamp=function(x){return arguments.length?(l=x?!0:rr,m()):l!==rr},p.interpolate=function(x){return arguments.length?(r=x,m()):r},p.unknown=function(x){return arguments.length?(o=x,p):o},function(x,v){return n=x,i=v,m()}}function Ob(){return Af()(rr,rr)}function vB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function As(e){return e=wd(Math.abs(e)),e?e[1]:NaN}function bB(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function jB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Il(e){if(!(t=wB.exec(e)))throw new Error("invalid format: "+e);var t;return new kb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Il.prototype=kb.prototype;function kb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NB(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Nd;function SB(e,t){var r=wd(e,t);if(!r)return Nd=void 0,e.toPrecision(t);var n=r[0],i=r[1],o=i-(Nd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+wd(e,Math.max(0,t+o-1))[0]}function Wk(e,t){var r=wd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Kk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wk(e*100,t),r:Wk,s:SB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Hk(e){return e}var Gk=Array.prototype.map,Vk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OB(e){var t=e.grouping===void 0||e.thousands===void 0?Hk:bB(Gk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Hk:jB(Gk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(p,x){p=Il(p);var v=p.fill,b=p.align,w=p.sign,y=p.symbol,S=p.zero,_=p.width,C=p.comma,O=p.precision,j=p.trim,P=p.type;P==="n"?(C=!0,P="g"):Kk[P]||(O===void 0&&(O=12),j=!0,P="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var E=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),T=(y==="$"?n:/[%p]/.test(P)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),M=Kk[P],L=/[defgprs%]/.test(P);O=O===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function R(F){var U=E,W=T,B,$,z;if(P==="c")W=M(F)+W,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?d:M(Math.abs(F),O),j&&(F=NB(F)),V&&+F==0&&w!=="+"&&(V=!1),U=(V?w==="("?w:u:w==="-"||w==="("?"":w)+U,W=(P==="s"&&!isNaN(F)&&Nd!==void 0?Vk[8+Nd/3]:"")+W+(V&&w==="("?")":""),L){for(B=-1,$=F.length;++B<$;)if(z=F.charCodeAt(B),48>z||z>57){W=(z===46?i+F.slice(B+1):F.slice(B))+W,F=F.slice(0,B);break}}}C&&!S&&(F=t(F,1/0));var G=U.length+F.length+W.length,D=G<_?new Array(_-G+1).join(v):"";switch(C&&S&&(F=t(D+F,D.length?_-W.length:1/0),D=""),b){case"<":F=U+F+W+D;break;case"=":F=U+D+F+W;break;case"^":F=D.slice(0,G=D.length>>1)+U+F+W+D.slice(G);break;default:F=D+U+F+W;break}return o(F)}return R.toString=function(){return p+""},R}function m(p,x){var v=Math.max(-8,Math.min(8,Math.floor(As(x)/3)))*3,b=Math.pow(10,-v),w=h((p=Il(p),p.type="f",p),{suffix:Vk[8+v/3]});return function(y){return w(b*y)}}return{format:h,formatPrefix:m}}var Ku,Pb,VE;kB({thousands:",",grouping:[3],currency:["$",""]});function kB(e){return Ku=OB(e),Pb=Ku.format,VE=Ku.formatPrefix,Ku}function PB(e){return Math.max(0,-As(Math.abs(e)))}function AB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(As(t)/3)))*3-As(Math.abs(e)))}function _B(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,As(t)-As(e))+1}function YE(e,t,r,n){var i=Ly(e,t,r),o;switch(n=Il(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=AB(i,l))&&(n.precision=o),VE(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=_B(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=PB(i))&&(n.precision=o-(n.type==="%")*2);break}}return Pb(n)}function Ma(e){var t=e.domain;return e.ticks=function(r){var n=t();return $y(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return YE(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);m-- >0;){if(h=Dy(l,u,r),h===d)return n[i]=l,n[o]=u,t(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function Sd(){var e=Ob();return e.copy=function(){return yc(e,Sd())},Fr.apply(e,arguments),Ma(e)}function XE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XE(e).unknown(t)},e=arguments.length?Array.from(e,jd):[0,1],Ma(r)}function QE(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function Yk(e){return Math.log(e)}function Xk(e){return Math.exp(e)}function CB(e){return-Math.log(-e)}function EB(e){return-Math.exp(-e)}function TB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RB(e){return e===10?TB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Qk(e){return(t,r)=>-e(-t,r)}function Ab(e){const t=e(Yk,Xk),r=t.domain;let n=10,i,o;function l(){return i=MB(n),o=RB(n),r()[0]<0?(i=Qk(i),o=Qk(o),e(CB,EB)):e(Yk,Xk),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let x=i(h),v=i(m),b,w;const y=u==null?10:+u;let S=[];if(!(n%1)&&v-x<y){if(x=Math.floor(x),v=Math.ceil(v),h>0){for(;x<=v;++x)for(b=1;b<n;++b)if(w=x<0?b/o(-x):b*o(x),!(w<h)){if(w>m)break;S.push(w)}}else for(;x<=v;++x)for(b=n-1;b>=1;--b)if(w=x>0?b/o(-x):b*o(x),!(w<h)){if(w>m)break;S.push(w)}S.length*2<y&&(S=$y(h,m,y))}else S=$y(x,v,Math.min(v-x,y)).map(o);return p?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Il(d)).precision==null&&(d.trim=!0),d=Pb(d)),u===1/0)return d;const h=Math.max(1,n*u/t.ticks().length);return m=>{let p=m/o(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},t.nice=()=>r(QE(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function JE(){const e=Ab(Af()).domain([1,10]);return e.copy=()=>yc(e,JE()).base(e.base()),Fr.apply(e,arguments),e}function Jk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Zk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _b(e){var t=1,r=e(Jk(t),Zk(t));return r.constant=function(n){return arguments.length?e(Jk(t=+n),Zk(t)):t},Ma(r)}function ZE(){var e=_b(Af());return e.copy=function(){return yc(e,ZE()).constant(e.constant())},Fr.apply(e,arguments)}function eP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $B(e){return e<0?-e*e:e*e}function Cb(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(IB,$B):e(eP(r),eP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ma(t)}function Eb(){var e=Cb(Af());return e.copy=function(){return yc(e,Eb()).exponent(e.exponent())},Fr.apply(e,arguments),e}function DB(){return Eb.apply(null,arguments).exponent(.5)}function tP(e){return Math.sign(e)*e*e}function LB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eT(){var e=Ob(),t=[0,1],r=!1,n;function i(o){var l=LB(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(tP(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,jd)).map(tP)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(i,arguments),Ma(i)}function tT(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=U7(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[gc(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return tT().domain(e).range(t).unknown(n)},Fr.apply(o,arguments)}function rT(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[gc(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return rT().domain([e,t]).range(i).unknown(o)},Fr.apply(Ma(l),arguments)}function nT(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[gc(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nT().domain(e).range(t).unknown(r)},Fr.apply(i,arguments)}const l0=new Date,c0=new Date;function Ct(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let h;do d.push(h=new Date(+o)),t(o,u),e(o);while(h<o&&o<l);return d},i.filter=o=>Ct(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(l0.setTime(+o),c0.setTime(+l),e(l0),e(c0),Math.floor(r(l0,c0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Od=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Od.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Od);Od.range;const Ln=1e3,Dr=Ln*60,Fn=Dr*60,Wn=Fn*24,Tb=Wn*7,rP=Wn*30,u0=Wn*365,ii=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCSeconds());ii.range;const Rb=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Rb.range;const Mb=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());Mb.range;const Ib=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());Ib.range;const $b=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());$b.range;const vc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Wn,e=>e.getDate()-1);vc.range;const _f=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);_f.range;const aT=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));aT.range;function Pi(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Tb)}const Cf=Pi(0),kd=Pi(1),FB=Pi(2),BB=Pi(3),_s=Pi(4),qB=Pi(5),zB=Pi(6);Cf.range;kd.range;FB.range;BB.range;_s.range;qB.range;zB.range;function Ai(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tb)}const Ef=Ai(0),Pd=Ai(1),UB=Ai(2),WB=Ai(3),Cs=Ai(4),KB=Ai(5),HB=Ai(6);Ef.range;Pd.range;UB.range;WB.range;Cs.range;KB.range;HB.range;const Db=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Db.range;const Lb=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lb.range;const Kn=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Kn.range;const Hn=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hn.range;function iT(e,t,r,n,i,o){const l=[[ii,1,Ln],[ii,5,5*Ln],[ii,15,15*Ln],[ii,30,30*Ln],[o,1,Dr],[o,5,5*Dr],[o,15,15*Dr],[o,30,30*Dr],[i,1,Fn],[i,3,3*Fn],[i,6,6*Fn],[i,12,12*Fn],[n,1,Wn],[n,2,2*Wn],[r,1,Tb],[t,1,rP],[t,3,3*rP],[e,1,u0]];function u(h,m,p){const x=m<h;x&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:d(h,m,p),b=v?v.range(h,+m+1):[];return x?b.reverse():b}function d(h,m,p){const x=Math.abs(m-h)/p,v=bb(([,,y])=>y).right(l,x);if(v===l.length)return e.every(Ly(h/u0,m/u0,p));if(v===0)return Od.every(Math.max(Ly(h,m,p),1));const[b,w]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return b.every(w)}return[u,d]}const[GB,VB]=iT(Hn,Lb,Ef,aT,$b,Mb),[YB,XB]=iT(Kn,Db,Cf,vc,Ib,Rb);function d0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function el(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QB(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=tl(i),m=rl(i),p=tl(o),x=rl(o),v=tl(l),b=rl(l),w=tl(u),y=rl(u),S=tl(d),_=rl(d),C={a:z,A:V,b:G,B:D,c:null,d:lP,e:lP,f:bq,g:Cq,G:Tq,H:xq,I:yq,j:vq,L:sT,m:jq,M:wq,p:q,q:H,Q:dP,s:fP,S:Nq,u:Sq,U:Oq,V:kq,w:Pq,W:Aq,x:null,X:null,y:_q,Y:Eq,Z:Rq,"%":uP},O={a:X,A:oe,b:fe,B:se,c:null,d:cP,e:cP,f:Dq,g:Gq,G:Yq,H:Mq,I:Iq,j:$q,L:lT,m:Lq,M:Fq,p:ke,q:Se,Q:dP,s:fP,S:Bq,u:qq,U:zq,V:Uq,w:Wq,W:Kq,x:null,X:null,y:Hq,Y:Vq,Z:Xq,"%":uP},j={a:L,A:R,b:F,B:U,c:W,d:sP,e:sP,f:hq,g:iP,G:aP,H:oP,I:oP,j:cq,L:fq,m:lq,M:uq,p:M,q:oq,Q:mq,s:gq,S:dq,u:rq,U:nq,V:aq,w:tq,W:iq,x:B,X:$,y:iP,Y:aP,Z:sq,"%":pq};C.x=P(r,C),C.X=P(n,C),C.c=P(t,C),O.x=P(r,O),O.X=P(n,O),O.c=P(t,O);function P(ce,Oe){return function(Ie){var Z=[],xe=-1,ye=0,Je=ce.length,ft,Et,Br;for(Ie instanceof Date||(Ie=new Date(+Ie));++xe<Je;)ce.charCodeAt(xe)===37&&(Z.push(ce.slice(ye,xe)),(Et=nP[ft=ce.charAt(++xe)])!=null?ft=ce.charAt(++xe):Et=ft==="e"?" ":"0",(Br=Oe[ft])&&(ft=Br(Ie,Et)),Z.push(ft),ye=xe+1);return Z.push(ce.slice(ye,xe)),Z.join("")}}function E(ce,Oe){return function(Ie){var Z=el(1900,void 0,1),xe=T(Z,ce,Ie+="",0),ye,Je;if(xe!=Ie.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ye=f0(el(Z.y,0,1)),Je=ye.getUTCDay(),ye=Je>4||Je===0?Pd.ceil(ye):Pd(ye),ye=_f.offset(ye,(Z.V-1)*7),Z.y=ye.getUTCFullYear(),Z.m=ye.getUTCMonth(),Z.d=ye.getUTCDate()+(Z.w+6)%7):(ye=d0(el(Z.y,0,1)),Je=ye.getDay(),ye=Je>4||Je===0?kd.ceil(ye):kd(ye),ye=vc.offset(ye,(Z.V-1)*7),Z.y=ye.getFullYear(),Z.m=ye.getMonth(),Z.d=ye.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Je="Z"in Z?f0(el(Z.y,0,1)).getUTCDay():d0(el(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Je+5)%7:Z.w+Z.U*7-(Je+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,f0(Z)):d0(Z)}}function T(ce,Oe,Ie,Z){for(var xe=0,ye=Oe.length,Je=Ie.length,ft,Et;xe<ye;){if(Z>=Je)return-1;if(ft=Oe.charCodeAt(xe++),ft===37){if(ft=Oe.charAt(xe++),Et=j[ft in nP?Oe.charAt(xe++):ft],!Et||(Z=Et(ce,Ie,Z))<0)return-1}else if(ft!=Ie.charCodeAt(Z++))return-1}return Z}function M(ce,Oe,Ie){var Z=h.exec(Oe.slice(Ie));return Z?(ce.p=m.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function L(ce,Oe,Ie){var Z=v.exec(Oe.slice(Ie));return Z?(ce.w=b.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function R(ce,Oe,Ie){var Z=p.exec(Oe.slice(Ie));return Z?(ce.w=x.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function F(ce,Oe,Ie){var Z=S.exec(Oe.slice(Ie));return Z?(ce.m=_.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function U(ce,Oe,Ie){var Z=w.exec(Oe.slice(Ie));return Z?(ce.m=y.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function W(ce,Oe,Ie){return T(ce,t,Oe,Ie)}function B(ce,Oe,Ie){return T(ce,r,Oe,Ie)}function $(ce,Oe,Ie){return T(ce,n,Oe,Ie)}function z(ce){return l[ce.getDay()]}function V(ce){return o[ce.getDay()]}function G(ce){return d[ce.getMonth()]}function D(ce){return u[ce.getMonth()]}function q(ce){return i[+(ce.getHours()>=12)]}function H(ce){return 1+~~(ce.getMonth()/3)}function X(ce){return l[ce.getUTCDay()]}function oe(ce){return o[ce.getUTCDay()]}function fe(ce){return d[ce.getUTCMonth()]}function se(ce){return u[ce.getUTCMonth()]}function ke(ce){return i[+(ce.getUTCHours()>=12)]}function Se(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Oe=P(ce+="",C);return Oe.toString=function(){return ce},Oe},parse:function(ce){var Oe=E(ce+="",!1);return Oe.toString=function(){return ce},Oe},utcFormat:function(ce){var Oe=P(ce+="",O);return Oe.toString=function(){return ce},Oe},utcParse:function(ce){var Oe=E(ce+="",!0);return Oe.toString=function(){return ce},Oe}}}var nP={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,JB=/^%/,ZB=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function eq(e){return e.replace(ZB,"\\$&")}function tl(e){return new RegExp("^(?:"+e.map(eq).join("|")+")","i")}function rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function tq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function rq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function nq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function aq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function iq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aP(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function lq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function cq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function dq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hq(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pq(e,t,r){var n=JB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lP(e,t){return Ge(e.getDate(),t,2)}function xq(e,t){return Ge(e.getHours(),t,2)}function yq(e,t){return Ge(e.getHours()%12||12,t,2)}function vq(e,t){return Ge(1+vc.count(Kn(e),e),t,3)}function sT(e,t){return Ge(e.getMilliseconds(),t,3)}function bq(e,t){return sT(e,t)+"000"}function jq(e,t){return Ge(e.getMonth()+1,t,2)}function wq(e,t){return Ge(e.getMinutes(),t,2)}function Nq(e,t){return Ge(e.getSeconds(),t,2)}function Sq(e){var t=e.getDay();return t===0?7:t}function Oq(e,t){return Ge(Cf.count(Kn(e)-1,e),t,2)}function oT(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function kq(e,t){return e=oT(e),Ge(_s.count(Kn(e),e)+(Kn(e).getDay()===4),t,2)}function Pq(e){return e.getDay()}function Aq(e,t){return Ge(kd.count(Kn(e)-1,e),t,2)}function _q(e,t){return Ge(e.getFullYear()%100,t,2)}function Cq(e,t){return e=oT(e),Ge(e.getFullYear()%100,t,2)}function Eq(e,t){return Ge(e.getFullYear()%1e4,t,4)}function Tq(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function Rq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function cP(e,t){return Ge(e.getUTCDate(),t,2)}function Mq(e,t){return Ge(e.getUTCHours(),t,2)}function Iq(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function $q(e,t){return Ge(1+_f.count(Hn(e),e),t,3)}function lT(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function Dq(e,t){return lT(e,t)+"000"}function Lq(e,t){return Ge(e.getUTCMonth()+1,t,2)}function Fq(e,t){return Ge(e.getUTCMinutes(),t,2)}function Bq(e,t){return Ge(e.getUTCSeconds(),t,2)}function qq(e){var t=e.getUTCDay();return t===0?7:t}function zq(e,t){return Ge(Ef.count(Hn(e)-1,e),t,2)}function cT(e){var t=e.getUTCDay();return t>=4||t===0?Cs(e):Cs.ceil(e)}function Uq(e,t){return e=cT(e),Ge(Cs.count(Hn(e),e)+(Hn(e).getUTCDay()===4),t,2)}function Wq(e){return e.getUTCDay()}function Kq(e,t){return Ge(Pd.count(Hn(e)-1,e),t,2)}function Hq(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function Gq(e,t){return e=cT(e),Ge(e.getUTCFullYear()%100,t,2)}function Vq(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function Yq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cs(e):Cs.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function Xq(){return"+0000"}function uP(){return"%"}function dP(e){return+e}function fP(e){return Math.floor(+e/1e3)}var rs,uT,dT;Qq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qq(e){return rs=QB(e),uT=rs.format,rs.parse,dT=rs.utcFormat,rs.utcParse,rs}function Jq(e){return new Date(e)}function Zq(e){return e instanceof Date?+e:+new Date(+e)}function Fb(e,t,r,n,i,o,l,u,d,h){var m=Ob(),p=m.invert,x=m.domain,v=h(".%L"),b=h(":%S"),w=h("%I:%M"),y=h("%I %p"),S=h("%a %d"),_=h("%b %d"),C=h("%B"),O=h("%Y");function j(P){return(d(P)<P?v:u(P)<P?b:l(P)<P?w:o(P)<P?y:n(P)<P?i(P)<P?S:_:r(P)<P?C:O)(P)}return m.invert=function(P){return new Date(p(P))},m.domain=function(P){return arguments.length?x(Array.from(P,Zq)):x().map(Jq)},m.ticks=function(P){var E=x();return e(E[0],E[E.length-1],P??10)},m.tickFormat=function(P,E){return E==null?j:h(E)},m.nice=function(P){var E=x();return(!P||typeof P.range!="function")&&(P=t(E[0],E[E.length-1],P??10)),P?x(QE(E,P)):m},m.copy=function(){return yc(m,Fb(e,t,r,n,i,o,l,u,d,h))},m}function ez(){return Fr.apply(Fb(YB,XB,Kn,Db,Cf,vc,Ib,Rb,ii,uT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tz(){return Fr.apply(Fb(GB,VB,Hn,Lb,Ef,_f,$b,Mb,ii,dT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tf(){var e=0,t=1,r,n,i,o,l=rr,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(x){var v,b;return arguments.length?([v,b]=x,l=p(v,b),h):[l(0),l(1)]}}return h.range=m(ro),h.rangeRound=m(Sb),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return o=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Ia(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fT(){var e=Ma(Tf()(rr));return e.copy=function(){return Ia(e,fT())},Xn.apply(e,arguments)}function hT(){var e=Ab(Tf()).domain([1,10]);return e.copy=function(){return Ia(e,hT()).base(e.base())},Xn.apply(e,arguments)}function pT(){var e=_b(Tf());return e.copy=function(){return Ia(e,pT()).constant(e.constant())},Xn.apply(e,arguments)}function Bb(){var e=Cb(Tf());return e.copy=function(){return Ia(e,Bb()).exponent(e.exponent())},Xn.apply(e,arguments)}function rz(){return Bb.apply(null,arguments).exponent(.5)}function mT(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((gc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>z7(e,o/n))},r.copy=function(){return mT(t).domain(e)},Xn.apply(r,arguments)}function Rf(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,h=rr,m,p=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+m(w))-o)*(n*w<n*o?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,i=m(e=+e),o=m(t=+t),l=m(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function b(w){return function(y){var S,_,C;return arguments.length?([S,_,C]=y,h=pB(w,[S,_,C]),v):[h(0),h(.5),h(1)]}}return v.range=b(ro),v.rangeRound=b(Sb),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return m=w,i=w(e),o=w(t),l=w(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v}}function gT(){var e=Ma(Rf()(rr));return e.copy=function(){return Ia(e,gT())},Xn.apply(e,arguments)}function xT(){var e=Ab(Rf()).domain([.1,1,10]);return e.copy=function(){return Ia(e,xT()).base(e.base())},Xn.apply(e,arguments)}function yT(){var e=_b(Rf());return e.copy=function(){return Ia(e,yT()).constant(e.constant())},Xn.apply(e,arguments)}function qb(){var e=Cb(Rf());return e.copy=function(){return Ia(e,qb()).exponent(e.exponent())},Xn.apply(e,arguments)}function nz(){return qb.apply(null,arguments).exponent(.5)}const hP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:El,scaleDiverging:gT,scaleDivergingLog:xT,scaleDivergingPow:qb,scaleDivergingSqrt:nz,scaleDivergingSymlog:yT,scaleIdentity:XE,scaleImplicit:Fy,scaleLinear:Sd,scaleLog:JE,scaleOrdinal:jb,scalePoint:hl,scalePow:Eb,scaleQuantile:tT,scaleQuantize:rT,scaleRadial:eT,scaleSequential:fT,scaleSequentialLog:hT,scaleSequentialPow:Bb,scaleSequentialQuantile:mT,scaleSequentialSqrt:rz,scaleSequentialSymlog:pT,scaleSqrt:DB,scaleSymlog:ZE,scaleThreshold:nT,scaleTime:ez,scaleUtc:tz,tickFormat:YE},Symbol.toStringTag,{value:"Module"}));var h0,pP;function Mf(){if(pP)return h0;pP=1;var e=Js();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(h===void 0?d===d&&!e(d):i(d,h)))var h=d,m=u}return m}return h0=t,h0}var p0,mP;function vT(){if(mP)return p0;mP=1;function e(t,r){return t>r}return p0=e,p0}var m0,gP;function az(){if(gP)return m0;gP=1;var e=Mf(),t=vT(),r=to();function n(i){return i&&i.length?e(i,r,t):void 0}return m0=n,m0}var iz=az();const If=Xe(iz);var g0,xP;function bT(){if(xP)return g0;xP=1;function e(t,r){return t<r}return g0=e,g0}var x0,yP;function sz(){if(yP)return x0;yP=1;var e=Mf(),t=bT(),r=to();function n(i){return i&&i.length?e(i,r,t):void 0}return x0=n,x0}var oz=sz();const $f=Xe(oz);var y0,vP;function lz(){if(vP)return y0;vP=1;var e=rb(),t=Sn(),r=_E(),n=hr();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return y0=i,y0}var v0,bP;function cz(){if(bP)return v0;bP=1;var e=PE(),t=lz();function r(n,i){return e(t(n,i),1)}return v0=r,v0}var uz=cz();const dz=Xe(uz);var b0,jP;function fz(){if(jP)return b0;jP=1;var e=mb();function t(r,n){return e(r,n)}return b0=t,b0}var hz=fz();const bc=Xe(hz);var no=1e9,pz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ub,ct=!0,Lr="[DecimalError] ",mi=Lr+"Invalid argument: ",zb=Lr+"Exponent out of range: ",ao=Math.floor,ei=Math.pow,mz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,$t=1e7,ot=7,jT=9007199254740991,Ad=ao(jT/ot),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return zn(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return et(zn(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return wt(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Lr+"NaN");if(r.s<1)throw Error(Lr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(ct=!1,t=zn($l(r,o),$l(e,o),o),ct=!0,et(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ST(t,e):wT(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Lr+"NaN");return r.s?(ct=!1,t=zn(r,e,0,1).times(e),ct=!0,r.minus(t)):et(new n(r),i)};be.naturalExponential=be.exp=function(){return NT(this)};be.naturalLogarithm=be.ln=function(){return $l(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wT(t,e):ST(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=wt(i)+1,n=i.d.length-1,r=n*ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=wt(u),ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=xn(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ao((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(zn(u,o,l+2)).times(.5),xn(o.d).slice(0,l)===(t=xn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(et(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return ct=!0,et(n,r)};be.times=be.mul=function(e){var t,r,n,i,o,l,u,d,h,m=this,p=m.constructor,x=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=x.length,h=v.length,d<h&&(o=x,x=v,v=o,l=d,d=h,h=l),o=[],l=d+h,n=l;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+v[n]*x[i-n-1]+t,o[i--]=u%$t|0,t=u/$t|0;o[i]=(o[i]+t)%$t|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,ct?et(e,p.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,no),t===void 0?t=n.rounding:bn(t,0,8),et(r,e+wt(r)+1,t))};be.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=bi(n,!0):(bn(e,0,no),t===void 0?t=i.rounding:bn(t,0,8),n=et(new i(n),e+1,t),r=bi(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?bi(i):(bn(e,0,no),t===void 0?t=o.rounding:bn(t,0,8),n=et(new o(i),e+wt(i)+1,t),r=bi(n.abs(),!1,e+wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return et(new t(e),wt(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,h=12,m=+(e=new d(e));if(!e.s)return new d(wr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(wr))return u;if(n=d.precision,e.eq(wr))return et(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=m<0?-m:m)<=jT){for(i=new d(wr),t=Math.ceil(n/ot+4),ct=!1;r%2&&(i=i.times(u),NP(i.d,t)),r=ao(r/2),r!==0;)u=u.times(u),NP(u.d,t);return ct=!0,e.s<0?new d(wr).div(i):et(i,n)}}else if(o<0)throw Error(Lr+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ct=!1,i=e.times($l(u,n+h)),ct=!0,i=NT(i),i.s=o,i};be.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=wt(i),n=bi(i,r<=o.toExpNeg||r>=o.toExpPos)):(bn(e,1,no),t===void 0?t=o.rounding:bn(t,0,8),i=et(new o(i),e,t),r=wt(i),n=bi(i,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,no),t===void 0?t=n.rounding:bn(t,0,8)),et(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function wT(e,t){var r,n,i,o,l,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),ct?et(t,p):t;if(d=e.d,h=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=h.length):(n=h,i=l,u=d.length),l=Math.ceil(p/ot),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=h.length,u-o<0&&(o=u,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/$t|0,d[o]%=$t;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,ct?et(t,p):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function xn(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=ot-n.length,r&&(o+=ya(r)),o+=n;l=e[t],n=l+"",r=ot-n.length,r&&(o+=ya(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var zn=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%$t|0,l=o/$t|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*$t+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,h,m,p,x,v,b,w,y,S,_,C,O,j,P,E,T,M=n.constructor,L=n.s==i.s?1:-1,R=n.d,F=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Lr+"Division by zero");for(d=n.e-i.e,E=F.length,j=R.length,v=new M(L),b=v.d=[],h=0;F[h]==(R[h]||0);)++h;if(F[h]>(R[h]||0)&&--d,o==null?_=o=M.precision:l?_=o+(wt(n)-wt(i))+1:_=o,_<0)return new M(0);if(_=_/ot+2|0,h=0,E==1)for(m=0,F=F[0],_++;(h<j||m)&&_--;h++)C=m*$t+(R[h]||0),b[h]=C/F|0,m=C%F|0;else{for(m=$t/(F[0]+1)|0,m>1&&(F=e(F,m),R=e(R,m),E=F.length,j=R.length),O=E,w=R.slice(0,E),y=w.length;y<E;)w[y++]=0;T=F.slice(),T.unshift(0),P=F[0],F[1]>=$t/2&&++P;do m=0,u=t(F,w,E,y),u<0?(S=w[0],E!=y&&(S=S*$t+(w[1]||0)),m=S/P|0,m>1?(m>=$t&&(m=$t-1),p=e(F,m),x=p.length,y=w.length,u=t(p,w,x,y),u==1&&(m--,r(p,E<x?T:F,x))):(m==0&&(u=m=1),p=F.slice()),x=p.length,x<y&&p.unshift(0),r(w,p,y),u==-1&&(y=w.length,u=t(F,w,E,y),u<1&&(m++,r(w,E<y?T:F,y))),y=w.length):u===0&&(m++,w=[0]),b[h++]=m,u&&w[0]?w[y++]=R[O]||0:(w=[R[O]],y=1);while((O++<j||w[0]!==void 0)&&_--)}return b[0]||b.shift(),v.e=d,et(v,l?o+wt(v)+1:o)}})();function NT(e,t){var r,n,i,o,l,u,d=0,h=0,m=e.constructor,p=m.precision;if(wt(e)>16)throw Error(zb+wt(e));if(!e.s)return new m(wr);for(ct=!1,u=p,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ei(2,h))/Math.LN10*2+5|0,u+=n,r=i=o=new m(wr),m.precision=u;;){if(i=et(i.times(e),u),r=r.times(++d),l=o.plus(zn(i,r,u)),xn(l.d).slice(0,u)===xn(o.d).slice(0,u)){for(;h--;)o=et(o.times(o),u);return m.precision=p,t==null?(ct=!0,et(o,p)):o}o=l}}function wt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function j0(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(Lr+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function $l(e,t){var r,n,i,o,l,u,d,h,m,p=1,x=10,v=e,b=v.d,w=v.constructor,y=w.precision;if(v.s<1)throw Error(Lr+(v.s?"NaN":"-Infinity"));if(v.eq(wr))return new w(0);if(t==null?(ct=!1,h=y):h=t,v.eq(10))return t==null&&(ct=!0),j0(w,h);if(h+=x,w.precision=h,r=xn(b),n=r.charAt(0),o=wt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=xn(v.d),n=r.charAt(0),p++;o=wt(v),n>1?(v=new w("0."+r),o++):v=new w(n+"."+r.slice(1))}else return d=j0(w,h+2,y).times(o+""),v=$l(new w(n+"."+r.slice(1)),h-x).plus(d),w.precision=y,t==null?(ct=!0,et(v,y)):v;for(u=l=v=zn(v.minus(wr),v.plus(wr),h),m=et(v.times(v),h),i=3;;){if(l=et(l.times(m),h),d=u.plus(zn(l,new w(i),h)),xn(d.d).slice(0,h)===xn(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(j0(w,h+2,y).times(o+""))),u=zn(u,new w(p),h),w.precision=y,t==null?(ct=!0,et(u,y)):u;u=d,i+=2}}function wP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ao(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ot;n<i;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>Ad||e.e<-Ad))throw Error(zb+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,i,o,l,u,d,h,m,p=e.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=ot,i=t,h=p[m=0];else{if(m=Math.ceil((n+1)/ot),o=p.length,m>=o)return e;for(h=o=p[m],l=1;o>=10;o/=10)l++;n%=ot,i=n-ot+l}if(r!==void 0&&(o=ei(10,l-i-1),u=h/o%10|0,d=t<0||p[m+1]!==void 0||h%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/ei(10,l-i):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(o=wt(e),p.length=1,t=t-o-1,p[0]=ei(10,(ot-t%ot)%ot),e.e=ao(-t/ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,o=1,m--):(p.length=m+1,o=ei(10,ot-n),p[m]=i>0?(h/ei(10,l-i)%ei(10,i)|0)*o:0),d)for(;;)if(m==0){(p[0]+=o)==$t&&(p[0]=1,++e.e);break}else{if(p[m]+=o,p[m]!=$t)break;p[m--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(ct&&(e.e>Ad||e.e<-Ad))throw Error(zb+wt(e));return e}function ST(e,t){var r,n,i,o,l,u,d,h,m,p,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ct?et(t,v):t;if(d=e.d,p=t.d,n=t.e,h=e.e,d=d.slice(),l=h-n,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),i=Math.max(Math.ceil(v/ot),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(o=i;o&&d[--o]===0;)d[o]=$t-1;--d[o],d[i]+=$t}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ct?et(t,v):t):new x(0)}function bi(e,t,r){var n,i=wt(e),o=xn(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+ya(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ya(-i-1)+o,r&&(n=r-l)>0&&(o+=ya(n))):i>=l?(o+=ya(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+ya(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=ya(n))),e.s<0?"-"+o:o}function NP(e,t){if(e.length>t)return e.length=t,!0}function OT(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mi+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return wP(l,o.toString())}else if(typeof o!="string")throw Error(mi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,mz.test(o))wP(l,o);else throw Error(mi+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=OT,i.config=i.set=gz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function gz(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,r,n,i=["precision",1,no,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ao(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Ub=OT(pz);wr=new Ub(1);const Ze=Ub;function xz(e){return jz(e)||bz(e)||vz(e)||yz()}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(e,t){if(e){if(typeof e=="string")return Uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uy(e,t)}}function bz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jz(e){if(Array.isArray(e))return Uy(e)}function Uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wz=function(t){return t},kT={},PT=function(t){return t===kT},SP=function(t){return function r(){return arguments.length===0||arguments.length===1&&PT(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Nz=function e(t,r){return t===1?r:SP(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==kT}).length;return l>=t?r.apply(void 0,i):e(t-l,SP(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=i.map(function(p){return PT(p)?d.shift():p});return r.apply(void 0,xz(m).concat(d))}))})},Df=function(t){return Nz(t.length,t)},Wy=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Sz=Df(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Oz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return wz;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},Ky=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},AT=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function kz(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function Pz(e,t,r){for(var n=new Ze(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Az=Df(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),_z=Df(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Cz=Df(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Lf={rangeStep:Pz,getDigitCount:kz,interpolateNumber:Az,uninterpolateNumber:_z,uninterpolateTruncation:Cz};function Hy(e){return Rz(e)||Tz(e)||_T(e)||Ez()}function Ez(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rz(e){if(Array.isArray(e))return Gy(e)}function Dl(e,t){return $z(e)||Iz(e,t)||_T(e,t)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _T(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iz(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function $z(e){if(Array.isArray(e))return e}function CT(e){var t=Dl(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function ET(e,t,r){if(e.lte(0))return new Ze(0);var n=Lf.getDigitCount(e.toNumber()),i=new Ze(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new Ze(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new Ze(Math.ceil(d))}function Dz(e,t,r){var n=1,i=new Ze(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(Lf.getDigitCount(e)-1),i=new Ze(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Ze(Math.floor(e)))}else e===0?i=new Ze(Math.floor((t-1)/2)):r||(i=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=Oz(Sz(function(d){return i.add(new Ze(d-l).mul(n)).toNumber()}),Wy);return u(0,t)}function TT(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=ET(new Ze(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new Ze(0):(l=new Ze(e).add(t).div(2),l=l.sub(new Ze(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Ze(t).sub(l).div(o).toNumber()),h=u+d+1;return h>r?TT(e,t,r,n,i+1):(h<r&&(d=t>0?d+(r-h):d,u=t>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Ze(u).mul(o)),tickMax:l.add(new Ze(d).mul(o))})}function Lz(e){var t=Dl(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=CT([r,n]),d=Dl(u,2),h=d[0],m=d[1];if(h===-1/0||m===1/0){var p=m===1/0?[h].concat(Hy(Wy(0,i-1).map(function(){return 1/0}))):[].concat(Hy(Wy(0,i-1).map(function(){return-1/0})),[m]);return r>n?Ky(p):p}if(h===m)return Dz(h,i,o);var x=TT(h,m,l,o),v=x.step,b=x.tickMin,w=x.tickMax,y=Lf.rangeStep(b,w.add(new Ze(.1).mul(v)),v);return r>n?Ky(y):y}function Fz(e,t){var r=Dl(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=CT([n,i]),u=Dl(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var m=Math.max(t,2),p=ET(new Ze(h).sub(d).div(m-1),o,0),x=[].concat(Hy(Lf.rangeStep(new Ze(d),new Ze(h).sub(new Ze(.99).mul(p)),p)),[h]);return n>i?Ky(x):x}var Bz=AT(Lz),qz=AT(Fz),zz="Invariant failed";function ji(e,t){throw new Error(zz)}var Uz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function Wz(e,t){return Vz(e)||Gz(e,t)||Hz(e,t)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(e,t){if(e){if(typeof e=="string")return OP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Vz(e){if(Array.isArray(e))return e}function Yz(e,t){if(e==null)return{};var r=Xz(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IT(n.key),n)}}function Zz(e,t,r){return t&&Jz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e9(e,t,r){return t=Cd(t),t9(e,RT()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function t9(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9(e)}function r9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RT=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function n9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vy(e,t)}function MT(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=a9(e,"string");return Es(t)=="symbol"?t:t+""}function a9(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jc=(function(e){function t(){return Qz(this,t),e9(this,t,arguments)}return n9(t,e),Zz(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,x=Yz(n,Uz),v=_e(x,!1);this.props.direction==="x"&&m.type!=="number"&&ji();var b=d.map(function(w){var y=h(w,u),S=y.x,_=y.y,C=y.value,O=y.errorVal;if(!O)return null;var j=[],P,E;if(Array.isArray(O)){var T=Wz(O,2);P=T[0],E=T[1]}else P=E=O;if(o==="vertical"){var M=m.scale,L=_+i,R=L+l,F=L-l,U=M(C-P),W=M(C+E);j.push({x1:W,y1:R,x2:W,y2:F}),j.push({x1:U,y1:L,x2:W,y2:L}),j.push({x1:U,y1:R,x2:U,y2:F})}else if(o==="horizontal"){var B=p.scale,$=S+i,z=$-l,V=$+l,G=B(C-P),D=B(C+E);j.push({x1:z,y1:D,x2:V,y2:D}),j.push({x1:$,y1:G,x2:$,y2:D}),j.push({x1:z,y1:G,x2:V,y2:G})}return Y.createElement(He,_d({className:"recharts-errorBar",key:"bar-".concat(j.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),j.map(function(q){return Y.createElement("line",_d({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Y.createElement(He,{className:"recharts-errorBars"},b)}}])})(Y.Component);MT(jc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MT(jc,"displayName","ErrorBar");function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){i9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i9(e,t,r){return t=s9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=o9(e,"string");return Ll(t)=="symbol"?t:t+""}function o9(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $T=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=br(r,_a);if(!l)return null;var u=_a.defaultProps,d=u!==void 0?Xa(Xa({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(n||[]).reduce(function(m,p){var x=p.item,v=p.props,b=v.sectors||v.data||[];return m.concat(b.map(function(w){return{type:l.props.iconType||x.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(m){var p=m.item,x=p.type.defaultProps,v=x!==void 0?Xa(Xa({},x),p.props):{},b=v.dataKey,w=v.name,y=v.legendType,S=v.hide;return{inactive:S,dataKey:b,type:d.iconType||y||"square",color:Wb(p),value:w||b,payload:v}}),Xa(Xa(Xa({},d),_a.getWithHeight(l,i)),{},{payload:h,item:l})};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function PP(e){return d9(e)||u9(e)||c9(e)||l9()}function l9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(e,t){if(e){if(typeof e=="string")return Yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(e,t)}}function u9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d9(e){if(Array.isArray(e))return Yy(e)}function Yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=h9(e,"string");return Fl(t)=="symbol"?t:t+""}function h9(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e,t,r){return De(e)||De(t)?r:_t(t)?Nr(e,t,r):Me(t)?t(e):r}function pl(e,t,r,n){var i=dz(e,function(u){return Pt(u,t)});if(r==="number"){var o=i.filter(function(u){return me(u)||parseFloat(u)});return o.length?[$f(o),If(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!De(u)}):i;return l.map(function(u){return _t(u)||u instanceof Date?u:""})}var p9=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<u;h++){var m=h>0?i[h-1].coordinate:i[u-1].coordinate,p=i[h].coordinate,x=h>=u-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(er(p-m)!==er(x-p)){var b=[];if(er(x-p)===er(d[1]-d[0])){v=x;var w=p+d[1]-d[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{v=m;var y=x+d[1]-d[0];b[0]=Math.min(p,(y+p)/2),b[1]=Math.max(p,(y+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){l=i[h].index;break}}else{var _=Math.min(m,x),C=Math.max(m,x);if(t>(_+p)/2&&t<=(C+p)/2){l=i[h].index;break}}}else for(var O=0;O<u;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},Wb=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},m9=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,h=u.length;d<h;d++)for(var m=o[u[d]].stackGroups,p=Object.keys(m),x=0,v=p.length;x<v;x++){var b=m[p[x]],w=b.items,y=b.cateAxisId,S=w.filter(function(E){return qn(E.type).indexOf("Bar")>=0});if(S&&S.length){var _=S[0].type.defaultProps,C=_!==void 0?mt(mt({},_),S[0].props):S[0].props,O=C.barSize,j=C[y];l[j]||(l[j]=[]);var P=De(O)?r:O;l[j].push({item:S[0],stackList:S.slice(1),barSize:De(P)?void 0:tr(P,n,0)})}}return l},g9=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var h=tr(r,i,0,!0),m,p=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=i/d,b=l.reduce(function(O,j){return O+j.barSize||0},0);b+=(d-1)*h,b>=i&&(b-=(d-1)*h,h=0),b>=i&&v>0&&(x=!0,v*=.9,b=d*v);var w=(i-b)/2>>0,y={offset:w-h,size:0};m=l.reduce(function(O,j){var P={item:j.item,position:{offset:y.offset+y.size+h,size:x?v:j.barSize}},E=[].concat(PP(O),[P]);return y=E[E.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){E.push({item:T,position:y})}),E},p)}else{var S=tr(n,i,0,!0);i-2*S-(d-1)*h<=0&&(h=0);var _=(i-2*S-(d-1)*h)/d;_>1&&(_>>=0);var C=u===+u?Math.min(_,u):_;m=l.reduce(function(O,j,P){var E=[].concat(PP(O),[{item:j.item,position:{offset:S+(_+h)*P+(_-C)/2,size:C}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},p)}return m},x9=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=$T({children:o,legendWidth:d});if(h){var m=i||{},p=m.width,x=m.height,v=h.align,b=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&v!=="center"&&me(t[v]))return mt(mt({},t),{},hs({},v,t[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&b!=="middle"&&me(t[b]))return mt(mt({},t),{},hs({},b,t[b]+(x||0)))}return t},y9=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},DT=function(t,r,n,i,o){var l=r.props.children,u=Sr(l,jc).filter(function(h){return y9(i,o,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return t.reduce(function(h,m){var p=Pt(m,n);if(De(p))return h;var x=Array.isArray(p)?[$f(p),If(p)]:[p,p],v=d.reduce(function(b,w){var y=Pt(m,w,0),S=x[0]-Math.abs(Array.isArray(y)?y[0]:y),_=x[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(S,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},v9=function(t,r,n,i,o){var l=r.map(function(u){return DT(t,u,n,o,i)}).filter(function(u){return!De(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},LT=function(t,r,n,i,o){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&DT(t,d,h,i)||pl(t,h,n,o)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var m=0,p=h.length;m<p;m++)u[h[m]]||(u[h[m]]=!0,d.push(h[m]));return d},[])},FT=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},BT=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Bn=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?er(u[0]-u[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var x=o?o.indexOf(p):p;return{coordinate:i(x)+h,value:p,offset:h}});return m.filter(function(p){return!pc(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,x){return{coordinate:i(p)+h,value:p,index:x,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,x){return{coordinate:i(p)+h,value:o?o[p]:p,index:x,offset:h}})},w0=new WeakMap,Hu=function(t,r){if(typeof r!="function")return t;w0.has(t)||w0.set(t,new WeakMap);var n=w0.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},qT=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:El(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Sd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hl(),realScaleType:"point"}:o==="category"?{scale:El(),realScaleType:"band"}:{scale:Sd(),realScaleType:"linear"};if(xi(i)){var d="scale".concat(bf(i));return{scale:(hP[d]||hl)(),realScaleType:hP[d]?d:"point"}}return Me(i)?{scale:i}:{scale:hl(),realScaleType:"point"}},_P=1e-4,zT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-_P,l=Math.max(i[0],i[1])+_P,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},b9=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},j9=function(t,r){if(!r||r.length!==2||!me(r[0])||!me(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!me(t[0])||t[0]<n)&&(o[0]=n),(!me(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},w9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=pc(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},N9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=pc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},S9={sign:w9,expand:dL,none:Ns,silhouette:fL,wiggle:hL,positive:N9},O9=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=S9[n],l=uL().keys(i).value(function(u,d){return+Pt(u,d,0)}).order(Oy).offset(o);return l(t)},k9=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,x){var v,b=(v=x.type)!==null&&v!==void 0&&v.defaultProps?mt(mt({},x.type.defaultProps),x.props):x.props,w=b.stackId,y=b.hide;if(y)return p;var S=b[n],_=p[S]||{hasStack:!1,stackGroups:{}};if(_t(w)){var C=_.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(x),_.hasStack=!0,_.stackGroups[w]=C}else _.stackGroups[eo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[x]};return mt(mt({},p),{},hs({},S,_))},d),m={};return Object.keys(h).reduce(function(p,x){var v=h[x];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,y){var S=v.stackGroups[y];return mt(mt({},w),{},hs({},y,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:O9(t,S.items,o)}))},b)}return mt(mt({},p),{},hs({},x,v))},m)},UT=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var m=Bz(h,o,u);return t.domain([$f(m),If(m)]),{niceTicks:m}}if(o&&i==="number"){var p=t.domain(),x=qz(p,o,u);return{niceTicks:x}}return null};function CP(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(i[t.dataKey])){var u=id(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Pt(i,De(l)?t.dataKey:l);return De(d)?null:t.scale(d)}var EP=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Pt(l,r.dataKey,r.domain[u]);return De(d)?null:r.scale(d)-o/2+i},P9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},A9=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(_t(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},_9=function(t){return t.reduce(function(r,n){return[$f(n.concat([r[0]]).filter(me)),If(n.concat([r[1]]).filter(me))]},[1/0,-1/0])},WT=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(h,m){var p=_9(m.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xy=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(me(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(TP.test(t[0])){var o=+TP.exec(t[0])[1];i[0]=r[0]-o}else Me(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(me(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(RP.test(t[1])){var l=+RP.exec(t[1])[1];i[1]=r[1]+l}else Me(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Ed=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=xb(r,function(p){return p.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var h=o[u],m=o[u-1];l=Math.min((h.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},MP=function(t,r,n){return!t||!t.length||bc(t,Nr(n,"type.defaultProps.domain"))?r:t},KT=function(t,r){var n=t.type.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,m=n.hide;return mt(mt({},_e(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:Wb(t),value:Pt(r,i),type:d,payload:r,chartType:h,hide:m})};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){HT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HT(e,t,r){return t=C9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=E9(e,"string");return Bl(t)=="symbol"?t:t+""}function E9(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T9(e,t){return $9(e)||I9(e,t)||M9(e,t)||R9()}function R9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function $9(e){if(Array.isArray(e))return e}var Td=Math.PI/180,D9=function(t){return t*180/Math.PI},at=function(t,r,n,i){return{x:t+Math.cos(-Td*i)*n,y:r+Math.sin(-Td*i)*n}},GT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},L9=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,h=t.endAngle,m=tr(t.cx,l,l/2),p=tr(t.cy,u,u/2),x=GT(l,u,n),v=tr(t.innerRadius,x,0),b=tr(t.outerRadius,x,x*.8),w=Object.keys(r);return w.reduce(function(y,S){var _=r[S],C=_.domain,O=_.reversed,j;if(De(_.range))i==="angleAxis"?j=[d,h]:i==="radiusAxis"&&(j=[v,b]),O&&(j=[j[1],j[0]]);else{j=_.range;var P=j,E=T9(P,2);d=E[0],h=E[1]}var T=qT(_,o),M=T.realScaleType,L=T.scale;L.domain(C).range(j),zT(L);var R=UT(L,$n($n({},_),{},{realScaleType:M})),F=$n($n($n({},_),R),{},{range:j,radius:b,realScaleType:M,scale:L,cx:m,cy:p,innerRadius:v,outerRadius:b,startAngle:d,endAngle:h});return $n($n({},y),{},HT({},S,F))},{})},F9=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},B9=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=F9({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:u,angle:D9(h),angleInRadian:h}},q9=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},z9=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},DP=function(t,r){var n=t.x,i=t.y,o=B9({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var m=q9(r),p=m.startAngle,x=m.endAngle,v=u,b;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;b=v>=x&&v<=p}return b?$n($n({},r),{},{radius:l,angle:z9(v,r)}):null},VT=function(t){return!k.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}var U9=["offset"];function W9(e){return V9(e)||G9(e)||H9(e)||K9()}function K9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e,t){if(e){if(typeof e=="string")return Qy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qy(e,t)}}function G9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V9(e){if(Array.isArray(e))return Qy(e)}function Qy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y9(e,t){if(e==null)return{};var r=X9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return t=J9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=Z9(e,"string");return ql(t)=="symbol"?t:t+""}function Z9(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}var eU=function(t){var r=t.value,n=t.formatter,i=De(t.children)?r:t.children;return Me(n)?n(i):i},tU=function(t,r){var n=er(r-t),i=Math.min(Math.abs(r-t),360);return n*i},rU=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,h=d.cx,m=d.cy,p=d.innerRadius,x=d.outerRadius,v=d.startAngle,b=d.endAngle,w=d.clockWise,y=(p+x)/2,S=tU(v,b),_=S>=0?1:-1,C,O;i==="insideStart"?(C=v+_*l,O=w):i==="insideEnd"?(C=b-_*l,O=!w):i==="end"&&(C=b+_*l,O=w),O=S<=0?O:!O;var j=at(h,m,y,C),P=at(h,m,y,C+(O?1:-1)*359),E="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),T=De(t.id)?eo("recharts-radial-line-"):t.id;return Y.createElement("text",zl({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",u)}),Y.createElement("defs",null,Y.createElement("path",{id:T,d:E})),Y.createElement("textPath",{xlinkHref:"#".concat(T)},r))},nU=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,h=o.outerRadius,m=o.startAngle,p=o.endAngle,x=(m+p)/2;if(i==="outside"){var v=at(l,u,h+n,x),b=v.x,w=v.y;return{x:b,y:w,textAnchor:b>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+h)/2,S=at(l,u,y,x),_=S.x,C=S.y;return{x:_,y:C,textAnchor:"middle",verticalAnchor:"middle"}},aU=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,h=l.width,m=l.height,p=m>=0?1:-1,x=p*i,v=p>0?"end":"start",b=p>0?"start":"end",w=h>=0?1:-1,y=w*i,S=w>0?"end":"start",_=w>0?"start":"end";if(o==="top"){var C={x:u+h/2,y:d-p*i,textAnchor:"middle",verticalAnchor:v};return kt(kt({},C),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var O={x:u+h/2,y:d+m+x,textAnchor:"middle",verticalAnchor:b};return kt(kt({},O),n?{height:Math.max(n.y+n.height-(d+m),0),width:h}:{})}if(o==="left"){var j={x:u-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"};return kt(kt({},j),n?{width:Math.max(j.x-n.x,0),height:m}:{})}if(o==="right"){var P={x:u+h+y,y:d+m/2,textAnchor:_,verticalAnchor:"middle"};return kt(kt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:m}:{})}var E=n?{width:h,height:m}:{};return o==="insideLeft"?kt({x:u+y,y:d+m/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?kt({x:u+h-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"},E):o==="insideTop"?kt({x:u+h/2,y:d+x,textAnchor:"middle",verticalAnchor:b},E):o==="insideBottom"?kt({x:u+h/2,y:d+m-x,textAnchor:"middle",verticalAnchor:v},E):o==="insideTopLeft"?kt({x:u+y,y:d+x,textAnchor:_,verticalAnchor:b},E):o==="insideTopRight"?kt({x:u+h-y,y:d+x,textAnchor:S,verticalAnchor:b},E):o==="insideBottomLeft"?kt({x:u+y,y:d+m-x,textAnchor:_,verticalAnchor:v},E):o==="insideBottomRight"?kt({x:u+h-y,y:d+m-x,textAnchor:S,verticalAnchor:v},E):Zs(o)&&(me(o.x)||ni(o.x))&&(me(o.y)||ni(o.y))?kt({x:u+tr(o.x,h),y:d+tr(o.y,m),textAnchor:"end",verticalAnchor:"end"},E):kt({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},E)},iU=function(t){return"cx"in t&&me(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=Y9(e,U9),i=kt({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,h=i.content,m=i.className,p=m===void 0?"":m,x=i.textBreakAll;if(!o||De(u)&&De(d)&&!k.isValidElement(h)&&!Me(h))return null;if(k.isValidElement(h))return k.cloneElement(h,i);var v;if(Me(h)){if(v=k.createElement(h,i),k.isValidElement(v))return v}else v=eU(i);var b=iU(o),w=_e(i,!0);if(b&&(l==="insideStart"||l==="insideEnd"||l==="end"))return rU(i,v,w);var y=b?nU(i):aU(i);return Y.createElement(vi,zl({className:Le("recharts-label",p)},w,y,{breakAll:x}),v)}Dt.displayName="Label";var YT=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,h=t.innerRadius,m=t.outerRadius,p=t.x,x=t.y,v=t.top,b=t.left,w=t.width,y=t.height,S=t.clockWise,_=t.labelViewBox;if(_)return _;if(me(w)&&me(y)){if(me(p)&&me(x))return{x:p,y:x,width:w,height:y};if(me(v)&&me(b))return{x:v,y:b,width:w,height:y}}return me(p)&&me(x)?{x:p,y:x,width:0,height:0}:me(r)&&me(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:m||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},sU=function(t,r){return t?t===!0?Y.createElement(Dt,{key:"label-implicit",viewBox:r}):_t(t)?Y.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Dt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):Y.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Me(t)?Y.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Zs(t)?Y.createElement(Dt,zl({viewBox:r},t,{key:"label-implicit"})):null:null},oU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=YT(t),l=Sr(i,Dt).map(function(d,h){return k.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return l;var u=sU(t.label,r||o);return[u].concat(W9(l))};Dt.parseViewBox=YT;Dt.renderCallByParent=oU;var N0,FP;function lU(){if(FP)return N0;FP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return N0=e,N0}var cU=lU();const uU=Xe(cU);function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var dU=["valueAccessor"],fU=["data","dataKey","clockWise","id","textBreakAll"];function hU(e){return xU(e)||gU(e)||mU(e)||pU()}function pU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mU(e,t){if(e){if(typeof e=="string")return Jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(e,t)}}function gU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xU(e){if(Array.isArray(e))return Jy(e)}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=bU(e,"string");return Ul(t)=="symbol"?t:t+""}function bU(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zP(e,t){if(e==null)return{};var r=jU(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wU=function(t){return Array.isArray(t.value)?uU(t.value):t.value};function Un(e){var t=e.valueAccessor,r=t===void 0?wU:t,n=zP(e,dU),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=zP(n,fU);return!i||!i.length?null:Y.createElement(He,{className:"recharts-label-list"},i.map(function(m,p){var x=De(o)?r(m,p):Pt(m&&m.payload,o),v=De(u)?{}:{id:"".concat(u,"-").concat(p)};return Y.createElement(Dt,Rd({},_e(m,!0),h,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Dt.parseViewBox(De(l)?m:qP(qP({},m),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Un.displayName="LabelList";function NU(e,t){return e?e===!0?Y.createElement(Un,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||Me(e)?Y.createElement(Un,{key:"labelList-implicit",data:t,content:e}):Zs(e)?Y.createElement(Un,Rd({data:t},e,{key:"labelList-implicit"})):null:null}function SU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Sr(n,Un).map(function(l,u){return k.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=NU(e.label,t);return[o].concat(hU(i))}Un.renderCallByParent=SU;function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return t=kU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(e){var t=PU(e,"string");return Wl(t)=="symbol"?t:t+""}function PU(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AU=function(t,r){var n=er(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Gu=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,h=t.cornerIsExternal,m=d*(u?1:-1)+i,p=Math.asin(d/m)/Td,x=h?o:o+l*p,v=at(r,n,m,x),b=at(r,n,i,x),w=h?o-l*p:o,y=at(r,n,m*Math.cos(p*Td),w);return{center:v,circleTangency:b,lineTangency:y,theta:p}},XT=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=AU(l,u),h=l+d,m=at(r,n,o,l),p=at(r,n,o,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=at(r,n,i,l),b=at(r,n,i,h);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},_U=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,m=t.endAngle,p=er(m-h),x=Gu({cx:r,cy:n,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=x.circleTangency,b=x.lineTangency,w=x.theta,y=Gu({cx:r,cy:n,radius:o,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:d}),S=y.circleTangency,_=y.lineTangency,C=y.theta,O=d?Math.abs(h-m):Math.abs(h-m)-w-C;if(O<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):XT({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m});var j="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=Gu({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),E=P.circleTangency,T=P.lineTangency,M=P.theta,L=Gu({cx:r,cy:n,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=L.circleTangency,F=L.lineTangency,U=L.theta,W=d?Math.abs(h-m):Math.abs(h-m)-M-U;if(W<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},CU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QT=function(t){var r=WP(WP({},CU),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,x=r.className;if(l<o||m===p)return null;var v=Le("recharts-sector",x),b=l-o,w=tr(u,b,0,!0),y;return w>0&&Math.abs(m-p)<360?y=_U({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):y=XT({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:m,endAngle:p}),Y.createElement("path",Zy({},_e(r,!0),{className:v,d:y,role:"img"}))};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return t=TU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=RU(e,"string");return Kl(t)=="symbol"?t:t+""}function RU(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GP={curveBasisClosed:ZD,curveBasisOpen:eL,curveBasis:JD,curveBumpX:LD,curveBumpY:FD,curveLinearClosed:tL,curveLinear:wf,curveMonotoneX:rL,curveMonotoneY:nL,curveNatural:aL,curveStep:iL,curveStepAfter:oL,curveStepBefore:sL},Vu=function(t){return t.x===+t.x&&t.y===+t.y},nl=function(t){return t.x},al=function(t){return t.y},MU=function(t,r){if(Me(t))return t;var n="curve".concat(bf(t));return(n==="curveMonotone"||n==="curveBump")&&r?GP["".concat(n).concat(r==="vertical"?"Y":"X")]:GP[n]||wf},IU=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,h=d===void 0?!1:d,m=MU(n,u),p=h?o.filter(function(w){return Vu(w)}):o,x;if(Array.isArray(l)){var v=h?l.filter(function(w){return Vu(w)}):l,b=p.map(function(w,y){return HP(HP({},w),{},{base:v[y]})});return u==="vertical"?x=Fu().y(al).x1(nl).x0(function(w){return w.base.x}):x=Fu().x(nl).y1(al).y0(function(w){return w.base.y}),x.defined(Vu).curve(m),x(b)}return u==="vertical"&&me(l)?x=Fu().y(al).x1(nl).x0(l):me(l)?x=Fu().x(nl).y1(al).y0(l):x=XC().x(nl).y(al),x.defined(Vu).curve(m),x(p)},Md=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?IU(t):i;return k.createElement("path",ev({},_e(t,!1),sd(t),{className:Le("recharts-curve",r),d:l,ref:o}))},S0={exports:{}},O0,VP;function $U(){if(VP)return O0;VP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return O0=e,O0}var k0,YP;function DU(){if(YP)return k0;YP=1;var e=$U();function t(){}function r(){}return r.resetWarningCache=t,k0=function(){function n(l,u,d,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},k0}var XP;function LU(){return XP||(XP=1,S0.exports=DU()()),S0.exports}var FU=LU();const Ye=Xe(FU),{getOwnPropertyNames:BU,getOwnPropertySymbols:qU}=Object,{hasOwnProperty:zU}=Object.prototype;function P0(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function Yu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function UU(e){return e!=null?e[Symbol.toStringTag]:void 0}function QP(e){return BU(e).concat(qU(e))}const WU=Object.hasOwn||((e,t)=>zU.call(e,t));function _i(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const KU="__v",HU="__o",GU="_owner",{getOwnPropertyDescriptor:JP,keys:ZP}=Object;function VU(e,t){return e.byteLength===t.byteLength&&Id(new Uint8Array(e),new Uint8Array(t))}function YU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XU(e,t){return e.byteLength===t.byteLength&&Id(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function QU(e,t){return _i(e.getTime(),t.getTime())}function JU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ZU(e,t){return e===t}function eA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const h=t.entries();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(i[p]){p++;continue}const x=l.value,v=u.value;if(r.equals(x[0],v[0],d,p,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){m=i[p]=!0;break}p++}if(!m)return!1;d++}return!0}const eW=_i;function tW(e,t,r){const n=ZP(e);let i=n.length;if(ZP(t).length!==i)return!1;for(;i-- >0;)if(!JT(e,t,r,n[i]))return!1;return!0}function il(e,t,r){const n=QP(e);let i=n.length;if(QP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!JT(e,t,r,o)||(l=JP(e,o),u=JP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function rW(e,t){return _i(e.valueOf(),t.valueOf())}function nW(e,t){return e.source===t.source&&e.flags===t.flags}function tA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(!i[m]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1}return!0}function Id(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function aW(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function JT(e,t,r,n){return(n===GU||n===HU||n===KU)&&(e.$$typeof||t.$$typeof)?!0:WU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const iW="[object ArrayBuffer]",sW="[object Arguments]",oW="[object Boolean]",lW="[object DataView]",cW="[object Date]",uW="[object Error]",dW="[object Map]",fW="[object Number]",hW="[object Object]",pW="[object RegExp]",mW="[object Set]",gW="[object String]",xW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},yW="[object URL]",vW=Object.prototype.toString;function bW({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:b}){return function(y,S,_){if(y===S)return!0;if(y==null||S==null)return!1;const C=typeof y;if(C!==typeof S)return!1;if(C!=="object")return C==="number"?u(y,S,_):C==="function"?o(y,S,_):!1;const O=y.constructor;if(O!==S.constructor)return!1;if(O===Object)return d(y,S,_);if(Array.isArray(y))return t(y,S,_);if(O===Date)return n(y,S,_);if(O===RegExp)return m(y,S,_);if(O===Map)return l(y,S,_);if(O===Set)return p(y,S,_);const j=vW.call(y);if(j===cW)return n(y,S,_);if(j===pW)return m(y,S,_);if(j===dW)return l(y,S,_);if(j===mW)return p(y,S,_);if(j===hW)return typeof y.then!="function"&&typeof S.then!="function"&&d(y,S,_);if(j===yW)return v(y,S,_);if(j===uW)return i(y,S,_);if(j===sW)return d(y,S,_);if(xW[j])return x(y,S,_);if(j===iW)return e(y,S,_);if(j===lW)return r(y,S,_);if(j===oW||j===fW||j===gW)return h(y,S,_);if(b){let P=b[j];if(!P){const E=UU(y);E&&(P=b[E])}if(P)return P(y,S,_)}return!1}}function jW({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:VU,areArraysEqual:r?il:YU,areDataViewsEqual:XU,areDatesEqual:QU,areErrorsEqual:JU,areFunctionsEqual:ZU,areMapsEqual:r?P0(eA,il):eA,areNumbersEqual:eW,areObjectsEqual:r?il:tW,arePrimitiveWrappersEqual:rW,areRegExpsEqual:nW,areSetsEqual:r?P0(tA,il):tA,areTypedArraysEqual:r?P0(Id,il):Id,areUrlsEqual:aW,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Yu(n.areArraysEqual),o=Yu(n.areMapsEqual),l=Yu(n.areObjectsEqual),u=Yu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function wW(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function NW({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:h=e?new WeakMap:void 0,meta:m}=r();return t(u,d,{cache:h,equals:n,meta:m,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const SW=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:()=>_i});$a({strict:!0,createInternalComparator:()=>_i});$a({circular:!0,createInternalComparator:()=>_i});$a({circular:!0,createInternalComparator:()=>_i,strict:!0});function $a(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=jW(e),l=bW(o),u=r?r(l):wW(l);return NW({circular:t,comparator:l,createState:n,equals:u,strict:i})}function OW(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):OW(i)};requestAnimationFrame(n)}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function kW(e){return CW(e)||_W(e)||AW(e)||PW()}function PW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return nA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(e,t)}}function nA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _W(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CW(e){if(Array.isArray(e))return e}function EW(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=kW(l),d=u[0],h=u.slice(1);if(typeof d=="number"){rA(i.bind(null,h),d);return}i(d),rA(i.bind(null,h));return}tv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){ZT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZT(e,t,r){return t=TW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=RW(e,"string");return Hl(t)==="symbol"?t:String(t)}function RW(e,t){if(Hl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MW=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},IW=function(t){return t},$W=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ml=function(t,r){return Object.keys(r).reduce(function(n,i){return iA(iA({},n),{},ZT({},i,t(i,r[i])))},{})},sA=function(t,r,n){return t.map(function(i){return"".concat($W(i)," ").concat(r,"ms ").concat(n)}).join(",")};function DW(e,t){return BW(e)||FW(e,t)||e5(e,t)||LW()}function LW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function BW(e){if(Array.isArray(e))return e}function qW(e){return WW(e)||UW(e)||e5(e)||zW()}function zW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5(e,t){if(e){if(typeof e=="string")return rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rv(e,t)}}function UW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WW(e){if(Array.isArray(e))return rv(e)}function rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $d=1e-4,t5=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},r5=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},oA=function(t,r){return function(n){var i=t5(t,r);return r5(i,n)}},KW=function(t,r){return function(n){var i=t5(t,r),o=[].concat(qW(i.map(function(l,u){return l*u}).slice(1)),[0]);return r5(o,n)}},lA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),m=DW(h,4);i=m[0],o=m[1],l=m[2],u=m[3]}}}var p=oA(i,l),x=oA(o,u),v=KW(i,l),b=function(S){return S>1?1:S<0?0:S},w=function(S){for(var _=S>1?1:S,C=_,O=0;O<8;++O){var j=p(C)-_,P=v(C);if(Math.abs(j-_)<$d||P<$d)return x(C);C=b(C-j/P)}return x(C)};return w.isStepper=!1,w},HW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(m,p,x){var v=-(m-p)*n,b=x*o,w=x+(v-b)*u/1e3,y=x*u/1e3+m;return Math.abs(y-p)<$d&&Math.abs(w)<$d?[p,0]:[y,w]};return d.isStepper=!0,d.dt=u,d},GW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lA(i);case"spring":return HW();default:if(i.split("(")[0]==="cubic-bezier")return lA(i)}return typeof i=="function"?i:null};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function cA(e){return XW(e)||YW(e)||n5(e)||VW()}function VW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XW(e){if(Array.isArray(e))return av(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nv(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=JW(e,"string");return Gl(t)==="symbol"?t:String(t)}function JW(e,t){if(Gl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){return rK(e)||tK(e,t)||n5(e,t)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5(e,t){if(e){if(typeof e=="string")return av(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(e,t)}}function av(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function rK(e){if(Array.isArray(e))return e}var Dd=function(t,r,n){return t+(r-t)*n},iv=function(t){var r=t.from,n=t.to;return r!==n},nK=function e(t,r,n){var i=ml(function(o,l){if(iv(l)){var u=t(l.from,l.to,l.velocity),d=ZW(u,2),h=d[0],m=d[1];return qt(qt({},l),{},{from:h,velocity:m})}return l},r);return n<1?ml(function(o,l){return iv(l)?qt(qt({},l),{},{velocity:Dd(l.velocity,i[o].velocity,n),from:Dd(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const aK=(function(e,t,r,n,i){var o=MW(e,t),l=o.reduce(function(y,S){return qt(qt({},y),{},nv({},S,[e[S],t[S]]))},{}),u=o.reduce(function(y,S){return qt(qt({},y),{},nv({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,h,m,p=function(){return null},x=function(){return ml(function(S,_){return _.from},u)},v=function(){return!Object.values(u).filter(iv).length},b=function(S){h||(h=S);var _=S-h,C=_/r.dt;u=nK(r,u,C),i(qt(qt(qt({},e),t),x())),h=S,v()||(d=requestAnimationFrame(p))},w=function(S){m||(m=S);var _=(S-m)/n,C=ml(function(j,P){return Dd.apply(void 0,cA(P).concat([r(_)]))},l);if(i(qt(qt(qt({},e),t),C)),_<1)d=requestAnimationFrame(p);else{var O=ml(function(j,P){return Dd.apply(void 0,cA(P).concat([r(1)]))},l);i(qt(qt(qt({},e),t),O))}};return p=r.isStepper?b:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var iK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sK(e,t){if(e==null)return{};var r=oK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oK(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function A0(e){return dK(e)||uK(e)||cK(e)||lK()}function lK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cK(e,t){if(e){if(typeof e=="string")return sv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sv(e,t)}}function uK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dK(e){if(Array.isArray(e))return sv(e)}function sv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dl(e,t,r){return t=a5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a5(n.key),n)}}function pK(e,t,r){return t&&hK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5(e){var t=mK(e,"string");return Ts(t)==="symbol"?t:String(t)}function mK(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ov(e,t)}function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ov(e,t)}function xK(e){var t=yK();return function(){var n=Ld(e),i;if(t){var o=Ld(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return lv(this,i)}}function lv(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cv(e)}function cv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}var jn=(function(e){gK(r,e);var t=xK(r);function r(n,i){var o;fK(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,h=l.from,m=l.to,p=l.steps,x=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(cv(o)),o.changeStyle=o.changeStyle.bind(cv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:m}),lv(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof x=="function")return o.state={style:h},lv(o);o.state={style:d?dl({},d,h):h}}else o.state={style:{}};return o}return pK(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,m=o.to,p=o.from,x=this.state.style;if(u){if(!l){var v={style:d?dl({},d,m):m};this.state&&x&&(d&&x[d]!==m||!d&&x!==m)&&this.setState(v);return}if(!(SW(i.to,m)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||h?p:i.to;if(this.state&&x){var y={style:d?dl({},d,w):w};(d&&x[d]!==w||!d&&x!==w)&&this.setState(y)}this.runAnimation(Yr(Yr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,h=i.easing,m=i.begin,p=i.onAnimationEnd,x=i.onAnimationStart,v=aK(l,u,GW(h),d,this.changeStyle),b=function(){o.stopJSAnimation=v()};this.manager.start([x,m,b,d,p])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,h=l[0],m=h.style,p=h.duration,x=p===void 0?0:p,v=function(w,y,S){if(S===0)return w;var _=y.duration,C=y.easing,O=C===void 0?"ease":C,j=y.style,P=y.properties,E=y.onAnimationEnd,T=S>0?l[S-1]:y,M=P||Object.keys(j);if(typeof O=="function"||O==="spring")return[].concat(A0(w),[o.runJSAnimation.bind(o,{from:T.style,to:j,duration:_,easing:O}),_]);var L=sA(M,_,O),R=Yr(Yr(Yr({},T.style),j),{},{transition:L});return[].concat(A0(w),[R,_,E]).filter(IW)};return this.manager.start([d].concat(A0(l.reduce(v,[m,Math.max(x,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=EW());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,h=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,x=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var w=u?dl({},u,d):d,y=sA(Object.keys(w),l,h);b.start([m,o,Yr(Yr({},w),{},{transition:y}),l,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=sK(i,iK),h=k.Children.count(o),m=this.state.style;if(typeof o=="function")return o(m);if(!u||h===0||l<=0)return o;var p=function(v){var b=v.props,w=b.style,y=w===void 0?{}:w,S=b.className,_=k.cloneElement(v,Yr(Yr({},d),{},{style:Yr(Yr({},y),m),className:S}));return _};return h===1?p(k.Children.only(o)):Y.createElement("div",null,k.Children.map(o,function(x){return p(x)}))}}]),r})(k.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function vK(e,t){return NK(e)||wK(e,t)||jK(e,t)||bK()}function bK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function NK(e){if(Array.isArray(e))return e}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=kK(e,"string");return Vl(t)=="symbol"?t:t+""}function kK(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mA=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,m;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=o[x]>l?l:o[x];m="M".concat(t,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(r)),m+="L ".concat(t+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+u*p[1])),m+="L ".concat(t+n,",").concat(r+i-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(r+i)),m+="L ".concat(t+d*p[3],",").concat(r+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-u*p[3])),m+="Z"}else if(l>0&&o===+o&&o>0){var b=Math.min(l,o);m="M ".concat(t,",").concat(r+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+d*b,",").concat(r,`
            L `).concat(t+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n,",").concat(r+u*b,`
            L `).concat(t+n,",").concat(r+i-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n-d*b,",").concat(r+i,`
            L `).concat(t+d*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t,",").concat(r+i-u*b," Z")}else m="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},PK=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(o,o+u),m=Math.max(o,o+u),p=Math.min(l,l+d),x=Math.max(l,l+d);return n>=h&&n<=m&&i>=p&&i<=x}return!1},AK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kb=function(t){var r=pA(pA({},AK),t),n=k.useRef(),i=k.useState(-1),o=vK(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,m=r.width,p=r.height,x=r.radius,v=r.className,b=r.animationEasing,w=r.animationDuration,y=r.animationBegin,S=r.isAnimationActive,_=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||m===0||p===0)return null;var C=Le("recharts-rectangle",v);return _?Y.createElement(jn,{canBegin:l>0,from:{width:m,height:p,x:d,y:h},to:{width:m,height:p,x:d,y:h},duration:w,animationEasing:b,isActive:_},function(O){var j=O.width,P=O.height,E=O.x,T=O.y;return Y.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:S,easing:b},Y.createElement("path",Fd({},_e(r,!0),{className:C,d:mA(E,T,j,P,x),ref:n})))}):Y.createElement("path",Fd({},_e(r,!0),{className:C,d:mA(d,h,m,p,x)}))},_K=["points","className","baseLinePoints","connectNulls"];function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function CK(e,t){if(e==null)return{};var r=EK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gA(e){return IK(e)||MK(e)||RK(e)||TK()}function TK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(e,t){if(e){if(typeof e=="string")return uv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uv(e,t)}}function MK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IK(e){if(Array.isArray(e))return uv(e)}function uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xA=function(t){return t&&t.x===+t.x&&t.y===+t.y},$K=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xA(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gl=function(t,r){var n=$K(t);r&&(n=[n.reduce(function(o,l){return[].concat(gA(o),gA(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},DK=function(t,r,n){var i=gl(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(gl(r.reverse(),n).slice(1))},LK=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=CK(t,_K);if(!r||!r.length)return null;var u=Le("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",h=DK(r,i,o);return Y.createElement("g",{className:u},Y.createElement("path",os({},_e(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?Y.createElement("path",os({},_e(l,!0),{fill:"none",d:gl(r,o)})):null,d?Y.createElement("path",os({},_e(l,!0),{fill:"none",d:gl(i,o)})):null)}var m=gl(r,o);return Y.createElement("path",os({},_e(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}var Ff=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=Le("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",dv({},_e(t,!1),sd(t),{className:l,cx:r,cy:n,r:i})):null};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}var FK=["x","y","top","left","width","height","className"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(this,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=UK(e,"string");return Yl(t)=="symbol"?t:t+""}function UK(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WK(e,t){if(e==null)return{};var r=KK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HK=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},GK=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,h=d===void 0?0:d,m=t.width,p=m===void 0?0:m,x=t.height,v=x===void 0?0:x,b=t.className,w=WK(t,FK),y=BK({x:n,y:o,top:u,left:h,width:p,height:v},w);return!me(n)||!me(o)||!me(p)||!me(v)||!me(u)||!me(h)?null:Y.createElement("path",fv({},_e(y,!0),{className:Le("recharts-cross",b),d:HK(n,o,p,v,u,h)}))},_0,vA;function VK(){if(vA)return _0;vA=1;var e=Mf(),t=vT(),r=Sn();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return _0=n,_0}var YK=VK();const XK=Xe(YK);var C0,bA;function QK(){if(bA)return C0;bA=1;var e=Mf(),t=Sn(),r=bT();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return C0=n,C0}var JK=QK();const ZK=Xe(JK);var eH=["cx","cy","angle","ticks","axisLine"],tH=["ticks","tick","angle","tickFormatter","stroke"];function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){Bf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wA(e,t){if(e==null)return{};var r=rH(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s5(n.key),n)}}function aH(e,t,r){return t&&NA(e.prototype,t),r&&NA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iH(e,t,r){return t=Bd(t),sH(e,i5()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function sH(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oH(e)}function oH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function lH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hv(e,t)}function Bf(e,t,r){return t=s5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5(e){var t=cH(e,"string");return Rs(t)=="symbol"?t:t+""}function cH(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qf=(function(e){function t(){return nH(this,t),iH(this,t,arguments)}return lH(t,e),aH(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return at(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=XK(u,function(m){return m.coordinate||0}),h=ZK(u,function(m){return m.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,h=wA(n,eH),m=u.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),p=at(i,o,m[0],l),x=at(i,o,m[1],l),v=Qa(Qa(Qa({},_e(h,!1)),{},{fill:"none"},_e(d,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return Y.createElement("line",xl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,h=i.stroke,m=wA(i,tH),p=this.getTickTextAnchor(),x=_e(m,!1),v=_e(l,!1),b=o.map(function(w,y){var S=n.getTickValueCoord(w),_=Qa(Qa(Qa(Qa({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:h},v),{},{index:y},S),{},{payload:w});return Y.createElement(He,xl({className:Le("recharts-polar-radius-axis-tick",VT(l)),key:"tick-".concat(w.coordinate)},yi(n.props,w,y)),t.renderTickItem(l,_,d?d(w.value,y):w.value))});return Y.createElement(He,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:Y.createElement(He,{className:Le("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return Y.isValidElement(n)?l=Y.cloneElement(n,i):Me(n)?l=n(i):l=Y.createElement(vi,xl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(k.PureComponent);Bf(qf,"displayName","PolarRadiusAxis");Bf(qf,"axisType","radiusAxis");Bf(qf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(this,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l5(n.key),n)}}function dH(e,t,r){return t&&OA(e.prototype,t),r&&OA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fH(e,t,r){return t=qd(t),hH(e,o5()?Reflect.construct(t,r||[],qd(e).constructor):t.apply(e,r))}function hH(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pH(e)}function pH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}function mH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}function pv(e,t){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pv(e,t)}function zf(e,t,r){return t=l5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5(e){var t=gH(e,"string");return Ms(t)=="symbol"?t:t+""}function gH(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xH=Math.PI/180,kA=1e-5,Uf=(function(e){function t(){return uH(this,t),fH(this,t,arguments)}return mH(t,e),dH(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,h=i.tickSize,m=h||8,p=at(o,l,u,n.coordinate),x=at(o,l,u+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*xH),l;return o>kA?l=i==="outer"?"start":"end":o<-kA?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,h=Ja(Ja({},_e(this.props,!1)),{},{fill:"none"},_e(u,!1));if(d==="circle")return Y.createElement(Ff,ti({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var m=this.props.ticks,p=m.map(function(x){return at(i,o,l,x.coordinate)});return Y.createElement(LK,ti({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,h=i.stroke,m=_e(this.props,!1),p=_e(l,!1),x=Ja(Ja({},m),{},{fill:"none"},_e(u,!1)),v=o.map(function(b,w){var y=n.getTickLineCoord(b),S=n.getTickTextAnchor(b),_=Ja(Ja(Ja({textAnchor:S},m),{},{stroke:"none",fill:h},p),{},{index:w,payload:b,x:y.x2,y:y.y2});return Y.createElement(He,ti({className:Le("recharts-polar-angle-axis-tick",VT(l)),key:"tick-".concat(b.coordinate)},yi(n.props,b,w)),u&&Y.createElement("line",ti({className:"recharts-polar-angle-axis-tick-line"},x,y)),l&&t.renderTickItem(l,_,d?d(b.value,w):b.value))});return Y.createElement(He,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:Y.createElement(He,{className:Le("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return Y.isValidElement(n)?l=Y.cloneElement(n,i):Me(n)?l=n(i):l=Y.createElement(vi,ti({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(k.PureComponent);zf(Uf,"displayName","PolarAngleAxis");zf(Uf,"axisType","angleAxis");zf(Uf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var E0,PA;function yH(){if(PA)return E0;PA=1;var e=vE(),t=e(Object.getPrototypeOf,Object);return E0=t,E0}var T0,AA;function vH(){if(AA)return T0;AA=1;var e=Vn(),t=yH(),r=Yn(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function h(m){if(!r(m)||e(m)!=n)return!1;var p=t(m);if(p===null)return!0;var x=u.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return T0=h,T0}var bH=vH();const jH=Xe(bH);var R0,_A;function wH(){if(_A)return R0;_A=1;var e=Vn(),t=Yn(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return R0=n,R0}var NH=wH();const SH=Xe(NH);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function OH(e,t){return _H(e)||AH(e,t)||PH(e,t)||kH()}function kH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function _H(e){if(Array.isArray(e))return e}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return t=EH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=TH(e,"string");return Xl(t)=="symbol"?t:t+""}function TH(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RA=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},RH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MH=function(t){var r=TA(TA({},RH),t),n=k.useRef(),i=k.useState(-1),o=OH(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&u(C)}catch{}},[]);var d=r.x,h=r.y,m=r.upperWidth,p=r.lowerWidth,x=r.height,v=r.className,b=r.animationEasing,w=r.animationDuration,y=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||x!==+x||m===0&&p===0||x===0)return null;var _=Le("recharts-trapezoid",v);return S?Y.createElement(jn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:h},to:{upperWidth:m,lowerWidth:p,height:x,x:d,y:h},duration:w,animationEasing:b,isActive:S},function(C){var O=C.upperWidth,j=C.lowerWidth,P=C.height,E=C.x,T=C.y;return Y.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:b},Y.createElement("path",zd({},_e(r,!0),{className:_,d:RA(E,T,O,j,P),ref:n})))}):Y.createElement("g",null,Y.createElement("path",zd({},_e(r,!0),{className:_,d:RA(d,h,m,p,x)})))},IH=["option","shapeType","propTransformer","activeClassName","isActive"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function $H(e,t){if(e==null)return{};var r=DH(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){LH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LH(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=BH(e,"string");return Ql(t)=="symbol"?t:t+""}function BH(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e,t){return Ud(Ud({},t),e)}function zH(e,t){return e==="symbols"}function IA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Y.createElement(Kb,r);case"trapezoid":return Y.createElement(MH,r);case"sector":return Y.createElement(QT,r);case"symbols":if(zH(t))return Y.createElement(cb,r);break;default:return null}}function UH(e){return k.isValidElement(e)?e.props:e}function c5(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?qH:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=$H(e,IH),h;if(k.isValidElement(t))h=k.cloneElement(t,Ud(Ud({},d),UH(t)));else if(Me(t))h=t(d);else if(jH(t)&&!SH(t)){var m=i(t,d);h=Y.createElement(IA,{shapeType:r,elementProps:m})}else{var p=d;h=Y.createElement(IA,{shapeType:r,elementProps:p})}return u?Y.createElement(He,{className:l},h):h}function Wf(e,t){return t!=null&&"trapezoids"in e.props}function Kf(e,t){return t!=null&&"sectors"in e.props}function Jl(e,t){return t!=null&&"points"in e.props}function WH(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function KH(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function HH(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function GH(e,t){var r;return Wf(e,t)?r=WH:Kf(e,t)?r=KH:Jl(e,t)&&(r=HH),r}function VH(e,t){var r;return Wf(e,t)?r="trapezoids":Kf(e,t)?r="sectors":Jl(e,t)&&(r="points"),r}function YH(e,t){if(Wf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Kf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jl(e,t)?t.payload:{}}function XH(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=VH(r,t),o=YH(r,t),l=n.filter(function(d,h){var m=bc(o,d),p=r.props[i].filter(function(b){var w=GH(r,t);return w(b,t)}),x=r.props[i].indexOf(p[p.length-1]),v=h===x;return m&&v}),u=n.indexOf(l[l.length-1]);return u}var td;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d5(n.key),n)}}function JH(e,t,r){return t&&DA(e.prototype,t),r&&DA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZH(e,t,r){return t=Wd(t),eG(e,u5()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function eG(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tG(e)}function tG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u5=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function rG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mv(e,t)}function $r(e,t,r){return t=d5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5(e){var t=nG(e,"string");return Is(t)=="symbol"?t:t+""}function nG(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=(function(e){function t(r){var n;return QH(this,t),n=ZH(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",eo("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(i)&&i()}),$r(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return rG(t,e),JH(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,h=o.valueKey,m=_e(this.props,!1),p=_e(l,!1),x=_e(u,!1),v=l&&l.offsetRadius||20,b=n.map(function(w,y){var S=(w.startAngle+w.endAngle)/2,_=at(w.cx,w.cy,w.outerRadius+v,S),C=rt(rt(rt(rt({},m),w),{},{stroke:"none"},p),{},{index:y,textAnchor:t.getTextAnchor(_.x,w.cx)},_),O=rt(rt(rt(rt({},m),w),{},{fill:"none",stroke:w.fill},x),{},{index:y,points:[at(w.cx,w.cy,w.outerRadius,S),_]}),j=d;return De(d)&&De(h)?j="value":De(d)&&(j=h),Y.createElement(He,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,O,"line"),t.renderLabelItem(l,C,Pt(w,j)))});return Y.createElement(He,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(h,m){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(m),x=d&&i.hasActiveIndex()?d:null,v=p?l:x,b=rt(rt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return Y.createElement(He,ls({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},yi(i.props,h,m),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(m)}),Y.createElement(c5,ls({option:v,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,p=this.state,x=p.prevSectors,v=p.prevIsAnimationActive;return Y.createElement(jn,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,y=[],S=o&&o[0],_=S.startAngle;return o.forEach(function(C,O){var j=x&&x[O],P=O>0?Nr(C,"paddingAngle",0):0;if(j){var E=jr(j.endAngle-j.startAngle,C.endAngle-C.startAngle),T=rt(rt({},C),{},{startAngle:_+P,endAngle:_+E(w)+P});y.push(T),_=T.endAngle}else{var M=C.endAngle,L=C.startAngle,R=jr(0,M-L),F=R(w),U=rt(rt({},C),{},{startAngle:_+P,endAngle:_+F+P});y.push(U),_=U.endAngle}}),Y.createElement(He,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!bc(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,h=i.cx,m=i.cy,p=i.innerRadius,x=i.outerRadius,v=i.isAnimationActive,b=this.state.isAnimationFinished;if(o||!l||!l.length||!me(h)||!me(m)||!me(p)||!me(x))return null;var w=Le("recharts-pie",u);return Y.createElement(He,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),Dt.renderCallByParent(this.props,null,!1),(!v||b)&&Un.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(Y.isValidElement(n))return Y.cloneElement(n,i);if(Me(n))return n(i);var l=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(Md,ls({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(Y.isValidElement(n))return Y.cloneElement(n,i);var l=o;if(Me(n)&&(l=n(i),Y.isValidElement(l)))return l;var u=Le("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return Y.createElement(vi,ls({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(k.PureComponent);td=Qn;$r(Qn,"displayName","Pie");$r(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ki.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Qn,"parseDeltaAngle",function(e,t){var r=er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Qn,"getRealPieData",function(e){var t=e.data,r=e.children,n=_e(e,!1),i=Sr(r,Pf);return t&&t.length?t.map(function(o,l){return rt(rt(rt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return rt(rt({},n),o.props)}):[]});$r(Qn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=GT(i,o),u=n+tr(e.cx,i,i/2),d=r+tr(e.cy,o,o/2),h=tr(e.innerRadius,l,0),m=tr(e.outerRadius,l,l*.8),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}});$r(Qn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?rt(rt({},t.type.defaultProps),t.props):t.props,i=td.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,h=n.dataKey,m=n.nameKey,p=n.valueKey,x=n.tooltipType,v=Math.abs(n.minAngle),b=td.parseCoordinateOfPie(n,r),w=td.parseDeltaAngle(l,u),y=Math.abs(w),S=h;De(h)&&De(p)?(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):De(h)&&(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var _=i.filter(function(T){return Pt(T,S,0)!==0}).length,C=(y>=360?_:_-1)*d,O=y-_*v-C,j=i.reduce(function(T,M){var L=Pt(M,S,0);return T+(me(L)?L:0)},0),P;if(j>0){var E;P=i.map(function(T,M){var L=Pt(T,S,0),R=Pt(T,m,M),F=(me(L)?L:0)/j,U;M?U=E.endAngle+er(w)*d*(L!==0?1:0):U=l;var W=U+er(w)*((L!==0?v:0)+F*O),B=(U+W)/2,$=(b.innerRadius+b.outerRadius)/2,z=[{name:R,value:L,payload:T,dataKey:S,type:x}],V=at(b.cx,b.cy,$,B);return E=rt(rt(rt({percent:F,cornerRadius:o,name:R,tooltipPayload:z,midAngle:B,middleRadius:$,tooltipPosition:V},T),b),{},{value:Pt(T,S),startAngle:U,endAngle:W,payload:T,paddingAngle:er(w)*d}),E})}return rt(rt({},b),{},{sectors:P,data:i})});var M0,LA;function aG(){if(LA)return M0;LA=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=o;return h}return M0=r,M0}var I0,FA;function f5(){if(FA)return I0;FA=1;var e=IE(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return I0=n,I0}var $0,BA;function iG(){if(BA)return $0;BA=1;var e=aG(),t=kf(),r=f5();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return $0=n,$0}var D0,qA;function sG(){if(qA)return D0;qA=1;var e=iG(),t=e();return D0=t,D0}var oG=sG();const Kd=Xe(oG);function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){h5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h5(e,t,r){return t=lG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return Zl(t)=="symbol"?t:t+""}function cG(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=["Webkit","Moz","O","ms"],dG=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=uG.reduce(function(o,l){return UA(UA({},o),{},h5({},l+n,r))},{});return i[t]=r,i};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m5(n.key),n)}}function hG(e,t,r){return t&&KA(e.prototype,t),r&&KA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pG(e,t,r){return t=Gd(t),mG(e,p5()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function mG(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(e)}function gG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function xG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gv(e,t)}function vr(e,t,r){return t=m5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5(e){var t=yG(e,"string");return $s(t)=="symbol"?t:t+""}function yG(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vG=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=hl().domain(Kd(0,d)).range([o,o+l-u]),m=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:m}},HA=function(t){return t.changedTouches&&!!t.changedTouches.length},Ds=(function(e){function t(r){var n;return fG(this,t),n=pG(this,t,[r]),vr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),vr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l==null||l({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vr(n,"handleSlideDragStart",function(i){var o=HA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xG(t,e),hG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,m=h.length-1,p=Math.min(i,o),x=Math.max(i,o),v=t.getIndexInRange(l,p),b=t.getIndexInRange(l,x);return{startIndex:v-v%d,endIndex:b===m?m:b-b%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Pt(o[n],u,n);return Me(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,h=d.x,m=d.width,p=d.travellerWidth,x=d.startIndex,v=d.endIndex,b=d.onChange,w=n.pageX-o;w>0?w=Math.min(w,h+m-p-u,h+m-p-l):w<0&&(w=Math.max(w,h-l,h-u));var y=this.getIndex({startX:l+w,endX:u+w});(y.startIndex!==x||y.endIndex!==v)&&b&&b(y),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=HA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,h=this.state[l],m=this.props,p=m.x,x=m.width,v=m.travellerWidth,b=m.onChange,w=m.gap,y=m.data,S={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,p+x-v-h):_<0&&(_=Math.max(_,p-h)),S[l]=h+_;var C=this.getIndex(S),O=C.startIndex,j=C.endIndex,P=function(){var T=y.length-1;return l==="startX"&&(u>d?O%w===0:j%w===0)||u<d&&j===T||l==="endX"&&(u>d?j%w===0:O%w===0)||u>d&&j===T};this.setState(vr(vr({},l,h+_),"brushMoveStartX",n.pageX),function(){b&&P()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,m=this.state[i],p=u.indexOf(m);if(p!==-1){var x=p+n;if(!(x===-1||x>=u.length)){var v=u[x];i==="startX"&&v>=h||i==="endX"&&v<=d||this.setState(vr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return Y.createElement("rect",{stroke:h,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,h=n.children,m=n.padding,p=k.Children.only(h);return p?Y.cloneElement(p,{x:i,y:o,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,h=d.y,m=d.travellerWidth,p=d.height,x=d.traveller,v=d.ariaLabel,b=d.data,w=d.startIndex,y=d.endIndex,S=Math.max(n,this.props.x),_=L0(L0({},_e(this.props,!1)),{},{x:S,y:h,width:m,height:p}),C=v||"Min value: ".concat((o=b[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=b[y])===null||l===void 0?void 0:l.name);return Y.createElement(He,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),u.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,_))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,h=o.travellerWidth,m=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,m=this.state,p=m.startX,x=m.endX,v=5,b={pointerEvents:"none",fill:h};return Y.createElement(He,{className:"recharts-brush-texts"},Y.createElement(vi,Hd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:l+u/2},b),this.getTextOfTick(i)),Y.createElement(vi,Hd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+d+v,y:l+u/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,h=n.width,m=n.height,p=n.alwaysShowText,x=this.state,v=x.startX,b=x.endX,w=x.isTextActive,y=x.isSlideMoving,S=x.isTravellerMoving,_=x.isTravellerFocused;if(!i||!i.length||!me(u)||!me(d)||!me(h)||!me(m)||h<=0||m<=0)return null;var C=Le("recharts-brush",o),O=Y.Children.count(l)===1,j=dG("userSelect","none");return Y.createElement(He,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(w||y||S||_||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(o+u/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):Me(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,m=n.startIndex,p=n.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return L0({prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?vG({data:o,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var x=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(k.PureComponent);vr(Ds,"displayName","Brush");vr(Ds,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var F0,GA;function bG(){if(GA)return F0;GA=1;var e=gb();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return F0=t,F0}var B0,VA;function jG(){if(VA)return B0;VA=1;var e=fE(),t=Sn(),r=bG(),n=hr(),i=kf();function o(l,u,d){var h=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),h(l,t(u,3))}return B0=o,B0}var wG=jG();const NG=Xe(wG);var vn=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},q0,YA;function SG(){if(YA)return q0;YA=1;var e=CE();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return q0=t,q0}var z0,XA;function OG(){if(XA)return z0;XA=1;var e=SG(),t=AE(),r=Sn();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,h){e(l,d,o(u,d,h))}),l}return z0=n,z0}var kG=OG();const PG=Xe(kG);var U0,QA;function AG(){if(QA)return U0;QA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return U0=e,U0}var W0,JA;function _G(){if(JA)return W0;JA=1;var e=gb();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return W0=t,W0}var K0,ZA;function CG(){if(ZA)return K0;ZA=1;var e=AG(),t=_G(),r=Sn(),n=hr(),i=kf();function o(l,u,d){var h=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),h(l,r(u,3))}return K0=o,K0}var EG=CG();const g5=Xe(EG);var TG=["x","y"];function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=IG(e,"string");return ec(t)=="symbol"?t:t+""}function IG(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e,t){if(e==null)return{};var r=DG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LG(e,t){var r=e.x,n=e.y,i=$G(e,TG),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),h="".concat(t.height||i.height),m=parseInt(h,10),p="".concat(t.width||i.width),x=parseInt(p,10);return sl(sl(sl(sl(sl({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:x,name:t.name,radius:t.radius})}function t_(e){return Y.createElement(c5,xv({shapeType:"rectangle",propTransformer:LG,activeClassName:"recharts-active-bar"},e))}var FG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=me(n)||iD(n);return o?t(n,i):(o||ji(),r)}},BG=["value","background"],x5;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function qG(e,t){if(e==null)return{};var r=zG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v5(n.key),n)}}function WG(e,t,r){return t&&n_(e.prototype,t),r&&n_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KG(e,t,r){return t=Yd(t),HG(e,y5()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function HG(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GG(e)}function GG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y5=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function VG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yv(e,t)}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yv(e,t)}function Pa(e,t,r){return t=v5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v5(e){var t=YG(e,"string");return Ls(t)=="symbol"?t:t+""}function YG(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ea=(function(e){function t(){var r;UG(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=KG(this,t,[].concat(i)),Pa(r,"state",{isAnimationFinished:!1}),Pa(r,"id",eo("recharts-bar-")),Pa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Pa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return VG(t,e),WG(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,h=o.activeBar,m=_e(this.props,!1);return n&&n.map(function(p,x){var v=x===d,b=v?h:l,w=jt(jt(jt({},m),p),{},{isActive:v,option:b,index:x,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(He,Vd({className:"recharts-bar-rectangle"},yi(i.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x)}),Y.createElement(t_,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,m=i.animationEasing,p=i.animationId,x=this.state.prevData;return Y.createElement(jn,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,w=o.map(function(y,S){var _=x&&x[S];if(_){var C=jr(_.x,y.x),O=jr(_.y,y.y),j=jr(_.width,y.width),P=jr(_.height,y.height);return jt(jt({},y),{},{x:C(b),y:O(b),width:j(b),height:P(b)})}if(l==="horizontal"){var E=jr(0,y.height),T=E(b);return jt(jt({},y),{},{y:y.y+y.height-T,height:T})}var M=jr(0,y.width),L=M(b);return jt(jt({},y),{},{width:L})});return Y.createElement(He,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!bc(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=_e(this.props.background,!1);return o.map(function(h,m){h.value;var p=h.background,x=qG(h,BG);if(!p)return null;var v=jt(jt(jt(jt(jt({},x),{},{fill:"#eee"},p),d),yi(n.props,h,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return Y.createElement(t_,Vd({key:"background-bar-".concat(m),option:n.props.background,isActive:m===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,h=o.layout,m=o.children,p=Sr(m,jc);if(!p)return null;var x=h==="vertical"?l[0].height/2:l[0].width/2,v=function(y,S){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Pt(y,S)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(He,b,p.map(function(w){return Y.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,m=n.top,p=n.width,x=n.height,v=n.isAnimationActive,b=n.background,w=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,S=Le("recharts-bar",l),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,O=_||C,j=De(w)?this.id:w;return Y.createElement(He,{className:S},_||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(j)},Y.createElement("rect",{x:_?h:h-p/2,y:C?m:m-x/2,width:_?p:p*2,height:C?x:x*2}))):null,Y.createElement(He,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(j,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,j),(!v||y)&&Un.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);x5=Ea;Pa(Ea,"displayName","Bar");Pa(Ea,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ki.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pa(Ea,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,m=e.dataStartIndex,p=e.displayedData,x=e.offset,v=b9(n,r);if(!v)return null;var b=t.layout,w=r.type.defaultProps,y=w!==void 0?jt(jt({},w),r.props):r.props,S=y.dataKey,_=y.children,C=y.minPointSize,O=b==="horizontal"?l:o,j=h?O.scale.domain():null,P=P9({numericAxis:O}),E=Sr(_,Pf),T=p.map(function(M,L){var R,F,U,W,B,$;h?R=j9(h[m+L],j):(R=Pt(M,S),Array.isArray(R)||(R=[P,R]));var z=FG(C,x5.defaultProps.minPointSize)(R[1],L);if(b==="horizontal"){var V,G=[l.scale(R[0]),l.scale(R[1])],D=G[0],q=G[1];F=EP({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:M,index:L}),U=(V=q??D)!==null&&V!==void 0?V:void 0,W=v.size;var H=D-q;if(B=Number.isNaN(H)?0:H,$={x:F,y:l.y,width:W,height:l.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var X=er(B||z)*(Math.abs(z)-Math.abs(B));U-=X,B+=X}}else{var oe=[o.scale(R[0]),o.scale(R[1])],fe=oe[0],se=oe[1];if(F=fe,U=EP({axis:l,ticks:d,bandSize:i,offset:v.offset,entry:M,index:L}),W=se-fe,B=v.size,$={x:o.x,y:U,width:o.width,height:B},Math.abs(z)>0&&Math.abs(W)<Math.abs(z)){var ke=er(W||z)*(Math.abs(z)-Math.abs(W));W+=ke}}return jt(jt(jt({},M),{},{x:F,y:U,width:W,height:B,value:h?R:R[1],payload:M,background:$},E&&E[L]&&E[L].props),{},{tooltipPayload:[KT(r,M)],tooltipPosition:{x:F+W/2,y:U+B/2}})});return jt({data:T,layout:b},x)});function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function XG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b5(n.key),n)}}function QG(e,t,r){return t&&a_(e.prototype,t),r&&a_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hf(e,t,r){return t=b5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b5(e){var t=JG(e,"string");return tc(t)=="symbol"?t:t+""}function JG(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j5=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,h=t.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!br(h,Ea);return m.reduce(function(v,b){var w=r[b],y=w.orientation,S=w.domain,_=w.padding,C=_===void 0?{}:_,O=w.mirror,j=w.reversed,P="".concat(y).concat(O?"Mirror":""),E,T,M,L,R;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=S[1]-S[0],U=1/0,W=w.categoricalDomain.sort(lD);if(W.forEach(function(oe,fe){fe>0&&(U=Math.min((oe||0)-(W[fe-1]||0),U))}),Number.isFinite(U)){var B=U/F,$=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(E=B*$/2),w.padding==="no-gap"){var z=tr(t.barCategoryGap,B*$),V=B*$/2;E=V-z-(V-z)/$*z}}}i==="xAxis"?T=[n.left+(C.left||0)+(E||0),n.left+n.width-(C.right||0)-(E||0)]:i==="yAxis"?T=d==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(E||0),n.top+n.height-(C.bottom||0)-(E||0)]:T=w.range,j&&(T=[T[1],T[0]]);var G=qT(w,o,x),D=G.scale,q=G.realScaleType;D.domain(S).range(T),zT(D);var H=UT(D,Zr(Zr({},w),{},{realScaleType:q}));i==="xAxis"?(R=y==="top"&&!O||y==="bottom"&&O,M=n.left,L=p[P]-R*w.height):i==="yAxis"&&(R=y==="left"&&!O||y==="right"&&O,M=p[P]-R*w.width,L=n.top);var X=Zr(Zr(Zr({},w),H),{},{realScaleType:q,x:M,y:L,scale:D,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return X.bandSize=Ed(X,H),!w.hide&&i==="xAxis"?p[P]+=(R?-1:1)*X.height:w.hide||(p[P]+=(R?-1:1)*X.width),Zr(Zr({},v),{},Hf({},b,X))},{})},w5=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},ZG=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return w5({x:r,y:n},{x:i,y:o})},N5=(function(){function e(t){XG(this,e),this.scale=t}return QG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Hf(N5,"EPS",1e-4);var Hb=function(t){var r=Object.keys(t).reduce(function(n,i){return Zr(Zr({},n),{},Hf({},i,N5.create(t[i])))},{});return Zr(Zr({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return PG(i,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return g5(i,function(o,l){return r[l].isInRange(o)})}})};function eV(e){return(e%180+180)%180}var tV=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=eV(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},H0,s_;function rV(){if(s_)return H0;s_=1;var e=Sn(),t=mc(),r=Sf();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var h=e(l,3);o=r(o),l=function(p){return h(d[p],p,d)}}var m=i(o,l,u);return m>-1?d[h?o[m]:m]:void 0}}return H0=n,H0}var G0,o_;function nV(){if(o_)return G0;o_=1;var e=f5();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return G0=t,G0}var V0,l_;function aV(){if(l_)return V0;l_=1;var e=NE(),t=Sn(),r=nV(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),e(o,t(l,3),h)}return V0=i,V0}var Y0,c_;function iV(){if(c_)return Y0;c_=1;var e=rV(),t=aV(),r=e(t);return Y0=r,Y0}var sV=iV();const oV=Xe(sV);var lV=FC();const cV=Xe(lV);var uV=cV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Gb=k.createContext(void 0),Vb=k.createContext(void 0),S5=k.createContext(void 0),O5=k.createContext({}),k5=k.createContext(void 0),P5=k.createContext(0),A5=k.createContext(0),u_=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,h=t.height,m=uV(o);return Y.createElement(Gb.Provider,{value:n},Y.createElement(Vb.Provider,{value:i},Y.createElement(O5.Provider,{value:o},Y.createElement(S5.Provider,{value:m},Y.createElement(k5.Provider,{value:l},Y.createElement(P5.Provider,{value:h},Y.createElement(A5.Provider,{value:d},u)))))))},dV=function(){return k.useContext(k5)},_5=function(t){var r=k.useContext(Gb);r==null&&ji();var n=r[t];return n==null&&ji(),n},fV=function(){var t=k.useContext(Gb);return va(t)},hV=function(){var t=k.useContext(Vb),r=oV(t,function(n){return g5(n.domain,Number.isFinite)});return r||va(t)},C5=function(t){var r=k.useContext(Vb);r==null&&ji();var n=r[t];return n==null&&ji(),n},pV=function(){var t=k.useContext(S5);return t},mV=function(){return k.useContext(O5)},Yb=function(){return k.useContext(A5)},Xb=function(){return k.useContext(P5)};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function gV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T5(n.key),n)}}function yV(e,t,r){return t&&xV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vV(e,t,r){return t=Xd(t),bV(e,E5()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function bV(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jV(e)}function jV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function wV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vv(e,t)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){Qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qb(e,t,r){return t=T5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e){var t=NV(e,"string");return Fs(t)=="symbol"?t:t+""}function NV(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SV(e,t){return AV(e)||PV(e,t)||kV(e,t)||OV()}function OV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(e,t){if(e){if(typeof e=="string")return h_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h_(e,t)}}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function AV(e){if(Array.isArray(e))return e}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}var _V=function(t,r){var n;return Y.isValidElement(t)?n=Y.cloneElement(t,r):Me(t)?n=t(r):n=Y.createElement("line",bv({},r,{className:"recharts-reference-line-line"})),n},CV=function(t,r,n,i,o,l,u,d,h){var m=o.x,p=o.y,x=o.width,v=o.height;if(n){var b=h.y,w=t.y.apply(b,{position:l});if(vn(h,"discard")&&!t.y.isInRange(w))return null;var y=[{x:m+x,y:w},{x:m,y:w}];return d==="left"?y.reverse():y}if(r){var S=h.x,_=t.x.apply(S,{position:l});if(vn(h,"discard")&&!t.x.isInRange(_))return null;var C=[{x:_,y:p+v},{x:_,y:p}];return u==="top"?C.reverse():C}if(i){var O=h.segment,j=O.map(function(P){return t.apply(P,{position:l})});return vn(h,"discard")&&NG(j,function(P){return!t.isInRange(P)})?null:j}return null};function EV(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,h=dV(),m=_5(i),p=C5(o),x=pV();if(!h||!x)return null;rn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Hb({x:m.scale,y:p.scale}),b=_t(t),w=_t(r),y=n&&n.length===2,S=CV(v,b,w,y,x,e.position,m.orientation,p.orientation,e);if(!S)return null;var _=SV(S,2),C=_[0],O=C.x,j=C.y,P=_[1],E=P.x,T=P.y,M=vn(e,"hidden")?"url(#".concat(h,")"):void 0,L=f_(f_({clipPath:M},_e(e,!0)),{},{x1:O,y1:j,x2:E,y2:T});return Y.createElement(He,{className:Le("recharts-reference-line",u)},_V(l,L),Dt.renderCallByParent(e,ZG({x1:O,y1:j,x2:E,y2:T})))}var Jb=(function(e){function t(){return gV(this,t),vV(this,t,arguments)}return wV(t,e),yV(t,[{key:"render",value:function(){return Y.createElement(EV,this.props)}}])})(Y.Component);Qb(Jb,"displayName","ReferenceLine");Qb(Jb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){Gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M5(n.key),n)}}function MV(e,t,r){return t&&RV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IV(e,t,r){return t=Qd(t),$V(e,R5()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function $V(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(e)}function DV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R5=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function LV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wv(e,t)}function Gf(e,t,r){return t=M5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M5(e){var t=FV(e,"string");return Bs(t)=="symbol"?t:t+""}function FV(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BV=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=Hb({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return vn(t,"discard")&&!l.isInRange(u)?null:u},Vf=(function(e){function t(){return TV(this,t),IV(this,t,arguments)}return LV(t,e),MV(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=_t(i),m=_t(o);if(rn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var p=BV(this.props);if(!p)return null;var x=p.x,v=p.y,b=this.props,w=b.shape,y=b.className,S=vn(this.props,"hidden")?"url(#".concat(d,")"):void 0,_=m_(m_({clipPath:S},_e(this.props,!0)),{},{cx:x,cy:v});return Y.createElement(He,{className:Le("recharts-reference-dot",y)},t.renderDot(w,_),Dt.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(Y.Component);Gf(Vf,"displayName","ReferenceDot");Gf(Vf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gf(Vf,"renderDot",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Me(e)?r=e(t):r=Y.createElement(Ff,jv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){Yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$5(n.key),n)}}function UV(e,t,r){return t&&zV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WV(e,t,r){return t=Jd(t),KV(e,I5()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HV(e)}function HV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function GV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sv(e,t)}function Sv(e,t){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sv(e,t)}function Yf(e,t,r){return t=$5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5(e){var t=VV(e,"string");return qs(t)=="symbol"?t:t+""}function VV(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YV=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,h=o.y2,m=o.xAxis,p=o.yAxis;if(!m||!p)return null;var x=Hb({x:m.scale,y:p.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},b={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return vn(o,"discard")&&(!x.isInRange(v)||!x.isInRange(b))?null:w5(v,b)},Xf=(function(e){function t(){return qV(this,t),WV(this,t,arguments)}return GV(t,e),UV(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,m=n.clipPathId;rn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=_t(i),x=_t(o),v=_t(l),b=_t(u),w=this.props.shape;if(!p&&!x&&!v&&!b&&!w)return null;var y=YV(p,x,v,b,this.props);if(!y&&!w)return null;var S=vn(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Y.createElement(He,{className:Le("recharts-reference-area",d)},t.renderRect(w,x_(x_({clipPath:S},_e(this.props,!0)),y)),Dt.renderCallByParent(this.props,y))}}])})(Y.Component);Yf(Xf,"displayName","ReferenceArea");Yf(Xf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yf(Xf,"renderRect",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Me(e)?r=e(t):r=Y.createElement(Kb,Nv({},t,{className:"recharts-reference-area-rect"})),r});function D5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function XV(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tV(n,r)}function QV(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function Zd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function JV(e,t){return D5(e,t+1)}function ZV(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,h=1,m=l,p=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:D5(n,h)};var w=d,y,S=function(){return y===void 0&&(y=r(b,w)),y},_=b.coordinate,C=d===0||Zd(e,_,S,m,u);C||(d=0,m=l,h+=1),C&&(m=_+e*(S()/2+i),d+=h)},x;h<=o.length;)if(x=p(),x)return x.v;return[]}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){eY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eY(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return rc(t)=="symbol"?t:t+""}function rY(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nY(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,h=function(x){var v=o[x],b,w=function(){return b===void 0&&(b=r(v,x)),b};if(x===l-1){var y=e*(v.coordinate+e*w()/2-d);o[x]=v=Vt(Vt({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else o[x]=v=Vt(Vt({},v),{},{tickCoord:v.coordinate});var S=Zd(e,v.tickCoord,w,u,d);S&&(d=v.tickCoord-e*(w()/2+i),o[x]=Vt(Vt({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return o}function aY(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,h=t.end;if(o){var m=n[u-1],p=r(m,u-1),x=e*(m.coordinate+e*p/2-h);l[u-1]=m=Vt(Vt({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate});var v=Zd(e,m.tickCoord,function(){return p},d,h);v&&(h=m.tickCoord-e*(p/2+i),l[u-1]=Vt(Vt({},m),{},{isShow:!0}))}for(var b=o?u-1:u,w=function(_){var C=l[_],O,j=function(){return O===void 0&&(O=r(C,_)),O};if(_===0){var P=e*(C.coordinate-e*j()/2-d);l[_]=C=Vt(Vt({},C),{},{tickCoord:P<0?C.coordinate-P*e:C.coordinate})}else l[_]=C=Vt(Vt({},C),{},{tickCoord:C.coordinate});var E=Zd(e,C.tickCoord,j,d,h);E&&(d=C.tickCoord+e*(j()/2+i),l[_]=Vt(Vt({},C),{},{isShow:!0}))},y=0;y<b;y++)w(y);return l}function Zb(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,h=e.tickFormatter,m=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(me(d)||ki.isSsr)return JV(i,typeof d=="number"&&me(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",b=m&&v==="width"?fl(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(C,O){var j=Me(h)?h(C.value,O):C.value;return v==="width"?XV(fl(j,{fontSize:t,letterSpacing:r}),b,p):fl(j,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,S=QV(o,y,v);return d==="equidistantPreserveStart"?ZV(y,S,w,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=aY(y,S,w,i,l,d==="preserveStartEnd"):x=nY(y,S,w,i,l),x.filter(function(_){return _.isShow}))}var iY=["viewBox"],sY=["viewBox"],oY=["ticks"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){ej(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X0(e,t){if(e==null)return{};var r=lY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F5(n.key),n)}}function uY(e,t,r){return t&&b_(e.prototype,t),r&&b_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dY(e,t,r){return t=ef(t),fY(e,L5()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function fY(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(e)}function hY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function pY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ov(e,t)}function Ov(e,t){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ov(e,t)}function ej(e,t,r){return t=F5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=mY(e,"string");return zs(t)=="symbol"?t:t+""}function mY(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=(function(e){function t(r){var n;return cY(this,t),n=dY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pY(t,e),uY(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=X0(n,iY),u=this.props,d=u.viewBox,h=X0(u,sY);return!ds(o,d)||!ds(l,h)||!ds(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,h=i.orientation,m=i.tickSize,p=i.mirror,x=i.tickMargin,v,b,w,y,S,_,C=p?-1:1,O=n.tickSize||m,j=me(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=b=n.coordinate,y=l+ +!p*d,w=y-C*O,_=w-C*x,S=j;break;case"left":w=y=n.coordinate,b=o+ +!p*u,v=b-C*O,S=v-C*x,_=j;break;case"right":w=y=n.coordinate,b=o+ +p*u,v=b+C*O,S=v+C*x,_=j;break;default:v=b=n.coordinate,y=l+ +p*d,w=y+C*O,_=w+C*x,S=j;break}return{line:{x1:v,y1:w,x2:b,y2:y},tick:{x:S,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,m=n.axisLine,p=Ot(Ot(Ot({},_e(this.props,!1)),_e(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!h||d==="bottom"&&h);p=Ot(Ot({},p),{},{x1:i,y1:o+x*u,x2:i+l,y2:o+x*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=Ot(Ot({},p),{},{x1:i+v*l,y1:o,x2:i+v*l,y2:o+u})}return Y.createElement("line",cs({},p,{className:Le("recharts-cartesian-axis-line",Nr(m,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,h=u.stroke,m=u.tick,p=u.tickFormatter,x=u.unit,v=Zb(Ot(Ot({},this.props),{},{ticks:n}),i,o),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=_e(this.props,!1),S=_e(m,!1),_=Ot(Ot({},y),{},{fill:"none"},_e(d,!1)),C=v.map(function(O,j){var P=l.getTickLineCoord(O),E=P.line,T=P.tick,M=Ot(Ot(Ot(Ot({textAnchor:b,verticalAnchor:w},y),{},{stroke:"none",fill:h},S),T),{},{index:j,payload:O,visibleTicksCount:v.length,tickFormatter:p});return Y.createElement(He,cs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},yi(l.props,O,j)),d&&Y.createElement("line",cs({},_,E,{className:Le("recharts-cartesian-axis-tick-line",Nr(d,"className"))})),m&&t.renderTickItem(m,M,"".concat(Me(p)?p(O.value,j):O.value).concat(x||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,h=i.className,m=i.hide;if(m)return null;var p=this.props,x=p.ticks,v=X0(p,oY),b=x;return Me(d)&&(b=x&&x.length>0?d(this.props):d(v)),l<=0||u<=0||!b||!b.length?null:Y.createElement(He,{className:Le("recharts-cartesian-axis",h),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=Le(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?l=Y.cloneElement(n,Ot(Ot({},i),{},{className:u})):Me(n)?l=n(Ot(Ot({},i),{},{className:u})):l=Y.createElement(vi,cs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(k.Component);ej(io,"displayName","CartesianAxis");ej(io,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gY=["x1","y1","x2","y2","key"],xY=["offset"];function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=bY(e,"string");return wi(t)=="symbol"?t:t+""}function bY(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}function w_(e,t){if(e==null)return{};var r=jY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return Y.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B5(e,t){var r;if(Y.isValidElement(e))r=Y.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=w_(t,gY),h=_e(d,!1);h.offset;var m=w_(h,xY);r=Y.createElement("line",si({},m,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function NY(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Yt(Yt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return B5(i,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function SY(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Yt(Yt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return B5(i,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function OY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,h=d===void 0?!0:d;if(!h||!t||!t.length)return null;var m=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var b=!m[v+1],w=b?i+l-x:m[v+1]-x;if(w<=0)return null;var y=v%t.length;return Y.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:w,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function kY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,h=e.verticalPoints;if(!r||!n||!n.length)return null;var m=h.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var b=!m[v+1],w=b?o+u-x:m[v+1]-x;if(w<=0)return null;var y=v%n.length;return Y.createElement("rect",{key:"react-".concat(v),x,y:l,width:w,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var PY=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return BT(Zb(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},AY=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return BT(Zb(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},ns={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tj(e){var t,r,n,i,o,l,u=Yb(),d=Xb(),h=mV(),m=Yt(Yt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ns.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ns.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ns.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ns.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ns.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ns.verticalFill,x:me(e.x)?e.x:h.left,y:me(e.y)?e.y:h.top,width:me(e.width)?e.width:h.width,height:me(e.height)?e.height:h.height}),p=m.x,x=m.y,v=m.width,b=m.height,w=m.syncWithTicks,y=m.horizontalValues,S=m.verticalValues,_=fV(),C=hV();if(!me(v)||v<=0||!me(b)||b<=0||!me(p)||p!==+p||!me(x)||x!==+x)return null;var O=m.verticalCoordinatesGenerator||PY,j=m.horizontalCoordinatesGenerator||AY,P=m.horizontalPoints,E=m.verticalPoints;if((!P||!P.length)&&Me(j)){var T=y&&y.length,M=j({yAxis:C?Yt(Yt({},C),{},{ticks:T?y:C.ticks}):void 0,width:u,height:d,offset:h},T?!0:w);rn(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi(M),"]")),Array.isArray(M)&&(P=M)}if((!E||!E.length)&&Me(O)){var L=S&&S.length,R=O({xAxis:_?Yt(Yt({},_),{},{ticks:L?S:_.ticks}):void 0,width:u,height:d,offset:h},L?!0:w);rn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(R),"]")),Array.isArray(R)&&(E=R)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(wY,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Y.createElement(NY,si({},m,{offset:h,horizontalPoints:P,xAxis:_,yAxis:C})),Y.createElement(SY,si({},m,{offset:h,verticalPoints:E,xAxis:_,yAxis:C})),Y.createElement(OY,si({},m,{horizontalPoints:P})),Y.createElement(kY,si({},m,{verticalPoints:E})))}tj.displayName="CartesianGrid";var _Y=["type","layout","connectNulls","ref"],CY=["key"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function N_(e,t){if(e==null)return{};var r=EY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function as(e){return IY(e)||MY(e)||RY(e)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(e,t){if(e){if(typeof e=="string")return kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kv(e,t)}}function MY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IY(e){if(Array.isArray(e))return kv(e)}function kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z5(n.key),n)}}function DY(e,t,r){return t&&O_(e.prototype,t),r&&O_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LY(e,t,r){return t=tf(t),FY(e,q5()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function FY(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(e)}function BY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function qY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pv(e,t)}function en(e,t,r){return t=z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=zY(e,"string");return Us(t)=="symbol"?t:t+""}function zY(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ws=(function(e){function t(){var r;$Y(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=LY(this,t,[].concat(i)),en(r,"state",{isAnimationFinished:!0,totalLength:0}),en(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),en(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(S,_){return S+_});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/h),p=l%h,x=u-l,v=[],b=0,w=0;b<d.length;w+=d[b],++b)if(w+d[b]>p){v=[].concat(as(d.slice(0,b)),[p-w]);break}var y=v.length%2===0?[0,x]:[x];return[].concat(as(t.repeat(d,m)),as(v),y).map(function(S){return"".concat(S,"px")}).join(", ")}),en(r,"id",eo("recharts-line-")),en(r,"pathRef",function(l){r.mainCurve=l}),en(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),en(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qY(t,e),DY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,h=o.layout,m=o.children,p=Sr(m,jc);if(!p)return null;var x=function(w,y){return{x:w.x,y:w.y,value:w.value,errorVal:Pt(w.payload,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(He,v,p.map(function(b){return Y.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,p=_e(this.props,!1),x=_e(d,!0),v=h.map(function(w,y){var S=yr(yr(yr({key:"dot-".concat(y),r:3},p),x),{},{index:y,cx:w.x,cy:w.y,value:w.value,dataKey:m,payload:w.payload,points:h});return t.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return Y.createElement(He,yl({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,h=u.layout,m=u.connectNulls;u.ref;var p=N_(u,_Y),x=yr(yr(yr({},_e(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:m});return Y.createElement(Md,yl({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,x=l.animationEasing,v=l.animationId,b=l.animateNewValues,w=l.width,y=l.height,S=this.state,_=S.prevPoints,C=S.totalLength;return Y.createElement(jn,{begin:m,duration:p,isActive:h,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var j=O.t;if(_){var P=_.length/u.length,E=u.map(function(F,U){var W=Math.floor(U*P);if(_[W]){var B=_[W],$=jr(B.x,F.x),z=jr(B.y,F.y);return yr(yr({},F),{},{x:$(j),y:z(j)})}if(b){var V=jr(w*2,F.x),G=jr(y/2,F.y);return yr(yr({},F),{},{x:V(j),y:G(j)})}return yr(yr({},F),{},{x:F.x,y:F.y})});return o.renderCurveStatically(E,n,i)}var T=jr(0,C),M=T(j),L;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});L=o.getStrokeDasharray(M,C,R)}else L=o.generateSimpleStrokeDasharray(C,M);return o.renderCurveStatically(u,n,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,h=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!h&&m>0||!bc(h,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.xAxis,m=i.yAxis,p=i.top,x=i.left,v=i.width,b=i.height,w=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var S=this.state.isAnimationFinished,_=u.length===1,C=Le("recharts-line",d),O=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,P=O||j,E=De(y)?this.id:y,T=(n=_e(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=T.r,L=M===void 0?3:M,R=T.strokeWidth,F=R===void 0?2:R,U=xD(l)?l:{},W=U.clipDot,B=W===void 0?!0:W,$=L*2+F;return Y.createElement(He,{className:C},O||j?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(E)},Y.createElement("rect",{x:O?x:x-v/2,y:j?p:p-b/2,width:O?v:v*2,height:j?b:b*2})),!B&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Y.createElement("rect",{x:x-$/2,y:p-$/2,width:v+$,height:b+$}))):null,!_&&this.renderCurve(P,E),this.renderErrorBar(P,E),(_||l)&&this.renderDots(P,B,E),(!w||S)&&Un.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(as(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(as(l),as(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(Y.isValidElement(n))o=Y.cloneElement(n,i);else if(Me(n))o=n(i);else{var l=i.key,u=N_(i,CY),d=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");o=Y.createElement(Ff,yl({key:l},u,{className:d}))}return o}}])})(k.PureComponent);en(Ws,"displayName","Line");en(Ws,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ki.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});en(Ws,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,h=e.offset,m=t.layout,p=d.map(function(x,v){var b=Pt(x,l);return m==="horizontal"?{x:CP({axis:r,ticks:i,bandSize:u,entry:x,index:v}),y:De(b)?null:n.scale(b),value:b,payload:x}:{x:De(b)?null:r.scale(b),y:CP({axis:n,ticks:o,bandSize:u,entry:x,index:v}),value:b,payload:x}});return yr({points:p,layout:m},h)});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function UY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K5(n.key),n)}}function KY(e,t,r){return t&&WY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t,r){return t=rf(t),GY(e,U5()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function GY(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VY(e)}function VY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function YY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Av(e,t)}function W5(e,t,r){return t=K5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5(e){var t=XY(e,"string");return Ks(t)=="symbol"?t:t+""}function XY(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}function QY(e){var t=e.xAxisId,r=Yb(),n=Xb(),i=_5(t);return i==null?null:k.createElement(io,_v({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Bn(l,!0)}}))}var so=(function(e){function t(){return UY(this,t),HY(this,t,arguments)}return YY(t,e),KY(t,[{key:"render",value:function(){return k.createElement(QY,this.props)}}])})(k.Component);W5(so,"displayName","XAxis");W5(so,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function JY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V5(n.key),n)}}function eX(e,t,r){return t&&ZY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tX(e,t,r){return t=nf(t),rX(e,H5()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function rX(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nX(e)}function nX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H5=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function aX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cv(e,t)}function G5(e,t,r){return t=V5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V5(e){var t=iX(e,"string");return Hs(t)=="symbol"?t:t+""}function iX(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(this,arguments)}var sX=function(t){var r=t.yAxisId,n=Yb(),i=Xb(),o=C5(r);return o==null?null:k.createElement(io,Ev({},o,{className:Le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Bn(u,!0)}}))},oo=(function(e){function t(){return JY(this,t),tX(this,t,arguments)}return aX(t,e),eX(t,[{key:"render",value:function(){return k.createElement(sX,this.props)}}])})(k.Component);G5(oo,"displayName","YAxis");G5(oo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k_(e){return uX(e)||cX(e)||lX(e)||oX()}function oX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lX(e,t){if(e){if(typeof e=="string")return Tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tv(e,t)}}function cX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uX(e){if(Array.isArray(e))return Tv(e)}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rv=function(t,r,n,i,o){var l=Sr(t,Jb),u=Sr(t,Vf),d=[].concat(k_(l),k_(u)),h=Sr(t,Xf),m="".concat(i,"Id"),p=i[0],x=r;if(d.length&&(x=d.reduce(function(w,y){if(y.props[m]===n&&vn(y.props,"extendDomain")&&me(y.props[p])){var S=y.props[p];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},x)),h.length){var v="".concat(p,"1"),b="".concat(p,"2");x=h.reduce(function(w,y){if(y.props[m]===n&&vn(y.props,"extendDomain")&&me(y.props[v])&&me(y.props[b])){var S=y.props[v],_=y.props[b];return[Math.min(w[0],S,_),Math.max(w[1],S,_)]}return w},x)}return o&&o.length&&(x=o.reduce(function(w,y){return me(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},x)),x},Q0={exports:{}},P_;function dX(){return P_||(P_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function o(d,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||d,x),b=r?r+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,b=new Array(v);x<v;x++)b[x]=p[x].fn;return b},u.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,m,p,x,v,b){var w=r?r+h:h;if(!this._events[w])return!1;var y=this._events[w],S=arguments.length,_,C;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,p),!0;case 4:return y.fn.call(y.context,m,p,x),!0;case 5:return y.fn.call(y.context,m,p,x,v),!0;case 6:return y.fn.call(y.context,m,p,x,v,b),!0}for(C=1,_=new Array(S-1);C<S;C++)_[C-1]=arguments[C];y.fn.apply(y.context,_)}else{var O=y.length,j;for(C=0;C<O;C++)switch(y[C].once&&this.removeListener(h,y[C].fn,void 0,!0),S){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,m);break;case 3:y[C].fn.call(y[C].context,m,p);break;case 4:y[C].fn.call(y[C].context,m,p,x);break;default:if(!_)for(j=1,_=new Array(S-1);j<S;j++)_[j-1]=arguments[j];y[C].fn.apply(y[C].context,_)}}return!0},u.prototype.on=function(h,m,p){return o(this,h,m,p,!1)},u.prototype.once=function(h,m,p){return o(this,h,m,p,!0)},u.prototype.removeListener=function(h,m,p,x){var v=r?r+h:h;if(!this._events[v])return this;if(!m)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===m&&(!x||b.once)&&(!p||b.context===p)&&l(this,v);else{for(var w=0,y=[],S=b.length;w<S;w++)(b[w].fn!==m||x&&!b[w].once||p&&b[w].context!==p)&&y.push(b[w]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Q0)),Q0.exports}var fX=dX();const hX=Xe(fX);var J0=new hX,Z0="recharts.syncMouseEvents";function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function pX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y5(n.key),n)}}function gX(e,t,r){return t&&mX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ey(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=xX(e,"string");return nc(t)=="symbol"?t:t+""}function xX(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yX=(function(){function e(){pX(this,e),ey(this,"activeIndex",0),ey(this,"coordinateList",[]),ey(this,"layout","horizontal")}return gX(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+d+h,x=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])})();function vX(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&me(n)&&me(i))return!0}return!1}function bX(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function X5(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=at(t,r,n,i),u=at(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function jX(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,h=t.innerRadius,m=t.outerRadius,p=t.angle,x=at(u,d,h,p),v=at(u,d,m,p);n=x.x,i=x.y,o=v.x,l=v.y}else return X5(t);return[{x:n,y:i},{x:o,y:l}]}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=SX(e,"string");return ac(t)=="symbol"?t:t+""}function SX(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OX(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,h=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,x=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||x!=="ScatterChart"&&i!=="axis")return null;var b,w=Md;if(x==="ScatterChart")b=l,w=GK;else if(x==="BarChart")b=bX(p,l,d,m),w=Kb;else if(p==="radial"){var y=X5(l),S=y.cx,_=y.cy,C=y.radius,O=y.startAngle,j=y.endAngle;b={cx:S,cy:_,startAngle:O,endAngle:j,innerRadius:C,outerRadius:C},w=QT}else b={points:jX(p,l,d)},w=Md;var P=Xu(Xu(Xu(Xu({stroke:"#ccc",pointerEvents:"none"},d),b),_e(v,!1)),{},{payload:u,payloadIndex:h,className:Le("recharts-tooltip-cursor",v.className)});return k.isValidElement(v)?k.cloneElement(v,P):k.createElement(w,P)}var kX=["item"],PX=["children","className","width","height","style","compact","title","desc"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function __(e,t){return CX(e)||_X(e,t)||J5(e,t)||AX()}function AX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function CX(e){if(Array.isArray(e))return e}function C_(e,t){if(e==null)return{};var r=EX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z5(n.key),n)}}function MX(e,t,r){return t&&RX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IX(e,t,r){return t=af(t),$X(e,Q5()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function $X(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DX(e)}function DX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function LX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mv(e,t)}function Mv(e,t){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mv(e,t)}function Vs(e){return qX(e)||BX(e)||J5(e)||FX()}function FX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5(e,t){if(e){if(typeof e=="string")return Iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iv(e,t)}}function BX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qX(e){if(Array.isArray(e))return Iv(e)}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=Z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z5(e){var t=zX(e,"string");return Gs(t)=="symbol"?t:t+""}function zX(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX={xAxis:["bottom","top"],yAxis:["left","right"]},WX={width:"100%",height:"100%"},e4={x:0,y:0};function Qu(e){return e}var KX=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},HX=function(t,r,n,i){var o=r.find(function(m){return m&&m.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return ae(ae(ae({},i),at(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,h=i.angle;return ae(ae(ae({},i),at(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return e4},Qf=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Vs(u),Vs(h)):u},[]);return l.length>0?l:t&&t.length&&me(i)&&me(o)?t.slice(i,o+1):[]};function t4(e){return e==="number"?[0,"auto"]:void 0}var $v=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=Qf(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,h){var m,p=(m=h.props.data)!==null&&m!==void 0?m:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;x=id(v,l.dataKey,i)}else x=p&&p[n]||u[n];return x?[].concat(Vs(d),[KT(h,x)]):d},[])},T_=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=KX(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,h=t.tooltipTicks,m=p9(l,u,h,d);if(m>=0&&h){var p=h[m]&&h[m].value,x=$v(t,r,m,p),v=HX(n,u,m,o);return{activeTooltipIndex:m,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},GX=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=t.stackOffset,v=FT(m,o);return n.reduce(function(b,w){var y,S=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,_=S.type,C=S.dataKey,O=S.allowDataOverflow,j=S.allowDuplicatedCategory,P=S.scale,E=S.ticks,T=S.includeHidden,M=S[l];if(b[M])return b;var L=Qf(t.data,{graphicalItems:i.filter(function(H){var X,oe=l in H.props?H.props[l]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[l];return oe===M}),dataStartIndex:d,dataEndIndex:h}),R=L.length,F,U,W;vX(S.domain,O,_)&&(F=Xy(S.domain,null,O),v&&(_==="number"||P!=="auto")&&(W=pl(L,C,"category")));var B=t4(_);if(!F||F.length===0){var $,z=($=S.domain)!==null&&$!==void 0?$:B;if(C){if(F=pl(L,C,_),_==="category"&&v){var V=oD(F);j&&V?(U=F,F=Kd(0,R)):j||(F=MP(z,F,w).reduce(function(H,X){return H.indexOf(X)>=0?H:[].concat(Vs(H),[X])},[]))}else if(_==="category")j?F=F.filter(function(H){return H!==""&&!De(H)}):F=MP(z,F,w).reduce(function(H,X){return H.indexOf(X)>=0||X===""||De(X)?H:[].concat(Vs(H),[X])},[]);else if(_==="number"){var G=v9(L,i.filter(function(H){var X,oe,fe=l in H.props?H.props[l]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[l],se="hide"in H.props?H.props.hide:(oe=H.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return fe===M&&(T||!se)}),C,o,m);G&&(F=G)}v&&(_==="number"||P!=="auto")&&(W=pl(L,C,"category"))}else v?F=Kd(0,R):u&&u[M]&&u[M].hasStack&&_==="number"?F=x==="expand"?[0,1]:WT(u[M].stackGroups,d,h):F=LT(L,i.filter(function(H){var X=l in H.props?H.props[l]:H.type.defaultProps[l],oe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return X===M&&(T||!oe)}),_,m,!0);if(_==="number")F=Rv(p,F,M,o,E),z&&(F=Xy(z,F,O));else if(_==="category"&&z){var D=z,q=F.every(function(H){return D.indexOf(H)>=0});q&&(F=D)}}return ae(ae({},b),{},Ee({},M,ae(ae({},S),{},{axisType:o,domain:F,categoricalDomain:W,duplicateDomain:U,originalDomain:(y=S.domain)!==null&&y!==void 0?y:B,isCategorical:v,layout:m})))},{})},VX=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=Qf(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=x.length,b=FT(m,o),w=-1;return n.reduce(function(y,S){var _=S.type.defaultProps!==void 0?ae(ae({},S.type.defaultProps),S.props):S.props,C=_[l],O=t4("number");if(!y[C]){w++;var j;return b?j=Kd(0,v):u&&u[C]&&u[C].hasStack?(j=WT(u[C].stackGroups,d,h),j=Rv(p,j,C,o)):(j=Xy(O,LT(x,n.filter(function(P){var E,T,M=l in P.props?P.props[l]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[l],L="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===C&&!L}),"number",m),i.defaultProps.allowDataOverflow),j=Rv(p,j,C,o)),ae(ae({},y),{},Ee({},C,ae(ae({axisType:o},i.defaultProps),{},{hide:!0,orientation:Nr(UX,"".concat(o,".").concat(w%2),null),domain:j,originalDomain:O,isCategorical:b,layout:m})))}return y},{})},YX=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.children,p="".concat(i,"Id"),x=Sr(m,o),v={};return x&&x.length?v=GX(t,{axes:x,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=VX(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},XX=function(t){var r=va(t),n=Bn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ed(r,n)}},R_=function(t){var r=t.children,n=t.defaultShowTooltip,i=br(r,Ds),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},QX=function(t){return!t||!t.length?!1:t.some(function(r){var n=qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},M_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JX=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,h=n.width,m=n.height,p=n.children,x=n.margin||{},v=br(p,Ds),b=br(p,_a),w=Object.keys(d).reduce(function(j,P){var E=d[P],T=E.orientation;return!E.mirror&&!E.hide?ae(ae({},j),{},Ee({},T,j[T]+E.width)):j},{left:x.left||0,right:x.right||0}),y=Object.keys(l).reduce(function(j,P){var E=l[P],T=E.orientation;return!E.mirror&&!E.hide?ae(ae({},j),{},Ee({},T,Nr(j,"".concat(T))+E.height)):j},{top:x.top||0,bottom:x.bottom||0}),S=ae(ae({},y),w),_=S.bottom;v&&(S.bottom+=v.props.height||Ds.defaultProps.height),b&&r&&(S=x9(S,i,n,r));var C=h-S.left-S.right,O=m-S.top-S.bottom;return ae(ae({brushBottom:_},S),{},{width:Math.max(C,0),height:Math.max(O,0)})},ZX=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rj=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,x=function(S,_){var C=_.graphicalItems,O=_.stackGroups,j=_.offset,P=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,M=S.barSize,L=S.layout,R=S.barGap,F=S.barCategoryGap,U=S.maxBarSize,W=M_(L),B=W.numericAxisName,$=W.cateAxisName,z=QX(C),V=[];return C.forEach(function(G,D){var q=Qf(S.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:T}),H=G.type.defaultProps!==void 0?ae(ae({},G.type.defaultProps),G.props):G.props,X=H.dataKey,oe=H.maxBarSize,fe=H["".concat(B,"Id")],se=H["".concat($,"Id")],ke={},Se=d.reduce(function(nr,qr){var Ci=_["".concat(qr.axisType,"Map")],lo=H["".concat(qr.axisType,"Id")];Ci&&Ci[lo]||qr.axisType==="zAxis"||ji();var co=Ci[lo];return ae(ae({},nr),{},Ee(Ee({},qr.axisType,co),"".concat(qr.axisType,"Ticks"),Bn(co)))},ke),ce=Se[$],Oe=Se["".concat($,"Ticks")],Ie=O&&O[fe]&&O[fe].hasStack&&A9(G,O[fe].stackGroups),Z=qn(G.type).indexOf("Bar")>=0,xe=Ed(ce,Oe),ye=[],Je=z&&m9({barSize:M,stackGroups:O,totalSize:ZX(Se,$)});if(Z){var ft,Et,Br=De(oe)?U:oe,sn=(ft=(Et=Ed(ce,Oe,!0))!==null&&Et!==void 0?Et:Br)!==null&&ft!==void 0?ft:0;ye=g9({barGap:R,barCategoryGap:F,bandSize:sn!==xe?sn:xe,sizeList:Je[se],maxBarSize:Br}),sn!==xe&&(ye=ye.map(function(nr){return ae(ae({},nr),{},{position:ae(ae({},nr.position),{},{offset:nr.position.offset-sn/2})})}))}var on=G&&G.type&&G.type.getComposedData;on&&V.push({props:ae(ae({},on(ae(ae({},Se),{},{displayedData:q,props:S,dataKey:X,item:G,bandSize:xe,barPosition:ye,offset:j,stackedData:Ie,layout:L,dataStartIndex:E,dataEndIndex:T}))),{},Ee(Ee(Ee({key:G.key||"item-".concat(D)},B,Se[B]),$,Se[$]),"animationId",P)),childIndex:bD(G,S.children),item:G})}),V},v=function(S,_){var C=S.props,O=S.dataStartIndex,j=S.dataEndIndex,P=S.updateId;if(!V2({props:C}))return null;var E=C.children,T=C.layout,M=C.stackOffset,L=C.data,R=C.reverseStackOrder,F=M_(T),U=F.numericAxisName,W=F.cateAxisName,B=Sr(E,n),$=k9(L,B,"".concat(U,"Id"),"".concat(W,"Id"),M,R),z=d.reduce(function(H,X){var oe="".concat(X.axisType,"Map");return ae(ae({},H),{},Ee({},oe,YX(C,ae(ae({},X),{},{graphicalItems:B,stackGroups:X.axisType===U&&$,dataStartIndex:O,dataEndIndex:j}))))},{}),V=JX(ae(ae({},z),{},{props:C,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(z).forEach(function(H){z[H]=m(C,z[H],V,H.replace("Map",""),r)});var G=z["".concat(W,"Map")],D=XX(G),q=x(C,ae(ae({},z),{},{dataStartIndex:O,dataEndIndex:j,updateId:P,graphicalItems:B,stackGroups:$,offset:V}));return ae(ae({formattedGraphicalItems:q,graphicalItems:B,offset:V,stackGroups:$},D),z)},b=(function(y){function S(_){var C,O,j;return TX(this,S),j=IX(this,S,[_]),Ee(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(j,"accessibilityManager",new yX),Ee(j,"handleLegendBBoxUpdate",function(P){if(P){var E=j.state,T=E.dataStartIndex,M=E.dataEndIndex,L=E.updateId;j.setState(ae({legendBBox:P},v({props:j.props,dataStartIndex:T,dataEndIndex:M,updateId:L},ae(ae({},j.state),{},{legendBBox:P}))))}}),Ee(j,"handleReceiveSyncEvent",function(P,E,T){if(j.props.syncId===P){if(T===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(E)}}),Ee(j,"handleBrushChange",function(P){var E=P.startIndex,T=P.endIndex;if(E!==j.state.dataStartIndex||T!==j.state.dataEndIndex){var M=j.state.updateId;j.setState(function(){return ae({dataStartIndex:E,dataEndIndex:T},v({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:M},j.state))}),j.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Ee(j,"handleMouseEnter",function(P){var E=j.getMouseInfo(P);if(E){var T=ae(ae({},E),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseEnter;Me(M)&&M(T,P)}}),Ee(j,"triggeredAfterMouseMove",function(P){var E=j.getMouseInfo(P),T=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseMove;Me(M)&&M(T,P)}),Ee(j,"handleItemMouseEnter",function(P){j.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ee(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ee(j,"handleMouseMove",function(P){P.persist(),j.throttleTriggeredAfterMouseMove(P)}),Ee(j,"handleMouseLeave",function(P){j.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseLeave;Me(T)&&T(E,P)}),Ee(j,"handleOuterEvent",function(P){var E=vD(P),T=Nr(j.props,"".concat(E));if(E&&Me(T)){var M,L;/.*touch.*/i.test(E)?L=j.getMouseInfo(P.changedTouches[0]):L=j.getMouseInfo(P),T((M=L)!==null&&M!==void 0?M:{},P)}}),Ee(j,"handleClick",function(P){var E=j.getMouseInfo(P);if(E){var T=ae(ae({},E),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onClick;Me(M)&&M(T,P)}}),Ee(j,"handleMouseDown",function(P){var E=j.props.onMouseDown;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleMouseUp",function(P){var E=j.props.onMouseUp;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ee(j,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.handleMouseDown(P.changedTouches[0])}),Ee(j,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.handleMouseUp(P.changedTouches[0])}),Ee(j,"handleDoubleClick",function(P){var E=j.props.onDoubleClick;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleContextMenu",function(P){var E=j.props.onContextMenu;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"triggerSyncEvent",function(P){j.props.syncId!==void 0&&J0.emit(Z0,j.props.syncId,P,j.eventEmitterSymbol)}),Ee(j,"applySyncEvent",function(P){var E=j.props,T=E.layout,M=E.syncMethod,L=j.state.updateId,R=P.dataStartIndex,F=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:R,dataEndIndex:F},v({props:j.props,dataStartIndex:R,dataEndIndex:F,updateId:L},j.state)));else if(P.activeTooltipIndex!==void 0){var U=P.chartX,W=P.chartY,B=P.activeTooltipIndex,$=j.state,z=$.offset,V=$.tooltipTicks;if(!z)return;if(typeof M=="function")B=M(V,P);else if(M==="value"){B=-1;for(var G=0;G<V.length;G++)if(V[G].value===P.activeLabel){B=G;break}}var D=ae(ae({},z),{},{x:z.left,y:z.top}),q=Math.min(U,D.x+D.width),H=Math.min(W,D.y+D.height),X=V[B]&&V[B].value,oe=$v(j.state,j.props.data,B),fe=V[B]?{x:T==="horizontal"?V[B].coordinate:q,y:T==="horizontal"?H:V[B].coordinate}:e4;j.setState(ae(ae({},P),{},{activeLabel:X,activeCoordinate:fe,activePayload:oe,activeTooltipIndex:B}))}else j.setState(P)}),Ee(j,"renderCursor",function(P){var E,T=j.state,M=T.isTooltipActive,L=T.activeCoordinate,R=T.activePayload,F=T.offset,U=T.activeTooltipIndex,W=T.tooltipAxisBandSize,B=j.getTooltipEventType(),$=(E=P.props.active)!==null&&E!==void 0?E:M,z=j.props.layout,V=P.key||"_recharts-cursor";return Y.createElement(OX,{key:V,activeCoordinate:L,activePayload:R,activeTooltipIndex:U,chartName:r,element:P,isActive:$,layout:z,offset:F,tooltipAxisBandSize:W,tooltipEventType:B})}),Ee(j,"renderPolarAxis",function(P,E,T){var M=Nr(P,"type.axisType"),L=Nr(j.state,"".concat(M,"Map")),R=P.type.defaultProps,F=R!==void 0?ae(ae({},R),P.props):P.props,U=L&&L[F["".concat(M,"Id")]];return k.cloneElement(P,ae(ae({},U),{},{className:Le(M,U.className),key:P.key||"".concat(E,"-").concat(T),ticks:Bn(U,!0)}))}),Ee(j,"renderPolarGrid",function(P){var E=P.props,T=E.radialLines,M=E.polarAngles,L=E.polarRadius,R=j.state,F=R.radiusAxisMap,U=R.angleAxisMap,W=va(F),B=va(U),$=B.cx,z=B.cy,V=B.innerRadius,G=B.outerRadius;return k.cloneElement(P,{polarAngles:Array.isArray(M)?M:Bn(B,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(L)?L:Bn(W,!0).map(function(D){return D.coordinate}),cx:$,cy:z,innerRadius:V,outerRadius:G,key:P.key||"polar-grid",radialLines:T})}),Ee(j,"renderLegend",function(){var P=j.state.formattedGraphicalItems,E=j.props,T=E.children,M=E.width,L=E.height,R=j.props.margin||{},F=M-(R.left||0)-(R.right||0),U=$T({children:T,formattedGraphicalItems:P,legendWidth:F,legendContent:h});if(!U)return null;var W=U.item,B=C_(U,kX);return k.cloneElement(W,ae(ae({},B),{},{chartWidth:M,chartHeight:L,margin:R,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ee(j,"renderTooltip",function(){var P,E=j.props,T=E.children,M=E.accessibilityLayer,L=br(T,Ir);if(!L)return null;var R=j.state,F=R.isTooltipActive,U=R.activeCoordinate,W=R.activePayload,B=R.activeLabel,$=R.offset,z=(P=L.props.active)!==null&&P!==void 0?P:F;return k.cloneElement(L,{viewBox:ae(ae({},$),{},{x:$.left,y:$.top}),active:z,label:B,payload:z?W:[],coordinate:U,accessibilityLayer:M})}),Ee(j,"renderBrush",function(P){var E=j.props,T=E.margin,M=E.data,L=j.state,R=L.offset,F=L.dataStartIndex,U=L.dataEndIndex,W=L.updateId;return k.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Hu(j.handleBrushChange,P.props.onChange),data:M,x:me(P.props.x)?P.props.x:R.left,y:me(P.props.y)?P.props.y:R.top+R.height+R.brushBottom-(T.bottom||0),width:me(P.props.width)?P.props.width:R.width,startIndex:F,endIndex:U,updateId:"brush-".concat(W)})}),Ee(j,"renderReferenceElement",function(P,E,T){if(!P)return null;var M=j,L=M.clipPathId,R=j.state,F=R.xAxisMap,U=R.yAxisMap,W=R.offset,B=P.type.defaultProps||{},$=P.props,z=$.xAxisId,V=z===void 0?B.xAxisId:z,G=$.yAxisId,D=G===void 0?B.yAxisId:G;return k.cloneElement(P,{key:P.key||"".concat(E,"-").concat(T),xAxis:F[V],yAxis:U[D],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:L})}),Ee(j,"renderActivePoints",function(P){var E=P.item,T=P.activePoint,M=P.basePoint,L=P.childIndex,R=P.isRange,F=[],U=E.props.key,W=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,B=W.activeDot,$=W.dataKey,z=ae(ae({index:L,dataKey:$,cx:T.x,cy:T.y,r:4,fill:Wb(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},_e(B,!1)),sd(B));return F.push(S.renderActiveDot(B,z,"".concat(U,"-activePoint-").concat(L))),M?F.push(S.renderActiveDot(B,ae(ae({},z),{},{cx:M.x,cy:M.y}),"".concat(U,"-basePoint-").concat(L))):R&&F.push(null),F}),Ee(j,"renderGraphicChild",function(P,E,T){var M=j.filterFormatItem(P,E,T);if(!M)return null;var L=j.getTooltipEventType(),R=j.state,F=R.isTooltipActive,U=R.tooltipAxis,W=R.activeTooltipIndex,B=R.activeLabel,$=j.props.children,z=br($,Ir),V=M.props,G=V.points,D=V.isRange,q=V.baseLine,H=M.item.type.defaultProps!==void 0?ae(ae({},M.item.type.defaultProps),M.item.props):M.item.props,X=H.activeDot,oe=H.hide,fe=H.activeBar,se=H.activeShape,ke=!!(!oe&&F&&z&&(X||fe||se)),Se={};L!=="axis"&&z&&z.props.trigger==="click"?Se={onClick:Hu(j.handleItemMouseEnter,P.props.onClick)}:L!=="axis"&&(Se={onMouseLeave:Hu(j.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Hu(j.handleItemMouseEnter,P.props.onMouseEnter)});var ce=k.cloneElement(P,ae(ae({},M.props),Se));function Oe(qr){return typeof U.dataKey=="function"?U.dataKey(qr.payload):null}if(ke)if(W>=0){var Ie,Z;if(U.dataKey&&!U.allowDuplicatedCategory){var xe=typeof U.dataKey=="function"?Oe:"payload.".concat(U.dataKey.toString());Ie=id(G,xe,B),Z=D&&q&&id(q,xe,B)}else Ie=G==null?void 0:G[W],Z=D&&q&&q[W];if(se||fe){var ye=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[k.cloneElement(P,ae(ae(ae({},M.props),Se),{},{activeIndex:ye})),null,null]}if(!De(Ie))return[ce].concat(Vs(j.renderActivePoints({item:M,activePoint:Ie,basePoint:Z,childIndex:W,isRange:D})))}else{var Je,ft=(Je=j.getItemByXY(j.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ce},Et=ft.graphicalItem,Br=Et.item,sn=Br===void 0?P:Br,on=Et.childIndex,nr=ae(ae(ae({},M.props),Se),{},{activeIndex:on});return[k.cloneElement(sn,nr),null,null]}return D?[ce,null,null]:[ce,null]}),Ee(j,"renderCustomized",function(P,E,T){return k.cloneElement(P,ae(ae({key:"recharts-customized-".concat(T)},j.props),j.state))}),Ee(j,"renderMap",{CartesianGrid:{handler:Qu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Qu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Qu},YAxis:{handler:Qu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((C=_.id)!==null&&C!==void 0?C:eo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=$E(j.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),j.state={},j}return LX(S,y),MX(S,[{key:"componentDidMount",value:function(){var C,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,O=C.children,j=C.data,P=C.height,E=C.layout,T=br(O,Ir);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,R=$v(this.state,j,M,L),F=this.state.tooltipTicks[M].coordinate,U=(this.state.offset.top+P)/2,W=E==="horizontal",B=W?{x:F,y:U}:{y:F,x:U},$=this.state.formattedGraphicalItems.find(function(V){var G=V.item;return G.type.name==="Scatter"});$&&(B=ae(ae({},B),$.props.points[M].tooltipPosition),R=$.props.points[M].tooltipPayload);var z={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:L,activePayload:R,activeCoordinate:B};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var j,P;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){yy([br(C.children,Ir)],[br(this.props.children,Ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=br(this.props.children,Ir);if(C&&typeof C.props.shared=="boolean"){var O=C.props.shared?"axis":"item";return u.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var O=this.container,j=O.getBoundingClientRect(),P=s7(j),E={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},T=j.width/O.offsetWidth||1,M=this.inRange(E.chartX,E.chartY,T);if(!M)return null;var L=this.state,R=L.xAxisMap,F=L.yAxisMap,U=this.getTooltipEventType(),W=T_(this.state,this.props.data,this.props.layout,M);if(U!=="axis"&&R&&F){var B=va(R).scale,$=va(F).scale,z=B&&B.invert?B.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return ae(ae({},E),{},{xValue:z,yValue:V},W)}return W?ae(ae({},E),W):null}},{key:"inRange",value:function(C,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=C/j,T=O/j;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,L=E>=M.left&&E<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return L?{x:E,y:T}:null}var R=this.state,F=R.angleAxisMap,U=R.radiusAxisMap;if(F&&U){var W=va(F);return DP({x:E,y:T},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,O=this.getTooltipEventType(),j=br(C,Ir),P={};j&&O==="axis"&&(j.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=sd(this.props,this.handleOuterEvent);return ae(ae({},E),P)}},{key:"addListener",value:function(){J0.on(Z0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J0.removeListener(Z0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,O,j){for(var P=this.state.formattedGraphicalItems,E=0,T=P.length;E<T;E++){var M=P[E];if(M.item===C||M.props.key===C.key||O===qn(M.item.type)&&j===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,O=this.state.offset,j=O.left,P=O.top,E=O.height,T=O.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:C},Y.createElement("rect",{x:j,y:P,height:E,width:T})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(O,j){var P=__(j,2),E=P[0],T=P[1];return ae(ae({},O),{},Ee({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(O,j){var P=__(j,2),E=P[0],T=P[1];return ae(ae({},O),{},Ee({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[C])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(C){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[C])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(C){var O=this.state,j=O.formattedGraphicalItems,P=O.activeItem;if(j&&j.length)for(var E=0,T=j.length;E<T;E++){var M=j[E],L=M.props,R=M.item,F=R.type.defaultProps!==void 0?ae(ae({},R.type.defaultProps),R.props):R.props,U=qn(R.type);if(U==="Bar"){var W=(L.data||[]).find(function(V){return PK(C,V)});if(W)return{graphicalItem:M,payload:W}}else if(U==="RadialBar"){var B=(L.data||[]).find(function(V){return DP(C,V)});if(B)return{graphicalItem:M,payload:B}}else if(Wf(M,P)||Kf(M,P)||Jl(M,P)){var $=XH({graphicalItem:M,activeTooltipItem:P,itemData:F.data}),z=F.activeIndex===void 0?$:F.activeIndex;return{graphicalItem:ae(ae({},M),{},{childIndex:z}),payload:Jl(M,P)?F.data[$]:M.props.data[$]}}}return null}},{key:"render",value:function(){var C=this;if(!V2(this))return null;var O=this.props,j=O.children,P=O.className,E=O.width,T=O.height,M=O.style,L=O.compact,R=O.title,F=O.desc,U=C_(O,PX),W=_e(U,!1);if(L)return Y.createElement(u_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(by,us({},W,{width:E,height:T,title:R,desc:F}),this.renderClipPath(),X2(j,this.renderMap)));if(this.props.accessibilityLayer){var B,$;W.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,W.role=($=this.props.role)!==null&&$!==void 0?$:"application",W.onKeyDown=function(V){C.accessibilityManager.keyboardEvent(V)},W.onFocus=function(){C.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return Y.createElement(u_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",us({className:Le("recharts-wrapper",P),style:ae({position:"relative",cursor:"default",width:E,height:T},M)},z,{ref:function(G){C.container=G}}),Y.createElement(by,us({},W,{width:E,height:T,title:R,desc:F,style:WX}),this.renderClipPath(),X2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ee(b,"displayName",r),Ee(b,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ee(b,"getDerivedStateFromProps",function(y,S){var _=y.dataKey,C=y.data,O=y.children,j=y.width,P=y.height,E=y.layout,T=y.stackOffset,M=y.margin,L=S.dataStartIndex,R=S.dataEndIndex;if(S.updateId===void 0){var F=R_(y);return ae(ae(ae({},F),{},{updateId:0},v(ae(ae({props:y},F),{},{updateId:0}),S)),{},{prevDataKey:_,prevData:C,prevWidth:j,prevHeight:P,prevLayout:E,prevStackOffset:T,prevMargin:M,prevChildren:O})}if(_!==S.prevDataKey||C!==S.prevData||j!==S.prevWidth||P!==S.prevHeight||E!==S.prevLayout||T!==S.prevStackOffset||!ds(M,S.prevMargin)){var U=R_(y),W={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},B=ae(ae({},T_(S,C,E)),{},{updateId:S.updateId+1}),$=ae(ae(ae({},U),W),B);return ae(ae(ae({},$),v(ae({props:y},$),S)),{},{prevDataKey:_,prevData:C,prevWidth:j,prevHeight:P,prevLayout:E,prevStackOffset:T,prevMargin:M,prevChildren:O})}if(!yy(O,S.prevChildren)){var z,V,G,D,q=br(O,Ds),H=q&&(z=(V=q.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:L,X=q&&(G=(D=q.props)===null||D===void 0?void 0:D.endIndex)!==null&&G!==void 0?G:R,oe=H!==L||X!==R,fe=!De(C),se=fe&&!oe?S.updateId:S.updateId+1;return ae(ae({updateId:se},v(ae(ae({props:y},S),{},{updateId:se,dataStartIndex:H,dataEndIndex:X}),S)),{},{prevChildren:O,dataStartIndex:H,dataEndIndex:X})}return null}),Ee(b,"renderActiveDot",function(y,S,_){var C;return k.isValidElement(y)?C=k.cloneElement(y,S):Me(y)?C=y(S):C=Y.createElement(Ff,S),Y.createElement(He,{className:"recharts-active-dot",key:_},C)});var w=k.forwardRef(function(S,_){return Y.createElement(b,us({},S,{ref:_}))});return w.displayName=b.displayName,w},eQ=rj({chartName:"LineChart",GraphicalChild:Ws,axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:oo}],formatAxisMap:j5}),tQ=rj({chartName:"BarChart",GraphicalChild:Ea,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:oo}],formatAxisMap:j5}),rQ=rj({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Uf},{axisType:"radiusAxis",AxisComp:qf}],formatAxisMap:L9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const I_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],nQ=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function aQ({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:n=>n.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:n=>`${n}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:n=>`${n}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:n=>`$${(n/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:n=>n.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:n=>n.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>a.jsxs("div",{className:`${n.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n.title}),a.jsx("p",{className:`text-2xl font-bold ${n.color}`,children:t?"-":n.format(n.value)})]},n.title))})}function iQ({data:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx(vb,{width:"100%",height:256,children:a.jsxs(eQ,{data:e,children:[a.jsx(tj,{strokeDasharray:"3 3"}),a.jsx(so,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(oo,{tick:{fontSize:12}}),a.jsx(Ir,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,n)=>[r.toLocaleString(),n]}),a.jsx(_a,{}),a.jsx(Ws,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),a.jsx(Ws,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function sQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(n=>n.totalCostCents>0).slice(0,8).map(n=>({name:n.agentName||n.agentId.slice(0,8),value:n.totalCostCents}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx(vb,{width:"100%",height:256,children:a.jsxs(rQ,{children:[a.jsx(Qn,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} (${(i*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>a.jsx(Pf,{fill:I_[i%I_.length]},`cell-${i}`))}),a.jsx(Ir,{formatter:n=>[`$${(n/100).toFixed(2)}`,"Cost"]})]})})]})}function oQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(n=>({name:n.agentName||n.agentId.slice(0,8),avgLatency:n.avgLatencyMs,p95Latency:n.p95LatencyMs}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),a.jsx(vb,{width:"100%",height:256,children:a.jsxs(tQ,{data:r,children:[a.jsx(tj,{strokeDasharray:"3 3"}),a.jsx(so,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(oo,{tick:{fontSize:12}}),a.jsx(Ir,{formatter:n=>[`${n}ms`,""]}),a.jsx(_a,{}),a.jsx(Ea,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),a.jsx(Ea,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function lQ({agents:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,n)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},n))})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function cQ({trends:e,loading:t}){if(t||e.length===0)return null;const r=o=>{switch(o){case"up":return"^";case"down":return"v";default:return"-"}},n=o=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(o.metric),u=["avgLatencyMs","totalCostCents"].includes(o.metric);return o.direction==="stable"?"text-gray-600 bg-gray-100":o.direction==="up"&&l||o.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},i=o=>o.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(o=>a.jsxs("div",{className:`rounded-lg p-3 ${n(o)}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:i(o.metric)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:r(o.direction)}),a.jsxs("span",{className:"text-sm",children:[o.changePercent>0?"+":"",o.changePercent.toFixed(1),"%"]})]})]},o.metric))})]})}function uQ({entries:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,i)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},i))})]});const r=n=>{switch(n){case"up":return a.jsx("span",{className:"text-green-500",children:"^"});case"down":return a.jsx("span",{className:"text-red-500",children:"v"});default:return a.jsx("span",{className:"text-gray-400",children:"-"})}};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${n.rank===1?"bg-yellow-400 text-yellow-900":n.rank===2?"bg-gray-300 text-gray-700":n.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:n.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.agentName||n.agentId.slice(0,8)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",n.score.toFixed(1)," ",r(n.trend)]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[n.executions.toLocaleString()," executions"]}),a.jsxs("p",{className:"text-gray-500",children:[n.successRate,"% success"]})]})]},n.agentId))})]})}function dQ({data:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=Array.from({length:7},()=>Array(24).fill(0));let o=1;e.forEach(u=>{const h=new Date(u.date).getDay();h>=0&&h<7&&u.hour>=0&&u.hour<24&&(i[h][u.hour]+=u.value,o=Math.max(o,i[h][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/o;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-max",children:[a.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>a.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),n.map((u,d)=>a.jsxs("div",{className:"flex gap-0.5 items-center",children:[a.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(h=>a.jsx("div",{className:`w-6 h-6 rounded-sm ${l(i[d][h])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${h}:00 - ${i[d][h]} executions`},h))]},u)),a.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),a.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function fQ({anomalies:e,loading:t}){return t||e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,n)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},n))})]})}function hQ({onExport:e,loading:t}){const[r,n]=k.useState(!1);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):a.jsx(a.Fragment,{children:"Export"})}),r&&!t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[a.jsx("button",{onClick:()=>{e("csv"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),a.jsx("button",{onClick:()=>{e("pdf"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function pQ(){const[e,t]=k.useState("week"),[r,n]=k.useState(!0),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState([]),[b,w]=k.useState([]),[y,S]=k.useState([]),[_,C]=k.useState([]),O=k.useCallback(async()=>{var P,E,T,M;n(!0),u(null);try{const[L,R,F,U]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(!L.ok)throw new Error("Failed to fetch overview");if(!R.ok)throw new Error("Failed to fetch agent metrics");if(!F.ok)throw new Error("Failed to fetch leaderboard");if(!U.ok)throw new Error("Failed to fetch trends");const[W,B,$,z]=await Promise.all([L.json(),R.json(),F.json(),U.json()]);p(W.data),v(((P=B.data)==null?void 0:P.agents)||[]),w(((E=$.data)==null?void 0:E.leaderboard)||[]),S(((T=z.data)==null?void 0:T.trends)||[]),C(((M=z.data)==null?void 0:M.anomalies)||[])}catch(L){u(L instanceof Error?L.message:"Failed to load analytics"),console.error("Analytics fetch error:",L)}finally{n(!1)}},[e]),j=async P=>{o(!0);try{const E=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:P,period:e})});if(!E.ok)throw new Error("Export failed");const T=await E.blob(),M=window.URL.createObjectURL(T),L=document.createElement("a");L.href=M,L.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${P}`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(M)}catch(E){console.error("Export error:",E),u("Failed to export report")}finally{o(!1)}};return k.useEffect(()=>{O()},[O]),k.useEffect(()=>{if(!d)return;const P=setInterval(O,6e4);return()=>clearInterval(P)},[d,O]),a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("select",{value:e,onChange:P=>t(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:nQ.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:P=>h(P.target.checked),className:"rounded"}),"Auto-refresh"]}),a.jsx(hQ,{onExport:j,loading:i})]})]}),l&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,a.jsx("button",{onClick:O,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(fQ,{anomalies:_,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(aQ,{metrics:m,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(cQ,{trends:y,loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsx(iQ,{data:(m==null?void 0:m.dailyTrend)||[],loading:r}),a.jsx(sQ,{agents:x,loading:r})]}),a.jsx("div",{className:"mb-6",children:a.jsx(oQ,{agents:x,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(dQ,{data:((m==null?void 0:m.dailyTrend)||[]).flatMap(P=>Array.from({length:24},(E,T)=>({date:P.date,hour:T,value:Math.floor(P.executions*(T>=9&&T<=17?.08:.02))}))),loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(lQ,{agents:x,loading:r}),a.jsx(uQ,{entries:b,loading:r})]})]})}const mQ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState([]),[x,v]=k.useState("monthly"),[b,w]=k.useState(!0),[y,S]=k.useState(null);k.useEffect(()=>{_()},[]);const _=async()=>{try{w(!0),S(null);const[M,L,R,F]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!M.ok||!L.ok||!R.ok)throw new Error("Failed to load billing data");const U=await M.json(),W=await L.json(),B=await R.json(),$=await F.json();t(U.plans),n(W.subscription),o(B.usage),u(B.limits),h(B.percentages),p($.invoices)}catch(M){S(M instanceof Error?M.message:"An error occurred")}finally{w(!1)}},C=async M=>{try{const L=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:M,billingInterval:x})});if(!L.ok){const F=await L.json();throw new Error(F.error||"Failed to create checkout session")}const{url:R}=await L.json();R&&(window.location.href=R)}catch(L){S(L instanceof Error?L.message:"Failed to upgrade")}},O=async()=>{try{const M=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const R=await M.json();throw new Error(R.error||"Failed to open billing portal")}const{url:L}=await M.json();L&&(window.location.href=L)}catch(M){S(M instanceof Error?M.message:"Failed to open billing portal")}},j=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const M=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to cancel subscription")}await _()}catch(M){S(M instanceof Error?M.message:"Failed to cancel")}},P=async()=>{try{const M=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to reactivate subscription")}await _()}catch(M){S(M instanceof Error?M.message:"Failed to reactivate")}},E=M=>M===-1?"Unlimited":M.toLocaleString(),T=M=>`${(M/1073741824).toFixed(2)} GB`;return b?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,a.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),a.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&a.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),a.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&a.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?a.jsx("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?a.jsx("button",{onClick:j,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),i&&l&&d&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ol,{label:"Executions",current:i.executions,limit:l.executionsPerMonth,percentage:d.executions}),a.jsx(ol,{label:"API Requests (Daily)",current:i.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),a.jsx(ol,{label:"Agents",current:i.agents,limit:l.agents,percentage:d.agents}),a.jsx(ol,{label:"Workflows",current:i.workflows,limit:l.workflows,percentage:d.workflows}),a.jsx(ol,{label:"Team Members",current:i.team_members,limit:l.teamMembers,percentage:d.team_members}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Storage"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[T(i.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>v("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>v("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(M=>a.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${M.popular?"ring-2 ring-blue-500":""}`,children:[M.popular&&a.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:M.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:M.description}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?M.pricing.yearly:M.pricing.monthly}),M.pricing.monthlyRaw>0&&a.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),a.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.agents)," Agents"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.workflows)," Workflows"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.executionsPerMonth)," Executions/month"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.teamMembers)," Team members"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",M.limits.storageGb," GB Storage"]}),M.features.githubIntegration&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," GitHub Integration"]}),M.features.advancedAnalytics&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Advanced Analytics"]}),M.features.prioritySupport&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Priority Support"]}),M.features.sso&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," SSO"]})]}),(r==null?void 0:r.planId)===M.id?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):M.id==="free"?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):M.pricing.monthlyRaw===-1?a.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):a.jsxs("button",{onClick:()=>C(M.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",M.name]})]},M.id))})]}),m.length>0&&a.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(M=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:new Date(M.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"py-3 px-4",children:M.amountFormatted}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(gQ,{status:M.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[M.hostedInvoiceUrl&&a.jsx("a",{href:M.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),M.invoicePdfUrl&&a.jsx("a",{href:M.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},M.id))})]})})]})]})},ol=({label:e,current:t,limit:r,percentage:n})=>{const i=l=>l===-1?"Unlimited":l.toLocaleString(),o=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:e}),a.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",i(r)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${o(n)} h-2 rounded-full transition-all`,style:{width:`${Math.min(n,100)}%`}})})]})},Mn=()=>a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),gQ=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function xQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState("month"),[x,v]=k.useState(""),[b,w]=k.useState(!1),{user:y}=wn();k.useEffect(()=>{S()},[m]);const S=async()=>{try{u(!0),h(null);const[T,M,L]=await Promise.all([fetch(`/api/costs/summary?period=${m}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(!T.ok||!M.ok||!L.ok)throw new Error("Failed to fetch cost data");const[R,F,U]=await Promise.all([T.json(),M.json(),L.json()]);t(R.data),n(F.data.trend),o(U.data),U.data.budgetCents&&v((U.data.budgetCents/100).toString())}catch(T){h(T instanceof Error?T.message:"Unknown error")}finally{u(!1)}},_=async()=>{try{w(!0);const T=x?Math.round(parseFloat(x)*100):null,M=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:T})});if(!M.ok){const L=await M.json();throw new Error(L.message||"Failed to update budget")}await S()}catch(T){h(T instanceof Error?T.message:"Failed to update budget")}finally{w(!1)}},C=T=>`$${(T/100).toFixed(2)}`,O=T=>T.toLocaleString(),j=T=>{switch(T){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},P=T=>{switch(T){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},E=()=>Math.max(...r.map(T=>T.totalCostCents),1);return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),i&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P(i.status)}`,children:i.status==="exceeded"?"Budget Exceeded":i.status==="critical"?"Critical":i.status==="warning"?"Warning":"On Track"})]}),l?a.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:C(i.spentCents)}),i.budgetCents&&a.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",C(i.budgetCents)]}),a.jsxs("span",{className:"text-lg text-gray-500",children:["(",i.usedPercent,"%)"]})]}),i.budgetCents&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all ${j(i.status)}`,style:{width:`${Math.min(i.usedPercent,100)}%`}})}),a.jsx("p",{className:"text-gray-600",children:i.budgetCents?`${C(i.remainingCents)} remaining this month`:"No budget limit set"})]}):a.jsx("p",{className:"text-gray-500",children:"No budget data available"}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:x,onChange:T=>v(T.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{onClick:_,disabled:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:b?"Saving...":"Save"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),a.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(T=>a.jsx("button",{onClick:()=>p(T),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${m===T?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:T==="day"?"Today":T==="week"?"This Week":"This Month"},T))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.totalCostCents)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:O((e==null?void 0:e.requestCount)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalInputTokens)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalOutputTokens)??0)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(T=>a.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},T))}):e!=null&&e.byAgent&&e.byAgent.length>0?a.jsx("div",{className:"space-y-4",children:e.byAgent.map(T=>{const M=e.totalCostCents>0?Math.round(T.totalCostCents/e.totalCostCents*100):0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:T.agentName||T.agentId.slice(0,8)}),a.jsxs("span",{className:"text-sm text-gray-600",children:[C(T.totalCostCents)," (",M,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${M}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[O(T.requestCount)," requests"]})]})]},T.agentId)})}):a.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?a.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?a.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map(T=>{const M=T.totalCostCents>0?Math.max(T.totalCostCents/E()*100,4):2;return a.jsxs("div",{className:"flex-1 group relative",title:`${T.date}: ${C(T.totalCostCents)}`,children:[a.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${M}%`}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[T.date,": ",C(T.totalCostCents)]})})]},T.date)})}):a.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(T=>a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},T))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,T],[,M])=>M.costCents-T.costCents).map(([T,M])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:T}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.costCents)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:O(M.requests)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.requests>0?Math.round(M.costCents/M.requests):0)})]},T))})]})}):a.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const yQ=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],vQ=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],bQ=()=>{const[e,t]=k.useState("keys"),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(null),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState(!1),[b,w]=k.useState(""),[y,S]=k.useState([]),[_,C]=k.useState("free"),[O,j]=k.useState(null),[P,E]=k.useState(!1),[T,M]=k.useState(""),[L,R]=k.useState([]),[F,U]=k.useState(null),W=k.useCallback(async()=>{h(!0),p(null);try{const[X,oe,fe]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(X.ok){const se=await X.json();n(se.data||[])}if(oe.ok){const se=await oe.json();o(se.data||[])}if(fe.ok){const se=await fe.json();u(se.data||null)}}catch(X){p("Failed to load data"),console.error("Error fetching developer portal data:",X)}finally{h(!1)}},[]);k.useEffect(()=>{W()},[W]);const B=async()=>{try{const X=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,scopes:y,rateLimitTier:_})});if(X.ok){const oe=await X.json();j(oe.data.key),n(fe=>[...fe,oe.data]),w(""),S([]),C("free")}else{const oe=await X.json();p(oe.message||"Failed to create API key")}}catch{p("Failed to create API key")}},$=async X=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${X}`,{method:"DELETE"})).ok&&n(fe=>fe.map(se=>se.id===X?{...se,status:"revoked"}:se))}catch{p("Failed to revoke API key")}},z=async()=>{try{const X=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:T,events:L})});if(X.ok){const oe=await X.json();U(oe.data.secret),o(fe=>[...fe,oe.data]),M(""),R([])}else{const oe=await X.json();p(oe.message||"Failed to create webhook")}}catch{p("Failed to create webhook")}},V=async X=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${X}`,{method:"DELETE"})).ok&&o(fe=>fe.filter(se=>se.id!==X))}catch{p("Failed to delete webhook")}},G=async X=>{try{const fe=await(await fetch(`/api/organization/webhooks/${X}/test`,{method:"POST"})).json();fe.data.success?alert(`Webhook test successful! Response time: ${fe.data.latencyMs}ms`):alert(`Webhook test failed: ${fe.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},D=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",q=X=>{switch(X){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},H=X=>{switch(X){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),m&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[m,a.jsx("button",{onClick:()=>p(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(X=>a.jsxs("button",{onClick:()=>t(X),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===X?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[X==="keys"&&"API Keys",X==="webhooks"&&"Webhooks",X==="docs"&&"Documentation"]},X))})}),e==="keys"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(X=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[X.scopes.slice(0,3).join(", "),X.scopes.length>3&&` +${X.scopes.length-3} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[X.keyPrefix,"..."]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(X.rateLimitTier)}`,children:X.rateLimitTier})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H(X.status)}`,children:X.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(X.lastUsedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.totalRequests.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:X.status==="active"&&a.jsx("button",{onClick:()=>$(X.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},X.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),a.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[i.map(X=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:X.url})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[X.events.slice(0,2).join(", "),X.events.length>2&&` +${X.events.length-2} more`]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H(X.status)}`,children:X.status}),X.failureCount>0&&a.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",X.failureCount," failures)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.lastSuccess?a.jsx("span",{className:"text-green-600",children:D(X.lastSuccess)}):X.lastFailure?a.jsx("span",{className:"text-red-600",children:D(X.lastFailure)}):"Never"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[a.jsx("button",{onClick:()=>G(X.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),a.jsx("button",{onClick:()=>V(X.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},X.id)),i.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),a.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),a.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),a.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(X=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${X.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:X.method}),a.jsx("code",{className:"text-gray-900",children:X.path}),a.jsx("span",{className:"ml-3 text-gray-500",children:X.desc})]},X.path))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500",children:[a.jsx("th",{className:"pb-2",children:"Tier"}),a.jsx("th",{className:"pb-2",children:"Per Minute"}),a.jsx("th",{className:"pb-2",children:"Per Day"})]})}),a.jsxs("tbody",{className:"text-gray-900",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Free"}),a.jsx("td",{children:"60"}),a.jsx("td",{children:"1,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Pro"}),a.jsx("td",{children:"300"}),a.jsx("td",{children:"10,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Enterprise"}),a.jsx("td",{children:"1,000"}),a.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:O?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:O})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(O),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{v(!1),j(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:b,onChange:X=>w(X.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),a.jsxs("select",{value:_,onChange:X=>C(X.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),a.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),a.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:yQ.map(X=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:y.includes(X),onChange:oe=>{oe.target.checked?S(fe=>[...fe,X]):S(fe=>fe.filter(se=>se!==X))},className:"mr-2"}),X]},X))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:B,disabled:!b||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:F?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:F})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(F),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{E(!1),U(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:T,onChange:X=>M(X.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:vQ.map(X=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:L.includes(X),onChange:oe=>{oe.target.checked?R(fe=>[...fe,X]):R(fe=>fe.filter(se=>se!==X))},className:"mr-2"}),X]},X))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:z,disabled:!T||L.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function jQ(){const{slug:e}=cf(),[t,r]=k.useState(null),[n,i]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[h,m]=k.useState([]),[p,x]=k.useState(!1),[v,b]=k.useState(!0),[w,y]=k.useState(!1),[S,_]=k.useState(null),[C,O]=k.useState("overview"),[j,P]=k.useState(null),E=k.useCallback(async()=>{if(e){b(!0);try{const z=await de({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(z.extension)}catch(z){z instanceof Ce&&z.status===404?_("Extension not found"):_("Failed to load extension")}finally{b(!1)}}},[e]),T=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});i(z.reviews.items),l(z.summary)}catch(z){console.error("Failed to fetch reviews:",z)}},[e]),M=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(z.versions)}catch(z){console.error("Failed to fetch versions:",z)}},[e]),L=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});m(z.extensions)}catch(z){console.error("Failed to fetch similar:",z)}},[e]),R=k.useCallback(async()=>{try{const z=await de({url:"/api/marketplace/installed",method:"GET"});x(z.installed.some(V=>V.extension.slug===e))}catch{}},[e]);k.useEffect(()=>{E(),T(),M(),L(),R()},[E,T,M,L,R]);const F=async()=>{if(t){y(!0);try{await de({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(z){const V=z instanceof Ce?z.message:"Install failed";alert(V)}finally{y(!1)}}},U=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await de({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(z){const V=z instanceof Ce?z.message:"Uninstall failed";alert(V)}},W=z=>z>=1e6?`${(z/1e6).toFixed(1)}M`:z>=1e3?`${(z/1e3).toFixed(1)}K`:String(z),B=z=>{if(z.pricing==="free")return"Free";if(!z.price)return"Paid";const V=(z.price.amount/100).toFixed(2),G=z.price.interval?`/${z.price.interval}`:"";return`$${V}${G}`},$=(z,V="sm")=>{const G=[],D=V==="lg"?"text-xl":"text-sm";for(let q=1;q<=5;q++)G.push(a.jsx("span",{className:`${q<=z?"text-yellow-400":"text-gray-300"} ${D}`,children:""},q));return G};return v?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:t.name})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?a.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx("span",{children:t.publisherName}),t.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:B(t)}),p?a.jsx("button",{onClick:U,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):a.jsx("button",{onClick:F,disabled:w,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Installing...":"Install"})]})]}),a.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[$(Math.round(t.stats.rating)),a.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[W(t.stats.downloads)," downloads"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[W(t.stats.activeInstalls)," active installs"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(z=>a.jsx(At,{to:`/marketplace?q=${z}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:z},z))})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(z=>a.jsxs("button",{onClick:()=>O(z),className:`py-3 text-sm font-medium border-b-2 -mb-px ${C===z?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[z==="overview"&&"Overview",z==="reviews"&&`Reviews (${t.stats.reviewCount})`,z==="versions"&&"Version History"]},z))})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[C==="overview"&&a.jsxs("div",{children:[t.screenshots.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((z,V)=>a.jsx("img",{src:z,alt:`Screenshot ${V+1}`,onClick:()=>P(z),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},V))})]}),a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),C==="reviews"&&a.jsxs("div",{children:[o&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:o.average.toFixed(1)}),a.jsx("div",{className:"flex justify-center mt-1",children:$(Math.round(o.average),"lg")}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[o.count," reviews"]})]}),a.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(z=>a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 w-3",children:z}),a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${o.count>0?o.distribution[z]/o.count*100:0}%`}})}),a.jsx("span",{className:"text-sm text-gray-500 w-8",children:o.distribution[z]||0})]},z))})]})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):a.jsx("div",{className:"space-y-4",children:n.map(z=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:z.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$(z.rating),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",z.userName,"  ",new Date(z.createdAt).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[z.helpfulCount," found helpful"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:z.body}),z.publisherResponse&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.publisherResponse.body})]})]},z.id))})]}),C==="versions"&&a.jsx("div",{className:"space-y-4",children:u.map(z=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["v",z.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:z.publishedAt?new Date(z.publishedAt).toLocaleDateString():"Unpublished"})]}),z.changelog&&a.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:z.changelog})]},z.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Version"}),a.jsx("dd",{className:"text-gray-900",children:t.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Category"}),a.jsx("dd",{className:"text-gray-900",children:t.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),a.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Published"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),a.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&a.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&a.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&a.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),a.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(z=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",z]},z))})]}),h.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),a.jsx("div",{className:"space-y-3",children:h.slice(0,4).map(z=>a.jsxs(At,{to:`/marketplace/${z.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:z.icon?a.jsx("img",{src:z.icon,alt:"",className:"w-6 h-6 rounded"}):a.jsx("span",{children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:z.name}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",z.stats.rating.toFixed(1)]})]})]},z.id))})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>P(null),children:a.jsx("img",{src:j,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function wQ(){var O;const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(null),[x,v]=k.useState(30);k.useEffect(()=>{b()},[x]);const b=async()=>{u(!0),h(null);try{const[j,P]=await Promise.all([fetch(`/api/feedback/analysis?days=${x}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(!j.ok||!P.ok)throw new Error("Failed to fetch feedback data");const E=await j.json(),T=await P.json();t(E),n(T.actions),o(T.stats)}catch(j){h(j instanceof Error?j.message:"An error occurred")}finally{u(!1)}},w=async j=>{p(j);try{if(!(await fetch(`/api/feedback/actions/${j}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await b()}catch(P){h(P instanceof Error?P.message:"Failed to apply action")}finally{p(null)}},y=async j=>{p(j);try{if(!(await fetch(`/api/feedback/actions/${j}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await b()}catch(P){h(P instanceof Error?P.message:"Failed to dismiss action")}finally{p(null)}},S=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await b()}catch(j){h(j instanceof Error?j.message:"Failed to process feedback")}},_=j=>{switch(j){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=j=>{switch(j){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return l?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(j=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},j))})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:x,onChange:j=>v(parseInt(j.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(i==null?void 0:i.pending)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(i==null?void 0:i.applied)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:i?`${(i.successRate*100).toFixed(0)}%`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([j,P])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_(j)}`,children:j}),a.jsx("span",{className:"text-gray-700 font-medium",children:P})]},j)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((j,P)=>P[1]-j[1]).slice(0,5).map(([j,P])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:j.replace(/_/g," ")}),a.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:P})]},j)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(j=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(j.priority)}`,children:j.priority}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:j.type.replace(/_/g," ")}),j.autoApplicable&&a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),a.jsx("p",{className:"mt-2 text-gray-900",children:j.description}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",j.estimatedImpact.affectedRequests," requests, +",(j.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>w(j.id),disabled:m===j.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:m===j.id?"...":"Apply"}),a.jsx("button",{onClick:()=>y(j.id),disabled:m===j.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},j.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(O=e==null?void 0:e.recentFeedback)==null?void 0:O.slice(0,10).map(j=>{var P;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.type,j.rating&&a.jsxs("span",{className:"ml-1",children:["(",j.rating,"/5)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.sentiment&&a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(j.sentiment)}`,children:j.sentiment})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((P=j.category)==null?void 0:P.replace(/_/g," "))||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:j.originalRequest}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.createdAt).toLocaleDateString()})]},j.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const is={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},ty={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function NQ(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState([]),[x,v]=k.useState(""),[b,w]=k.useState([]),[y,S]=k.useState([]),[_,C]=k.useState(!1),O=k.useRef(null),j=k.useRef(null),P=k.useCallback(async()=>{try{const U=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch stats");const W=await U.json();o(W)}catch(U){console.error("Error fetching stats:",U)}},[]),E=k.useCallback(async U=>{t(!0),n(null);try{let W="/api/knowledge-graph/visualization";U&&U.length>0&&(W=`/api/knowledge-graph/visualization/filtered?nodeTypes=${U.join(",")}`);const B=await fetch(W,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch graph");const $=await B.json();u($)}catch(W){n(W instanceof Error?W.message:"Unknown error")}finally{t(!1)}},[]),T=async()=>{C(!0),n(null);try{const U=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!U.ok)throw new Error("Failed to build graph");const W=await U.json();alert(`Graph built: ${W.nodeCount} nodes, ${W.edgeCount} edges`),await Promise.all([P(),E(y)])}catch(U){n(U instanceof Error?U.message:"Failed to build graph")}finally{C(!1)}},M=async()=>{if(!x.trim()){w([]);return}try{const U=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(x)}&limit=10`,{credentials:"include"});if(!U.ok)throw new Error("Search failed");const W=await U.json();w(W.nodes||[])}catch(U){console.error("Search error:",U)}},L=async U=>{try{const W=await fetch(`/api/knowledge-graph/related/${U}?depth=2&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch related nodes");const B=await W.json();p(B.related||[])}catch(W){console.error("Error fetching related:",W)}},R=async U=>{h(U),await L(U.id)},F=U=>{S(W=>W.includes(U)?W.filter($=>$!==U):[...W,U])};return k.useEffect(()=>{E(y)},[y,E]),k.useEffect(()=>{P(),E()},[P,E]),k.useEffect(()=>{if(!l||!O.current)return;const U=O.current,W=U.getContext("2d");if(!W)return;const B=U.parentElement;B&&(U.width=B.clientWidth,U.height=B.clientHeight),W.fillStyle="#1a1a2e",W.fillRect(0,0,U.width,U.height);const $=l.nodes.map(G=>({...G,x:Math.random()*U.width,y:Math.random()*U.height,vx:0,vy:0})),z=new Map($.map(G=>[G.id,G]));for(let G=0;G<100;G++){for(let D=0;D<$.length;D++)for(let q=D+1;q<$.length;q++){const H=$[q].x-$[D].x,X=$[q].y-$[D].y,oe=Math.sqrt(H*H+X*X)||1,fe=1e3/(oe*oe);$[D].vx-=H/oe*fe,$[D].vy-=X/oe*fe,$[q].vx+=H/oe*fe,$[q].vy+=X/oe*fe}for(const D of l.edges){const q=z.get(D.from),H=z.get(D.to);if(q&&H){const X=H.x-q.x,oe=H.y-q.y,fe=Math.sqrt(X*X+oe*oe)||1,se=fe*.01;q.vx+=X/fe*se,q.vy+=oe/fe*se,H.vx-=X/fe*se,H.vy-=oe/fe*se}}for(const D of $)D.vx+=(U.width/2-D.x)*.001,D.vy+=(U.height/2-D.y)*.001;for(const D of $)D.x+=D.vx*.1,D.y+=D.vy*.1,D.vx*=.9,D.vy*=.9,D.x=Math.max(50,Math.min(U.width-50,D.x)),D.y=Math.max(50,Math.min(U.height-50,D.y))}W.strokeStyle="#4a4a6a",W.lineWidth=1;for(const G of l.edges){const D=z.get(G.from),q=z.get(G.to);D&&q&&(W.beginPath(),W.moveTo(D.x,D.y),W.lineTo(q.x,q.y),W.stroke())}for(const G of $){const D=is[G.group]||"#9E9E9E",q=G.size||15;W.beginPath(),W.arc(G.x,G.y,q,0,Math.PI*2),W.fillStyle=D,W.fill(),W.strokeStyle=(d==null?void 0:d.id)===G.id?"#ffffff":"#000000",W.lineWidth=(d==null?void 0:d.id)===G.id?3:1,W.stroke(),W.fillStyle="#ffffff",W.font="11px sans-serif",W.textAlign="center",W.fillText(G.label.slice(0,15),G.x,G.y+q+12)}j.current=$;const V=G=>{const D=U.getBoundingClientRect(),q=G.clientX-D.left,H=G.clientY-D.top;for(const X of $)if(Math.sqrt((q-X.x)**2+(H-X.y)**2)<=(X.size||15)){R(X);return}h(null),p([])};return U.addEventListener("click",V),()=>U.removeEventListener("click",V)},[l,d]),a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("button",{onClick:T,disabled:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Building...":"Rebuild Graph"})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[a.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[i&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.nodeCount}),a.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.edgeCount}),a.jsx("div",{className:"text-gray-400",children:"Edges"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.density.toFixed(3)}),a.jsx("div",{className:"text-gray-400",children:"Density"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.averageDegree.toFixed(1)}),a.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:U=>v(U.target.value),onKeyDown:U=>U.key==="Enter"&&M(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),a.jsx("button",{onClick:M,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),b.length>0&&a.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:b.map(U=>a.jsxs("button",{onClick:()=>R(U),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:is[U.group]||"#9E9E9E"}}),U.label]},U.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ty).map(([U,W])=>a.jsx("button",{onClick:()=>F(U),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${y.includes(U)?"opacity-100":y.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:y.includes(U)||y.length===0?is[U]:"#4a4a6a"},children:W},U))}),y.length>0&&a.jsx("button",{onClick:()=>S([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),d&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:is[d.group]||"#9E9E9E"}}),a.jsx("span",{className:"font-semibold",children:d.label})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",ty[d.group]||d.group]}),m.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",m.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:m.map(U=>a.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>R({id:U.node.id,label:U.node.label,group:U.node.type}),children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:is[U.node.type]||"#9E9E9E"}}),a.jsx("span",{className:"flex-1 truncate",children:U.node.label}),a.jsx("span",{className:"text-gray-500",children:U.edge.type})]},U.node.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(ty).map(([U,W])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:is[U]}}),W]},U))})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),a.jsx("div",{className:"text-sm",children:r}),a.jsx("button",{onClick:()=>E(y),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&l&&l.nodes.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),a.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),a.jsx("button",{onClick:T,disabled:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:_?"Building...":"Build Graph"})]})}),a.jsx("canvas",{ref:O,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function SQ(){const[e,t]=Hv(),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState(null),[m,p]=k.useState(0),[x,v]=k.useState(!0),[b,w]=k.useState(e.get("q")||""),[y,S]=k.useState(e.get("category")||""),[_,C]=k.useState(e.get("pricing")||""),[O,j]=k.useState(e.get("sort")||"popular"),[P,E]=k.useState(1),T=k.useCallback(async()=>{v(!0);try{const B=new URLSearchParams;b&&B.set("q",b),y&&B.set("category",y),_&&B.set("pricing",_),B.set("sort",O),B.set("page",String(P)),B.set("limit","20");const z=await de({url:`${b?"/api/marketplace/search":"/api/marketplace/extensions"}?${B.toString()}`,method:"GET"});n(z.extensions||z.items||[]),p(z.total),z.facets&&h(z.facets)}catch(B){console.error("Failed to fetch extensions:",B)}finally{v(!1)}},[b,y,_,O,P]),M=k.useCallback(async()=>{try{const B=await de({url:"/api/marketplace/featured",method:"GET"});o(B.extensions)}catch(B){console.error("Failed to fetch featured:",B)}},[]),L=k.useCallback(async()=>{try{const B=await de({url:"/api/marketplace/categories",method:"GET"});u(B.categories)}catch(B){console.error("Failed to fetch categories:",B)}},[]);k.useEffect(()=>{L(),M()},[L,M]),k.useEffect(()=>{T()},[T]),k.useEffect(()=>{const B=new URLSearchParams;b&&B.set("q",b),y&&B.set("category",y),_&&B.set("pricing",_),O!=="popular"&&B.set("sort",O),t(B)},[b,y,_,O,t]);const R=B=>{B.preventDefault(),E(1),T()},F=B=>B>=1e6?`${(B/1e6).toFixed(1)}M`:B>=1e3?`${(B/1e3).toFixed(1)}K`:String(B),U=B=>{if(B.pricing==="free")return"Free";if(!B.price)return"Paid";const $=(B.price.amount/100).toFixed(2),z=B.price.interval?`/${B.price.interval}`:"";return`$${$}${z}`},W=B=>{const $=[];for(let z=1;z<=5;z++)$.push(a.jsx("span",{className:z<=B?"text-yellow-400":"text-gray-300",children:""},z));return $};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),a.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),a.jsxs("form",{onSubmit:R,className:"flex gap-3 max-w-2xl",children:[a.jsx("input",{type:"text",value:b,onChange:B=>w(B.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[!b&&i.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(0,3).map(B=>a.jsx(At,{to:`/marketplace/${B.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:B.icon?a.jsx("img",{src:B.icon,alt:"",className:"w-10 h-10 rounded-lg"}):a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.name}),a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:B.description}),a.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:a.jsxs("span",{className:"flex items-center text-yellow-500",children:[W(Math.round(B.stats.rating)),a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",B.stats.reviewCount,")"]})]})})]})]})},B.id))})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-56 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{S(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(B=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{S(B.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===B.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{children:B.name}),B.extensionCount!==void 0&&a.jsx("span",{className:"text-xs text-gray-400",children:B.extensionCount})]})},B.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),a.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(B=>a.jsx("li",{children:a.jsx("button",{onClick:()=>{C(B),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${_===B?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:B===""?"All":B.charAt(0).toUpperCase()+B.slice(1)})},B))})]}),d&&d.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(B=>a.jsx("button",{onClick:()=>w(B.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:B.name},B.name))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[m," extension",m!==1?"s":""," found"]}),a.jsxs("select",{value:O,onChange:B=>{j(B.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"recent",children:"Recently Added"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"trending",children:"Trending"})]})]}),x?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(B=>a.jsx(At,{to:`/marketplace/${B.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:B.icon?a.jsx("img",{src:B.icon,alt:"",className:"w-8 h-8 rounded-lg"}):a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:B.name}),B.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:B.publisherName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:B.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",B.stats.rating.toFixed(1)]}),a.jsxs("span",{className:"text-gray-400",children:[F(B.stats.downloads)," downloads"]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.pricing==="free"?"bg-green-100 text-green-700":B.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:U(B)})]})]})]})},B.id))}),m>20&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>E(B=>Math.max(1,B-1)),disabled:P===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",P," of ",Math.ceil(m/20)]}),a.jsx("button",{onClick:()=>E(B=>B+1),disabled:P>=Math.ceil(m/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const $_={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},ry=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function OQ(){var V;const e=Si(),{user:t}=wn(),[r,n]=k.useState(null),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(!1),[m,p]=k.useState(null),[x,v]=k.useState(""),[b,w]=k.useState(""),[y,S]=k.useState(""),[_,C]=k.useState(null),[O,j]=k.useState([]),[P,E]=k.useState("");k.useEffect(()=>{T(),M()},[]);const T=async()=>{try{const D=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(D.data)n(D.data),D.data.data&&(v(D.data.data.companyName||""),w(D.data.data.industry||""),S(D.data.data.teamSize||""),C(D.data.data.templateId||null),j(D.data.data.selectedAgents||[]));else{const H=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();n(H.data)}}catch(G){p(G instanceof Error?G.message:"Failed to load")}finally{u(!1)}},M=async()=>{try{const D=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();o(D.data||[])}catch(G){console.error("Failed to fetch templates",G)}},L=async(G,D)=>{h(!0),p(null);try{const H=await(await fetch(`/api/onboarding/step/${G}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:D})})).json();if(!H.success)throw new Error(H.error);n(H.data),H.data.isComplete&&e("/dashboard")}catch(q){p(q instanceof Error?q.message:"Failed to complete step")}finally{h(!1)}},R=async G=>{h(!0),p(null);try{const q=await(await fetch(`/api/onboarding/step/${G}/skip`,{method:"POST",credentials:"include"})).json();if(!q.success)throw new Error(q.error);n(q.data)}catch(D){p(D instanceof Error?D.message:"Failed to skip step")}finally{h(!1)}},F=()=>{if(!x.trim()){p("Company name is required");return}L("company_info",{companyName:x,industry:b,teamSize:y})},U=async()=>{if(!_){p("Please select a template");return}h(!0),p(null);try{const D=await(await fetch(`/api/onboarding/templates/${_}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:O}})})).json();if(!D.success)throw new Error(D.error);await T()}catch(G){p(G instanceof Error?G.message:"Failed to apply template")}finally{h(!1)}},W=()=>{const G=P.split(/[,\n]/).map(D=>D.trim()).filter(D=>D);if(G.length===0){R("invite_team");return}L("invite_team",{invitedEmails:G})},B=(r==null?void 0:r.currentStep)||"company_info",$=$_[B],z=ry.indexOf(B);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",z+1," of ",ry.length-1]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:$.titleKo}),a.jsx("p",{className:"text-gray-600",children:$.descriptionKo})]}),m&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:m})}),B==="company_info"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",value:x,onChange:G=>v(G.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsxs("select",{value:b,onChange:G=>w(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select industry"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),a.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),a.jsx("option",{value:"manufacturing",children:"Manufacturing"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),a.jsxs("select",{value:y,onChange:G=>S(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select team size"}),a.jsx("option",{value:"1-5",children:"1-5 people"}),a.jsx("option",{value:"6-20",children:"6-20 people"}),a.jsx("option",{value:"21-50",children:"21-50 people"}),a.jsx("option",{value:"51-200",children:"51-200 people"}),a.jsx("option",{value:"200+",children:"200+ people"})]})]}),a.jsx("button",{onClick:F,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),B==="google_workspace"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),a.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="select_template"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(G=>a.jsxs("button",{onClick:()=>C(G.id),className:`p-6 border-2 rounded-xl text-left transition ${_===G.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:G.icon}),a.jsx("h3",{className:"font-semibold text-gray-900",children:G.nameKo}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.descriptionKo}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[G.agents.filter(D=>D.enabled).length," agents,"," ",G.id==="custom"?"configure yourself":"pre-configured"]})]},G.id))}),a.jsx("button",{onClick:U,disabled:d||!_,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),B==="customize_agents"&&a.jsxs("div",{className:"space-y-6",children:[_&&a.jsx("div",{className:"space-y-4",children:(V=i.find(G=>G.id===_))==null?void 0:V.agents.map(G=>a.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:G.enabled||O.includes(G.id),onChange:D=>{D.target.checked?j([...O,G.id]):j(O.filter(q=>q!==G.id))},className:"h-4 w-4 text-indigo-600 rounded"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:G.name}),a.jsx("div",{className:"text-sm text-gray-500",children:G.description})]})]},G.id))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>R("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),a.jsx("button",{onClick:()=>L("customize_agents",{selectedAgents:O}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),B==="connect_slack"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),a.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="invite_team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),a.jsx("textarea",{value:P,onChange:G=>E(G.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>R("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),a.jsx("button",{onClick:W,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":P.trim()?"Send Invites":"Continue"})]})]}),B==="first_workflow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),a.jsx("button",{onClick:()=>{L("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),B==="completed"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),B!=="completed"&&a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:ry.slice(0,-1).map(G=>{const D=r==null?void 0:r.completedSteps.includes(G),q=r==null?void 0:r.skippedSteps.includes(G),H=G===B;return a.jsx("div",{className:`w-3 h-3 rounded-full ${D?"bg-green-500":q?"bg-gray-300":H?"bg-indigo-600":"bg-gray-200"}`,title:$_[G].title},G)})})]})]})}const kQ=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],ll={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},D_={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function PQ(){var V,G;const e=Si(),[t,r]=k.useState(D_),[n,i]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(null),[p,x]=k.useState(""),[v,b]=k.useState(""),[w,y]=k.useState(""),[S,_]=k.useState(""),[C,O]=k.useState(""),j=k.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){i(!0),d(null);try{const D=await de({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(q=>({...q,analysis:D,selectedSkills:D.suggestedSkills,selectedTools:D.suggestedTools}))}catch(D){const q=D instanceof Ce?D.message:"   ";d(q)}finally{i(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);k.useEffect(()=>{t.step===3&&!t.analysis&&j()},[t.step,t.analysis,j]);const P=D=>{r(q=>({...q,changeType:D}))},E=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(D=>({...D,step:D.step+1}))},T=()=>{d(null),r(D=>({...D,step:D.step-1}))},M=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const D=await de({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});m({prUrl:D.prUrl,changeId:D.changeId})}catch(D){const q=D instanceof Ce?D.message:"    ";d(q)}finally{l(!1)}},L=D=>{r(q=>({...q,selectedSkills:q.selectedSkills.includes(D)?q.selectedSkills.filter(H=>H!==D):[...q.selectedSkills,D]}))},R=D=>{r(q=>({...q,selectedTools:q.selectedTools.includes(D)?q.selectedTools.filter(H=>H!==D):[...q.selectedTools,D]}))},F=()=>{p.trim()&&!t.customSkills.includes(p.trim())&&(r(D=>({...D,customSkills:[...D.customSkills,p.trim()]})),x(""))},U=()=>{v.trim()&&!t.customTools.includes(v.trim())&&(r(D=>({...D,customTools:[...D.customTools,v.trim()]})),b(""))},W=(D,q,H)=>{q.trim()&&!t.permissions[D].includes(q.trim())&&(r(X=>({...X,permissions:{...X.permissions,[D]:[...X.permissions[D],q.trim()]}})),H(""))},B=(D,q)=>{r(H=>({...H,permissions:{...H.permissions,[D]:H.permissions[D].filter(X=>X!==q)}}))},$=D=>{switch(D){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},z=D=>{switch(D){case"low":return"";case"medium":return"";case"high":return""}};return h?a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),a.jsx("a",{href:h.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:h.prUrl})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),a.jsx("button",{onClick:()=>{r(D_),m(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(D=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${D===t.step?"bg-indigo-600 text-white":D<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:D<t.step?"":D}),D<5&&a.jsx("div",{className:`w-16 h-1 mx-2 ${D<t.step?"bg-indigo-600":"bg-gray-200"}`})]},D))}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[a.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),a.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(ll).map(D=>{const q=ll[D],H=t.changeType===D;return a.jsxs("button",{onClick:()=>P(D),className:`p-4 rounded-lg border-2 text-left transition-all ${H?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:q.emoji}),a.jsx("div",{className:"font-semibold text-gray-900",children:q.title}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:q.titleEn}),a.jsx("div",{className:"text-sm text-gray-600",children:q.description})]},D)})})]}),t.step===2&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&ll[t.changeType].emoji," ",t.changeType&&ll[t.changeType].title," (Step 2/5)"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),a.jsxs("select",{value:t.teamFunction,onChange:D=>r(q=>({...q,teamFunction:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:""}),kQ.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),a.jsx("input",{type:"text",value:t.entityName,onChange:D=>r(q=>({...q,entityName:D.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("textarea",{value:t.description,onChange:D=>r(q=>({...q,description:D.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):a.jsxs("div",{className:"space-y-6",children:[t.analysis&&a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(V=t.analysis)==null?void 0:V.suggestedSkills.map(D=>a.jsx("button",{onClick:()=>L(D),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(D)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},D)),t.customSkills.map(D=>a.jsxs("button",{onClick:()=>r(q=>({...q,customSkills:q.customSkills.filter(H=>H!==D)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[D," "]},D))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:D=>x(D.target.value),onKeyPress:D=>D.key==="Enter"&&F(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:F,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(G=t.analysis)==null?void 0:G.suggestedTools.map(D=>a.jsx("button",{onClick:()=>R(D),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(D)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},D)),t.customTools.map(D=>a.jsxs("button",{onClick:()=>r(q=>({...q,customTools:q.customTools.filter(H=>H!==D)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[D," "]},D))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:D=>b(D.target.value),onKeyPress:D=>D.key==="Enter"&&U(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:U,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("read",D),className:"ml-1 hover:text-blue-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:D=>y(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("read",w,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("read",w,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("write",D),className:"ml-1 hover:text-green-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S,onChange:D=>_(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("write",S,_),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("write",S,_),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("deny",D),className:"ml-1 hover:text-red-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:D=>O(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("deny",C,O),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("deny",C,O),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:" :"}),a.jsx("span",{className:"font-medium",children:t.changeType&&ll[t.changeType].title})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),a.jsx("span",{className:"font-medium",children:t.teamFunction})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"font-medium",children:t.entityName})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"text-gray-700",children:t.description})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(D=>a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:D},D))})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(D=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:D},D))})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$(t.analysis.riskLevel)}`,children:[": ",z(t.analysis.riskLevel)]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),a.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((D,q)=>a.jsx("li",{className:"text-sm text-gray-700",children:D},q))})]})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),a.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(D=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",D]},D))]}),t.analysis.filesModified.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(D=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",D]},D))]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):T,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?a.jsx("button",{onClick:E,disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):a.jsx("button",{onClick:M,disabled:o,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?" ...":"  PR "})]})]})}function AQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState("all"),[d,h]=k.useState(!1);k.useEffect(()=>{m()},[l]);const m=async()=>{try{n(!0);const S=new URLSearchParams;l!=="all"&&S.set("type",l),S.set("status","active"),S.set("limit","50");const _=await fetch(`/api/patterns?${S}`,{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch patterns");const C=await _.json();t(C.patterns),o(null)}catch(S){o(S instanceof Error?S.message:"Unknown error")}finally{n(!1)}},p=async()=>{try{if(h(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await m()}catch(S){o(S instanceof Error?S.message:"Analysis failed")}finally{h(!1)}},x=async S=>{try{if(!(await fetch(`/api/patterns/${S}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(C=>C.id!==S))}catch(_){o(_ instanceof Error?_.message:"Failed to dismiss")}},v=async S=>{try{const _=await fetch(`/api/patterns/${S}/generate-sop`,{method:"POST",credentials:"include"});if(!_.ok)throw new Error("Failed to generate SOP");const C=await _.json();window.location.href=`/sop-drafts/${C.draft.id}`}catch(_){o(_ instanceof Error?_.message:"Failed to generate SOP")}},b=()=>{const S={sequence:0,cluster:0,time:0};let _=0;for(const C of e)S[C.type]++,_+=C.confidence;return{total:e.length,byType:S,avgConfidence:e.length>0?_/e.length:0}},w=S=>{var C;const _=S.data;switch(S.type){case"sequence":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((C=_.sequence)==null?void 0:C.join("  "))||"N/A"]});case"cluster":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Intent:"})," ",_.commonIntent||"Similar requests"]});case"time":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Schedule:"})," ",_.description||"Recurring pattern"]});default:return null}},y=b();return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx("button",{onClick:p,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Analyzing...":"Run Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.total})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.byType.sequence})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.byType.cluster})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.byType.time})]})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(S=>a.jsx("button",{onClick:()=>u(S),className:`px-4 py-2 rounded-lg ${l===S?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:i})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),a.jsx("button",{onClick:p,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.type==="sequence"?"bg-blue-100 text-blue-700":S.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:S.type}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(S.confidence*100),"% confidence"]})]}),a.jsx("div",{className:"mb-3",children:w(S)}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Frequency: ",S.frequency]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:a.jsx("div",{className:`h-full rounded-full ${S.confidence>=.8?"bg-green-500":S.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${S.confidence*100}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>v(S.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),a.jsx("button",{onClick:()=>x(S.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},S.id))})]})})}function _Q(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState([]),[d,h]=k.useState(!0),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState("30d"),[y,S]=k.useState("overview"),[_,C]=k.useState({name:"",slug:"",email:"",website:"",description:""}),O=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me",method:"GET"});return t(R.publisher),!0}catch(R){return R instanceof Ce&&R.status===404&&v(!0),!1}},[]),j=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me/extensions",method:"GET"});n(R.extensions)}catch(R){console.error("Failed to fetch extensions:",R)}},[]),P=k.useCallback(async()=>{try{const R=await de({url:`/api/marketplace/publishers/me/analytics?period=${b}`,method:"GET"});o(R.analytics)}catch(R){console.error("Failed to fetch analytics:",R)}},[b]),E=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(R.payouts)}catch(R){console.error("Failed to fetch payouts:",R)}},[]);k.useEffect(()=>{(async()=>{h(!0),await O()&&await Promise.all([j(),P(),E()]),h(!1)})()},[O,j,P,E]),k.useEffect(()=>{e&&P()},[b,e,P]);const T=async R=>{R.preventDefault(),p(!0);try{const F=await de({url:"/api/marketplace/publishers/register",method:"POST",data:_});t(F.publisher),v(!1)}catch(F){const U=F instanceof Ce?F.message:"Registration failed";alert(U)}finally{p(!1)}},M=R=>R>=1e6?`${(R/1e6).toFixed(1)}M`:R>=1e3?`${(R/1e3).toFixed(1)}K`:String(R),L=R=>`$${(R/100).toFixed(2)}`;return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?a.jsxs("div",{className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),a.jsx("input",{type:"text",value:_.name,onChange:R=>C({..._,name:R.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),a.jsx("input",{type:"text",value:_.slug,onChange:R=>C({..._,slug:R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",value:_.email,onChange:R=>C({..._,email:R.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",value:_.website,onChange:R=>C({..._,website:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:_.description,onChange:R=>C({..._,description:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:m?"Registering...":"Register as Publisher"})]})})]}):e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&a.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),a.jsx(At,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(R=>a.jsxs("button",{onClick:()=>S(R),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===R?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[R==="overview"&&"Overview",R==="extensions"&&`Extensions (${r.length})`,R==="payouts"&&"Payouts"]},R))})}),y==="overview"&&i&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("select",{value:b,onChange:R=>w(R.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(i.totalDownloads)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(i.totalInstalls)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:L(i.totalRevenue)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),a.jsx("div",{className:"h-48 flex items-end gap-1",children:i.downloadTrend.slice(-30).map((R,F)=>{const U=Math.max(...i.downloadTrend.map(B=>B.count))||1,W=R.count/U*100;return a.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(W,2)}%`},title:`${R.date}: ${R.count} downloads`},F)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"pb-3",children:"Extension"}),a.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),a.jsx("th",{className:"pb-3 text-right",children:"Installs"}),a.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),a.jsx("tbody",{children:i.extensionStats.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium text-gray-900",children:R.name}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(R.downloads)}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(R.installs)}),a.jsx("td",{className:"py-3 text-right text-green-600",children:L(R.revenue)}),a.jsxs("td",{className:"py-3 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",R.rating.toFixed(1)]})]},R.extensionId))})]})]})]}),y==="extensions"&&a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),a.jsx(At,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Extension"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Downloads"}),a.jsx("th",{className:"p-4 text-right",children:"Rating"}),a.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),a.jsx("tbody",{children:r.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4",children:a.jsx(At,{to:`/marketplace/${R.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:R.name})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.status==="published"?"bg-green-100 text-green-700":R.status==="review"?"bg-yellow-100 text-yellow-700":R.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),a.jsx("td",{className:"p-4 text-right text-gray-600",children:M(R.stats.downloads)}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",R.stats.rating.toFixed(1),a.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",R.stats.reviewCount,")"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:R.pricing})})]},R.id))})]})}),y==="payouts"&&a.jsxs("div",{children:[!e.payoutEnabled&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),a.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Period"}),a.jsx("th",{className:"p-4",children:"Amount"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4",children:"Paid Date"})]})}),a.jsx("tbody",{children:l.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(R.periodStart).toLocaleDateString()," -"," ",new Date(R.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"p-4 font-medium text-green-600",children:L(R.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.status==="completed"?"bg-green-100 text-green-700":R.status==="processing"?"bg-blue-100 text-blue-700":R.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),a.jsx("td",{className:"p-4 text-gray-600",children:R.paidAt?new Date(R.paidAt).toLocaleDateString():"-"})]},R.id))})]})})]})]}):null}function CQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState("all"),[m,p]=k.useState(""),[x,v]=k.useState(!1);k.useEffect(()=>{b()},[d]);const b=async()=>{try{n(!0);const O=new URLSearchParams;d!=="all"&&O.set("status",d),O.set("limit","50");const j=await fetch(`/api/sop-drafts?${O}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch drafts");const P=await j.json();t(P.drafts),o(null)}catch(O){o(O instanceof Error?O.message:"Unknown error")}finally{n(!1)}},w=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(P=>P.id===O?{...P,status:"approved",reviewedAt:new Date().toISOString()}:P)),u(null)}catch(j){o(j instanceof Error?j.message:"Failed to approve")}},y=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:m})})).ok)throw new Error("Failed to reject draft");t(e.map(P=>P.id===O?{...P,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:m}:P)),v(!1),p(""),u(null)}catch(j){o(j instanceof Error?j.message:"Failed to reject")}},S=async O=>{try{const j=await fetch(`/api/sop-drafts/${O.id}/yaml`,{credentials:"include"});if(!j.ok)throw new Error("Failed to download YAML");const P=await j.blob(),E=window.URL.createObjectURL(P),T=document.createElement("a");T.href=E,T.download=`${O.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(E)}catch(j){o(j instanceof Error?j.message:"Failed to download")}},_=O=>{switch(O){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},C=O=>{switch(O){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),a.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(O=>a.jsx("button",{onClick:()=>h(O),className:`px-4 py-2 rounded-lg ${d===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O==="all"?"All":O.replace("_"," ").replace(/\b\w/g,j=>j.toUpperCase())},O))}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:i})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-1/3",children:r?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):a.jsx("div",{className:"space-y-3",children:e.map(O=>a.jsxs("div",{onClick:()=>u(O),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===O.id?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:O.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_(O.status)}`,children:O.status.replace("_"," ")})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.description}),a.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:O.function}),a.jsx("span",{children:""}),a.jsxs("span",{children:[O.steps.length," steps"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(O.confidence*100),"%"]})]})]},O.id))})}),a.jsx("div",{className:"flex-1",children:l?a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full ${_(l.status)}`,children:l.status.replace("_"," ")})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Function: ",l.function]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Source: ",l.sourceType]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),a.jsx("div",{className:"space-y-3",children:l.steps.map((O,j)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:j+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:C(O.type)}),a.jsx("span",{className:"font-medium",children:O.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:O.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),O.agentId&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",O.agentId]}),O.toolName&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",O.toolName]})]})]},O.id))})]}),l.status==="rejected"&&l.rejectionReason&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),a.jsx("button",{onClick:()=>{v(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),a.jsx("button",{onClick:()=>w(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&a.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),a.jsx("textarea",{value:m,onChange:O=>p(O.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),p("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>y(l.id),disabled:!m.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const EQ={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function TQ({step:e,index:t,isSelected:r,isDragging:n,onSelect:i,onDragStart:o,onDragEnd:l}){const u=k.useMemo(()=>EQ[e.type],[e.type]);return a.jsxs("div",{draggable:!0,onDragStart:o,onDragEnd:l,onClick:i,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${n?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&a.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function RQ({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:n,onAddStep:i}){const[o,l]=k.useState(null),[u,d]=k.useState(null),h=k.useRef(null),m=k.useCallback(w=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(w)),l(w)},[]),p=k.useCallback(()=>{l(null),d(null)},[]),x=k.useCallback(w=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",o!==null&&w!==o&&d(w)},[o]),v=k.useCallback(w=>y=>{y.preventDefault();const S=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==w&&n(S,w),l(null),d(null)},[n]),b=w=>w>=e.length-1?null:a.jsxs("div",{className:"flex justify-center my-2",children:[a.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),a.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:a.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return a.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:h,children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),a.jsxs("button",{onClick:()=>i("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Automated"})]}),a.jsxs("button",{onClick:()=>i("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Manual"})]}),a.jsxs("button",{onClick:()=>i("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Approval"})]})]})}),a.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),a.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[e.map((w,y)=>a.jsxs("div",{children:[u===y&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),a.jsx("div",{onDragOver:x(y),onDrop:v(y),children:a.jsx(TQ,{step:w,index:y,isSelected:t===y,isDragging:o===y,onSelect:()=>r(y),onDragStart:m(y),onDragEnd:p})}),b(y)]},w.id+"-"+y)),u===e.length&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:w=>{w.preventDefault(),d(e.length)},onDrop:v(e.length),children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function MQ({step:e,onUpdate:t,onDelete:r,onClose:n}){var x,v;const[i,o]=k.useState(e),[l,u]=k.useState("");if(k.useEffect(()=>{o(e)},[e]),!i)return a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(b,w)=>{const y={...i,[b]:w};o(y),t(y)},h=b=>{const w={...i,conditional:{when:b}};o(w),t(w)},m=()=>{if(!l.trim())return;const b=[...i.checklist||[],l.trim()];d("checklist",b),u("")},p=b=>{var y;const w=((y=i.checklist)==null?void 0:y.filter((S,_)=>_!==b))||[];d("checklist",w.length>0?w:void 0)};return a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:i.type,onChange:b=>d("type",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"automated",children:" Automated"}),a.jsx("option",{value:"manual",children:" Manual"}),a.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),a.jsx("input",{type:"text",value:i.id,onChange:b=>d("id",b.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i.name,onChange:b=>d("name",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:i.description||"",onChange:b=>d("description",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),i.type==="automated"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),a.jsx("input",{type:"text",value:i.agent||"",onChange:b=>d("agent",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),a.jsx("input",{type:"text",value:i.tool||"",onChange:b=>d("tool",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),i.type==="manual"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsx("input",{type:"text",value:i.assignee||"",onChange:b=>d("assignee",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:i.requires_approval||!1,onChange:b=>d("requires_approval",b.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),i.type==="approval_required"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),a.jsx("input",{type:"text",value:i.approver||"",onChange:b=>d("approver",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),a.jsxs("select",{value:i.timeout||"",onChange:b=>d("timeout",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"No timeout"}),a.jsx("option",{value:"5m",children:"5 minutes"}),a.jsx("option",{value:"15m",children:"15 minutes"}),a.jsx("option",{value:"30m",children:"30 minutes"}),a.jsx("option",{value:"1h",children:"1 hour"}),a.jsx("option",{value:"2h",children:"2 hours"}),a.jsx("option",{value:"4h",children:"4 hours"}),a.jsx("option",{value:"8h",children:"8 hours"}),a.jsx("option",{value:"24h",children:"24 hours"}),a.jsx("option",{value:"48h",children:"48 hours"}),a.jsx("option",{value:"72h",children:"72 hours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),a.jsx("input",{type:"text",value:((x=i.conditional)==null?void 0:x.when)||"",onChange:b=>b.target.value?h(b.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(i.type==="manual"||i.type==="approval_required")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),a.jsxs("div",{className:"space-y-2",children:[(v=i.checklist)==null?void 0:v.map((b,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:b}),a.jsx("button",{onClick:()=>p(w),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},w)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),onKeyDown:b=>b.key==="Enter"&&m(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),a.jsx("button",{onClick:m,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function IQ({sopId:e,isOpen:t,onClose:r}){const[n,i]=k.useState("{}"),[o,l]=k.useState(null),[u,d]=k.useState(!1),[h,m]=k.useState(null),[p,x]=k.useState(0),v=async()=>{if(e){d(!0),m(null);try{const y=JSON.parse(n),S=await de({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(S.simulation),x(0)}catch(y){y instanceof SyntaxError?m("Invalid JSON in input data"):y instanceof Ce?m(y.message):m("Failed to simulate SOP")}finally{d(!1)}}},b=y=>{if(y<60)return`${y}m`;const S=Math.floor(y/60),_=y%60;if(S<24)return _>0?`${S}h ${_}m`:`${S}h`;const C=Math.floor(S/24),O=S%24;return O>0?`${C}d ${O}h`:`${C}d`},w=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:n,onChange:y=>i(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),a.jsx("button",{onClick:v,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),h&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),o&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:o.sopName}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",a.jsx("span",{className:"font-medium",children:o.totalSteps})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",a.jsx("span",{className:"font-medium",children:b(o.estimatedTotalDuration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",a.jsxs("span",{className:"font-medium",children:[o.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),a.jsx("div",{className:"space-y-3",children:o.steps.map((y,S)=>{const _=w(y.type),C=S===p;return a.jsx("div",{onClick:()=>x(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${C?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${_.color}`,children:[_.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),a.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&a.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),C&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",a.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",a.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",a.jsx("span",{children:y.assignee})]}),y.approver&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",a.jsx("span",{children:y.approver})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",a.jsx("span",{children:b(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Checklist:"}),a.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((O,j)=>a.jsx("li",{className:"text-gray-600",children:O},j))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),a.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:b(y.estimatedDuration)})]})},y.id)})})]}),o.exceptionHandlers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),a.jsx("div",{className:"space-y-2",children:o.exceptionHandlers.map((y,S)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-500",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:y.condition}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&a.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},S))})]})]})]})]})}):null}const $Q=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function DQ(){const{id:e}=cf(),t=Si(),r=!!e,[n,i]=k.useState([]),[o,l]=k.useState(!0),[u,d]=k.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[h,m]=k.useState([{pattern:""}]),[p,x]=k.useState([]),[v,b]=k.useState([]),[w,y]=k.useState(null),[S,_]=k.useState(!1),[C,O]=k.useState(!1),[j,P]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(!1),[R,F]=k.useState(!1),[U,W]=k.useState(""),[B,$]=k.useState("editor"),z=k.useCallback(async()=>{try{const Z=await de({url:"/api/sops",method:"GET"});i(Z.sops)}catch(Z){console.error("Failed to fetch SOP list:",Z)}finally{l(!1)}},[]),V=k.useCallback(async Z=>{_(!0),P(null);try{const ye=(await de({url:`/api/sops/${Z}`,method:"GET"})).sop;d(ye.metadata),m(ye.triggers),x(ye.steps),b(ye.exception_handling||[])}catch(xe){xe instanceof Ce?P(xe.message):P("Failed to load SOP")}finally{_(!1)}},[]),G=k.useCallback(async()=>{if(e)try{const Z=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(Z.ok){const xe=await Z.text();W(xe)}}catch(Z){console.error("Failed to fetch YAML:",Z)}},[e]);k.useEffect(()=>{z()},[z]),k.useEffect(()=>{e?V(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),m([{pattern:""}]),x([]),b([]),y(null))},[e,V]),k.useEffect(()=>{R&&e&&G()},[R,e,G]);const D=Z=>{const xe={id:`step-${Date.now()}`,name:`New ${Z==="automated"?"Automated":Z==="manual"?"Manual":"Approval"} Step`,type:Z};x([...p,xe]),y(p.length)},q=Z=>{if(w===null)return;const xe=[...p];xe[w]=Z,x(xe)},H=()=>{if(w===null)return;const Z=p.filter((xe,ye)=>ye!==w);x(Z),y(null)},X=(Z,xe)=>{const ye=[...p],[Je]=ye.splice(Z,1);ye.splice(xe,0,Je),x(ye),w===Z&&y(xe)},oe=()=>{m([...h,{pattern:""}])},fe=(Z,xe)=>{const ye=[...h];ye[Z]={pattern:xe},m(ye)},se=Z=>{h.length<=1||m(h.filter((xe,ye)=>ye!==Z))},ke=()=>{b([...v,{condition:"",action:"notify_owner"}])},Se=(Z,xe,ye)=>{const Je=[...v];Je[Z]={...Je[Z],[xe]:ye},b(Je)},ce=Z=>{b(v.filter((xe,ye)=>ye!==Z))},Oe=async()=>{if(!u.id.trim()){P("SOP ID is required");return}if(!u.name.trim()){P("SOP name is required");return}if(!u.owner.trim()){P("Owner is required");return}if(h.every(xe=>!xe.pattern.trim())){P("At least one trigger pattern is required");return}if(p.length===0){P("At least one step is required");return}O(!0),P(null),T(null);const Z={metadata:u,triggers:h.filter(xe=>xe.pattern.trim()),steps:p,exception_handling:v.filter(xe=>xe.condition.trim())};try{r?(await de({url:`/api/sops/${e}`,method:"PUT",data:Z}),T("SOP updated successfully")):(await de({url:"/api/sops",method:"POST",data:Z}),T("SOP created successfully"),t(`/sops/${u.id}`)),z()}catch(xe){xe instanceof Ce?P(xe.message):P("Failed to save SOP")}finally{O(!1)}},Ie=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await de({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),z()}catch(Z){Z instanceof Ce?P(Z.message):P("Failed to delete SOP")}};return S?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("nav",{className:"text-sm mb-1",children:[a.jsx(At,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>F(!R),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:R?"Hide YAML":"View YAML"}),a.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),a.jsx("button",{onClick:Ie,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),a.jsx("button",{onClick:Oe,disabled:C,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:C?"Saving...":r?"Update SOP":"Create SOP"})]})]}),j&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:j}),E&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsx("div",{className:"p-4",children:a.jsxs(At,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New SOP"})]})}),a.jsx("nav",{className:"px-2 pb-4",children:o?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):n.length===0?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):n.map(Z=>a.jsxs(At,{to:`/sops/${Z.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===Z.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"font-medium truncate",children:Z.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[Z.function,"  ",Z.stepCount," steps"]})]},Z.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(Z=>a.jsxs("button",{onClick:()=>$(Z),className:`py-3 text-sm font-medium border-b-2 transition-colors ${B===Z?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[Z==="editor"&&"Step Editor",Z==="triggers"&&"Triggers & Metadata",Z==="exceptions"&&"Exception Handlers"]},Z))})}),B==="editor"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(RQ,{steps:p,selectedStepIndex:w,onSelectStep:y,onReorderSteps:X,onAddStep:D}),a.jsx(MQ,{step:w!==null?p[w]:null,onUpdate:q,onDelete:H,onClose:()=>y(null)})]}),B==="triggers"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),a.jsx("input",{type:"text",value:u.id,onChange:Z=>d({...u,id:Z.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:u.name,onChange:Z=>d({...u,name:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{value:u.function,onChange:Z=>d({...u,function:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:$Q.map(Z=>a.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),a.jsx("input",{type:"text",value:u.owner,onChange:Z=>d({...u,owner:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",value:u.version,onChange:Z=>d({...u,version:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),a.jsx("button",{onClick:oe,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),a.jsx("div",{className:"space-y-3",children:h.map((Z,xe)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:Z.pattern,onChange:ye=>fe(xe,ye.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),h.length>1&&a.jsx("button",{onClick:()=>se(xe),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},xe))})]})]})}),B==="exceptions"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),a.jsx("button",{onClick:ke,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),v.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No exception handlers defined"}),a.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):a.jsx("div",{className:"space-y-4",children:v.map((Z,xe)=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),a.jsxs("select",{value:Z.condition,onChange:ye=>Se(xe,"condition",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select condition..."}),a.jsx("option",{value:"step.failed",children:"Step Failed"}),a.jsx("option",{value:"step.timeout",children:"Step Timeout"}),a.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),a.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),a.jsxs("select",{value:Z.action,onChange:ye=>Se(xe,"action",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"notify_owner",children:"Notify Owner"}),a.jsx("option",{value:"escalate",children:"Escalate"}),a.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),a.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),a.jsx("option",{value:"return_to_step",children:"Return to Step"}),a.jsx("option",{value:"send_reminder",children:"Send Reminder"}),a.jsx("option",{value:"request_revision",children:"Request Revision"}),a.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),a.jsx("input",{type:"text",value:Z.target||"",onChange:ye=>Se(xe,"target",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),a.jsx("input",{type:"text",value:Z.message||"",onChange:ye=>Se(xe,"message",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),a.jsx("button",{onClick:()=>ce(xe),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},xe))})]})})})]})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),a.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:U||"Loading..."})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(U)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),a.jsx(IQ,{sopId:e||null,isOpen:M,onClose:()=>L(!1)})]})}function LQ(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function FQ(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function r4(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function BQ(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function nj(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function L_(e){return new Date(e).toLocaleDateString()}function n4(e){return new Date(e).toLocaleString()}function F_(e){switch(e){case"up":return"";case"down":return"";default:return""}}function qQ({score:e,status:t}){return a.jsxs("div",{className:`rounded-lg p-6 ${FQ(e)} text-center`,children:[a.jsx("div",{className:`text-6xl font-bold ${LQ(e)}`,children:e}),a.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),a.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${r4(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function ny({title:e,value:t,subtitle:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function zQ({agent:e}){return a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r4(e.status)}`,children:e.status})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",a.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),a.jsx("span",{className:"ml-1 text-gray-400",children:F_(e.trends.executionsTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Success:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",a.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),a.jsx("span",{className:"ml-1 text-gray-400",children:F_(e.trends.latencyTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function UQ({anomaly:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`text-sm font-medium ${BQ(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",n4(e.detectedAt)]})]})}function WQ({gap:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nj(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function KQ({recommendation:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nj(e.priority)}`,children:e.priority})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",a.jsx("span",{className:"text-gray-700",children:e.impact})]}),a.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function HQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState(!0),[b,w]=k.useState("agents"),y=k.useCallback(async()=>{try{const[j,P,E,T]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(!j.ok)throw new Error("Failed to fetch health data");const M=await j.json();if(t(M.data),P.ok){const L=await P.json();n(L.data||[])}if(E.ok){const L=await E.json();o(L.data||[])}if(T.ok){const L=await T.json();u(L.data||[])}p(null)}catch(j){p(j instanceof Error?j.message:"Unknown error")}finally{h(!1)}},[]);k.useEffect(()=>{y()},[y]),k.useEffect(()=>{if(!x)return;const j=setInterval(y,6e4);return()=>clearInterval(j)},[x,y]);const S=async j=>{try{(await fetch(`/api/meta-agent/recommendations/${j}/accept`,{method:"POST",credentials:"include"})).ok&&o(E=>E.filter(T=>T.id!==j))}catch(P){console.error("Failed to accept recommendation",P)}},_=async j=>{try{(await fetch(`/api/meta-agent/recommendations/${j}/reject`,{method:"POST",credentials:"include"})).ok&&o(E=>E.filter(T=>T.id!==j))}catch(P){console.error("Failed to reject recommendation",P)}},C=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&y()}catch(j){console.error("Failed to generate report",j)}},O=async()=>{try{h(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&y()}catch(j){console.error("Failed to run system check",j)}finally{h(!1)}};return d&&!e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m&&!e?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[a.jsx("h3",{className:"font-medium",children:"Error loading system health"}),a.jsx("p",{children:m}),a.jsx("button",{onClick:y,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),a.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?n4(e.timestamp):"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),a.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:j=>v(j.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(qQ,{score:e.overallScore,status:e.status}),a.jsx(ny,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),a.jsx(ny,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),a.jsx(ny,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(j=>j.severity==="critical"||j.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(j=>j.severity==="critical").length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(j=>j.severity==="critical").map((j,P)=>a.jsx(UQ,{anomaly:j},P))})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(j=>a.jsxs("button",{onClick:()=>w(j),className:`py-2 px-4 border-b-2 font-medium text-sm ${b===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[j==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,j==="gaps"&&`Knowledge Gaps (${r.length})`,j==="recommendations"&&`Recommendations (${i.length})`,j==="reports"&&`Reports (${l.length})`]},j))})}),b==="agents"&&e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(j=>a.jsx(zQ,{agent:j},j.agentId))}),b==="gaps"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((j,P)=>a.jsx(WQ,{gap:j},P))}),b==="recommendations"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):i.map(j=>a.jsx(KQ,{recommendation:j,onAccept:S,onReject:_},j.id))}),b==="reports"&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(j=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:[j.type.charAt(0).toUpperCase()+j.type.slice(1)," Report"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[L_(j.periodStart)," - ",L_(j.periodEnd)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:`/api/meta-agent/reports/${j.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),a.jsx("a",{href:`/api/meta-agent/reports/${j.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},j.id))})]})}function GQ(){const{currentOrganization:e}=wn(),[t,r]=k.useState("experiments"),[n,i]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[h,m]=k.useState(!0),[p,x]=k.useState("");k.useEffect(()=>{v()},[e]);async function v(){m(!0);try{const[y,S,_]=await Promise.all([de({url:"/api/optimization/experiments"}),de({url:"/api/optimization/costs",params:{days:30}}),de({url:"/api/optimization/models"})]);i(y.experiments||[]),l(S.analysis||null),d(_.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{m(!1)}}async function b(y){try{await de({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await v()}catch(S){console.error("Failed to start experiment:",S)}}async function w(y){try{await de({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await v()}catch(S){console.error("Failed to stop experiment:",S)}}return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),a.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>a.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&a.jsx(VQ,{experiments:n,onStart:b,onStop:w}),t==="prompts"&&a.jsx(QQ,{selectedAgent:p,onAgentChange:x}),t==="routing"&&a.jsx(JQ,{selectedAgent:p,onAgentChange:x}),t==="models"&&a.jsx(ZQ,{models:u}),t==="costs"&&o&&a.jsx(eJ,{analysis:o})]})}function VQ({experiments:e,onStart:t,onStop:r}){const n=e.filter(o=>o.status==="running"),i=e.filter(o=>o.status==="completed");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),n.length===0?a.jsx("p",{className:"text-gray-500",children:"No active experiments"}):a.jsx("div",{className:"space-y-4",children:n.map(o=>a.jsx(YQ,{experiment:o,onStart:t,onStop:r},o.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),i.length===0?a.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsx(XQ,{experiment:o},o.id))})]})]})}function YQ({experiment:e,onStart:t,onStop:r}){const n={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${n[e.status]}`,children:e.status}),e.status==="draft"&&a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function XQ({experiment:e}){const t=e.results;return t?a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Control"}),a.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),a.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),a.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),a.jsxs("div",{className:"mt-4 text-sm",children:[a.jsxs("p",{children:["Improvement: ",a.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),a.jsxs("p",{children:["Confidence: ",a.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&a.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function QQ({selectedAgent:e,onAgentChange:t}){const[r,n]=k.useState([]),[i,o]=k.useState(!1);async function l(u){if(u){o(!0);try{const d=await de({url:`/api/optimization/agents/${u}/prompts`});n(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{o(!1)}}}return k.useEffect(()=>{e&&l(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?a.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):a.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return a.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&a.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function JQ({selectedAgent:e,onAgentChange:t}){var h,m;const[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(!1);async function d(p){if(p){u(!0);try{const[x,v]=await Promise.all([de({url:`/api/optimization/agents/${p}/routing/analysis`}),de({method:"POST",url:`/api/optimization/agents/${p}/routing/suggestions`})]);n(x.analysis||null),o(v||null)}catch(x){console.error("Failed to load routing:",x)}finally{u(!1)}}}return k.useEffect(()=>{e&&d(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),a.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),a.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(p=>a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:p},p))})]}),i&&a.jsxs(a.Fragment,{children:[((h=i.additions)==null?void 0:h.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.additions.slice(0,10).map(p=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:p.reason,children:["+ ",p.keyword]},p.keyword))})]}),((m=i.removals)==null?void 0:m.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.removals.map(p=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",p]},p))})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function ZQ({models:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function eJ({analysis:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),a.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?a.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):a.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),a.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}function tJ(){const[e,t]=k.useState(!1),{currentOrganization:r,organizations:n,switchOrganization:i}=wn();if(!r||n.length<=1)return null;const o=async l=>{t(!1),await i(l)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),n.map(l=>a.jsxs("button",{onClick:()=>o(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function rJ({user:e,onLogout:t}){return a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),a.jsx(tJ,{}),e&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const nJ=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],aJ=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],iJ=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],sJ=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],oJ=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],lJ=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],cJ=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function uJ(){const e=Ni(),t=r=>r.map(n=>{const o=e.pathname===n.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return a.jsx("li",{children:a.jsxs(At,{to:n.path,className:o,children:[a.jsx("span",{className:"text-xl",children:n.icon}),a.jsx("span",{className:"font-medium",children:n.name})]})},n.path)});return a.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:a.jsx("nav",{className:"p-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("ul",{className:"space-y-2",children:t(nJ)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),a.jsx("ul",{className:"space-y-2",children:t(aJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),a.jsx("ul",{className:"space-y-2",children:t(iJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),a.jsx("ul",{className:"space-y-2",children:t(sJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),a.jsx("ul",{className:"space-y-2",children:t(oJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),a.jsx("ul",{className:"space-y-2",children:t(lJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),a.jsx("ul",{className:"space-y-2",children:t(cJ)})]})]})})})}function qe({children:e}){const{user:t,logout:r}=wn();return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(rJ,{user:t||void 0,onLogout:r}),a.jsx(uJ,{}),a.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function ze({children:e}){const{user:t,isLoading:r,fetchUser:n}=wn();return k.useEffect(()=>{n()},[n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(dC,{to:"/login",replace:!0})}function dJ(){return a.jsx(qR,{children:a.jsxs(RR,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(HR,{})}),a.jsx(Fe,{path:"/dashboard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(_I,{})})})}),a.jsx(Fe,{path:"/okr",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(t$,{})})})}),a.jsx(Fe,{path:"/workflows",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(TI,{})})})}),a.jsx(Fe,{path:"/workflows/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(RI,{})})})}),a.jsx(Fe,{path:"/executions",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(MI,{})})})}),a.jsx(Fe,{path:"/executions/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(II,{})})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx($I,{})})})}),a.jsx(Fe,{path:"/settings/notion",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(DI,{})})})}),a.jsx(Fe,{path:"/settings/slack",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(LI,{})})})}),a.jsx(Fe,{path:"/settings/google-calendar",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(FI,{})})})}),a.jsx(Fe,{path:"/settings/members",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(zI,{})})})}),a.jsx(Fe,{path:"/approvals",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(UI,{})})})}),a.jsx(Fe,{path:"/activity",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(HI,{})})})}),a.jsx(Fe,{path:"/metrics/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(VI,{})})})}),a.jsx(Fe,{path:"/org-changes",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(YI,{})})})}),a.jsx(Fe,{path:"/admin/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(i$,{})})})}),a.jsx(Fe,{path:"/admin/skills",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(c$,{})})})}),a.jsx(Fe,{path:"/admin",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(m$,{})})})}),a.jsx(Fe,{path:"/admin/organizations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(y$,{})})})}),a.jsx(Fe,{path:"/admin/optimization",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(GQ,{})})})}),a.jsx(Fe,{path:"/conversations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(u$,{})})})}),a.jsx(Fe,{path:"/search",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(p$,{})})})}),a.jsx(Fe,{path:"/analytics",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(pQ,{})})})}),a.jsx(Fe,{path:"/costs",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(xQ,{})})})}),a.jsx(Fe,{path:"/billing",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(mQ,{})})})}),a.jsx(Fe,{path:"/knowledge-graph",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(NQ,{})})})}),a.jsx(Fe,{path:"/patterns",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(AQ,{})})})}),a.jsx(Fe,{path:"/feedback",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(wQ,{})})})}),a.jsx(Fe,{path:"/system-health",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(HQ,{})})})}),a.jsx(Fe,{path:"/marketplace",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(SQ,{})})})}),a.jsx(Fe,{path:"/marketplace/:extensionId",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(jQ,{})})})}),a.jsx(Fe,{path:"/developer",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(bQ,{})})})}),a.jsx(Fe,{path:"/developer/publisher",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(_Q,{})})})}),a.jsx(Fe,{path:"/sops/drafts",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(CQ,{})})})}),a.jsx(Fe,{path:"/sops/editor/:id?",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(DQ,{})})})}),a.jsx(Fe,{path:"/onboarding",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(OQ,{})})})}),a.jsx(Fe,{path:"/org-change-wizard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(PQ,{})})})}),a.jsx(Fe,{path:"/",element:a.jsx(dC,{to:"/dashboard",replace:!0})})]})})}class fJ extends Y.Component{constructor(){super(...arguments);Cu(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const n=r instanceof Error?r.message:String(r);console.error("UI error:",n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?a.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,a.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const hJ=new F6;f6.createRoot(document.getElementById("root")).render(a.jsx(Y.StrictMode,{children:a.jsx(fJ,{children:a.jsx(q6,{client:hJ,children:a.jsx(dJ,{})})})}));
