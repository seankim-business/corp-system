var SR=Object.defineProperty;var KN=e=>{throw TypeError(e)};var kR=(e,t,r)=>t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cd=(e,t,r)=>kR(e,typeof t!="symbol"?t+"":t,r),kp=(e,t,r)=>t.has(e)||KN("Cannot "+r);var Q=(e,t,r)=>(kp(e,t,"read from private field"),r?r.call(e):t.get(e)),Ae=(e,t,r)=>t.has(e)?KN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,a)=>(kp(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Ue=(e,t,r)=>(kp(e,t,"access private method"),r);var ud=(e,t,r,a)=>({set _(s){ye(e,t,s,r)},get _(){return Q(e,t,a)}});function OR(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Op={exports:{}},Ol={},Cp={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function CR(){if(HN)return We;HN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function y(q,F,G){this.props=q,this.context=F,this.refs=j,this.updater=G||b}y.prototype.isReactComponent={},y.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=y.prototype;function A(q,F,G){this.props=q,this.context=F,this.refs=j,this.updater=G||b}var _=A.prototype=new k;_.constructor=A,v(_,y.prototype),_.isPureReactComponent=!0;var O=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(q,F,G){var ee,de={},oe=null,ne=null;if(F!=null)for(ee in F.ref!==void 0&&(ne=F.ref),F.key!==void 0&&(oe=""+F.key),F)w.call(F,ee)&&!P.hasOwnProperty(ee)&&(de[ee]=F[ee]);var pe=arguments.length-2;if(pe===1)de.children=G;else if(1<pe){for(var ue=Array(pe),Ce=0;Ce<pe;Ce++)ue[Ce]=arguments[Ce+2];de.children=ue}if(q&&q.defaultProps)for(ee in pe=q.defaultProps,pe)de[ee]===void 0&&(de[ee]=pe[ee]);return{$$typeof:e,type:q,key:oe,ref:ne,props:de,_owner:C.current}}function I(q,F){return{$$typeof:e,type:q.type,key:F,ref:q.ref,props:q.props,_owner:q._owner}}function $(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function T(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(G){return F[G]})}var M=/\/+/g;function K(q,F){return typeof q=="object"&&q!==null&&q.key!=null?T(""+q.key):F.toString(36)}function Y(q,F,G,ee,de){var oe=typeof q;(oe==="undefined"||oe==="boolean")&&(q=null);var ne=!1;if(q===null)ne=!0;else switch(oe){case"string":case"number":ne=!0;break;case"object":switch(q.$$typeof){case e:case t:ne=!0}}if(ne)return ne=q,de=de(ne),q=ee===""?"."+K(ne,0):ee,O(de)?(G="",q!=null&&(G=q.replace(M,"$&/")+"/"),Y(de,F,G,"",function(Ce){return Ce})):de!=null&&($(de)&&(de=I(de,G+(!de.key||ne&&ne.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+q)),F.push(de)),1;if(ne=0,ee=ee===""?".":ee+":",O(q))for(var pe=0;pe<q.length;pe++){oe=q[pe];var ue=ee+K(oe,pe);ne+=Y(oe,F,G,ue,de)}else if(ue=g(q),typeof ue=="function")for(q=ue.call(q),pe=0;!(oe=q.next()).done;)oe=oe.value,ue=ee+K(oe,pe++),ne+=Y(oe,F,G,ue,de);else if(oe==="object")throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ne}function U(q,F,G){if(q==null)return q;var ee=[],de=0;return Y(q,ee,"","",function(oe){return F.call(G,oe,de++)}),ee}function B(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(G){(q._status===0||q._status===-1)&&(q._status=1,q._result=G)},function(G){(q._status===0||q._status===-1)&&(q._status=2,q._result=G)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var L={current:null},W={transition:null},X={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:W,ReactCurrentOwner:C};function z(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:U,forEach:function(q,F,G){U(q,function(){F.apply(this,arguments)},G)},count:function(q){var F=0;return U(q,function(){F++}),F},toArray:function(q){return U(q,function(F){return F})||[]},only:function(q){if(!$(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},We.Component=y,We.Fragment=r,We.Profiler=s,We.PureComponent=A,We.StrictMode=a,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,We.act=z,We.cloneElement=function(q,F,G){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ee=v({},q.props),de=q.key,oe=q.ref,ne=q._owner;if(F!=null){if(F.ref!==void 0&&(oe=F.ref,ne=C.current),F.key!==void 0&&(de=""+F.key),q.type&&q.type.defaultProps)var pe=q.type.defaultProps;for(ue in F)w.call(F,ue)&&!P.hasOwnProperty(ue)&&(ee[ue]=F[ue]===void 0&&pe!==void 0?pe[ue]:F[ue])}var ue=arguments.length-2;if(ue===1)ee.children=G;else if(1<ue){pe=Array(ue);for(var Ce=0;Ce<ue;Ce++)pe[Ce]=arguments[Ce+2];ee.children=pe}return{$$typeof:e,type:q.type,key:de,ref:oe,props:ee,_owner:ne}},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},We.createElement=R,We.createFactory=function(q){var F=R.bind(null,q);return F.type=q,F},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:u,render:q}},We.isValidElement=$,We.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:B}},We.memo=function(q,F){return{$$typeof:f,type:q,compare:F===void 0?null:F}},We.startTransition=function(q){var F=W.transition;W.transition={};try{q()}finally{W.transition=F}},We.unstable_act=z,We.useCallback=function(q,F){return L.current.useCallback(q,F)},We.useContext=function(q){return L.current.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q){return L.current.useDeferredValue(q)},We.useEffect=function(q,F){return L.current.useEffect(q,F)},We.useId=function(){return L.current.useId()},We.useImperativeHandle=function(q,F,G){return L.current.useImperativeHandle(q,F,G)},We.useInsertionEffect=function(q,F){return L.current.useInsertionEffect(q,F)},We.useLayoutEffect=function(q,F){return L.current.useLayoutEffect(q,F)},We.useMemo=function(q,F){return L.current.useMemo(q,F)},We.useReducer=function(q,F,G){return L.current.useReducer(q,F,G)},We.useRef=function(q){return L.current.useRef(q)},We.useState=function(q){return L.current.useState(q)},We.useSyncExternalStore=function(q,F,G){return L.current.useSyncExternalStore(q,F,G)},We.useTransition=function(){return L.current.useTransition()},We.version="18.3.1",We}var GN;function $b(){return GN||(GN=1,Cp.exports=CR()),Cp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function AR(){if(VN)return Ol;VN=1;var e=$b(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},g=null,b=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)a.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:g,ref:b,props:m,_owner:s.current}}return Ol.Fragment=r,Ol.jsx=l,Ol.jsxs=l,Ol}var QN;function PR(){return QN||(QN=1,Op.exports=AR()),Op.exports}var n=PR(),S=$b();const V=Ze(S),ER=OR({__proto__:null,default:V},[S]);var fd={},Ap={exports:{}},mr={},Pp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function _R(){return YN||(YN=1,(function(e){function t(W,X){var z=W.length;W.push(X);e:for(;0<z;){var q=z-1>>>1,F=W[q];if(0<s(F,X))W[q]=X,W[z]=F,z=q;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var X=W[0],z=W.pop();if(z!==X){W[0]=z;e:for(var q=0,F=W.length,G=F>>>1;q<G;){var ee=2*(q+1)-1,de=W[ee],oe=ee+1,ne=W[oe];if(0>s(de,z))oe<F&&0>s(ne,de)?(W[q]=ne,W[oe]=z,q=oe):(W[q]=de,W[ee]=z,q=ee);else if(oe<F&&0>s(ne,z))W[q]=ne,W[oe]=z,q=oe;else break e}}return X}function s(W,X){var z=W.sortIndex-X.sortIndex;return z!==0?z:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,g=3,b=!1,v=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var X=r(f);X!==null;){if(X.callback===null)a(f);else if(X.startTime<=W)a(f),X.sortIndex=X.expirationTime,t(d,X);else break;X=r(f)}}function O(W){if(j=!1,_(W),!v)if(r(d)!==null)v=!0,B(w);else{var X=r(f);X!==null&&L(O,X.startTime-W)}}function w(W,X){v=!1,j&&(j=!1,k(R),R=-1),b=!0;var z=g;try{for(_(X),m=r(d);m!==null&&(!(m.expirationTime>X)||W&&!T());){var q=m.callback;if(typeof q=="function"){m.callback=null,g=m.priorityLevel;var F=q(m.expirationTime<=X);X=e.unstable_now(),typeof F=="function"?m.callback=F:m===r(d)&&a(d),_(X)}else a(d);m=r(d)}if(m!==null)var G=!0;else{var ee=r(f);ee!==null&&L(O,ee.startTime-X),G=!1}return G}finally{m=null,g=z,b=!1}}var C=!1,P=null,R=-1,I=5,$=-1;function T(){return!(e.unstable_now()-$<I)}function M(){if(P!==null){var W=e.unstable_now();$=W;var X=!0;try{X=P(!0,W)}finally{X?K():(C=!1,P=null)}}else C=!1}var K;if(typeof A=="function")K=function(){A(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=M,K=function(){U.postMessage(null)}}else K=function(){y(M,0)};function B(W){P=W,C||(C=!0,K())}function L(W,X){R=y(function(){W(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,B(w))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var z=g;g=X;try{return W()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=g;g=W;try{return X()}finally{g=z}},e.unstable_scheduleCallback=function(W,X,z){var q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,W={id:p++,callback:X,priorityLevel:W,startTime:z,expirationTime:F,sortIndex:-1},z>q?(W.sortIndex=z,t(f,W),r(d)===null&&W===r(f)&&(j?(k(R),R=-1):j=!0,L(O,z-q))):(W.sortIndex=F,t(d,W),v||b||(v=!0,B(w))),W},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(W){var X=g;return function(){var z=g;g=X;try{return W.apply(this,arguments)}finally{g=z}}}})(Ep)),Ep}var XN;function TR(){return XN||(XN=1,Pp.exports=_R()),Pp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function RR(){if(JN)return mr;JN=1;var e=$b(),t=TR();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function b(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,h,x){if(c===null||typeof c>"u"||b(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(o,c,h,x,N,E,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=E,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){y[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];y[c]=new j(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){y[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){y[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){y[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){y[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){y[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){y[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){y[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,A);y[c]=new j(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,A);y[c]=new j(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,A);y[c]=new j(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){y[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),y.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){y[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,c,h,x){var N=y.hasOwnProperty(c)?y[c]:null;(N!==null?N.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,h,N,x)&&(h=null),x||N===null?g(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):N.mustUseProperty?o[N.propertyName]=h===null?N.type===3?!1:"":h:(c=N.attributeName,x=N.attributeNamespace,h===null?o.removeAttribute(c):(N=N.type,h=N===3||N===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),W=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var z=Object.assign,q;function F(o){if(q===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+o}var G=!1;function ee(o,c){if(!o||G)return"";G=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(se){var x=se}Reflect.construct(o,[],c)}else{try{c.call()}catch(se){x=se}o.call(c.prototype)}else{try{throw Error()}catch(se){x=se}o()}}catch(se){if(se&&x&&typeof se.stack=="string"){for(var N=se.stack.split(`
`),E=x.stack.split(`
`),D=N.length-1,H=E.length-1;1<=D&&0<=H&&N[D]!==E[H];)H--;for(;1<=D&&0<=H;D--,H--)if(N[D]!==E[H]){if(D!==1||H!==1)do if(D--,H--,0>H||N[D]!==E[H]){var J=`
`+N[D].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=D&&0<=H);break}}}finally{G=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?F(o):""}function de(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function oe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case C:return"Portal";case I:return"Profiler";case R:return"StrictMode";case K:return"Suspense";case Y:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case T:return(o.displayName||"Context")+".Consumer";case $:return(o._context.displayName||"Context")+".Provider";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return c=o.displayName||null,c!==null?c:oe(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return oe(o(c))}catch{}}return null}function ne(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function pe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ue(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ce(o){var c=ue(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var N=h.get,E=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return N.call(this)},set:function(D){x=""+D,E.call(this,D)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Me(o){o._valueTracker||(o._valueTracker=Ce(o))}function te(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=ue(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function je(o,c){var h=c.checked;return z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function tt(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=pe(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function pt(o,c){c=c.checked,c!=null&&_(o,"checked",c,!1)}function It(o,c){pt(o,c);var h=pe(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?hn(o,c.type,h):c.hasOwnProperty("defaultValue")&&hn(o,c.type,pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Vr(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function hn(o,c,h){(c!=="number"||be(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var mn=Array.isArray;function lr(o,c,h,x){if(o=o.options,c){c={};for(var N=0;N<h.length;N++)c["$"+h[N]]=!0;for(h=0;h<o.length;h++)N=c.hasOwnProperty("$"+o[h].value),o[h].selected!==N&&(o[h].selected=N),N&&x&&(o[h].defaultSelected=!0)}else{for(h=""+pe(h),c=null,N=0;N<o.length;N++){if(o[N].value===h){o[N].selected=!0,x&&(o[N].defaultSelected=!0);return}c!==null||o[N].disabled||(c=o[N])}c!==null&&(c.selected=!0)}}function Qr(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ei(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(mn(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:pe(h)}}function Bo(o,c){var h=pe(c.value),x=pe(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function qo(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function aw(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?aw(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var tu,sw=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,N){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,N)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=tu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function zo(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A3=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(o){A3.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Uo[c]=Uo[o]})});function iw(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Uo.hasOwnProperty(o)&&Uo[o]?(""+c).trim():c+"px"}function ow(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,N=iw(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,N):o[h]=N}}var P3=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(o,c){if(c){if(P3[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Lh(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=null;function Bh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qh=null,ti=null,ri=null;function lw(o){if(o=dl(o)){if(typeof qh!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Su(c),qh(o.stateNode,o.type,c))}}function cw(o){ti?ri?ri.push(o):ri=[o]:ti=o}function uw(){if(ti){var o=ti,c=ri;if(ri=ti=null,lw(o),c)for(o=0;o<c.length;o++)lw(c[o])}}function dw(o,c){return o(c)}function fw(){}var zh=!1;function hw(o,c,h){if(zh)return o(c,h);zh=!0;try{return dw(o,c,h)}finally{zh=!1,(ti!==null||ri!==null)&&(fw(),uw())}}function Wo(o,c){var h=o.stateNode;if(h===null)return null;var x=Su(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Uh=!1;if(u)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Uh=!1}function E3(o,c,h,x,N,E,D,H,J){var se=Array.prototype.slice.call(arguments,3);try{c.apply(h,se)}catch(he){this.onError(he)}}var Ho=!1,ru=null,nu=!1,Wh=null,_3={onError:function(o){Ho=!0,ru=o}};function T3(o,c,h,x,N,E,D,H,J){Ho=!1,ru=null,E3.apply(_3,arguments)}function R3(o,c,h,x,N,E,D,H,J){if(T3.apply(this,arguments),Ho){if(Ho){var se=ru;Ho=!1,ru=null}else throw Error(r(198));nu||(nu=!0,Wh=se)}}function es(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function mw(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function pw(o){if(es(o)!==o)throw Error(r(188))}function M3(o){var c=o.alternate;if(!c){if(c=es(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,x=c;;){var N=h.return;if(N===null)break;var E=N.alternate;if(E===null){if(x=N.return,x!==null){h=x;continue}break}if(N.child===E.child){for(E=N.child;E;){if(E===h)return pw(N),o;if(E===x)return pw(N),c;E=E.sibling}throw Error(r(188))}if(h.return!==x.return)h=N,x=E;else{for(var D=!1,H=N.child;H;){if(H===h){D=!0,h=N,x=E;break}if(H===x){D=!0,x=N,h=E;break}H=H.sibling}if(!D){for(H=E.child;H;){if(H===h){D=!0,h=E,x=N;break}if(H===x){D=!0,x=E,h=N;break}H=H.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function gw(o){return o=M3(o),o!==null?xw(o):null}function xw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=xw(o);if(c!==null)return c;o=o.sibling}return null}var yw=t.unstable_scheduleCallback,vw=t.unstable_cancelCallback,I3=t.unstable_shouldYield,$3=t.unstable_requestPaint,bt=t.unstable_now,D3=t.unstable_getCurrentPriorityLevel,Kh=t.unstable_ImmediatePriority,bw=t.unstable_UserBlockingPriority,au=t.unstable_NormalPriority,L3=t.unstable_LowPriority,jw=t.unstable_IdlePriority,su=null,pn=null;function F3(o){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(su,o,void 0,(o.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:z3,B3=Math.log,q3=Math.LN2;function z3(o){return o>>>=0,o===0?32:31-(B3(o)/q3|0)|0}var iu=64,ou=4194304;function Go(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function lu(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,N=o.suspendedLanes,E=o.pingedLanes,D=h&268435455;if(D!==0){var H=D&~N;H!==0?x=Go(H):(E&=D,E!==0&&(x=Go(E)))}else D=h&~N,D!==0?x=Go(D):E!==0&&(x=Go(E));if(x===0)return 0;if(c!==0&&c!==x&&(c&N)===0&&(N=x&-x,E=c&-c,N>=E||N===16&&(E&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-Yr(c),N=1<<h,x|=o[h],c&=~N;return x}function U3(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W3(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,N=o.expirationTimes,E=o.pendingLanes;0<E;){var D=31-Yr(E),H=1<<D,J=N[D];J===-1?((H&h)===0||(H&x)!==0)&&(N[D]=U3(H,c)):J<=c&&(o.expiredLanes|=H),E&=~H}}function Hh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ww(){var o=iu;return iu<<=1,(iu&4194240)===0&&(iu=64),o}function Gh(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Vo(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Yr(c),o[c]=h}function K3(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var N=31-Yr(h),E=1<<N;c[N]=0,x[N]=-1,o[N]=-1,h&=~E}}function Vh(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-Yr(h),N=1<<x;N&c|o[x]&c&&(o[x]|=c),h&=~N}}var et=0;function Nw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Sw,Qh,kw,Ow,Cw,Yh=!1,cu=[],da=null,fa=null,ha=null,Qo=new Map,Yo=new Map,ma=[],H3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aw(o,c){switch(o){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Qo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(c.pointerId)}}function Xo(o,c,h,x,N,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:E,targetContainers:[N]},c!==null&&(c=dl(c),c!==null&&Qh(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),o)}function G3(o,c,h,x,N){switch(c){case"focusin":return da=Xo(da,o,c,h,x,N),!0;case"dragenter":return fa=Xo(fa,o,c,h,x,N),!0;case"mouseover":return ha=Xo(ha,o,c,h,x,N),!0;case"pointerover":var E=N.pointerId;return Qo.set(E,Xo(Qo.get(E)||null,o,c,h,x,N)),!0;case"gotpointercapture":return E=N.pointerId,Yo.set(E,Xo(Yo.get(E)||null,o,c,h,x,N)),!0}return!1}function Pw(o){var c=ts(o.target);if(c!==null){var h=es(c);if(h!==null){if(c=h.tag,c===13){if(c=mw(h),c!==null){o.blockedOn=c,Cw(o.priority,function(){kw(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function uu(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Jh(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Fh=x,h.target.dispatchEvent(x),Fh=null}else return c=dl(h),c!==null&&Qh(c),o.blockedOn=h,!1;c.shift()}return!0}function Ew(o,c,h){uu(o)&&h.delete(c)}function V3(){Yh=!1,da!==null&&uu(da)&&(da=null),fa!==null&&uu(fa)&&(fa=null),ha!==null&&uu(ha)&&(ha=null),Qo.forEach(Ew),Yo.forEach(Ew)}function Jo(o,c){o.blockedOn===c&&(o.blockedOn=null,Yh||(Yh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V3)))}function Zo(o){function c(N){return Jo(N,o)}if(0<cu.length){Jo(cu[0],o);for(var h=1;h<cu.length;h++){var x=cu[h];x.blockedOn===o&&(x.blockedOn=null)}}for(da!==null&&Jo(da,o),fa!==null&&Jo(fa,o),ha!==null&&Jo(ha,o),Qo.forEach(c),Yo.forEach(c),h=0;h<ma.length;h++)x=ma[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<ma.length&&(h=ma[0],h.blockedOn===null);)Pw(h),h.blockedOn===null&&ma.shift()}var ni=O.ReactCurrentBatchConfig,du=!0;function Q3(o,c,h,x){var N=et,E=ni.transition;ni.transition=null;try{et=1,Xh(o,c,h,x)}finally{et=N,ni.transition=E}}function Y3(o,c,h,x){var N=et,E=ni.transition;ni.transition=null;try{et=4,Xh(o,c,h,x)}finally{et=N,ni.transition=E}}function Xh(o,c,h,x){if(du){var N=Jh(o,c,h,x);if(N===null)pm(o,c,x,fu,h),Aw(o,x);else if(G3(N,o,c,h,x))x.stopPropagation();else if(Aw(o,x),c&4&&-1<H3.indexOf(o)){for(;N!==null;){var E=dl(N);if(E!==null&&Sw(E),E=Jh(o,c,h,x),E===null&&pm(o,c,x,fu,h),E===N)break;N=E}N!==null&&x.stopPropagation()}else pm(o,c,x,null,h)}}var fu=null;function Jh(o,c,h,x){if(fu=null,o=Bh(x),o=ts(o),o!==null)if(c=es(o),c===null)o=null;else if(h=c.tag,h===13){if(o=mw(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return fu=o,null}function _w(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D3()){case Kh:return 1;case bw:return 4;case au:case L3:return 16;case jw:return 536870912;default:return 16}default:return 16}}var pa=null,Zh=null,hu=null;function Tw(){if(hu)return hu;var o,c=Zh,h=c.length,x,N="value"in pa?pa.value:pa.textContent,E=N.length;for(o=0;o<h&&c[o]===N[o];o++);var D=h-o;for(x=1;x<=D&&c[h-x]===N[E-x];x++);return hu=N.slice(o,1<x?1-x:void 0)}function mu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function pu(){return!0}function Rw(){return!1}function jr(o){function c(h,x,N,E,D){this._reactName=h,this._targetInst=N,this.type=x,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(h=o[H],this[H]=h?h(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?pu:Rw,this.isPropagationStopped=Rw,this}return z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),c}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},em=jr(ai),el=z({},ai,{view:0,detail:0}),X3=jr(el),tm,rm,tl,gu=z({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==tl&&(tl&&o.type==="mousemove"?(tm=o.screenX-tl.screenX,rm=o.screenY-tl.screenY):rm=tm=0,tl=o),tm)},movementY:function(o){return"movementY"in o?o.movementY:rm}}),Mw=jr(gu),J3=z({},gu,{dataTransfer:0}),Z3=jr(J3),e6=z({},el,{relatedTarget:0}),nm=jr(e6),t6=z({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),r6=jr(t6),n6=z({},ai,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),a6=jr(n6),s6=z({},ai,{data:0}),Iw=jr(s6),i6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c6(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=l6[o])?!!c[o]:!1}function am(){return c6}var u6=z({},el,{key:function(o){if(o.key){var c=i6[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=mu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?o6[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(o){return o.type==="keypress"?mu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),d6=jr(u6),f6=z({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=jr(f6),h6=z({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),m6=jr(h6),p6=z({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),g6=jr(p6),x6=z({},gu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),y6=jr(x6),v6=[9,13,27,32],sm=u&&"CompositionEvent"in window,rl=null;u&&"documentMode"in document&&(rl=document.documentMode);var b6=u&&"TextEvent"in window&&!rl,Dw=u&&(!sm||rl&&8<rl&&11>=rl),Lw=" ",Fw=!1;function Bw(o,c){switch(o){case"keyup":return v6.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var si=!1;function j6(o,c){switch(o){case"compositionend":return qw(c);case"keypress":return c.which!==32?null:(Fw=!0,Lw);case"textInput":return o=c.data,o===Lw&&Fw?null:o;default:return null}}function w6(o,c){if(si)return o==="compositionend"||!sm&&Bw(o,c)?(o=Tw(),hu=Zh=pa=null,si=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Dw&&c.locale!=="ko"?null:c.data;default:return null}}var N6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!N6[o.type]:c==="textarea"}function Uw(o,c,h,x){cw(x),c=ju(c,"onChange"),0<c.length&&(h=new em("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var nl=null,al=null;function S6(o){o1(o,0)}function xu(o){var c=ui(o);if(te(c))return o}function k6(o,c){if(o==="change")return c}var Ww=!1;if(u){var im;if(u){var om="oninput"in document;if(!om){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),om=typeof Kw.oninput=="function"}im=om}else im=!1;Ww=im&&(!document.documentMode||9<document.documentMode)}function Hw(){nl&&(nl.detachEvent("onpropertychange",Gw),al=nl=null)}function Gw(o){if(o.propertyName==="value"&&xu(al)){var c=[];Uw(c,al,o,Bh(o)),hw(S6,c)}}function O6(o,c,h){o==="focusin"?(Hw(),nl=c,al=h,nl.attachEvent("onpropertychange",Gw)):o==="focusout"&&Hw()}function C6(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xu(al)}function A6(o,c){if(o==="click")return xu(c)}function P6(o,c){if(o==="input"||o==="change")return xu(c)}function E6(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Xr=typeof Object.is=="function"?Object.is:E6;function sl(o,c){if(Xr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var N=h[x];if(!d.call(c,N)||!Xr(o[N],c[N]))return!1}return!0}function Vw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Qw(o,c){var h=Vw(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Vw(h)}}function Yw(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Yw(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Xw(){for(var o=window,c=be();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=be(o.document)}return c}function lm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function _6(o){var c=Xw(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&Yw(h.ownerDocument.documentElement,h)){if(x!==null&&lm(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var N=h.textContent.length,E=Math.min(x.start,N);x=x.end===void 0?E:Math.min(x.end,N),!o.extend&&E>x&&(N=x,x=E,E=N),N=Qw(h,E);var D=Qw(h,x);N&&D&&(o.rangeCount!==1||o.anchorNode!==N.node||o.anchorOffset!==N.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(N.node,N.offset),o.removeAllRanges(),E>x?(o.addRange(c),o.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var T6=u&&"documentMode"in document&&11>=document.documentMode,ii=null,cm=null,il=null,um=!1;function Jw(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;um||ii==null||ii!==be(x)||(x=ii,"selectionStart"in x&&lm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),il&&sl(il,x)||(il=x,x=ju(cm,"onSelect"),0<x.length&&(c=new em("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=ii)))}function yu(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var oi={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},dm={},Zw={};u&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function vu(o){if(dm[o])return dm[o];if(!oi[o])return o;var c=oi[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Zw)return dm[o]=c[h];return o}var e1=vu("animationend"),t1=vu("animationiteration"),r1=vu("animationstart"),n1=vu("transitionend"),a1=new Map,s1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(o,c){a1.set(o,c),i(c,[o])}for(var fm=0;fm<s1.length;fm++){var hm=s1[fm],R6=hm.toLowerCase(),M6=hm[0].toUpperCase()+hm.slice(1);ga(R6,"on"+M6)}ga(e1,"onAnimationEnd"),ga(t1,"onAnimationIteration"),ga(r1,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(n1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I6=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function i1(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,R3(x,c,void 0,o),o.currentTarget=null}function o1(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],N=x.event;x=x.listeners;e:{var E=void 0;if(c)for(var D=x.length-1;0<=D;D--){var H=x[D],J=H.instance,se=H.currentTarget;if(H=H.listener,J!==E&&N.isPropagationStopped())break e;i1(N,H,se),E=J}else for(D=0;D<x.length;D++){if(H=x[D],J=H.instance,se=H.currentTarget,H=H.listener,J!==E&&N.isPropagationStopped())break e;i1(N,H,se),E=J}}}if(nu)throw o=Wh,nu=!1,Wh=null,o}function lt(o,c){var h=c[jm];h===void 0&&(h=c[jm]=new Set);var x=o+"__bubble";h.has(x)||(l1(c,o,2,!1),h.add(x))}function mm(o,c,h){var x=0;c&&(x|=4),l1(h,o,x,c)}var bu="_reactListening"+Math.random().toString(36).slice(2);function ll(o){if(!o[bu]){o[bu]=!0,a.forEach(function(h){h!=="selectionchange"&&(I6.has(h)||mm(h,!1,o),mm(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[bu]||(c[bu]=!0,mm("selectionchange",!1,c))}}function l1(o,c,h,x){switch(_w(c)){case 1:var N=Q3;break;case 4:N=Y3;break;default:N=Xh}h=N.bind(null,c,h,o),N=void 0,!Uh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),x?N!==void 0?o.addEventListener(c,h,{capture:!0,passive:N}):o.addEventListener(c,h,!0):N!==void 0?o.addEventListener(c,h,{passive:N}):o.addEventListener(c,h,!1)}function pm(o,c,h,x,N){var E=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var D=x.tag;if(D===3||D===4){var H=x.stateNode.containerInfo;if(H===N||H.nodeType===8&&H.parentNode===N)break;if(D===4)for(D=x.return;D!==null;){var J=D.tag;if((J===3||J===4)&&(J=D.stateNode.containerInfo,J===N||J.nodeType===8&&J.parentNode===N))return;D=D.return}for(;H!==null;){if(D=ts(H),D===null)return;if(J=D.tag,J===5||J===6){x=E=D;continue e}H=H.parentNode}}x=x.return}hw(function(){var se=E,he=Bh(h),me=[];e:{var fe=a1.get(o);if(fe!==void 0){var ve=em,Se=o;switch(o){case"keypress":if(mu(h)===0)break e;case"keydown":case"keyup":ve=d6;break;case"focusin":Se="focus",ve=nm;break;case"focusout":Se="blur",ve=nm;break;case"beforeblur":case"afterblur":ve=nm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Z3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=m6;break;case e1:case t1:case r1:ve=r6;break;case n1:ve=g6;break;case"scroll":ve=X3;break;case"wheel":ve=y6;break;case"copy":case"cut":case"paste":ve=a6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=$w}var ke=(c&4)!==0,jt=!ke&&o==="scroll",re=ke?fe!==null?fe+"Capture":null:fe;ke=[];for(var Z=se,ae;Z!==null;){ae=Z;var ge=ae.stateNode;if(ae.tag===5&&ge!==null&&(ae=ge,re!==null&&(ge=Wo(Z,re),ge!=null&&ke.push(cl(Z,ge,ae)))),jt)break;Z=Z.return}0<ke.length&&(fe=new ve(fe,Se,null,h,he),me.push({event:fe,listeners:ke}))}}if((c&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",fe&&h!==Fh&&(Se=h.relatedTarget||h.fromElement)&&(ts(Se)||Se[Rn]))break e;if((ve||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,ve?(Se=h.relatedTarget||h.toElement,ve=se,Se=Se?ts(Se):null,Se!==null&&(jt=es(Se),Se!==jt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=se),ve!==Se)){if(ke=Mw,ge="onMouseLeave",re="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(ke=$w,ge="onPointerLeave",re="onPointerEnter",Z="pointer"),jt=ve==null?fe:ui(ve),ae=Se==null?fe:ui(Se),fe=new ke(ge,Z+"leave",ve,h,he),fe.target=jt,fe.relatedTarget=ae,ge=null,ts(he)===se&&(ke=new ke(re,Z+"enter",Se,h,he),ke.target=ae,ke.relatedTarget=jt,ge=ke),jt=ge,ve&&Se)t:{for(ke=ve,re=Se,Z=0,ae=ke;ae;ae=li(ae))Z++;for(ae=0,ge=re;ge;ge=li(ge))ae++;for(;0<Z-ae;)ke=li(ke),Z--;for(;0<ae-Z;)re=li(re),ae--;for(;Z--;){if(ke===re||re!==null&&ke===re.alternate)break t;ke=li(ke),re=li(re)}ke=null}else ke=null;ve!==null&&c1(me,fe,ve,ke,!1),Se!==null&&jt!==null&&c1(me,jt,Se,ke,!0)}}e:{if(fe=se?ui(se):window,ve=fe.nodeName&&fe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&fe.type==="file")var Oe=k6;else if(zw(fe))if(Ww)Oe=P6;else{Oe=C6;var Pe=O6}else(ve=fe.nodeName)&&ve.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Oe=A6);if(Oe&&(Oe=Oe(o,se))){Uw(me,Oe,h,he);break e}Pe&&Pe(o,fe,se),o==="focusout"&&(Pe=fe._wrapperState)&&Pe.controlled&&fe.type==="number"&&hn(fe,"number",fe.value)}switch(Pe=se?ui(se):window,o){case"focusin":(zw(Pe)||Pe.contentEditable==="true")&&(ii=Pe,cm=se,il=null);break;case"focusout":il=cm=ii=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Jw(me,h,he);break;case"selectionchange":if(T6)break;case"keydown":case"keyup":Jw(me,h,he)}var Ee;if(sm)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else si?Bw(o,h)&&($e="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&($e="onCompositionStart");$e&&(Dw&&h.locale!=="ko"&&(si||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&si&&(Ee=Tw()):(pa=he,Zh="value"in pa?pa.value:pa.textContent,si=!0)),Pe=ju(se,$e),0<Pe.length&&($e=new Iw($e,o,null,h,he),me.push({event:$e,listeners:Pe}),Ee?$e.data=Ee:(Ee=qw(h),Ee!==null&&($e.data=Ee)))),(Ee=b6?j6(o,h):w6(o,h))&&(se=ju(se,"onBeforeInput"),0<se.length&&(he=new Iw("onBeforeInput","beforeinput",null,h,he),me.push({event:he,listeners:se}),he.data=Ee))}o1(me,c)})}function cl(o,c,h){return{instance:o,listener:c,currentTarget:h}}function ju(o,c){for(var h=c+"Capture",x=[];o!==null;){var N=o,E=N.stateNode;N.tag===5&&E!==null&&(N=E,E=Wo(o,h),E!=null&&x.unshift(cl(o,E,N)),E=Wo(o,c),E!=null&&x.push(cl(o,E,N))),o=o.return}return x}function li(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function c1(o,c,h,x,N){for(var E=c._reactName,D=[];h!==null&&h!==x;){var H=h,J=H.alternate,se=H.stateNode;if(J!==null&&J===x)break;H.tag===5&&se!==null&&(H=se,N?(J=Wo(h,E),J!=null&&D.unshift(cl(h,J,H))):N||(J=Wo(h,E),J!=null&&D.push(cl(h,J,H)))),h=h.return}D.length!==0&&o.push({event:c,listeners:D})}var $6=/\r\n?/g,D6=/\u0000|\uFFFD/g;function u1(o){return(typeof o=="string"?o:""+o).replace($6,`
`).replace(D6,"")}function wu(o,c,h){if(c=u1(c),u1(o)!==c&&h)throw Error(r(425))}function Nu(){}var gm=null,xm=null;function ym(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,L6=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,F6=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(o){return d1.resolve(null).then(o).catch(B6)}:vm;function B6(o){setTimeout(function(){throw o})}function bm(o,c){var h=c,x=0;do{var N=h.nextSibling;if(o.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(x===0){o.removeChild(N),Zo(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=N}while(h);Zo(c)}function xa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function f1(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var ci=Math.random().toString(36).slice(2),gn="__reactFiber$"+ci,ul="__reactProps$"+ci,Rn="__reactContainer$"+ci,jm="__reactEvents$"+ci,q6="__reactListeners$"+ci,z6="__reactHandles$"+ci;function ts(o){var c=o[gn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Rn]||h[gn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=f1(o);o!==null;){if(h=o[gn])return h;o=f1(o)}return c}o=h,h=o.parentNode}return null}function dl(o){return o=o[gn]||o[Rn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ui(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Su(o){return o[ul]||null}var wm=[],di=-1;function ya(o){return{current:o}}function ct(o){0>di||(o.current=wm[di],wm[di]=null,di--)}function at(o,c){di++,wm[di]=o.current,o.current=c}var va={},Gt=ya(va),cr=ya(!1),rs=va;function fi(o,c){var h=o.type.contextTypes;if(!h)return va;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var N={},E;for(E in h)N[E]=c[E];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=N),N}function ur(o){return o=o.childContextTypes,o!=null}function ku(){ct(cr),ct(Gt)}function h1(o,c,h){if(Gt.current!==va)throw Error(r(168));at(Gt,c),at(cr,h)}function m1(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var N in x)if(!(N in c))throw Error(r(108,ne(o)||"Unknown",N));return z({},h,x)}function Ou(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||va,rs=Gt.current,at(Gt,o),at(cr,cr.current),!0}function p1(o,c,h){var x=o.stateNode;if(!x)throw Error(r(169));h?(o=m1(o,c,rs),x.__reactInternalMemoizedMergedChildContext=o,ct(cr),ct(Gt),at(Gt,o)):ct(cr),at(cr,h)}var Mn=null,Cu=!1,Nm=!1;function g1(o){Mn===null?Mn=[o]:Mn.push(o)}function U6(o){Cu=!0,g1(o)}function ba(){if(!Nm&&Mn!==null){Nm=!0;var o=0,c=et;try{var h=Mn;for(et=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}Mn=null,Cu=!1}catch(N){throw Mn!==null&&(Mn=Mn.slice(o+1)),yw(Kh,ba),N}finally{et=c,Nm=!1}}return null}var hi=[],mi=0,Au=null,Pu=0,Tr=[],Rr=0,ns=null,In=1,$n="";function as(o,c){hi[mi++]=Pu,hi[mi++]=Au,Au=o,Pu=c}function x1(o,c,h){Tr[Rr++]=In,Tr[Rr++]=$n,Tr[Rr++]=ns,ns=o;var x=In;o=$n;var N=32-Yr(x)-1;x&=~(1<<N),h+=1;var E=32-Yr(c)+N;if(30<E){var D=N-N%5;E=(x&(1<<D)-1).toString(32),x>>=D,N-=D,In=1<<32-Yr(c)+N|h<<N|x,$n=E+o}else In=1<<E|h<<N|x,$n=o}function Sm(o){o.return!==null&&(as(o,1),x1(o,1,0))}function km(o){for(;o===Au;)Au=hi[--mi],hi[mi]=null,Pu=hi[--mi],hi[mi]=null;for(;o===ns;)ns=Tr[--Rr],Tr[Rr]=null,$n=Tr[--Rr],Tr[Rr]=null,In=Tr[--Rr],Tr[Rr]=null}var wr=null,Nr=null,dt=!1,Jr=null;function y1(o,c){var h=Dr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function v1(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,wr=o,Nr=xa(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,wr=o,Nr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=ns!==null?{id:In,overflow:$n}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Dr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,wr=o,Nr=null,!0):!1;default:return!1}}function Om(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Cm(o){if(dt){var c=Nr;if(c){var h=c;if(!v1(o,c)){if(Om(o))throw Error(r(418));c=xa(h.nextSibling);var x=wr;c&&v1(o,c)?y1(x,h):(o.flags=o.flags&-4097|2,dt=!1,wr=o)}}else{if(Om(o))throw Error(r(418));o.flags=o.flags&-4097|2,dt=!1,wr=o}}}function b1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;wr=o}function Eu(o){if(o!==wr)return!1;if(!dt)return b1(o),dt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!ym(o.type,o.memoizedProps)),c&&(c=Nr)){if(Om(o))throw j1(),Error(r(418));for(;c;)y1(o,c),c=xa(c.nextSibling)}if(b1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Nr=xa(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Nr=null}}else Nr=wr?xa(o.stateNode.nextSibling):null;return!0}function j1(){for(var o=Nr;o;)o=xa(o.nextSibling)}function pi(){Nr=wr=null,dt=!1}function Am(o){Jr===null?Jr=[o]:Jr.push(o)}var W6=O.ReactCurrentBatchConfig;function fl(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var x=h.stateNode}if(!x)throw Error(r(147,o));var N=x,E=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(D){var H=N.refs;D===null?delete H[E]:H[E]=D},c._stringRef=E,c)}if(typeof o!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,o))}return o}function _u(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function w1(o){var c=o._init;return c(o._payload)}function N1(o){function c(re,Z){if(o){var ae=re.deletions;ae===null?(re.deletions=[Z],re.flags|=16):ae.push(Z)}}function h(re,Z){if(!o)return null;for(;Z!==null;)c(re,Z),Z=Z.sibling;return null}function x(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function N(re,Z){return re=Aa(re,Z),re.index=0,re.sibling=null,re}function E(re,Z,ae){return re.index=ae,o?(ae=re.alternate,ae!==null?(ae=ae.index,ae<Z?(re.flags|=2,Z):ae):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function D(re){return o&&re.alternate===null&&(re.flags|=2),re}function H(re,Z,ae,ge){return Z===null||Z.tag!==6?(Z=vp(ae,re.mode,ge),Z.return=re,Z):(Z=N(Z,ae),Z.return=re,Z)}function J(re,Z,ae,ge){var Oe=ae.type;return Oe===P?he(re,Z,ae.props.children,ge,ae.key):Z!==null&&(Z.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===B&&w1(Oe)===Z.type)?(ge=N(Z,ae.props),ge.ref=fl(re,Z,ae),ge.return=re,ge):(ge=td(ae.type,ae.key,ae.props,null,re.mode,ge),ge.ref=fl(re,Z,ae),ge.return=re,ge)}function se(re,Z,ae,ge){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=bp(ae,re.mode,ge),Z.return=re,Z):(Z=N(Z,ae.children||[]),Z.return=re,Z)}function he(re,Z,ae,ge,Oe){return Z===null||Z.tag!==7?(Z=fs(ae,re.mode,ge,Oe),Z.return=re,Z):(Z=N(Z,ae),Z.return=re,Z)}function me(re,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=vp(""+Z,re.mode,ae),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return ae=td(Z.type,Z.key,Z.props,null,re.mode,ae),ae.ref=fl(re,null,Z),ae.return=re,ae;case C:return Z=bp(Z,re.mode,ae),Z.return=re,Z;case B:var ge=Z._init;return me(re,ge(Z._payload),ae)}if(mn(Z)||X(Z))return Z=fs(Z,re.mode,ae,null),Z.return=re,Z;_u(re,Z)}return null}function fe(re,Z,ae,ge){var Oe=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Oe!==null?null:H(re,Z,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===Oe?J(re,Z,ae,ge):null;case C:return ae.key===Oe?se(re,Z,ae,ge):null;case B:return Oe=ae._init,fe(re,Z,Oe(ae._payload),ge)}if(mn(ae)||X(ae))return Oe!==null?null:he(re,Z,ae,ge,null);_u(re,ae)}return null}function ve(re,Z,ae,ge,Oe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return re=re.get(ae)||null,H(Z,re,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case w:return re=re.get(ge.key===null?ae:ge.key)||null,J(Z,re,ge,Oe);case C:return re=re.get(ge.key===null?ae:ge.key)||null,se(Z,re,ge,Oe);case B:var Pe=ge._init;return ve(re,Z,ae,Pe(ge._payload),Oe)}if(mn(ge)||X(ge))return re=re.get(ae)||null,he(Z,re,ge,Oe,null);_u(Z,ge)}return null}function Se(re,Z,ae,ge){for(var Oe=null,Pe=null,Ee=Z,$e=Z=0,Lt=null;Ee!==null&&$e<ae.length;$e++){Ee.index>$e?(Lt=Ee,Ee=null):Lt=Ee.sibling;var Ge=fe(re,Ee,ae[$e],ge);if(Ge===null){Ee===null&&(Ee=Lt);break}o&&Ee&&Ge.alternate===null&&c(re,Ee),Z=E(Ge,Z,$e),Pe===null?Oe=Ge:Pe.sibling=Ge,Pe=Ge,Ee=Lt}if($e===ae.length)return h(re,Ee),dt&&as(re,$e),Oe;if(Ee===null){for(;$e<ae.length;$e++)Ee=me(re,ae[$e],ge),Ee!==null&&(Z=E(Ee,Z,$e),Pe===null?Oe=Ee:Pe.sibling=Ee,Pe=Ee);return dt&&as(re,$e),Oe}for(Ee=x(re,Ee);$e<ae.length;$e++)Lt=ve(Ee,re,$e,ae[$e],ge),Lt!==null&&(o&&Lt.alternate!==null&&Ee.delete(Lt.key===null?$e:Lt.key),Z=E(Lt,Z,$e),Pe===null?Oe=Lt:Pe.sibling=Lt,Pe=Lt);return o&&Ee.forEach(function(Pa){return c(re,Pa)}),dt&&as(re,$e),Oe}function ke(re,Z,ae,ge){var Oe=X(ae);if(typeof Oe!="function")throw Error(r(150));if(ae=Oe.call(ae),ae==null)throw Error(r(151));for(var Pe=Oe=null,Ee=Z,$e=Z=0,Lt=null,Ge=ae.next();Ee!==null&&!Ge.done;$e++,Ge=ae.next()){Ee.index>$e?(Lt=Ee,Ee=null):Lt=Ee.sibling;var Pa=fe(re,Ee,Ge.value,ge);if(Pa===null){Ee===null&&(Ee=Lt);break}o&&Ee&&Pa.alternate===null&&c(re,Ee),Z=E(Pa,Z,$e),Pe===null?Oe=Pa:Pe.sibling=Pa,Pe=Pa,Ee=Lt}if(Ge.done)return h(re,Ee),dt&&as(re,$e),Oe;if(Ee===null){for(;!Ge.done;$e++,Ge=ae.next())Ge=me(re,Ge.value,ge),Ge!==null&&(Z=E(Ge,Z,$e),Pe===null?Oe=Ge:Pe.sibling=Ge,Pe=Ge);return dt&&as(re,$e),Oe}for(Ee=x(re,Ee);!Ge.done;$e++,Ge=ae.next())Ge=ve(Ee,re,$e,Ge.value,ge),Ge!==null&&(o&&Ge.alternate!==null&&Ee.delete(Ge.key===null?$e:Ge.key),Z=E(Ge,Z,$e),Pe===null?Oe=Ge:Pe.sibling=Ge,Pe=Ge);return o&&Ee.forEach(function(NR){return c(re,NR)}),dt&&as(re,$e),Oe}function jt(re,Z,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===P&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var Oe=ae.key,Pe=Z;Pe!==null;){if(Pe.key===Oe){if(Oe=ae.type,Oe===P){if(Pe.tag===7){h(re,Pe.sibling),Z=N(Pe,ae.props.children),Z.return=re,re=Z;break e}}else if(Pe.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===B&&w1(Oe)===Pe.type){h(re,Pe.sibling),Z=N(Pe,ae.props),Z.ref=fl(re,Pe,ae),Z.return=re,re=Z;break e}h(re,Pe);break}else c(re,Pe);Pe=Pe.sibling}ae.type===P?(Z=fs(ae.props.children,re.mode,ge,ae.key),Z.return=re,re=Z):(ge=td(ae.type,ae.key,ae.props,null,re.mode,ge),ge.ref=fl(re,Z,ae),ge.return=re,re=ge)}return D(re);case C:e:{for(Pe=ae.key;Z!==null;){if(Z.key===Pe)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){h(re,Z.sibling),Z=N(Z,ae.children||[]),Z.return=re,re=Z;break e}else{h(re,Z);break}else c(re,Z);Z=Z.sibling}Z=bp(ae,re.mode,ge),Z.return=re,re=Z}return D(re);case B:return Pe=ae._init,jt(re,Z,Pe(ae._payload),ge)}if(mn(ae))return Se(re,Z,ae,ge);if(X(ae))return ke(re,Z,ae,ge);_u(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Z!==null&&Z.tag===6?(h(re,Z.sibling),Z=N(Z,ae),Z.return=re,re=Z):(h(re,Z),Z=vp(ae,re.mode,ge),Z.return=re,re=Z),D(re)):h(re,Z)}return jt}var gi=N1(!0),S1=N1(!1),Tu=ya(null),Ru=null,xi=null,Pm=null;function Em(){Pm=xi=Ru=null}function _m(o){var c=Tu.current;ct(Tu),o._currentValue=c}function Tm(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function yi(o,c){Ru=o,Pm=xi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(dr=!0),o.firstContext=null)}function Mr(o){var c=o._currentValue;if(Pm!==o)if(o={context:o,memoizedValue:c,next:null},xi===null){if(Ru===null)throw Error(r(308));xi=o,Ru.dependencies={lanes:0,firstContext:o}}else xi=xi.next=o;return c}var ss=null;function Rm(o){ss===null?ss=[o]:ss.push(o)}function k1(o,c,h,x){var N=c.interleaved;return N===null?(h.next=h,Rm(c)):(h.next=N.next,N.next=h),c.interleaved=h,Dn(o,x)}function Dn(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ja=!1;function Mm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ln(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function wa(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(He&2)!==0){var N=x.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),x.pending=c,Dn(o,h)}return N=x.interleaved,N===null?(c.next=c,Rm(x)):(c.next=N.next,N.next=c),x.interleaved=c,Dn(o,h)}function Mu(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,Vh(o,h)}}function C1(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var N=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?N=E=D:E=E.next=D,h=h.next}while(h!==null);E===null?N=E=c:E=E.next=c}else N=E=c;h={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:E,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function Iu(o,c,h,x){var N=o.updateQueue;ja=!1;var E=N.firstBaseUpdate,D=N.lastBaseUpdate,H=N.shared.pending;if(H!==null){N.shared.pending=null;var J=H,se=J.next;J.next=null,D===null?E=se:D.next=se,D=J;var he=o.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==D&&(H===null?he.firstBaseUpdate=se:H.next=se,he.lastBaseUpdate=J))}if(E!==null){var me=N.baseState;D=0,he=se=J=null,H=E;do{var fe=H.lane,ve=H.eventTime;if((x&fe)===fe){he!==null&&(he=he.next={eventTime:ve,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Se=o,ke=H;switch(fe=c,ve=h,ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){me=Se.call(ve,me,fe);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,fe=typeof Se=="function"?Se.call(ve,me,fe):Se,fe==null)break e;me=z({},me,fe);break e;case 2:ja=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,fe=N.effects,fe===null?N.effects=[H]:fe.push(H))}else ve={eventTime:ve,lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(se=he=ve,J=me):he=he.next=ve,D|=fe;if(H=H.next,H===null){if(H=N.shared.pending,H===null)break;fe=H,H=fe.next,fe.next=null,N.lastBaseUpdate=fe,N.shared.pending=null}}while(!0);if(he===null&&(J=me),N.baseState=J,N.firstBaseUpdate=se,N.lastBaseUpdate=he,c=N.shared.interleaved,c!==null){N=c;do D|=N.lane,N=N.next;while(N!==c)}else E===null&&(N.shared.lanes=0);ls|=D,o.lanes=D,o.memoizedState=me}}function A1(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],N=x.callback;if(N!==null){if(x.callback=null,x=h,typeof N!="function")throw Error(r(191,N));N.call(x)}}}var hl={},xn=ya(hl),ml=ya(hl),pl=ya(hl);function is(o){if(o===hl)throw Error(r(174));return o}function Im(o,c){switch(at(pl,c),at(ml,o),at(xn,hl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:$h(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=$h(c,o)}ct(xn),at(xn,c)}function vi(){ct(xn),ct(ml),ct(pl)}function P1(o){is(pl.current);var c=is(xn.current),h=$h(c,o.type);c!==h&&(at(ml,o),at(xn,h))}function $m(o){ml.current===o&&(ct(xn),ct(ml))}var ht=ya(0);function $u(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Dm=[];function Lm(){for(var o=0;o<Dm.length;o++)Dm[o]._workInProgressVersionPrimary=null;Dm.length=0}var Du=O.ReactCurrentDispatcher,Fm=O.ReactCurrentBatchConfig,os=0,mt=null,Ot=null,$t=null,Lu=!1,gl=!1,xl=0,K6=0;function Vt(){throw Error(r(321))}function Bm(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Xr(o[h],c[h]))return!1;return!0}function qm(o,c,h,x,N,E){if(os=E,mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Du.current=o===null||o.memoizedState===null?Q6:Y6,o=h(x,N),gl){E=0;do{if(gl=!1,xl=0,25<=E)throw Error(r(301));E+=1,$t=Ot=null,c.updateQueue=null,Du.current=X6,o=h(x,N)}while(gl)}if(Du.current=qu,c=Ot!==null&&Ot.next!==null,os=0,$t=Ot=mt=null,Lu=!1,c)throw Error(r(300));return o}function zm(){var o=xl!==0;return xl=0,o}function yn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?mt.memoizedState=$t=o:$t=$t.next=o,$t}function Ir(){if(Ot===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Ot.next;var c=$t===null?mt.memoizedState:$t.next;if(c!==null)$t=c,Ot=o;else{if(o===null)throw Error(r(310));Ot=o,o={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?mt.memoizedState=$t=o:$t=$t.next=o}return $t}function yl(o,c){return typeof c=="function"?c(o):c}function Um(o){var c=Ir(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var x=Ot,N=x.baseQueue,E=h.pending;if(E!==null){if(N!==null){var D=N.next;N.next=E.next,E.next=D}x.baseQueue=N=E,h.pending=null}if(N!==null){E=N.next,x=x.baseState;var H=D=null,J=null,se=E;do{var he=se.lane;if((os&he)===he)J!==null&&(J=J.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),x=se.hasEagerState?se.eagerState:o(x,se.action);else{var me={lane:he,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};J===null?(H=J=me,D=x):J=J.next=me,mt.lanes|=he,ls|=he}se=se.next}while(se!==null&&se!==E);J===null?D=x:J.next=H,Xr(x,c.memoizedState)||(dr=!0),c.memoizedState=x,c.baseState=D,c.baseQueue=J,h.lastRenderedState=x}if(o=h.interleaved,o!==null){N=o;do E=N.lane,mt.lanes|=E,ls|=E,N=N.next;while(N!==o)}else N===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Wm(o){var c=Ir(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var x=h.dispatch,N=h.pending,E=c.memoizedState;if(N!==null){h.pending=null;var D=N=N.next;do E=o(E,D.action),D=D.next;while(D!==N);Xr(E,c.memoizedState)||(dr=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,x]}function E1(){}function _1(o,c){var h=mt,x=Ir(),N=c(),E=!Xr(x.memoizedState,N);if(E&&(x.memoizedState=N,dr=!0),x=x.queue,Km(M1.bind(null,h,x,o),[o]),x.getSnapshot!==c||E||$t!==null&&$t.memoizedState.tag&1){if(h.flags|=2048,vl(9,R1.bind(null,h,x,N,c),void 0,null),Dt===null)throw Error(r(349));(os&30)!==0||T1(h,c,N)}return N}function T1(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=mt.updateQueue,c===null?(c={lastEffect:null,stores:null},mt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function R1(o,c,h,x){c.value=h,c.getSnapshot=x,I1(c)&&$1(o)}function M1(o,c,h){return h(function(){I1(c)&&$1(o)})}function I1(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Xr(o,h)}catch{return!0}}function $1(o){var c=Dn(o,1);c!==null&&rn(c,o,1,-1)}function D1(o){var c=yn();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:o},c.queue=o,o=o.dispatch=V6.bind(null,mt,o),[c.memoizedState,o]}function vl(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=mt.updateQueue,c===null?(c={lastEffect:null,stores:null},mt.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function L1(){return Ir().memoizedState}function Fu(o,c,h,x){var N=yn();mt.flags|=o,N.memoizedState=vl(1|c,h,void 0,x===void 0?null:x)}function Bu(o,c,h,x){var N=Ir();x=x===void 0?null:x;var E=void 0;if(Ot!==null){var D=Ot.memoizedState;if(E=D.destroy,x!==null&&Bm(x,D.deps)){N.memoizedState=vl(c,h,E,x);return}}mt.flags|=o,N.memoizedState=vl(1|c,h,E,x)}function F1(o,c){return Fu(8390656,8,o,c)}function Km(o,c){return Bu(2048,8,o,c)}function B1(o,c){return Bu(4,2,o,c)}function q1(o,c){return Bu(4,4,o,c)}function z1(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function U1(o,c,h){return h=h!=null?h.concat([o]):null,Bu(4,4,z1.bind(null,c,o),h)}function Hm(){}function W1(o,c){var h=Ir();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&Bm(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function K1(o,c){var h=Ir();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&Bm(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function H1(o,c,h){return(os&21)===0?(o.baseState&&(o.baseState=!1,dr=!0),o.memoizedState=h):(Xr(h,c)||(h=ww(),mt.lanes|=h,ls|=h,o.baseState=!0),c)}function H6(o,c){var h=et;et=h!==0&&4>h?h:4,o(!0);var x=Fm.transition;Fm.transition={};try{o(!1),c()}finally{et=h,Fm.transition=x}}function G1(){return Ir().memoizedState}function G6(o,c,h){var x=Oa(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},V1(o))Q1(c,h);else if(h=k1(o,c,h,x),h!==null){var N=rr();rn(h,o,x,N),Y1(h,c,x)}}function V6(o,c,h){var x=Oa(o),N={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(V1(o))Q1(c,N);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var D=c.lastRenderedState,H=E(D,h);if(N.hasEagerState=!0,N.eagerState=H,Xr(H,D)){var J=c.interleaved;J===null?(N.next=N,Rm(c)):(N.next=J.next,J.next=N),c.interleaved=N;return}}catch{}finally{}h=k1(o,c,N,x),h!==null&&(N=rr(),rn(h,o,x,N),Y1(h,c,x))}}function V1(o){var c=o.alternate;return o===mt||c!==null&&c===mt}function Q1(o,c){gl=Lu=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function Y1(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,Vh(o,h)}}var qu={readContext:Mr,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Q6={readContext:Mr,useCallback:function(o,c){return yn().memoizedState=[o,c===void 0?null:c],o},useContext:Mr,useEffect:F1,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,Fu(4194308,4,z1.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Fu(4194308,4,o,c)},useInsertionEffect:function(o,c){return Fu(4,2,o,c)},useMemo:function(o,c){var h=yn();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=yn();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=G6.bind(null,mt,o),[x.memoizedState,o]},useRef:function(o){var c=yn();return o={current:o},c.memoizedState=o},useState:D1,useDebugValue:Hm,useDeferredValue:function(o){return yn().memoizedState=o},useTransition:function(){var o=D1(!1),c=o[0];return o=H6.bind(null,o[1]),yn().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=mt,N=yn();if(dt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Dt===null)throw Error(r(349));(os&30)!==0||T1(x,c,h)}N.memoizedState=h;var E={value:h,getSnapshot:c};return N.queue=E,F1(M1.bind(null,x,E,o),[o]),x.flags|=2048,vl(9,R1.bind(null,x,E,h,c),void 0,null),h},useId:function(){var o=yn(),c=Dt.identifierPrefix;if(dt){var h=$n,x=In;h=(x&~(1<<32-Yr(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=xl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=K6++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},Y6={readContext:Mr,useCallback:W1,useContext:Mr,useEffect:Km,useImperativeHandle:U1,useInsertionEffect:B1,useLayoutEffect:q1,useMemo:K1,useReducer:Um,useRef:L1,useState:function(){return Um(yl)},useDebugValue:Hm,useDeferredValue:function(o){var c=Ir();return H1(c,Ot.memoizedState,o)},useTransition:function(){var o=Um(yl)[0],c=Ir().memoizedState;return[o,c]},useMutableSource:E1,useSyncExternalStore:_1,useId:G1,unstable_isNewReconciler:!1},X6={readContext:Mr,useCallback:W1,useContext:Mr,useEffect:Km,useImperativeHandle:U1,useInsertionEffect:B1,useLayoutEffect:q1,useMemo:K1,useReducer:Wm,useRef:L1,useState:function(){return Wm(yl)},useDebugValue:Hm,useDeferredValue:function(o){var c=Ir();return Ot===null?c.memoizedState=o:H1(c,Ot.memoizedState,o)},useTransition:function(){var o=Wm(yl)[0],c=Ir().memoizedState;return[o,c]},useMutableSource:E1,useSyncExternalStore:_1,useId:G1,unstable_isNewReconciler:!1};function Zr(o,c){if(o&&o.defaultProps){c=z({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Gm(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:z({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var zu={isMounted:function(o){return(o=o._reactInternals)?es(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=rr(),N=Oa(o),E=Ln(x,N);E.payload=c,h!=null&&(E.callback=h),c=wa(o,E,N),c!==null&&(rn(c,o,N,x),Mu(c,o,N))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=rr(),N=Oa(o),E=Ln(x,N);E.tag=1,E.payload=c,h!=null&&(E.callback=h),c=wa(o,E,N),c!==null&&(rn(c,o,N,x),Mu(c,o,N))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=rr(),x=Oa(o),N=Ln(h,x);N.tag=2,c!=null&&(N.callback=c),c=wa(o,N,x),c!==null&&(rn(c,o,x,h),Mu(c,o,x))}};function X1(o,c,h,x,N,E,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,E,D):c.prototype&&c.prototype.isPureReactComponent?!sl(h,x)||!sl(N,E):!0}function J1(o,c,h){var x=!1,N=va,E=c.contextType;return typeof E=="object"&&E!==null?E=Mr(E):(N=ur(c)?rs:Gt.current,x=c.contextTypes,E=(x=x!=null)?fi(o,N):va),c=new c(h,E),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=zu,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=N,o.__reactInternalMemoizedMaskedChildContext=E),c}function Z1(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&zu.enqueueReplaceState(c,c.state,null)}function Vm(o,c,h,x){var N=o.stateNode;N.props=h,N.state=o.memoizedState,N.refs={},Mm(o);var E=c.contextType;typeof E=="object"&&E!==null?N.context=Mr(E):(E=ur(c)?rs:Gt.current,N.context=fi(o,E)),N.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Gm(o,c,E,h),N.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(c=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),c!==N.state&&zu.enqueueReplaceState(N,N.state,null),Iu(o,h,N,x),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308)}function bi(o,c){try{var h="",x=c;do h+=de(x),x=x.return;while(x);var N=h}catch(E){N=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:c,stack:N,digest:null}}function Qm(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Ym(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var J6=typeof WeakMap=="function"?WeakMap:Map;function eN(o,c,h){h=Ln(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){Qu||(Qu=!0,dp=x),Ym(o,c)},h}function tN(o,c,h){h=Ln(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var N=c.value;h.payload=function(){return x(N)},h.callback=function(){Ym(o,c)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Ym(o,c),typeof x!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),h}function rN(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new J6;var N=new Set;x.set(c,N)}else N=x.get(c),N===void 0&&(N=new Set,x.set(c,N));N.has(h)||(N.add(h),o=fR.bind(null,o,c,h),c.then(o,o))}function nN(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function aN(o,c,h,x,N){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ln(-1,1),c.tag=2,wa(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=N,o)}var Z6=O.ReactCurrentOwner,dr=!1;function tr(o,c,h,x){c.child=o===null?S1(c,null,h,x):gi(c,o.child,h,x)}function sN(o,c,h,x,N){h=h.render;var E=c.ref;return yi(c,N),x=qm(o,c,h,x,E,N),h=zm(),o!==null&&!dr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,Fn(o,c,N)):(dt&&h&&Sm(c),c.flags|=1,tr(o,c,x,N),c.child)}function iN(o,c,h,x,N){if(o===null){var E=h.type;return typeof E=="function"&&!yp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=E,oN(o,c,E,x,N)):(o=td(h.type,null,x,c,c.mode,N),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,(o.lanes&N)===0){var D=E.memoizedProps;if(h=h.compare,h=h!==null?h:sl,h(D,x)&&o.ref===c.ref)return Fn(o,c,N)}return c.flags|=1,o=Aa(E,x),o.ref=c.ref,o.return=c,c.child=o}function oN(o,c,h,x,N){if(o!==null){var E=o.memoizedProps;if(sl(E,x)&&o.ref===c.ref)if(dr=!1,c.pendingProps=x=E,(o.lanes&N)!==0)(o.flags&131072)!==0&&(dr=!0);else return c.lanes=o.lanes,Fn(o,c,N)}return Xm(o,c,h,x,N)}function lN(o,c,h){var x=c.pendingProps,N=x.children,E=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(wi,Sr),Sr|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,at(wi,Sr),Sr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:h,at(wi,Sr),Sr|=x}else E!==null?(x=E.baseLanes|h,c.memoizedState=null):x=h,at(wi,Sr),Sr|=x;return tr(o,c,N,h),c.child}function cN(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Xm(o,c,h,x,N){var E=ur(h)?rs:Gt.current;return E=fi(c,E),yi(c,N),h=qm(o,c,h,x,E,N),x=zm(),o!==null&&!dr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,Fn(o,c,N)):(dt&&x&&Sm(c),c.flags|=1,tr(o,c,h,N),c.child)}function uN(o,c,h,x,N){if(ur(h)){var E=!0;Ou(c)}else E=!1;if(yi(c,N),c.stateNode===null)Wu(o,c),J1(c,h,x),Vm(c,h,x,N),x=!0;else if(o===null){var D=c.stateNode,H=c.memoizedProps;D.props=H;var J=D.context,se=h.contextType;typeof se=="object"&&se!==null?se=Mr(se):(se=ur(h)?rs:Gt.current,se=fi(c,se));var he=h.getDerivedStateFromProps,me=typeof he=="function"||typeof D.getSnapshotBeforeUpdate=="function";me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==x||J!==se)&&Z1(c,D,x,se),ja=!1;var fe=c.memoizedState;D.state=fe,Iu(c,x,D,N),J=c.memoizedState,H!==x||fe!==J||cr.current||ja?(typeof he=="function"&&(Gm(c,h,he,x),J=c.memoizedState),(H=ja||X1(c,h,H,x,fe,J,se))?(me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=J),D.props=x,D.state=J,D.context=se,x=H):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{D=c.stateNode,O1(o,c),H=c.memoizedProps,se=c.type===c.elementType?H:Zr(c.type,H),D.props=se,me=c.pendingProps,fe=D.context,J=h.contextType,typeof J=="object"&&J!==null?J=Mr(J):(J=ur(h)?rs:Gt.current,J=fi(c,J));var ve=h.getDerivedStateFromProps;(he=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==me||fe!==J)&&Z1(c,D,x,J),ja=!1,fe=c.memoizedState,D.state=fe,Iu(c,x,D,N);var Se=c.memoizedState;H!==me||fe!==Se||cr.current||ja?(typeof ve=="function"&&(Gm(c,h,ve,x),Se=c.memoizedState),(se=ja||X1(c,h,se,x,fe,Se,J)||!1)?(he||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,Se,J),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,Se,J)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===o.memoizedProps&&fe===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Se),D.props=x,D.state=Se,D.context=J,x=se):(typeof D.componentDidUpdate!="function"||H===o.memoizedProps&&fe===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&fe===o.memoizedState||(c.flags|=1024),x=!1)}return Jm(o,c,h,x,E,N)}function Jm(o,c,h,x,N,E){cN(o,c);var D=(c.flags&128)!==0;if(!x&&!D)return N&&p1(c,h,!1),Fn(o,c,E);x=c.stateNode,Z6.current=c;var H=D&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&D?(c.child=gi(c,o.child,null,E),c.child=gi(c,null,H,E)):tr(o,c,H,E),c.memoizedState=x.state,N&&p1(c,h,!0),c.child}function dN(o){var c=o.stateNode;c.pendingContext?h1(o,c.pendingContext,c.pendingContext!==c.context):c.context&&h1(o,c.context,!1),Im(o,c.containerInfo)}function fN(o,c,h,x,N){return pi(),Am(N),c.flags|=256,tr(o,c,h,x),c.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function ep(o){return{baseLanes:o,cachePool:null,transitions:null}}function hN(o,c,h){var x=c.pendingProps,N=ht.current,E=!1,D=(c.flags&128)!==0,H;if((H=D)||(H=o!==null&&o.memoizedState===null?!1:(N&2)!==0),H?(E=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(N|=1),at(ht,N&1),o===null)return Cm(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=x.children,o=x.fallback,E?(x=c.mode,E=c.child,D={mode:"hidden",children:D},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=rd(D,x,0,null),o=fs(o,x,h,null),E.return=c,o.return=c,E.sibling=o,c.child=E,c.child.memoizedState=ep(h),c.memoizedState=Zm,o):tp(c,D));if(N=o.memoizedState,N!==null&&(H=N.dehydrated,H!==null))return eR(o,c,D,x,H,N,h);if(E){E=x.fallback,D=c.mode,N=o.child,H=N.sibling;var J={mode:"hidden",children:x.children};return(D&1)===0&&c.child!==N?(x=c.child,x.childLanes=0,x.pendingProps=J,c.deletions=null):(x=Aa(N,J),x.subtreeFlags=N.subtreeFlags&14680064),H!==null?E=Aa(H,E):(E=fs(E,D,h,null),E.flags|=2),E.return=c,x.return=c,x.sibling=E,c.child=x,x=E,E=c.child,D=o.child.memoizedState,D=D===null?ep(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=o.childLanes&~h,c.memoizedState=Zm,x}return E=o.child,o=E.sibling,x=Aa(E,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function tp(o,c){return c=rd({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Uu(o,c,h,x){return x!==null&&Am(x),gi(c,o.child,null,h),o=tp(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function eR(o,c,h,x,N,E,D){if(h)return c.flags&256?(c.flags&=-257,x=Qm(Error(r(422))),Uu(o,c,D,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(E=x.fallback,N=c.mode,x=rd({mode:"visible",children:x.children},N,0,null),E=fs(E,N,D,null),E.flags|=2,x.return=c,E.return=c,x.sibling=E,c.child=x,(c.mode&1)!==0&&gi(c,o.child,null,D),c.child.memoizedState=ep(D),c.memoizedState=Zm,E);if((c.mode&1)===0)return Uu(o,c,D,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var H=x.dgst;return x=H,E=Error(r(419)),x=Qm(E,x,void 0),Uu(o,c,D,x)}if(H=(D&o.childLanes)!==0,dr||H){if(x=Dt,x!==null){switch(D&-D){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|D))!==0?0:N,N!==0&&N!==E.retryLane&&(E.retryLane=N,Dn(o,N),rn(x,o,N,-1))}return xp(),x=Qm(Error(r(421))),Uu(o,c,D,x)}return N.data==="$?"?(c.flags|=128,c.child=o.child,c=hR.bind(null,o),N._reactRetry=c,null):(o=E.treeContext,Nr=xa(N.nextSibling),wr=c,dt=!0,Jr=null,o!==null&&(Tr[Rr++]=In,Tr[Rr++]=$n,Tr[Rr++]=ns,In=o.id,$n=o.overflow,ns=c),c=tp(c,x.children),c.flags|=4096,c)}function mN(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Tm(o.return,c,h)}function rp(o,c,h,x,N){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:N}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=h,E.tailMode=N)}function pN(o,c,h){var x=c.pendingProps,N=x.revealOrder,E=x.tail;if(tr(o,c,x.children,h),x=ht.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mN(o,h,c);else if(o.tag===19)mN(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(at(ht,x),(c.mode&1)===0)c.memoizedState=null;else switch(N){case"forwards":for(h=c.child,N=null;h!==null;)o=h.alternate,o!==null&&$u(o)===null&&(N=h),h=h.sibling;h=N,h===null?(N=c.child,c.child=null):(N=h.sibling,h.sibling=null),rp(c,!1,N,h,E);break;case"backwards":for(h=null,N=c.child,c.child=null;N!==null;){if(o=N.alternate,o!==null&&$u(o)===null){c.child=N;break}o=N.sibling,N.sibling=h,h=N,N=o}rp(c,!0,h,null,E);break;case"together":rp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Wu(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Fn(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ls|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=Aa(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Aa(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function tR(o,c,h){switch(c.tag){case 3:dN(c),pi();break;case 5:P1(c);break;case 1:ur(c.type)&&Ou(c);break;case 4:Im(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,N=c.memoizedProps.value;at(Tu,x._currentValue),x._currentValue=N;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(at(ht,ht.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?hN(o,c,h):(at(ht,ht.current&1),o=Fn(o,c,h),o!==null?o.sibling:null);at(ht,ht.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return pN(o,c,h);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),at(ht,ht.current),x)break;return null;case 22:case 23:return c.lanes=0,lN(o,c,h)}return Fn(o,c,h)}var gN,np,xN,yN;gN=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},np=function(){},xN=function(o,c,h,x){var N=o.memoizedProps;if(N!==x){o=c.stateNode,is(xn.current);var E=null;switch(h){case"input":N=je(o,N),x=je(o,x),E=[];break;case"select":N=z({},N,{value:void 0}),x=z({},x,{value:void 0}),E=[];break;case"textarea":N=Qr(o,N),x=Qr(o,x),E=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Nu)}Dh(h,x);var D;h=null;for(se in N)if(!x.hasOwnProperty(se)&&N.hasOwnProperty(se)&&N[se]!=null)if(se==="style"){var H=N[se];for(D in H)H.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(s.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in x){var J=x[se];if(H=N!=null?N[se]:void 0,x.hasOwnProperty(se)&&J!==H&&(J!=null||H!=null))if(se==="style")if(H){for(D in H)!H.hasOwnProperty(D)||J&&J.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in J)J.hasOwnProperty(D)&&H[D]!==J[D]&&(h||(h={}),h[D]=J[D])}else h||(E||(E=[]),E.push(se,h)),h=J;else se==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,H=H?H.__html:void 0,J!=null&&H!==J&&(E=E||[]).push(se,J)):se==="children"?typeof J!="string"&&typeof J!="number"||(E=E||[]).push(se,""+J):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(s.hasOwnProperty(se)?(J!=null&&se==="onScroll"&&lt("scroll",o),E||H===J||(E=[])):(E=E||[]).push(se,J))}h&&(E=E||[]).push("style",h);var se=E;(c.updateQueue=se)&&(c.flags|=4)}},yN=function(o,c,h,x){h!==x&&(c.flags|=4)};function bl(o,c){if(!dt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Qt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var N=o.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function rR(o,c,h){var x=c.pendingProps;switch(km(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(c),null;case 1:return ur(c.type)&&ku(),Qt(c),null;case 3:return x=c.stateNode,vi(),ct(cr),ct(Gt),Lm(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Eu(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Jr!==null&&(mp(Jr),Jr=null))),np(o,c),Qt(c),null;case 5:$m(c);var N=is(pl.current);if(h=c.type,o!==null&&c.stateNode!=null)xN(o,c,h,x,N),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Qt(c),null}if(o=is(xn.current),Eu(c)){x=c.stateNode,h=c.type;var E=c.memoizedProps;switch(x[gn]=c,x[ul]=E,o=(c.mode&1)!==0,h){case"dialog":lt("cancel",x),lt("close",x);break;case"iframe":case"object":case"embed":lt("load",x);break;case"video":case"audio":for(N=0;N<ol.length;N++)lt(ol[N],x);break;case"source":lt("error",x);break;case"img":case"image":case"link":lt("error",x),lt("load",x);break;case"details":lt("toggle",x);break;case"input":tt(x,E),lt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},lt("invalid",x);break;case"textarea":ei(x,E),lt("invalid",x)}Dh(h,E),N=null;for(var D in E)if(E.hasOwnProperty(D)){var H=E[D];D==="children"?typeof H=="string"?x.textContent!==H&&(E.suppressHydrationWarning!==!0&&wu(x.textContent,H,o),N=["children",H]):typeof H=="number"&&x.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&wu(x.textContent,H,o),N=["children",""+H]):s.hasOwnProperty(D)&&H!=null&&D==="onScroll"&&lt("scroll",x)}switch(h){case"input":Me(x),Vr(x,E,!0);break;case"textarea":Me(x),qo(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=Nu)}x=N,c.updateQueue=x,x!==null&&(c.flags|=4)}else{D=N.nodeType===9?N:N.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=aw(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=D.createElement(h,{is:x.is}):(o=D.createElement(h),h==="select"&&(D=o,x.multiple?D.multiple=!0:x.size&&(D.size=x.size))):o=D.createElementNS(o,h),o[gn]=c,o[ul]=x,gN(o,c,!1,!1),c.stateNode=o;e:{switch(D=Lh(h,x),h){case"dialog":lt("cancel",o),lt("close",o),N=x;break;case"iframe":case"object":case"embed":lt("load",o),N=x;break;case"video":case"audio":for(N=0;N<ol.length;N++)lt(ol[N],o);N=x;break;case"source":lt("error",o),N=x;break;case"img":case"image":case"link":lt("error",o),lt("load",o),N=x;break;case"details":lt("toggle",o),N=x;break;case"input":tt(o,x),N=je(o,x),lt("invalid",o);break;case"option":N=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},N=z({},x,{value:void 0}),lt("invalid",o);break;case"textarea":ei(o,x),N=Qr(o,x),lt("invalid",o);break;default:N=x}Dh(h,N),H=N;for(E in H)if(H.hasOwnProperty(E)){var J=H[E];E==="style"?ow(o,J):E==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&sw(o,J)):E==="children"?typeof J=="string"?(h!=="textarea"||J!=="")&&zo(o,J):typeof J=="number"&&zo(o,""+J):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?J!=null&&E==="onScroll"&&lt("scroll",o):J!=null&&_(o,E,J,D))}switch(h){case"input":Me(o),Vr(o,x,!1);break;case"textarea":Me(o),qo(o);break;case"option":x.value!=null&&o.setAttribute("value",""+pe(x.value));break;case"select":o.multiple=!!x.multiple,E=x.value,E!=null?lr(o,!!x.multiple,E,!1):x.defaultValue!=null&&lr(o,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(o.onclick=Nu)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Qt(c),null;case 6:if(o&&c.stateNode!=null)yN(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(h=is(pl.current),is(xn.current),Eu(c)){if(x=c.stateNode,h=c.memoizedProps,x[gn]=c,(E=x.nodeValue!==h)&&(o=wr,o!==null))switch(o.tag){case 3:wu(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wu(x.nodeValue,h,(o.mode&1)!==0)}E&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[gn]=c,c.stateNode=x}return Qt(c),null;case 13:if(ct(ht),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(dt&&Nr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)j1(),pi(),c.flags|=98560,E=!1;else if(E=Eu(c),x!==null&&x.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[gn]=c}else pi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Qt(c),E=!1}else Jr!==null&&(mp(Jr),Jr=null),E=!0;if(!E)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(ht.current&1)!==0?Ct===0&&(Ct=3):xp())),c.updateQueue!==null&&(c.flags|=4),Qt(c),null);case 4:return vi(),np(o,c),o===null&&ll(c.stateNode.containerInfo),Qt(c),null;case 10:return _m(c.type._context),Qt(c),null;case 17:return ur(c.type)&&ku(),Qt(c),null;case 19:if(ct(ht),E=c.memoizedState,E===null)return Qt(c),null;if(x=(c.flags&128)!==0,D=E.rendering,D===null)if(x)bl(E,!1);else{if(Ct!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=$u(o),D!==null){for(c.flags|=128,bl(E,!1),x=D.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)E=h,o=x,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,o=D.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return at(ht,ht.current&1|2),c.child}o=o.sibling}E.tail!==null&&bt()>Ni&&(c.flags|=128,x=!0,bl(E,!1),c.lanes=4194304)}else{if(!x)if(o=$u(D),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),bl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!dt)return Qt(c),null}else 2*bt()-E.renderingStartTime>Ni&&h!==1073741824&&(c.flags|=128,x=!0,bl(E,!1),c.lanes=4194304);E.isBackwards?(D.sibling=c.child,c.child=D):(h=E.last,h!==null?h.sibling=D:c.child=D,E.last=D)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=bt(),c.sibling=null,h=ht.current,at(ht,x?h&1|2:h&1),c):(Qt(c),null);case 22:case 23:return gp(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Sr&1073741824)!==0&&(Qt(c),c.subtreeFlags&6&&(c.flags|=8192)):Qt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function nR(o,c){switch(km(c),c.tag){case 1:return ur(c.type)&&ku(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return vi(),ct(cr),ct(Gt),Lm(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return $m(c),null;case 13:if(ct(ht),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));pi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ct(ht),null;case 4:return vi(),null;case 10:return _m(c.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var Ku=!1,Yt=!1,aR=typeof WeakSet=="function"?WeakSet:Set,we=null;function ji(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){gt(o,c,x)}else h.current=null}function ap(o,c,h){try{h()}catch(x){gt(o,c,x)}}var vN=!1;function sR(o,c){if(gm=du,o=Xw(),lm(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var N=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var D=0,H=-1,J=-1,se=0,he=0,me=o,fe=null;t:for(;;){for(var ve;me!==h||N!==0&&me.nodeType!==3||(H=D+N),me!==E||x!==0&&me.nodeType!==3||(J=D+x),me.nodeType===3&&(D+=me.nodeValue.length),(ve=me.firstChild)!==null;)fe=me,me=ve;for(;;){if(me===o)break t;if(fe===h&&++se===N&&(H=D),fe===E&&++he===x&&(J=D),(ve=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=ve}h=H===-1||J===-1?null:{start:H,end:J}}else h=null}h=h||{start:0,end:0}}else h=null;for(xm={focusedElem:o,selectionRange:h},du=!1,we=c;we!==null;)if(c=we,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,we=o;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var ke=Se.memoizedProps,jt=Se.memoizedState,re=c.stateNode,Z=re.getSnapshotBeforeUpdate(c.elementType===c.type?ke:Zr(c.type,ke),jt);re.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){gt(c,c.return,ge)}if(o=c.sibling,o!==null){o.return=c.return,we=o;break}we=c.return}return Se=vN,vN=!1,Se}function jl(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&o)===o){var E=N.destroy;N.destroy=void 0,E!==void 0&&ap(c,h,E)}N=N.next}while(N!==x)}}function Hu(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function sp(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function bN(o){var c=o.alternate;c!==null&&(o.alternate=null,bN(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[gn],delete c[ul],delete c[jm],delete c[q6],delete c[z6])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function jN(o){return o.tag===5||o.tag===3||o.tag===4}function wN(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ip(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Nu));else if(x!==4&&(o=o.child,o!==null))for(ip(o,c,h),o=o.sibling;o!==null;)ip(o,c,h),o=o.sibling}function op(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(op(o,c,h),o=o.sibling;o!==null;)op(o,c,h),o=o.sibling}var Wt=null,en=!1;function Na(o,c,h){for(h=h.child;h!==null;)NN(o,c,h),h=h.sibling}function NN(o,c,h){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(su,h)}catch{}switch(h.tag){case 5:Yt||ji(h,c);case 6:var x=Wt,N=en;Wt=null,Na(o,c,h),Wt=x,en=N,Wt!==null&&(en?(o=Wt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Wt.removeChild(h.stateNode));break;case 18:Wt!==null&&(en?(o=Wt,h=h.stateNode,o.nodeType===8?bm(o.parentNode,h):o.nodeType===1&&bm(o,h),Zo(o)):bm(Wt,h.stateNode));break;case 4:x=Wt,N=en,Wt=h.stateNode.containerInfo,en=!0,Na(o,c,h),Wt=x,en=N;break;case 0:case 11:case 14:case 15:if(!Yt&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var E=N,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&ap(h,c,D),N=N.next}while(N!==x)}Na(o,c,h);break;case 1:if(!Yt&&(ji(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(H){gt(h,c,H)}Na(o,c,h);break;case 21:Na(o,c,h);break;case 22:h.mode&1?(Yt=(x=Yt)||h.memoizedState!==null,Na(o,c,h),Yt=x):Na(o,c,h);break;default:Na(o,c,h)}}function SN(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new aR),c.forEach(function(x){var N=mR.bind(null,o,x);h.has(x)||(h.add(x),x.then(N,N))})}}function tn(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var N=h[x];try{var E=o,D=c,H=D;e:for(;H!==null;){switch(H.tag){case 5:Wt=H.stateNode,en=!1;break e;case 3:Wt=H.stateNode.containerInfo,en=!0;break e;case 4:Wt=H.stateNode.containerInfo,en=!0;break e}H=H.return}if(Wt===null)throw Error(r(160));NN(E,D,N),Wt=null,en=!1;var J=N.alternate;J!==null&&(J.return=null),N.return=null}catch(se){gt(N,c,se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)kN(c,o),c=c.sibling}function kN(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(tn(c,o),vn(o),x&4){try{jl(3,o,o.return),Hu(3,o)}catch(ke){gt(o,o.return,ke)}try{jl(5,o,o.return)}catch(ke){gt(o,o.return,ke)}}break;case 1:tn(c,o),vn(o),x&512&&h!==null&&ji(h,h.return);break;case 5:if(tn(c,o),vn(o),x&512&&h!==null&&ji(h,h.return),o.flags&32){var N=o.stateNode;try{zo(N,"")}catch(ke){gt(o,o.return,ke)}}if(x&4&&(N=o.stateNode,N!=null)){var E=o.memoizedProps,D=h!==null?h.memoizedProps:E,H=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&pt(N,E),Lh(H,D);var se=Lh(H,E);for(D=0;D<J.length;D+=2){var he=J[D],me=J[D+1];he==="style"?ow(N,me):he==="dangerouslySetInnerHTML"?sw(N,me):he==="children"?zo(N,me):_(N,he,me,se)}switch(H){case"input":It(N,E);break;case"textarea":Bo(N,E);break;case"select":var fe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!E.multiple;var ve=E.value;ve!=null?lr(N,!!E.multiple,ve,!1):fe!==!!E.multiple&&(E.defaultValue!=null?lr(N,!!E.multiple,E.defaultValue,!0):lr(N,!!E.multiple,E.multiple?[]:"",!1))}N[ul]=E}catch(ke){gt(o,o.return,ke)}}break;case 6:if(tn(c,o),vn(o),x&4){if(o.stateNode===null)throw Error(r(162));N=o.stateNode,E=o.memoizedProps;try{N.nodeValue=E}catch(ke){gt(o,o.return,ke)}}break;case 3:if(tn(c,o),vn(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Zo(c.containerInfo)}catch(ke){gt(o,o.return,ke)}break;case 4:tn(c,o),vn(o);break;case 13:tn(c,o),vn(o),N=o.child,N.flags&8192&&(E=N.memoizedState!==null,N.stateNode.isHidden=E,!E||N.alternate!==null&&N.alternate.memoizedState!==null||(up=bt())),x&4&&SN(o);break;case 22:if(he=h!==null&&h.memoizedState!==null,o.mode&1?(Yt=(se=Yt)||he,tn(c,o),Yt=se):tn(c,o),vn(o),x&8192){if(se=o.memoizedState!==null,(o.stateNode.isHidden=se)&&!he&&(o.mode&1)!==0)for(we=o,he=o.child;he!==null;){for(me=we=he;we!==null;){switch(fe=we,ve=fe.child,fe.tag){case 0:case 11:case 14:case 15:jl(4,fe,fe.return);break;case 1:ji(fe,fe.return);var Se=fe.stateNode;if(typeof Se.componentWillUnmount=="function"){x=fe,h=fe.return;try{c=x,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(ke){gt(x,h,ke)}}break;case 5:ji(fe,fe.return);break;case 22:if(fe.memoizedState!==null){AN(me);continue}}ve!==null?(ve.return=fe,we=ve):AN(me)}he=he.sibling}e:for(he=null,me=o;;){if(me.tag===5){if(he===null){he=me;try{N=me.stateNode,se?(E=N.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=me.stateNode,J=me.memoizedProps.style,D=J!=null&&J.hasOwnProperty("display")?J.display:null,H.style.display=iw("display",D))}catch(ke){gt(o,o.return,ke)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=se?"":me.memoizedProps}catch(ke){gt(o,o.return,ke)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:tn(c,o),vn(o),x&4&&SN(o);break;case 21:break;default:tn(c,o),vn(o)}}function vn(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(jN(h)){var x=h;break e}h=h.return}throw Error(r(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(zo(N,""),x.flags&=-33);var E=wN(o);op(o,E,N);break;case 3:case 4:var D=x.stateNode.containerInfo,H=wN(o);ip(o,H,D);break;default:throw Error(r(161))}}catch(J){gt(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function iR(o,c,h){we=o,ON(o)}function ON(o,c,h){for(var x=(o.mode&1)!==0;we!==null;){var N=we,E=N.child;if(N.tag===22&&x){var D=N.memoizedState!==null||Ku;if(!D){var H=N.alternate,J=H!==null&&H.memoizedState!==null||Yt;H=Ku;var se=Yt;if(Ku=D,(Yt=J)&&!se)for(we=N;we!==null;)D=we,J=D.child,D.tag===22&&D.memoizedState!==null?PN(N):J!==null?(J.return=D,we=J):PN(N);for(;E!==null;)we=E,ON(E),E=E.sibling;we=N,Ku=H,Yt=se}CN(o)}else(N.subtreeFlags&8772)!==0&&E!==null?(E.return=N,we=E):CN(o)}}function CN(o){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yt||Hu(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Yt)if(h===null)x.componentDidMount();else{var N=c.elementType===c.type?h.memoizedProps:Zr(c.type,h.memoizedProps);x.componentDidUpdate(N,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&A1(c,E,x);break;case 3:var D=c.updateQueue;if(D!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}A1(c,D,h)}break;case 5:var H=c.stateNode;if(h===null&&c.flags&4){h=H;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&h.focus();break;case"img":J.src&&(h.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var se=c.alternate;if(se!==null){var he=se.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Zo(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||c.flags&512&&sp(c)}catch(fe){gt(c,c.return,fe)}}if(c===o){we=null;break}if(h=c.sibling,h!==null){h.return=c.return,we=h;break}we=c.return}}function AN(o){for(;we!==null;){var c=we;if(c===o){we=null;break}var h=c.sibling;if(h!==null){h.return=c.return,we=h;break}we=c.return}}function PN(o){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Hu(4,c)}catch(J){gt(c,h,J)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var N=c.return;try{x.componentDidMount()}catch(J){gt(c,N,J)}}var E=c.return;try{sp(c)}catch(J){gt(c,E,J)}break;case 5:var D=c.return;try{sp(c)}catch(J){gt(c,D,J)}}}catch(J){gt(c,c.return,J)}if(c===o){we=null;break}var H=c.sibling;if(H!==null){H.return=c.return,we=H;break}we=c.return}}var oR=Math.ceil,Gu=O.ReactCurrentDispatcher,lp=O.ReactCurrentOwner,$r=O.ReactCurrentBatchConfig,He=0,Dt=null,Nt=null,Kt=0,Sr=0,wi=ya(0),Ct=0,wl=null,ls=0,Vu=0,cp=0,Nl=null,fr=null,up=0,Ni=1/0,Bn=null,Qu=!1,dp=null,Sa=null,Yu=!1,ka=null,Xu=0,Sl=0,fp=null,Ju=-1,Zu=0;function rr(){return(He&6)!==0?bt():Ju!==-1?Ju:Ju=bt()}function Oa(o){return(o.mode&1)===0?1:(He&2)!==0&&Kt!==0?Kt&-Kt:W6.transition!==null?(Zu===0&&(Zu=ww()),Zu):(o=et,o!==0||(o=window.event,o=o===void 0?16:_w(o.type)),o)}function rn(o,c,h,x){if(50<Sl)throw Sl=0,fp=null,Error(r(185));Vo(o,h,x),((He&2)===0||o!==Dt)&&(o===Dt&&((He&2)===0&&(Vu|=h),Ct===4&&Ca(o,Kt)),hr(o,x),h===1&&He===0&&(c.mode&1)===0&&(Ni=bt()+500,Cu&&ba()))}function hr(o,c){var h=o.callbackNode;W3(o,c);var x=lu(o,o===Dt?Kt:0);if(x===0)h!==null&&vw(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&vw(h),c===1)o.tag===0?U6(_N.bind(null,o)):g1(_N.bind(null,o)),F6(function(){(He&6)===0&&ba()}),h=null;else{switch(Nw(x)){case 1:h=Kh;break;case 4:h=bw;break;case 16:h=au;break;case 536870912:h=jw;break;default:h=au}h=FN(h,EN.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function EN(o,c){if(Ju=-1,Zu=0,(He&6)!==0)throw Error(r(327));var h=o.callbackNode;if(Si()&&o.callbackNode!==h)return null;var x=lu(o,o===Dt?Kt:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=ed(o,x);else{c=x;var N=He;He|=2;var E=RN();(Dt!==o||Kt!==c)&&(Bn=null,Ni=bt()+500,us(o,c));do try{uR();break}catch(H){TN(o,H)}while(!0);Em(),Gu.current=E,He=N,Nt!==null?c=0:(Dt=null,Kt=0,c=Ct)}if(c!==0){if(c===2&&(N=Hh(o),N!==0&&(x=N,c=hp(o,N))),c===1)throw h=wl,us(o,0),Ca(o,x),hr(o,bt()),h;if(c===6)Ca(o,x);else{if(N=o.current.alternate,(x&30)===0&&!lR(N)&&(c=ed(o,x),c===2&&(E=Hh(o),E!==0&&(x=E,c=hp(o,E))),c===1))throw h=wl,us(o,0),Ca(o,x),hr(o,bt()),h;switch(o.finishedWork=N,o.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:ds(o,fr,Bn);break;case 3:if(Ca(o,x),(x&130023424)===x&&(c=up+500-bt(),10<c)){if(lu(o,0)!==0)break;if(N=o.suspendedLanes,(N&x)!==x){rr(),o.pingedLanes|=o.suspendedLanes&N;break}o.timeoutHandle=vm(ds.bind(null,o,fr,Bn),c);break}ds(o,fr,Bn);break;case 4:if(Ca(o,x),(x&4194240)===x)break;for(c=o.eventTimes,N=-1;0<x;){var D=31-Yr(x);E=1<<D,D=c[D],D>N&&(N=D),x&=~E}if(x=N,x=bt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*oR(x/1960))-x,10<x){o.timeoutHandle=vm(ds.bind(null,o,fr,Bn),x);break}ds(o,fr,Bn);break;case 5:ds(o,fr,Bn);break;default:throw Error(r(329))}}}return hr(o,bt()),o.callbackNode===h?EN.bind(null,o):null}function hp(o,c){var h=Nl;return o.current.memoizedState.isDehydrated&&(us(o,c).flags|=256),o=ed(o,c),o!==2&&(c=fr,fr=h,c!==null&&mp(c)),o}function mp(o){fr===null?fr=o:fr.push.apply(fr,o)}function lR(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var N=h[x],E=N.getSnapshot;N=N.value;try{if(!Xr(E(),N))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ca(o,c){for(c&=~cp,c&=~Vu,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-Yr(c),x=1<<h;o[h]=-1,c&=~x}}function _N(o){if((He&6)!==0)throw Error(r(327));Si();var c=lu(o,0);if((c&1)===0)return hr(o,bt()),null;var h=ed(o,c);if(o.tag!==0&&h===2){var x=Hh(o);x!==0&&(c=x,h=hp(o,x))}if(h===1)throw h=wl,us(o,0),Ca(o,c),hr(o,bt()),h;if(h===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,ds(o,fr,Bn),hr(o,bt()),null}function pp(o,c){var h=He;He|=1;try{return o(c)}finally{He=h,He===0&&(Ni=bt()+500,Cu&&ba())}}function cs(o){ka!==null&&ka.tag===0&&(He&6)===0&&Si();var c=He;He|=1;var h=$r.transition,x=et;try{if($r.transition=null,et=1,o)return o()}finally{et=x,$r.transition=h,He=c,(He&6)===0&&ba()}}function gp(){Sr=wi.current,ct(wi)}function us(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,L6(h)),Nt!==null)for(h=Nt.return;h!==null;){var x=h;switch(km(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&ku();break;case 3:vi(),ct(cr),ct(Gt),Lm();break;case 5:$m(x);break;case 4:vi();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:_m(x.type._context);break;case 22:case 23:gp()}h=h.return}if(Dt=o,Nt=o=Aa(o.current,null),Kt=Sr=c,Ct=0,wl=null,cp=Vu=ls=0,fr=Nl=null,ss!==null){for(c=0;c<ss.length;c++)if(h=ss[c],x=h.interleaved,x!==null){h.interleaved=null;var N=x.next,E=h.pending;if(E!==null){var D=E.next;E.next=N,x.next=D}h.pending=x}ss=null}return o}function TN(o,c){do{var h=Nt;try{if(Em(),Du.current=qu,Lu){for(var x=mt.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}Lu=!1}if(os=0,$t=Ot=mt=null,gl=!1,xl=0,lp.current=null,h===null||h.return===null){Ct=1,wl=c,Nt=null;break}e:{var E=o,D=h.return,H=h,J=c;if(c=Kt,H.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var se=J,he=H,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var ve=nN(D);if(ve!==null){ve.flags&=-257,aN(ve,D,H,E,c),ve.mode&1&&rN(E,se,c),c=ve,J=se;var Se=c.updateQueue;if(Se===null){var ke=new Set;ke.add(J),c.updateQueue=ke}else Se.add(J);break e}else{if((c&1)===0){rN(E,se,c),xp();break e}J=Error(r(426))}}else if(dt&&H.mode&1){var jt=nN(D);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),aN(jt,D,H,E,c),Am(bi(J,H));break e}}E=J=bi(J,H),Ct!==4&&(Ct=2),Nl===null?Nl=[E]:Nl.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var re=eN(E,J,c);C1(E,re);break e;case 1:H=J;var Z=E.type,ae=E.stateNode;if((E.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Sa===null||!Sa.has(ae)))){E.flags|=65536,c&=-c,E.lanes|=c;var ge=tN(E,H,c);C1(E,ge);break e}}E=E.return}while(E!==null)}IN(h)}catch(Oe){c=Oe,Nt===h&&h!==null&&(Nt=h=h.return);continue}break}while(!0)}function RN(){var o=Gu.current;return Gu.current=qu,o===null?qu:o}function xp(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Dt===null||(ls&268435455)===0&&(Vu&268435455)===0||Ca(Dt,Kt)}function ed(o,c){var h=He;He|=2;var x=RN();(Dt!==o||Kt!==c)&&(Bn=null,us(o,c));do try{cR();break}catch(N){TN(o,N)}while(!0);if(Em(),He=h,Gu.current=x,Nt!==null)throw Error(r(261));return Dt=null,Kt=0,Ct}function cR(){for(;Nt!==null;)MN(Nt)}function uR(){for(;Nt!==null&&!I3();)MN(Nt)}function MN(o){var c=LN(o.alternate,o,Sr);o.memoizedProps=o.pendingProps,c===null?IN(o):Nt=c,lp.current=null}function IN(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=rR(h,c,Sr),h!==null){Nt=h;return}}else{if(h=nR(h,c),h!==null){h.flags&=32767,Nt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ct=6,Nt=null;return}}if(c=c.sibling,c!==null){Nt=c;return}Nt=c=o}while(c!==null);Ct===0&&(Ct=5)}function ds(o,c,h){var x=et,N=$r.transition;try{$r.transition=null,et=1,dR(o,c,h,x)}finally{$r.transition=N,et=x}return null}function dR(o,c,h,x){do Si();while(ka!==null);if((He&6)!==0)throw Error(r(327));h=o.finishedWork;var N=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(K3(o,E),o===Dt&&(Nt=Dt=null,Kt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Yu||(Yu=!0,FN(au,function(){return Si(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=$r.transition,$r.transition=null;var D=et;et=1;var H=He;He|=4,lp.current=null,sR(o,h),kN(h,o),_6(xm),du=!!gm,xm=gm=null,o.current=h,iR(h),$3(),He=H,et=D,$r.transition=E}else o.current=h;if(Yu&&(Yu=!1,ka=o,Xu=N),E=o.pendingLanes,E===0&&(Sa=null),F3(h.stateNode),hr(o,bt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)N=c[h],x(N.value,{componentStack:N.stack,digest:N.digest});if(Qu)throw Qu=!1,o=dp,dp=null,o;return(Xu&1)!==0&&o.tag!==0&&Si(),E=o.pendingLanes,(E&1)!==0?o===fp?Sl++:(Sl=0,fp=o):Sl=0,ba(),null}function Si(){if(ka!==null){var o=Nw(Xu),c=$r.transition,h=et;try{if($r.transition=null,et=16>o?16:o,ka===null)var x=!1;else{if(o=ka,ka=null,Xu=0,(He&6)!==0)throw Error(r(331));var N=He;for(He|=4,we=o.current;we!==null;){var E=we,D=E.child;if((we.flags&16)!==0){var H=E.deletions;if(H!==null){for(var J=0;J<H.length;J++){var se=H[J];for(we=se;we!==null;){var he=we;switch(he.tag){case 0:case 11:case 15:jl(8,he,E)}var me=he.child;if(me!==null)me.return=he,we=me;else for(;we!==null;){he=we;var fe=he.sibling,ve=he.return;if(bN(he),he===se){we=null;break}if(fe!==null){fe.return=ve,we=fe;break}we=ve}}}var Se=E.alternate;if(Se!==null){var ke=Se.child;if(ke!==null){Se.child=null;do{var jt=ke.sibling;ke.sibling=null,ke=jt}while(ke!==null)}}we=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,we=D;else e:for(;we!==null;){if(E=we,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:jl(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,we=re;break e}we=E.return}}var Z=o.current;for(we=Z;we!==null;){D=we;var ae=D.child;if((D.subtreeFlags&2064)!==0&&ae!==null)ae.return=D,we=ae;else e:for(D=Z;we!==null;){if(H=we,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Hu(9,H)}}catch(Oe){gt(H,H.return,Oe)}if(H===D){we=null;break e}var ge=H.sibling;if(ge!==null){ge.return=H.return,we=ge;break e}we=H.return}}if(He=N,ba(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(su,o)}catch{}x=!0}return x}finally{et=h,$r.transition=c}}return!1}function $N(o,c,h){c=bi(h,c),c=eN(o,c,1),o=wa(o,c,1),c=rr(),o!==null&&(Vo(o,1,c),hr(o,c))}function gt(o,c,h){if(o.tag===3)$N(o,o,h);else for(;c!==null;){if(c.tag===3){$N(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Sa===null||!Sa.has(x))){o=bi(h,o),o=tN(c,o,1),c=wa(c,o,1),o=rr(),c!==null&&(Vo(c,1,o),hr(c,o));break}}c=c.return}}function fR(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=rr(),o.pingedLanes|=o.suspendedLanes&h,Dt===o&&(Kt&h)===h&&(Ct===4||Ct===3&&(Kt&130023424)===Kt&&500>bt()-up?us(o,0):cp|=h),hr(o,c)}function DN(o,c){c===0&&((o.mode&1)===0?c=1:(c=ou,ou<<=1,(ou&130023424)===0&&(ou=4194304)));var h=rr();o=Dn(o,c),o!==null&&(Vo(o,c,h),hr(o,h))}function hR(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),DN(o,h)}function mR(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,N=o.memoizedState;N!==null&&(h=N.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),DN(o,h)}var LN;LN=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||cr.current)dr=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return dr=!1,tR(o,c,h);dr=(o.flags&131072)!==0}else dr=!1,dt&&(c.flags&1048576)!==0&&x1(c,Pu,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Wu(o,c),o=c.pendingProps;var N=fi(c,Gt.current);yi(c,h),N=qm(null,c,x,o,N,h);var E=zm();return c.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ur(x)?(E=!0,Ou(c)):E=!1,c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Mm(c),N.updater=zu,c.stateNode=N,N._reactInternals=c,Vm(c,x,o,h),c=Jm(null,c,x,!0,E,h)):(c.tag=0,dt&&E&&Sm(c),tr(null,c,N,h),c=c.child),c;case 16:x=c.elementType;e:{switch(Wu(o,c),o=c.pendingProps,N=x._init,x=N(x._payload),c.type=x,N=c.tag=gR(x),o=Zr(x,o),N){case 0:c=Xm(null,c,x,o,h);break e;case 1:c=uN(null,c,x,o,h);break e;case 11:c=sN(null,c,x,o,h);break e;case 14:c=iN(null,c,x,Zr(x.type,o),h);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:Zr(x,N),Xm(o,c,x,N,h);case 1:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:Zr(x,N),uN(o,c,x,N,h);case 3:e:{if(dN(c),o===null)throw Error(r(387));x=c.pendingProps,E=c.memoizedState,N=E.element,O1(o,c),Iu(c,x,null,h);var D=c.memoizedState;if(x=D.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){N=bi(Error(r(423)),c),c=fN(o,c,x,h,N);break e}else if(x!==N){N=bi(Error(r(424)),c),c=fN(o,c,x,h,N);break e}else for(Nr=xa(c.stateNode.containerInfo.firstChild),wr=c,dt=!0,Jr=null,h=S1(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(pi(),x===N){c=Fn(o,c,h);break e}tr(o,c,x,h)}c=c.child}return c;case 5:return P1(c),o===null&&Cm(c),x=c.type,N=c.pendingProps,E=o!==null?o.memoizedProps:null,D=N.children,ym(x,N)?D=null:E!==null&&ym(x,E)&&(c.flags|=32),cN(o,c),tr(o,c,D,h),c.child;case 6:return o===null&&Cm(c),null;case 13:return hN(o,c,h);case 4:return Im(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=gi(c,null,x,h):tr(o,c,x,h),c.child;case 11:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:Zr(x,N),sN(o,c,x,N,h);case 7:return tr(o,c,c.pendingProps,h),c.child;case 8:return tr(o,c,c.pendingProps.children,h),c.child;case 12:return tr(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,N=c.pendingProps,E=c.memoizedProps,D=N.value,at(Tu,x._currentValue),x._currentValue=D,E!==null)if(Xr(E.value,D)){if(E.children===N.children&&!cr.current){c=Fn(o,c,h);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var H=E.dependencies;if(H!==null){D=E.child;for(var J=H.firstContext;J!==null;){if(J.context===x){if(E.tag===1){J=Ln(-1,h&-h),J.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var he=se.pending;he===null?J.next=J:(J.next=he.next,he.next=J),se.pending=J}}E.lanes|=h,J=E.alternate,J!==null&&(J.lanes|=h),Tm(E.return,h,c),H.lanes|=h;break}J=J.next}}else if(E.tag===10)D=E.type===c.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(r(341));D.lanes|=h,H=D.alternate,H!==null&&(H.lanes|=h),Tm(D,h,c),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===c){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}tr(o,c,N.children,h),c=c.child}return c;case 9:return N=c.type,x=c.pendingProps.children,yi(c,h),N=Mr(N),x=x(N),c.flags|=1,tr(o,c,x,h),c.child;case 14:return x=c.type,N=Zr(x,c.pendingProps),N=Zr(x.type,N),iN(o,c,x,N,h);case 15:return oN(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,N=c.pendingProps,N=c.elementType===x?N:Zr(x,N),Wu(o,c),c.tag=1,ur(x)?(o=!0,Ou(c)):o=!1,yi(c,h),J1(c,x,N),Vm(c,x,N,h),Jm(null,c,x,!0,o,h);case 19:return pN(o,c,h);case 22:return lN(o,c,h)}throw Error(r(156,c.tag))};function FN(o,c){return yw(o,c)}function pR(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(o,c,h,x){return new pR(o,c,h,x)}function yp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gR(o){if(typeof o=="function")return yp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===U)return 14}return 2}function Aa(o,c){var h=o.alternate;return h===null?(h=Dr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function td(o,c,h,x,N,E){var D=2;if(x=o,typeof o=="function")yp(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case P:return fs(h.children,N,E,c);case R:D=8,N|=8;break;case I:return o=Dr(12,h,c,N|2),o.elementType=I,o.lanes=E,o;case K:return o=Dr(13,h,c,N),o.elementType=K,o.lanes=E,o;case Y:return o=Dr(19,h,c,N),o.elementType=Y,o.lanes=E,o;case L:return rd(h,N,E,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $:D=10;break e;case T:D=9;break e;case M:D=11;break e;case U:D=14;break e;case B:D=16,x=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Dr(D,h,c,N),c.elementType=o,c.type=x,c.lanes=E,c}function fs(o,c,h,x){return o=Dr(7,o,x,c),o.lanes=h,o}function rd(o,c,h,x){return o=Dr(22,o,x,c),o.elementType=L,o.lanes=h,o.stateNode={isHidden:!1},o}function vp(o,c,h){return o=Dr(6,o,null,c),o.lanes=h,o}function bp(o,c,h){return c=Dr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function xR(o,c,h,x,N){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function jp(o,c,h,x,N,E,D,H,J){return o=new xR(o,c,h,H,J),c===1?(c=1,E===!0&&(c|=8)):c=0,E=Dr(3,null,null,c),o.current=E,E.stateNode=o,E.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(E),o}function yR(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function BN(o){if(!o)return va;o=o._reactInternals;e:{if(es(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var h=o.type;if(ur(h))return m1(o,h,c)}return c}function qN(o,c,h,x,N,E,D,H,J){return o=jp(h,x,!0,o,N,E,D,H,J),o.context=BN(null),h=o.current,x=rr(),N=Oa(h),E=Ln(x,N),E.callback=c??null,wa(h,E,N),o.current.lanes=N,Vo(o,N,x),hr(o,x),o}function nd(o,c,h,x){var N=c.current,E=rr(),D=Oa(N);return h=BN(h),c.context===null?c.context=h:c.pendingContext=h,c=Ln(E,D),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=wa(N,c,D),o!==null&&(rn(o,N,D,E),Mu(o,N,D)),D}function ad(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function zN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function wp(o,c){zN(o,c),(o=o.alternate)&&zN(o,c)}function vR(){return null}var UN=typeof reportError=="function"?reportError:function(o){console.error(o)};function Np(o){this._internalRoot=o}sd.prototype.render=Np.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));nd(o,c,null,null)},sd.prototype.unmount=Np.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;cs(function(){nd(null,o,null,null)}),c[Rn]=null}};function sd(o){this._internalRoot=o}sd.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ow();o={blockedOn:null,target:o,priority:c};for(var h=0;h<ma.length&&c!==0&&c<ma[h].priority;h++);ma.splice(h,0,o),h===0&&Pw(o)}};function Sp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function id(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function WN(){}function bR(o,c,h,x,N){if(N){if(typeof x=="function"){var E=x;x=function(){var se=ad(D);E.call(se)}}var D=qN(c,x,o,0,null,!1,!1,"",WN);return o._reactRootContainer=D,o[Rn]=D.current,ll(o.nodeType===8?o.parentNode:o),cs(),D}for(;N=o.lastChild;)o.removeChild(N);if(typeof x=="function"){var H=x;x=function(){var se=ad(J);H.call(se)}}var J=jp(o,0,!1,null,null,!1,!1,"",WN);return o._reactRootContainer=J,o[Rn]=J.current,ll(o.nodeType===8?o.parentNode:o),cs(function(){nd(c,J,h,x)}),J}function od(o,c,h,x,N){var E=h._reactRootContainer;if(E){var D=E;if(typeof N=="function"){var H=N;N=function(){var J=ad(D);H.call(J)}}nd(c,D,o,N)}else D=bR(h,c,o,N,x);return ad(D)}Sw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=Go(c.pendingLanes);h!==0&&(Vh(c,h|1),hr(c,bt()),(He&6)===0&&(Ni=bt()+500,ba()))}break;case 13:cs(function(){var x=Dn(o,1);if(x!==null){var N=rr();rn(x,o,1,N)}}),wp(o,1)}},Qh=function(o){if(o.tag===13){var c=Dn(o,134217728);if(c!==null){var h=rr();rn(c,o,134217728,h)}wp(o,134217728)}},kw=function(o){if(o.tag===13){var c=Oa(o),h=Dn(o,c);if(h!==null){var x=rr();rn(h,o,c,x)}wp(o,c)}},Ow=function(){return et},Cw=function(o,c){var h=et;try{return et=o,c()}finally{et=h}},qh=function(o,c,h){switch(c){case"input":if(It(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var N=Su(x);if(!N)throw Error(r(90));te(x),It(x,N)}}}break;case"textarea":Bo(o,h);break;case"select":c=h.value,c!=null&&lr(o,!!h.multiple,c,!1)}},dw=pp,fw=cs;var jR={usingClientEntryPoint:!1,Events:[dl,ui,Su,cw,uw,pp]},kl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wR={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=gw(o),o===null?null:o.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||vR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{su=ld.inject(wR),pn=ld}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR,mr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(c))throw Error(r(200));return yR(o,c,null,h)},mr.createRoot=function(o,c){if(!Sp(o))throw Error(r(299));var h=!1,x="",N=UN;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=jp(o,1,!1,null,null,h,!1,x,N),o[Rn]=c.current,ll(o.nodeType===8?o.parentNode:o),new Np(c)},mr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=gw(c),o=o===null?null:o.stateNode,o},mr.flushSync=function(o){return cs(o)},mr.hydrate=function(o,c,h){if(!id(c))throw Error(r(200));return od(null,o,c,!0,h)},mr.hydrateRoot=function(o,c,h){if(!Sp(o))throw Error(r(405));var x=h!=null&&h.hydratedSources||null,N=!1,E="",D=UN;if(h!=null&&(h.unstable_strictMode===!0&&(N=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),c=qN(c,null,o,1,h??null,N,!1,E,D),o[Rn]=c.current,ll(o),x)for(o=0;o<x.length;o++)h=x[o],N=h._getVersion,N=N(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,N]:c.mutableSourceEagerHydrationData.push(h,N);return new sd(c)},mr.render=function(o,c,h){if(!id(c))throw Error(r(200));return od(null,o,c,!1,h)},mr.unmountComponentAtNode=function(o){if(!id(o))throw Error(r(40));return o._reactRootContainer?(cs(function(){od(null,null,o,!1,function(){o._reactRootContainer=null,o[Rn]=null})}),!0):!1},mr.unstable_batchedUpdates=pp,mr.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!id(h))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return od(o,c,h,!1,x)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var ZN;function oE(){if(ZN)return Ap.exports;ZN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ap.exports=RR(),Ap.exports}var e2;function MR(){if(e2)return fd;e2=1;var e=oE();return fd.createRoot=e.createRoot,fd.hydrateRoot=e.hydrateRoot,fd}var IR=MR();const $R=Ze(IR);var So=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},DR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ra,Ib,YP,LR=(YP=class{constructor(){Ae(this,Ra,DR);Ae(this,Ib,!1)}setTimeoutProvider(e){ye(this,Ra,e)}setTimeout(e,t){return Q(this,Ra).setTimeout(e,t)}clearTimeout(e){Q(this,Ra).clearTimeout(e)}setInterval(e,t){return Q(this,Ra).setInterval(e,t)}clearInterval(e){Q(this,Ra).clearInterval(e)}},Ra=new WeakMap,Ib=new WeakMap,YP),vs=new LR;function FR(e){setTimeout(e,0)}var Ds=typeof window>"u"||"Deno"in globalThis;function ar(){}function BR(e,t){return typeof e=="function"?e(t):e}function Wy(e){return typeof e=="number"&&e>=0&&e!==1/0}function lE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wa(e,t){return typeof e=="function"?e(t):e}function zr(e,t){return typeof e=="function"?e(t):e}function t2(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:i,queryKey:l,stale:u}=e;if(l){if(a){if(t.queryHash!==Db(l,t.options))return!1}else if(!Xl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function r2(e,t){const{exact:r,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ls(t.options.mutationKey)!==Ls(i))return!1}else if(!Xl(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function Db(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ls)(e)}function Ls(e){return JSON.stringify(e,(t,r)=>Ky(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Xl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Xl(e[r],t[r])):!1}var qR=Object.prototype.hasOwnProperty;function cE(e,t,r=0){if(e===t)return e;if(r>500)return t;const a=n2(e)&&n2(t);if(!a&&!(Ky(e)&&Ky(t)))return t;const i=(a?e:Object.keys(e)).length,l=a?t:Object.keys(t),u=l.length,d=a?new Array(u):{};let f=0;for(let p=0;p<u;p++){const m=a?p:l[p],g=e[m],b=t[m];if(g===b){d[m]=g,(a?p<i:qR.call(e,m))&&f++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){d[m]=b;continue}const v=cE(g,b,r+1);d[m]=v,v===g&&f++}return i===u&&f===i?e:d}function Dd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function n2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ky(e){if(!a2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!a2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function a2(e){return Object.prototype.toString.call(e)==="[object Object]"}function zR(e){return new Promise(t=>{vs.setTimeout(t,e)})}function Hy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?cE(e,t):t}function UR(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function WR(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var Lb=Symbol();function uE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Fb(e,t){return typeof e=="function"?e(...t):!!e}function KR(e,t,r){let a=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),a||(a=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var ks,Ma,Li,XP,HR=(XP=class extends So{constructor(){super();Ae(this,ks);Ae(this,Ma);Ae(this,Li);ye(this,Li,t=>{if(!Ds&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,Ma)||this.setEventListener(Q(this,Li))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ma))==null||t.call(this),ye(this,Ma,void 0))}setEventListener(t){var r;ye(this,Li,t),(r=Q(this,Ma))==null||r.call(this),ye(this,Ma,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Q(this,ks)!==t&&(ye(this,ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,ks)=="boolean"?Q(this,ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ks=new WeakMap,Ma=new WeakMap,Li=new WeakMap,XP),Bb=new HR;function Gy(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var GR=FR;function VR(){let e=[],t=0,r=u=>{u()},a=u=>{u()},s=GR;const i=u=>{t?e.push(u):s(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{a(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{s=u}}}var Et=VR(),Fi,Ia,Bi,JP,QR=(JP=class extends So{constructor(){super();Ae(this,Fi,!0);Ae(this,Ia);Ae(this,Bi);ye(this,Bi,t=>{if(!Ds&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Q(this,Ia)||this.setEventListener(Q(this,Bi))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ia))==null||t.call(this),ye(this,Ia,void 0))}setEventListener(t){var r;ye(this,Bi,t),(r=Q(this,Ia))==null||r.call(this),ye(this,Ia,t(this.setOnline.bind(this)))}setOnline(t){Q(this,Fi)!==t&&(ye(this,Fi,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Q(this,Fi)}},Fi=new WeakMap,Ia=new WeakMap,Bi=new WeakMap,JP),Ld=new QR;function YR(e){return Math.min(1e3*2**e,3e4)}function dE(e){return(e??"online")==="online"?Ld.isOnline():!0}var Vy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fE(e){let t=!1,r=0,a;const s=Gy(),i=()=>s.status!=="pending",l=j=>{var y;if(!i()){const k=new Vy(j);g(k),(y=e.onCancel)==null||y.call(e,k)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>Bb.isFocused()&&(e.networkMode==="always"||Ld.isOnline())&&e.canRun(),p=()=>dE(e.networkMode)&&e.canRun(),m=j=>{i()||(a==null||a(),s.resolve(j))},g=j=>{i()||(a==null||a(),s.reject(j))},b=()=>new Promise(j=>{var y;a=k=>{(i()||f())&&j(k)},(y=e.onPause)==null||y.call(e)}).then(()=>{var j;a=void 0,i()||(j=e.onContinue)==null||j.call(e)}),v=()=>{if(i())return;let j;const y=r===0?e.initialPromise:void 0;try{j=y??e.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(m).catch(k=>{var C;if(i())return;const A=e.retry??(Ds?0:3),_=e.retryDelay??YR,O=typeof _=="function"?_(r,k):_,w=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,k);if(t||!w){g(k);return}r++,(C=e.onFail)==null||C.call(e,r,k),zR(O).then(()=>f()?void 0:b()).then(()=>{t?g(k):v()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(a==null||a(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?v():b().then(v),s)}}var Os,ZP,hE=(ZP=class{constructor(){Ae(this,Os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wy(this.gcTime)&&ye(this,Os,vs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ds?1/0:300*1e3))}clearGcTimeout(){Q(this,Os)&&(vs.clearTimeout(Q(this,Os)),ye(this,Os,void 0))}},Os=new WeakMap,ZP),Cs,qi,qr,As,Ft,Ic,Ps,an,Un,eE,XR=(eE=class extends hE{constructor(t){super();Ae(this,an);Ae(this,Cs);Ae(this,qi);Ae(this,qr);Ae(this,As);Ae(this,Ft);Ae(this,Ic);Ae(this,Ps);ye(this,Ps,!1),ye(this,Ic,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,As,t.client),ye(this,qr,Q(this,As).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Cs,i2(this.options)),this.state=t.state??Q(this,Cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Ft))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,Ic),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=i2(this.options);r.data!==void 0&&(this.setState(s2(r.data,r.dataUpdatedAt)),ye(this,Cs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,qr).remove(this)}setData(t,r){const a=Hy(this.state.data,t,this.options);return Ue(this,an,Un).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Ue(this,an,Un).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,s;const r=(a=Q(this,Ft))==null?void 0:a.promise;return(s=Q(this,Ft))==null||s.cancel(t),r?r.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Cs))}isActive(){return this.observers.some(t=>zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!lE(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Ft))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Ft))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,Ft)&&(Q(this,Ps)?Q(this,Ft).cancel({revert:!0}):Q(this,Ft).cancelRetry()),this.scheduleGc()),Q(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,an,Un).call(this,{type:"invalidate"})}async fetch(t,r){var d,f,p,m,g,b,v,j,y,k,A,_;if(this.state.fetchStatus!=="idle"&&((d=Q(this,Ft))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Ft))return Q(this,Ft).continueRetry(),Q(this,Ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(w=>w.options.queryFn);O&&this.setOptions(O.options)}const a=new AbortController,s=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(ye(this,Ps,!0),a.signal)})},i=()=>{const O=uE(this.options,r),C=(()=>{const P={client:Q(this,As),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return ye(this,Ps,!1),this.options.persister?this.options.persister(O,C,this):O(C)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Q(this,As),state:this.state,fetchFn:i};return s(O),O})();(f=this.options.behavior)==null||f.onFetch(u,this),ye(this,qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Ue(this,an,Un).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),ye(this,Ft,fE({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof Vy&&O.revert&&this.setState({...Q(this,qi),fetchStatus:"idle"}),a.abort()},onFail:(O,w)=>{Ue(this,an,Un).call(this,{type:"failed",failureCount:O,error:w})},onPause:()=>{Ue(this,an,Un).call(this,{type:"pause"})},onContinue:()=>{Ue(this,an,Un).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await Q(this,Ft).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(b=(g=Q(this,qr).config).onSuccess)==null||b.call(g,O,this),(j=(v=Q(this,qr).config).onSettled)==null||j.call(v,O,this.state.error,this),O}catch(O){if(O instanceof Vy){if(O.silent)return Q(this,Ft).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Ue(this,an,Un).call(this,{type:"error",error:O}),(k=(y=Q(this,qr).config).onError)==null||k.call(y,O,this),(_=(A=Q(this,qr).config).onSettled)==null||_.call(A,this.state.data,O,this),O}finally{this.scheduleGc()}}},Cs=new WeakMap,qi=new WeakMap,qr=new WeakMap,As=new WeakMap,Ft=new WeakMap,Ic=new WeakMap,Ps=new WeakMap,an=new WeakSet,Un=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...mE(a.data,this.options),fetchMeta:t.meta??null};case"success":const s={...a,...s2(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,qi,t.manual?s:void 0),s;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Q(this,qr).notify({query:this,type:"updated",action:t})})},eE);function mE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function s2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function i2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pr,Ke,$c,nr,Es,zi,Kn,$a,Dc,Ui,Wi,_s,Ts,Da,Ki,Je,Bl,Qy,Yy,Xy,Jy,Zy,ev,tv,pE,tE,JR=(tE=class extends So{constructor(t,r){super();Ae(this,Je);Ae(this,pr);Ae(this,Ke);Ae(this,$c);Ae(this,nr);Ae(this,Es);Ae(this,zi);Ae(this,Kn);Ae(this,$a);Ae(this,Dc);Ae(this,Ui);Ae(this,Wi);Ae(this,_s);Ae(this,Ts);Ae(this,Da);Ae(this,Ki,new Set);this.options=r,ye(this,pr,t),ye(this,$a,null),ye(this,Kn,Gy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ke).addObserver(this),o2(Q(this,Ke),this.options)?Ue(this,Je,Bl).call(this):this.updateResult(),Ue(this,Je,Jy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rv(Q(this,Ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rv(Q(this,Ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,Je,Zy).call(this),Ue(this,Je,ev).call(this),Q(this,Ke).removeObserver(this)}setOptions(t){const r=this.options,a=Q(this,Ke);if(this.options=Q(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,Q(this,Ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,Je,tv).call(this),Q(this,Ke).setOptions(this.options),r._defaulted&&!Dd(this.options,r)&&Q(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ke),observer:this});const s=this.hasListeners();s&&l2(Q(this,Ke),a,this.options,r)&&Ue(this,Je,Bl).call(this),this.updateResult(),s&&(Q(this,Ke)!==a||zr(this.options.enabled,Q(this,Ke))!==zr(r.enabled,Q(this,Ke))||Wa(this.options.staleTime,Q(this,Ke))!==Wa(r.staleTime,Q(this,Ke)))&&Ue(this,Je,Qy).call(this);const i=Ue(this,Je,Yy).call(this);s&&(Q(this,Ke)!==a||zr(this.options.enabled,Q(this,Ke))!==zr(r.enabled,Q(this,Ke))||i!==Q(this,Da))&&Ue(this,Je,Xy).call(this,i)}getOptimisticResult(t){const r=Q(this,pr).getQueryCache().build(Q(this,pr),t),a=this.createResult(r,t);return eM(this,a)&&(ye(this,nr,a),ye(this,zi,this.options),ye(this,Es,Q(this,Ke).state)),a}getCurrentResult(){return Q(this,nr)}trackResult(t,r){return new Proxy(t,{get:(a,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Kn).status==="pending"&&Q(this,Kn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,s))})}trackProp(t){Q(this,Ki).add(t)}getCurrentQuery(){return Q(this,Ke)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,pr).defaultQueryOptions(t),a=Q(this,pr).getQueryCache().build(Q(this,pr),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return Ue(this,Je,Bl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,nr)))}createResult(t,r){var I;const a=Q(this,Ke),s=this.options,i=Q(this,nr),l=Q(this,Es),u=Q(this,zi),f=t!==a?t.state:Q(this,$c),{state:p}=t;let m={...p},g=!1,b;if(r._optimisticResults){const $=this.hasListeners(),T=!$&&o2(t,r),M=$&&l2(t,a,r,s);(T||M)&&(m={...m,...mE(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:j,status:y}=m;b=m.data;let k=!1;if(r.placeholderData!==void 0&&b===void 0&&y==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?($=i.data,k=!0):$=typeof r.placeholderData=="function"?r.placeholderData((I=Q(this,Wi))==null?void 0:I.state.data,Q(this,Wi)):r.placeholderData,$!==void 0&&(y="success",b=Hy(i==null?void 0:i.data,$,r),g=!0)}if(r.select&&b!==void 0&&!k)if(i&&b===(l==null?void 0:l.data)&&r.select===Q(this,Dc))b=Q(this,Ui);else try{ye(this,Dc,r.select),b=r.select(b),b=Hy(i==null?void 0:i.data,b,r),ye(this,Ui,b),ye(this,$a,null)}catch($){ye(this,$a,$)}Q(this,$a)&&(v=Q(this,$a),b=Q(this,Ui),j=Date.now(),y="error");const A=m.fetchStatus==="fetching",_=y==="pending",O=y==="error",w=_&&A,C=b!==void 0,R={status:y,fetchStatus:m.fetchStatus,isPending:_,isSuccess:y==="success",isError:O,isInitialLoading:w,isLoading:w,data:b,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:A,isRefetching:A&&!_,isLoadingError:O&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&C,isStale:qb(t,r),refetch:this.refetch,promise:Q(this,Kn),isEnabled:zr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=R.data!==void 0,T=R.status==="error"&&!$,M=U=>{T?U.reject(R.error):$&&U.resolve(R.data)},K=()=>{const U=ye(this,Kn,R.promise=Gy());M(U)},Y=Q(this,Kn);switch(Y.status){case"pending":t.queryHash===a.queryHash&&M(Y);break;case"fulfilled":(T||R.data!==Y.value)&&K();break;case"rejected":(!T||R.error!==Y.reason)&&K();break}}return R}updateResult(){const t=Q(this,nr),r=this.createResult(Q(this,Ke),this.options);if(ye(this,Es,Q(this,Ke).state),ye(this,zi,this.options),Q(this,Es).data!==void 0&&ye(this,Wi,Q(this,Ke)),Dd(r,t))return;ye(this,nr,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,Ki).size)return!0;const l=new Set(i??Q(this,Ki));return this.options.throwOnError&&l.add("error"),Object.keys(Q(this,nr)).some(u=>{const d=u;return Q(this,nr)[d]!==t[d]&&l.has(d)})};Ue(this,Je,pE).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,Je,Jy).call(this)}},pr=new WeakMap,Ke=new WeakMap,$c=new WeakMap,nr=new WeakMap,Es=new WeakMap,zi=new WeakMap,Kn=new WeakMap,$a=new WeakMap,Dc=new WeakMap,Ui=new WeakMap,Wi=new WeakMap,_s=new WeakMap,Ts=new WeakMap,Da=new WeakMap,Ki=new WeakMap,Je=new WeakSet,Bl=function(t){Ue(this,Je,tv).call(this);let r=Q(this,Ke).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ar)),r},Qy=function(){Ue(this,Je,Zy).call(this);const t=Wa(this.options.staleTime,Q(this,Ke));if(Ds||Q(this,nr).isStale||!Wy(t))return;const a=lE(Q(this,nr).dataUpdatedAt,t)+1;ye(this,_s,vs.setTimeout(()=>{Q(this,nr).isStale||this.updateResult()},a))},Yy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ke)):this.options.refetchInterval)??!1},Xy=function(t){Ue(this,Je,ev).call(this),ye(this,Da,t),!(Ds||zr(this.options.enabled,Q(this,Ke))===!1||!Wy(Q(this,Da))||Q(this,Da)===0)&&ye(this,Ts,vs.setInterval(()=>{(this.options.refetchIntervalInBackground||Bb.isFocused())&&Ue(this,Je,Bl).call(this)},Q(this,Da)))},Jy=function(){Ue(this,Je,Qy).call(this),Ue(this,Je,Xy).call(this,Ue(this,Je,Yy).call(this))},Zy=function(){Q(this,_s)&&(vs.clearTimeout(Q(this,_s)),ye(this,_s,void 0))},ev=function(){Q(this,Ts)&&(vs.clearInterval(Q(this,Ts)),ye(this,Ts,void 0))},tv=function(){const t=Q(this,pr).getQueryCache().build(Q(this,pr),this.options);if(t===Q(this,Ke))return;const r=Q(this,Ke);ye(this,Ke,t),ye(this,$c,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pE=function(t){Et.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,nr))}),Q(this,pr).getQueryCache().notify({query:Q(this,Ke),type:"observerResultsUpdated"})})},tE);function ZR(e,t){return zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o2(e,t){return ZR(e,t)||e.state.data!==void 0&&rv(e,t,t.refetchOnMount)}function rv(e,t,r){if(zr(t.enabled,e)!==!1&&Wa(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&qb(e,t)}return!1}function l2(e,t,r,a){return(e!==t||zr(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qb(e,r)}function qb(e,t){return zr(t.enabled,e)!==!1&&e.isStaleByTime(Wa(t.staleTime,e))}function eM(e,t){return!Dd(e.getCurrentResult(),t)}function c2(e){return{onFetch:(t,r)=>{var p,m,g,b,v;const a=t.options,s=(g=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((b=t.state.data)==null?void 0:b.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let j=!1;const y=_=>{KR(_,()=>t.signal,()=>j=!0)},k=uE(t.options,t.fetchOptions),A=async(_,O,w)=>{if(j)return Promise.reject();if(O==null&&_.pages.length)return Promise.resolve(_);const P=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:O,direction:w?"backward":"forward",meta:t.options.meta};return y(T),T})(),R=await k(P),{maxPages:I}=t.options,$=w?WR:UR;return{pages:$(_.pages,R,I),pageParams:$(_.pageParams,O,I)}};if(s&&i.length){const _=s==="backward",O=_?tM:u2,w={pages:i,pageParams:l},C=O(a,w);u=await A(w,C,_)}else{const _=e??i.length;do{const O=d===0?l[0]??a.initialPageParam:u2(a,u);if(d>0&&O==null)break;u=await A(u,O),d++}while(d<_)}return u};t.options.persister?t.fetchFn=()=>{var j,y;return(y=(j=t.options).persister)==null?void 0:y.call(j,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function u2(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function tM(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Lc,jn,Xt,Rs,wn,Ea,rE,rM=(rE=class extends hE{constructor(t){super();Ae(this,wn);Ae(this,Lc);Ae(this,jn);Ae(this,Xt);Ae(this,Rs);ye(this,Lc,t.client),this.mutationId=t.mutationId,ye(this,Xt,t.mutationCache),ye(this,jn,[]),this.state=t.state||gE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,jn).includes(t)||(Q(this,jn).push(t),this.clearGcTimeout(),Q(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,jn,Q(this,jn).filter(r=>r!==t)),this.scheduleGc(),Q(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,jn).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Xt).remove(this))}continue(){var t;return((t=Q(this,Rs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,m,g,b,v,j,y,k,A,_,O,w,C,P;const r=()=>{Ue(this,wn,Ea).call(this,{type:"continue"})},a={client:Q(this,Lc),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Rs,fE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{Ue(this,wn,Ea).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{Ue(this,wn,Ea).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Xt).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,Rs).canStart();try{if(s)r();else{Ue(this,wn,Ea).call(this,{type:"pending",variables:t,isPaused:i}),Q(this,Xt).config.onMutate&&await Q(this,Xt).config.onMutate(t,this,a);const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,a));I!==this.state.context&&Ue(this,wn,Ea).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const R=await Q(this,Rs).start();return await((f=(d=Q(this,Xt).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,a)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,t,this.state.context,a)),await((b=(g=Q(this,Xt).config).onSettled)==null?void 0:b.call(g,R,null,this.state.variables,this.state.context,this,a)),await((j=(v=this.options).onSettled)==null?void 0:j.call(v,R,null,t,this.state.context,a)),Ue(this,wn,Ea).call(this,{type:"success",data:R}),R}catch(R){try{await((k=(y=Q(this,Xt).config).onError)==null?void 0:k.call(y,R,t,this.state.context,this,a))}catch(I){Promise.reject(I)}try{await((_=(A=this.options).onError)==null?void 0:_.call(A,R,t,this.state.context,a))}catch(I){Promise.reject(I)}try{await((w=(O=Q(this,Xt).config).onSettled)==null?void 0:w.call(O,void 0,R,this.state.variables,this.state.context,this,a))}catch(I){Promise.reject(I)}try{await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,R,t,this.state.context,a))}catch(I){Promise.reject(I)}throw Ue(this,wn,Ea).call(this,{type:"error",error:R}),R}finally{Q(this,Xt).runNext(this)}}},Lc=new WeakMap,jn=new WeakMap,Xt=new WeakMap,Rs=new WeakMap,wn=new WeakSet,Ea=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{Q(this,jn).forEach(a=>{a.onMutationUpdate(t)}),Q(this,Xt).notify({mutation:this,type:"updated",action:t})})},rE);function gE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,sn,Fc,nE,nM=(nE=class extends So{constructor(t={}){super();Ae(this,Hn);Ae(this,sn);Ae(this,Fc);this.config=t,ye(this,Hn,new Set),ye(this,sn,new Map),ye(this,Fc,0)}build(t,r,a){const s=new rM({client:t,mutationCache:this,mutationId:++ud(this,Fc)._,options:t.defaultMutationOptions(r),state:a});return this.add(s),s}add(t){Q(this,Hn).add(t);const r=hd(t);if(typeof r=="string"){const a=Q(this,sn).get(r);a?a.push(t):Q(this,sn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,Hn).delete(t)){const r=hd(t);if(typeof r=="string"){const a=Q(this,sn).get(r);if(a)if(a.length>1){const s=a.indexOf(t);s!==-1&&a.splice(s,1)}else a[0]===t&&Q(this,sn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=hd(t);if(typeof r=="string"){const a=Q(this,sn).get(r),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var a;const r=hd(t);if(typeof r=="string"){const s=(a=Q(this,sn).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{Q(this,Hn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,Hn).clear(),Q(this,sn).clear()})}getAll(){return Array.from(Q(this,Hn))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>r2(r,a))}findAll(t={}){return this.getAll().filter(r=>r2(t,r))}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(t.map(r=>r.continue().catch(ar))))}},Hn=new WeakMap,sn=new WeakMap,Fc=new WeakMap,nE);function hd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Gn,La,gr,Vn,ta,Td,nv,aE,aM=(aE=class extends So{constructor(r,a){super();Ae(this,ta);Ae(this,Gn);Ae(this,La);Ae(this,gr);Ae(this,Vn);ye(this,Gn,r),this.setOptions(a),this.bindMethods(),Ue(this,ta,Td).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const a=this.options;this.options=Q(this,Gn).defaultMutationOptions(r),Dd(this.options,a)||Q(this,Gn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,gr),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Ls(a.mutationKey)!==Ls(this.options.mutationKey)?this.reset():((s=Q(this,gr))==null?void 0:s.state.status)==="pending"&&Q(this,gr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,gr))==null||r.removeObserver(this)}onMutationUpdate(r){Ue(this,ta,Td).call(this),Ue(this,ta,nv).call(this,r)}getCurrentResult(){return Q(this,La)}reset(){var r;(r=Q(this,gr))==null||r.removeObserver(this),ye(this,gr,void 0),Ue(this,ta,Td).call(this),Ue(this,ta,nv).call(this)}mutate(r,a){var s;return ye(this,Vn,a),(s=Q(this,gr))==null||s.removeObserver(this),ye(this,gr,Q(this,Gn).getMutationCache().build(Q(this,Gn),this.options)),Q(this,gr).addObserver(this),Q(this,gr).execute(r)}},Gn=new WeakMap,La=new WeakMap,gr=new WeakMap,Vn=new WeakMap,ta=new WeakSet,Td=function(){var a;const r=((a=Q(this,gr))==null?void 0:a.state)??gE();ye(this,La,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},nv=function(r){Et.batch(()=>{var a,s,i,l,u,d,f,p;if(Q(this,Vn)&&this.hasListeners()){const m=Q(this,La).variables,g=Q(this,La).context,b={client:Q(this,Gn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(a=Q(this,Vn)).onSuccess)==null||s.call(a,r.data,m,g,b)}catch(v){Promise.reject(v)}try{(l=(i=Q(this,Vn)).onSettled)==null||l.call(i,r.data,null,m,g,b)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(d=(u=Q(this,Vn)).onError)==null||d.call(u,r.error,m,g,b)}catch(v){Promise.reject(v)}try{(p=(f=Q(this,Vn)).onSettled)==null||p.call(f,void 0,r.error,m,g,b)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(Q(this,La))})})},aE),Nn,sE,sM=(sE=class extends So{constructor(t={}){super();Ae(this,Nn);this.config=t,ye(this,Nn,new Map)}build(t,r,a){const s=r.queryKey,i=r.queryHash??Db(s,r);let l=this.get(i);return l||(l=new XR({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){Q(this,Nn).has(t.queryHash)||(Q(this,Nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,Nn).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,Nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Nn).get(t)}getAll(){return[...Q(this,Nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>t2(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>t2(t,a)):r}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nn=new WeakMap,sE),xt,Fa,Ba,Hi,Gi,qa,Vi,Qi,iE,iM=(iE=class{constructor(e={}){Ae(this,xt);Ae(this,Fa);Ae(this,Ba);Ae(this,Hi);Ae(this,Gi);Ae(this,qa);Ae(this,Vi);Ae(this,Qi);ye(this,xt,e.queryCache||new sM),ye(this,Fa,e.mutationCache||new nM),ye(this,Ba,e.defaultOptions||{}),ye(this,Hi,new Map),ye(this,Gi,new Map),ye(this,qa,0)}mount(){ud(this,qa)._++,Q(this,qa)===1&&(ye(this,Vi,Bb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,xt).onFocus())})),ye(this,Qi,Ld.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,xt).onOnline())})))}unmount(){var e,t;ud(this,qa)._--,Q(this,qa)===0&&((e=Q(this,Vi))==null||e.call(this),ye(this,Vi,void 0),(t=Q(this,Qi))==null||t.call(this),ye(this,Qi,void 0))}isFetching(e){return Q(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Fa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Q(this,xt).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Q(this,xt).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),s=Q(this,xt).get(a.queryHash),i=s==null?void 0:s.state.data,l=BR(t,i);if(l!==void 0)return Q(this,xt).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>Q(this,xt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,xt);Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,xt);return Et.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Et.batch(()=>Q(this,xt).findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(ar).catch(ar)}invalidateQueries(e,t={}){return Et.batch(()=>(Q(this,xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Et.batch(()=>Q(this,xt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,xt).build(this,t);return r.isStaleByTime(Wa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=c2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=c2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ld.isOnline()?Q(this,Fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,xt)}getMutationCache(){return Q(this,Fa)}getDefaultOptions(){return Q(this,Ba)}setDefaultOptions(e){ye(this,Ba,e)}setQueryDefaults(e,t){Q(this,Hi).set(Ls(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Hi).values()],r={};return t.forEach(a=>{Xl(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){Q(this,Gi).set(Ls(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Gi).values()],r={};return t.forEach(a=>{Xl(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Ba).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Db(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Ba).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,xt).clear(),Q(this,Fa).clear()}},xt=new WeakMap,Fa=new WeakMap,Ba=new WeakMap,Hi=new WeakMap,Gi=new WeakMap,qa=new WeakMap,Vi=new WeakMap,Qi=new WeakMap,iE),xE=S.createContext(void 0),sa=e=>{const t=S.useContext(xE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oM=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(xE.Provider,{value:e,children:t})),yE=S.createContext(!1),lM=()=>S.useContext(yE);yE.Provider;function cM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uM=S.createContext(cM()),dM=()=>S.useContext(uM),fM=(e,t,r)=>{const a=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Fb(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},hM=e=>{S.useEffect(()=>{e.clearReset()},[e])},mM=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||Fb(r,[e.error,a])),pM=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gM=(e,t)=>e.isLoading&&e.isFetching&&!t,xM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,d2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function yM(e,t,r){var g,b,v,j;const a=lM(),s=dM(),i=sa(),l=i.defaultQueryOptions(e);(b=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||b.call(g,l);const u=i.getQueryCache().get(l.queryHash);l._optimisticResults=a?"isRestoring":"optimistic",pM(l),fM(l,s,u),hM(s);const d=!i.getQueryCache().get(l.queryHash),[f]=S.useState(()=>new t(i,l)),p=f.getOptimisticResult(l),m=!a&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(y=>{const k=m?f.subscribe(Et.batchCalls(y)):ar;return f.updateResult(),k},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),S.useEffect(()=>{f.setOptions(l)},[l,f]),xM(l,p))throw d2(l,f,s);if(mM({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;if((j=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||j.call(v,l,p),l.experimental_prefetchInRender&&!Ds&&gM(p,a)){const y=d?d2(l,f,s):u==null?void 0:u.promise;y==null||y.catch(ar).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?p:f.trackResult(p)}function ko(e,t){return yM(e,JR)}function Hs(e,t){const r=sa(),[a]=S.useState(()=>new aM(r,e));S.useEffect(()=>{a.setOptions(e)},[a,e]);const s=S.useSyncExternalStore(S.useCallback(l=>a.subscribe(Et.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=S.useCallback((l,u)=>{a.mutate(l,u).catch(ar)},[a]);if(s.error&&Fb(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}oE();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jl.apply(this,arguments)}var za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(za||(za={}));const f2="popstate";function vM(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:l,hash:u}=a.location;return av("",{pathname:i,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Fd(s)}return jM(t,r,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bM(){return Math.random().toString(36).substr(2,8)}function h2(e,t){return{usr:e.state,key:e.key,idx:t}}function av(e,t,r,a){return r===void 0&&(r=null),Jl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oo(t):t,{state:r,key:t&&t.key||a||bM()})}function Fd(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Oo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function jM(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,u=za.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(Jl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=za.Pop;let y=p(),k=y==null?null:y-f;f=y,d&&d({action:u,location:j.location,delta:k})}function g(y,k){u=za.Push;let A=av(j.location,y,k);f=p()+1;let _=h2(A,f),O=j.createHref(A);try{l.pushState(_,"",O)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(O)}i&&d&&d({action:u,location:j.location,delta:1})}function b(y,k){u=za.Replace;let A=av(j.location,y,k);f=p();let _=h2(A,f),O=j.createHref(A);l.replaceState(_,"",O),i&&d&&d({action:u,location:j.location,delta:0})}function v(y){let k=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof y=="string"?y:Fd(y);return A=A.replace(/ $/,"%20"),wt(k,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,k)}let j={get action(){return u},get location(){return e(s,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(f2,m),d=y,()=>{s.removeEventListener(f2,m),d=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let k=v(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:b,go(y){return l.go(y)}};return j}var m2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(m2||(m2={}));function wM(e,t,r){return r===void 0&&(r="/"),NM(e,t,r)}function NM(e,t,r,a){let s=typeof t=="string"?Oo(t):t,i=Ub(s.pathname||"/",r);if(i==null)return null;let l=vE(e);SM(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=$M(i);u=RM(l[d],f)}return u}function vE(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let f=Ka([a,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),vE(i.children,t,p,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:_M(f,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let d of bE(i.path))s(i,l,d)}),t}function bE(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=bE(a.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function SM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TM(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const kM=/^:[\w-]+$/,OM=3,CM=2,AM=1,PM=10,EM=-2,p2=e=>e==="*";function _M(e,t){let r=e.split("/"),a=r.length;return r.some(p2)&&(a+=EM),t&&(a+=CM),r.filter(s=>!p2(s)).reduce((s,i)=>s+(kM.test(i)?OM:i===""?AM:PM),a)}function TM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function RM(e,t,r){let{routesMeta:a}=e,s={},i="/",l=[];for(let u=0;u<a.length;++u){let d=a[u],f=u===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=MM({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ka([i,m.pathname]),pathnameBase:qM(Ka([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Ka([i,m.pathnameBase]))}return l}function MM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=IM(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((f,p,m)=>{let{paramName:g,isOptional:b}=p;if(g==="*"){let j=u[m]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[m];return b&&!v?f[g]=void 0:f[g]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function IM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(a.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function $M(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ub(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const DM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LM=e=>DM.test(e);function FM(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Oo(e):e,i;if(r)if(LM(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),zb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=g2(r.substring(1),"/"):i=g2(r,t)}else i=t;return{pathname:i,search:zM(a),hash:UM(s)}}function g2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function _p(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wb(e,t){let r=BM(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Kb(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Oo(e):(s=Jl({},e),wt(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,u;if(l==null)u=r;else{let m=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=FM(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Ka=e=>e.join("/").replace(/\/\/+/g,"/"),qM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jE=["post","put","patch","delete"];new Set(jE);const KM=["get",...jE];new Set(KM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zl.apply(this,arguments)}const Hb=S.createContext(null),HM=S.createContext(null),Qa=S.createContext(null),zf=S.createContext(null),ia=S.createContext({outlet:null,matches:[],isDataRoute:!1}),wE=S.createContext(null);function GM(e,t){let{relative:r}=t===void 0?{}:t;Co()||wt(!1);let{basename:a,navigator:s}=S.useContext(Qa),{hash:i,pathname:l,search:u}=SE(e,{relative:r}),d=l;return a!=="/"&&(d=l==="/"?a:Ka([a,l])),s.createHref({pathname:d,search:u,hash:i})}function Co(){return S.useContext(zf)!=null}function Gs(){return Co()||wt(!1),S.useContext(zf).location}function NE(e){S.useContext(Qa).static||S.useLayoutEffect(e)}function Vs(){let{isDataRoute:e}=S.useContext(ia);return e?iI():VM()}function VM(){Co()||wt(!1);let e=S.useContext(Hb),{basename:t,future:r,navigator:a}=S.useContext(Qa),{matches:s}=S.useContext(ia),{pathname:i}=Gs(),l=JSON.stringify(Wb(s,r.v7_relativeSplatPath)),u=S.useRef(!1);return NE(()=>{u.current=!0}),S.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){a.go(f);return}let m=Kb(f,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ka([t,m.pathname])),(p.replace?a.replace:a.push)(m,p.state,p)},[t,a,l,i,e])}function Uf(){let{matches:e}=S.useContext(ia),t=e[e.length-1];return t?t.params:{}}function SE(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=S.useContext(Qa),{matches:s}=S.useContext(ia),{pathname:i}=Gs(),l=JSON.stringify(Wb(s,a.v7_relativeSplatPath));return S.useMemo(()=>Kb(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function QM(e,t){return YM(e,t)}function YM(e,t,r,a){Co()||wt(!1);let{navigator:s}=S.useContext(Qa),{matches:i}=S.useContext(ia),l=i[i.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Gs(),p;if(t){var m;let y=typeof t=="string"?Oo(t):t;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||wt(!1),p=y}else p=f;let g=p.pathname||"/",b=g;if(d!=="/"){let y=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=wM(e,{pathname:b}),j=tI(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Ka([d,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Ka([d,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,a);return t&&j?S.createElement(zf.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:za.Pop}},j):j}function XM(){let e=sI(),t=WM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const JM=S.createElement(XM,null);class ZM extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(ia.Provider,{value:this.props.routeContext},S.createElement(wE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eI(e){let{routeContext:t,match:r,children:a}=e,s=S.useContext(Hb);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(ia.Provider,{value:t},a)}function tI(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||wt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(r&&a&&a.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:b}=r,v=m.route.loader&&g[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let b,v=!1,j=null,y=null;r&&(b=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||JM,d&&(f<0&&g===0?(oI("route-fallback"),v=!0,y=null):f===g&&(v=!0,y=m.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,g+1)),A=()=>{let _;return b?_=j:v?_=y:m.route.Component?_=S.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,S.createElement(eI,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?S.createElement(ZM,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):A()},null)}var kE=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(kE||{}),OE=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(OE||{});function rI(e){let t=S.useContext(Hb);return t||wt(!1),t}function nI(e){let t=S.useContext(HM);return t||wt(!1),t}function aI(e){let t=S.useContext(ia);return t||wt(!1),t}function CE(e){let t=aI(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function sI(){var e;let t=S.useContext(wE),r=nI(),a=CE();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function iI(){let{router:e}=rI(kE.UseNavigateStable),t=CE(OE.UseNavigateStable),r=S.useRef(!1);return NE(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zl({fromRouteId:t},i)))},[e,t])}const x2={};function oI(e,t,r){x2[e]||(x2[e]=!0)}function lI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function AE(e){let{to:t,replace:r,state:a,relative:s}=e;Co()||wt(!1);let{future:i,static:l}=S.useContext(Qa),{matches:u}=S.useContext(ia),{pathname:d}=Gs(),f=Vs(),p=Kb(t,Wb(u,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return S.useEffect(()=>f(JSON.parse(m),{replace:r,state:a,relative:s}),[f,m,s,r,a]),null}function Le(e){wt(!1)}function cI(e){let{basename:t="/",children:r=null,location:a,navigationType:s=za.Pop,navigator:i,static:l=!1,future:u}=e;Co()&&wt(!1);let d=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:d,navigator:i,static:l,future:Zl({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);typeof a=="string"&&(a=Oo(a));let{pathname:p="/",search:m="",hash:g="",state:b=null,key:v="default"}=a,j=S.useMemo(()=>{let y=Ub(p,d);return y==null?null:{location:{pathname:y,search:m,hash:g,state:b,key:v},navigationType:s}},[d,p,m,g,b,v,s]);return j==null?null:S.createElement(Qa.Provider,{value:f},S.createElement(zf.Provider,{children:r,value:j}))}function uI(e){let{children:t,location:r}=e;return QM(sv(t),r)}new Promise(()=>{});function sv(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(a,s)=>{if(!S.isValidElement(a))return;let i=[...t,s];if(a.type===S.Fragment){r.push.apply(r,sv(a.props.children,i));return}a.type!==Le&&wt(!1),!a.props.index||!a.props.children||wt(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=sv(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iv.apply(this,arguments)}function dI(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hI(e,t){return e.button===0&&(!t||t==="_self")&&!fI(e)}function ov(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function mI(e,t){let r=ov(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const pI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gI="6";try{window.__reactRouterVersion=gI}catch{}const xI="startTransition",y2=ER[xI];function yI(e){let{basename:t,children:r,future:a,window:s}=e,i=S.useRef();i.current==null&&(i.current=vM({window:s,v5Compat:!0}));let l=i.current,[u,d]=S.useState({action:l.action,location:l.location}),{v7_startTransition:f}=a||{},p=S.useCallback(m=>{f&&y2?y2(()=>d(m)):d(m)},[d,f]);return S.useLayoutEffect(()=>l.listen(p),[l,p]),S.useEffect(()=>lI(a),[a]),S.createElement(cI,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:a})}const vI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=S.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,g=dI(t,pI),{basename:b}=S.useContext(Qa),v,j=!1;if(typeof f=="string"&&bI.test(f)&&(v=f,vI))try{let _=new URL(window.location.href),O=f.startsWith("//")?new URL(_.protocol+f):new URL(f),w=Ub(O.pathname,b);O.origin===_.origin&&w!=null?f=w+O.search+O.hash:j=!0}catch{}let y=GM(f,{relative:s}),k=jI(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function A(_){a&&a(_),_.defaultPrevented||k(_)}return S.createElement("a",iv({},g,{href:v||y,onClick:j||i?a:A,ref:r,target:d}))});var v2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v2||(v2={}));var b2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(b2||(b2={}));function jI(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:u}=t===void 0?{}:t,d=Vs(),f=Gs(),p=SE(e,{relative:l});return S.useCallback(m=>{if(hI(m,r)){m.preventDefault();let g=a!==void 0?a:Fd(f)===Fd(p);d(e,{replace:g,state:s,preventScrollReset:i,relative:l,viewTransition:u})}},[f,d,p,a,s,r,e,i,l,u])}function Wf(e){let t=S.useRef(ov(e)),r=S.useRef(!1),a=Gs(),s=S.useMemo(()=>mI(a.search,r.current?null:t.current),[a.search]),i=Vs(),l=S.useCallback((u,d)=>{const f=ov(typeof u=="function"?u(s):u);r.current=!0,i("?"+f,d)},[i,s]);return[s,l]}function wI({onClick:e,loading:t=!1}){return n.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),n.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),n.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),n.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),n.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const j2={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function NI(){const[e]=Wf(),[t,r]=S.useState(null);S.useEffect(()=>{const s=e.get("error");if(s&&j2[s]){r(j2[s]);const i=new URLSearchParams(e);i.delete("error");const l=i.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const a=()=>{const s="https://auth.nubabel.com";window.location.href=`${s}/auth/google`};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),n.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),n.jsx(wI,{onClick:a}),n.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const w2=e=>{let t;const r=new Set,a=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const g=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(b=>b(t,g))}},s=()=>t,u={setState:a,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=t=e(a,s,u);return u},SI=(e=>e?w2(e):w2),kI=e=>e;function OI(e,t=kI){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const N2=e=>{const t=SI(e),r=a=>OI(t,a);return Object.assign(r,t),r},PE=(e=>e?N2(e):N2);function EE(e,t){return function(){return e.apply(t,arguments)}}const{toString:CI}=Object.prototype,{getPrototypeOf:Gb}=Object,{iterator:Kf,toStringTag:_E}=Symbol,Hf=(e=>t=>{const r=CI.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),dn=e=>(e=e.toLowerCase(),t=>Hf(t)===e),Gf=e=>t=>typeof t===e,{isArray:Ao}=Array,Yi=Gf("undefined");function Bc(e){return e!==null&&!Yi(e)&&e.constructor!==null&&!Yi(e.constructor)&&yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const TE=dn("ArrayBuffer");function AI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&TE(e.buffer),t}const PI=Gf("string"),yr=Gf("function"),RE=Gf("number"),qc=e=>e!==null&&typeof e=="object",EI=e=>e===!0||e===!1,Rd=e=>{if(Hf(e)!=="object")return!1;const t=Gb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_E in e)&&!(Kf in e)},_I=e=>{if(!qc(e)||Bc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},TI=dn("Date"),RI=dn("File"),MI=dn("Blob"),II=dn("FileList"),$I=e=>qc(e)&&yr(e.pipe),DI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yr(e.append)&&((t=Hf(e))==="formdata"||t==="object"&&yr(e.toString)&&e.toString()==="[object FormData]"))},LI=dn("URLSearchParams"),[FI,BI,qI,zI]=["ReadableStream","Request","Response","Headers"].map(dn),UI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Ao(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Bc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let u;for(a=0;a<l;a++)u=i[a],t.call(null,e[u],u,e)}}function ME(e,t){if(Bc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IE=e=>!Yi(e)&&e!==bs;function lv(){const{caseless:e,skipUndefined:t}=IE(this)&&this||{},r={},a=(s,i)=>{const l=e&&ME(r,i)||i;Rd(r[l])&&Rd(s)?r[l]=lv(r[l],s):Rd(s)?r[l]=lv({},s):Ao(s)?r[l]=s.slice():(!t||!Yi(s))&&(r[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&zc(arguments[s],a);return r}const WI=(e,t,r,{allOwnKeys:a}={})=>(zc(t,(s,i)=>{r&&yr(s)?Object.defineProperty(e,i,{value:EE(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),KI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HI=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},GI=(e,t,r,a)=>{let s,i,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!a||a(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Gb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},VI=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},QI=e=>{if(!e)return null;if(Ao(e))return e;let t=e.length;if(!RE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},YI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gb(Uint8Array)),XI=(e,t)=>{const a=(e&&e[Kf]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},JI=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},ZI=dn("HTMLFormElement"),e8=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),S2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),t8=dn("RegExp"),$E=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};zc(r,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(a[i]=l||s)}),Object.defineProperties(e,a)},r8=e=>{$E(e,(t,r)=>{if(yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(yr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n8=(e,t)=>{const r={},a=s=>{s.forEach(i=>{r[i]=!0})};return Ao(e)?a(e):a(String(e).split(t)),r},a8=()=>{},s8=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function i8(e){return!!(e&&yr(e.append)&&e[_E]==="FormData"&&e[Kf])}const o8=e=>{const t=new Array(10),r=(a,s)=>{if(qc(a)){if(t.indexOf(a)>=0)return;if(Bc(a))return a;if(!("toJSON"in a)){t[s]=a;const i=Ao(a)?[]:{};return zc(a,(l,u)=>{const d=r(l,s+1);!Yi(d)&&(i[u]=d)}),t[s]=void 0,i}}return a};return r(e,0)},l8=dn("AsyncFunction"),c8=e=>e&&(qc(e)||yr(e))&&yr(e.then)&&yr(e.catch),DE=((e,t)=>e?setImmediate:t?((r,a)=>(bs.addEventListener("message",({source:s,data:i})=>{s===bs&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),bs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",yr(bs.postMessage)),u8=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||DE,d8=e=>e!=null&&yr(e[Kf]),ie={isArray:Ao,isArrayBuffer:TE,isBuffer:Bc,isFormData:DI,isArrayBufferView:AI,isString:PI,isNumber:RE,isBoolean:EI,isObject:qc,isPlainObject:Rd,isEmptyObject:_I,isReadableStream:FI,isRequest:BI,isResponse:qI,isHeaders:zI,isUndefined:Yi,isDate:TI,isFile:RI,isBlob:MI,isRegExp:t8,isFunction:yr,isStream:$I,isURLSearchParams:LI,isTypedArray:YI,isFileList:II,forEach:zc,merge:lv,extend:WI,trim:UI,stripBOM:KI,inherits:HI,toFlatObject:GI,kindOf:Hf,kindOfTest:dn,endsWith:VI,toArray:QI,forEachEntry:XI,matchAll:JI,isHTMLForm:ZI,hasOwnProperty:S2,hasOwnProp:S2,reduceDescriptors:$E,freezeMethods:r8,toObjectSet:n8,toCamelCase:e8,noop:a8,toFiniteNumber:s8,findKey:ME,global:bs,isContextDefined:IE,isSpecCompliantForm:i8,toJSONObject:o8,isAsyncFn:l8,isThenable:c8,setImmediate:DE,asap:u8,isIterable:d8};let Ie=class LE extends Error{static from(t,r,a,s,i,l){const u=new LE(t.message,r||t.code,a,s,i);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,a,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),a&&(this.config=a),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}};Ie.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ie.ERR_BAD_OPTION="ERR_BAD_OPTION";Ie.ECONNABORTED="ECONNABORTED";Ie.ETIMEDOUT="ETIMEDOUT";Ie.ERR_NETWORK="ERR_NETWORK";Ie.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ie.ERR_DEPRECATED="ERR_DEPRECATED";Ie.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ie.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ie.ERR_CANCELED="ERR_CANCELED";Ie.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ie.ERR_INVALID_URL="ERR_INVALID_URL";const f8=null;function cv(e){return ie.isPlainObject(e)||ie.isArray(e)}function FE(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function k2(e,t,r){return e?e.concat(t).map(function(s,i){return s=FE(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function h8(e){return ie.isArray(e)&&!e.some(cv)}const m8=ie.toFlatObject(ie,{},null,function(t){return/^is[A-Z]/.test(t)});function Vf(e,t,r){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,y){return!ie.isUndefined(y[j])});const a=r.metaTokens,s=r.visitor||p,i=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(ie.isDate(v))return v.toISOString();if(ie.isBoolean(v))return v.toString();if(!d&&ie.isBlob(v))throw new Ie("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(v)||ie.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,j,y){let k=v;if(v&&!y&&typeof v=="object"){if(ie.endsWith(j,"{}"))j=a?j:j.slice(0,-2),v=JSON.stringify(v);else if(ie.isArray(v)&&h8(v)||(ie.isFileList(v)||ie.endsWith(j,"[]"))&&(k=ie.toArray(v)))return j=FE(j),k.forEach(function(_,O){!(ie.isUndefined(_)||_===null)&&t.append(l===!0?k2([j],O,i):l===null?j:j+"[]",f(_))}),!1}return cv(v)?!0:(t.append(k2(y,j,i),f(v)),!1)}const m=[],g=Object.assign(m8,{defaultVisitor:p,convertValue:f,isVisitable:cv});function b(v,j){if(!ie.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(v),ie.forEach(v,function(k,A){(!(ie.isUndefined(k)||k===null)&&s.call(t,k,ie.isString(A)?A.trim():A,j,g))===!0&&b(k,j?j.concat(A):[A])}),m.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return b(e),t}function O2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Vb(e,t){this._pairs=[],e&&Vf(e,this,t)}const BE=Vb.prototype;BE.append=function(t,r){this._pairs.push([t,r])};BE.toString=function(t){const r=t?function(a){return t.call(this,a,O2)}:O2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function p8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qE(e,t,r){if(!t)return e;const a=r&&r.encode||p8,s=ie.isFunction(r)?{serialize:r}:r,i=s&&s.serialize;let l;if(i?l=i(t,s):l=ie.isURLSearchParams(t)?t.toString():new Vb(t,s).toString(a),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class C2{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,function(a){a!==null&&t(a)})}}const zE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g8=typeof URLSearchParams<"u"?URLSearchParams:Vb,x8=typeof FormData<"u"?FormData:null,y8=typeof Blob<"u"?Blob:null,v8={isBrowser:!0,classes:{URLSearchParams:g8,FormData:x8,Blob:y8},protocols:["http","https","file","blob","url","data"]},Qb=typeof window<"u"&&typeof document<"u",uv=typeof navigator=="object"&&navigator||void 0,b8=Qb&&(!uv||["ReactNative","NativeScript","NS"].indexOf(uv.product)<0),j8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w8=Qb&&window.location.href||"http://localhost",N8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qb,hasStandardBrowserEnv:b8,hasStandardBrowserWebWorkerEnv:j8,navigator:uv,origin:w8},Symbol.toStringTag,{value:"Module"})),er={...N8,...v8};function S8(e,t){return Vf(e,new er.classes.URLSearchParams,{visitor:function(r,a,s,i){return er.isNode&&ie.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function k8(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function O8(e){const t={},r=Object.keys(e);let a;const s=r.length;let i;for(a=0;a<s;a++)i=r[a],t[i]=e[i];return t}function UE(e){function t(r,a,s,i){let l=r[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=i>=r.length;return l=!l&&ie.isArray(s)?s.length:l,d?(ie.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!u):((!s[l]||!ie.isObject(s[l]))&&(s[l]=[]),t(r,a,s[l],i)&&ie.isArray(s[l])&&(s[l]=O8(s[l])),!u)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const r={};return ie.forEachEntry(e,(a,s)=>{t(k8(a),s,r,0)}),r}return null}function C8(e,t,r){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Uc={transitional:zE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=ie.isObject(t);if(i&&ie.isHTMLForm(t)&&(t=new FormData(t)),ie.isFormData(t))return s?JSON.stringify(UE(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t)||ie.isReadableStream(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return S8(t,this.formSerializer).toString();if((u=ie.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Vf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),C8(t)):t}],transformResponse:[function(t){const r=this.transitional||Uc.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ie.isResponse(t)||ie.isReadableStream(t))return t;if(t&&ie.isString(t)&&(a&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ie.from(u,Ie.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{Uc.headers[e]={}});const A8=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P8=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!r||t[r]&&A8[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},A2=Symbol("internals");function Cl(e){return e&&String(e).trim().toLowerCase()}function Md(e){return e===!1||e==null?e:ie.isArray(e)?e.map(Md):String(e)}function E8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const _8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tp(e,t,r,a,s){if(ie.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!ie.isString(t)){if(ie.isString(a))return t.indexOf(a)!==-1;if(ie.isRegExp(a))return a.test(t)}}function T8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function R8(e,t){const r=ie.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,i,l){return this[a].call(this,t,s,i,l)},configurable:!0})})}let vr=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function i(u,d,f){const p=Cl(d);if(!p)throw new Error("header name must be a non-empty string");const m=ie.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=Md(u))}const l=(u,d)=>ie.forEach(u,(f,p)=>i(f,p,d));if(ie.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ie.isString(t)&&(t=t.trim())&&!_8(t))l(P8(t),r);else if(ie.isObject(t)&&ie.isIterable(t)){let u={},d,f;for(const p of t){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ie.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,r)}else t!=null&&i(r,t,a);return this}get(t,r){if(t=Cl(t),t){const a=ie.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return E8(s);if(ie.isFunction(r))return r.call(this,s,a);if(ie.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Cl(t),t){const a=ie.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Tp(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function i(l){if(l=Cl(l),l){const u=ie.findKey(a,l);u&&(!r||Tp(a,a[u],u,r))&&(delete a[u],s=!0)}}return ie.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const i=r[a];(!t||Tp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,a={};return ie.forEach(this,(s,i)=>{const l=ie.findKey(a,i);if(l){r[l]=Md(s),delete r[i];return}const u=t?T8(i):String(i).trim();u!==i&&delete r[i],r[u]=Md(s),a[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ie.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&ie.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[A2]=this[A2]={accessors:{}}).accessors,s=this.prototype;function i(l){const u=Cl(l);a[u]||(R8(s,l),a[u]=!0)}return ie.isArray(t)?t.forEach(i):i(t),this}};vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(vr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ie.freezeMethods(vr);function Rp(e,t){const r=this||Uc,a=t||r,s=vr.from(a.headers);let i=a.data;return ie.forEach(e,function(u){i=u.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function WE(e){return!!(e&&e.__CANCEL__)}let Wc=class extends Ie{constructor(t,r,a){super(t??"canceled",Ie.ERR_CANCELED,r,a),this.name="CanceledError",this.__CANCEL__=!0}};function KE(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function M8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function I8(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=a[i];l||(l=f),r[s]=d,a[s]=f;let m=i,g=0;for(;m!==s;)g+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),f-l<t)return;const b=p&&f-p;return b?Math.round(g*1e3/b):void 0}}function $8(e,t){let r=0,a=1e3/t,s,i;const l=(f,p=Date.now())=>{r=p,s=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=a?l(f,p):(s=f,i||(i=setTimeout(()=>{i=null,l(s)},a-m)))},()=>s&&l(s)]}const Bd=(e,t,r=3)=>{let a=0;const s=I8(50,250);return $8(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,d=l-a,f=s(d),p=l<=u;a=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},r)},P2=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},E2=e=>(...t)=>ie.asap(()=>e(...t)),D8=er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,L8=er.hasStandardBrowserEnv?{write(e,t,r,a,s,i,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];ie.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),ie.isString(a)&&u.push(`path=${a}`),ie.isString(s)&&u.push(`domain=${s}`),i===!0&&u.push("secure"),ie.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function F8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HE(e,t,r){let a=!F8(t);return e&&(a||r==!1)?B8(e,t):t}const _2=e=>e instanceof vr?{...e}:e;function Fs(e,t){t=t||{};const r={};function a(f,p,m,g){return ie.isPlainObject(f)&&ie.isPlainObject(p)?ie.merge.call({caseless:g},f,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function s(f,p,m,g){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return a(void 0,f,m,g)}else return a(f,p,m,g)}function i(f,p){if(!ie.isUndefined(p))return a(void 0,p)}function l(f,p){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function u(f,p,m){if(m in t)return a(f,p);if(m in e)return a(void 0,f)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>s(_2(f),_2(p),m,!0)};return ie.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||s,g=m(e[p],t[p],p);ie.isUndefined(g)&&m!==u||(r[p]=g)}),r}const GE=e=>{const t=Fs({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:u}=t;if(t.headers=l=vr.from(l),t.url=qE(HE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ie.isFormData(r)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ie.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(er.hasStandardBrowserEnv&&(a&&ie.isFunction(a)&&(a=a(t)),a||a!==!1&&D8(t.url))){const d=s&&i&&L8.read(i);d&&l.set(s,d)}return t},q8=typeof XMLHttpRequest<"u",z8=q8&&function(e){return new Promise(function(r,a){const s=GE(e);let i=s.data;const l=vr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,p,m,g,b,v;function j(){b&&b(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function k(){if(!y)return;const _=vr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:e,request:y};KE(function(P){r(P),j()},function(P){a(P),j()},w),y=null}"onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(k)},y.onabort=function(){y&&(a(new Ie("Request aborted",Ie.ECONNABORTED,e,y)),y=null)},y.onerror=function(O){const w=O&&O.message?O.message:"Network Error",C=new Ie(w,Ie.ERR_NETWORK,e,y);C.event=O||null,a(C),y=null},y.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||zE;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),a(new Ie(O,w.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,e,y)),y=null},i===void 0&&l.setContentType(null),"setRequestHeader"in y&&ie.forEach(l.toJSON(),function(O,w){y.setRequestHeader(w,O)}),ie.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),u&&u!=="json"&&(y.responseType=s.responseType),f&&([g,v]=Bd(f,!0),y.addEventListener("progress",g)),d&&y.upload&&([m,b]=Bd(d),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(p=_=>{y&&(a(!_||_.type?new Wc(null,e,y):_),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const A=M8(s.url);if(A&&er.protocols.indexOf(A)===-1){a(new Ie("Unsupported protocol "+A+":",Ie.ERR_BAD_REQUEST,e));return}y.send(i||null)})},U8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const i=function(f){if(!s){s=!0,u();const p=f instanceof Error?f:this.reason;a.abort(p instanceof Ie?p:new Wc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new Ie(`timeout of ${t}ms exceeded`,Ie.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>ie.asap(u),d}},W8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},K8=async function*(e,t){for await(const r of H8(e))yield*W8(r,t)},H8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},T2=(e,t,r,a)=>{const s=K8(e,t);let i=0,l,u=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){u(),d.close();return}let m=p.byteLength;if(r){let g=i+=m;r(g)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},R2=64*1024,{isFunction:md}=ie,G8=(({Request:e,Response:t})=>({Request:e,Response:t}))(ie.global),{ReadableStream:M2,TextEncoder:I2}=ie.global,$2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},V8=e=>{e=ie.merge.call({skipUndefined:!0},G8,e);const{fetch:t,Request:r,Response:a}=e,s=t?md(t):typeof fetch=="function",i=md(r),l=md(a);if(!s)return!1;const u=s&&md(M2),d=s&&(typeof I2=="function"?(v=>j=>v.encode(j))(new I2):async v=>new Uint8Array(await new r(v).arrayBuffer())),f=i&&u&&$2(()=>{let v=!1;const j=new r(er.origin,{body:new M2,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),p=l&&u&&$2(()=>ie.isReadableStream(new a("").body)),m={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(j,y)=>{let k=j&&j[v];if(k)return k.call(j);throw new Ie(`Response type '${v}' is not supported`,Ie.ERR_NOT_SUPPORT,y)})});const g=async v=>{if(v==null)return 0;if(ie.isBlob(v))return v.size;if(ie.isSpecCompliantForm(v))return(await new r(er.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(v)||ie.isArrayBuffer(v))return v.byteLength;if(ie.isURLSearchParams(v)&&(v=v+""),ie.isString(v))return(await d(v)).byteLength},b=async(v,j)=>{const y=ie.toFiniteNumber(v.getContentLength());return y??g(j)};return async v=>{let{url:j,method:y,data:k,signal:A,cancelToken:_,timeout:O,onDownloadProgress:w,onUploadProgress:C,responseType:P,headers:R,withCredentials:I="same-origin",fetchOptions:$}=GE(v),T=t||fetch;P=P?(P+"").toLowerCase():"text";let M=U8([A,_&&_.toAbortSignal()],O),K=null;const Y=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let U;try{if(C&&f&&y!=="get"&&y!=="head"&&(U=await b(R,k))!==0){let q=new r(j,{method:"POST",body:k,duplex:"half"}),F;if(ie.isFormData(k)&&(F=q.headers.get("content-type"))&&R.setContentType(F),q.body){const[G,ee]=P2(U,Bd(E2(C)));k=T2(q.body,R2,G,ee)}}ie.isString(I)||(I=I?"include":"omit");const B=i&&"credentials"in r.prototype,L={...$,signal:M,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:k,duplex:"half",credentials:B?I:void 0};K=i&&new r(j,L);let W=await(i?T(K,$):T(j,L));const X=p&&(P==="stream"||P==="response");if(p&&(w||X&&Y)){const q={};["status","statusText","headers"].forEach(de=>{q[de]=W[de]});const F=ie.toFiniteNumber(W.headers.get("content-length")),[G,ee]=w&&P2(F,Bd(E2(w),!0))||[];W=new a(T2(W.body,R2,G,()=>{ee&&ee(),Y&&Y()}),q)}P=P||"text";let z=await m[ie.findKey(m,P)||"text"](W,v);return!X&&Y&&Y(),await new Promise((q,F)=>{KE(q,F,{data:z,headers:vr.from(W.headers),status:W.status,statusText:W.statusText,config:v,request:K})})}catch(B){throw Y&&Y(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,v,K),{cause:B.cause||B}):Ie.from(B,B&&B.code,v,K)}}},Q8=new Map,VE=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:s}=t,i=[a,s,r];let l=i.length,u=l,d,f,p=Q8;for(;u--;)d=i[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:V8(t)),p=f;return f};VE();const Yb={http:f8,xhr:z8,fetch:{get:VE}};ie.forEach(Yb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const D2=e=>`- ${e}`,Y8=e=>ie.isFunction(e)||e===null||e===!1;function X8(e,t){e=ie.isArray(e)?e:[e];const{length:r}=e;let a,s;const i={};for(let l=0;l<r;l++){a=e[l];let u;if(s=a,!Y8(a)&&(s=Yb[(u=String(a)).toLowerCase()],s===void 0))throw new Ie(`Unknown adapter '${u}'`);if(s&&(ie.isFunction(s)||(s=s.get(t))))break;i[u||"#"+l]=s}if(!s){const l=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(D2).join(`
`):" "+D2(l[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const QE={getAdapter:X8,adapters:Yb};function Mp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wc(null,e)}function L2(e){return Mp(e),e.headers=vr.from(e.headers),e.data=Rp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QE.getAdapter(e.adapter||Uc.adapter,e)(e).then(function(a){return Mp(e),a.data=Rp.call(e,e.transformResponse,a),a.headers=vr.from(a.headers),a},function(a){return WE(a)||(Mp(e),a&&a.response&&(a.response.data=Rp.call(e,e.transformResponse,a.response),a.response.headers=vr.from(a.response.headers))),Promise.reject(a)})}const YE="1.13.4",Qf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const F2={};Qf.transitional=function(t,r,a){function s(i,l){return"[Axios v"+YE+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,u)=>{if(t===!1)throw new Ie(s(l," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!F2[l]&&(F2[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,u):!0}};Qf.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function J8(e,t,r){if(typeof e!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const u=e[i],d=u===void 0||l(u,i,e);if(d!==!0)throw new Ie("option "+i+" must be "+d,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+i,Ie.ERR_BAD_OPTION)}}const Id={assertOptions:J8,validators:Qf},bn=Id.validators;let Ms=class{constructor(t){this.defaults=t||{},this.interceptors={request:new C2,response:new C2}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Fs(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&Id.assertOptions(a,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),s!=null&&(ie.isFunction(s)?r.paramsSerializer={serialize:s}:Id.assertOptions(s,{encode:bn.function,serialize:bn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Id.assertOptions(r,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ie.merge(i.common,i[r.method]);i&&ie.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=vr.concat(l,i);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let p,m=0,g;if(!d){const v=[L2.bind(this),void 0];for(v.unshift(...u),v.push(...f),g=v.length,p=Promise.resolve(r);m<g;)p=p.then(v[m++],v[m++]);return p}g=u.length;let b=r;for(;m<g;){const v=u[m++],j=u[m++];try{b=v(b)}catch(y){j.call(this,y);break}}try{p=L2.call(this,b)}catch(v){return Promise.reject(v)}for(m=0,g=f.length;m<g;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=Fs(this.defaults,t);const r=HE(t.baseURL,t.url,t.allowAbsoluteUrls);return qE(r,t.params,t.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(t){Ms.prototype[t]=function(r,a){return this.request(Fs(a||{},{method:t,url:r,data:(a||{}).data}))}});ie.forEach(["post","put","patch"],function(t){function r(a){return function(i,l,u){return this.request(Fs(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ms.prototype[t]=r(),Ms.prototype[t+"Form"]=r(!0)});let Z8=class XE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(u=>{a.subscribe(u),i=u}).then(s);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,u){a.reason||(a.reason=new Wc(i,l,u),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new XE(function(s){t=s}),cancel:t}}};function e$(e){return function(r){return e.apply(null,r)}}function t$(e){return ie.isObject(e)&&e.isAxiosError===!0}const dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dv).forEach(([e,t])=>{dv[t]=e});function JE(e){const t=new Ms(e),r=EE(Ms.prototype.request,t);return ie.extend(r,Ms.prototype,t,{allOwnKeys:!0}),ie.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return JE(Fs(e,s))},r}const vt=JE(Uc);vt.Axios=Ms;vt.CanceledError=Wc;vt.CancelToken=Z8;vt.isCancel=WE;vt.VERSION=YE;vt.toFormData=Vf;vt.AxiosError=Ie;vt.Cancel=vt.CanceledError;vt.all=function(t){return Promise.all(t)};vt.spread=e$;vt.isAxiosError=t$;vt.mergeConfig=Fs;vt.AxiosHeaders=vr;vt.formToJSON=e=>UE(ie.isHTMLForm(e)?new FormData(e):e);vt.getAdapter=QE.getAdapter;vt.HttpStatusCode=dv;vt.default=vt;const{Axios:gte,AxiosError:xte,CanceledError:yte,isCancel:vte,CancelToken:bte,VERSION:jte,all:wte,Cancel:Nte,isAxiosError:Ste,spread:kte,toFormData:Ote,AxiosHeaders:Cte,HttpStatusCode:Ate,formToJSON:Pte,getAdapter:Ete,mergeConfig:_te}=vt;class Re extends Error{constructor(r,a,s){super(r);cd(this,"status");cd(this,"data");this.name="ApiError",this.status=a,this.data=s}}const Sn=vt.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function r$(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}Sn.interceptors.request.use(e=>{const t=r$();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function n$(e){var r,a;if(vt.isAxiosError(e)){const s=e,i=((r=s.response)==null?void 0:r.status)??null,l=(a=s.response)==null?void 0:a.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Re(u,i,l)}const t=e instanceof Error?e.message:String(e);return new Re(t,null,null)}let Ip=!1,$p=null;async function a$(){try{return await Sn.post("/auth/refresh"),!0}catch{return!1}}Sn.interceptors.response.use(e=>e,async e=>{var r,a,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&t&&!t._retried&&!((a=t.url)!=null&&a.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,Ip||(Ip=!0,$p=a$());const i=await $p;return Ip=!1,$p=null,i?Sn.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function le(e){try{return(await Sn.request(e)).data}catch(t){throw n$(t)}}const En=PE((e,t)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await le({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await le({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const a=await le({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(a.redirectUrl){window.location.href=a.redirectUrl;return}window.location.reload()}catch(a){console.error("Switch organization failed:",a)}},setUser:r=>{e({user:r})}}));function s$(){const[e,t]=S.useState(null),[r,a]=S.useState(!0),[s,i]=S.useState(null),{user:l}=En();S.useEffect(()=>{(async()=>{try{a(!0);const f=await fetch("/api/dashboard/stats",{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch dashboard stats");const p=await f.json();t(p),i(null)}catch(f){i(f instanceof Error?f.message:"Unknown error")}finally{a(!1)}})()},[]);const u=d=>d===0?"-":`${d}%`;return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),n.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(l==null?void 0:l.name)||"User","! Here's your workflow overview."]})]}),s&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:s})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),r?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.totalWorkflows)??0}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),r?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.recentExecutions)??0}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),r?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:u((e==null?void 0:e.successRate)??0)}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),r?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.pendingApprovals)??0}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(e==null?void 0:e.activeIntegrations)&&e.activeIntegrations.length>0&&n.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.activeIntegrations.map(d=>n.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:d},d))})]}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),n.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[n.jsx("li",{children:"Create your first workflow"}),n.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),n.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function i$({workflow:e,onExecute:t}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),n.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function ZE({workflowId:e,workflowName:t,isOpen:r,onClose:a,onSuccess:s}){const[i,l]=S.useState("{}"),[u,d]=S.useState("idle"),[f,p]=S.useState("");if(!r)return null;const m=async()=>{d("executing"),p("");try{let g={};i.trim()&&(g=JSON.parse(i)),await le({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:g}}),d("success"),setTimeout(()=>{s==null||s(),a()},1500)}catch(g){g instanceof SyntaxError?p("Invalid JSON format"):g instanceof Re?p(g.message):p("Execution failed"),d("error")}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:a}),n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:g=>g.stopPropagation(),children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:g=>g.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),n.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),n.jsx("textarea",{value:i,onChange:g=>l(g.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),n.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&n.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-green-600 text-xl",children:""}),n.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&n.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("span",{className:"text-red-800",children:f})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[n.jsx("button",{onClick:a,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function o$({isOpen:e,onClose:t,onSuccess:r}){const[a,s]=S.useState(""),[i,l]=S.useState(""),[u,d]=S.useState(!1),[f,p]=S.useState(null),m=async()=>{if(!a.trim()){p("Workflow name is required");return}d(!0),p(null);try{await le({url:"/api/workflows",method:"POST",data:{name:a.trim(),description:i.trim()||void 0,enabled:!0,config:{}}}),r(),t(),s(""),l("")}catch(g){let b="Failed to create workflow";g instanceof Re&&(g.status===403?b="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":b=g.message),p(b)}finally{d(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:g=>g.stopPropagation(),children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),f&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{id:"name",type:"text",value:a,onChange:g=>s(g.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{id:"description",value:i,onChange:g=>l(g.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function l$(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(!1),p=async()=>{try{i(null);const v=await le({url:"/api/workflows",method:"GET"});t(v.workflows)}catch(v){const j=v instanceof Re?v.message:"Failed to fetch workflows";i(j)}finally{a(!1)}};S.useEffect(()=>{p()},[]);const m=v=>{const j=e.find(y=>y.id===v);j&&u(j)},g=()=>{u(null)},b=()=>{p()};return r?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),n.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),n.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),s&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:s})}),e.length===0&&!s?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),n.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>n.jsx(i$,{workflow:v,onExecute:m},v.id))}),l&&n.jsx(ZE,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:g,onSuccess:b}),n.jsx(o$,{isOpen:d,onClose:()=>f(!1),onSuccess:p})]})}function c$(){var de;const{id:e}=Uf(),t=Vs(),[r,a]=S.useState(null),[s,i]=S.useState(!0),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(!1),[g,b]=S.useState(!1),[v,j]=S.useState(!1),[y,k]=S.useState(!1),[A,_]=S.useState(!1),[O,w]=S.useState(!1),[C,P]=S.useState(null),[R,I]=S.useState(null),[$,T]=S.useState([]),[M,K]=S.useState(""),[Y,U]=S.useState(""),[B,L]=S.useState(!0),W=async()=>{if(e)try{const oe=await le({url:`/api/workflows/${e}`,method:"GET"});a(oe.workflow),K(oe.workflow.name),U(oe.workflow.description||""),L(oe.workflow.enabled)}catch(oe){oe instanceof Re&&oe.status===404?u("Workflow not found"):u("Failed to load workflow")}finally{i(!1)}};S.useEffect(()=>{W()},[e]);const X=async()=>{if(!(!e||!M.trim())){m(!0);try{const oe=await le({url:`/api/workflows/${e}`,method:"PUT",data:{name:M.trim(),description:Y.trim()||null,enabled:B}});a(oe.workflow),f(!1)}catch(oe){const ne=oe instanceof Re?oe.message:"Failed to save";alert(ne)}finally{m(!1)}}},z=async()=>{if(e){b(!0);try{await le({url:`/api/workflows/${e}`,method:"DELETE"}),t("/workflows")}catch(oe){const ne=oe instanceof Re?oe.message:"Failed to delete";alert(ne),b(!1),k(!1)}}},q=async()=>{if(e){w(!0),I(null);try{const oe=await le({url:`/api/workflows/${e}/generate-sop`,method:"POST"});P(oe.sop),T(oe.sop.steps),_(!0)}catch(oe){const ne=oe instanceof Re?oe.message:"Failed to generate SOP";I(ne)}finally{w(!1)}}},F=()=>{C&&(alert(`SOP saved with ${$.length} steps. (This would save to database in production)`),_(!1))},G=(oe,ne,pe)=>{const ue=[...$];ue[oe]={...ue[oe],[ne]:pe},T(ue)},ee=oe=>{switch(oe){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return s?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):l||!r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l||"Workflow not found"}),n.jsx(Tt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):n.jsxs("div",{children:[n.jsxs("nav",{className:"mb-4 text-sm",children:[n.jsx(Tt,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),n.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),n.jsx("span",{className:"text-gray-600",children:r.name})]}),n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsx("div",{className:"flex-1",children:d?n.jsxs("div",{className:"space-y-4 max-w-xl",children:[n.jsx("input",{type:"text",value:M,onChange:oe=>K(oe.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),n.jsx("textarea",{value:Y,onChange:oe=>U(oe.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:B,onChange:oe=>L(oe.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[r.name,n.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),n.jsx("p",{className:"text-gray-600",children:r.description||"No description"})]})}),n.jsx("div",{className:"flex gap-2",children:d?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:X,disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:p?"Saving...":"Save"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),n.jsx("button",{onClick:q,disabled:O,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Generating...":"Generate SOP"}),n.jsx("button",{onClick:()=>j(!0),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),n.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((de=r.executions)==null?void 0:de.length)||0})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),r.executions&&r.executions.length>0?n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.executions.map(oe=>{const ne=oe.startedAt&&oe.completedAt?Math.round((new Date(oe.completedAt).getTime()-new Date(oe.startedAt).getTime())/1e3):null;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ee(oe.status)}`,children:oe.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.startedAt?new Date(oe.startedAt).toLocaleString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne!==null?`${ne}s`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx(Tt,{to:`/executions/${oe.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},oe.id)})})]}):n.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),v&&n.jsx(ZE,{workflowId:r.id,workflowName:r.name,isOpen:!0,onClose:()=>j(!1),onSuccess:()=>{j(!1),W()}}),y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:z,disabled:g,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:g?"Deleting...":"Delete"})]})]})}),A&&C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),R&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:R}),n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:$.map((oe,ne)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",ne+1,": Title"]}),n.jsx("input",{type:"text",value:oe.title,onChange:pe=>G(ne,"title",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),n.jsx("input",{type:"number",value:oe.expectedDuration,onChange:pe=>G(ne,"expectedDuration",parseInt(pe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:oe.description,onChange:pe=>G(ne,"description",pe.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:oe.approvalRequired,onChange:pe=>G(ne,"approvalRequired",pe.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},oe.id))}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function u$(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState("all");S.useEffect(()=>{(async()=>{try{const p=await le({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{a(!1)}})()},[]);const l=e.filter(f=>s==="all"?!0:f.status===s),u=f=>{switch(f){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),n.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),n.jsxs("div",{className:"mb-6 flex gap-2",children:[n.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),n.jsx("button",{onClick:()=>i("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),n.jsx("button",{onClick:()=>i("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),n.jsx("button",{onClick:()=>i("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),n.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>{var m;const p=f.startedAt&&f.completedAt?Math.round((new Date(f.completedAt).getTime()-new Date(f.startedAt).getTime())/1e3):null;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(f.status)}`,children:[d(f.status)," ",f.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=f.workflow)==null?void 0:m.name)||"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.startedAt?new Date(f.startedAt).toLocaleString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},f.id)})})]})})]})}function d$(){var U;const{id:e}=Uf(),[t,r]=S.useState(null),[a,s]=S.useState(null),[i,l]=S.useState(!0),[u,d]=S.useState(null),[f,p]=S.useState(!1),[m,g]=S.useState(!0),[b,v]=S.useState(!0),[j,y]=S.useState(null),[k,A]=S.useState(""),[_,O]=S.useState(!1),w=async()=>{var B;if(e)try{const L=await le({url:`/api/executions/${e}`,method:"GET"});r(L.execution),(B=L.execution.workflow)!=null&&B.sopEnabled&&await C()}catch(L){L instanceof Re&&L.status===404?d("Execution not found"):d("Failed to load execution")}finally{l(!1)}},C=async()=>{if(e)try{const B=await le({url:`/api/executions/${e}/sop-progress`,method:"GET"});s(B.progress)}catch{console.error("Failed to load SOP progress")}};S.useEffect(()=>{w()},[e]);const P=async()=>{if(!(!(t!=null&&t.workflowId)||!(t!=null&&t.inputData))){p(!0);try{await le({url:`/api/workflows/${t.workflowId}/execute`,method:"POST",data:{input:t.inputData}}),w()}catch(B){const L=B instanceof Re?B.message:"Failed to retry";alert(L)}finally{p(!1)}}},R=async()=>{if(e){y("approve");try{await le({url:`/api/executions/${e}/sop/approve`,method:"POST",data:{}}),await C(),await w()}catch(B){const L=B instanceof Re?B.message:"Failed to approve step";alert(L)}finally{y(null)}}},I=async()=>{if(!(!e||!k.trim())){y("skip");try{await le({url:`/api/executions/${e}/sop/skip`,method:"POST",data:{reason:k}}),O(!1),A(""),await C(),await w()}catch(B){const L=B instanceof Re?B.message:"Failed to skip step";alert(L)}finally{y(null)}}},$=B=>{switch(B){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:B}}},T=(B,L,W)=>B.result?$(B.result.status):L===W?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},M=(B,L)=>{if(!B)return"-";const W=new Date(B).getTime(),X=L?new Date(L).getTime():Date.now(),z=Math.round((X-W)/1e3);if(z<60)return`${z}s`;const q=Math.floor(z/60),F=z%60;return`${q}m ${F}s`},K=B=>{navigator.clipboard.writeText(B)};if(i)return n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(u||!t)return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u||"Execution not found"}),n.jsx(Tt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const Y=$(t.status);return n.jsxs("div",{children:[n.jsxs("nav",{className:"mb-4 text-sm",children:[n.jsx(Tt,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),n.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),n.jsxs("span",{className:"text-gray-600",children:[t.id.slice(0,8),"..."]})]}),n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${Y.bg} ${Y.text}`,children:[n.jsx("span",{className:"text-2xl",children:Y.icon}),Y.label]}),((U=t.workflow)==null?void 0:U.sopEnabled)&&n.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),t.workflow&&n.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",n.jsx(Tt,{to:`/workflows/${t.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:t.workflow.name})]})]}),t.status==="failed"&&n.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:f?"Retrying...":"Retry Execution"})]}),a&&a.steps.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{children:[a.completedSteps," / ",a.totalSteps," completed"]}),a.skippedSteps>0&&n.jsxs("span",{className:"text-gray-400",children:["(",a.skippedSteps," skipped)"]})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:n.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(a.completedSteps+a.skippedSteps)/a.totalSteps*100}%`}})}),n.jsx("div",{className:"space-y-3",children:a.steps.map((B,L)=>{var z,q,F,G,ee,de,oe;const W=T(B,L,a.currentStep),X=L===a.currentStep&&!((q=(z=B.result)==null?void 0:z.status)!=null&&q.match(/completed|skipped|failed/));return n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${X?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[n.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${W.bg} ${W.text} font-bold`,children:((F=B.result)==null?void 0:F.status)==="completed"||((G=B.result)==null?void 0:G.status)==="skipped"?W.icon:L+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:B.name}),n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${W.bg} ${W.text}`,children:B.type})]}),B.description&&n.jsx("p",{className:"text-sm text-gray-500 truncate",children:B.description}),((ee=B.result)==null?void 0:ee.skippedReason)&&n.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",B.result.skippedReason]}),((de=B.result)==null?void 0:de.error)&&n.jsx("p",{className:"text-sm text-red-600",children:B.result.error})]}),X&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:R,disabled:j!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:j==="approve"?"...":"Approve"}),B.skippable!==!1&&n.jsx("button",{onClick:()=>O(!0),disabled:j!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((oe=B.result)==null?void 0:oe.completedAt)&&n.jsx("span",{className:"text-xs text-gray-400",children:new Date(B.result.completedAt).toLocaleTimeString()})]},B.id)})})]}),_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),n.jsx("textarea",{value:k,onChange:B=>A(B.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>{O(!1),A("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:I,disabled:!k.trim()||j==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:j==="skip"?"Skipping...":"Skip Step"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),n.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),n.jsx("p",{className:"font-medium",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),n.jsx("p",{className:"font-medium",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),n.jsx("p",{className:"font-medium",children:M(t.startedAt,t.completedAt)})]})]})]}),t.errorMessage&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),n.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:t.errorMessage})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[n.jsxs("button",{onClick:()=>g(!m),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),n.jsx("span",{className:"text-gray-400",children:m?"":""})]}),m&&n.jsx("div",{className:"p-6",children:t.inputData?n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>K(JSON.stringify(t.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),n.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.inputData,null,2)})]}):n.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsxs("button",{onClick:()=>v(!b),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),n.jsx("span",{className:"text-gray-400",children:b?"":""})]}),b&&n.jsx("div",{className:"p-6",children:t.outputData?n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>K(JSON.stringify(t.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),n.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.outputData,null,2)})]}):n.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function f$(){const{user:e,currentOrganization:t}=En(),[r,a]=S.useState((e==null?void 0:e.name)||""),[s,i]=S.useState(!1),[l,u]=S.useState({}),[d,f]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState(""),[v,j]=S.useState(!1),[y,k]=S.useState(null),[A,_]=S.useState(null);S.useEffect(()=>{(async()=>{try{const I=await le({url:"/api/organization/settings",method:"GET"});u(I.settings)}catch(I){console.error("Failed to fetch API key settings:",I)}})()},[]);const O=async()=>{j(!0),k(null),_(null);try{const R={};if(d&&(R.anthropicApiKey=d),p&&(R.openaiApiKey=p),g&&(R.openrouterApiKey=g),Object.keys(R).length===0){k("Please enter at least one API key"),j(!1);return}await le({url:"/api/organization/settings/api-keys",method:"PUT",data:R});const I=await le({url:"/api/organization/settings",method:"GET"});u(I.settings),f(""),m(""),b(""),_("API keys saved successfully")}catch(R){const I=R instanceof Re?R.message:"Failed to save API keys";k(I)}finally{j(!1)}},w=async R=>{if(confirm(`Are you sure you want to delete ${R}?`))try{await le({url:`/api/organization/settings/api-keys/${R}`,method:"DELETE"});const I=await le({url:"/api/organization/settings",method:"GET"});u(I.settings),_(`${R} deleted successfully`)}catch(I){const $=I instanceof Re?I.message:"Failed to delete API key";k($)}},C=async()=>{i(!0);try{await le({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(R){const I=R instanceof Re?R.message:"Failed to update profile";console.error("Save failed:",R),alert(I)}finally{i(!1)}},P=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await le({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(R){const I=R instanceof Re?R.message:"Failed to logout from all devices";console.error("Logout all failed:",R),alert(I)}};return n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),n.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?n.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):n.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:C,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),n.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),n.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),n.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),y&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),A&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:A}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",l.anthropicApiKeySet&&n.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.anthropicApiKeySet?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),n.jsx("button",{onClick:()=>w("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):n.jsx("input",{type:"password",value:d,onChange:R=>f(R.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",n.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",l.openaiApiKeySet&&n.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openaiApiKeySet?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),n.jsx("button",{onClick:()=>w("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):n.jsx("input",{type:"password",value:p,onChange:R=>m(R.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",l.openrouterApiKeySet&&n.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openrouterApiKeySet?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),n.jsx("button",{onClick:()=>w("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):n.jsx("input",{type:"password",value:g,onChange:R=>b(R.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:O,disabled:v||!d&&!p&&!g,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Save API Keys"})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),n.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function h$(){const[e,t]=Wf(),[r,a]=S.useState(null),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(!1),[p,m]=S.useState(null);S.useEffect(()=>{const k=e.get("success"),A=e.get("error");k==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):A&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[A]||`Error: ${A}`}),t({})),g()},[e,t]);const g=async()=>{try{const k=await le({url:"/api/notion/oauth/status",method:"GET"});a(k),k.connected&&await b()}catch(k){if(k instanceof Re&&k.status===404){a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",k)}finally{u(!1)}},b=async()=>{try{const k=await le({url:"/api/notion/databases",method:"GET"});i(k.databases||[])}catch{i([])}},v=()=>{window.location.href="/api/notion/oauth/install"},j=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){f(!0),m(null);try{await le({url:"/api/notion/oauth/disconnect",method:"DELETE"}),a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),i([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{f(!1)}}};if(l)return n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const y=(r==null?void 0:r.connected)??!1;return n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),n.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&n.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:y&&r?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:r.workspaceIcon?n.jsx("img",{src:r.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):n.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName||"Notion Workspace"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.workspaceId&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),n.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),r.botId&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),n.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botId})]}),r.connectedAt&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Connected:"}),n.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.connectedAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[n.jsx("button",{onClick:v,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),n.jsx("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Disconnecting...":"Disconnect"})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),n.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),y&&s.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),n.jsx("button",{onClick:b,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),n.jsx("div",{className:"space-y-2",children:s.map(k=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:k.title}),n.jsx("p",{className:"text-sm text-gray-500 font-mono",children:k.id})]}),n.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},k.id))})]}),y&&s.length===0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),n.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",n.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),n.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),n.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function m$(){const[e,t]=Wf(),[r,a]=S.useState(null),[s,i]=S.useState(!0),[l,u]=S.useState(!1),[d,f]=S.useState(null);S.useEffect(()=>{const v=e.get("success"),j=e.get("error");v==="true"?(f({type:"success",text:"Slack workspace connected successfully!"}),t({})):j&&(f({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[j]||`Error: ${j}`}),t({})),p()},[e,t]);const p=async()=>{try{const v=await le({url:"/api/slack/integration",method:"GET"});a(v.integration)}catch(v){if(v instanceof Re&&v.status===404){a(null);return}console.error("Fetch integration error:",v)}finally{i(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},g=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),f(null);try{await le({url:"/api/slack/integration",method:"DELETE"}),a(null),f({type:"success",text:"Slack disconnected successfully."})}catch{f({type:"error",text:"Failed to disconnect Slack."})}finally{u(!1)}}};if(s)return n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const b=!!(r!=null&&r.hasWorkspace&&(r!=null&&r.workspaceId));return n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),n.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&n.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:b&&r?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.workspaceName}),n.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),n.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),n.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Installed:"}),n.jsx("span",{className:"ml-2 text-gray-700",children:r.installedAt?new Date(r.installedAt).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),n.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(v=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),n.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[n.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),n.jsx("button",{onClick:g,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),n.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),n.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function p$(){const[e,t]=S.useState(null),[r,a]=S.useState([]),[s,i]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(!0),[g,b]=S.useState(!1),[v,j]=S.useState(!1),[y,k]=S.useState(null);S.useEffect(()=>{A()},[]);const A=async()=>{try{const P=await le({url:"/api/google-calendar/connection",method:"GET"});t(P.connection),f(P.connection.calendarId||""),await _()}catch(P){if(P instanceof Re&&P.status===404){t(null);return}console.error("Fetch connection error:",P)}finally{m(!1)}},_=async()=>{try{const P=await le({url:"/api/google-calendar/calendars",method:"GET"});a(P.calendars||[])}catch(P){console.error("Fetch calendars error:",P)}},O=async()=>{if(!s){k({type:"error",text:"Please enter an access token"});return}j(!0),k(null);try{const P=await le({url:"/api/google-calendar/test",method:"POST",data:{accessToken:s,refreshToken:l||void 0}});P.success?k({type:"success",text:`Connection successful! Email: ${P.email}, ${P.calendars||0} calendars found.`}):k({type:"error",text:P.error||"Connection failed"})}catch(P){const R=P instanceof Re?P.message:"Failed to test connection";k({type:"error",text:R})}finally{j(!1)}},w=async()=>{if(!s){k({type:"error",text:"Please enter an access token"});return}b(!0),k(null);try{const R=await le({url:"/api/google-calendar/connection",method:e?"PUT":"POST",data:{accessToken:s,refreshToken:l||void 0,calendarId:d||void 0}});t(R.connection),k({type:"success",text:"Google Calendar connection saved successfully"}),await _(),i(""),u("")}catch(P){const R=P instanceof Re?P.message:"Failed to save connection";k({type:"error",text:R})}finally{b(!1)}},C=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){b(!0),k(null);try{await le({url:"/api/google-calendar/connection",method:"DELETE"}),t(null),a([]),f(""),k({type:"success",text:"Google Calendar connection deleted"})}catch(P){const R=P instanceof Re?P.message:"Failed to delete connection";k({type:"error",text:R})}finally{b(!1)}}};return p?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),n.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),y&&n.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:y.text}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),n.jsx("input",{id:"accessToken",type:"password",value:s,onChange:P=>i(P.target.value),placeholder:e?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),n.jsx("input",{id:"refreshToken",type:"password",value:l,onChange:P=>u(P.target.value),placeholder:e?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",n.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:O,disabled:v||!s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Testing...":"Test Connection"}),n.jsx("button",{onClick:w,disabled:g||!s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":e?"Update":"Save"}),e&&n.jsx("button",{onClick:C,disabled:g,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),n.jsxs("select",{id:"defaultCalendar",value:d,onChange:P=>f(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"-- Primary Calendar --"}),r.map(P=>n.jsxs("option",{value:P.id,children:[P.summary," ",P.primary?"(Primary)":""]},P.id))]})]}),n.jsx("div",{className:"space-y-2",children:r.map(P=>n.jsx("div",{className:`p-4 border rounded-lg transition ${P.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-900",children:[P.summary,P.primary&&n.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),P.description&&n.jsx("p",{className:"text-sm text-gray-500",children:P.description}),n.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:P.id})]})})},P.id))})]}),e&&r.length===0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),n.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),n.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),n.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function g$(){return ko({queryKey:["identities","user"],queryFn:async()=>(await le({url:"/api/identities",method:"GET"})).identities})}function x$(){return ko({queryKey:["identities","suggestions"],queryFn:async()=>(await le({url:"/api/identities/suggestions",method:"GET"})).suggestions})}function y$(){const e=sa();return Hs({mutationFn:async({identityId:t,reason:r})=>le({url:`/api/identities/${t}/unlink`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]})}})}function v$(){const e=sa();return Hs({mutationFn:async({suggestionId:t,reason:r})=>le({url:`/api/identities/suggestions/${t}/accept`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]}),e.invalidateQueries({queryKey:["identities","suggestions"]})}})}function b$(){const e=sa();return Hs({mutationFn:async({suggestionId:t,reason:r})=>le({url:`/api/identities/suggestions/${t}/reject`,method:"POST",data:{reason:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","suggestions"]})}})}const e_={slack:{name:"Slack",color:"#4A154B",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})},google:{name:"Google",color:"#4285F4",icon:n.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})},notion:{name:"Notion",color:"#000000",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"})})}};function j$({identity:e,onUnlink:t,isUnlinking:r}){const a=e_[e.provider];return n.jsxs("div",{className:"border-4 border-black bg-white",children:[n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:a.color,color:"white"},children:a.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:a.name}),e.displayName&&n.jsx("div",{className:"text-sm text-gray-900",children:e.displayName}),e.email&&n.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.email})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t-2 border-black",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Linked"}),n.jsx("div",{className:"text-sm font-mono",children:e.linkedAt?new Date(e.linkedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Method"}),n.jsx("div",{className:"text-sm font-mono uppercase",children:e.linkMethod||"N/A"})]})]})]}),n.jsx("div",{className:"border-t-4 border-black bg-gray-50 px-6 py-3",children:n.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-red-600 hover:text-white hover:border-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:r?"UNLINKING...":"UNLINK"})})]})}function w$({suggestion:e,onAccept:t,onReject:r,isProcessing:a}){const s=e_[e.externalIdentity.provider],i=Math.round(e.confidenceScore*100);return n.jsxs("div",{className:"border-4 border-black bg-yellow-50",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:s.color,color:"white"},children:s.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:s.name}),e.externalIdentity.displayName&&n.jsx("div",{className:"text-sm text-gray-900",children:e.externalIdentity.displayName}),e.externalIdentity.email&&n.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.externalIdentity.email})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Confidence"}),n.jsxs("div",{className:"text-2xl font-mono font-bold",children:[i,"%"]})]})]}),n.jsxs("div",{className:"pt-4 border-t-2 border-black",children:[n.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Match Method"}),n.jsx("div",{className:"text-sm font-mono",children:e.matchMethod})]})]}),n.jsx("div",{className:"border-t-4 border-black bg-white px-6 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>t(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-green-400 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ACCEPT"}),n.jsx("button",{onClick:()=>r(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"REJECT"})]})})]})}function N$(){const[e,t]=S.useState(null),{data:r,isLoading:a}=g$(),{data:s,isLoading:i}=x$(),l=y$(),u=v$(),d=b$(),f=async j=>{if(confirm("Are you sure you want to unlink this identity?"))try{await l.mutateAsync({identityId:j}),t({type:"success",text:"Identity unlinked successfully"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to unlink identity"}),setTimeout(()=>t(null),5e3)}},p=async j=>{try{await u.mutateAsync({suggestionId:j}),t({type:"success",text:"Suggestion accepted and identity linked"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to accept suggestion"}),setTimeout(()=>t(null),5e3)}},m=async j=>{try{await d.mutateAsync({suggestionId:j}),t({type:"success",text:"Suggestion rejected"}),setTimeout(()=>t(null),5e3)}catch(y){t({type:"error",text:y.message||"Failed to reject suggestion"}),setTimeout(()=>t(null),5e3)}};if(a||i)return n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block w-16 h-16 border-8 border-black border-t-transparent animate-spin"}),n.jsx("p",{className:"mt-4 font-mono font-bold uppercase tracking-wider",children:"LOADING..."})]})});const b=(r==null?void 0:r.filter(j=>j.linkStatus==="linked"))||[],v=s||[];return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"mb-8 pb-6 border-b-4 border-black",children:[n.jsx("h1",{className:"text-5xl font-mono font-black uppercase tracking-tighter mb-2",children:"Linked Identities"}),n.jsx("p",{className:"text-lg font-mono text-gray-700",children:"Manage external service connections to your account"})]}),e&&n.jsx("div",{className:`mb-6 p-4 border-4 font-mono ${e.type==="success"?"border-green-600 bg-green-50 text-green-900":"border-red-600 bg-red-50 text-red-900"}`,children:e.text}),v.length>0&&n.jsxs("div",{className:"mb-12",children:[n.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Pending Suggestions (",v.length,")"]}),n.jsx("p",{className:"text-sm font-mono text-gray-600 mb-6",children:"We found these identities that might belong to you. Review and accept or reject them."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(j=>n.jsx(w$,{suggestion:j,onAccept:p,onReject:m,isProcessing:u.isPending||d.isPending},j.id))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Linked Identities (",b.length,")"]}),b.length===0?n.jsxs("div",{className:"border-4 border-black bg-gray-50 p-12 text-center",children:[n.jsx("div",{className:"mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:n.jsx("path",{strokeLinecap:"square",strokeLinejoin:"miter",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),n.jsx("h3",{className:"font-mono font-bold text-lg uppercase tracking-tight text-gray-900 mb-2",children:"No Linked Identities"}),n.jsxs("p",{className:"font-mono text-sm text-gray-600",children:["You haven't linked any external service identities yet.",n.jsx("br",{}),"Check pending suggestions above or contact your administrator."]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(j=>n.jsx(j$,{identity:j,onUnlink:f,isUnlinking:l.isPending},j.id))})]})]})}function S$(){return ko({queryKey:["member-identities"],queryFn:async()=>{const e=await le({url:"/api/admin/identities",method:"GET",params:{status:"linked",limit:1e3}}),t=new Map;return e.identities.forEach(r=>{if(r.userId){const a=t.get(r.userId)||[];a.push(r),t.set(r.userId,a)}}),t},staleTime:6e4})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=e=>{const t=O$(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>S.createElement("svg",{ref:d,...C$,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:t_("lucide",s),...!i&&!A$(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>S.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(e,t)=>{const r=S.forwardRef(({className:a,...s},i)=>S.createElement(P$,{ref:i,iconNode:t,className:t_(`lucide-${k$(B2(e))}`,`lucide-${e}`,a),...s}));return r.displayName=B2(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_$=zt("check",E$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fv=zt("circle-alert",T$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],r_=zt("circle-check-big",R$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I$=zt("circle-question-mark",M$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D$=zt("clock",$$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F$=zt("external-link",L$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yf=zt("file-text",B$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],n_=zt("link",q$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xf=zt("mail",z$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Jf=zt("message-square",U$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K$=zt("pen",W$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],G$=zt("plus",H$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],q2=zt("refresh-cw",V$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Y$=zt("rotate-ccw",Q$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],J$=zt("trash-2",X$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],eD=zt("unlink",Z$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rD=zt("x",tD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aD=zt("zap",nD);function sD({organizationId:e,isOpen:t,onClose:r,onSuccess:a}){const[s,i]=S.useState(""),[l,u]=S.useState("member"),[d,f]=S.useState(!1),[p,m]=S.useState(null),g=async()=>{if(!s.trim()){m("Email is required");return}f(!0),m(null);try{await le({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),a(),r(),i(""),u("member")}catch(b){const v=b instanceof Re?b.message:"Failed to invite member";m(v)}finally{f(!1)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),n.jsx("input",{id:"email",type:"email",value:s,onChange:b=>i(b.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{id:"role",value:l,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"admin",children:"Admin - Full access"}),n.jsx("option",{value:"member",children:"Member - Can execute workflows"}),n.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function iD({userId:e,currentRole:t,organizationId:r,currentUserId:a,onSuccess:s}){const[i,l]=S.useState(!1),u=e===a,d=async f=>{if(f!==t){l(!0);try{await le({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:f}}),s()}catch(p){const m=p instanceof Re?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return n.jsxs("select",{value:t,onChange:f=>d(f.target.value),disabled:i||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${i?"opacity-50":""}`,children:[n.jsx("option",{value:"owner",children:"Owner"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"member",children:"Member"}),n.jsx("option",{value:"viewer",children:"Viewer"})]})}const a_={slack:Jf,google:Xf,notion:Yf},oD={slack:"bg-purple-100 text-purple-600",google:"bg-blue-100 text-blue-600",notion:"bg-gray-100 text-gray-600"},hv={slack:"Slack",google:"Google",notion:"Notion"};function lD({identity:e}){const t=a_[e.provider],r=oD[e.provider],a=hv[e.provider],s=e.email||e.displayName||`${a} Account`;return n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${r} transition-all hover:shadow-sm`,title:s,children:[n.jsx(t,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:a})]}),n.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-10",children:s})]})}function cD({identities:e,allProviders:t}){return n.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map(r=>{const a=e.find(i=>i.provider===r),s=a_[r];return a?n.jsx(lD,{identity:a},r):n.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-50 text-gray-300 border border-gray-200",title:`No ${hv[r]} account linked`,children:[n.jsx(s,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:hv[r]})]},r)})})}function uD(){const{currentOrganization:e,user:t}=En(),[r,a]=S.useState([]),[s,i]=S.useState(!0),[l,u]=S.useState(!1),[d,f]=S.useState("all"),[p,m]=S.useState("all"),g=e==null?void 0:e.id,b=t==null?void 0:t.id,{data:v,isLoading:j}=S$(),y=S.useCallback(async()=>{if(g)try{const w=await le({url:`/api/organizations/${g}/members`,method:"GET"});a(w.members)}catch(w){console.error("Failed to fetch members:",w)}finally{i(!1)}},[g]);S.useEffect(()=>{y()},[y]);const k=async(w,C)=>{if(confirm(`Are you sure you want to remove ${C} from this organization?`))try{await le({url:`/api/organizations/${g}/members/${w}`,method:"DELETE"}),y()}catch(P){const R=P instanceof Re?P.message:"Failed to remove member";alert(R)}},A=w=>w?new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",_=r.filter(w=>{const C=(v==null?void 0:v.get(w.userId))||[];if(d!=="all"&&!C.some(R=>R.provider===d))return!1;if(p==="linked"){if(C.length===0)return!1}else if(p==="unlinked"&&C.length>0)return!1;return!0}),O={total:r.length,withSlack:r.filter(w=>((v==null?void 0:v.get(w.userId))||[]).some(C=>C.provider==="slack")).length,withGoogle:r.filter(w=>((v==null?void 0:v.get(w.userId))||[]).some(C=>C.provider==="google")).length,withNotion:r.filter(w=>((v==null?void 0:v.get(w.userId))||[]).some(C=>C.provider==="notion")).length,fullyLinked:r.filter(w=>((v==null?void 0:v.get(w.userId))||[]).length===3).length,noLinks:r.filter(w=>((v==null?void 0:v.get(w.userId))||[]).length===0).length};return s?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):n.jsxs("div",{className:"max-w-7xl",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),n.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their linked accounts"})]}),n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),!j&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Members"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Jf,{className:"w-4 h-4 text-purple-600"}),n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:O.withSlack})]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Slack Linked"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Xf,{className:"w-4 h-4 text-blue-600"}),n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:O.withGoogle})]}),n.jsx("div",{className:"text-sm text-blue-700",children:"Google Linked"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Yf,{className:"w-4 h-4 text-gray-600"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.withNotion})]}),n.jsx("div",{className:"text-sm text-gray-700",children:"Notion Linked"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(n_,{className:"w-4 h-4 text-green-600"}),n.jsx("div",{className:"text-2xl font-bold text-green-900",children:O.fullyLinked})]}),n.jsx("div",{className:"text-sm text-green-700",children:"Fully Linked"})]}),n.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:O.noLinks}),n.jsx("div",{className:"text-sm text-orange-700",children:"No Links"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provider:"}),n.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"all",children:"All Providers"}),n.jsx("option",{value:"slack",children:"Slack Only"}),n.jsx("option",{value:"google",children:"Google Only"}),n.jsx("option",{value:"notion",children:"Notion Only"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Status:"}),n.jsxs("select",{value:p,onChange:w=>m(w.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"all",children:"All Members"}),n.jsx("option",{value:"linked",children:"Has Linked Accounts"}),n.jsx("option",{value:"unlinked",children:"No Linked Accounts"})]})]}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",_.length," of ",r.length," members"]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(w=>{const C=(v==null?void 0:v.get(w.userId))||[];return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:w.avatarUrl?n.jsx("img",{className:"h-10 w-10 rounded-full",src:w.avatarUrl,alt:w.name}):n.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm font-medium",children:w.name.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[w.name,w.userId===b&&n.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),n.jsx("div",{className:"text-sm text-gray-500",children:w.email})]})]})}),n.jsx("td",{className:"px-6 py-4",children:j?n.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):C.length>0?n.jsx(cD,{userId:w.userId,identities:C,allProviders:["slack","google","notion"]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No linked accounts"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g&&b&&n.jsx(iD,{userId:w.userId,currentRole:w.role,organizationId:g,currentUserId:b,onSuccess:y})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.status==="active"?"Active":"Pending"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(w.joinedAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:w.userId!==b&&n.jsx("button",{onClick:()=>k(w.userId,w.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},w.id)})})]}),_.length===0&&r.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members match filters"}),n.jsx("p",{className:"text-gray-600",children:"Try adjusting your filter criteria"})]}),r.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),n.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),g&&n.jsx(sD,{organizationId:g,isOpen:l,onClose:()=>u(!1),onSuccess:y})]})}function dD(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[l,u]=S.useState("pending"),[d,f]=S.useState("all"),[p,m]=S.useState({page:1,total:0,totalPages:0}),[g,b]=S.useState(null),v=S.useCallback(async()=>{a(!0),i(null);try{const O=await le({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:p.page,limit:20}});t(O.approvals),m({page:O.pagination.page,total:O.pagination.total,totalPages:O.pagination.totalPages})}catch(O){const w=O instanceof Re?O.message:"Failed to fetch approvals";i(w)}finally{a(!1)}},[l,d,p.page]);S.useEffect(()=>{v()},[v]);const j=async(O,w)=>{b(O);try{await le({url:`/api/approvals/${O}/respond`,method:"PUT",data:{action:w}}),v()}catch(C){const P=C instanceof Re?C.message:"Failed to respond to approval";i(P)}finally{b(null)}},y=O=>{const w={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w[O]}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},k=O=>{const w={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w[O].bg}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},A=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=O=>new Date(O)<new Date;return r&&e.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),n.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:l,onChange:O=>{u(O.target.value),m(w=>({...w,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"expired",children:"Expired"}),n.jsx("option",{value:"all",children:"All"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:d,onChange:O=>{f(O.target.value),m(w=>({...w,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"budget",children:"Budget"}),n.jsx("option",{value:"deployment",children:"Deployment"}),n.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"":""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),n.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.title}),n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:O.description})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(O.type)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(O.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(O.expiresAt)?n.jsx("span",{className:"text-red-600",children:"Expired"}):A(O.expiresAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.status==="pending"&&!_(O.expiresAt)?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>j(O.id,"approved"),disabled:g===O.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:g===O.id?"...":"Approve"}),n.jsx("button",{onClick:()=>j(O.id,"rejected"),disabled:g===O.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:g===O.id?"...":"Reject"})]}):n.jsx("span",{className:"text-sm text-gray-400",children:O.respondedAt?A(O.respondedAt):"-"})})]},O.id))})]}),p.totalPages>1&&n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>m(O=>({...O,page:O.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),n.jsx("button",{onClick:()=>m(O=>({...O,page:O.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const fD=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function hD(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:a=10,onEvent:s}=e,[i,l]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(null),m=S.useRef(null),g=S.useRef(0),b=S.useRef(null),v=S.useRef(s),j=S.useRef([]);S.useEffect(()=>{v.current=s},[s]);const y=S.useCallback(()=>{m.current&&(j.current.forEach(({type:_,handler:O})=>{var w;(w=m.current)==null||w.removeEventListener(_,O)}),j.current=[],m.current.close(),m.current=null),b.current&&(clearTimeout(b.current),b.current=null)},[]),k=S.useCallback(()=>{y();const O=`https://auth.nubabel.com${t}`;try{const w=new EventSource(O,{withCredentials:!0});m.current=w,w.onopen=()=>{l(!0),p(null),g.current=0},w.onerror=()=>{if(l(!1),y(),g.current<a){const C=r*Math.pow(2,g.current);g.current+=1,b.current=setTimeout(()=>{k()},C)}else p("Failed to connect to server. Please refresh the page.")},w.onmessage=C=>{var P;try{const R=JSON.parse(C.data),I={type:R.type||"message",data:R.data||R,timestamp:Date.now()};d(I),(P=v.current)==null||P.call(v,I)}catch{C.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",C.data)}},fD.forEach(C=>{const P=R=>{var I;try{const T=JSON.parse(R.data),M={type:C,data:T,timestamp:Date.now()};d(M),(I=v.current)==null||I.call(v,M)}catch($){console.warn(`Failed to parse ${C} event:`,$)}};w.addEventListener(C,P),j.current.push({type:C,handler:P})})}catch(w){p("Failed to create EventSource connection"),console.error("SSE connection error:",w)}},[t,r,a,y]),A=S.useCallback(()=>{g.current=0,k()},[k]);return S.useEffect(()=>(k(),y),[k,y]),{isConnected:i,lastEvent:u,error:f,reconnect:A}}const z2={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function mD(e){const t=e.toLowerCase().replace(/-/g,"_");return z2[t]||z2.default}function pD(e,t){switch(e){case"pending":return n.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return n.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[n.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return n.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return n.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function gD(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function s_({agent:e,children:t,allAgents:r,depth:a,onSelectAgent:s}){const i=t.filter(l=>l.parentId===e.id);return n.jsxs("div",{className:`${a>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[n.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[n.jsx("span",{className:"text-xl",children:mD(e.agentType)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),pD(e.status,e.progress)]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&n.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&n.jsxs("span",{children:[" ",gD(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&n.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&n.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),i.length>0&&n.jsx("div",{className:"mt-1",children:i.map(l=>n.jsx(s_,{agent:l,children:r,allAgents:r,depth:a+1,onSelectAgent:s},l.id))})]})}function xD({agents:e,selectedSessionId:t,onSelectAgent:r}){const a=S.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=S.useMemo(()=>a.filter(l=>!l.parentId),[a]),i=S.useMemo(()=>{const l=a.length,u=a.filter(p=>p.status==="completed").length,d=a.filter(p=>p.status==="failed").length,f=a.filter(p=>p.status==="in_progress").length;return{total:l,completed:u,failed:d,inProgress:f}},[a]);return a.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Agent Hierarchy"})]}),n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("div",{className:"text-3xl mb-2",children:""}),n.jsx("p",{children:"No active agents"}),n.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Agent Hierarchy"})]}),n.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:["Total: ",i.total]}),i.inProgress>0&&n.jsxs("span",{className:"text-blue-600",children:[" ",i.inProgress," running"]}),i.completed>0&&n.jsxs("span",{className:"text-green-600",children:[" ",i.completed," done"]}),i.failed>0&&n.jsxs("span",{className:"text-red-600",children:[" ",i.failed," failed"]})]})]}),n.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>n.jsx(s_,{agent:l,children:a,allAgents:a,depth:0,onSelectAgent:r},l.id))})]})}function yD({accounts:e,selectedAccountId:t,onRefresh:r}){const[a,s]=S.useState(Date.now());S.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const i=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",u=m=>{if(!m)return null;const b=new Date(m).getTime()-a;if(b<=0)return null;const v=Math.floor(b/6e4);return v<60?`${v}m`:`${Math.floor(v/60)}h ${v%60}m`},d=[...e].sort((m,g)=>m.id===t?-1:g.id===t?1:g.priority-m.priority),f=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,g)=>m+g.estimatedUsagePercent,0)/e.length):0;return n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Claude Max Pool"})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f,"/",e.length," active  ",p,"% avg usage"]})]}),r&&n.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),n.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:d.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("div",{className:"text-3xl mb-2",children:""}),n.jsx("p",{children:"No accounts configured"})]}):d.map(m=>{const g=u(m.cooldownUntil),b=m.id===t;return n.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${b?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:i(m.status)}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),b&&n.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),g&&n.jsxs("div",{className:"text-xs text-orange-600",children:[" ",g]})]})]}),n.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[n.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),n.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const vD=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function bD(){const[e,t]=S.useState([]),[r,a]=S.useState("all"),[s,i]=S.useState(new Map),[l,u]=S.useState([]),[d,f]=S.useState(),[p,m]=S.useState(),g=S.useCallback(C=>{const P={id:`${C.timestamp}-${Math.random().toString(36).slice(2)}`,type:C.type,data:C.data,timestamp:C.timestamp};t(I=>[P,...I].slice(0,100));const R=C.data;if(C.type==="agent:started"||C.type==="agent_delegated"){const I={id:R.activityId||R.id||P.id,sessionId:R.sessionId||"unknown",agentType:R.agentType||"unknown",agentName:R.agentName,category:R.category,status:"in_progress",parentId:R.parentActivityId,startedAt:new Date(C.timestamp).toISOString()};i($=>new Map($).set(I.id,I))}if(C.type==="agent:progress"){const I=R.activityId;I&&i($=>{const T=new Map($),M=T.get(I);return M&&T.set(I,{...M,progress:R.progress,status:"in_progress"}),T})}if(C.type==="agent:completed"||C.type==="agent:failed"){const I=R.activityId;I&&i($=>{const T=new Map($),M=T.get(I);return M&&T.set(I,{...M,status:C.type==="agent:completed"?"completed":"failed",duration:R.duration,errorMessage:R.errorMessage,completedAt:new Date(C.timestamp).toISOString()}),T})}C.type==="account_selected"&&(f(R.accountId),R.accounts&&u(R.accounts))},[]),{isConnected:b,error:v,reconnect:j}=hD({url:"/api/events",onEvent:g}),y=S.useMemo(()=>e.filter(C=>r==="all"?!0:C.type===r||C.type.startsWith(r.split(":")[0])),[e,r]),k=S.useMemo(()=>Array.from(s.values()),[s]),A=S.useMemo(()=>{const C=new Set(k.map(P=>P.sessionId));return Array.from(C)},[k]),_=C=>C.includes("started")?"bg-blue-100 text-blue-800":C.includes("completed")?"bg-green-100 text-green-800":C.includes("failed")||C.includes("error")?"bg-red-100 text-red-800":C.includes("progress")?"bg-yellow-100 text-yellow-800":C.includes("delegated")?"bg-purple-100 text-purple-800":C.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",O=C=>C.includes("started")?"":C.includes("completed")?"":C.includes("failed")?"":C.includes("progress")?"":C.includes("delegated")?"":C.includes("account")?"":"",w=C=>new Date(C).toLocaleTimeString();return n.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),n.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),n.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${b?"bg-green-500 animate-pulse":"bg-red-500"}`}),n.jsx("span",{className:"text-sm text-gray-600",children:b?"Live":"Disconnected"})]}),!b&&n.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),v&&n.jsx("span",{className:"text-sm text-red-600",children:v})]}),A.length>0&&n.jsxs("select",{value:p||"",onChange:C=>m(C.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Sessions"}),A.map(C=>n.jsxs("option",{value:C,children:["Session: ",C.slice(0,12),"..."]},C))]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"lg:col-span-3",children:n.jsx(xD,{agents:k,selectedSessionId:p,onSelectAgent:C=>m(C.sessionId)})}),n.jsx("div",{className:"lg:col-span-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),n.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," events"]})]}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:vD.map(C=>n.jsx("button",{onClick:()=>a(C),className:`px-3 py-1 rounded-full text-xs transition ${r===C?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C==="all"?"All":C.replace(":"," ")},C))})]}),n.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),n.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):y.map(C=>n.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-xl",children:O(C.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${_(C.type)}`,children:C.type}),n.jsx("span",{className:"text-xs text-gray-500",children:w(C.timestamp)})]}),Object.keys(C.data).length>0&&n.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:n.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(C.data,null,2)})})]})]})},C.id))}),e.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:n.jsx("button",{onClick:()=>{t([]),i(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsx(yD,{accounts:l,selectedAccountId:d,onRefresh:()=>{fetch("/api/claude-max-accounts").then(C=>C.json()).then(C=>u(C.accounts||[])).catch(console.error)}})})]})]})}const Al={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function pd(e){return e<1?`${Math.round(e*1e3)}ms`:e<60?`${e.toFixed(1)}s`:`${Math.floor(e/60)}m ${Math.round(e%60)}s`}function U2(e){return new Date(e).toLocaleString()}function gd(e){return e>=95?"text-green-600":e>=80?"text-yellow-600":"text-red-600"}function jD(e){return e>=95?"bg-green-100":e>=80?"bg-yellow-100":"bg-red-100"}function wD(){const[e,t]=S.useState([]),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[p,m]=S.useState(null),[g,b]=S.useState(!0),[v,j]=S.useState(null),y=S.useCallback(async()=>{try{const[w,C,P]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!w.ok||!C.ok||!P.ok)throw new Error("Failed to fetch metrics");const R=await w.json(),I=await C.json(),$=await P.json();t(R.agents||[]),a(I.tools||[]),i($.delegations||[]),m(R.timestamp),f(null)}catch(w){f(w instanceof Error?w.message:"Unknown error")}finally{u(!1)}},[]);S.useEffect(()=>{y()},[y]),S.useEffect(()=>{if(!g)return;const w=setInterval(y,3e4);return()=>clearInterval(w)},[g,y]);const k=e.reduce((w,C)=>w+C.activeSessions,0),A=e.reduce((w,C)=>w+C.totalExecutions,0),_=e.length>0?e.reduce((w,C)=>w+C.successRate,0)/e.length:0,O=v?e.find(w=>w.agentId===v):null;return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),n.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:g,onChange:w=>b(w.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),n.jsx("button",{onClick:y,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Refreshing...":"Refresh"})]})]}),d&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:d})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),l?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:k}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:k===0?"No active agents":"Currently running"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),l?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:A}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),l?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:`text-3xl font-bold ${gd(_)}`,children:[_.toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),l?n.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r.reduce((w,C)=>w+C.totalCalls,0)}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),l?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(w=>n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},w))}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>n.jsxs("div",{onClick:()=>j(w.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${v===w.agentId?"ring-2 ring-indigo-500":""}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("span",{className:"text-2xl",children:Al[w.agentId]||""}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),n.jsx("p",{className:"text-sm text-gray-500",children:w.description})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Executions"}),n.jsx("p",{className:"font-semibold",children:w.totalExecutions})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Success Rate"}),n.jsxs("p",{className:`font-semibold ${gd(w.successRate)}`,children:[w.successRate.toFixed(1),"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),n.jsx("p",{className:"font-semibold",children:pd(w.avgDuration)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),n.jsx("p",{className:"font-semibold",children:pd(w.p95Duration)})]})]}),w.activeSessions>0&&n.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-sm text-green-600",children:[w.activeSessions," active session",w.activeSessions>1?"s":""]})]}),w.lastError&&n.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[n.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",w.lastError.message]}),n.jsx("p",{className:"text-red-400 text-xs",children:U2(w.lastError.timestamp)})]})]},w.agentId))})]}),O&&n.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Al[O.agentId]||""," ",O.name," Details"]}),n.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:`p-3 rounded-lg ${jD(O.successRate)}`,children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),n.jsxs("p",{className:`text-2xl font-bold ${gd(O.successRate)}`,children:[O.successRate.toFixed(1),"%"]})]}),n.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O.errorRate.toFixed(1),"%"]})]}),n.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:pd(O.avgDuration)})]}),n.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:pd(O.p95Duration)})]})]}),O.topTools.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:O.topTools.map(w=>n.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[w.name," (",w.count,")"]},w.name))})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),l?n.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:n.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):r.length===0?n.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):n.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),n.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),n.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),n.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),n.jsx("tbody",{children:r.slice(0,10).map(w=>n.jsxs("tr",{className:"border-b last:border-0",children:[n.jsx("td",{className:"py-2 px-3 font-medium",children:w.toolName}),n.jsx("td",{className:"text-right py-2 px-3",children:w.totalCalls}),n.jsxs("td",{className:`text-right py-2 px-3 ${gd(w.successRate)}`,children:[w.successRate.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-3",children:n.jsx("div",{className:"flex gap-1",children:w.agentUsage.slice(0,3).map(C=>n.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${C.callCount} calls`,children:[Al[C.agentId]||""," ",C.callCount]},C.agentId))})})]},w.toolName))})]})})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),l?n.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:n.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):s.length===0?n.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsx("div",{className:"space-y-4",children:s.map(w=>n.jsxs("div",{className:"border-b pb-4 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xl",children:Al[w.fromAgent]||""}),n.jsx("span",{className:"font-semibold capitalize",children:w.fromAgent}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsxs("span",{className:"text-sm text-gray-500",children:[w.totalDelegations," delegations (",w.successRate.toFixed(1),"% success)"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:w.targets.map(C=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[n.jsx("span",{children:Al[C.toAgent]||""}),n.jsx("span",{className:"capitalize",children:C.toAgent}),n.jsxs("span",{className:"text-gray-400",children:["(",C.count,")"]})]},C.toAgent))})]},w.fromAgent))})})]}),p&&n.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",U2(p)]})]})}function ND(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(0),[p,m]=S.useState(null),[g,b]=S.useState(""),v=20;S.useEffect(()=>{(async()=>{try{a(!0);const w=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&w.append("type",s),l&&w.append("impactLevel",l);const C=await le({url:`/api/org-changes?${w.toString()}`,method:"GET"});t(C.data||[])}catch(w){console.error("Failed to fetch organization changes:",w)}finally{a(!1)}})()},[s,l,d]);const j=O=>{switch(O){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=O=>{switch(O){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},k=O=>{switch(O){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},A=async O=>{try{await le({url:`/api/org-changes/${O}/link-pr`,method:"POST",data:{prUrl:g}});const w=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&w.append("type",s),l&&w.append("impactLevel",l);const C=await le({url:`/api/org-changes?${w.toString()}`,method:"GET"});t(C.data||[]),m(null),b("")}catch(w){console.error("Failed to link PR:",w),alert("Failed to link PR. Please check the URL format.")}},_=async O=>{try{await le({url:`/api/org-changes/${O}/pr-status`,method:"GET"});const w=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&w.append("type",s),l&&w.append("impactLevel",l);const C=await le({url:`/api/org-changes?${w.toString()}`,method:"GET"});t(C.data||[])}catch(w){console.error("Failed to sync PR status:",w)}};return r&&e.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),n.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),n.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),n.jsxs("select",{value:s,onChange:O=>{i(O.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"new_member",children:"New Member"}),n.jsx("option",{value:"role_change",children:"Role Change"}),n.jsx("option",{value:"workflow_added",children:"Workflow Added"}),n.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),n.jsx("option",{value:"integration_added",children:"Integration Added"}),n.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),n.jsxs("select",{value:l,onChange:O=>{u(O.target.value),f(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[n.jsx("option",{value:"",children:"All Impact Levels"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),n.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>{var w;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[n.jsx("span",{className:"mr-2",children:y(O.type)}),O.type.replace(/_/g," ")]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:O.description}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${j(O.impactLevel)}`,children:O.impactLevel})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.prUrl&&((w=O.metadata)!=null&&w.pr)?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("a",{href:O.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${k(O.metadata.pr.state)}`,children:[O.metadata.pr.state," #",O.metadata.pr.number]}),n.jsx("button",{onClick:()=>_(O.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===O.id?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:g,onChange:C=>b(C.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),n.jsx("button",{onClick:()=>A(O.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),n.jsx("button",{onClick:()=>{m(null),b("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):n.jsx("button",{onClick:()=>m(O.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.createdAt).toLocaleString()})]},O.id)})})]})}),e.length>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsx("button",{onClick:()=>f(Math.max(0,d-v)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+v,d+e.length)]}),n.jsx("button",{onClick:()=>f(d+v),disabled:e.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function SD({isOpen:e,onClose:t,onSuccess:r,objective:a,defaultQuarter:s,currentUserId:i}){const[l,u]=S.useState({title:"",description:"",quarter:s,ownerId:i,status:"on_track"}),[d,f]=S.useState(!1),[p,m]=S.useState(null);S.useEffect(()=>{u(a?{title:a.title,description:a.description||"",quarter:a.quarter,ownerId:a.ownerId,status:a.status}:{title:"",description:"",quarter:s,ownerId:i,status:"on_track"})},[a,s,i]);const g=async()=>{if(!l.title.trim()){m("Title is required");return}f(!0),m(null);try{a?await le({url:`/api/okr/${a.id}`,method:"PUT",data:l}):await le({url:"/api/okr",method:"POST",data:l}),r(),t()}catch(b){const v=b instanceof Re?b.message:"Failed to save objective";m(v)}finally{f(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:a?"Edit Objective":"New Objective"}),p&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",value:l.title,onChange:b=>u({...l,title:b.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:l.description,onChange:b=>u({...l,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),n.jsx("input",{type:"text",value:l.quarter,onChange:b=>u({...l,quarter:b.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:l.status,onChange:b=>u({...l,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"on_track",children:"On Track"}),n.jsx("option",{value:"at_risk",children:"At Risk"}),n.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":a?"Save Changes":"Create Objective"})]})]})})}):null}function kD({isOpen:e,onClose:t,onSuccess:r,objectiveId:a,keyResult:s}){const[i,l]=S.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[u,d]=S.useState(!1),[f,p]=S.useState(null);S.useEffect(()=>{l(s?{title:s.title,target:String(s.target),current:String(s.current),unit:s.unit,ownerId:s.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[s]);const m=async()=>{if(!i.title.trim()){p("Title is required");return}d(!0),p(null);try{const g={title:i.title,target:Number(i.target),current:Number(i.current),unit:i.unit,ownerId:i.ownerId||null};s?await le({url:`/api/okr/key-results/${s.id}`,method:"PUT",data:g}):await le({url:`/api/okr/${a}/key-results`,method:"POST",data:g}),r(),t()}catch(g){const b=g instanceof Re?g.message:"Failed to save key result";p(b)}finally{d(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:s?"Edit Key Result":"New Key Result"}),f&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",value:i.title,onChange:g=>l({...i,title:g.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),n.jsx("input",{type:"number",value:i.target,onChange:g=>l({...i,target:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),n.jsx("input",{type:"number",value:i.current,onChange:g=>l({...i,current:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),n.jsxs("select",{value:i.unit,onChange:g=>l({...i,unit:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"%",children:"%"}),n.jsx("option",{value:"count",children:"Count"}),n.jsx("option",{value:"$",children:"$"}),n.jsx("option",{value:"score",children:"Score"})]})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":s?"Save Changes":"Add Key Result"})]})]})})}):null}function OD({progress:e,status:t}){const r=()=>t==="behind"?"bg-red-500":t==="at_risk"?"bg-yellow-500":"bg-green-500";return n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${r()}`,style:{width:`${Math.min(e,100)}%`}})})}function CD({status:e}){const t={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},r={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.on_track}`,children:r[e]||e})}function AD({objective:e,onEdit:t,onDelete:r,onAddKeyResult:a,onEditKeyResult:s,onUpdateKeyResultProgress:i}){const[l,u]=S.useState(!0);return n.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),n.jsx(CD,{status:e.status})]}),e.description&&n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-1 max-w-xs",children:n.jsx(OD,{progress:e.progress,status:e.status})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:n.jsx("span",{className:"text-lg",children:""})})]})]}),n.jsxs("div",{className:"mt-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("button",{onClick:()=>u(!l),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[n.jsx("span",{children:l?"":""}),"Key Results (",e.keyResults.length,")"]}),n.jsx("button",{onClick:()=>a(e.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),l&&n.jsx("div",{className:"space-y-3",children:e.keyResults.length===0?n.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):e.keyResults.map(d=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.title}),n.jsx("button",{onClick:()=>s(d),className:"text-gray-400 hover:text-gray-600",children:n.jsx("span",{className:"text-sm",children:""})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(d.progress,100)}%`}})})}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"number",value:d.current,onChange:f=>i(d.id,Number(f.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),n.jsxs("span",{className:"text-gray-500",children:["/ ",d.target," ",d.unit]}),n.jsxs("span",{className:"font-medium text-gray-700",children:["(",d.progress,"%)"]})]})]})]},d.id))})]})]})})}function PD(){const{user:e}=En(),[t,r]=S.useState([]),[a,s]=S.useState([]),[i,l]=S.useState(""),[u,d]=S.useState(!0),[f,p]=S.useState(null),[m,g]=S.useState(!1),[b,v]=S.useState(null),[j,y]=S.useState(!1),[k,A]=S.useState(""),[_,O]=S.useState(null),w=()=>{const U=new Date;return`${U.getFullYear()}-Q${Math.ceil((U.getMonth()+1)/3)}`},C=async()=>{try{const U=await le({url:"/api/okr/meta/quarters",method:"GET"});s(U.quarters),U.quarters.length>0&&!i&&l(U.quarters[0])}catch(U){console.error("Failed to fetch quarters:",U)}},P=async()=>{if(i){d(!0),p(null);try{const U=await le({url:"/api/okr",method:"GET",params:{quarter:i}});r(U.objectives)}catch(U){const B=U instanceof Re?U.message:"Failed to fetch objectives";p(B)}finally{d(!1)}}};S.useEffect(()=>{C()},[]),S.useEffect(()=>{i&&P()},[i]);const R=async U=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await le({url:`/api/okr/${U}`,method:"DELETE"}),P()}catch(B){const L=B instanceof Re?B.message:"Failed to delete objective";p(L)}},I=async(U,B)=>{try{await le({url:`/api/okr/key-results/${U}`,method:"PUT",data:{current:B}}),P()}catch(L){console.error("Failed to update key result:",L)}},$=()=>{v(null),g(!0)},T=U=>{v(U),g(!0)},M=U=>{A(U),O(null),y(!0)},K=U=>{A(U.objectiveId),O(U),y(!0)},Y=t.length>0?Math.round(t.reduce((U,B)=>U+B.progress,0)/t.length):0;return u&&t.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),n.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),n.jsxs("button",{onClick:$,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),f&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:f}),n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),n.jsx("select",{value:i,onChange:U=>l(U.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:a.map(U=>n.jsx("option",{value:U,children:U},U))})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," objective",t.length!==1?"s":""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${Y}%`}})}),n.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Y,"%"]})]})]})]}),t.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),n.jsx("button",{onClick:$,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):n.jsx("div",{className:"space-y-6",children:t.map(U=>n.jsx(AD,{objective:U,onEdit:T,onDelete:R,onAddKeyResult:M,onEditKeyResult:K,onUpdateKeyResultProgress:I},U.id))}),n.jsx(SD,{isOpen:m,onClose:()=>g(!1),onSuccess:()=>{P(),C()},objective:b,defaultQuarter:i||w(),currentUserId:(e==null?void 0:e.id)||""}),n.jsx(kD,{isOpen:j,onClose:()=>y(!1),onSuccess:P,objectiveId:k,keyResult:_})]})}function ED({agent:e,onEdit:t,onDelete:r,onViewActivity:a,onToggleEnabled:s}){const[i,l]=S.useState(!1),[u,d]=S.useState(!1),f=async()=>{if(!(!s||u)){d(!0);try{await s(e,!e.enabled)}finally{d(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return n.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&n.jsx("button",{onClick:f,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:n.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),n.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&n.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),n.jsxs("button",{onClick:()=>l(!i),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[i?"Hide details":"Show details",n.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>n.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&n.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>n.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&n.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Read:"}),n.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>n.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&n.jsx("li",{className:"text-gray-400",children:"None"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Write:"}),n.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>n.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&n.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[n.jsx("button",{onClick:()=>a==null?void 0:a(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),n.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const _D=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function TD({isOpen:e,onClose:t,onSuccess:r,agent:a,availableSkills:s,availableTools:i}){const l=!!a,[u,d]=S.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[f,p]=S.useState(""),[m,g]=S.useState(""),[b,v]=S.useState(""),[j,y]=S.useState(!1),[k,A]=S.useState(null);S.useEffect(()=>{d(a?{id:a.id,name:a.name,function:a.function,description:a.description,skills:[...a.skills],tools:[...a.tools],routing_keywords:[...a.routing_keywords],permissions:{read:[...a.permissions.read],write:[...a.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),A(null)},[a,e]);const _=async M=>{M.preventDefault(),y(!0),A(null);try{l?await le({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await le({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(K){const Y=K instanceof Re?K.message:"Failed to save agent";A(Y)}finally{y(!1)}},O=()=>{f.trim()&&!u.routing_keywords.includes(f.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,f.trim()]}),p(""))},w=M=>{d({...u,routing_keywords:u.routing_keywords.filter(K=>K!==M)})},C=()=>{m.trim()&&!u.permissions.read.includes(m.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,m.trim()]}}),g(""))},P=M=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(K=>K!==M)}})},R=()=>{b.trim()&&!u.permissions.write.includes(b.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,b.trim()]}}),v(""))},I=M=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(K=>K!==M)}})},$=M=>{const K=u.skills.includes(M)?u.skills.filter(Y=>Y!==M):[...u.skills,M];d({...u,skills:K})},T=M=>{const K=u.tools.includes(M)?u.tools.filter(Y=>Y!==M):[...u.tools,M];d({...u,tools:K})};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:_,children:[n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),k&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:k}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),n.jsx("input",{id:"id",type:"text",value:u.id,onChange:M=>d({...u,id:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{id:"name",type:"text",value:u.name,onChange:M=>d({...u,name:M.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),n.jsx("select",{id:"function",value:u.function,onChange:M=>d({...u,function:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:_D.map(M=>n.jsx("option",{value:M.value,children:M.label},M.value))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"description",value:u.description,onChange:M=>d({...u,description:M.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),n.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map(M=>n.jsx("button",{type:"button",onClick:()=>$(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes(M.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:M.name},M.id)),s.length===0&&n.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),n.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(M=>n.jsx("button",{type:"button",onClick:()=>T(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes(M.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:M.description,children:M.name},M.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),O()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map(M=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[M,n.jsx("button",{type:"button",onClick:()=>w(M),className:"text-orange-600 hover:text-orange-800",children:""})]},M))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:m,onChange:M=>g(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),C()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),n.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),n.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map(M=>n.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[n.jsx("span",{className:"font-mono text-green-700",children:M}),n.jsx("button",{type:"button",onClick:()=>P(M),className:"text-green-600 hover:text-green-800",children:""})]},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:b,onChange:M=>v(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),R()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),n.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),n.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map(M=>n.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[n.jsx("span",{className:"font-mono text-yellow-700",children:M}),n.jsx("button",{type:"button",onClick:()=>I(M),className:"text-yellow-600 hover:text-yellow-800",children:""})]},M))})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function RD(){const[e,t]=S.useState([]),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[p,m]=S.useState(!1),[g,b]=S.useState(null),[v,j]=S.useState([]),[y,k]=S.useState(null),[A,_]=S.useState(""),[O,w]=S.useState("all"),C=async()=>{try{const B=await le({url:"/api/admin/pending-prs?type=agent",method:"GET"});j(B.pullRequests)}catch(B){console.error("Failed to fetch pending PRs:",B)}},P=async()=>{try{const B=await le({url:"/api/admin/agents",method:"GET"});t(B.agents)}catch(B){const L=B instanceof Re?B.message:"Failed to fetch agents";f(L)}},R=async()=>{try{const B=await le({url:"/api/admin/skills",method:"GET"});a(B.skills.map(L=>({id:L.id,name:L.name})))}catch(B){console.error("Failed to fetch skills:",B)}},I=async()=>{try{const B=await le({url:"/api/admin/tools",method:"GET"});i(B.tools)}catch(B){console.error("Failed to fetch tools:",B)}};S.useEffect(()=>{(async()=>{u(!0),await Promise.all([P(),R(),I(),C()]),u(!1)})()},[]);const $=()=>{b(null),m(!0)},T=B=>{b(B),m(!0)},M=async B=>{if(confirm(`Are you sure you want to delete "${B.name}"? This will create a PR.`))try{const L=await le({url:`/api/admin/agents/${B.id}`,method:"DELETE"});k(`PR created to delete agent. View at: ${L.pullRequest.html_url}`),P(),C()}catch(L){const W=L instanceof Re?L.message:"Failed to delete agent";f(W)}},K=()=>{k("Changes submitted successfully. A GitHub PR has been created for review."),P(),C()},Y=B=>{window.location.href=`/activity?agent=${B.id}`},U=async(B,L)=>{try{const W=await le({url:`/api/admin/agents/${B.id}`,method:"PUT",data:{...B,enabled:L}});k(`PR created to ${L?"enable":"disable"} agent. View at: ${W.pullRequest.html_url}`),P(),C()}catch(W){const X=W instanceof Re?W.message:"Failed to toggle agent status";f(X)}};return l?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):n.jsxs("div",{className:"max-w-7xl",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),n.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),n.jsxs("button",{onClick:$,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[n.jsx("span",{children:d}),n.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(B=>B.function)).size}),n.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(B=>B.skills)).size}),n.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(B=>B.tools)).size}),n.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),n.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:A,onChange:B=>_(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:O,onChange:B=>w(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(B=>B.function))).map(B=>n.jsx("option",{value:B,children:B.charAt(0).toUpperCase()+B.slice(1)},B))]})})]}),v.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-yellow-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(B=>n.jsxs("tr",{className:"hover:bg-yellow-100",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("a",{href:B.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",B.number]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm text-gray-700",children:B.resource_id})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:B.author_avatar,alt:B.author,className:"w-6 h-6 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-700",children:B.author})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:B.draft?n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):n.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},B.number))})]})})]}),(()=>{const B=e.filter(L=>{const W=A.toLowerCase(),X=!W||L.name.toLowerCase().includes(W)||L.id.toLowerCase().includes(W)||L.description.toLowerCase().includes(W)||L.routing_keywords.some(q=>q.toLowerCase().includes(W)),z=O==="all"||L.function===O;return X&&z});return e.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),n.jsx("button",{onClick:$,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):B.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),n.jsx("button",{onClick:()=>{_(""),w("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map(L=>n.jsx(ED,{agent:L,onEdit:T,onDelete:M,onViewActivity:Y,onToggleEnabled:U},L.id))})})(),n.jsx(TD,{isOpen:p,onClose:()=>m(!1),onSuccess:K,agent:g,availableSkills:r,availableTools:s})]})}function MD({skill:e,onEdit:t,onDelete:r}){var l;const[a,s]=S.useState(!1),i=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return n.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-2xl text-white",children:""})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(e.category)}`,children:e.category})]}),n.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&n.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>n.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||n.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),n.jsxs("button",{onClick:()=>s(!a),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[a?"Hide details":"Show details",n.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>n.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&n.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium text-gray-700",children:u.name}),n.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&n.jsx("span",{className:"text-red-500 text-xs",children:"*"}),n.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&n.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium text-gray-700",children:u.name}),n.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),n.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[n.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),n.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const ID=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],W2=["string","number","boolean","object","array"];function $D({isOpen:e,onClose:t,onSuccess:r,skill:a,availableAgents:s,availableTools:i}){const l=!!a,[u,d]=S.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[f,p]=S.useState(""),[m,g]=S.useState({name:"",type:"string",description:"",required:!1,default:""}),[b,v]=S.useState({name:"",type:"string",description:""}),[j,y]=S.useState(!1),[k,A]=S.useState(null);S.useEffect(()=>{d(a?{id:a.id,name:a.name,description:a.description,category:a.category,triggers:[...a.triggers],parameters:a.parameters?[...a.parameters]:[],outputs:a.outputs?[...a.outputs]:[],tools_required:[...a.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),A(null)},[a,e]);const _=async T=>{T.preventDefault(),y(!0),A(null);try{l?await le({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await le({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch(M){const K=M instanceof Re?M.message:"Failed to save skill";A(K)}finally{y(!1)}},O=()=>{f.trim()&&!u.triggers.includes(f.trim())&&(d({...u,triggers:[...u.triggers,f.trim()]}),p(""))},w=T=>{d({...u,triggers:u.triggers.filter((M,K)=>K!==T)})},C=()=>{if(m.name.trim()&&m.description.trim()){const T={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{T.default=JSON.parse(m.default)}catch{T.default=m.default}d({...u,parameters:[...u.parameters,T]}),g({name:"",type:"string",description:"",required:!1,default:""})}},P=T=>{d({...u,parameters:u.parameters.filter((M,K)=>K!==T)})},R=()=>{b.name.trim()&&b.description.trim()&&(d({...u,outputs:[...u.outputs,{...b,name:b.name.trim(),description:b.description.trim()}]}),v({name:"",type:"string",description:""}))},I=T=>{d({...u,outputs:u.outputs.filter((M,K)=>K!==T)})},$=T=>{const M=u.tools_required.includes(T)?u.tools_required.filter(K=>K!==T):[...u.tools_required,T];d({...u,tools_required:M})};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:_,children:[n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),k&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:k}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),n.jsx("input",{id:"id",type:"text",value:u.id,onChange:T=>d({...u,id:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{id:"name",type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"description",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsx("select",{id:"category",value:u.category,onChange:T=>d({...u,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:ID.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&(T.preventDefault(),O()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),n.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((T,M)=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[T,n.jsx("button",{type:"button",onClick:()=>w(M),className:"text-green-600 hover:text-green-800",children:""})]},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),n.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(T=>n.jsx("button",{type:"button",onClick:()=>$(T.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(T.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:T.description,children:T.name},T.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),n.jsxs("div",{className:"space-y-2 mb-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:m.name,onChange:T=>g({...m,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsx("select",{value:m.type,onChange:T=>g({...m,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:W2.map(T=>n.jsx("option",{value:T,children:T},T))}),n.jsx("input",{type:"text",value:m.description,onChange:T=>g({...m,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),n.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[n.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:m.required,onChange:T=>g({...m,required:T.target.checked}),className:"w-3 h-3"}),"Required"]}),n.jsx("input",{type:"text",value:m.default,onChange:T=>g({...m,default:T.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&n.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((T,M)=>n.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-medium",children:T.name}),n.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),T.required&&n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),n.jsx("button",{type:"button",onClick:()=>P(M),className:"text-gray-400 hover:text-gray-600",children:""})]},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:b.name,onChange:T=>v({...b,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsx("select",{value:b.type,onChange:T=>v({...b,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:W2.map(T=>n.jsx("option",{value:T,children:T},T))}),n.jsx("input",{type:"text",value:b.description,onChange:T=>v({...b,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&n.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((T,M)=>n.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-medium",children:T.name}),n.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),n.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),n.jsx("button",{type:"button",onClick:()=>I(M),className:"text-gray-400 hover:text-gray-600",children:""})]},M))})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:j||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function DD(){const[e,t]=S.useState([]),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[p,m]=S.useState(!1),[g,b]=S.useState(null),[v,j]=S.useState([]),[y,k]=S.useState(null),[A,_]=S.useState("all"),[O,w]=S.useState(""),[C,P]=S.useState("skills"),[R,I]=S.useState([]),[$,T]=S.useState([]),[M,K]=S.useState([]),[Y,U]=S.useState(!1),B=async()=>{try{const ne=await le({url:"/api/admin/pending-prs?type=skill",method:"GET"});j(ne.pullRequests)}catch(ne){console.error("Failed to fetch pending PRs:",ne)}},L=async()=>{try{const ne=await le({url:"/api/admin/skills",method:"GET"});t(ne.skills)}catch(ne){const pe=ne instanceof Re?ne.message:"Failed to fetch skills";f(pe)}},W=async()=>{try{const ne=await le({url:"/api/admin/agents",method:"GET"});a(ne.agents.map(pe=>({id:pe.id,name:pe.name})))}catch(ne){console.error("Failed to fetch agents:",ne)}},X=async()=>{try{const ne=await le({url:"/api/admin/tools",method:"GET"});i(ne.tools)}catch(ne){console.error("Failed to fetch tools:",ne)}},z=async()=>{U(!0);try{const[ne,pe,ue]=await Promise.all([le({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),le({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),le({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);I(ne.metrics),T(pe.skills),K(ue.skills)}catch{}finally{U(!1)}};S.useEffect(()=>{(async()=>{u(!0),await Promise.all([L(),W(),X(),B()]),u(!1)})()},[]),S.useEffect(()=>{C==="performance"&&z()},[C]);const q=()=>{b(null),m(!0)},F=ne=>{b(ne),m(!0)},G=async ne=>{if(confirm(`Are you sure you want to delete "${ne.name}"? This will create a PR.`))try{const pe=await le({url:`/api/admin/skills/${ne.id}`,method:"DELETE"});k(`PR created to delete skill. View at: ${pe.pullRequest.html_url}`),L(),B()}catch(pe){const ue=pe instanceof Re?pe.message:"Failed to delete skill";f(ue)}},ee=()=>{k("Changes submitted successfully. A GitHub PR has been created for review."),L(),B()},de=Array.from(new Set(e.map(ne=>ne.category))),oe=e.filter(ne=>{const pe=O.toLowerCase(),ue=!pe||ne.name.toLowerCase().includes(pe)||ne.id.toLowerCase().includes(pe)||ne.description.toLowerCase().includes(pe)||ne.triggers.some(Me=>Me.toLowerCase().includes(pe)),Ce=A==="all"||ne.category===A;return ue&&Ce});return l?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):n.jsxs("div",{className:"max-w-7xl",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),n.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),n.jsxs("button",{onClick:q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>k(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[n.jsx("span",{children:d}),n.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]}),n.jsxs("div",{className:"flex gap-2 mb-6",children:[n.jsx("button",{onClick:()=>P("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${C==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),n.jsx("button",{onClick:()=>P("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${C==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),C==="skills"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((ne,pe)=>ne+pe.triggers.length,0)}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((ne,pe)=>{var ue;return ne+(((ue=pe.agentDetails)==null?void 0:ue.length)||0)},0)}),n.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),n.jsxs("div",{className:"mb-6 space-y-4",children:[n.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:n.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:O,onChange:ne=>w(ne.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>_("all"),className:`px-3 py-1 text-sm rounded-full ${A==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),de.map(ne=>n.jsxs("button",{onClick:()=>_(ne),className:`px-3 py-1 text-sm rounded-full capitalize ${A===ne?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[ne," (",e.filter(pe=>pe.category===ne).length,")"]},ne))]})]})]}),v.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-yellow-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(ne=>n.jsxs("tr",{className:"hover:bg-yellow-100",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("a",{href:ne.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",ne.number]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm text-gray-700",children:ne.resource_id})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:ne.author_avatar,alt:ne.author,className:"w-6 h-6 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-700",children:ne.author})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(ne.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:ne.draft?n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):n.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},ne.number))})]})})]}),oe.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),n.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?n.jsx("button",{onClick:q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):n.jsx("button",{onClick:()=>{w(""),_("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:oe.map(ne=>n.jsx(MD,{skill:ne,onEdit:F,onDelete:G},ne.id))})]}),C==="performance"&&n.jsx("div",{children:Y?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.length})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:R.reduce((ne,pe)=>ne+pe.totalExecutions,0).toLocaleString()})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),n.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:R.length>0?`${Math.round(R.reduce((ne,pe)=>ne+pe.successRate,0)/R.length*100)}%`:"N/A"})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),n.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:M.length})]})]}),$.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:$.map(ne=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ne.skillId}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ne.totalExecutions}),n.jsx("td",{className:"px-4 py-3 text-sm text-right",children:n.jsxs("span",{className:`font-medium ${ne.successRate>=.9?"text-green-600":ne.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ne.successRate*100),"%"]})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ne.avgDurationMs,"ms"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ne.p95DurationMs,"ms"]})]},ne.skillId))})]})})]}),M.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),n.jsx("div",{className:"space-y-3",children:M.map(ne=>n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:ne.skillId}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:ne.successRate<.7?`Low success rate: ${Math.round(ne.successRate*100)}%`:`High latency: ${ne.avgDurationMs}ms avg`})]}),n.jsxs("div",{className:"text-right text-sm",children:[n.jsxs("div",{className:"text-gray-500",children:[ne.totalExecutions," executions"]}),n.jsxs("div",{className:"text-gray-500",children:[ne.failureCount," failures"]})]})]},ne.skillId))})]}),R.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),n.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(ne=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ne.skillId}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ne.totalExecutions}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:ne.successCount}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:ne.failureCount}),n.jsx("td",{className:"px-4 py-3 text-sm text-right",children:n.jsxs("span",{className:`font-medium ${ne.successRate>=.9?"text-green-600":ne.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ne.successRate*100),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ne.avgDurationMs}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ne.p95DurationMs}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:ne.lastExecutedAt?new Date(ne.lastExecutedAt).toLocaleDateString():"Never"})]},ne.skillId))})]})})]}),R.length===0&&!Y&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),n.jsx($D,{isOpen:p,onClose:()=>m(!1),onSuccess:ee,skill:g,availableAgents:r,availableTools:s})]})}function LD(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState("all"),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(0);S.useEffect(()=>{g()},[s]);const g=async()=>{a(!0);try{const k=new URLSearchParams;s!=="all"&&k.set("source",s);const A=await le({url:`/api/conversations${k.toString()?`?${k.toString()}`:""}`,method:"GET"});t(A.conversations||[]),m(A.total||0)}catch(k){console.error("Failed to fetch conversations:",k)}finally{a(!1)}},b=async k=>{f(!0);try{const A=await le({url:`/api/conversations/${k}`,method:"GET"});u(A.conversation)}catch(A){console.error("Failed to fetch conversation detail:",A)}finally{f(!1)}},v=k=>{switch(k){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},j=k=>{switch(k){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=k=>{const A=new Date(k),O=new Date().getTime()-A.getTime(),w=Math.floor(O/(1e3*60*60)),C=Math.floor(O/(1e3*60*60*24));return w<1?"Just now":w<24?`${w}h ago`:C<7?`${C}d ago`:A.toLocaleDateString()};return r?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):n.jsxs("div",{className:"flex h-full",children:[n.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),n.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),n.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(k=>n.jsx("button",{onClick:()=>i(k),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===k?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:k==="all"?"All Sources":k},k))}),e.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),n.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"divide-y divide-gray-200",children:e.map(k=>n.jsx("div",{onClick:()=>b(k.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===k.id?"bg-indigo-50":""}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(k.source)}`,children:[v(k.source)," ",k.source||"unknown"]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[k.messageCount," messages"]})]}),n.jsx("p",{className:"text-sm text-gray-900 truncate",children:k.preview||"No preview available"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:k.userName}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsx("span",{className:"text-xs text-gray-500",children:y(k.lastUsedAt)})]})]}),n.jsx("div",{className:"ml-4 flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},k.id))})})]}),l&&n.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[n.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${j(l.source)}`,children:[v(l.source)," ",l.source||"unknown"]}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),n.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((k,A)=>n.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${k.role==="user"?"bg-indigo-600 text-white":k.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[k.role==="system"&&n.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),k.timestamp&&n.jsx("p",{className:`text-xs mt-1 ${k.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(k.timestamp).toLocaleTimeString()})]})},A)),l.history.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const K2={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},FD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function BD({result:e,onClick:t,onCopyLink:r}){const[a,s]=S.useState(!1),i=K2[e.source]||K2.notion,l=f=>{f.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),r==null||r(e.url),setTimeout(()=>s(!1),2e3)},u=f=>{f.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=f=>f?new Date(f).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${i.bg} ${i.color}`,children:i.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-gray-500",children:FD[e.source]}),e.lastModified&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:a?n.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?n.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),n.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):n.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),n.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const qD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function zD(){const[e,t]=S.useState(""),[r,a]=S.useState(null),[s,i]=S.useState(!1),[l,u]=S.useState(null),[d,f]=S.useState([]),[p,m]=S.useState(null),[g,b]=S.useState("");S.useEffect(()=>{const O=setTimeout(()=>{b(e)},300);return()=>clearTimeout(O)},[e]);const v=S.useCallback(async O=>{if(!O.trim()){a(null);return}i(!0),u(null);try{const w=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:O,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!w.ok)throw new Error("Search failed");const C=await w.json();a(C),C.results.length>0&&m(null)}catch(w){u(w instanceof Error?w.message:"Search failed")}finally{i(!1)}},[d]);S.useEffect(()=>{g&&v(g)},[g,v]);const j=async O=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:O.url,clickedSource:O.source})})}catch{}window.open(O.url,"_blank","noopener,noreferrer")},y=O=>{t(O)},k=async O=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:O})})}catch{}},A=O=>{f(w=>w.includes(O)?w.filter(C=>C!==O):[...w,O])},_=(r==null?void 0:r.sources.filter(O=>O.connected).map(O=>O.source))||[];return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),n.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",value:e,onChange:O=>t(O.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:n.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),_.length>0&&n.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),_.map(O=>{var w;return n.jsxs("button",{onClick:()=>A(O),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(O)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[qD[O],r&&n.jsxs("span",{className:"ml-1 text-xs",children:["(",((w=r.sources.find(C=>C.source===O))==null?void 0:w.count)||0,")"]})]},O)})]}),l&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&n.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&n.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),n.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),n.jsx("button",{onClick:()=>k(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),n.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&n.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?n.jsx("div",{className:"space-y-3",children:r.results.map((O,w)=>n.jsx(BD,{result:O,onClick:j},`${O.source}-${O.id}-${w}`))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),n.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((O,w)=>n.jsxs("button",{onClick:()=>y(O),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]},w))})]})]}),!r&&!s&&!e&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),n.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function UD(){const[e,t]=S.useState(null),[r,a]=S.useState(null),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null);S.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,g,b]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),g.ok&&a(await g.json()),b.ok){const v=await b.json();i(v.topOrganizations||[])}f(null)}catch{f("Failed to load dashboard data")}finally{u(!1)}};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),n.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(xd,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),n.jsx(xd,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),n.jsx(xd,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),n.jsx(xd,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),n.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,g])=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),n.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?g/e.revenue.mrr*100:0}%`}})}),n.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",g.toLocaleString()]})]},m))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),n.jsx(WD,{status:(r==null?void 0:r.status)||"healthy"})]}),n.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(m=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[n.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),n.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&n.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),n.jsx(KD,{status:m.status})]})]},m.name))})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,g])=>n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g}),n.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function xd({title:e,value:t,subtext:r,trend:a,trendLabel:s,icon:i,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:i}),a!==void 0&&n.jsxs("span",{className:`text-sm font-medium ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?"+":"",a,"%"]})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function WD({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:a,label:s}=t[e];return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${a}`,children:s})}function KD({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return n.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function HD(){const[e,t]=S.useState([]),[r,a]=S.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,i]=S.useState(!0),[l,u]=S.useState(null),[d,f]=S.useState(""),[p,m]=S.useState("all"),[g,b]=S.useState("all"),[v,j]=S.useState("createdAt"),[y,k]=S.useState("desc"),A=S.useCallback(async()=>{i(!0);try{const $=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:v,sortOrder:y});d&&$.append("search",d),p!=="all"&&$.append("status",p),g!=="all"&&$.append("plan",g);const T=await fetch(`/api/admin/organizations?${$}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch organizations");const M=await T.json();t(M.organizations||[]),a(K=>({...K,total:M.total||0,totalPages:Math.ceil((M.total||0)/K.pageSize)}))}catch($){u($ instanceof Error?$.message:"Failed to load organizations")}finally{i(!1)}},[r.page,r.pageSize,d,p,g,v,y]);S.useEffect(()=>{A()},[A]);const _=$=>{v===$?k(y==="asc"?"desc":"asc"):(j($),k("desc"))},O=async $=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${$}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");A()}catch(T){alert(T instanceof Error?T.message:"Failed to suspend organization")}},w=async $=>{try{if(!(await fetch(`/api/admin/organizations/${$}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");A()}catch(T){alert(T instanceof Error?T.message:"Failed to reactivate organization")}},C=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format($),P=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=$=>{switch($){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},I=$=>{switch($.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),n.jsx("p",{className:"text-gray-600",children:l}),n.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:$=>{f($.target.value),a(T=>({...T,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),n.jsxs("select",{value:p,onChange:$=>{m($.target.value),a(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"trial",children:"Trial"}),n.jsx("option",{value:"suspended",children:"Suspended"}),n.jsx("option",{value:"churned",children:"Churned"})]}),n.jsxs("select",{value:g,onChange:$=>{b($.target.value),a(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Plans"}),n.jsx("option",{value:"free",children:"Free"}),n.jsx("option",{value:"starter",children:"Starter"}),n.jsx("option",{value:"pro",children:"Pro"}),n.jsx("option",{value:"enterprise",children:"Enterprise"})]}),n.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:n.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Organization",v==="name"&&n.jsx("span",{children:y==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("userCount"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Users",v==="userCount"&&n.jsx("span",{children:y==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("mrr"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["MRR",v==="mrr"&&n.jsx("span",{children:y==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("createdAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Created",v==="createdAt"&&n.jsx("span",{children:y==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map($=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:$.name}),n.jsx("div",{className:"text-sm text-gray-500",children:$.slug})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${I($.plan)}`,children:$.plan})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R($.status)}`,children:$.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.userCount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C($.mrr)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P($.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("a",{href:`/admin/organizations/${$.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),$.status==="active"?n.jsx("button",{onClick:()=>O($.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):$.status==="suspended"?n.jsx("button",{onClick:()=>w($.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},$.id))})]})}),r.totalPages>1&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>a($=>({...$,page:$.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),n.jsx("button",{onClick:()=>a($=>({...$,page:$.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function GD(e){return ko({queryKey:["admin","identities",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.provider&&t.set("provider",e.provider),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=await fetch(`/api/admin/identities?${t}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch identities");return r.json()}})}function VD(){return ko({queryKey:["admin","identities","stats"],queryFn:async()=>{const e=await fetch("/api/admin/identities/stats",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch identity stats");return e.json()}})}function QD(){return ko({queryKey:["admin","identities","suggestions"],queryFn:async()=>{const e=await fetch("/api/admin/identities/suggestions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suggestions");return(await e.json()).suggestions}})}function YD(){const e=sa();return Hs({mutationFn:async({identityId:t,userId:r,reason:a})=>{const s=await fetch(`/api/admin/identities/${t}/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:r,reason:a})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to link identity")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function XD(){const e=sa();return Hs({mutationFn:async({identityId:t,reason:r})=>{const a=await fetch(`/api/admin/identities/${t}/unlink`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to unlink identity")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function JD(){const e=sa();return Hs({mutationFn:async({suggestionId:t,reason:r})=>{const a=await fetch(`/api/identities/suggestions/${t}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to accept suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function ZD(){const e=sa();return Hs({mutationFn:async({suggestionId:t,reason:r})=>{const a=await fetch(`/api/identities/suggestions/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:r})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to reject suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}function eL(){const[e,t]=S.useState("all"),[r,a]=S.useState("all"),[s,i]=S.useState(""),[l,u]=S.useState(1),[d,f]=S.useState(null),[p,m]=S.useState(""),{data:g}=VD(),{data:b,isLoading:v}=GD({status:e==="all"?void 0:e,provider:r==="all"?void 0:r,page:l,limit:20}),{data:j}=QD(),y=YD(),k=XD(),A=JD(),_=ZD(),O=g||{total:0,linked:0,unlinked:0,suggested:0,byProvider:{slack:0,google:0,notion:0}},w=(b==null?void 0:b.identities)||[],C=(b==null?void 0:b.pagination)||{page:1,totalPages:0},P=w.filter(M=>{var Y,U,B,L,W,X;if(!s)return!0;const K=s.toLowerCase();return((Y=M.email)==null?void 0:Y.toLowerCase().includes(K))||((U=M.displayName)==null?void 0:U.toLowerCase().includes(K))||((L=(B=M.linkedUser)==null?void 0:B.email)==null?void 0:L.toLowerCase().includes(K))||((X=(W=M.linkedUser)==null?void 0:W.displayName)==null?void 0:X.toLowerCase().includes(K))}),R=M=>{if(!p.trim()){alert("Please enter a user ID");return}y.mutate({identityId:M,userId:p},{onSuccess:()=>{f(null),m("")},onError:K=>{alert(K.message)}})},I=M=>{confirm("Unlink this identity?")&&k.mutate({identityId:M},{onError:K=>{alert(K.message)}})},$=M=>{A.mutate({suggestionId:M},{onError:K=>{alert(K.message)}})},T=M=>{_.mutate({suggestionId:M},{onError:K=>{alert(K.message)}})};return n.jsxs("div",{className:"min-h-screen bg-black text-white",children:[n.jsx("div",{className:"border-b-4 border-white bg-black",children:n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter mb-2",children:"Identity"}),n.jsx("p",{className:"text-xl font-mono text-gray-400",children:"CONTROL PANEL"})]})}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[n.jsx(yd,{label:"TOTAL",value:O.total,color:"border-white"}),n.jsx(yd,{label:"LINKED",value:O.linked,color:"border-green-500"}),n.jsx(yd,{label:"UNLINKED",value:O.unlinked,color:"border-red-500"}),n.jsx(yd,{label:"SUGGESTED",value:O.suggested,color:"border-yellow-500"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[n.jsx(Dp,{provider:"SLACK",count:O.byProvider.slack,icon:n.jsx(Jf,{className:"w-8 h-8"})}),n.jsx(Dp,{provider:"GOOGLE",count:O.byProvider.google,icon:n.jsx(Xf,{className:"w-8 h-8"})}),n.jsx(Dp,{provider:"NOTION",count:O.byProvider.notion,icon:n.jsx(Yf,{className:"w-8 h-8"})})]}),j&&j.length>0&&n.jsx(tL,{suggestions:j,onAccept:$,onReject:T}),n.jsx("div",{className:"border-4 border-white bg-black p-6 mb-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Search"}),n.jsx("input",{type:"text",value:s,onChange:M=>i(M.target.value),placeholder:"Email or name...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Status"}),n.jsxs("select",{value:e,onChange:M=>{t(M.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[n.jsx("option",{value:"all",children:"ALL"}),n.jsx("option",{value:"linked",children:"LINKED"}),n.jsx("option",{value:"unlinked",children:"UNLINKED"}),n.jsx("option",{value:"suggested",children:"SUGGESTED"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Provider"}),n.jsxs("select",{value:r,onChange:M=>{a(M.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[n.jsx("option",{value:"all",children:"ALL"}),n.jsx("option",{value:"slack",children:"SLACK"}),n.jsx("option",{value:"google",children:"GOOGLE"}),n.jsx("option",{value:"notion",children:"NOTION"})]})]})]})}),n.jsxs("div",{className:"border-4 border-white bg-black overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b-4 border-white",children:[n.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Provider"}),n.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Identity"}),n.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Status"}),n.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Linked User"}),n.jsx("th",{className:"text-right p-4 font-mono text-xs font-bold uppercase",children:"Actions"})]})}),n.jsx("tbody",{children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-12 text-center",children:n.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white border-t-transparent animate-spin"})})}):P.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-12 text-center font-mono text-gray-600",children:"NO IDENTITIES FOUND"})}):P.map(M=>n.jsx(rL,{identity:M,onLink:()=>f(M),onUnlink:()=>I(M.id)},M.id))})]}),C.totalPages>1&&n.jsxs("div",{className:"border-t-4 border-white p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"font-mono text-sm",children:["PAGE ",C.page," / ",C.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u(M=>Math.max(1,M-1)),disabled:l===1,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"PREV"}),n.jsx("button",{onClick:()=>u(M=>Math.min(C.totalPages,M+1)),disabled:l===C.totalPages,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"NEXT"})]})]})]})]}),d&&n.jsx(nL,{identity:d,linkUserId:p,setLinkUserId:m,onLink:()=>R(d.id),onClose:()=>{f(null),m("")},isLoading:y.isPending})]})}function yd({label:e,value:t,color:r}){return n.jsxs("div",{className:`border-4 ${r} bg-black p-6`,children:[n.jsx("div",{className:"text-5xl font-black mb-2",children:t}),n.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})}function Dp({provider:e,count:t,icon:r}){return n.jsxs("div",{className:"border-4 border-white bg-black p-6 flex items-center gap-4",children:[n.jsx("div",{className:"text-white",children:r}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-black",children:t}),n.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})]})}function tL({suggestions:e,onAccept:t,onReject:r}){return n.jsxs("div",{className:"border-4 border-yellow-500 bg-black p-6 mb-8",children:[n.jsxs("h2",{className:"text-2xl font-black uppercase mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"inline-block w-4 h-4 bg-yellow-500 animate-pulse"}),"PENDING SUGGESTIONS (",e.length,")"]}),n.jsx("div",{className:"space-y-4",children:e.map(a=>n.jsxs("div",{className:"border-2 border-yellow-500 bg-black p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-mono text-sm mb-1",children:a.externalIdentity.displayName||a.externalIdentity.email}),n.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[a.externalIdentity.provider.toUpperCase()," "," ",a.suggestedUser.email]}),n.jsxs("div",{className:"text-xs text-yellow-500 font-mono mt-1",children:["CONFIDENCE: ",Math.round(a.confidenceScore*100),"%"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>t(a.id),className:"px-4 py-2 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-2",children:[n.jsx(_$,{className:"w-4 h-4"}),"ACCEPT"]}),n.jsxs("button",{onClick:()=>r(a.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 font-mono font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-2",children:[n.jsx(rD,{className:"w-4 h-4"}),"REJECT"]})]})]},a.id))})]})}function rL({identity:e,onLink:t,onUnlink:r}){const a={slack:Jf,google:Xf,notion:Yf}[e.provider],s={linked:"border-green-500 text-green-500",unlinked:"border-red-500 text-red-500",suggested:"border-yellow-500 text-yellow-500"};return n.jsxs("tr",{className:"border-b-2 border-gray-800 hover:bg-gray-900 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(a,{className:"w-5 h-5"}),n.jsx("span",{className:"font-mono text-xs uppercase",children:e.provider})]})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-mono text-sm",children:e.displayName||e.email||"Unknown"}),e.email&&e.displayName&&n.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.email})]}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`inline-block px-3 py-1 border-2 ${s[e.linkStatus]} font-mono text-xs font-bold uppercase`,children:e.linkStatus})}),n.jsx("td",{className:"p-4",children:e.linkedUser?n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-sm",children:e.linkedUser.displayName}),n.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.linkedUser.email})]}):n.jsx("span",{className:"font-mono text-xs text-gray-600",children:"NOT LINKED"})}),n.jsx("td",{className:"p-4 text-right",children:n.jsx("div",{className:"flex justify-end gap-2",children:e.linkStatus==="linked"?n.jsxs("button",{onClick:r,className:"px-3 py-1.5 border-2 border-red-500 text-red-500 font-mono text-xs font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-1",children:[n.jsx(eD,{className:"w-3 h-3"}),"UNLINK"]}):n.jsxs("button",{onClick:t,className:"px-3 py-1.5 border-2 border-green-500 text-green-500 font-mono text-xs font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-1",children:[n.jsx(n_,{className:"w-3 h-3"}),"LINK"]})})})]})}function nL({identity:e,linkUserId:t,setLinkUserId:r,onLink:a,onClose:s,isLoading:i}){return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"border-4 border-white bg-black p-8 max-w-lg w-full",children:[n.jsx("h2",{className:"text-3xl font-black uppercase mb-6",children:"LINK IDENTITY"}),n.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-700",children:[n.jsx("div",{className:"font-mono text-sm mb-2",children:e.displayName||e.email||"Unknown"}),n.jsx("div",{className:"font-mono text-xs text-gray-500 uppercase",children:e.provider})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"User ID"}),n.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),placeholder:"Enter user ID...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500",autoFocus:!0})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:a,disabled:i,className:"flex-1 px-6 py-3 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:i?"LINKING...":"LINK"}),n.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-6 py-3 border-2 border-white text-white font-mono font-bold hover:bg-white hover:text-black transition-colors disabled:opacity-30",children:"CANCEL"})]})]})})}function Po(e){return e.status===404||e.status===502}function Kc({title:e,description:t,onRetry:r}){return n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[n.jsx("div",{className:"text-4xl mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),n.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),r&&n.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function i_(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=i_(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ze(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=i_(e))&&(a&&(a+=" "),a+=t);return a}var Lp,H2;function br(){if(H2)return Lp;H2=1;var e=Array.isArray;return Lp=e,Lp}var Fp,G2;function o_(){if(G2)return Fp;G2=1;var e=typeof dd=="object"&&dd&&dd.Object===Object&&dd;return Fp=e,Fp}var Bp,V2;function _n(){if(V2)return Bp;V2=1;var e=o_(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Bp=r,Bp}var qp,Q2;function Hc(){if(Q2)return qp;Q2=1;var e=_n(),t=e.Symbol;return qp=t,qp}var zp,Y2;function aL(){if(Y2)return zp;Y2=1;var e=Hc(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=a.call(l);return f&&(u?l[s]=d:delete l[s]),p}return zp=i,zp}var Up,X2;function sL(){if(X2)return Up;X2=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return Up=r,Up}var Wp,J2;function oa(){if(J2)return Wp;J2=1;var e=Hc(),t=aL(),r=sL(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):r(u)}return Wp=l,Wp}var Kp,Z2;function la(){if(Z2)return Kp;Z2=1;function e(t){return t!=null&&typeof t=="object"}return Kp=e,Kp}var Hp,eS;function Eo(){if(eS)return Hp;eS=1;var e=oa(),t=la(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Hp=a,Hp}var Gp,tS;function Xb(){if(tS)return Gp;tS=1;var e=br(),t=Eo(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Gp=s,Gp}var Vp,rS;function Ya(){if(rS)return Vp;rS=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Vp=e,Vp}var Qp,nS;function Jb(){if(nS)return Qp;nS=1;var e=oa(),t=Ya(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==r||d==i}return Qp=l,Qp}var Yp,aS;function iL(){if(aS)return Yp;aS=1;var e=_n(),t=e["__core-js_shared__"];return Yp=t,Yp}var Xp,sS;function oL(){if(sS)return Xp;sS=1;var e=iL(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Xp=r,Xp}var Jp,iS;function l_(){if(iS)return Jp;iS=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Jp=r,Jp}var Zp,oS;function lL(){if(oS)return Zp;oS=1;var e=Jb(),t=oL(),r=Ya(),a=l_(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var b=e(g)?p:i;return b.test(a(g))}return Zp=m,Zp}var eg,lS;function cL(){if(lS)return eg;lS=1;function e(t,r){return t==null?void 0:t[r]}return eg=e,eg}var tg,cS;function Qs(){if(cS)return tg;cS=1;var e=lL(),t=cL();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return tg=r,tg}var rg,uS;function Zf(){if(uS)return rg;uS=1;var e=Qs(),t=e(Object,"create");return rg=t,rg}var ng,dS;function uL(){if(dS)return ng;dS=1;var e=Zf();function t(){this.__data__=e?e(null):{},this.size=0}return ng=t,ng}var ag,fS;function dL(){if(fS)return ag;fS=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return ag=e,ag}var sg,hS;function fL(){if(hS)return sg;hS=1;var e=Zf(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return sg=s,sg}var ig,mS;function hL(){if(mS)return ig;mS=1;var e=Zf(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return ig=a,ig}var og,pS;function mL(){if(pS)return og;pS=1;var e=Zf(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return og=r,og}var lg,gS;function pL(){if(gS)return lg;gS=1;var e=uL(),t=dL(),r=fL(),a=hL(),s=mL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,lg=i,lg}var cg,xS;function gL(){if(xS)return cg;xS=1;function e(){this.__data__=[],this.size=0}return cg=e,cg}var ug,yS;function Zb(){if(yS)return ug;yS=1;function e(t,r){return t===r||t!==t&&r!==r}return ug=e,ug}var dg,vS;function eh(){if(vS)return dg;vS=1;var e=Zb();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return dg=t,dg}var fg,bS;function xL(){if(bS)return fg;bS=1;var e=eh(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return fg=a,fg}var hg,jS;function yL(){if(jS)return hg;jS=1;var e=eh();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return hg=t,hg}var mg,wS;function vL(){if(wS)return mg;wS=1;var e=eh();function t(r){return e(this.__data__,r)>-1}return mg=t,mg}var pg,NS;function bL(){if(NS)return pg;NS=1;var e=eh();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return pg=t,pg}var gg,SS;function th(){if(SS)return gg;SS=1;var e=gL(),t=xL(),r=yL(),a=vL(),s=bL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,gg=i,gg}var xg,kS;function ej(){if(kS)return xg;kS=1;var e=Qs(),t=_n(),r=e(t,"Map");return xg=r,xg}var yg,OS;function jL(){if(OS)return yg;OS=1;var e=pL(),t=th(),r=ej();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return yg=a,yg}var vg,CS;function wL(){if(CS)return vg;CS=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return vg=e,vg}var bg,AS;function rh(){if(AS)return bg;AS=1;var e=wL();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return bg=t,bg}var jg,PS;function NL(){if(PS)return jg;PS=1;var e=rh();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return jg=t,jg}var wg,ES;function SL(){if(ES)return wg;ES=1;var e=rh();function t(r){return e(this,r).get(r)}return wg=t,wg}var Ng,_S;function kL(){if(_S)return Ng;_S=1;var e=rh();function t(r){return e(this,r).has(r)}return Ng=t,Ng}var Sg,TS;function OL(){if(TS)return Sg;TS=1;var e=rh();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return Sg=t,Sg}var kg,RS;function tj(){if(RS)return kg;RS=1;var e=jL(),t=NL(),r=SL(),a=kL(),s=OL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,kg=i,kg}var Og,MS;function c_(){if(MS)return Og;MS=1;var e=tj(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=a.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,Og=r,Og}var Cg,IS;function CL(){if(IS)return Cg;IS=1;var e=c_(),t=500;function r(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return Cg=r,Cg}var Ag,$S;function AL(){if($S)return Ag;$S=1;var e=CL(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return Ag=a,Ag}var Pg,DS;function rj(){if(DS)return Pg;DS=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return Pg=e,Pg}var Eg,LS;function PL(){if(LS)return Eg;LS=1;var e=Hc(),t=rj(),r=br(),a=Eo(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Eg=l,Eg}var _g,FS;function u_(){if(FS)return _g;FS=1;var e=PL();function t(r){return r==null?"":e(r)}return _g=t,_g}var Tg,BS;function d_(){if(BS)return Tg;BS=1;var e=br(),t=Xb(),r=AL(),a=u_();function s(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return Tg=s,Tg}var Rg,qS;function nh(){if(qS)return Rg;qS=1;var e=Eo();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Rg=t,Rg}var Mg,zS;function nj(){if(zS)return Mg;zS=1;var e=d_(),t=nh();function r(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return Mg=r,Mg}var Ig,US;function f_(){if(US)return Ig;US=1;var e=nj();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Ig=t,Ig}var EL=f_();const Er=Ze(EL);var $g,WS;function _L(){if(WS)return $g;WS=1;function e(t){return t==null}return $g=e,$g}var TL=_L();const Fe=Ze(TL);var Dg,KS;function RL(){if(KS)return Dg;KS=1;var e=oa(),t=br(),r=la(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return Dg=s,Dg}var ML=RL();const Bs=Ze(ML);var IL=Jb();const De=Ze(IL);var $L=Ya();const _o=Ze($L);var Lg={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function DL(){if(HS)return Ye;HS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function j(y){if(typeof y=="object"&&y!==null){var k=y.$$typeof;switch(k){case e:switch(y=y.type,y){case r:case s:case a:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case g:case m:case i:return y;default:return k}}case t:return k}}}return Ye.ContextConsumer=l,Ye.ContextProvider=i,Ye.Element=e,Ye.ForwardRef=d,Ye.Fragment=r,Ye.Lazy=g,Ye.Memo=m,Ye.Portal=t,Ye.Profiler=s,Ye.StrictMode=a,Ye.Suspense=f,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(y){return j(y)===l},Ye.isContextProvider=function(y){return j(y)===i},Ye.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ye.isForwardRef=function(y){return j(y)===d},Ye.isFragment=function(y){return j(y)===r},Ye.isLazy=function(y){return j(y)===g},Ye.isMemo=function(y){return j(y)===m},Ye.isPortal=function(y){return j(y)===t},Ye.isProfiler=function(y){return j(y)===s},Ye.isStrictMode=function(y){return j(y)===a},Ye.isSuspense=function(y){return j(y)===f},Ye.isSuspenseList=function(y){return j(y)===p},Ye.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===a||y===f||y===p||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===m||y.$$typeof===i||y.$$typeof===l||y.$$typeof===d||y.$$typeof===v||y.getModuleId!==void 0)},Ye.typeOf=j,Ye}var GS;function LL(){return GS||(GS=1,Lg.exports=DL()),Lg.exports}var FL=LL(),Fg,VS;function h_(){if(VS)return Fg;VS=1;var e=oa(),t=la(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return Fg=a,Fg}var Bg,QS;function BL(){if(QS)return Bg;QS=1;var e=h_();function t(r){return e(r)&&r!=+r}return Bg=t,Bg}var qL=BL();const Gc=Ze(qL);var zL=h_();const UL=Ze(zL);var sr=function(t){return t===0?0:t>0?1:-1},js=function(t){return Bs(t)&&t.indexOf("%")===t.length-1},xe=function(t){return UL(t)&&!Gc(t)},WL=function(t){return Fe(t)},Rt=function(t){return xe(t)||Bs(t)},KL=0,To=function(t){var r=++KL;return"".concat(t||"").concat(r)},ir=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!Bs(t))return a;var i;if(js(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Gc(i)&&(i=a),s&&i>r&&(i=r),i},Ta=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},HL=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Ar=function(t,r){return xe(t)&&xe(r)?function(a){return t+a*(r-t)}:function(){return r}};function qd(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Er(a,t))===r})}var GL=function(t,r){return xe(t)&&xe(r)?t-r:Bs(t)&&Bs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ii(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}var VL=["viewBox","children"],QL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YS=["points","pathLength"],qg={svg:VL,polygon:YS,polyline:YS},aj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!_o(a))return null;var s={};return Object.keys(a).forEach(function(i){aj.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},YL=function(t,r,a){return function(s){return t(r,a,s),null}},qs=function(t,r,a){if(!_o(t)||mv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];aj.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=YL(l,r,a))}),s},XL=["children"],JL=["children"];function XS(e,t){if(e==null)return{};var r=ZL(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ZL(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}var JS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ZS=null,zg=null,sj=function e(t){if(t===ZS&&Array.isArray(zg))return zg;var r=[];return S.Children.forEach(t,function(a){Fe(a)||(FL.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),zg=r,ZS=t,r};function _r(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Jn(s)}):a=[Jn(t)],sj(e).forEach(function(s){var i=Er(s,"type.displayName")||Er(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Cr(e,t){var r=_r(e,t);return r&&r[0]}var ek=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!xe(a)||a<=0||!xe(s)||s<=0)},eF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tF=function(t){return t&&t.type&&Bs(t.type)&&eF.indexOf(t.type)>=0},rF=function(t){return t&&pv(t)==="object"&&"clipDot"in t},nF=function(t,r,a,s){var i,l=(i=qg==null?void 0:qg[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!De(t)&&(s&&l.includes(r)||QL.includes(r))||a&&aj.includes(r)},_e=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(S.isValidElement(t)&&(s=t.props),!_o(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;nF((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(i[l]=s[l])}),i},gv=function e(t,r){if(t===r)return!0;var a=S.Children.count(t);if(a!==S.Children.count(r))return!1;if(a===0)return!0;if(a===1)return tk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!tk(i,l))return!1}return!0},tk=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var a=t.props||{},s=a.children,i=XS(a,XL),l=r.props||{},u=l.children,d=XS(l,JL);return s&&u?Ii(i,d)&&gv(s,u):!s&&!u?Ii(i,d):!1}return!1},rk=function(t,r){var a=[],s={};return sj(t).forEach(function(i,l){if(tF(i))a.push(i);else if(i){var u=Jn(i.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!s[u])){var m=f(i,u,l);a.push(m),s[u]=!0}}}),a},aF=function(t){var r=t&&t.type;return r&&JS[r]?JS[r]:null},sF=function(t,r){return sj(r).indexOf(t)},iF=["children","width","height","viewBox","className","style","title","desc"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xv.apply(this,arguments)}function oF(e,t){if(e==null)return{};var r=lF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function lF(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function yv(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=oF(e,iF),p=s||{width:r,height:a,x:0,y:0},m=ze("recharts-surface",i);return V.createElement("svg",xv({},_e(f,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var cF=["children","className"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vv.apply(this,arguments)}function uF(e,t){if(e==null)return{};var r=dF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function dF(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ve=V.forwardRef(function(e,t){var r=e.children,a=e.className,s=uF(e,cF),i=ze("recharts-layer",a);return V.createElement("g",vv({className:i},_e(s,!0),{ref:t}),r)}),un=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Ug,nk;function fF(){if(nk)return Ug;nk=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+r];return l}return Ug=e,Ug}var Wg,ak;function hF(){if(ak)return Wg;ak=1;var e=fF();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return Wg=t,Wg}var Kg,sk;function m_(){if(sk)return Kg;sk=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return Kg=d,Kg}var Hg,ik;function mF(){if(ik)return Hg;ik=1;function e(t){return t.split("")}return Hg=e,Hg}var Gg,ok;function pF(){if(ok)return Gg;ok=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",v=f+"?",j="["+i+"]?",y="(?:"+b+"(?:"+[p,m,g].join("|")+")"+j+v+")*",k=j+v+y,A="(?:"+[p+u+"?",u,m,g,l].join("|")+")",_=RegExp(d+"(?="+d+")|"+A+k,"g");function O(w){return w.match(_)||[]}return Gg=O,Gg}var Vg,lk;function gF(){if(lk)return Vg;lk=1;var e=mF(),t=m_(),r=pF();function a(s){return t(s)?r(s):e(s)}return Vg=a,Vg}var Qg,ck;function xF(){if(ck)return Qg;ck=1;var e=hF(),t=m_(),r=gF(),a=u_();function s(i){return function(l){l=a(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return Qg=s,Qg}var Yg,uk;function yF(){if(uk)return Yg;uk=1;var e=xF(),t=e("toUpperCase");return Yg=t,Yg}var vF=yF();const ah=Ze(vF);function it(e){return function(){return e}}const p_=Math.cos,Ud=Math.sin,fn=Math.sqrt,Wd=Math.PI,sh=2*Wd,bv=Math.PI,jv=2*bv,gs=1e-6,bF=jv-gs;function g_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g_;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class wF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g_:jF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,f=s-r,p=l-t,m=u-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>gs)if(!(Math.abs(m*d-f*p)>gs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=a-l,v=s-u,j=d*d+f*f,y=b*b+v*v,k=Math.sqrt(j),A=Math.sqrt(g),_=i*Math.tan((bv-Math.acos((j+g-y)/(2*k*A)))/2),O=_/A,w=_/k;Math.abs(O-1)>gs&&this._append`L${t+O*p},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*b>p*v)},${this._x1=t+w*d},${this._y1=r+w*f}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),f=t+u,p=r+d,m=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>gs||Math.abs(this._y1-p)>gs)&&this._append`L${f},${p}`,a&&(g<0&&(g=g%jv+jv),g>bF?this._append`A${a},${a},0,1,${m},${t-u},${r-d}A${a},${a},0,1,${m},${this._x1=f},${this._y1=p}`:g>gs&&this._append`A${a},${a},0,${+(g>=bv)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function ij(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new wF(t)}function oj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x_(e){this._context=e}x_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ih(e){return new x_(e)}function y_(e){return e[0]}function v_(e){return e[1]}function b_(e,t){var r=it(!0),a=null,s=ih,i=null,l=ij(u);e=typeof e=="function"?e:e===void 0?y_:it(e),t=typeof t=="function"?t:t===void 0?v_:it(t);function u(d){var f,p=(d=oj(d)).length,m,g=!1,b;for(a==null&&(i=s(b=l())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,d),+t(m,f,d));if(b)return i=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:it(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function vd(e,t,r){var a=null,s=it(!0),i=null,l=ih,u=null,d=ij(f);e=typeof e=="function"?e:e===void 0?y_:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?v_:it(+r);function f(m){var g,b,v,j=(m=oj(m)).length,y,k=!1,A,_=new Array(j),O=new Array(j);for(i==null&&(u=l(A=d())),g=0;g<=j;++g){if(!(g<j&&s(y=m[g],g,m))===k)if(k=!k)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),v=g-1;v>=b;--v)u.point(_[v],O[v]);u.lineEnd(),u.areaEnd()}k&&(_[g]=+e(y,g,m),O[g]=+t(y,g,m),u.point(a?+a(y,g,m):_[g],r?+r(y,g,m):O[g]))}if(A)return u=null,A+""||null}function p(){return b_().defined(s).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),a=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),f):e},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:it(+m),f):a},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:it(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(a).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:it(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),f):i},f}class j_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NF(e){return new j_(e,!0)}function SF(e){return new j_(e,!1)}const lj={draw(e,t){const r=fn(t/Wd);e.moveTo(r,0),e.arc(0,0,r,0,sh)}},kF={draw(e,t){const r=fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},w_=fn(1/3),OF=w_*2,CF={draw(e,t){const r=fn(t/OF),a=r*w_;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},AF={draw(e,t){const r=fn(t),a=-r/2;e.rect(a,a,r,r)}},PF=.8908130915292852,N_=Ud(Wd/10)/Ud(7*Wd/10),EF=Ud(sh/10)*N_,_F=-p_(sh/10)*N_,TF={draw(e,t){const r=fn(t*PF),a=EF*r,s=_F*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=sh*i/5,u=p_(l),d=Ud(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},Xg=fn(3),RF={draw(e,t){const r=-fn(t/(Xg*3));e.moveTo(0,r*2),e.lineTo(-Xg*r,-r),e.lineTo(Xg*r,-r),e.closePath()}},Lr=-.5,Fr=fn(3)/2,wv=1/fn(12),MF=(wv/2+1)*3,IF={draw(e,t){const r=fn(t/MF),a=r/2,s=r*wv,i=a,l=r*wv+r,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(Lr*a-Fr*s,Fr*a+Lr*s),e.lineTo(Lr*i-Fr*l,Fr*i+Lr*l),e.lineTo(Lr*u-Fr*d,Fr*u+Lr*d),e.lineTo(Lr*a+Fr*s,Lr*s-Fr*a),e.lineTo(Lr*i+Fr*l,Lr*l-Fr*i),e.lineTo(Lr*u+Fr*d,Lr*d-Fr*u),e.closePath()}};function $F(e,t){let r=null,a=ij(s);e=typeof e=="function"?e:it(e||lj),t=typeof t=="function"?t:it(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:it(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:it(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Kd(){}function Hd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function S_(e){this._context=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DF(e){return new S_(e)}function k_(e){this._context=e}k_.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LF(e){return new k_(e)}function O_(e){this._context=e}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FF(e){return new O_(e)}function C_(e){this._context=e}C_.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function BF(e){return new C_(e)}function dk(e){return e<0?-1:1}function fk(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(dk(i)+dk(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function hk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jg(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*r,i,l)}function Gd(e){this._context=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,hk(this,r=fk(this,e,t)),r);break;default:Jg(this,this._t0,r=fk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function A_(e){this._context=new P_(e)}(A_.prototype=Object.create(Gd.prototype)).point=function(e,t){Gd.prototype.point.call(this,t,e)};function P_(e){this._context=e}P_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function qF(e){return new Gd(e)}function zF(e){return new A_(e)}function E_(e){this._context=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=mk(e),s=mk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mk(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function UF(e){return new E_(e)}function oh(e,t){this._context=e,this._t=t}oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WF(e){return new oh(e,.5)}function KF(e){return new oh(e,0)}function HF(e){return new oh(e,1)}function Xi(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,u=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Nv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function GF(e,t){return e[t]}function VF(e){const t=[];return t.key=e,t}function QF(){var e=it([]),t=Nv,r=Xi,a=GF;function s(i){var l=Array.from(e.apply(this,arguments),VF),u,d=l.length,f=-1,p;for(const m of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+a(m,l[u].key,f,i)]).data=m;for(u=0,p=oj(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:it(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:it(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Nv:typeof i=="function"?i:it(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Xi,s):r},s}function YF(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Xi(e,t)}}function XF(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Xi(e,t)}}function JF(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[a][1]||0,g=p[a-1][1]||0,b=(m-g)/2,v=0;v<u;++v){var j=e[t[v]],y=j[a][1]||0,k=j[a-1][1]||0;b+=y-k}d+=m,f+=b*m}s[a-1][1]+=s[a-1][0]=r,d&&(r-=f/d)}s[a-1][1]+=s[a-1][0]=r,Xi(e,t)}}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}var ZF=["type","size","sizeType"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sv.apply(this,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(a){e7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e7(e,t,r){return t=t7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return ec(t)=="symbol"?t:t+""}function r7(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7(e,t){if(e==null)return{};var r=a7(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function a7(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var __={symbolCircle:lj,symbolCross:kF,symbolDiamond:CF,symbolSquare:AF,symbolStar:TF,symbolTriangle:RF,symbolWye:IF},s7=Math.PI/180,i7=function(t){var r="symbol".concat(ah(t));return __[r]||lj},o7=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*s7;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l7=function(t,r){__["symbol".concat(ah(t))]=r},cj=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=n7(t,ZF),f=gk(gk({},d),{},{type:a,size:i,sizeType:u}),p=function(){var y=i7(a),k=$F().type(y).size(o7(i,u,a));return k()},m=f.className,g=f.cx,b=f.cy,v=_e(f,!0);return g===+g&&b===+b&&i===+i?V.createElement("path",Sv({},v,{className:ze("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(b,")"),d:p()})):null};cj.registerSymbol=l7;function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kv.apply(this,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function c7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(a){tc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function u7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R_(a.key),a)}}function f7(e,t,r){return t&&d7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h7(e,t,r){return t=Vd(t),m7(e,T_()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function m7(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7(e)}function p7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T_=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function g7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ov(e,t)}function Ov(e,t){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ov(e,t)}function tc(e,t,r){return t=R_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_(e){var t=x7(e,"string");return Ji(t)=="symbol"?t:t+""}function x7(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ji(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Br=32,uj=(function(e){function t(){return u7(this,t),h7(this,t,arguments)}return g7(t,e),f7(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Br/2,l=Br/6,u=Br/3,d=a.inactive?s:a.color;if(a.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Br,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Br,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Br/8,"h").concat(Br,"v").concat(Br*3/4,"h").concat(-Br,"z"),className:"recharts-legend-icon"});if(V.isValidElement(a.legendIcon)){var f=c7({},a);return delete f.legendIcon,V.cloneElement(a.legendIcon,f)}return V.createElement(cj,{fill:d,cx:i,cy:i,size:Br,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,p={x:0,y:0,width:Br,height:Br},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,v){var j=b.formatter||d,y=ze(tc(tc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",b.inactive));if(b.type==="none")return null;var k=De(b.value)?null:b.value;un(!De(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?f:b.color;return V.createElement("li",kv({className:y,style:m,key:"legend-item-".concat(v)},qs(a.props,b,v)),V.createElement(yv,{width:l,height:l,viewBox:p,style:g},a.renderIcon(b)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},j?j(k,b,v):k))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(S.PureComponent);tc(uj,"displayName","Legend");tc(uj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zg,yk;function y7(){if(yk)return Zg;yk=1;var e=th();function t(){this.__data__=new e,this.size=0}return Zg=t,Zg}var ex,vk;function v7(){if(vk)return ex;vk=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return ex=e,ex}var tx,bk;function b7(){if(bk)return tx;bk=1;function e(t){return this.__data__.get(t)}return tx=e,tx}var rx,jk;function j7(){if(jk)return rx;jk=1;function e(t){return this.__data__.has(t)}return rx=e,rx}var nx,wk;function w7(){if(wk)return nx;wk=1;var e=th(),t=ej(),r=tj(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return nx=s,nx}var ax,Nk;function M_(){if(Nk)return ax;Nk=1;var e=th(),t=y7(),r=v7(),a=b7(),s=j7(),i=w7();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,ax=l,ax}var sx,Sk;function N7(){if(Sk)return sx;Sk=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return sx=t,sx}var ix,kk;function S7(){if(kk)return ix;kk=1;function e(t){return this.__data__.has(t)}return ix=e,ix}var ox,Ok;function I_(){if(Ok)return ox;Ok=1;var e=tj(),t=N7(),r=S7();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,ox=a,ox}var lx,Ck;function $_(){if(Ck)return lx;Ck=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return lx=e,lx}var cx,Ak;function D_(){if(Ak)return cx;Ak=1;function e(t,r){return t.has(r)}return cx=e,cx}var ux,Pk;function L_(){if(Pk)return ux;Pk=1;var e=I_(),t=$_(),r=D_(),a=1,s=2;function i(l,u,d,f,p,m){var g=d&a,b=l.length,v=u.length;if(b!=v&&!(g&&v>b))return!1;var j=m.get(l),y=m.get(u);if(j&&y)return j==u&&y==l;var k=-1,A=!0,_=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++k<b;){var O=l[k],w=u[k];if(f)var C=g?f(w,O,k,u,l,m):f(O,w,k,l,u,m);if(C!==void 0){if(C)continue;A=!1;break}if(_){if(!t(u,function(P,R){if(!r(_,R)&&(O===P||p(O,P,d,f,m)))return _.push(R)})){A=!1;break}}else if(!(O===w||p(O,w,d,f,m))){A=!1;break}}return m.delete(l),m.delete(u),A}return ux=i,ux}var dx,Ek;function k7(){if(Ek)return dx;Ek=1;var e=_n(),t=e.Uint8Array;return dx=t,dx}var fx,_k;function O7(){if(_k)return fx;_k=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return fx=e,fx}var hx,Tk;function dj(){if(Tk)return hx;Tk=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return hx=e,hx}var mx,Rk;function C7(){if(Rk)return mx;Rk=1;var e=Hc(),t=k7(),r=Zb(),a=L_(),s=O7(),i=dj(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",b="[object RegExp]",v="[object Set]",j="[object String]",y="[object Symbol]",k="[object ArrayBuffer]",A="[object DataView]",_=e?e.prototype:void 0,O=_?_.valueOf:void 0;function w(C,P,R,I,$,T,M){switch(R){case A:if(C.byteLength!=P.byteLength||C.byteOffset!=P.byteOffset)return!1;C=C.buffer,P=P.buffer;case k:return!(C.byteLength!=P.byteLength||!T(new t(C),new t(P)));case d:case f:case g:return r(+C,+P);case p:return C.name==P.name&&C.message==P.message;case b:case j:return C==P+"";case m:var K=s;case v:var Y=I&l;if(K||(K=i),C.size!=P.size&&!Y)return!1;var U=M.get(C);if(U)return U==P;I|=u,M.set(C,P);var B=a(K(C),K(P),I,$,T,M);return M.delete(C),B;case y:if(O)return O.call(C)==O.call(P)}return!1}return mx=w,mx}var px,Mk;function F_(){if(Mk)return px;Mk=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return px=e,px}var gx,Ik;function A7(){if(Ik)return gx;Ik=1;var e=F_(),t=br();function r(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return gx=r,gx}var xx,$k;function P7(){if($k)return xx;$k=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];r(u,a,t)&&(l[i++]=u)}return l}return xx=e,xx}var yx,Dk;function E7(){if(Dk)return yx;Dk=1;function e(){return[]}return yx=e,yx}var vx,Lk;function _7(){if(Lk)return vx;Lk=1;var e=P7(),t=E7(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return vx=i,vx}var bx,Fk;function T7(){if(Fk)return bx;Fk=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return bx=e,bx}var jx,Bk;function R7(){if(Bk)return jx;Bk=1;var e=oa(),t=la(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return jx=a,jx}var wx,qk;function fj(){if(qk)return wx;qk=1;var e=R7(),t=la(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return wx=i,wx}var ql={exports:{}},Nx,zk;function M7(){if(zk)return Nx;zk=1;function e(){return!1}return Nx=e,Nx}ql.exports;var Uk;function B_(){return Uk||(Uk=1,(function(e,t){var r=_n(),a=M7(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||a;e.exports=f})(ql,ql.exports)),ql.exports}var Sx,Wk;function hj(){if(Wk)return Sx;Wk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return Sx=r,Sx}var kx,Kk;function mj(){if(Kk)return kx;Kk=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return kx=t,kx}var Ox,Hk;function I7(){if(Hk)return Ox;Hk=1;var e=oa(),t=mj(),r=la(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",v="[object String]",j="[object WeakMap]",y="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",$="[object Uint32Array]",T={};T[A]=T[_]=T[O]=T[w]=T[C]=T[P]=T[R]=T[I]=T[$]=!0,T[a]=T[s]=T[y]=T[i]=T[k]=T[l]=T[u]=T[d]=T[f]=T[p]=T[m]=T[g]=T[b]=T[v]=T[j]=!1;function M(K){return r(K)&&t(K.length)&&!!T[e(K)]}return Ox=M,Ox}var Cx,Gk;function q_(){if(Gk)return Cx;Gk=1;function e(t){return function(r){return t(r)}}return Cx=e,Cx}var zl={exports:{}};zl.exports;var Vk;function $7(){return Vk||(Vk=1,(function(e,t){var r=o_(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(zl,zl.exports)),zl.exports}var Ax,Qk;function z_(){if(Qk)return Ax;Qk=1;var e=I7(),t=q_(),r=$7(),a=r&&r.isTypedArray,s=a?t(a):e;return Ax=s,Ax}var Px,Yk;function D7(){if(Yk)return Px;Yk=1;var e=T7(),t=fj(),r=br(),a=B_(),s=hj(),i=z_(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=r(f),g=!m&&t(f),b=!m&&!g&&a(f),v=!m&&!g&&!b&&i(f),j=m||g||b||v,y=j?e(f.length,String):[],k=y.length;for(var A in f)(p||u.call(f,A))&&!(j&&(A=="length"||b&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,k)))&&y.push(A);return y}return Px=d,Px}var Ex,Xk;function L7(){if(Xk)return Ex;Xk=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return Ex=t,Ex}var _x,Jk;function U_(){if(Jk)return _x;Jk=1;function e(t,r){return function(a){return t(r(a))}}return _x=e,_x}var Tx,Zk;function F7(){if(Zk)return Tx;Zk=1;var e=U_(),t=e(Object.keys,Object);return Tx=t,Tx}var Rx,eO;function B7(){if(eO)return Rx;eO=1;var e=L7(),t=F7(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return Rx=s,Rx}var Mx,tO;function Vc(){if(tO)return Mx;tO=1;var e=Jb(),t=mj();function r(a){return a!=null&&t(a.length)&&!e(a)}return Mx=r,Mx}var Ix,rO;function lh(){if(rO)return Ix;rO=1;var e=D7(),t=B7(),r=Vc();function a(s){return r(s)?e(s):t(s)}return Ix=a,Ix}var $x,nO;function q7(){if(nO)return $x;nO=1;var e=A7(),t=_7(),r=lh();function a(s){return e(s,r,t)}return $x=a,$x}var Dx,aO;function z7(){if(aO)return Dx;aO=1;var e=q7(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,l,u,d,f,p){var m=u&t,g=e(i),b=g.length,v=e(l),j=v.length;if(b!=j&&!m)return!1;for(var y=b;y--;){var k=g[y];if(!(m?k in l:a.call(l,k)))return!1}var A=p.get(i),_=p.get(l);if(A&&_)return A==l&&_==i;var O=!0;p.set(i,l),p.set(l,i);for(var w=m;++y<b;){k=g[y];var C=i[k],P=l[k];if(d)var R=m?d(P,C,k,l,i,p):d(C,P,k,i,l,p);if(!(R===void 0?C===P||f(C,P,u,d,p):R)){O=!1;break}w||(w=k=="constructor")}if(O&&!w){var I=i.constructor,$=l.constructor;I!=$&&"constructor"in i&&"constructor"in l&&!(typeof I=="function"&&I instanceof I&&typeof $=="function"&&$ instanceof $)&&(O=!1)}return p.delete(i),p.delete(l),O}return Dx=s,Dx}var Lx,sO;function U7(){if(sO)return Lx;sO=1;var e=Qs(),t=_n(),r=e(t,"DataView");return Lx=r,Lx}var Fx,iO;function W7(){if(iO)return Fx;iO=1;var e=Qs(),t=_n(),r=e(t,"Promise");return Fx=r,Fx}var Bx,oO;function W_(){if(oO)return Bx;oO=1;var e=Qs(),t=_n(),r=e(t,"Set");return Bx=r,Bx}var qx,lO;function K7(){if(lO)return qx;lO=1;var e=Qs(),t=_n(),r=e(t,"WeakMap");return qx=r,qx}var zx,cO;function H7(){if(cO)return zx;cO=1;var e=U7(),t=ej(),r=W7(),a=W_(),s=K7(),i=oa(),l=l_(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",b=l(e),v=l(t),j=l(r),y=l(a),k=l(s),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=g||t&&A(new t)!=u||r&&A(r.resolve())!=f||a&&A(new a)!=p||s&&A(new s)!=m)&&(A=function(_){var O=i(_),w=O==d?_.constructor:void 0,C=w?l(w):"";if(C)switch(C){case b:return g;case v:return u;case j:return f;case y:return p;case k:return m}return O}),zx=A,zx}var Ux,uO;function G7(){if(uO)return Ux;uO=1;var e=M_(),t=L_(),r=C7(),a=z7(),s=H7(),i=br(),l=B_(),u=z_(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function v(j,y,k,A,_,O){var w=i(j),C=i(y),P=w?p:s(j),R=C?p:s(y);P=P==f?m:P,R=R==f?m:R;var I=P==m,$=R==m,T=P==R;if(T&&l(j)){if(!l(y))return!1;w=!0,I=!1}if(T&&!I)return O||(O=new e),w||u(j)?t(j,y,k,A,_,O):r(j,y,P,k,A,_,O);if(!(k&d)){var M=I&&b.call(j,"__wrapped__"),K=$&&b.call(y,"__wrapped__");if(M||K){var Y=M?j.value():j,U=K?y.value():y;return O||(O=new e),_(Y,U,k,A,O)}}return T?(O||(O=new e),a(j,y,k,A,_,O)):!1}return Ux=v,Ux}var Wx,dO;function pj(){if(dO)return Wx;dO=1;var e=G7(),t=la();function r(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,r,u)}return Wx=r,Wx}var Kx,fO;function V7(){if(fO)return Kx;fO=1;var e=M_(),t=pj(),r=1,a=2;function s(i,l,u,d){var f=u.length,p=f,m=!d;if(i==null)return!p;for(i=Object(i);f--;){var g=u[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<p;){g=u[f];var b=g[0],v=i[b],j=g[1];if(m&&g[2]){if(v===void 0&&!(b in i))return!1}else{var y=new e;if(d)var k=d(v,j,b,i,l,y);if(!(k===void 0?t(j,v,r|a,d,y):k))return!1}}return!0}return Kx=s,Kx}var Hx,hO;function K_(){if(hO)return Hx;hO=1;var e=Ya();function t(r){return r===r&&!e(r)}return Hx=t,Hx}var Gx,mO;function Q7(){if(mO)return Gx;mO=1;var e=K_(),t=lh();function r(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return Gx=r,Gx}var Vx,pO;function H_(){if(pO)return Vx;pO=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return Vx=e,Vx}var Qx,gO;function Y7(){if(gO)return Qx;gO=1;var e=V7(),t=Q7(),r=H_();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return Qx=a,Qx}var Yx,xO;function X7(){if(xO)return Yx;xO=1;function e(t,r){return t!=null&&r in Object(t)}return Yx=e,Yx}var Xx,yO;function J7(){if(yO)return Xx;yO=1;var e=d_(),t=fj(),r=br(),a=hj(),s=mj(),i=nh();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var b=i(d[p]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&s(m)&&a(b,m)&&(r(u)||t(u)))}return Xx=l,Xx}var Jx,vO;function Z7(){if(vO)return Jx;vO=1;var e=X7(),t=J7();function r(a,s){return a!=null&&t(a,s,e)}return Jx=r,Jx}var Zx,bO;function e9(){if(bO)return Zx;bO=1;var e=pj(),t=f_(),r=Z7(),a=Xb(),s=K_(),i=H_(),l=nh(),u=1,d=2;function f(p,m){return a(p)&&s(m)?i(l(p),m):function(g){var b=t(g,p);return b===void 0&&b===m?r(g,p):e(m,b,u|d)}}return Zx=f,Zx}var e0,jO;function Ro(){if(jO)return e0;jO=1;function e(t){return t}return e0=e,e0}var t0,wO;function t9(){if(wO)return t0;wO=1;function e(t){return function(r){return r==null?void 0:r[t]}}return t0=e,t0}var r0,NO;function r9(){if(NO)return r0;NO=1;var e=nj();function t(r){return function(a){return e(a,r)}}return r0=t,r0}var n0,SO;function n9(){if(SO)return n0;SO=1;var e=t9(),t=r9(),r=Xb(),a=nh();function s(i){return r(i)?e(a(i)):t(i)}return n0=s,n0}var a0,kO;function Tn(){if(kO)return a0;kO=1;var e=Y7(),t=e9(),r=Ro(),a=br(),s=n9();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return a0=i,a0}var s0,OO;function G_(){if(OO)return s0;OO=1;function e(t,r,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return s0=e,s0}var i0,CO;function a9(){if(CO)return i0;CO=1;function e(t){return t!==t}return i0=e,i0}var o0,AO;function s9(){if(AO)return o0;AO=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return o0=e,o0}var l0,PO;function i9(){if(PO)return l0;PO=1;var e=G_(),t=a9(),r=s9();function a(s,i,l){return i===i?r(s,i,l):e(s,t,l)}return l0=a,l0}var c0,EO;function o9(){if(EO)return c0;EO=1;var e=i9();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return c0=t,c0}var u0,_O;function l9(){if(_O)return u0;_O=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return u0=e,u0}var d0,TO;function c9(){if(TO)return d0;TO=1;function e(){}return d0=e,d0}var f0,RO;function u9(){if(RO)return f0;RO=1;var e=W_(),t=c9(),r=dj(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return f0=s,f0}var h0,MO;function d9(){if(MO)return h0;MO=1;var e=I_(),t=o9(),r=l9(),a=D_(),s=u9(),i=dj(),l=200;function u(d,f,p){var m=-1,g=t,b=d.length,v=!0,j=[],y=j;if(p)v=!1,g=r;else if(b>=l){var k=f?null:s(d);if(k)return i(k);v=!1,g=a,y=new e}else y=f?[]:j;e:for(;++m<b;){var A=d[m],_=f?f(A):A;if(A=p||A!==0?A:0,v&&_===_){for(var O=y.length;O--;)if(y[O]===_)continue e;f&&y.push(_),j.push(A)}else g(y,_,p)||(y!==j&&y.push(_),j.push(A))}return j}return h0=u,h0}var m0,IO;function f9(){if(IO)return m0;IO=1;var e=Tn(),t=d9();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return m0=r,m0}var h9=f9();const $O=Ze(h9);function V_(e,t,r){return t===!0?$O(e,r):De(t)?$O(e,t):e}function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}var m9=["ref"];function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(a){ch(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function p9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y_(a.key),a)}}function g9(e,t,r){return t&&LO(e.prototype,t),r&&LO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x9(e,t,r){return t=Qd(t),y9(e,Q_()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function y9(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v9(e)}function v9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q_=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function b9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Cv(e,t)}function ch(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=j9(e,"string");return Zi(t)=="symbol"?t:t+""}function j9(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function w9(e,t){if(e==null)return{};var r=N9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function N9(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function S9(e){return e.value}function k9(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=w9(t,m9);return V.createElement(uj,r)}var FO=1,Ha=(function(e){function t(){var r;p9(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=x9(this,t,[].concat(s)),ch(r,"lastBoundingBox",{width:-1,height:-1}),r}return b9(t,e),g9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>FO||Math.abs(s.height-this.lastBoundingBox.height)>FO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,p=s.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var v=this.getBBoxSnapshot();g={top:((p||0)-v.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return qn(qn({},m),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,p=s.payload,m=qn(qn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){a.wrapperNode=b}},k9(i,qn(qn({},this.props),{},{payload:V_(p,f,S9)})))}}],[{key:"getWithHeight",value:function(a,s){var i=qn(qn({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&xe(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(S.PureComponent);ch(Ha,"displayName","Legend");ch(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var p0,BO;function O9(){if(BO)return p0;BO=1;var e=Hc(),t=fj(),r=br(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return p0=s,p0}var g0,qO;function X_(){if(qO)return g0;qO=1;var e=F_(),t=O9();function r(a,s,i,l,u){var d=-1,f=a.length;for(i||(i=t),u||(u=[]);++d<f;){var p=a[d];s>0&&i(p)?s>1?r(p,s-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return g0=r,g0}var x0,zO;function C9(){if(zO)return x0;zO=1;function e(t){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),d=u.length;d--;){var f=u[t?d:++i];if(a(l[f],f,l)===!1)break}return r}}return x0=e,x0}var y0,UO;function A9(){if(UO)return y0;UO=1;var e=C9(),t=e();return y0=t,y0}var v0,WO;function J_(){if(WO)return v0;WO=1;var e=A9(),t=lh();function r(a,s){return a&&e(a,s,t)}return v0=r,v0}var b0,KO;function P9(){if(KO)return b0;KO=1;var e=Vc();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return b0=t,b0}var j0,HO;function gj(){if(HO)return j0;HO=1;var e=J_(),t=P9(),r=t(e);return j0=r,j0}var w0,GO;function Z_(){if(GO)return w0;GO=1;var e=gj(),t=Vc();function r(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,f){l[++i]=s(u,d,f)}),l}return w0=r,w0}var N0,VO;function E9(){if(VO)return N0;VO=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return N0=e,N0}var S0,QO;function _9(){if(QO)return S0;QO=1;var e=Eo();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,l=r===r,u=e(r),d=a!==void 0,f=a===null,p=a===a,m=e(a);if(!f&&!m&&!u&&r>a||u&&d&&p&&!f&&!m||i&&d&&p||!s&&p||!l)return 1;if(!i&&!u&&!m&&r<a||m&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return S0=t,S0}var k0,YO;function T9(){if(YO)return k0;YO=1;var e=_9();function t(r,a,s){for(var i=-1,l=r.criteria,u=a.criteria,d=l.length,f=s.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=f)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return r.index-a.index}return k0=t,k0}var O0,XO;function R9(){if(XO)return O0;XO=1;var e=rj(),t=nj(),r=Tn(),a=Z_(),s=E9(),i=q_(),l=T9(),u=Ro(),d=br();function f(p,m,g){m.length?m=e(m,function(j){return d(j)?function(y){return t(y,j.length===1?j[0]:j)}:j}):m=[u];var b=-1;m=e(m,i(r));var v=a(p,function(j,y,k){var A=e(m,function(_){return _(j)});return{criteria:A,index:++b,value:j}});return s(v,function(j,y){return l(j,y,g)})}return O0=f,O0}var C0,JO;function M9(){if(JO)return C0;JO=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return C0=e,C0}var A0,ZO;function I9(){if(ZO)return A0;ZO=1;var e=M9(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=i(f),e(a,this,p)}}return A0=r,A0}var P0,eC;function $9(){if(eC)return P0;eC=1;function e(t){return function(){return t}}return P0=e,P0}var E0,tC;function e4(){if(tC)return E0;tC=1;var e=Qs(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return E0=t,E0}var _0,rC;function D9(){if(rC)return _0;rC=1;var e=$9(),t=e4(),r=Ro(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return _0=a,_0}var T0,nC;function L9(){if(nC)return T0;nC=1;var e=800,t=16,r=Date.now;function a(s){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return T0=a,T0}var R0,aC;function F9(){if(aC)return R0;aC=1;var e=D9(),t=L9(),r=t(e);return R0=r,R0}var M0,sC;function B9(){if(sC)return M0;sC=1;var e=Ro(),t=I9(),r=F9();function a(s,i){return r(t(s,i,e),s+"")}return M0=a,M0}var I0,iC;function uh(){if(iC)return I0;iC=1;var e=Zb(),t=Vc(),r=hj(),a=Ya();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return I0=s,I0}var $0,oC;function q9(){if(oC)return $0;oC=1;var e=X_(),t=R9(),r=B9(),a=uh(),s=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return $0=s,$0}var z9=q9();const xj=Ze(z9);function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Av.apply(this,arguments)}function U9(e,t){return G9(e)||H9(e,t)||K9(e,t)||W9()}function W9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function H9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function G9(e){if(Array.isArray(e))return e}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(a){V9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function V9(e,t,r){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=Y9(e,"string");return rc(t)=="symbol"?t:t+""}function Y9(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X9(e){return Array.isArray(e)&&Rt(e[0])&&Rt(e[1])?e.join(" ~ "):e}var J9=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,g=t.itemSorter,b=t.wrapperClassName,v=t.labelClassName,j=t.label,y=t.labelFormatter,k=t.accessibilityLayer,A=k===void 0?!1:k,_=function(){if(p&&p.length){var M={padding:0,margin:0},K=(g?xj(p,g):p).map(function(Y,U){if(Y.type==="none")return null;var B=D0({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),L=Y.formatter||m||X9,W=Y.value,X=Y.name,z=W,q=X;if(L&&z!=null&&q!=null){var F=L(W,X,Y,U,p);if(Array.isArray(F)){var G=U9(F,2);z=G[0],q=G[1]}else z=F}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:B},Rt(q)?V.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Rt(q)?V.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,V.createElement("span",{className:"recharts-tooltip-item-value"},z),V.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:M},K)}return null},O=D0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=D0({margin:0},f),C=!Fe(j),P=C?j:"",R=ze("recharts-default-tooltip",b),I=ze("recharts-tooltip-label",v);C&&y&&p!==void 0&&p!==null&&(P=y(j,p));var $=A?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Av({className:R,style:O},$),V.createElement("p",{className:I,style:w},V.isValidElement(P)?P:"".concat(P)),_())};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function bd(e,t,r){return t=Z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=eB(e,"string");return nc(t)=="symbol"?t:t+""}function eB(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pl="recharts-tooltip-wrapper",tB={visibility:"hidden"};function rB(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return ze(Pl,bd(bd(bd(bd({},"".concat(Pl,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(Pl,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(Pl,"-bottom"),xe(a)&&t&&xe(t.y)&&a>=t.y),"".concat(Pl,"-top"),xe(a)&&t&&xe(t.y)&&a<t.y))}function uC(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&xe(i[a]))return i[a];var p=r[a]-u-s,m=r[a]+s;if(t[a])return l[a]?p:m;if(l[a]){var g=p,b=d[a];return g<b?Math.max(m,d[a]):Math.max(p,d[a])}var v=m+u,j=d[a]+f;return v>j?Math.max(p,d[a]):Math.max(m,d[a])}function nB(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aB(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=uC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=uC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=nB({translateX:p,translateY:m,useTranslate3d:u})):f=tB,{cssProperties:f,cssClasses:rB({translateX:p,translateY:m,coordinate:r})}}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(a){Ev(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r4(a.key),a)}}function oB(e,t,r){return t&&iB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lB(e,t,r){return t=Yd(t),cB(e,t4()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function cB(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uB(e)}function uB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function dB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pv(e,t)}function Ev(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=fB(e,"string");return eo(t)=="symbol"?t:t+""}function fB(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(eo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hC=1,hB=(function(e){function t(){var r;sB(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=lB(this,t,[].concat(s)),Ev(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ev(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return dB(t,e),oB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>hC||Math.abs(a.height-this.state.lastBoundingBox.height)>hC)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,p=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,b=s.offset,v=s.position,j=s.reverseDirection,y=s.useTranslate3d,k=s.viewBox,A=s.wrapperStyle,_=aB({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:b,position:v,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:k}),O=_.cssClasses,w=_.cssProperties,C=fC(fC({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return V.createElement("div",{tabIndex:-1,className:O,style:C,ref:function(R){a.wrapperNode=R}},f)}}])})(S.PureComponent),mB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ys={isSsr:mB()};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(a){yj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a4(a.key),a)}}function xB(e,t,r){return t&&gB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yB(e,t,r){return t=Xd(t),vB(e,n4()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function vB(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bB(e)}function bB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function jB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_v(e,t)}function _v(e,t){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_v(e,t)}function yj(e,t,r){return t=a4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4(e){var t=wB(e,"string");return to(t)=="symbol"?t:t+""}function wB(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(to(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NB(e){return e.dataKey}function SB(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(J9,t)}var Ur=(function(e){function t(){return pB(this,t),yB(this,t,arguments)}return jB(t,e),xB(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,p=s.coordinate,m=s.filterNull,g=s.isAnimationActive,b=s.offset,v=s.payload,j=s.payloadUniqBy,y=s.position,k=s.reverseDirection,A=s.useTranslate3d,_=s.viewBox,O=s.wrapperStyle,w=v??[];m&&w.length&&(w=V_(v.filter(function(P){return P.value!=null&&(P.hide!==!0||a.props.includeHidden)}),j,NB));var C=w.length>0;return V.createElement(hB,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:p,hasPayload:C,offset:b,position:y,reverseDirection:k,useTranslate3d:A,viewBox:_,wrapperStyle:O},SB(f,pC(pC({},this.props),{},{payload:w})))}}])})(S.PureComponent);yj(Ur,"displayName","Tooltip");yj(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ys.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var L0,gC;function kB(){if(gC)return L0;gC=1;var e=_n(),t=function(){return e.Date.now()};return L0=t,L0}var F0,xC;function OB(){if(xC)return F0;xC=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return F0=t,F0}var B0,yC;function CB(){if(yC)return B0;yC=1;var e=OB(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return B0=r,B0}var q0,vC;function s4(){if(vC)return q0;vC=1;var e=CB(),t=Ya(),r=Eo(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?a:+f}return q0=d,q0}var z0,bC;function AB(){if(bC)return z0;bC=1;var e=Ya(),t=kB(),r=s4(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var p,m,g,b,v,j,y=0,k=!1,A=!1,_=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(f)&&(k=!!f.leading,A="maxWait"in f,g=A?s(r(f.maxWait)||0,d):g,_="trailing"in f?!!f.trailing:_);function O(K){var Y=p,U=m;return p=m=void 0,y=K,b=u.apply(U,Y),b}function w(K){return y=K,v=setTimeout(R,d),k?O(K):b}function C(K){var Y=K-j,U=K-y,B=d-Y;return A?i(B,g-U):B}function P(K){var Y=K-j,U=K-y;return j===void 0||Y>=d||Y<0||A&&U>=g}function R(){var K=t();if(P(K))return I(K);v=setTimeout(R,C(K))}function I(K){return v=void 0,_&&p?O(K):(p=m=void 0,b)}function $(){v!==void 0&&clearTimeout(v),y=0,p=j=m=v=void 0}function T(){return v===void 0?b:I(t())}function M(){var K=t(),Y=P(K);if(p=arguments,m=this,j=K,Y){if(v===void 0)return w(j);if(A)return clearTimeout(v),v=setTimeout(R,d),O(j)}return v===void 0&&(v=setTimeout(R,d)),b}return M.cancel=$,M.flush=T,M}return z0=l,z0}var U0,jC;function PB(){if(jC)return U0;jC=1;var e=AB(),t=Ya(),r="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return U0=a,U0}var EB=PB();const i4=Ze(EB);function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(a){_B(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _B(e,t,r){return t=TB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=RB(e,"string");return ac(t)=="symbol"?t:t+""}function RB(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e,t){return LB(e)||DB(e,t)||$B(e,t)||IB()}function IB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function DB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function LB(e){if(Array.isArray(e))return e}var vj=S.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,b=e.children,v=e.debounce,j=v===void 0?0:v,y=e.id,k=e.className,A=e.onResize,_=e.style,O=_===void 0?{}:_,w=S.useRef(null),C=S.useRef();C.current=A,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=S.useState({containerWidth:s.width,containerHeight:s.height}),R=MB(P,2),I=R[0],$=R[1],T=S.useCallback(function(K,Y){$(function(U){var B=Math.round(K),L=Math.round(Y);return U.containerWidth===B&&U.containerHeight===L?U:{containerWidth:B,containerHeight:L}})},[]);S.useEffect(function(){var K=function(X){var z,q=X[0].contentRect,F=q.width,G=q.height;T(F,G),(z=C.current)===null||z===void 0||z.call(C,F,G)};j>0&&(K=i4(K,j,{trailing:!0,leading:!1}));var Y=new ResizeObserver(K),U=w.current.getBoundingClientRect(),B=U.width,L=U.height;return T(B,L),Y.observe(w.current),function(){Y.disconnect()}},[T,j]);var M=S.useMemo(function(){var K=I.containerWidth,Y=I.containerHeight;if(K<0||Y<0)return null;un(js(l)||js(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),un(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=js(l)?K:l,B=js(d)?Y:d;r&&r>0&&(U?B=U/r:B&&(U=B*r),g&&B>g&&(B=g)),un(U>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,B,l,d,p,m,r);var L=!Array.isArray(b)&&Jn(b.type).endsWith("Chart");return V.Children.map(b,function(W){return V.isValidElement(W)?S.cloneElement(W,jd({width:U,height:B},L?{style:jd({height:"100%",width:"100%",maxHeight:B,maxWidth:U},W.props.style)}:{})):W})},[r,b,d,g,m,p,I,l]);return V.createElement("div",{id:y?"".concat(y):void 0,className:ze("recharts-responsive-container",k),style:jd(jd({},O),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:w},M)}),dh=function(t){return null};dh.displayName="Cell";function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(a){FB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FB(e,t,r){return t=BB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return sc(t)=="symbol"?t:t+""}function qB(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ki={widthCache:{},cacheCount:0},zB=2e3,UB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kC="recharts_measurement_span";function WB(e){var t=Tv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};var a=WB(r),s=JSON.stringify({text:t,copyStyle:a});if(ki.widthCache[s])return ki.widthCache[s];try{var i=document.getElementById(kC);i||(i=document.createElement("span"),i.setAttribute("id",kC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Tv(Tv({},UB),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return ki.widthCache[s]=d,++ki.cacheCount>zB&&(ki.cacheCount=0,ki.widthCache={}),d}catch{return{width:0,height:0}}},KB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Jd(e,t){return QB(e)||VB(e,t)||GB(e,t)||HB()}function HB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GB(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function VB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function QB(e){if(Array.isArray(e))return e}function YB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CC(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,JB(a.key),a)}}function XB(e,t,r){return t&&CC(e.prototype,t),r&&CC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JB(e){var t=ZB(e,"string");return ic(t)=="symbol"?t:t+""}function ZB(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rq=Object.keys(o4),Ei="NaN";function nq(e,t){return e*o4[t]}var wd=(function(){function e(t,r){YB(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!eq.test(r)&&(this.num=NaN,this.unit=""),rq.includes(r)&&(this.num=nq(t,r),this.unit="px")}return XB(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=tq.exec(r))!==null&&a!==void 0?a:[],i=Jd(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function l4(e){if(e.includes(Ei))return Ei;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=AC.exec(t))!==null&&r!==void 0?r:[],s=Jd(a,4),i=s[1],l=s[2],u=s[3],d=wd.parse(i??""),f=wd.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Ei;t=t.replace(AC,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=PC.exec(t))!==null&&m!==void 0?m:[],b=Jd(g,4),v=b[1],j=b[2],y=b[3],k=wd.parse(v??""),A=wd.parse(y??""),_=j==="+"?k.add(A):k.subtract(A);if(_.isNaN())return Ei;t=t.replace(PC,_.toString())}return t}var EC=/\(([^()]*)\)/;function aq(e){for(var t=e;t.includes("(");){var r=EC.exec(t),a=Jd(r,2),s=a[1];t=t.replace(EC,l4(s))}return t}function sq(e){var t=e.replace(/\s+/g,"");return t=aq(t),t=l4(t),t}function iq(e){try{return sq(e)}catch{return Ei}}function W0(e){var t=iq(e.slice(5,-1));return t===Ei?"":t}var oq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lq=["dx","dy","angle","className","breakAll"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rv.apply(this,arguments)}function _C(e,t){if(e==null)return{};var r=cq(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function cq(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function TC(e,t){return hq(e)||fq(e,t)||dq(e,t)||uq()}function uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return RC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RC(e,t)}}function RC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function hq(e){if(Array.isArray(e))return e}var c4=/[ \f\n\r\t\v\u2028\u2029]+/,u4=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Fe(r)||(a?i=r.toString().split(""):i=r.toString().split(c4));var l=i.map(function(d){return{word:d,width:Wl(d,s).width}}),u=a?0:Wl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},mq=function(t,r,a,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=xe(l),m=u,g=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(B,L){var W=L.word,X=L.width,z=B[B.length-1];if(z&&(s==null||i||z.width+X+a<Number(s)))z.words.push(W),z.width+=X+a;else{var q={words:[W],width:X};B.push(q)}return B},[])},b=g(r),v=function(U){return U.reduce(function(B,L){return B.width>L.width?B:L})};if(!p)return b;for(var j="",y=function(U){var B=m.slice(0,U),L=u4({breakAll:f,style:d,children:B+j}).wordsWithComputedWidth,W=g(L),X=W.length>l||v(W).width>Number(s);return[X,W]},k=0,A=m.length-1,_=0,O;k<=A&&_<=m.length-1;){var w=Math.floor((k+A)/2),C=w-1,P=y(C),R=TC(P,2),I=R[0],$=R[1],T=y(w),M=TC(T,1),K=M[0];if(!I&&!K&&(k=w+1),I&&K&&(A=w-1),!I&&K){O=$;break}_++}return O||b},MC=function(t){var r=Fe(t)?[]:t.toString().split(c4);return[{words:r}]},pq=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||a)&&!Ys.isSsr){var d,f,p=u4({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,f=g}else return MC(s);return mq({breakAll:l,children:s,maxLines:u,style:i},d,f,r,a)}return MC(s)},IC="#808080",zs=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,b=g===void 0?"start":g,v=t.verticalAnchor,j=v===void 0?"end":v,y=t.fill,k=y===void 0?IC:y,A=_C(t,oq),_=S.useMemo(function(){return pq({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),O=A.dx,w=A.dy,C=A.angle,P=A.className,R=A.breakAll,I=_C(A,lq);if(!Rt(a)||!Rt(i))return null;var $=a+(xe(O)?O:0),T=i+(xe(w)?w:0),M;switch(j){case"start":M=W0("calc(".concat(f,")"));break;case"middle":M=W0("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:M=W0("calc(".concat(_.length-1," * -").concat(u,")"));break}var K=[];if(m){var Y=_[0].width,U=A.width;K.push("scale(".concat((xe(U)?U/Y:1)/Y,")"))}return C&&K.push("rotate(".concat(C,", ").concat($,", ").concat(T,")")),K.length&&(I.transform=K.join(" ")),V.createElement("text",Rv({},_e(I,!0),{x:$,y:T,className:ze("recharts-text",P),textAnchor:b,fill:k.includes("url")?IC:k}),_.map(function(B,L){var W=B.words.join(R?"":" ");return V.createElement("tspan",{x:$,dy:L===0?M:u,key:"".concat(W,"-").concat(L)},W)}))};function Ga(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bj(e){let t,r,a;e.length!==2?(t=Ga,r=(u,d)=>Ga(e(u),d),a=(u,d)=>e(u)-d):(t=e===Ga||e===gq?e:xq,r=e,a=e);function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,d,f=0,p=u.length){const m=s(u,d,f,p-1);return m>f&&a(u[m-1],d)>-a(u[m],d)?m-1:m}return{left:s,center:l,right:i}}function xq(){return 0}function d4(e){return e===null?NaN:+e}function*yq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vq=bj(Ga),Qc=vq.right;bj(d4).center;class $C extends Map{constructor(t,r=wq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(DC(this,t))}has(t){return super.has(DC(this,t))}set(t,r){return super.set(bq(this,t),r)}delete(t){return super.delete(jq(this,t))}}function DC({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function bq({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function jq({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function wq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nq(e=Ga){if(e===Ga)return f4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function f4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sq=Math.sqrt(50),kq=Math.sqrt(10),Oq=Math.sqrt(2);function Zd(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=Sq?10:i>=kq?5:i>=Oq?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Zd(e,t,r*2):[u,d,f]}function Mv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Zd(t,e,r):Zd(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function Iv(e,t,r){return t=+t,e=+e,r=+r,Zd(e,t,r)[2]}function $v(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?Iv(t,e,r):Iv(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function LC(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function FC(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function h4(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?f4:Nq(s);a>r;){if(a-r>600){const d=a-r+1,f=t-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*m/d+g)),v=Math.min(a,Math.floor(t+(d-f)*m/d+g));h4(e,t,b,v,s)}const i=e[t];let l=r,u=a;for(El(e,r,t),s(e[a],i)>0&&El(e,r,a);l<u;){for(El(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?El(e,r,u):(++u,El(e,u,a)),u<=t&&(r=u+1),t<=u&&(a=u-1)}return e}function El(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Cq(e,t,r){if(e=Float64Array.from(yq(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return FC(e);if(t>=1)return LC(e);var a,s=(a-1)*t,i=Math.floor(s),l=LC(h4(e,i).subarray(0,i+1)),u=FC(e.subarray(i+1));return l+(u-l)*(s-i)}}function Aq(e,t,r=d4){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function Pq(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ca(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dv=Symbol("implicit");function jj(){var e=new $C,t=[],r=[],a=Dv;function s(i){let l=e.get(i);if(l===void 0){if(a!==Dv)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $C;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return jj(t,r).unknown(a)},Gr.apply(s,arguments),s}function oc(){var e=jj().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var g=t().length,b=s<a,v=b?s:a,j=b?a:s;i=(j-v)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),v+=(j-v-i*(g-d))*p,l=i*(1-d),u&&(v=Math.round(v),l=Math.round(l));var y=Pq(g).map(function(k){return v+i*k});return r(b?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return oc(t(),[a,s]).round(u).paddingInner(d).paddingOuter(f).align(p)},Gr.apply(m(),arguments)}function m4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m4(t())},e}function Kl(){return m4(oc.apply(null,arguments).paddingInner(1))}function wj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function p4(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Yc(){}var lc=.7,ef=1/lc,$i="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eq=/^#([0-9a-f]{3,8})$/,_q=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),Tq=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),Rq=new RegExp(`^rgba\\(${$i},${$i},${$i},${cc}\\)$`),Mq=new RegExp(`^rgba\\(${On},${On},${On},${cc}\\)$`),Iq=new RegExp(`^hsl\\(${cc},${On},${On}\\)$`),$q=new RegExp(`^hsla\\(${cc},${On},${On},${cc}\\)$`),BC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wj(Yc,uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qC,formatHex:qC,formatHex8:Dq,formatHsl:Lq,formatRgb:zC,toString:zC});function qC(){return this.rgb().formatHex()}function Dq(){return this.rgb().formatHex8()}function Lq(){return g4(this).formatHsl()}function zC(){return this.rgb().formatRgb()}function uc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Eq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UC(t):r===3?new xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_q.exec(e))?new xr(t[1],t[2],t[3],1):(t=Tq.exec(e))?new xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rq.exec(e))?Nd(t[1],t[2],t[3],t[4]):(t=Mq.exec(e))?Nd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Iq.exec(e))?HC(t[1],t[2]/100,t[3]/100,1):(t=$q.exec(e))?HC(t[1],t[2]/100,t[3]/100,t[4]):BC.hasOwnProperty(e)?UC(BC[e]):e==="transparent"?new xr(NaN,NaN,NaN,0):null}function UC(e){return new xr(e>>16&255,e>>8&255,e&255,1)}function Nd(e,t,r,a){return a<=0&&(e=t=r=NaN),new xr(e,t,r,a)}function Fq(e){return e instanceof Yc||(e=uc(e)),e?(e=e.rgb(),new xr(e.r,e.g,e.b,e.opacity)):new xr}function Lv(e,t,r,a){return arguments.length===1?Fq(e):new xr(e,t,r,a??1)}function xr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}wj(xr,Lv,p4(Yc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xr(Is(this.r),Is(this.g),Is(this.b),tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WC,formatHex:WC,formatHex8:Bq,formatRgb:KC,toString:KC}));function WC(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function Bq(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function KC(){const e=tf(this.opacity);return`${e===1?"rgb(":"rgba("}${Is(this.r)}, ${Is(this.g)}, ${Is(this.b)}${e===1?")":`, ${e})`}`}function tf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Is(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ws(e){return e=Is(e),(e<16?"0":"")+e.toString(16)}function HC(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,r,a)}function g4(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof Yc||(e=uc(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(r-a)/u+(r<a)*6:r===i?l=(a-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new cn(l,u,d,e.opacity)}function qq(e,t,r,a){return arguments.length===1?g4(e):new cn(e,t,r,a??1)}function cn(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}wj(cn,qq,p4(Yc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new xr(K0(e>=240?e-240:e+120,s,a),K0(e,s,a),K0(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new cn(GC(this.h),Sd(this.s),Sd(this.l),tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tf(this.opacity);return`${e===1?"hsl(":"hsla("}${GC(this.h)}, ${Sd(this.s)*100}%, ${Sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GC(e){return e=(e||0)%360,e<0?e+360:e}function Sd(e){return Math.max(0,Math.min(1,e||0))}function K0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nj=e=>()=>e;function zq(e,t){return function(r){return e+r*t}}function Uq(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Wq(e){return(e=+e)==1?x4:function(t,r){return r-t?Uq(t,r,e):Nj(isNaN(t)?r:t)}}function x4(e,t){var r=t-e;return r?zq(e,r):Nj(isNaN(e)?t:e)}const VC=(function e(t){var r=Wq(t);function a(s,i){var l=r((s=Lv(s)).r,(i=Lv(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=x4(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return a.gamma=e,a})(1);function Kq(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function Hq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gq(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Mo(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function Vq(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function rf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qq(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Mo(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var Fv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H0=new RegExp(Fv.source,"g");function Yq(e){return function(){return e}}function Xq(e){return function(t){return e(t)+""}}function Jq(e,t){var r=Fv.lastIndex=H0.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=Fv.exec(e))&&(s=H0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:rf(a,s)})),r=H0.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?Xq(d[0].x):Yq(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function Mo(e,t){var r=typeof t,a;return t==null||r==="boolean"?Nj(t):(r==="number"?rf:r==="string"?(a=uc(t))?(t=a,VC):Jq:t instanceof uc?VC:t instanceof Date?Vq:Hq(t)?Kq:Array.isArray(t)?Gq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qq:rf)(e,t)}function Sj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Zq(e,t){t===void 0&&(t=e,e=Mo);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function ez(e){return function(){return e}}function nf(e){return+e}var QC=[0,1];function or(e){return e}function Bv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ez(isNaN(t)?NaN:.5)}function tz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function rz(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=Bv(s,a),i=r(l,i)):(a=Bv(a,s),i=r(i,l)),function(u){return i(a(u))}}function nz(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=Bv(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=Qc(e,u,1,a)-1;return i[d](s[d](u))}}function Xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fh(){var e=QC,t=QC,r=Mo,a,s,i,l=or,u,d,f;function p(){var g=Math.min(e.length,t.length);return l!==or&&(l=tz(e[0],e[g-1])),u=g>2?nz:rz,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(a),t,r)))(a(l(g)))}return m.invert=function(g){return l(s((f||(f=u(t,e.map(a),rf)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,nf),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=Sj,p()},m.clamp=function(g){return arguments.length?(l=g?!0:or,p()):l!==or},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,b){return a=g,s=b,p()}}function kj(){return fh()(or,or)}function az(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function af(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function ro(e){return e=af(Math.abs(e)),e?e[1]:NaN}function sz(e,t){return function(r,a){for(var s=r.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function iz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=oz.exec(e)))throw new Error("invalid format: "+e);var t;return new Oj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=Oj.prototype;function Oj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Oj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lz(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var sf;function cz(e,t){var r=af(e,t);if(!r)return sf=void 0,e.toPrecision(t);var a=r[0],s=r[1],i=s-(sf=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+af(e,Math.max(0,t+i-1))[0]}function YC(e,t){var r=af(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const XC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:az,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YC(e*100,t),r:YC,s:cz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JC(e){return e}var ZC=Array.prototype.map,e5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uz(e){var t=e.grouping===void 0||e.thousands===void 0?JC:sz(ZC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?JC:iz(ZC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,g){m=dc(m);var b=m.fill,v=m.align,j=m.sign,y=m.symbol,k=m.zero,A=m.width,_=m.comma,O=m.precision,w=m.trim,C=m.type;C==="n"?(_=!0,C="g"):XC[C]||(O===void 0&&(O=12),w=!0,C="g"),(k||b==="0"&&v==="=")&&(k=!0,b="0",v="=");var P=(g&&g.prefix!==void 0?g.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),R=(y==="$"?a:/[%p]/.test(C)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),I=XC[C],$=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function T(M){var K=P,Y=R,U,B,L;if(C==="c")Y=I(M)+Y,M="";else{M=+M;var W=M<0||1/M<0;if(M=isNaN(M)?d:I(Math.abs(M),O),w&&(M=lz(M)),W&&+M==0&&j!=="+"&&(W=!1),K=(W?j==="("?j:u:j==="-"||j==="("?"":j)+K,Y=(C==="s"&&!isNaN(M)&&sf!==void 0?e5[8+sf/3]:"")+Y+(W&&j==="("?")":""),$){for(U=-1,B=M.length;++U<B;)if(L=M.charCodeAt(U),48>L||L>57){Y=(L===46?s+M.slice(U+1):M.slice(U))+Y,M=M.slice(0,U);break}}}_&&!k&&(M=t(M,1/0));var X=K.length+M.length+Y.length,z=X<A?new Array(A-X+1).join(b):"";switch(_&&k&&(M=t(z+M,z.length?A-Y.length:1/0),z=""),v){case"<":M=K+M+Y+z;break;case"=":M=K+z+M+Y;break;case"^":M=z.slice(0,X=z.length>>1)+K+M+Y+z.slice(X);break;default:M=z+K+M+Y;break}return i(M)}return T.toString=function(){return m+""},T}function p(m,g){var b=Math.max(-8,Math.min(8,Math.floor(ro(g)/3)))*3,v=Math.pow(10,-b),j=f((m=dc(m),m.type="f",m),{suffix:e5[8+b/3]});return function(y){return j(v*y)}}return{format:f,formatPrefix:p}}var kd,Cj,y4;dz({thousands:",",grouping:[3],currency:["$",""]});function dz(e){return kd=uz(e),Cj=kd.format,y4=kd.formatPrefix,kd}function fz(e){return Math.max(0,-ro(Math.abs(e)))}function hz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(t)/3)))*3-ro(Math.abs(e)))}function mz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ro(t)-ro(e))+1}function v4(e,t,r,a){var s=$v(e,t,r),i;switch(a=dc(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=hz(s,l))&&(a.precision=i),y4(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=mz(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=fz(s))&&(a.precision=i-(a.type==="%")*2);break}}return Cj(a)}function Xa(e){var t=e.domain;return e.ticks=function(r){var a=t();return Mv(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return v4(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);p-- >0;){if(f=Iv(l,u,r),f===d)return a[s]=l,a[i]=u,t(a);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function of(){var e=kj();return e.copy=function(){return Xc(e,of())},Gr.apply(e,arguments),Xa(e)}function b4(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,nf),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return b4(e).unknown(t)},e=arguments.length?Array.from(e,nf):[0,1],Xa(r)}function j4(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function t5(e){return Math.log(e)}function r5(e){return Math.exp(e)}function pz(e){return-Math.log(-e)}function gz(e){return-Math.exp(-e)}function xz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yz(e){return e===10?xz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n5(e){return(t,r)=>-e(-t,r)}function Aj(e){const t=e(t5,r5),r=t.domain;let a=10,s,i;function l(){return s=vz(a),i=yz(a),r()[0]<0?(s=n5(s),i=n5(i),e(pz,gz)):e(t5,r5),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=s(f),b=s(p),v,j;const y=u==null?10:+u;let k=[];if(!(a%1)&&b-g<y){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(v=1;v<a;++v)if(j=g<0?v/i(-g):v*i(g),!(j<f)){if(j>p)break;k.push(j)}}else for(;g<=b;++g)for(v=a-1;v>=1;--v)if(j=g>0?v/i(-g):v*i(g),!(j<f)){if(j>p)break;k.push(j)}k.length*2<y&&(k=Mv(f,p,y))}else k=Mv(g,b,Math.min(b-g,y)).map(i);return m?k.reverse():k},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=dc(d)).precision==null&&(d.trim=!0),d=Cj(d)),u===1/0)return d;const f=Math.max(1,a*u/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*a<a-.5&&(m*=a),m<=f?d(p):""}},t.nice=()=>r(j4(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function w4(){const e=Aj(fh()).domain([1,10]);return e.copy=()=>Xc(e,w4()).base(e.base()),Gr.apply(e,arguments),e}function a5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pj(e){var t=1,r=e(a5(t),s5(t));return r.constant=function(a){return arguments.length?e(a5(t=+a),s5(t)):t},Xa(r)}function N4(){var e=Pj(fh());return e.copy=function(){return Xc(e,N4()).constant(e.constant())},Gr.apply(e,arguments)}function i5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jz(e){return e<0?-e*e:e*e}function Ej(e){var t=e(or,or),r=1;function a(){return r===1?e(or,or):r===.5?e(bz,jz):e(i5(r),i5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Xa(t)}function _j(){var e=Ej(fh());return e.copy=function(){return Xc(e,_j()).exponent(e.exponent())},Gr.apply(e,arguments),e}function wz(){return _j.apply(null,arguments).exponent(.5)}function o5(e){return Math.sign(e)*e*e}function Nz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S4(){var e=kj(),t=[0,1],r=!1,a;function s(i){var l=Nz(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(o5(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,nf)).map(o5)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return S4(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Gr.apply(s,arguments),Xa(s)}function k4(){var e=[],t=[],r=[],a;function s(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=Aq(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[Qc(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ga),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return k4().domain(e).range(t).unknown(a)},Gr.apply(i,arguments)}function O4(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[Qc(a,d,0,r)]:i}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return O4().domain([e,t]).range(s).unknown(i)},Gr.apply(Xa(l),arguments)}function C4(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[Qc(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return C4().domain(e).range(t).unknown(r)},Gr.apply(s,arguments)}const G0=new Date,V0=new Date;function Mt(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>Mt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(G0.setTime(+i),V0.setTime(+l),e(G0),e(V0),Math.floor(r(G0,V0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const lf=Mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Qn=1e3,Kr=Qn*60,Yn=Kr*60,ra=Yn*24,Tj=ra*7,l5=ra*30,Q0=ra*365,Ns=Mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCSeconds());Ns.range;const Rj=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());Rj.range;const Mj=Mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());Mj.range;const Ij=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getHours());Ij.range;const $j=Mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCHours());$j.range;const Jc=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/ra,e=>e.getDate()-1);Jc.range;const hh=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);hh.range;const A4=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));A4.range;function Xs(e){return Mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Tj)}const mh=Xs(0),cf=Xs(1),Sz=Xs(2),kz=Xs(3),no=Xs(4),Oz=Xs(5),Cz=Xs(6);mh.range;cf.range;Sz.range;kz.range;no.range;Oz.range;Cz.range;function Js(e){return Mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tj)}const ph=Js(0),uf=Js(1),Az=Js(2),Pz=Js(3),ao=Js(4),Ez=Js(5),_z=Js(6);ph.range;uf.range;Az.range;Pz.range;ao.range;Ez.range;_z.range;const Dj=Mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dj.range;const Lj=Mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lj.range;const na=Mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});na.range;const aa=Mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});aa.range;function P4(e,t,r,a,s,i){const l=[[Ns,1,Qn],[Ns,5,5*Qn],[Ns,15,15*Qn],[Ns,30,30*Qn],[i,1,Kr],[i,5,5*Kr],[i,15,15*Kr],[i,30,30*Kr],[s,1,Yn],[s,3,3*Yn],[s,6,6*Yn],[s,12,12*Yn],[a,1,ra],[a,2,2*ra],[r,1,Tj],[t,1,l5],[t,3,3*l5],[e,1,Q0]];function u(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const b=m&&typeof m.range=="function"?m:d(f,p,m),v=b?b.range(f,+p+1):[];return g?v.reverse():v}function d(f,p,m){const g=Math.abs(p-f)/m,b=bj(([,,y])=>y).right(l,g);if(b===l.length)return e.every($v(f/Q0,p/Q0,m));if(b===0)return lf.every(Math.max($v(f,p,m),1));const[v,j]=l[g/l[b-1][2]<l[b][2]/g?b-1:b];return v.every(j)}return[u,d]}const[Tz,Rz]=P4(aa,Lj,ph,A4,$j,Mj),[Mz,Iz]=P4(na,Dj,mh,Jc,Ij,Rj);function Y0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function X0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _l(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $z(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Tl(s),p=Rl(s),m=Tl(i),g=Rl(i),b=Tl(l),v=Rl(l),j=Tl(u),y=Rl(u),k=Tl(d),A=Rl(d),_={a:L,A:W,b:X,B:z,c:null,d:m5,e:m5,f:sU,g:pU,G:xU,H:rU,I:nU,j:aU,L:E4,m:iU,M:oU,p:q,q:F,Q:x5,s:y5,S:lU,u:cU,U:uU,V:dU,w:fU,W:hU,x:null,X:null,y:mU,Y:gU,Z:yU,"%":g5},O={a:G,A:ee,b:de,B:oe,c:null,d:p5,e:p5,f:wU,g:TU,G:MU,H:vU,I:bU,j:jU,L:T4,m:NU,M:SU,p:ne,q:pe,Q:x5,s:y5,S:kU,u:OU,U:CU,V:AU,w:PU,W:EU,x:null,X:null,y:_U,Y:RU,Z:IU,"%":g5},w={a:$,A:T,b:M,B:K,c:Y,d:f5,e:f5,f:Jz,g:d5,G:u5,H:h5,I:h5,j:Vz,L:Xz,m:Gz,M:Qz,p:I,q:Hz,Q:eU,s:tU,S:Yz,u:qz,U:zz,V:Uz,w:Bz,W:Wz,x:U,X:B,y:d5,Y:u5,Z:Kz,"%":Zz};_.x=C(r,_),_.X=C(a,_),_.c=C(t,_),O.x=C(r,O),O.X=C(a,O),O.c=C(t,O);function C(ue,Ce){return function(Me){var te=[],be=-1,je=0,tt=ue.length,pt,It,Vr;for(Me instanceof Date||(Me=new Date(+Me));++be<tt;)ue.charCodeAt(be)===37&&(te.push(ue.slice(je,be)),(It=c5[pt=ue.charAt(++be)])!=null?pt=ue.charAt(++be):It=pt==="e"?" ":"0",(Vr=Ce[pt])&&(pt=Vr(Me,It)),te.push(pt),je=be+1);return te.push(ue.slice(je,be)),te.join("")}}function P(ue,Ce){return function(Me){var te=_l(1900,void 0,1),be=R(te,ue,Me+="",0),je,tt;if(be!=Me.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Ce&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(je=X0(_l(te.y,0,1)),tt=je.getUTCDay(),je=tt>4||tt===0?uf.ceil(je):uf(je),je=hh.offset(je,(te.V-1)*7),te.y=je.getUTCFullYear(),te.m=je.getUTCMonth(),te.d=je.getUTCDate()+(te.w+6)%7):(je=Y0(_l(te.y,0,1)),tt=je.getDay(),je=tt>4||tt===0?cf.ceil(je):cf(je),je=Jc.offset(je,(te.V-1)*7),te.y=je.getFullYear(),te.m=je.getMonth(),te.d=je.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),tt="Z"in te?X0(_l(te.y,0,1)).getUTCDay():Y0(_l(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(tt+5)%7:te.w+te.U*7-(tt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,X0(te)):Y0(te)}}function R(ue,Ce,Me,te){for(var be=0,je=Ce.length,tt=Me.length,pt,It;be<je;){if(te>=tt)return-1;if(pt=Ce.charCodeAt(be++),pt===37){if(pt=Ce.charAt(be++),It=w[pt in c5?Ce.charAt(be++):pt],!It||(te=It(ue,Me,te))<0)return-1}else if(pt!=Me.charCodeAt(te++))return-1}return te}function I(ue,Ce,Me){var te=f.exec(Ce.slice(Me));return te?(ue.p=p.get(te[0].toLowerCase()),Me+te[0].length):-1}function $(ue,Ce,Me){var te=b.exec(Ce.slice(Me));return te?(ue.w=v.get(te[0].toLowerCase()),Me+te[0].length):-1}function T(ue,Ce,Me){var te=m.exec(Ce.slice(Me));return te?(ue.w=g.get(te[0].toLowerCase()),Me+te[0].length):-1}function M(ue,Ce,Me){var te=k.exec(Ce.slice(Me));return te?(ue.m=A.get(te[0].toLowerCase()),Me+te[0].length):-1}function K(ue,Ce,Me){var te=j.exec(Ce.slice(Me));return te?(ue.m=y.get(te[0].toLowerCase()),Me+te[0].length):-1}function Y(ue,Ce,Me){return R(ue,t,Ce,Me)}function U(ue,Ce,Me){return R(ue,r,Ce,Me)}function B(ue,Ce,Me){return R(ue,a,Ce,Me)}function L(ue){return l[ue.getDay()]}function W(ue){return i[ue.getDay()]}function X(ue){return d[ue.getMonth()]}function z(ue){return u[ue.getMonth()]}function q(ue){return s[+(ue.getHours()>=12)]}function F(ue){return 1+~~(ue.getMonth()/3)}function G(ue){return l[ue.getUTCDay()]}function ee(ue){return i[ue.getUTCDay()]}function de(ue){return d[ue.getUTCMonth()]}function oe(ue){return u[ue.getUTCMonth()]}function ne(ue){return s[+(ue.getUTCHours()>=12)]}function pe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Ce=C(ue+="",_);return Ce.toString=function(){return ue},Ce},parse:function(ue){var Ce=P(ue+="",!1);return Ce.toString=function(){return ue},Ce},utcFormat:function(ue){var Ce=C(ue+="",O);return Ce.toString=function(){return ue},Ce},utcParse:function(ue){var Ce=P(ue+="",!0);return Ce.toString=function(){return ue},Ce}}}var c5={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Dz=/^%/,Lz=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Fz(e){return e.replace(Lz,"\\$&")}function Tl(e){return new RegExp("^(?:"+e.map(Fz).join("|")+")","i")}function Rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Bz(e,t,r){var a=Ut.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function qz(e,t,r){var a=Ut.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function zz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Uz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Wz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function u5(e,t,r){var a=Ut.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function d5(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Kz(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Hz(e,t,r){var a=Ut.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Gz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function f5(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Vz(e,t,r){var a=Ut.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function h5(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Qz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Yz(e,t,r){var a=Ut.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Xz(e,t,r){var a=Ut.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Jz(e,t,r){var a=Ut.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Zz(e,t,r){var a=Dz.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function eU(e,t,r){var a=Ut.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function tU(e,t,r){var a=Ut.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function m5(e,t){return Qe(e.getDate(),t,2)}function rU(e,t){return Qe(e.getHours(),t,2)}function nU(e,t){return Qe(e.getHours()%12||12,t,2)}function aU(e,t){return Qe(1+Jc.count(na(e),e),t,3)}function E4(e,t){return Qe(e.getMilliseconds(),t,3)}function sU(e,t){return E4(e,t)+"000"}function iU(e,t){return Qe(e.getMonth()+1,t,2)}function oU(e,t){return Qe(e.getMinutes(),t,2)}function lU(e,t){return Qe(e.getSeconds(),t,2)}function cU(e){var t=e.getDay();return t===0?7:t}function uU(e,t){return Qe(mh.count(na(e)-1,e),t,2)}function _4(e){var t=e.getDay();return t>=4||t===0?no(e):no.ceil(e)}function dU(e,t){return e=_4(e),Qe(no.count(na(e),e)+(na(e).getDay()===4),t,2)}function fU(e){return e.getDay()}function hU(e,t){return Qe(cf.count(na(e)-1,e),t,2)}function mU(e,t){return Qe(e.getFullYear()%100,t,2)}function pU(e,t){return e=_4(e),Qe(e.getFullYear()%100,t,2)}function gU(e,t){return Qe(e.getFullYear()%1e4,t,4)}function xU(e,t){var r=e.getDay();return e=r>=4||r===0?no(e):no.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function yU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function p5(e,t){return Qe(e.getUTCDate(),t,2)}function vU(e,t){return Qe(e.getUTCHours(),t,2)}function bU(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function jU(e,t){return Qe(1+hh.count(aa(e),e),t,3)}function T4(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function wU(e,t){return T4(e,t)+"000"}function NU(e,t){return Qe(e.getUTCMonth()+1,t,2)}function SU(e,t){return Qe(e.getUTCMinutes(),t,2)}function kU(e,t){return Qe(e.getUTCSeconds(),t,2)}function OU(e){var t=e.getUTCDay();return t===0?7:t}function CU(e,t){return Qe(ph.count(aa(e)-1,e),t,2)}function R4(e){var t=e.getUTCDay();return t>=4||t===0?ao(e):ao.ceil(e)}function AU(e,t){return e=R4(e),Qe(ao.count(aa(e),e)+(aa(e).getUTCDay()===4),t,2)}function PU(e){return e.getUTCDay()}function EU(e,t){return Qe(uf.count(aa(e)-1,e),t,2)}function _U(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function TU(e,t){return e=R4(e),Qe(e.getUTCFullYear()%100,t,2)}function RU(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function MU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function IU(){return"+0000"}function g5(){return"%"}function x5(e){return+e}function y5(e){return Math.floor(+e/1e3)}var Oi,M4,I4;$U({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $U(e){return Oi=$z(e),M4=Oi.format,Oi.parse,I4=Oi.utcFormat,Oi.utcParse,Oi}function DU(e){return new Date(e)}function LU(e){return e instanceof Date?+e:+new Date(+e)}function Fj(e,t,r,a,s,i,l,u,d,f){var p=kj(),m=p.invert,g=p.domain,b=f(".%L"),v=f(":%S"),j=f("%I:%M"),y=f("%I %p"),k=f("%a %d"),A=f("%b %d"),_=f("%B"),O=f("%Y");function w(C){return(d(C)<C?b:u(C)<C?v:l(C)<C?j:i(C)<C?y:a(C)<C?s(C)<C?k:A:r(C)<C?_:O)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?g(Array.from(C,LU)):g().map(DU)},p.ticks=function(C){var P=g();return e(P[0],P[P.length-1],C??10)},p.tickFormat=function(C,P){return P==null?w:f(P)},p.nice=function(C){var P=g();return(!C||typeof C.range!="function")&&(C=t(P[0],P[P.length-1],C??10)),C?g(j4(P,C)):p},p.copy=function(){return Xc(p,Fj(e,t,r,a,s,i,l,u,d,f))},p}function FU(){return Gr.apply(Fj(Mz,Iz,na,Dj,mh,Jc,Ij,Rj,Ns,M4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BU(){return Gr.apply(Fj(Tz,Rz,aa,Lj,ph,hh,$j,Mj,Ns,I4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gh(){var e=0,t=1,r,a,s,i,l=or,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(i(m)-r)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(g){var b,v;return arguments.length?([b,v]=g,l=m(b,v),f):[l(0),l(1)]}}return f.range=p(Mo),f.rangeRound=p(Sj),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),a=m(t),s=r===a?0:1/(a-r),f}}function Ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $4(){var e=Xa(gh()(or));return e.copy=function(){return Ja(e,$4())},ca.apply(e,arguments)}function D4(){var e=Aj(gh()).domain([1,10]);return e.copy=function(){return Ja(e,D4()).base(e.base())},ca.apply(e,arguments)}function L4(){var e=Pj(gh());return e.copy=function(){return Ja(e,L4()).constant(e.constant())},ca.apply(e,arguments)}function Bj(){var e=Ej(gh());return e.copy=function(){return Ja(e,Bj()).exponent(e.exponent())},ca.apply(e,arguments)}function qU(){return Bj.apply(null,arguments).exponent(.5)}function F4(){var e=[],t=or;function r(a){if(a!=null&&!isNaN(a=+a))return t((Qc(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ga),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Cq(e,i/a))},r.copy=function(){return F4(t).domain(e)},ca.apply(r,arguments)}function xh(){var e=0,t=.5,r=1,a=1,s,i,l,u,d,f=or,p,m=!1,g;function b(j){return isNaN(j=+j)?g:(j=.5+((j=+p(j))-i)*(a*j<a*i?u:d),f(m?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,r]=j,s=p(e=+e),i=p(t=+t),l=p(r=+r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,b):[e,t,r]},b.clamp=function(j){return arguments.length?(m=!!j,b):m},b.interpolator=function(j){return arguments.length?(f=j,b):f};function v(j){return function(y){var k,A,_;return arguments.length?([k,A,_]=y,f=Zq(j,[k,A,_]),b):[f(0),f(.5),f(1)]}}return b.range=v(Mo),b.rangeRound=v(Sj),b.unknown=function(j){return arguments.length?(g=j,b):g},function(j){return p=j,s=j(e),i=j(t),l=j(r),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,b}}function B4(){var e=Xa(xh()(or));return e.copy=function(){return Ja(e,B4())},ca.apply(e,arguments)}function q4(){var e=Aj(xh()).domain([.1,1,10]);return e.copy=function(){return Ja(e,q4()).base(e.base())},ca.apply(e,arguments)}function z4(){var e=Pj(xh());return e.copy=function(){return Ja(e,z4()).constant(e.constant())},ca.apply(e,arguments)}function qj(){var e=Ej(xh());return e.copy=function(){return Ja(e,qj()).exponent(e.exponent())},ca.apply(e,arguments)}function zU(){return qj.apply(null,arguments).exponent(.5)}const v5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:B4,scaleDivergingLog:q4,scaleDivergingPow:qj,scaleDivergingSqrt:zU,scaleDivergingSymlog:z4,scaleIdentity:b4,scaleImplicit:Dv,scaleLinear:of,scaleLog:w4,scaleOrdinal:jj,scalePoint:Kl,scalePow:_j,scaleQuantile:k4,scaleQuantize:O4,scaleRadial:S4,scaleSequential:$4,scaleSequentialLog:D4,scaleSequentialPow:Bj,scaleSequentialQuantile:F4,scaleSequentialSqrt:qU,scaleSequentialSymlog:L4,scaleSqrt:wz,scaleSymlog:N4,scaleThreshold:C4,scaleTime:FU,scaleUtc:BU,tickFormat:v4},Symbol.toStringTag,{value:"Module"}));var J0,b5;function yh(){if(b5)return J0;b5=1;var e=Eo();function t(r,a,s){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=a(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return J0=t,J0}var Z0,j5;function U4(){if(j5)return Z0;j5=1;function e(t,r){return t>r}return Z0=e,Z0}var ey,w5;function UU(){if(w5)return ey;w5=1;var e=yh(),t=U4(),r=Ro();function a(s){return s&&s.length?e(s,r,t):void 0}return ey=a,ey}var WU=UU();const vh=Ze(WU);var ty,N5;function W4(){if(N5)return ty;N5=1;function e(t,r){return t<r}return ty=e,ty}var ry,S5;function KU(){if(S5)return ry;S5=1;var e=yh(),t=W4(),r=Ro();function a(s){return s&&s.length?e(s,r,t):void 0}return ry=a,ry}var HU=KU();const bh=Ze(HU);var ny,k5;function GU(){if(k5)return ny;k5=1;var e=rj(),t=Tn(),r=Z_(),a=br();function s(i,l){var u=a(i)?e:r;return u(i,t(l,3))}return ny=s,ny}var ay,O5;function VU(){if(O5)return ay;O5=1;var e=X_(),t=GU();function r(a,s){return e(t(a,s),1)}return ay=r,ay}var QU=VU();const YU=Ze(QU);var sy,C5;function XU(){if(C5)return sy;C5=1;var e=pj();function t(r,a){return e(r,a)}return sy=t,sy}var JU=XU();const Zc=Ze(JU);var Io=1e9,ZU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Uj,ft=!0,Hr="[DecimalError] ",$s=Hr+"Invalid argument: ",zj=Hr+"Exponent out of range: ",$o=Math.floor,xs=Math.pow,eW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,Bt=1e7,ut=7,K4=9007199254740991,df=$o(K4/ut),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return Zn(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return nt(Zn(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return kt(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Pr))throw Error(Hr+"NaN");if(r.s<1)throw Error(Hr+(r.s?"NaN":"-Infinity"));return r.eq(Pr)?new a(0):(ft=!1,t=Zn(fc(r,i),fc(e,i),i),ft=!0,nt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V4(t,e):H4(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Hr+"NaN");return r.s?(ft=!1,t=Zn(r,e,0,1).times(e),ft=!0,r.minus(t)):nt(new a(r),s)};Ne.naturalExponential=Ne.exp=function(){return G4(this)};Ne.naturalLogarithm=Ne.ln=function(){return fc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H4(t,e):V4(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($s+e);if(t=kt(s)+1,a=s.d.length-1,r=a*ut+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Hr+"NaN")}for(e=kt(u),ft=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=kn(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=$o((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=a,a=i.plus(Zn(u,i,l+2)).times(.5),kn(i.d).slice(0,l)===(t=kn(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(nt(i,r+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return ft=!0,nt(a,r)};Ne.times=Ne.mul=function(e){var t,r,a,s,i,l,u,d,f,p=this,m=p.constructor,g=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,d=g.length,f=b.length,d<f&&(i=g,g=b,b=i,l=d,d=f,f=l),i=[],l=d+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+b[a]*g[s-a-1]+t,i[s--]=u%Bt|0,t=u/Bt|0;i[s]=(i[s]+t)%Bt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ft?nt(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(An(e,0,Io),t===void 0?t=a.rounding:An(t,0,8),nt(r,e+kt(r)+1,t))};Ne.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Us(a,!0):(An(e,0,Io),t===void 0?t=s.rounding:An(t,0,8),a=nt(new s(a),e+1,t),r=Us(a,!0,e+1)),r};Ne.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Us(s):(An(e,0,Io),t===void 0?t=i.rounding:An(t,0,8),a=nt(new i(s),e+kt(s)+1,t),r=Us(a.abs(),!1,e+kt(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return nt(new t(e),kt(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,a,s,i,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Pr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Hr+"Infinity");return u}if(u.eq(Pr))return u;if(a=d.precision,e.eq(Pr))return nt(u,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=p<0?-p:p)<=K4){for(s=new d(Pr),t=Math.ceil(a/ut+4),ft=!1;r%2&&(s=s.times(u),P5(s.d,t)),r=$o(r/2),r!==0;)u=u.times(u),P5(u.d,t);return ft=!0,e.s<0?new d(Pr).div(s):nt(s,a)}}else if(i<0)throw Error(Hr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ft=!1,s=e.times(fc(u,a+f)),ft=!0,s=G4(s),s.s=i,s};Ne.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=kt(s),a=Us(s,r<=i.toExpNeg||r>=i.toExpPos)):(An(e,1,Io),t===void 0?t=i.rounding:An(t,0,8),s=nt(new i(s),e,t),r=kt(s),a=Us(s,e<=r||r<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(An(e,1,Io),t===void 0?t=a.rounding:An(t,0,8)),nt(new a(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return Us(e,t<=r.toExpNeg||t>=r.toExpPos)};function H4(e,t){var r,a,s,i,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ft?nt(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=f.length):(a=f,s=l,u=d.length),l=Math.ceil(m/ut),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,a=f,f=d,d=a),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Bt|0,d[i]%=Bt;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,ft?nt(t,m):t}function An(e,t,r){if(e!==~~e||e<t||e>r)throw Error($s+e)}function kn(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=ut-a.length,r&&(i+=_a(r)),i+=a;l=e[t],a=l+"",r=ut-a.length,r&&(i+=_a(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Zn=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%Bt|0,l=i/Bt|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Bt+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,f,p,m,g,b,v,j,y,k,A,_,O,w,C,P,R,I=a.constructor,$=a.s==s.s?1:-1,T=a.d,M=s.d;if(!a.s)return new I(a);if(!s.s)throw Error(Hr+"Division by zero");for(d=a.e-s.e,P=M.length,w=T.length,b=new I($),v=b.d=[],f=0;M[f]==(T[f]||0);)++f;if(M[f]>(T[f]||0)&&--d,i==null?A=i=I.precision:l?A=i+(kt(a)-kt(s))+1:A=i,A<0)return new I(0);if(A=A/ut+2|0,f=0,P==1)for(p=0,M=M[0],A++;(f<w||p)&&A--;f++)_=p*Bt+(T[f]||0),v[f]=_/M|0,p=_%M|0;else{for(p=Bt/(M[0]+1)|0,p>1&&(M=e(M,p),T=e(T,p),P=M.length,w=T.length),O=P,j=T.slice(0,P),y=j.length;y<P;)j[y++]=0;R=M.slice(),R.unshift(0),C=M[0],M[1]>=Bt/2&&++C;do p=0,u=t(M,j,P,y),u<0?(k=j[0],P!=y&&(k=k*Bt+(j[1]||0)),p=k/C|0,p>1?(p>=Bt&&(p=Bt-1),m=e(M,p),g=m.length,y=j.length,u=t(m,j,g,y),u==1&&(p--,r(m,P<g?R:M,g))):(p==0&&(u=p=1),m=M.slice()),g=m.length,g<y&&m.unshift(0),r(j,m,y),u==-1&&(y=j.length,u=t(M,j,P,y),u<1&&(p++,r(j,P<y?R:M,y))),y=j.length):u===0&&(p++,j=[0]),v[f++]=p,u&&j[0]?j[y++]=T[O]||0:(j=[T[O]],y=1);while((O++<w||j[0]!==void 0)&&A--)}return v[0]||v.shift(),b.e=d,nt(b,l?i+kt(b)+1:i)}})();function G4(e,t){var r,a,s,i,l,u,d=0,f=0,p=e.constructor,m=p.precision;if(kt(e)>16)throw Error(zj+kt(e));if(!e.s)return new p(Pr);for(ft=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(xs(2,f))/Math.LN10*2+5|0,u+=a,r=s=i=new p(Pr),p.precision=u;;){if(s=nt(s.times(e),u),r=r.times(++d),l=i.plus(Zn(s,r,u)),kn(l.d).slice(0,u)===kn(i.d).slice(0,u)){for(;f--;)i=nt(i.times(i),u);return p.precision=m,t==null?(ft=!0,nt(i,m)):i}i=l}}function kt(e){for(var t=e.e*ut,r=e.d[0];r>=10;r/=10)t++;return t}function iy(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(Hr+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var r,a,s,i,l,u,d,f,p,m=1,g=10,b=e,v=b.d,j=b.constructor,y=j.precision;if(b.s<1)throw Error(Hr+(b.s?"NaN":"-Infinity"));if(b.eq(Pr))return new j(0);if(t==null?(ft=!1,f=y):f=t,b.eq(10))return t==null&&(ft=!0),iy(j,f);if(f+=g,j.precision=f,r=kn(v),a=r.charAt(0),i=kt(b),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)b=b.times(e),r=kn(b.d),a=r.charAt(0),m++;i=kt(b),a>1?(b=new j("0."+r),i++):b=new j(a+"."+r.slice(1))}else return d=iy(j,f+2,y).times(i+""),b=fc(new j(a+"."+r.slice(1)),f-g).plus(d),j.precision=y,t==null?(ft=!0,nt(b,y)):b;for(u=l=b=Zn(b.minus(Pr),b.plus(Pr),f),p=nt(b.times(b),f),s=3;;){if(l=nt(l.times(p),f),d=u.plus(Zn(l,new j(s),f)),kn(d.d).slice(0,f)===kn(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(iy(j,f+2,y).times(i+""))),u=Zn(u,new j(m),f),j.precision=y,t==null?(ft=!0,nt(u,y)):u;u=d,s+=2}}function A5(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=$o(r/ut),e.d=[],a=(r+1)%ut,r<0&&(a+=ut),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=ut;a<s;)e.d.push(+t.slice(a,a+=ut));t=t.slice(a),a=ut-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),ft&&(e.e>df||e.e<-df))throw Error(zj+r)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,r){var a,s,i,l,u,d,f,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=ut,s=t,f=m[p=0];else{if(p=Math.ceil((a+1)/ut),i=m.length,p>=i)return e;for(f=i=m[p],l=1;i>=10;i/=10)l++;a%=ut,s=a-ut+l}if(r!==void 0&&(i=xs(10,l-s-1),u=f/i%10|0,d=t<0||m[p+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?f/xs(10,l-s):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=kt(e),m.length=1,t=t-i-1,m[0]=xs(10,(ut-t%ut)%ut),e.e=$o(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,i=1,p--):(m.length=p+1,i=xs(10,ut-a),m[p]=s>0?(f/xs(10,l-s)%xs(10,s)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Bt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Bt)break;m[p--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(ft&&(e.e>df||e.e<-df))throw Error(zj+kt(e));return e}function V4(e,t){var r,a,s,i,l,u,d,f,p,m,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ft?nt(t,b):t;if(d=e.d,m=t.d,a=t.e,f=e.e,d=d.slice(),l=f-a,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,a=f,u=d.length),s=Math.max(Math.ceil(b/ut),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Bt-1;--d[i],d[s]+=Bt}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,ft?nt(t,b):t):new g(0)}function Us(e,t,r){var a,s=kt(e),i=kn(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+_a(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+_a(-s-1)+i,r&&(a=r-l)>0&&(i+=_a(a))):s>=l?(i+=_a(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+_a(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=_a(a))),e.s<0?"-"+i:i}function P5(e,t){if(e.length>t)return e.length=t,!0}function Q4(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($s+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return A5(l,i.toString())}else if(typeof i!="string")throw Error($s+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,eW.test(i))A5(l,i);else throw Error($s+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Q4,s.config=s.set=tW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function tW(e){if(!e||typeof e!="object")throw Error(Hr+"Object expected");var t,r,a,s=["precision",1,Io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if($o(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error($s+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error($s+r+": "+a);return this}var Uj=Q4(ZU);Pr=new Uj(1);const rt=Uj;function rW(e){return iW(e)||sW(e)||aW(e)||nW()}function nW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qv(e,t)}}function sW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iW(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var oW=function(t){return t},Y4={},X4=function(t){return t===Y4},E5=function(t){return function r(){return arguments.length===0||arguments.length===1&&X4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},lW=function e(t,r){return t===1?r:E5(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==Y4}).length;return l>=t?r.apply(void 0,s):e(t-l,E5(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=s.map(function(m){return X4(m)?d.shift():m});return r.apply(void 0,rW(p).concat(d))}))})},jh=function(t){return lW(t.length,t)},zv=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},cW=jh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),uW=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return oW;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Uv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},J4=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function dW(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function fW(e,t,r){for(var a=new rt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var hW=jh(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),mW=jh(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),pW=jh(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const wh={rangeStep:fW,getDigitCount:dW,interpolateNumber:hW,uninterpolateNumber:mW,uninterpolateTruncation:pW};function Wv(e){return yW(e)||xW(e)||Z4(e)||gW()}function gW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yW(e){if(Array.isArray(e))return Kv(e)}function hc(e,t){return jW(e)||bW(e,t)||Z4(e,t)||vW()}function vW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z4(e,t){if(e){if(typeof e=="string")return Kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kv(e,t)}}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function jW(e){if(Array.isArray(e))return e}function eT(e){var t=hc(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function tT(e,t,r){if(e.lte(0))return new rt(0);var a=wh.getDigitCount(e.toNumber()),s=new rt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new rt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return t?d:new rt(Math.ceil(d))}function wW(e,t,r){var a=1,s=new rt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new rt(10).pow(wh.getDigitCount(e)-1),s=new rt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new rt(Math.floor(e)))}else e===0?s=new rt(Math.floor((t-1)/2)):r||(s=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=uW(cW(function(d){return s.add(new rt(d-l).mul(a)).toNumber()}),zv);return u(0,t)}function rT(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var i=tT(new rt(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new rt(0):(l=new rt(e).add(t).div(2),l=l.sub(new rt(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new rt(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?rT(e,t,r,a,s+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new rt(u).mul(i)),tickMax:l.add(new rt(d).mul(i))})}function NW(e){var t=hc(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=eT([r,a]),d=hc(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Wv(zv(0,s-1).map(function(){return 1/0}))):[].concat(Wv(zv(0,s-1).map(function(){return-1/0})),[p]);return r>a?Uv(m):m}if(f===p)return wW(f,s,i);var g=rT(f,p,l,i),b=g.step,v=g.tickMin,j=g.tickMax,y=wh.rangeStep(v,j.add(new rt(.1).mul(b)),b);return r>a?Uv(y):y}function SW(e,t){var r=hc(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=eT([a,s]),u=hc(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[a,s];if(d===f)return[d];var p=Math.max(t,2),m=tT(new rt(f).sub(d).div(p-1),i,0),g=[].concat(Wv(wh.rangeStep(new rt(d),new rt(f).sub(new rt(.99).mul(m)),m)),[f]);return a>s?Uv(g):g}var kW=J4(NW),OW=J4(SW),CW="Invariant failed";function Ws(e,t){throw new Error(CW)}var AW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ff.apply(this,arguments)}function PW(e,t){return RW(e)||TW(e,t)||_W(e,t)||EW()}function EW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function TW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function RW(e){if(Array.isArray(e))return e}function MW(e,t){if(e==null)return{};var r=IW(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function IW(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DW(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sT(a.key),a)}}function LW(e,t,r){return t&&DW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FW(e,t,r){return t=hf(t),BW(e,nT()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function BW(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qW(e)}function qW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nT=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function zW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hv(e,t)}function aT(e,t,r){return t=sT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sT(e){var t=UW(e,"string");return so(t)=="symbol"?t:t+""}function UW(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(so(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=(function(e){function t(){return $W(this,t),FW(this,t,arguments)}return zW(t,e),LW(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,f=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,g=MW(a,AW),b=_e(g,!1);this.props.direction==="x"&&p.type!=="number"&&Ws();var v=d.map(function(j){var y=f(j,u),k=y.x,A=y.y,_=y.value,O=y.errorVal;if(!O)return null;var w=[],C,P;if(Array.isArray(O)){var R=PW(O,2);C=R[0],P=R[1]}else C=P=O;if(i==="vertical"){var I=p.scale,$=A+s,T=$+l,M=$-l,K=I(_-C),Y=I(_+P);w.push({x1:Y,y1:T,x2:Y,y2:M}),w.push({x1:K,y1:$,x2:Y,y2:$}),w.push({x1:K,y1:T,x2:K,y2:M})}else if(i==="horizontal"){var U=m.scale,B=k+s,L=B-l,W=B+l,X=U(_-C),z=U(_+P);w.push({x1:L,y1:z,x2:W,y2:z}),w.push({x1:B,y1:X,x2:B,y2:z}),w.push({x1:L,y1:X,x2:W,y2:X})}return V.createElement(Ve,ff({className:"recharts-errorBar",key:"bar-".concat(w.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),w.map(function(q){return V.createElement("line",ff({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return V.createElement(Ve,{className:"recharts-errorBars"},v)}}])})(V.Component);aT(eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aT(eu,"displayName","ErrorBar");function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(a){WW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WW(e,t,r){return t=KW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=HW(e,"string");return mc(t)=="symbol"?t:t+""}function HW(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iT=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Cr(r,Ha);if(!l)return null;var u=Ha.defaultProps,d=u!==void 0?hs(hs({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(p,m){var g=m.item,b=m.props,v=b.sectors||b.data||[];return p.concat(v.map(function(j){return{type:l.props.iconType||g.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):f=(a||[]).map(function(p){var m=p.item,g=m.type.defaultProps,b=g!==void 0?hs(hs({},g),m.props):{},v=b.dataKey,j=b.name,y=b.legendType,k=b.hide;return{inactive:k,dataKey:v,type:d.iconType||y||"square",color:Wj(m),value:j||v,payload:b}}),hs(hs(hs({},d),Ha.getWithHeight(l,s)),{},{payload:f,item:l})};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function R5(e){return YW(e)||QW(e)||VW(e)||GW()}function GW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){if(e){if(typeof e=="string")return Gv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gv(e,t)}}function QW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YW(e){if(Array.isArray(e))return Gv(e)}function Gv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(a){Di(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Di(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=JW(e,"string");return pc(t)=="symbol"?t:t+""}function JW(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _t(e,t,r){return Fe(e)||Fe(t)?r:Rt(t)?Er(e,t,r):De(t)?t(e):r}function Hl(e,t,r,a){var s=YU(e,function(u){return _t(u,t)});if(r==="number"){var i=s.filter(function(u){return xe(u)||parseFloat(u)});return i.length?[bh(i),vh(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!Fe(u)}):s;return l.map(function(u){return Rt(u)||u instanceof Date?u:""})}var ZW=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var p=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,g=f>=u-1?s[0].coordinate:s[f+1].coordinate,b=void 0;if(sr(m-p)!==sr(g-m)){var v=[];if(sr(g-m)===sr(d[1]-d[0])){b=g;var j=m+d[1]-d[0];v[0]=Math.min(j,(j+p)/2),v[1]=Math.max(j,(j+p)/2)}else{b=p;var y=g+d[1]-d[0];v[0]=Math.min(m,(y+m)/2),v[1]=Math.max(m,(y+m)/2)}var k=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>k[0]&&t<=k[1]||t>=v[0]&&t<=v[1]){l=s[f].index;break}}else{var A=Math.min(p,g),_=Math.max(p,g);if(t>(A+m)/2&&t<=(_+m)/2){l=s[f].index;break}}}else for(var O=0;O<u;O++)if(O===0&&t<=(a[O].coordinate+a[O+1].coordinate)/2||O>0&&O<u-1&&t>(a[O].coordinate+a[O-1].coordinate)/2&&t<=(a[O].coordinate+a[O+1].coordinate)/2||O===u-1&&t>(a[O].coordinate+a[O-1].coordinate)/2){l=a[O].index;break}return l},Wj=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},eK=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var p=i[u[d]].stackGroups,m=Object.keys(p),g=0,b=m.length;g<b;g++){var v=p[m[g]],j=v.items,y=v.cateAxisId,k=j.filter(function(P){return Jn(P.type).indexOf("Bar")>=0});if(k&&k.length){var A=k[0].type.defaultProps,_=A!==void 0?yt(yt({},A),k[0].props):k[0].props,O=_.barSize,w=_[y];l[w]||(l[w]=[]);var C=Fe(O)?r:O;l[w].push({item:k[0],stackList:k.slice(1),barSize:Fe(C)?void 0:ir(C,a,0)})}}return l},tK=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=ir(r,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,b=s/d,v=l.reduce(function(O,w){return O+w.barSize||0},0);v+=(d-1)*f,v>=s&&(v-=(d-1)*f,f=0),v>=s&&b>0&&(g=!0,b*=.9,v=d*b);var j=(s-v)/2>>0,y={offset:j-f,size:0};p=l.reduce(function(O,w){var C={item:w.item,position:{offset:y.offset+y.size+f,size:g?b:w.barSize}},P=[].concat(R5(O),[C]);return y=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(R){P.push({item:R,position:y})}),P},m)}else{var k=ir(a,s,0,!0);s-2*k-(d-1)*f<=0&&(f=0);var A=(s-2*k-(d-1)*f)/d;A>1&&(A>>=0);var _=u===+u?Math.min(A,u):A;p=l.reduce(function(O,w,C){var P=[].concat(R5(O),[{item:w.item,position:{offset:k+(A+f)*C+(A-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},m)}return p},rK=function(t,r,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),f=iT({children:i,legendWidth:d});if(f){var p=s||{},m=p.width,g=p.height,b=f.align,v=f.verticalAlign,j=f.layout;if((j==="vertical"||j==="horizontal"&&v==="middle")&&b!=="center"&&xe(t[b]))return yt(yt({},t),{},Di({},b,t[b]+(m||0)));if((j==="horizontal"||j==="vertical"&&b==="center")&&v!=="middle"&&xe(t[v]))return yt(yt({},t),{},Di({},v,t[v]+(g||0)))}return t},nK=function(t,r,a){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},oT=function(t,r,a,s,i){var l=r.props.children,u=_r(l,eu).filter(function(f){return nK(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=_t(p,a);if(Fe(m))return f;var g=Array.isArray(m)?[bh(m),vh(m)]:[m,m],b=d.reduce(function(v,j){var y=_t(p,j,0),k=g[0]-Math.abs(Array.isArray(y)?y[0]:y),A=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(k,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},aK=function(t,r,a,s,i){var l=r.map(function(u){return oT(t,u,a,i,s)}).filter(function(u){return!Fe(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},lT=function(t,r,a,s,i){var l=r.map(function(d){var f=d.props.dataKey;return a==="number"&&f&&oT(t,d,f,s)||Hl(t,f,a,i)});if(a==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},cT=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},uT=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(a),u},Xn=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?sr(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+f,value:m,offset:f}});return p.filter(function(m){return!Gc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:s(m)+f,value:m,index:g,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,g){return{coordinate:s(m)+f,value:i?i[m]:m,index:g,offset:f}})},oy=new WeakMap,Od=function(t,r){if(typeof r!="function")return t;oy.has(t)||oy.set(t,new WeakMap);var a=oy.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},dT=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:oc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:of(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Kl(),realScaleType:"point"}:i==="category"?{scale:oc(),realScaleType:"band"}:{scale:of(),realScaleType:"linear"};if(Bs(s)){var d="scale".concat(ah(s));return{scale:(v5[d]||Kl)(),realScaleType:v5[d]?d:"point"}}return De(s)?{scale:s}:{scale:Kl(),realScaleType:"point"}},I5=1e-4,fT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-I5,l=Math.max(s[0],s[1])+I5,u=t(r[0]),d=t(r[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[a-1]])}},sK=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},iK=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!xe(t[0])||t[0]<a)&&(i[0]=a),(!xe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},oK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<r;++u){var d=Gc(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},lK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var u=Gc(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},cK={sign:oK,expand:YF,none:Xi,silhouette:XF,wiggle:JF,positive:lK},uK=function(t,r,a){var s=r.map(function(u){return u.props.dataKey}),i=cK[a],l=QF().keys(s).value(function(u,d){return+_t(u,d,0)}).order(Nv).offset(i);return l(t)},dK=function(t,r,a,s,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,g){var b,v=(b=g.type)!==null&&b!==void 0&&b.defaultProps?yt(yt({},g.type.defaultProps),g.props):g.props,j=v.stackId,y=v.hide;if(y)return m;var k=v[a],A=m[k]||{hasStack:!1,stackGroups:{}};if(Rt(j)){var _=A.stackGroups[j]||{numericAxisId:a,cateAxisId:s,items:[]};_.items.push(g),A.hasStack=!0,A.stackGroups[j]=_}else A.stackGroups[To("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return yt(yt({},m),{},Di({},k,A))},d),p={};return Object.keys(f).reduce(function(m,g){var b=f[g];if(b.hasStack){var v={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(j,y){var k=b.stackGroups[y];return yt(yt({},j),{},Di({},y,{numericAxisId:a,cateAxisId:s,items:k.items,stackedData:uK(t,k.items,i)}))},v)}return yt(yt({},m),{},Di({},g,b))},p)},hT=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=kW(f,i,u);return t.domain([bh(p),vh(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),g=OW(m,i,u);return{niceTicks:g}}return null};function $5(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(s[t.dataKey])){var u=qd(r,"value",s[t.dataKey]);if(u)return u.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var d=_t(s,Fe(l)?t.dataKey:l);return Fe(d)?null:t.scale(d)}var D5=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=_t(l,r.dataKey,r.domain[u]);return Fe(d)?null:r.scale(d)-i/2+s},fK=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},hK=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Rt(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},mK=function(t){return t.reduce(function(r,a){return[bh(a.concat([r[0]]).filter(xe)),vh(a.concat([r[1]]).filter(xe))]},[1/0,-1/0])},mT=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,p){var m=mK(p.slice(r,a+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},L5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vv=function(t,r,a){if(De(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(xe(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(L5.test(t[0])){var i=+L5.exec(t[0])[1];s[0]=r[0]-i}else De(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(xe(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(F5.test(t[1])){var l=+F5.exec(t[1])[1];s[1]=r[1]+l}else De(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},mf=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=xj(r,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],p=i[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},B5=function(t,r,a){return!t||!t.length||Zc(t,Er(a,"type.defaultProps.domain"))?r:t},pT=function(t,r){var a=t.type.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,f=a.chartType,p=a.hide;return yt(yt({},_e(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:Wj(t),value:_t(r,s),type:d,payload:r,chartType:f,hide:p})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(r),!0).forEach(function(a){gT(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gT(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=gK(e,"string");return gc(t)=="symbol"?t:t+""}function gK(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xK(e,t){return jK(e)||bK(e,t)||vK(e,t)||yK()}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(e,t){if(e){if(typeof e=="string")return z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z5(e,t)}}function z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function jK(e){if(Array.isArray(e))return e}var pf=Math.PI/180,wK=function(t){return t*180/Math.PI},ot=function(t,r,a,s){return{x:t+Math.cos(-pf*s)*a,y:r+Math.sin(-pf*s)*a}},xT=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},NK=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=ir(t.cx,l,l/2),m=ir(t.cy,u,u/2),g=xT(l,u,a),b=ir(t.innerRadius,g,0),v=ir(t.outerRadius,g,g*.8),j=Object.keys(r);return j.reduce(function(y,k){var A=r[k],_=A.domain,O=A.reversed,w;if(Fe(A.range))s==="angleAxis"?w=[d,f]:s==="radiusAxis"&&(w=[b,v]),O&&(w=[w[1],w[0]]);else{w=A.range;var C=w,P=xK(C,2);d=P[0],f=P[1]}var R=dT(A,i),I=R.realScaleType,$=R.scale;$.domain(_).range(w),fT($);var T=hT($,Wn(Wn({},A),{},{realScaleType:I})),M=Wn(Wn(Wn({},A),T),{},{range:w,radius:v,realScaleType:I,scale:$,cx:p,cy:m,innerRadius:b,outerRadius:v,startAngle:d,endAngle:f});return Wn(Wn({},y),{},gT({},k,M))},{})},SK=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},kK=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,u=SK({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:wK(f),angleInRadian:f}},OK=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},CK=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},U5=function(t,r){var a=t.x,s=t.y,i=kK({x:a,y:s},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=OK(r),m=p.startAngle,g=p.endAngle,b=u,v;if(m<=g){for(;b>g;)b-=360;for(;b<m;)b+=360;v=b>=m&&b<=g}else{for(;b>m;)b-=360;for(;b<g;)b+=360;v=b>=g&&b<=m}return v?Wn(Wn({},r),{},{radius:l,angle:CK(b,r)}):null},yT=function(t){return!S.isValidElement(t)&&!De(t)&&typeof t!="boolean"?t.className:""};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var AK=["offset"];function PK(e){return RK(e)||TK(e)||_K(e)||EK()}function EK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(e,t){if(e){if(typeof e=="string")return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(e,t)}}function TK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RK(e){if(Array.isArray(e))return Qv(e)}function Qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function MK(e,t){if(e==null)return{};var r=IK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function IK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(a){$K(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $K(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=LK(e,"string");return xc(t)=="symbol"?t:t+""}function LK(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yc.apply(this,arguments)}var FK=function(t){var r=t.value,a=t.formatter,s=Fe(t.children)?r:t.children;return De(a)?a(s):s},BK=function(t,r){var a=sr(r-t),s=Math.min(Math.abs(r-t),360);return a*s},qK=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,b=d.startAngle,v=d.endAngle,j=d.clockWise,y=(m+g)/2,k=BK(b,v),A=k>=0?1:-1,_,O;s==="insideStart"?(_=b+A*l,O=j):s==="insideEnd"?(_=v-A*l,O=!j):s==="end"&&(_=v+A*l,O=j),O=k<=0?O:!O;var w=ot(f,p,y,_),C=ot(f,p,y,_+(O?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),R=Fe(t.id)?To("recharts-radial-line-"):t.id;return V.createElement("text",yc({},a,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:R,d:P})),V.createElement("textPath",{xlinkHref:"#".concat(R)},r))},zK=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,g=(p+m)/2;if(s==="outside"){var b=ot(l,u,f+a,g),v=b.x,j=b.y;return{x:v,y:j,textAnchor:v>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,k=ot(l,u,y,g),A=k.x,_=k.y;return{x:A,y:_,textAnchor:"middle",verticalAnchor:"middle"}},UK=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,g=m*s,b=m>0?"end":"start",v=m>0?"start":"end",j=f>=0?1:-1,y=j*s,k=j>0?"end":"start",A=j>0?"start":"end";if(i==="top"){var _={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:b};return Pt(Pt({},_),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var O={x:u+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:v};return Pt(Pt({},O),a?{height:Math.max(a.y+a.height-(d+p),0),width:f}:{})}if(i==="left"){var w={x:u-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return Pt(Pt({},w),a?{width:Math.max(w.x-a.x,0),height:p}:{})}if(i==="right"){var C={x:u+f+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return Pt(Pt({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:p}:{})}var P=a?{width:f,height:p}:{};return i==="insideLeft"?Pt({x:u+y,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Pt({x:u+f-y,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},P):i==="insideTop"?Pt({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:v},P):i==="insideBottom"?Pt({x:u+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:b},P):i==="insideTopLeft"?Pt({x:u+y,y:d+g,textAnchor:A,verticalAnchor:v},P):i==="insideTopRight"?Pt({x:u+f-y,y:d+g,textAnchor:k,verticalAnchor:v},P):i==="insideBottomLeft"?Pt({x:u+y,y:d+p-g,textAnchor:A,verticalAnchor:b},P):i==="insideBottomRight"?Pt({x:u+f-y,y:d+p-g,textAnchor:k,verticalAnchor:b},P):_o(i)&&(xe(i.x)||js(i.x))&&(xe(i.y)||js(i.y))?Pt({x:u+ir(i.x,f),y:d+ir(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):Pt({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},WK=function(t){return"cx"in t&&xe(t.cx)};function qt(e){var t=e.offset,r=t===void 0?5:t,a=MK(e,AK),s=Pt({offset:r},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,p=s.className,m=p===void 0?"":p,g=s.textBreakAll;if(!i||Fe(u)&&Fe(d)&&!S.isValidElement(f)&&!De(f))return null;if(S.isValidElement(f))return S.cloneElement(f,s);var b;if(De(f)){if(b=S.createElement(f,s),S.isValidElement(b))return b}else b=FK(s);var v=WK(i),j=_e(s,!0);if(v&&(l==="insideStart"||l==="insideEnd"||l==="end"))return qK(s,b,j);var y=v?zK(s):UK(s);return V.createElement(zs,yc({className:ze("recharts-label",m)},j,y,{breakAll:g}),b)}qt.displayName="Label";var vT=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,b=t.top,v=t.left,j=t.width,y=t.height,k=t.clockWise,A=t.labelViewBox;if(A)return A;if(xe(j)&&xe(y)){if(xe(m)&&xe(g))return{x:m,y:g,width:j,height:y};if(xe(b)&&xe(v))return{x:b,y:v,width:j,height:y}}return xe(m)&&xe(g)?{x:m,y:g,width:0,height:0}:xe(r)&&xe(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:k}:t.viewBox?t.viewBox:{}},KK=function(t,r){return t?t===!0?V.createElement(qt,{key:"label-implicit",viewBox:r}):Rt(t)?V.createElement(qt,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===qt?S.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):De(t)?V.createElement(qt,{key:"label-implicit",content:t,viewBox:r}):_o(t)?V.createElement(qt,yc({viewBox:r},t,{key:"label-implicit"})):null:null},HK=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=vT(t),l=_r(s,qt).map(function(d,f){return S.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var u=KK(t.label,r||i);return[u].concat(PK(l))};qt.parseViewBox=vT;qt.renderCallByParent=HK;var ly,K5;function GK(){if(K5)return ly;K5=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return ly=e,ly}var VK=GK();const QK=Ze(VK);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var YK=["valueAccessor"],XK=["data","dataKey","clockWise","id","textBreakAll"];function JK(e){return rH(e)||tH(e)||eH(e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eH(e,t){if(e){if(typeof e=="string")return Yv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yv(e,t)}}function tH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rH(e){if(Array.isArray(e))return Yv(e)}function Yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gf.apply(this,arguments)}function H5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function G5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(r),!0).forEach(function(a){nH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nH(e,t,r){return t=aH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=sH(e,"string");return vc(t)=="symbol"?t:t+""}function sH(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5(e,t){if(e==null)return{};var r=iH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var oH=function(t){return Array.isArray(t.value)?QK(t.value):t.value};function ea(e){var t=e.valueAccessor,r=t===void 0?oH:t,a=V5(e,YK),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,f=V5(a,XK);return!s||!s.length?null:V.createElement(Ve,{className:"recharts-label-list"},s.map(function(p,m){var g=Fe(i)?r(p,m):_t(p&&p.payload,i),b=Fe(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(qt,gf({},_e(p,!0),f,b,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:qt.parseViewBox(Fe(l)?p:G5(G5({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ea.displayName="LabelList";function lH(e,t){return e?e===!0?V.createElement(ea,{key:"labelList-implicit",data:t}):V.isValidElement(e)||De(e)?V.createElement(ea,{key:"labelList-implicit",data:t,content:e}):_o(e)?V.createElement(ea,gf({data:t},e,{key:"labelList-implicit"})):null:null}function cH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=_r(a,ea).map(function(l,u){return S.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return s;var i=lH(e.label,t);return[i].concat(JK(s))}ea.renderCallByParent=cH;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xv.apply(this,arguments)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(a){uH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uH(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return bc(t)=="symbol"?t:t+""}function fH(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hH=function(t,r){var a=sr(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Cd=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/pf,g=f?i:i+l*m,b=ot(r,a,p,g),v=ot(r,a,s,g),j=f?i-l*m:i,y=ot(r,a,p*Math.cos(m*pf),j);return{center:b,circleTangency:v,lineTangency:y,theta:m}},bT=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=hH(l,u),f=l+d,p=ot(r,a,i,l),m=ot(r,a,i,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var b=ot(r,a,s,l),v=ot(r,a,s,f);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},mH=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=sr(p-f),g=Cd({cx:r,cy:a,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),b=g.circleTangency,v=g.lineTangency,j=g.theta,y=Cd({cx:r,cy:a,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),k=y.circleTangency,A=y.lineTangency,_=y.theta,O=d?Math.abs(f-p):Math.abs(f-p)-j-_;if(O<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):bT({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:p});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var C=Cd({cx:r,cy:a,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=C.circleTangency,R=C.lineTangency,I=C.theta,$=Cd({cx:r,cy:a,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=$.circleTangency,M=$.lineTangency,K=$.theta,Y=d?Math.abs(f-p):Math.abs(f-p)-I-K;if(Y<0&&l===0)return"".concat(w,"L").concat(r,",").concat(a,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else w+="L".concat(r,",").concat(a,"Z");return w},pH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jT=function(t){var r=Y5(Y5({},pH),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(l<i||p===m)return null;var b=ze("recharts-sector",g),v=l-i,j=ir(u,v,0,!0),y;return j>0&&Math.abs(p-m)<360?y=mH({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(j,v/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=bT({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),V.createElement("path",Xv({},_e(r,!0),{className:b,d:y,role:"img"}))};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jv.apply(this,arguments)}function X5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function J5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(r),!0).forEach(function(a){gH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gH(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=yH(e,"string");return jc(t)=="symbol"?t:t+""}function yH(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z5={curveBasisClosed:LF,curveBasisOpen:FF,curveBasis:DF,curveBumpX:NF,curveBumpY:SF,curveLinearClosed:BF,curveLinear:ih,curveMonotoneX:qF,curveMonotoneY:zF,curveNatural:UF,curveStep:WF,curveStepAfter:HF,curveStepBefore:KF},Ad=function(t){return t.x===+t.x&&t.y===+t.y},Ml=function(t){return t.x},Il=function(t){return t.y},vH=function(t,r){if(De(t))return t;var a="curve".concat(ah(t));return(a==="curveMonotone"||a==="curveBump")&&r?Z5["".concat(a).concat(r==="vertical"?"Y":"X")]:Z5[a]||ih},bH=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=vH(a,u),m=f?i.filter(function(j){return Ad(j)}):i,g;if(Array.isArray(l)){var b=f?l.filter(function(j){return Ad(j)}):l,v=m.map(function(j,y){return J5(J5({},j),{},{base:b[y]})});return u==="vertical"?g=vd().y(Il).x1(Ml).x0(function(j){return j.base.x}):g=vd().x(Ml).y1(Il).y0(function(j){return j.base.y}),g.defined(Ad).curve(p),g(v)}return u==="vertical"&&xe(l)?g=vd().y(Il).x1(Ml).x0(l):xe(l)?g=vd().x(Ml).y1(Il).y0(l):g=b_().x(Ml).y(Il),g.defined(Ad).curve(p),g(m)},xf=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?bH(t):s;return S.createElement("path",Jv({},_e(t,!1),zd(t),{className:ze("recharts-curve",r),d:l,ref:i}))},cy={exports:{}},uy,eA;function jH(){if(eA)return uy;eA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uy=e,uy}var dy,tA;function wH(){if(tA)return dy;tA=1;var e=jH();function t(){}function r(){}return r.resetWarningCache=t,dy=function(){function a(l,u,d,f,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},dy}var rA;function NH(){return rA||(rA=1,cy.exports=wH()()),cy.exports}var SH=NH();const Xe=Ze(SH),{getOwnPropertyNames:kH,getOwnPropertySymbols:OH}=Object,{hasOwnProperty:CH}=Object.prototype;function fy(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Pd(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);const{cache:i}=s,l=i.get(r),u=i.get(a);if(l&&u)return l===a&&u===r;i.set(r,a),i.set(a,r);const d=e(r,a,s);return i.delete(r),i.delete(a),d}}function AH(e){return e!=null?e[Symbol.toStringTag]:void 0}function nA(e){return kH(e).concat(OH(e))}const PH=Object.hasOwn||((e,t)=>CH.call(e,t));function Zs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const EH="__v",_H="__o",TH="_owner",{getOwnPropertyDescriptor:aA,keys:sA}=Object;function RH(e,t){return e.byteLength===t.byteLength&&yf(new Uint8Array(e),new Uint8Array(t))}function MH(e,t,r){let a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function IH(e,t){return e.byteLength===t.byteLength&&yf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function $H(e,t){return Zs(e.getTime(),t.getTime())}function DH(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function LH(e,t){return e===t}function iA(e,t,r){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.entries();let l,u,d=0;for(;(l=i.next())&&!l.done;){const f=t.entries();let p=!1,m=0;for(;(u=f.next())&&!u.done;){if(s[m]){m++;continue}const g=l.value,b=u.value;if(r.equals(g[0],b[0],d,m,e,t,r)&&r.equals(g[1],b[1],g[0],b[0],e,t,r)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const FH=Zs;function BH(e,t,r){const a=sA(e);let s=a.length;if(sA(t).length!==s)return!1;for(;s-- >0;)if(!wT(e,t,r,a[s]))return!1;return!0}function $l(e,t,r){const a=nA(e);let s=a.length;if(nA(t).length!==s)return!1;let i,l,u;for(;s-- >0;)if(i=a[s],!wT(e,t,r,i)||(l=aA(e,i),u=aA(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function qH(e,t){return Zs(e.valueOf(),t.valueOf())}function zH(e,t){return e.source===t.source&&e.flags===t.flags}function oA(e,t,r){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.values();let l,u;for(;(l=i.next())&&!l.done;){const d=t.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!s[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function yf(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function UH(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wT(e,t,r,a){return(a===TH||a===_H||a===EH)&&(e.$$typeof||t.$$typeof)?!0:PH(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}const WH="[object ArrayBuffer]",KH="[object Arguments]",HH="[object Boolean]",GH="[object DataView]",VH="[object Date]",QH="[object Error]",YH="[object Map]",XH="[object Number]",JH="[object Object]",ZH="[object RegExp]",eG="[object Set]",tG="[object String]",rG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},nG="[object URL]",aG=Object.prototype.toString;function sG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:b,unknownTagComparators:v}){return function(y,k,A){if(y===k)return!0;if(y==null||k==null)return!1;const _=typeof y;if(_!==typeof k)return!1;if(_!=="object")return _==="number"?u(y,k,A):_==="function"?i(y,k,A):!1;const O=y.constructor;if(O!==k.constructor)return!1;if(O===Object)return d(y,k,A);if(Array.isArray(y))return t(y,k,A);if(O===Date)return a(y,k,A);if(O===RegExp)return p(y,k,A);if(O===Map)return l(y,k,A);if(O===Set)return m(y,k,A);const w=aG.call(y);if(w===VH)return a(y,k,A);if(w===ZH)return p(y,k,A);if(w===YH)return l(y,k,A);if(w===eG)return m(y,k,A);if(w===JH)return typeof y.then!="function"&&typeof k.then!="function"&&d(y,k,A);if(w===nG)return b(y,k,A);if(w===QH)return s(y,k,A);if(w===KH)return d(y,k,A);if(rG[w])return g(y,k,A);if(w===WH)return e(y,k,A);if(w===GH)return r(y,k,A);if(w===HH||w===XH||w===tG)return f(y,k,A);if(v){let C=v[w];if(!C){const P=AH(y);P&&(C=v[P])}if(C)return C(y,k,A)}return!1}}function iG({circular:e,createCustomConfig:t,strict:r}){let a={areArrayBuffersEqual:RH,areArraysEqual:r?$l:MH,areDataViewsEqual:IH,areDatesEqual:$H,areErrorsEqual:DH,areFunctionsEqual:LH,areMapsEqual:r?fy(iA,$l):iA,areNumbersEqual:FH,areObjectsEqual:r?$l:BH,arePrimitiveWrappersEqual:qH,areRegExpsEqual:zH,areSetsEqual:r?fy(oA,$l):oA,areTypedArraysEqual:r?fy(yf,$l):yf,areUrlsEqual:UH,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),e){const s=Pd(a.areArraysEqual),i=Pd(a.areMapsEqual),l=Pd(a.areObjectsEqual),u=Pd(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return a}function oG(e){return function(t,r,a,s,i,l,u){return e(t,r,u)}}function lG({circular:e,comparator:t,createState:r,equals:a,strict:s}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(u,d,{cache:f,equals:a,meta:p,strict:s})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(u,d){return t(u,d,i)}}const cG=Za();Za({strict:!0});Za({circular:!0});Za({circular:!0,strict:!0});Za({createInternalComparator:()=>Zs});Za({strict:!0,createInternalComparator:()=>Zs});Za({circular:!0,createInternalComparator:()=>Zs});Za({circular:!0,createInternalComparator:()=>Zs,strict:!0});function Za(e={}){const{circular:t=!1,createInternalComparator:r,createState:a,strict:s=!1}=e,i=iG(e),l=sG(i),u=r?r(l):oG(l);return lG({circular:t,comparator:l,createState:a,equals:u,strict:s})}function uG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):uG(s)};requestAnimationFrame(a)}function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function dG(e){return pG(e)||mG(e)||hG(e)||fG()}function fG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){if(e){if(typeof e=="string")return cA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pG(e){if(Array.isArray(e))return e}function gG(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=dG(l),d=u[0],f=u.slice(1);if(typeof d=="number"){lA(s.bind(null,f),d);return}s(d),lA(s.bind(null,f));return}Zv(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(a){NT(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NT(e,t,r){return t=xG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=yG(e,"string");return wc(t)==="symbol"?t:String(t)}function yG(e,t){if(wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(wc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},bG=function(t){return t},jG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gl=function(t,r){return Object.keys(r).reduce(function(a,s){return dA(dA({},a),{},NT({},s,t(s,r[s])))},{})},fA=function(t,r,a){return t.map(function(s){return"".concat(jG(s)," ").concat(r,"ms ").concat(a)}).join(",")};function wG(e,t){return kG(e)||SG(e,t)||ST(e,t)||NG()}function NG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function kG(e){if(Array.isArray(e))return e}function OG(e){return PG(e)||AG(e)||ST(e)||CG()}function CG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ST(e,t){if(e){if(typeof e=="string")return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(e,t)}}function AG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PG(e){if(Array.isArray(e))return eb(e)}function eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var vf=1e-4,kT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},OT=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},hA=function(t,r){return function(a){var s=kT(t,r);return OT(s,a)}},EG=function(t,r){return function(a){var s=kT(t,r),i=[].concat(OG(s.map(function(l,u){return l*u}).slice(1)),[0]);return OT(i,a)}},mA=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=wG(f,4);s=p[0],i=p[1],l=p[2],u=p[3]}}}var m=hA(s,l),g=hA(i,u),b=EG(s,l),v=function(k){return k>1?1:k<0?0:k},j=function(k){for(var A=k>1?1:k,_=A,O=0;O<8;++O){var w=m(_)-A,C=b(_);if(Math.abs(w-A)<vf||C<vf)return g(_);_=v(_-w/C)}return g(_)};return j.isStepper=!1,j},_G=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,g){var b=-(p-m)*a,v=g*i,j=g+(b-v)*u/1e3,y=g*u/1e3+p;return Math.abs(y-m)<vf&&Math.abs(j)<vf?[m,0]:[y,j]};return d.isStepper=!0,d.dt=u,d},TG=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mA(s);case"spring":return _G();default:if(s.split("(")[0]==="cubic-bezier")return mA(s)}return typeof s=="function"?s:null};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function pA(e){return IG(e)||MG(e)||CT(e)||RG()}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IG(e){if(Array.isArray(e))return rb(e)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(a){tb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tb(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=DG(e,"string");return Nc(t)==="symbol"?t:String(t)}function DG(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Nc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e,t){return qG(e)||BG(e,t)||CT(e,t)||FG()}function FG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(e,t){if(e){if(typeof e=="string")return rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(e,t)}}function rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function BG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function qG(e){if(Array.isArray(e))return e}var bf=function(t,r,a){return t+(r-t)*a},nb=function(t){var r=t.from,a=t.to;return r!==a},zG=function e(t,r,a){var s=Gl(function(i,l){if(nb(l)){var u=t(l.from,l.to,l.velocity),d=LG(u,2),f=d[0],p=d[1];return Ht(Ht({},l),{},{from:f,velocity:p})}return l},r);return a<1?Gl(function(i,l){return nb(l)?Ht(Ht({},l),{},{velocity:bf(l.velocity,s[i].velocity,a),from:bf(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const UG=(function(e,t,r,a,s){var i=vG(e,t),l=i.reduce(function(y,k){return Ht(Ht({},y),{},tb({},k,[e[k],t[k]]))},{}),u=i.reduce(function(y,k){return Ht(Ht({},y),{},tb({},k,{from:e[k],velocity:0,to:t[k]}))},{}),d=-1,f,p,m=function(){return null},g=function(){return Gl(function(k,A){return A.from},u)},b=function(){return!Object.values(u).filter(nb).length},v=function(k){f||(f=k);var A=k-f,_=A/r.dt;u=zG(r,u,_),s(Ht(Ht(Ht({},e),t),g())),f=k,b()||(d=requestAnimationFrame(m))},j=function(k){p||(p=k);var A=(k-p)/a,_=Gl(function(w,C){return bf.apply(void 0,pA(C).concat([r(A)]))},l);if(s(Ht(Ht(Ht({},e),t),_)),A<1)d=requestAnimationFrame(m);else{var O=Gl(function(w,C){return bf.apply(void 0,pA(C).concat([r(1)]))},l);s(Ht(Ht(Ht({},e),t),O))}};return m=r.isStepper?v:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var WG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KG(e,t){if(e==null)return{};var r=HG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function HG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function hy(e){return YG(e)||QG(e)||VG(e)||GG()}function GG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(e,t){if(e){if(typeof e=="string")return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}function QG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YG(e){if(Array.isArray(e))return ab(e)}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(a){Ul(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ul(e,t,r){return t=AT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AT(a.key),a)}}function ZG(e,t,r){return t&&JG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AT(e){var t=eV(e,"string");return io(t)==="symbol"?t:String(t)}function eV(e,t){if(io(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(io(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sb(e,t)}function rV(e){var t=nV();return function(){var a=jf(e),s;if(t){var i=jf(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return ib(this,s)}}function ib(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ob(e)}function ob(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(e)}var Pn=(function(e){tV(r,e);var t=rV(r);function r(a,s){var i;XG(this,r),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,g=l.children,b=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ob(i)),i.changeStyle=i.changeStyle.bind(ob(i)),!u||b<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:p}),ib(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof g=="function")return i.state={style:f},ib(i);i.state={style:d?Ul({},d,f):f}}else i.state={style:{}};return i}return ZG(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,g=this.state.style;if(u){if(!l){var b={style:d?Ul({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(b);return}if(!(cG(s.to,p)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=v||f?m:s.to;if(this.state&&g){var y={style:d?Ul({},d,j):j};(d&&g[d]!==j||!d&&g!==j)&&this.setState(y)}this.runAnimation(nn(nn({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,p=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,b=UG(l,u,TG(f),d,this.changeStyle),v=function(){i.stopJSAnimation=b()};this.manager.start([g,p,v,d,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],p=f.style,m=f.duration,g=m===void 0?0:m,b=function(j,y,k){if(k===0)return j;var A=y.duration,_=y.easing,O=_===void 0?"ease":_,w=y.style,C=y.properties,P=y.onAnimationEnd,R=k>0?l[k-1]:y,I=C||Object.keys(w);if(typeof O=="function"||O==="spring")return[].concat(hy(j),[i.runJSAnimation.bind(i,{from:R.style,to:w,duration:A,easing:O}),A]);var $=fA(I,A,O),T=nn(nn(nn({},R.style),w),{},{transition:$});return[].concat(hy(j),[T,A,P]).filter(bG)};return this.manager.start([d].concat(hy(l.reduce(b,[p,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=gG());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,b=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var j=u?Ul({},u,d):d,y=fA(Object.keys(j),l,f);v.start([p,i,nn(nn({},j),{},{transition:y}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=KG(s,WG),f=S.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||f===0||l<=0)return i;var m=function(b){var v=b.props,j=v.style,y=j===void 0?{}:j,k=v.className,A=S.cloneElement(b,nn(nn({},d),{},{style:nn(nn({},y),p),className:k}));return A};return f===1?m(S.Children.only(i)):V.createElement("div",null,S.Children.map(i,function(g){return m(g)}))}}]),r})(S.PureComponent);Pn.displayName="Animate";Pn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pn.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wf.apply(this,arguments)}function aV(e,t){return lV(e)||oV(e,t)||iV(e,t)||sV()}function sV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iV(e,t){if(e){if(typeof e=="string")return yA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(e,t)}}function yA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function oV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function lV(e){if(Array.isArray(e))return e}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(a){cV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cV(e,t,r){return t=uV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=dV(e,"string");return Sc(t)=="symbol"?t:t+""}function dV(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Sc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,b=4;g<b;g++)m[g]=i[g]>l?l:i[g];p="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),p+="L ".concat(t+a-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+u*m[1])),p+="L ".concat(t+a,",").concat(r+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+a-d*m[2],",").concat(r+s)),p+="L ".concat(t+d*m[3],",").concat(r+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var v=Math.min(l,i);p="M ".concat(t,",").concat(r+u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+d*v,",").concat(r,`
            L `).concat(t+a-d*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+a,",").concat(r+u*v,`
            L `).concat(t+a,",").concat(r+s-u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t+a-d*v,",").concat(r+s,`
            L `).concat(t+d*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(f,",").concat(t,",").concat(r+s-u*v," Z")}else p="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return p},fV=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),p=Math.max(i,i+u),m=Math.min(l,l+d),g=Math.max(l,l+d);return a>=f&&a<=p&&s>=m&&s<=g}return!1},hV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kj=function(t){var r=bA(bA({},hV),t),a=S.useRef(),s=S.useState(-1),i=aV(s,2),l=i[0],u=i[1];S.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var O=a.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,g=r.radius,b=r.className,v=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var _=ze("recharts-rectangle",b);return A?V.createElement(Pn,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:j,animationEasing:v,isActive:A},function(O){var w=O.width,C=O.height,P=O.x,R=O.y;return V.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,isActive:k,easing:v},V.createElement("path",wf({},_e(r,!0),{className:_,d:jA(P,R,w,C,g),ref:a})))}):V.createElement("path",wf({},_e(r,!0),{className:_,d:jA(d,f,p,m,g)}))},mV=["points","className","baseLinePoints","connectNulls"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_i.apply(this,arguments)}function pV(e,t){if(e==null)return{};var r=gV(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function wA(e){return bV(e)||vV(e)||yV(e)||xV()}function xV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yV(e,t){if(e){if(typeof e=="string")return lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lb(e,t)}}function vV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bV(e){if(Array.isArray(e))return lb(e)}function lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var NA=function(t){return t&&t.x===+t.x&&t.y===+t.y},jV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){NA(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),NA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Vl=function(t,r){var a=jV(t);r&&(a=[a.reduce(function(i,l){return[].concat(wA(i),wA(l))},[])]);var s=a.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},wV=function(t,r,a){var s=Vl(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Vl(r.reverse(),a).slice(1))},NV=function(t){var r=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,l=pV(t,mV);if(!r||!r.length)return null;var u=ze("recharts-polygon",a);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=wV(r,s,i);return V.createElement("g",{className:u},V.createElement("path",_i({},_e(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?V.createElement("path",_i({},_e(l,!0),{fill:"none",d:Vl(r,i)})):null,d?V.createElement("path",_i({},_e(l,!0),{fill:"none",d:Vl(s,i)})):null)}var p=Vl(r,i);return V.createElement("path",_i({},_e(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cb.apply(this,arguments)}var Nh=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=ze("recharts-dot",i);return r===+r&&a===+a&&s===+s?S.createElement("circle",cb({},_e(t,!1),zd(t),{className:l,cx:r,cy:a,r:s})):null};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var SV=["x","y","top","left","width","height","className"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ub.apply(this,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(a){OV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OV(e,t,r){return t=CV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=AV(e,"string");return kc(t)=="symbol"?t:t+""}function AV(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PV(e,t){if(e==null)return{};var r=EV(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function EV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var _V=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},TV=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,g=t.height,b=g===void 0?0:g,v=t.className,j=PV(t,SV),y=kV({x:a,y:i,top:u,left:f,width:m,height:b},j);return!xe(a)||!xe(i)||!xe(m)||!xe(b)||!xe(u)||!xe(f)?null:V.createElement("path",ub({},_e(y,!0),{className:ze("recharts-cross",v),d:_V(a,i,m,b,u,f)}))},my,kA;function RV(){if(kA)return my;kA=1;var e=yh(),t=U4(),r=Tn();function a(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return my=a,my}var MV=RV();const IV=Ze(MV);var py,OA;function $V(){if(OA)return py;OA=1;var e=yh(),t=Tn(),r=W4();function a(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return py=a,py}var DV=$V();const LV=Ze(DV);var FV=["cx","cy","angle","ticks","axisLine"],BV=["ticks","tick","angle","tickFormatter","stroke"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ql.apply(this,arguments)}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(a){Sh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AA(e,t){if(e==null)return{};var r=qV(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function zV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ET(a.key),a)}}function UV(e,t,r){return t&&PA(e.prototype,t),r&&PA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WV(e,t,r){return t=Nf(t),KV(e,PT()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HV(e)}function HV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function GV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},db(e,t)}function Sh(e,t,r){return t=ET(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ET(e){var t=VV(e,"string");return oo(t)=="symbol"?t:t+""}function VV(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kh=(function(e){function t(){return zV(this,t),WV(this,t,arguments)}return GV(t,e),UV(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return ot(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=IV(u,function(p){return p.coordinate||0}),f=LV(u,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=a.axisLine,f=AA(a,FV),p=u.reduce(function(v,j){return[Math.min(v[0],j.coordinate),Math.max(v[1],j.coordinate)]},[1/0,-1/0]),m=ot(s,i,p[0],l),g=ot(s,i,p[1],l),b=ms(ms(ms({},_e(f,!1)),{},{fill:"none"},_e(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return V.createElement("line",Ql({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,p=AA(s,BV),m=this.getTickTextAnchor(),g=_e(p,!1),b=_e(l,!1),v=i.map(function(j,y){var k=a.getTickValueCoord(j),A=ms(ms(ms(ms({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},g),{},{stroke:"none",fill:f},b),{},{index:y},k),{},{payload:j});return V.createElement(Ve,Ql({className:ze("recharts-polar-radius-axis-tick",yT(l)),key:"tick-".concat(j.coordinate)},qs(a.props,j,y)),t.renderTickItem(l,A,d?d(j.value,y):j.value))});return V.createElement(Ve,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,l=a.tick;return!s||!s.length?null:V.createElement(Ve,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),qt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var l;return V.isValidElement(a)?l=V.cloneElement(a,s):De(a)?l=a(s):l=V.createElement(zs,Ql({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(S.PureComponent);Sh(kh,"displayName","PolarRadiusAxis");Sh(kh,"axisType","radiusAxis");Sh(kh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ys.apply(this,arguments)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(a){Oh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _A(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TT(a.key),a)}}function YV(e,t,r){return t&&_A(e.prototype,t),r&&_A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XV(e,t,r){return t=Sf(t),JV(e,_T()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function JV(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZV(e)}function ZV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_T=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function eQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fb(e,t)}function Oh(e,t,r){return t=TT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TT(e){var t=tQ(e,"string");return lo(t)=="symbol"?t:t+""}function tQ(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ=Math.PI/180,TA=1e-5,Ch=(function(e){function t(){return QV(this,t),XV(this,t,arguments)}return eQ(t,e),YV(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,p=f||8,m=ot(i,l,u,a.coordinate),g=ot(i,l,u+(d==="inner"?-1:1)*p,a.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*rQ),l;return i>TA?l=s==="outer"?"start":"end":i<-TA?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.radius,u=a.axisLine,d=a.axisLineType,f=ps(ps({},_e(this.props,!1)),{},{fill:"none"},_e(u,!1));if(d==="circle")return V.createElement(Nh,ys({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(g){return ot(s,i,l,g.coordinate)});return V.createElement(NV,ys({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,p=_e(this.props,!1),m=_e(l,!1),g=ps(ps({},p),{},{fill:"none"},_e(u,!1)),b=i.map(function(v,j){var y=a.getTickLineCoord(v),k=a.getTickTextAnchor(v),A=ps(ps(ps({textAnchor:k},p),{},{stroke:"none",fill:f},m),{},{index:j,payload:v,x:y.x2,y:y.y2});return V.createElement(Ve,ys({className:ze("recharts-polar-angle-axis-tick",yT(l)),key:"tick-".concat(v.coordinate)},qs(a.props,v,j)),u&&V.createElement("line",ys({className:"recharts-polar-angle-axis-tick-line"},g,y)),l&&t.renderTickItem(l,A,d?d(v.value,j):v.value))});return V.createElement(Ve,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!s||!s.length?null:V.createElement(Ve,{className:ze("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var l;return V.isValidElement(a)?l=V.cloneElement(a,s):De(a)?l=a(s):l=V.createElement(zs,ys({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(S.PureComponent);Oh(Ch,"displayName","PolarAngleAxis");Oh(Ch,"axisType","angleAxis");Oh(Ch,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gy,RA;function nQ(){if(RA)return gy;RA=1;var e=U_(),t=e(Object.getPrototypeOf,Object);return gy=t,gy}var xy,MA;function aQ(){if(MA)return xy;MA=1;var e=oa(),t=nQ(),r=la(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return xy=f,xy}var sQ=aQ();const iQ=Ze(sQ);var yy,IA;function oQ(){if(IA)return yy;IA=1;var e=oa(),t=la(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return yy=a,yy}var lQ=oQ();const cQ=Ze(lQ);function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kf.apply(this,arguments)}function uQ(e,t){return mQ(e)||hQ(e,t)||fQ(e,t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function mQ(e){if(Array.isArray(e))return e}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(a){pQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=xQ(e,"string");return Oc(t)=="symbol"?t:t+""}function xQ(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FA=function(t,r,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+a,",").concat(r),u+="L ".concat(t+a-l/2,",").concat(r+i),u+="L ".concat(t+a-l/2-s,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},yQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vQ=function(t){var r=LA(LA({},yQ),t),a=S.useRef(),s=S.useState(-1),i=uQ(s,2),l=i[0],u=i[1];S.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var _=a.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,b=r.className,v=r.animationEasing,j=r.animationDuration,y=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var A=ze("recharts-trapezoid",b);return k?V.createElement(Pn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:f},duration:j,animationEasing:v,isActive:k},function(_){var O=_.upperWidth,w=_.lowerWidth,C=_.height,P=_.x,R=_.y;return V.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:j,easing:v},V.createElement("path",kf({},_e(r,!0),{className:A,d:FA(P,R,O,w,C),ref:a})))}):V.createElement("g",null,V.createElement("path",kf({},_e(r,!0),{className:A,d:FA(d,f,p,m,g)})))},bQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function jQ(e,t){if(e==null)return{};var r=wQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(a){NQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NQ(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=kQ(e,"string");return Cc(t)=="symbol"?t:t+""}function kQ(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OQ(e,t){return Of(Of({},t),e)}function CQ(e,t){return e==="symbols"}function qA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(Kj,r);case"trapezoid":return V.createElement(vQ,r);case"sector":return V.createElement(jT,r);case"symbols":if(CQ(t))return V.createElement(cj,r);break;default:return null}}function AQ(e){return S.isValidElement(e)?e.props:e}function RT(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?OQ:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=jQ(e,bQ),f;if(S.isValidElement(t))f=S.cloneElement(t,Of(Of({},d),AQ(t)));else if(De(t))f=t(d);else if(iQ(t)&&!cQ(t)){var p=s(t,d);f=V.createElement(qA,{shapeType:r,elementProps:p})}else{var m=d;f=V.createElement(qA,{shapeType:r,elementProps:m})}return u?V.createElement(Ve,{className:l},f):f}function Ah(e,t){return t!=null&&"trapezoids"in e.props}function Ph(e,t){return t!=null&&"sectors"in e.props}function Ac(e,t){return t!=null&&"points"in e.props}function PQ(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function EQ(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function _Q(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function TQ(e,t){var r;return Ah(e,t)?r=PQ:Ph(e,t)?r=EQ:Ac(e,t)&&(r=_Q),r}function RQ(e,t){var r;return Ah(e,t)?r="trapezoids":Ph(e,t)?r="sectors":Ac(e,t)&&(r="points"),r}function MQ(e,t){if(Ah(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ph(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Ac(e,t)?t.payload:{}}function IQ(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=RQ(r,t),i=MQ(r,t),l=a.filter(function(d,f){var p=Zc(i,d),m=r.props[s].filter(function(v){var j=TQ(r,t);return j(v,t)}),g=r.props[s].indexOf(m[m.length-1]),b=f===g;return p&&b}),u=a.indexOf(l[l.length-1]);return u}var $d;function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ti.apply(this,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(a){Wr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IT(a.key),a)}}function DQ(e,t,r){return t&&UA(e.prototype,t),r&&UA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LQ(e,t,r){return t=Cf(t),FQ(e,MT()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function FQ(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQ(e)}function BQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function qQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hb(e,t)}function hb(e,t){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},hb(e,t)}function Wr(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=zQ(e,"string");return co(t)=="symbol"?t:t+""}function zQ(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(co(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ua=(function(e){function t(r){var a;return $Q(this,t),a=LQ(this,t,[r]),Wr(a,"pieRef",null),Wr(a,"sectorRefs",[]),Wr(a,"id",To("recharts-pie-")),Wr(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),De(s)&&s()}),Wr(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),De(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return qQ(t,e),DQ(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,f=i.valueKey,p=_e(this.props,!1),m=_e(l,!1),g=_e(u,!1),b=l&&l.offsetRadius||20,v=a.map(function(j,y){var k=(j.startAngle+j.endAngle)/2,A=ot(j.cx,j.cy,j.outerRadius+b,k),_=st(st(st(st({},p),j),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(A.x,j.cx)},A),O=st(st(st(st({},p),j),{},{fill:"none",stroke:j.fill},g),{},{index:y,points:[ot(j.cx,j.cy,j.outerRadius,k),A]}),w=d;return Fe(d)&&Fe(f)?w="value":Fe(d)&&(w=f),V.createElement(Ve,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,O,"line"),t.renderLabelItem(l,_,_t(j,w)))});return V.createElement(Ve,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return a.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&a.length!==1)return null;var m=s.isActiveIndex(p),g=d&&s.hasActiveIndex()?d:null,b=m?l:g,v=st(st({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(Ve,Ti({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},qs(s.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),V.createElement(RT,Ti({option:b,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state,g=m.prevSectors,b=m.prevIsAnimationActive;return V.createElement(Pn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var j=v.t,y=[],k=i&&i[0],A=k.startAngle;return i.forEach(function(_,O){var w=g&&g[O],C=O>0?Er(_,"paddingAngle",0):0;if(w){var P=Ar(w.endAngle-w.startAngle,_.endAngle-_.startAngle),R=st(st({},_),{},{startAngle:A+C,endAngle:A+P(j)+C});y.push(R),A=R.endAngle}else{var I=_.endAngle,$=_.startAngle,T=Ar(0,I-$),M=T(j),K=st(st({},_),{},{startAngle:A+C,endAngle:A+M+C});y.push(K),A=K.endAngle}}),V.createElement(Ve,null,a.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!Zc(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,p=s.cy,m=s.innerRadius,g=s.outerRadius,b=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!l||!l.length||!xe(f)||!xe(p)||!xe(m)||!xe(g))return null;var j=ze("recharts-pie",u);return V.createElement(Ve,{tabIndex:this.props.rootTabIndex,className:j,ref:function(k){a.pieRef=k}},this.renderSectors(),d&&this.renderLabels(l),qt.renderCallByParent(this.props,null,!1),(!b||v)&&ea.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(V.isValidElement(a))return V.cloneElement(a,s);if(De(a))return a(s);var l=ze("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return V.createElement(xf,Ti({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,i){if(V.isValidElement(a))return V.cloneElement(a,s);var l=i;if(De(a)&&(l=a(s),V.isValidElement(l)))return l;var u=ze("recharts-pie-label-text",typeof a!="boolean"&&!De(a)?a.className:"");return V.createElement(zs,Ti({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(S.PureComponent);$d=ua;Wr(ua,"displayName","Pie");Wr(ua,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ys.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wr(ua,"parseDeltaAngle",function(e,t){var r=sr(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Wr(ua,"getRealPieData",function(e){var t=e.data,r=e.children,a=_e(e,!1),s=_r(r,dh);return t&&t.length?t.map(function(i,l){return st(st(st({payload:i},a),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return st(st({},a),i.props)}):[]});Wr(ua,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,l=xT(s,i),u=a+ir(e.cx,s,s/2),d=r+ir(e.cy,i,i/2),f=ir(e.innerRadius,l,0),p=ir(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Wr(ua,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?st(st({},t.type.defaultProps),t.props):t.props,s=$d.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,l=a.startAngle,u=a.endAngle,d=a.paddingAngle,f=a.dataKey,p=a.nameKey,m=a.valueKey,g=a.tooltipType,b=Math.abs(a.minAngle),v=$d.parseCoordinateOfPie(a,r),j=$d.parseDeltaAngle(l,u),y=Math.abs(j),k=f;Fe(f)&&Fe(m)?(un(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):Fe(f)&&(un(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var A=s.filter(function(R){return _t(R,k,0)!==0}).length,_=(y>=360?A:A-1)*d,O=y-A*b-_,w=s.reduce(function(R,I){var $=_t(I,k,0);return R+(xe($)?$:0)},0),C;if(w>0){var P;C=s.map(function(R,I){var $=_t(R,k,0),T=_t(R,p,I),M=(xe($)?$:0)/w,K;I?K=P.endAngle+sr(j)*d*($!==0?1:0):K=l;var Y=K+sr(j)*(($!==0?b:0)+M*O),U=(K+Y)/2,B=(v.innerRadius+v.outerRadius)/2,L=[{name:T,value:$,payload:R,dataKey:k,type:g}],W=ot(v.cx,v.cy,B,U);return P=st(st(st({percent:M,cornerRadius:i,name:T,tooltipPayload:L,midAngle:U,middleRadius:B,tooltipPosition:W},R),v),{},{value:_t(R,k),startAngle:K,endAngle:Y,payload:R,paddingAngle:sr(j)*d}),P})}return st(st({},v),{},{sectors:C,data:s})});var vy,WA;function UQ(){if(WA)return vy;WA=1;var e=Math.ceil,t=Math.max;function r(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=a,a+=i;return f}return vy=r,vy}var by,KA;function $T(){if(KA)return by;KA=1;var e=s4(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return by=a,by}var jy,HA;function WQ(){if(HA)return jy;HA=1;var e=UQ(),t=uh(),r=$T();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,s)}}return jy=a,jy}var wy,GA;function KQ(){if(GA)return wy;GA=1;var e=WQ(),t=e();return wy=t,wy}var HQ=KQ();const Af=Ze(HQ);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(a){DT(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function DT(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=VQ(e,"string");return Pc(t)=="symbol"?t:t+""}function VQ(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QQ=["Webkit","Moz","O","ms"],YQ=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=QQ.reduce(function(i,l){return QA(QA({},i),{},DT({},l+a,r))},{});return s[t]=r,s};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pf.apply(this,arguments)}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(a){Or(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FT(a.key),a)}}function JQ(e,t,r){return t&&XA(e.prototype,t),r&&XA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZQ(e,t,r){return t=Ef(t),eY(e,LT()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function eY(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tY(e)}function tY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LT=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},mb(e,t)}function Or(e,t,r){return t=FT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FT(e){var t=nY(e,"string");return uo(t)=="symbol"?t:t+""}function nY(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aY=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Kl().domain(Af(0,d)).range([i,i+l-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(s),scale:f,scaleValues:p}},JA=function(t){return t.changedTouches&&!!t.changedTouches.length},fo=(function(e){function t(r){var a;return XQ(this,t),a=ZQ(this,t,[r]),Or(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Or(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Or(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),Or(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Or(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Or(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Or(a,"handleSlideDragStart",function(s){var i=JA(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return rY(t,e),JQ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(s,i),g=Math.max(s,i),b=t.getIndexInRange(l,m),v=t.getIndexInRange(l,g);return{startIndex:b-b%d,endIndex:v===p?p:v-v%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=_t(i[a],u,a);return De(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,b=d.endIndex,v=d.onChange,j=a.pageX-i;j>0?j=Math.min(j,f+p-m-u,f+p-m-l):j<0&&(j=Math.max(j,f-l,f-u));var y=this.getIndex({startX:l+j,endX:u+j});(y.startIndex!==g||y.endIndex!==b)&&v&&v(y),this.setState({startX:l+j,endX:u+j,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=JA(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],p=this.props,m=p.x,g=p.width,b=p.travellerWidth,v=p.onChange,j=p.gap,y=p.data,k={startX:this.state.startX,endX:this.state.endX},A=a.pageX-i;A>0?A=Math.min(A,m+g-b-f):A<0&&(A=Math.max(A,m-f)),k[l]=f+A;var _=this.getIndex(k),O=_.startIndex,w=_.endIndex,C=function(){var R=y.length-1;return l==="startX"&&(u>d?O%j===0:w%j===0)||u<d&&w===R||l==="endX"&&(u>d?w%j===0:O%j===0)||u>d&&w===R};this.setState(Or(Or({},l,f+A),"brushMoveStartX",a.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var g=m+a;if(!(g===-1||g>=u.length)){var b=u[g];s==="startX"&&b>=f||s==="endX"&&b<=d||this.setState(Or({},s,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,f=a.stroke;return V.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,f=a.children,p=a.padding,m=S.Children.only(f);return m?V.cloneElement(m,{x:s,y:i,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,b=d.ariaLabel,v=d.data,j=d.startIndex,y=d.endIndex,k=Math.max(a,this.props.x),A=Ny(Ny({},_e(this.props,!1)),{},{x:k,y:f,width:p,height:m}),_=b||"Min value: ".concat((i=v[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=v[y])===null||l===void 0?void 0:l.name);return V.createElement(Ve,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),u.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,A))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(a,s)+f,m=Math.max(Math.abs(s-a)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,f=a.stroke,p=this.state,m=p.startX,g=p.endX,b=5,v={pointerEvents:"none",fill:f};return V.createElement(Ve,{className:"recharts-brush-texts"},V.createElement(zs,Pf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-b,y:l+u/2},v),this.getTextOfTick(s)),V.createElement(zs,Pf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+b,y:l+u/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,f=a.width,p=a.height,m=a.alwaysShowText,g=this.state,b=g.startX,v=g.endX,j=g.isTextActive,y=g.isSlideMoving,k=g.isTravellerMoving,A=g.isTravellerFocused;if(!s||!s.length||!xe(u)||!xe(d)||!xe(f)||!xe(p)||f<=0||p<=0)return null;var _=ze("recharts-brush",i),O=V.Children.count(l)===1,w=YQ("userSelect","none");return V.createElement(Ve,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(b,v),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(v,"endX"),(j||y||k||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,f=Math.floor(i+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return V.isValidElement(a)?i=V.cloneElement(a,s):De(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,f=a.updateId,p=a.startIndex,m=a.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return Ny({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?aY({data:i,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(S.PureComponent);Or(fo,"displayName","Brush");Or(fo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sy,ZA;function sY(){if(ZA)return Sy;ZA=1;var e=gj();function t(r,a){var s;return e(r,function(i,l,u){return s=a(i,l,u),!s}),!!s}return Sy=t,Sy}var ky,eP;function iY(){if(eP)return ky;eP=1;var e=$_(),t=Tn(),r=sY(),a=br(),s=uh();function i(l,u,d){var f=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return ky=i,ky}var oY=iY();const lY=Ze(oY);var Cn=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},Oy,tP;function cY(){if(tP)return Oy;tP=1;var e=e4();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return Oy=t,Oy}var Cy,rP;function uY(){if(rP)return Cy;rP=1;var e=cY(),t=J_(),r=Tn();function a(s,i){var l={};return i=r(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return Cy=a,Cy}var dY=uY();const fY=Ze(dY);var Ay,nP;function hY(){if(nP)return Ay;nP=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return Ay=e,Ay}var Py,aP;function mY(){if(aP)return Py;aP=1;var e=gj();function t(r,a){var s=!0;return e(r,function(i,l,u){return s=!!a(i,l,u),s}),s}return Py=t,Py}var Ey,sP;function pY(){if(sP)return Ey;sP=1;var e=hY(),t=mY(),r=Tn(),a=br(),s=uh();function i(l,u,d){var f=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,r(u,3))}return Ey=i,Ey}var gY=pY();const BT=Ze(gY);var xY=["x","y"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pb.apply(this,arguments)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(a){yY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yY(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=bY(e,"string");return Ec(t)=="symbol"?t:t+""}function bY(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jY(e,t){if(e==null)return{};var r=wY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function NY(e,t){var r=e.x,a=e.y,s=jY(e,xY),i="".concat(r),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),f="".concat(t.height||s.height),p=parseInt(f,10),m="".concat(t.width||s.width),g=parseInt(m,10);return Dl(Dl(Dl(Dl(Dl({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function oP(e){return V.createElement(RT,pb({shapeType:"rectangle",propTransformer:NY,activeClassName:"recharts-active-bar"},e))}var SY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=xe(a)||WL(a);return i?t(a,s):(i||Ws(),r)}},kY=["value","background"],qT;function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function OY(e,t){if(e==null)return{};var r=CY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function CY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_f.apply(this,arguments)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(a){Ua(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UT(a.key),a)}}function PY(e,t,r){return t&&cP(e.prototype,t),r&&cP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e,t,r){return t=Tf(t),_Y(e,zT()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function _Y(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TY(e)}function TY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gb(e,t)}function Ua(e,t,r){return t=UT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=MY(e,"string");return ho(t)=="symbol"?t:t+""}function MY(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ho(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Va=(function(e){function t(){var r;AY(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=EY(this,t,[].concat(s)),Ua(r,"state",{isAnimationFinished:!1}),Ua(r,"id",To("recharts-bar-")),Ua(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ua(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return RY(t,e),PY(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,p=_e(this.props,!1);return a&&a.map(function(m,g){var b=g===d,v=b?f:l,j=St(St(St({},p),m),{},{isActive:b,option:v,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ve,_f({className:"recharts-bar-rectangle"},qs(s.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),V.createElement(oP,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,m=s.animationId,g=this.state.prevData;return V.createElement(Pn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t,j=i.map(function(y,k){var A=g&&g[k];if(A){var _=Ar(A.x,y.x),O=Ar(A.y,y.y),w=Ar(A.width,y.width),C=Ar(A.height,y.height);return St(St({},y),{},{x:_(v),y:O(v),width:w(v),height:C(v)})}if(l==="horizontal"){var P=Ar(0,y.height),R=P(v);return St(St({},y),{},{y:y.y+y.height-R,height:R})}var I=Ar(0,y.width),$=I(v);return St(St({},y),{},{width:$})});return V.createElement(Ve,null,a.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!Zc(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=_e(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,g=OY(f,kY);if(!m)return null;var b=St(St(St(St(St({},g),{},{fill:"#eee"},m),d),qs(a.props,f,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return V.createElement(oP,_f({key:"background-bar-".concat(p),option:a.props.background,isActive:p===u},b))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=_r(p,eu);if(!m)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,b=function(y,k){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:_t(y,k)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ve,v,m.map(function(j){return V.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,f=a.left,p=a.top,m=a.width,g=a.height,b=a.isAnimationActive,v=a.background,j=a.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,k=ze("recharts-bar",l),A=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,O=A||_,w=Fe(j)?this.id:j;return V.createElement(Ve,{className:k},A||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(w)},V.createElement("rect",{x:A?f:f-m/2,y:_?p:p-g/2,width:A?m:m*2,height:_?g:g*2}))):null,V.createElement(Ve,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,w),(!b||y)&&ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(S.PureComponent);qT=Va;Ua(Va,"displayName","Bar");Ua(Va,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(Va,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,b=sK(a,r);if(!b)return null;var v=t.layout,j=r.type.defaultProps,y=j!==void 0?St(St({},j),r.props):r.props,k=y.dataKey,A=y.children,_=y.minPointSize,O=v==="horizontal"?l:i,w=f?O.scale.domain():null,C=fK({numericAxis:O}),P=_r(A,dh),R=m.map(function(I,$){var T,M,K,Y,U,B;f?T=iK(f[p+$],w):(T=_t(I,k),Array.isArray(T)||(T=[C,T]));var L=SY(_,qT.defaultProps.minPointSize)(T[1],$);if(v==="horizontal"){var W,X=[l.scale(T[0]),l.scale(T[1])],z=X[0],q=X[1];M=D5({axis:i,ticks:u,bandSize:s,offset:b.offset,entry:I,index:$}),K=(W=q??z)!==null&&W!==void 0?W:void 0,Y=b.size;var F=z-q;if(U=Number.isNaN(F)?0:F,B={x:M,y:l.y,width:Y,height:l.height},Math.abs(L)>0&&Math.abs(U)<Math.abs(L)){var G=sr(U||L)*(Math.abs(L)-Math.abs(U));K-=G,U+=G}}else{var ee=[i.scale(T[0]),i.scale(T[1])],de=ee[0],oe=ee[1];if(M=de,K=D5({axis:l,ticks:d,bandSize:s,offset:b.offset,entry:I,index:$}),Y=oe-de,U=b.size,B={x:i.x,y:K,width:i.width,height:U},Math.abs(L)>0&&Math.abs(Y)<Math.abs(L)){var ne=sr(Y||L)*(Math.abs(L)-Math.abs(Y));Y+=ne}}return St(St(St({},I),{},{x:M,y:K,width:Y,height:U,value:f?T:T[1],payload:I,background:B},P&&P[$]&&P[$].props),{},{tooltipPayload:[pT(r,I)],tooltipPosition:{x:M+Y/2,y:K+U/2}})});return St({data:R,layout:v},g)});function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function IY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WT(a.key),a)}}function $Y(e,t,r){return t&&uP(e.prototype,t),r&&uP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(a){Eh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eh(e,t,r){return t=WT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WT(e){var t=DY(e,"string");return _c(t)=="symbol"?t:t+""}function DY(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KT=function(t,r,a,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},g=!!Cr(f,Va);return p.reduce(function(b,v){var j=r[v],y=j.orientation,k=j.domain,A=j.padding,_=A===void 0?{}:A,O=j.mirror,w=j.reversed,C="".concat(y).concat(O?"Mirror":""),P,R,I,$,T;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var M=k[1]-k[0],K=1/0,Y=j.categoricalDomain.sort(GL);if(Y.forEach(function(ee,de){de>0&&(K=Math.min((ee||0)-(Y[de-1]||0),K))}),Number.isFinite(K)){var U=K/M,B=j.layout==="vertical"?a.height:a.width;if(j.padding==="gap"&&(P=U*B/2),j.padding==="no-gap"){var L=ir(t.barCategoryGap,U*B),W=U*B/2;P=W-L-(W-L)/B*L}}}s==="xAxis"?R=[a.left+(_.left||0)+(P||0),a.left+a.width-(_.right||0)-(P||0)]:s==="yAxis"?R=d==="horizontal"?[a.top+a.height-(_.bottom||0),a.top+(_.top||0)]:[a.top+(_.top||0)+(P||0),a.top+a.height-(_.bottom||0)-(P||0)]:R=j.range,w&&(R=[R[1],R[0]]);var X=dT(j,i,g),z=X.scale,q=X.realScaleType;z.domain(k).range(R),fT(z);var F=hT(z,on(on({},j),{},{realScaleType:q}));s==="xAxis"?(T=y==="top"&&!O||y==="bottom"&&O,I=a.left,$=m[C]-T*j.height):s==="yAxis"&&(T=y==="left"&&!O||y==="right"&&O,I=m[C]-T*j.width,$=a.top);var G=on(on(on({},j),F),{},{realScaleType:q,x:I,y:$,scale:z,width:s==="xAxis"?a.width:j.width,height:s==="yAxis"?a.height:j.height});return G.bandSize=mf(G,F),!j.hide&&s==="xAxis"?m[C]+=(T?-1:1)*G.height:j.hide||(m[C]+=(T?-1:1)*G.width),on(on({},b),{},Eh({},v,G))},{})},HT=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},LY=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return HT({x:r,y:a},{x:s,y:i})},GT=(function(){function e(t){IY(this,e),this.scale=t}return $Y(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Eh(GT,"EPS",1e-4);var Hj=function(t){var r=Object.keys(t).reduce(function(a,s){return on(on({},a),{},Eh({},s,GT.create(t[s])))},{});return on(on({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return fY(s,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return BT(s,function(i,l){return r[l].isInRange(i)})}})};function FY(e){return(e%180+180)%180}var BY=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=FY(s),l=i*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},_y,fP;function qY(){if(fP)return _y;fP=1;var e=Tn(),t=Vc(),r=lh();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(m){return f(d[m],m,d)}}var p=s(i,l,u);return p>-1?d[f?i[p]:p]:void 0}}return _y=a,_y}var Ty,hP;function zY(){if(hP)return Ty;hP=1;var e=$T();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return Ty=t,Ty}var Ry,mP;function UY(){if(mP)return Ry;mP=1;var e=G_(),t=Tn(),r=zY(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=a(d+f,0)),e(i,t(l,3),f)}return Ry=s,Ry}var My,pP;function WY(){if(pP)return My;pP=1;var e=qY(),t=UY(),r=e(t);return My=r,My}var KY=WY();const HY=Ze(KY);var GY=c_();const VY=Ze(GY);var QY=VY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Gj=S.createContext(void 0),Vj=S.createContext(void 0),VT=S.createContext(void 0),QT=S.createContext({}),YT=S.createContext(void 0),XT=S.createContext(0),JT=S.createContext(0),gP=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=QY(i);return V.createElement(Gj.Provider,{value:a},V.createElement(Vj.Provider,{value:s},V.createElement(QT.Provider,{value:i},V.createElement(VT.Provider,{value:p},V.createElement(YT.Provider,{value:l},V.createElement(XT.Provider,{value:f},V.createElement(JT.Provider,{value:d},u)))))))},YY=function(){return S.useContext(YT)},ZT=function(t){var r=S.useContext(Gj);r==null&&Ws();var a=r[t];return a==null&&Ws(),a},XY=function(){var t=S.useContext(Gj);return Ta(t)},JY=function(){var t=S.useContext(Vj),r=HY(t,function(a){return BT(a.domain,Number.isFinite)});return r||Ta(t)},e3=function(t){var r=S.useContext(Vj);r==null&&Ws();var a=r[t];return a==null&&Ws(),a},ZY=function(){var t=S.useContext(VT);return t},eX=function(){return S.useContext(QT)},Qj=function(){return S.useContext(JT)},Yj=function(){return S.useContext(XT)};function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r3(a.key),a)}}function nX(e,t,r){return t&&rX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,r){return t=Rf(t),sX(e,t3()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function sX(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xb(e,t)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(a){Xj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xj(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=lX(e,"string");return mo(t)=="symbol"?t:t+""}function lX(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cX(e,t){return hX(e)||fX(e,t)||dX(e,t)||uX()}function uX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(e,t){if(e){if(typeof e=="string")return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function hX(e){if(Array.isArray(e))return e}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yb.apply(this,arguments)}var mX=function(t,r){var a;return V.isValidElement(t)?a=V.cloneElement(t,r):De(t)?a=t(r):a=V.createElement("line",yb({},r,{className:"recharts-reference-line-line"})),a},pX=function(t,r,a,s,i,l,u,d,f){var p=i.x,m=i.y,g=i.width,b=i.height;if(a){var v=f.y,j=t.y.apply(v,{position:l});if(Cn(f,"discard")&&!t.y.isInRange(j))return null;var y=[{x:p+g,y:j},{x:p,y:j}];return d==="left"?y.reverse():y}if(r){var k=f.x,A=t.x.apply(k,{position:l});if(Cn(f,"discard")&&!t.x.isInRange(A))return null;var _=[{x:A,y:m+b},{x:A,y:m}];return u==="top"?_.reverse():_}if(s){var O=f.segment,w=O.map(function(C){return t.apply(C,{position:l})});return Cn(f,"discard")&&lY(w,function(C){return!t.isInRange(C)})?null:w}return null};function gX(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=YY(),p=ZT(s),m=e3(i),g=ZY();if(!f||!g)return null;un(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Hj({x:p.scale,y:m.scale}),v=Rt(t),j=Rt(r),y=a&&a.length===2,k=pX(b,v,j,y,g,e.position,p.orientation,m.orientation,e);if(!k)return null;var A=cX(k,2),_=A[0],O=_.x,w=_.y,C=A[1],P=C.x,R=C.y,I=Cn(e,"hidden")?"url(#".concat(f,")"):void 0,$=yP(yP({clipPath:I},_e(e,!0)),{},{x1:O,y1:w,x2:P,y2:R});return V.createElement(Ve,{className:ze("recharts-reference-line",u)},mX(l,$),qt.renderCallByParent(e,LY({x1:O,y1:w,x2:P,y2:R})))}var Jj=(function(e){function t(){return tX(this,t),aX(this,t,arguments)}return oX(t,e),nX(t,[{key:"render",value:function(){return V.createElement(gX,this.props)}}])})(V.Component);Xj(Jj,"displayName","ReferenceLine");Xj(Jj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vb.apply(this,arguments)}function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(a){_h(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a3(a.key),a)}}function vX(e,t,r){return t&&yX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bX(e,t,r){return t=Mf(t),jX(e,n3()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function jX(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wX(e)}function wX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function NX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},bb(e,t)}function _h(e,t,r){return t=a3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=SX(e,"string");return po(t)=="symbol"?t:t+""}function SX(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kX=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=Hj({x:s.scale,y:i.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return Cn(t,"discard")&&!l.isInRange(u)?null:u},Th=(function(e){function t(){return xX(this,t),bX(this,t,arguments)}return NX(t,e),vX(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,f=Rt(s),p=Rt(i);if(un(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=kX(this.props);if(!m)return null;var g=m.x,b=m.y,v=this.props,j=v.shape,y=v.className,k=Cn(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=jP(jP({clipPath:k},_e(this.props,!0)),{},{cx:g,cy:b});return V.createElement(Ve,{className:ze("recharts-reference-dot",y)},t.renderDot(j,A),qt.renderCallByParent(this.props,{x:g-l,y:b-l,width:2*l,height:2*l}))}}])})(V.Component);_h(Th,"displayName","ReferenceDot");_h(Th,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_h(Th,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):De(e)?r=e(t):r=V.createElement(Nh,vb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jb.apply(this,arguments)}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(a){Rh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i3(a.key),a)}}function AX(e,t,r){return t&&CX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PX(e,t,r){return t=If(t),EX(e,s3()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function EX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _X(e)}function _X(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function TX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wb(e,t)}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wb(e,t)}function Rh(e,t,r){return t=i3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3(e){var t=RX(e,"string");return go(t)=="symbol"?t:t+""}function RX(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(go(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MX=function(t,r,a,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var g=Hj({x:p.scale,y:m.scale}),b={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(d,{position:"start"}):g.y.rangeMin},v={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Cn(i,"discard")&&(!g.isInRange(b)||!g.isInRange(v))?null:HT(b,v)},Mh=(function(e){function t(){return OX(this,t),PX(this,t,arguments)}return TX(t,e),AX(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,f=a.alwaysShow,p=a.clipPathId;un(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Rt(s),g=Rt(i),b=Rt(l),v=Rt(u),j=this.props.shape;if(!m&&!g&&!b&&!v&&!j)return null;var y=MX(m,g,b,v,this.props);if(!y&&!j)return null;var k=Cn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return V.createElement(Ve,{className:ze("recharts-reference-area",d)},t.renderRect(j,NP(NP({clipPath:k},_e(this.props,!0)),y)),qt.renderCallByParent(this.props,y))}}])})(V.Component);Rh(Mh,"displayName","ReferenceArea");Rh(Mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rh(Mh,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):De(e)?r=e(t):r=V.createElement(Kj,jb({},t,{className:"recharts-reference-area-rect"})),r});function o3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function IX(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return BY(a,r)}function $X(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function $f(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function DX(e,t){return o3(e,t+1)}function LX(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,m=function(){var v=a==null?void 0:a[d];if(v===void 0)return{v:o3(a,f)};var j=d,y,k=function(){return y===void 0&&(y=r(v,j)),y},A=v.coordinate,_=d===0||$f(e,A,k,p,u);_||(d=0,p=l,f+=1),_&&(p=A+e*(k()/2+s),d+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(a){FX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FX(e,t,r){return t=BX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=qX(e,"string");return Tc(t)=="symbol"?t:t+""}function qX(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zX(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(g){var b=i[g],v,j=function(){return v===void 0&&(v=r(b,g)),v};if(g===l-1){var y=e*(b.coordinate+e*j()/2-d);i[g]=b=Jt(Jt({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else i[g]=b=Jt(Jt({},b),{},{tickCoord:b.coordinate});var k=$f(e,b.tickCoord,j,u,d);k&&(d=b.tickCoord-e*(j()/2+s),i[g]=Jt(Jt({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return i}function UX(e,t,r,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var p=a[u-1],m=r(p,u-1),g=e*(p.coordinate+e*m/2-f);l[u-1]=p=Jt(Jt({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var b=$f(e,p.tickCoord,function(){return m},d,f);b&&(f=p.tickCoord-e*(m/2+s),l[u-1]=Jt(Jt({},p),{},{isShow:!0}))}for(var v=i?u-1:u,j=function(A){var _=l[A],O,w=function(){return O===void 0&&(O=r(_,A)),O};if(A===0){var C=e*(_.coordinate-e*w()/2-d);l[A]=_=Jt(Jt({},_),{},{tickCoord:C<0?_.coordinate-C*e:_.coordinate})}else l[A]=_=Jt(Jt({},_),{},{tickCoord:_.coordinate});var P=$f(e,_.tickCoord,w,d,f);P&&(d=_.tickCoord+e*(w()/2+s),l[A]=Jt(Jt({},_),{},{isShow:!0}))},y=0;y<v;y++)j(y);return l}function Zj(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(xe(d)||Ys.isSsr)return DX(s,typeof d=="number"&&xe(d)?d:0);var g=[],b=u==="top"||u==="bottom"?"width":"height",v=p&&b==="width"?Wl(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=function(_,O){var w=De(f)?f(_.value,O):_.value;return b==="width"?IX(Wl(w,{fontSize:t,letterSpacing:r}),v,m):Wl(w,{fontSize:t,letterSpacing:r})[b]},y=s.length>=2?sr(s[1].coordinate-s[0].coordinate):1,k=$X(i,y,b);return d==="equidistantPreserveStart"?LX(y,k,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=UX(y,k,j,s,l,d==="preserveStartEnd"):g=zX(y,k,j,s,l),g.filter(function(A){return A.isShow}))}var WX=["viewBox"],KX=["viewBox"],HX=["ticks"];function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ri.apply(this,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(a){ew(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Iy(e,t){if(e==null)return{};var r=GX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function VX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c3(a.key),a)}}function QX(e,t,r){return t&&OP(e.prototype,t),r&&OP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YX(e,t,r){return t=Df(t),XX(e,l3()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function XX(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(e)}function JX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function ZX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nb(e,t)}function Nb(e,t){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Nb(e,t)}function ew(e,t,r){return t=c3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3(e){var t=eJ(e,"string");return xo(t)=="symbol"?t:t+""}function eJ(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Do=(function(e){function t(r){var a;return VX(this,t),a=YX(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return ZX(t,e),QX(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Iy(a,WX),u=this.props,d=u.viewBox,f=Iy(u,KX);return!Ii(i,d)||!Ii(l,f)||!Ii(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,m=s.mirror,g=s.tickMargin,b,v,j,y,k,A,_=m?-1:1,O=a.tickSize||p,w=xe(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":b=v=a.coordinate,y=l+ +!m*d,j=y-_*O,A=j-_*g,k=w;break;case"left":j=y=a.coordinate,v=i+ +!m*u,b=v-_*O,k=b-_*g,A=w;break;case"right":j=y=a.coordinate,v=i+ +m*u,b=v+_*O,k=b+_*g,A=w;break;default:b=v=a.coordinate,y=l+ +m*d,j=y+_*O,A=j+_*g,k=w;break}return{line:{x1:b,y1:j,x2:v,y2:y},tick:{x:k,y:A}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,f=a.mirror,p=a.axisLine,m=At(At(At({},_e(this.props,!1)),_e(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=At(At({},m),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);m=At(At({},m),{},{x1:s+b*l,y1:i,x2:s+b*l,y2:i+u})}return V.createElement("line",Ri({},m,{className:ze("recharts-cartesian-axis-line",Er(p,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,g=u.unit,b=Zj(At(At({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),y=_e(this.props,!1),k=_e(p,!1),A=At(At({},y),{},{fill:"none"},_e(d,!1)),_=b.map(function(O,w){var C=l.getTickLineCoord(O),P=C.line,R=C.tick,I=At(At(At(At({textAnchor:v,verticalAnchor:j},y),{},{stroke:"none",fill:f},k),R),{},{index:w,payload:O,visibleTicksCount:b.length,tickFormatter:m});return V.createElement(Ve,Ri({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},qs(l.props,O,w)),d&&V.createElement("line",Ri({},A,P,{className:ze("recharts-cartesian-axis-tick-line",Er(d,"className"))})),p&&t.renderTickItem(p,I,"".concat(De(m)?m(O.value,w):O.value).concat(g||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,p=s.hide;if(p)return null;var m=this.props,g=m.ticks,b=Iy(m,HX),v=g;return De(d)&&(v=g&&g.length>0?d(this.props):d(b)),l<=0||u<=0||!v||!v.length?null:V.createElement(Ve,{className:ze("recharts-cartesian-axis",f),ref:function(y){a.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=ze(s.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(a)?l=V.cloneElement(a,At(At({},s),{},{className:u})):De(a)?l=a(At(At({},s),{},{className:u})):l=V.createElement(zs,Ri({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(S.Component);ew(Do,"displayName","CartesianAxis");ew(Do,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tJ=["x1","y1","x2","y2","key"],rJ=["offset"];function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(a){nJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nJ(e,t,r){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=sJ(e,"string");return Ks(t)=="symbol"?t:t+""}function sJ(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ks(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ss.apply(this,arguments)}function AP(e,t){if(e==null)return{};var r=iJ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var oJ=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function u3(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(De(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=AP(t,tJ),f=_e(d,!1);f.offset;var p=AP(f,rJ);r=V.createElement("line",Ss({},p,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return r}function lJ(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Zt(Zt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return u3(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function cJ(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=Zt(Zt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return u3(s,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function uJ(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,b){return g-b});s!==p[0]&&p.unshift(0);var m=p.map(function(g,b){var v=!p[b+1],j=v?s+l-g:p[b+1]-g;if(j<=0)return null;var y=b%t.length;return V.createElement("rect",{key:"react-".concat(b),y:g,x:a,height:j,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function dJ(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var p=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==p[0]&&p.unshift(0);var m=p.map(function(g,b){var v=!p[b+1],j=v?i+u-g:p[b+1]-g;if(j<=0)return null;var y=b%a.length;return V.createElement("rect",{key:"react-".concat(b),x:g,y:l,width:j,height:d,stroke:"none",fill:a[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var fJ=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return uT(Zj(Zt(Zt(Zt({},Do.defaultProps),a),{},{ticks:Xn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},hJ=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return uT(Zj(Zt(Zt(Zt({},Do.defaultProps),a),{},{ticks:Xn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},Ci={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tw(e){var t,r,a,s,i,l,u=Qj(),d=Yj(),f=eX(),p=Zt(Zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ci.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ci.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Ci.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ci.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ci.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Ci.verticalFill,x:xe(e.x)?e.x:f.left,y:xe(e.y)?e.y:f.top,width:xe(e.width)?e.width:f.width,height:xe(e.height)?e.height:f.height}),m=p.x,g=p.y,b=p.width,v=p.height,j=p.syncWithTicks,y=p.horizontalValues,k=p.verticalValues,A=XY(),_=JY();if(!xe(b)||b<=0||!xe(v)||v<=0||!xe(m)||m!==+m||!xe(g)||g!==+g)return null;var O=p.verticalCoordinatesGenerator||fJ,w=p.horizontalCoordinatesGenerator||hJ,C=p.horizontalPoints,P=p.verticalPoints;if((!C||!C.length)&&De(w)){var R=y&&y.length,I=w({yAxis:_?Zt(Zt({},_),{},{ticks:R?y:_.ticks}):void 0,width:u,height:d,offset:f},R?!0:j);un(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ks(I),"]")),Array.isArray(I)&&(C=I)}if((!P||!P.length)&&De(O)){var $=k&&k.length,T=O({xAxis:A?Zt(Zt({},A),{},{ticks:$?k:A.ticks}):void 0,width:u,height:d,offset:f},$?!0:j);un(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ks(T),"]")),Array.isArray(T)&&(P=T)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(oJ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),V.createElement(lJ,Ss({},p,{offset:f,horizontalPoints:C,xAxis:A,yAxis:_})),V.createElement(cJ,Ss({},p,{offset:f,verticalPoints:P,xAxis:A,yAxis:_})),V.createElement(uJ,Ss({},p,{horizontalPoints:C})),V.createElement(dJ,Ss({},p,{verticalPoints:P})))}tw.displayName="CartesianGrid";var mJ=["type","layout","connectNulls","ref"],pJ=["key"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function PP(e,t){if(e==null)return{};var r=gJ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yl.apply(this,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(a){ln(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ai(e){return bJ(e)||vJ(e)||yJ(e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function vJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bJ(e){if(Array.isArray(e))return Sb(e)}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f3(a.key),a)}}function wJ(e,t,r){return t&&_P(e.prototype,t),r&&_P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=Lf(t),SJ(e,d3()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function SJ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kJ(e)}function kJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function OJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kb(e,t)}function kb(e,t){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kb(e,t)}function ln(e,t,r){return t=f3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=CJ(e,"string");return yo(t)=="symbol"?t:t+""}function CJ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vo=(function(e){function t(){var r;jJ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=NJ(this,t,[].concat(s)),ln(r,"state",{isAnimationFinished:!0,totalLength:0}),ln(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),ln(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(k,A){return k+A});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),m=l%f,g=u-l,b=[],v=0,j=0;v<d.length;j+=d[v],++v)if(j+d[v]>m){b=[].concat(Ai(d.slice(0,v)),[m-j]);break}var y=b.length%2===0?[0,g]:[g];return[].concat(Ai(t.repeat(d,p)),Ai(b),y).map(function(k){return"".concat(k,"px")}).join(", ")}),ln(r,"id",To("recharts-line-")),ln(r,"pathRef",function(l){r.mainCurve=l}),ln(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ln(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return OJ(t,e),wJ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=_r(p,eu);if(!m)return null;var g=function(j,y){return{x:j.x,y:j.y,value:j.value,errorVal:_t(j.payload,y)}},b={clipPath:a?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ve,b,m.map(function(v){return V.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=_e(this.props,!1),g=_e(d,!0),b=f.map(function(j,y){var k=kr(kr(kr({key:"dot-".concat(y),r:3},m),g),{},{index:y,cx:j.x,cy:j.y,value:j.value,dataKey:p,payload:j.payload,points:f});return t.renderDotItem(d,k)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return V.createElement(Ve,Yl({className:"recharts-line-dots",key:"dots"},v),b)}},{key:"renderCurveStatically",value:function(a,s,i,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=PP(u,mJ),g=kr(kr(kr({},_e(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:d,layout:f,connectNulls:p});return V.createElement(xf,Yl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,b=l.animationId,v=l.animateNewValues,j=l.width,y=l.height,k=this.state,A=k.prevPoints,_=k.totalLength;return V.createElement(Pn,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var w=O.t;if(A){var C=A.length/u.length,P=u.map(function(M,K){var Y=Math.floor(K*C);if(A[Y]){var U=A[Y],B=Ar(U.x,M.x),L=Ar(U.y,M.y);return kr(kr({},M),{},{x:B(w),y:L(w)})}if(v){var W=Ar(j*2,M.x),X=Ar(y/2,M.y);return kr(kr({},M),{},{x:W(w),y:X(w)})}return kr(kr({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(P,a,s)}var R=Ar(0,_),I=R(w),$;if(d){var T="".concat(d).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});$=i.getStrokeDasharray(I,_,T)}else $=i.generateSimpleStrokeDasharray(_,I);return i.renderCurveStatically(u,a,s,{strokeDasharray:$})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!Zc(f,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,p=s.yAxis,m=s.top,g=s.left,b=s.width,v=s.height,j=s.isAnimationActive,y=s.id;if(i||!u||!u.length)return null;var k=this.state.isAnimationFinished,A=u.length===1,_=ze("recharts-line",d),O=f&&f.allowDataOverflow,w=p&&p.allowDataOverflow,C=O||w,P=Fe(y)?this.id:y,R=(a=_e(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},I=R.r,$=I===void 0?3:I,T=R.strokeWidth,M=T===void 0?2:T,K=rF(l)?l:{},Y=K.clipDot,U=Y===void 0?!0:Y,B=$*2+M;return V.createElement(Ve,{className:_},O||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:O?g:g-b/2,y:w?m:m-v/2,width:O?b:b*2,height:w?v:v*2})),!U&&V.createElement("clipPath",{id:"clipPath-dots-".concat(P)},V.createElement("rect",{x:g-B/2,y:m-B/2,width:b+B,height:v+B}))):null,!A&&this.renderCurve(C,P),this.renderErrorBar(C,P),(A||l)&&this.renderDots(C,U,P),(!j||k)&&ea.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Ai(a),[0]):a,l=[],u=0;u<s;++u)l=[].concat(Ai(l),Ai(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(V.isValidElement(a))i=V.cloneElement(a,s);else if(De(a))i=a(s);else{var l=s.key,u=PP(s,pJ),d=ze("recharts-line-dot",typeof a!="boolean"?a.className:"");i=V.createElement(Nh,Yl({key:l},u,{className:d}))}return i}}])})(S.PureComponent);ln(vo,"displayName","Line");ln(vo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ys.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ln(vo,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(g,b){var v=_t(g,l);return p==="horizontal"?{x:$5({axis:r,ticks:s,bandSize:u,entry:g,index:b}),y:Fe(v)?null:a.scale(v),value:v,payload:g}:{x:Fe(v)?null:r.scale(v),y:$5({axis:a,ticks:i,bandSize:u,entry:g,index:b}),value:v,payload:g}});return kr({points:m,layout:p},f)});function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function AJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p3(a.key),a)}}function EJ(e,t,r){return t&&PJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _J(e,t,r){return t=Ff(t),TJ(e,h3()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function TJ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(e)}function RJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h3=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function MJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ob(e,t)}function m3(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e){var t=IJ(e,"string");return bo(t)=="symbol"?t:t+""}function IJ(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cb.apply(this,arguments)}function $J(e){var t=e.xAxisId,r=Qj(),a=Yj(),s=ZT(t);return s==null?null:S.createElement(Do,Cb({},s,{className:ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Xn(l,!0)}}))}var Lo=(function(e){function t(){return AJ(this,t),_J(this,t,arguments)}return MJ(t,e),EJ(t,[{key:"render",value:function(){return S.createElement($J,this.props)}}])})(S.Component);m3(Lo,"displayName","XAxis");m3(Lo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function DJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,y3(a.key),a)}}function FJ(e,t,r){return t&&LJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BJ(e,t,r){return t=Bf(t),qJ(e,g3()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function qJ(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zJ(e)}function zJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function UJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ab(e,t)}function x3(e,t,r){return t=y3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3(e){var t=WJ(e,"string");return jo(t)=="symbol"?t:t+""}function WJ(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pb.apply(this,arguments)}var KJ=function(t){var r=t.yAxisId,a=Qj(),s=Yj(),i=e3(r);return i==null?null:S.createElement(Do,Pb({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return Xn(u,!0)}}))},Fo=(function(e){function t(){return DJ(this,t),BJ(this,t,arguments)}return UJ(t,e),FJ(t,[{key:"render",value:function(){return S.createElement(KJ,this.props)}}])})(S.Component);x3(Fo,"displayName","YAxis");x3(Fo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TP(e){return QJ(e)||VJ(e)||GJ(e)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function VJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QJ(e){if(Array.isArray(e))return Eb(e)}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var _b=function(t,r,a,s,i){var l=_r(t,Jj),u=_r(t,Th),d=[].concat(TP(l),TP(u)),f=_r(t,Mh),p="".concat(s,"Id"),m=s[0],g=r;if(d.length&&(g=d.reduce(function(j,y){if(y.props[p]===a&&Cn(y.props,"extendDomain")&&xe(y.props[m])){var k=y.props[m];return[Math.min(j[0],k),Math.max(j[1],k)]}return j},g)),f.length){var b="".concat(m,"1"),v="".concat(m,"2");g=f.reduce(function(j,y){if(y.props[p]===a&&Cn(y.props,"extendDomain")&&xe(y.props[b])&&xe(y.props[v])){var k=y.props[b],A=y.props[v];return[Math.min(j[0],k,A),Math.max(j[1],k,A)]}return j},g)}return i&&i.length&&(g=i.reduce(function(j,y){return xe(y)?[Math.min(j[0],y),Math.max(j[1],y)]:j},g)),g},$y={exports:{}},RP;function YJ(){return RP||(RP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,m||d,g),v=r?r+f:f;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],b]:d._events[v].push(b):(d._events[v]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new a:delete d._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,b=m.length,v=new Array(b);g<b;g++)v[g]=m[g].fn;return v},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,g,b,v){var j=r?r+f:f;if(!this._events[j])return!1;var y=this._events[j],k=arguments.length,A,_;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),k){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,g),!0;case 5:return y.fn.call(y.context,p,m,g,b),!0;case 6:return y.fn.call(y.context,p,m,g,b,v),!0}for(_=1,A=new Array(k-1);_<k;_++)A[_-1]=arguments[_];y.fn.apply(y.context,A)}else{var O=y.length,w;for(_=0;_<O;_++)switch(y[_].once&&this.removeListener(f,y[_].fn,void 0,!0),k){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,p);break;case 3:y[_].fn.call(y[_].context,p,m);break;case 4:y[_].fn.call(y[_].context,p,m,g);break;default:if(!A)for(w=1,A=new Array(k-1);w<k;w++)A[w-1]=arguments[w];y[_].fn.apply(y[_].context,A)}}return!0},u.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,g){var b=r?r+f:f;if(!this._events[b])return this;if(!p)return l(this,b),this;var v=this._events[b];if(v.fn)v.fn===p&&(!g||v.once)&&(!m||v.context===m)&&l(this,b);else{for(var j=0,y=[],k=v.length;j<k;j++)(v[j].fn!==p||g&&!v[j].once||m&&v[j].context!==m)&&y.push(v[j]);y.length?this._events[b]=y.length===1?y[0]:y:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})($y)),$y.exports}var XJ=YJ();const JJ=Ze(XJ);var Dy=new JJ,Ly="recharts.syncMouseEvents";function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,v3(a.key),a)}}function tZ(e,t,r){return t&&eZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fy(e,t,r){return t=v3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3(e){var t=rZ(e,"string");return Rc(t)=="symbol"?t:t+""}function rZ(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nZ=(function(){function e(){ZJ(this,e),Fy(this,"activeIndex",0),Fy(this,"coordinateList",[]),Fy(this,"layout","horizontal")}return tZ(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+d+f,g=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function aZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&xe(a)&&xe(s))return!0}return!1}function sZ(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function b3(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=ot(t,r,a,s),u=ot(t,r,a,i);return{points:[l,u],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function iZ(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,g=ot(u,d,f,m),b=ot(u,d,p,m);a=g.x,s=g.y,i=b.x,l=b.y}else return b3(t);return[{x:a,y:s},{x:i,y:l}]}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(a){oZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oZ(e,t,r){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=cZ(e,"string");return Mc(t)=="symbol"?t:t+""}function cZ(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uZ(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,b=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!b||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var v,j=xf;if(g==="ScatterChart")v=l,j=TV;else if(g==="BarChart")v=sZ(m,l,d,p),j=Kj;else if(m==="radial"){var y=b3(l),k=y.cx,A=y.cy,_=y.radius,O=y.startAngle,w=y.endAngle;v={cx:k,cy:A,startAngle:O,endAngle:w,innerRadius:_,outerRadius:_},j=jT}else v={points:iZ(m,l,d)},j=xf;var C=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},d),v),_e(b,!1)),{},{payload:u,payloadIndex:f,className:ze("recharts-tooltip-cursor",b.className)});return S.isValidElement(b)?S.cloneElement(b,C):S.createElement(j,C)}var dZ=["item"],fZ=["children","className","width","height","style","compact","title","desc"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mi.apply(this,arguments)}function IP(e,t){return pZ(e)||mZ(e,t)||w3(e,t)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pZ(e){if(Array.isArray(e))return e}function $P(e,t){if(e==null)return{};var r=gZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function xZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yZ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,N3(a.key),a)}}function vZ(e,t,r){return t&&yZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bZ(e,t,r){return t=qf(t),jZ(e,j3()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function jZ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(e)}function wZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function NZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tb(e,t)}function No(e){return OZ(e)||kZ(e)||w3(e)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3(e,t){if(e){if(typeof e=="string")return Rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rb(e,t)}}function kZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OZ(e){if(Array.isArray(e))return Rb(e)}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(a){Te(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Te(e,t,r){return t=N3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=CZ(e,"string");return wo(t)=="symbol"?t:t+""}function CZ(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(wo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AZ={xAxis:["bottom","top"],yAxis:["left","right"]},PZ={width:"100%",height:"100%"},S3={x:0,y:0};function _d(e){return e}var EZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_Z=function(t,r,a,s){var i=r.find(function(p){return p&&p.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return ce(ce(ce({},s),ot(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return ce(ce(ce({},s),ot(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return S3},Ih=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(No(u),No(f)):u},[]);return l.length>0?l:t&&t.length&&xe(s)&&xe(i)?t.slice(s,i+1):[]};function k3(e){return e==="number"?[0,"auto"]:void 0}var Mb=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=Ih(r,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var b=m===void 0?u:m;g=qd(b,l.dataKey,s)}else g=m&&m[a]||u[a];return g?[].concat(No(d),[pT(f,g)]):d},[])},LP=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=EZ(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=ZW(l,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,g=Mb(t,r,p,m),b=_Z(a,u,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:b}}return null},TZ=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,b=cT(p,i);return a.reduce(function(v,j){var y,k=j.type.defaultProps!==void 0?ce(ce({},j.type.defaultProps),j.props):j.props,A=k.type,_=k.dataKey,O=k.allowDataOverflow,w=k.allowDuplicatedCategory,C=k.scale,P=k.ticks,R=k.includeHidden,I=k[l];if(v[I])return v;var $=Ih(t.data,{graphicalItems:s.filter(function(F){var G,ee=l in F.props?F.props[l]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[l];return ee===I}),dataStartIndex:d,dataEndIndex:f}),T=$.length,M,K,Y;aZ(k.domain,O,A)&&(M=Vv(k.domain,null,O),b&&(A==="number"||C!=="auto")&&(Y=Hl($,_,"category")));var U=k3(A);if(!M||M.length===0){var B,L=(B=k.domain)!==null&&B!==void 0?B:U;if(_){if(M=Hl($,_,A),A==="category"&&b){var W=HL(M);w&&W?(K=M,M=Af(0,T)):w||(M=B5(L,M,j).reduce(function(F,G){return F.indexOf(G)>=0?F:[].concat(No(F),[G])},[]))}else if(A==="category")w?M=M.filter(function(F){return F!==""&&!Fe(F)}):M=B5(L,M,j).reduce(function(F,G){return F.indexOf(G)>=0||G===""||Fe(G)?F:[].concat(No(F),[G])},[]);else if(A==="number"){var X=aK($,s.filter(function(F){var G,ee,de=l in F.props?F.props[l]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[l],oe="hide"in F.props?F.props.hide:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return de===I&&(R||!oe)}),_,i,p);X&&(M=X)}b&&(A==="number"||C!=="auto")&&(Y=Hl($,_,"category"))}else b?M=Af(0,T):u&&u[I]&&u[I].hasStack&&A==="number"?M=g==="expand"?[0,1]:mT(u[I].stackGroups,d,f):M=lT($,s.filter(function(F){var G=l in F.props?F.props[l]:F.type.defaultProps[l],ee="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return G===I&&(R||!ee)}),A,p,!0);if(A==="number")M=_b(m,M,I,i,P),L&&(M=Vv(L,M,O));else if(A==="category"&&L){var z=L,q=M.every(function(F){return z.indexOf(F)>=0});q&&(M=z)}}return ce(ce({},v),{},Te({},I,ce(ce({},k),{},{axisType:i,domain:M,categoricalDomain:Y,duplicateDomain:K,originalDomain:(y=k.domain)!==null&&y!==void 0?y:U,isCategorical:b,layout:p})))},{})},RZ=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=Ih(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:f}),b=g.length,v=cT(p,i),j=-1;return a.reduce(function(y,k){var A=k.type.defaultProps!==void 0?ce(ce({},k.type.defaultProps),k.props):k.props,_=A[l],O=k3("number");if(!y[_]){j++;var w;return v?w=Af(0,b):u&&u[_]&&u[_].hasStack?(w=mT(u[_].stackGroups,d,f),w=_b(m,w,_,i)):(w=Vv(O,lT(g,a.filter(function(C){var P,R,I=l in C.props?C.props[l]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[l],$="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===_&&!$}),"number",p),s.defaultProps.allowDataOverflow),w=_b(m,w,_,i)),ce(ce({},y),{},Te({},_,ce(ce({axisType:i},s.defaultProps),{},{hide:!0,orientation:Er(AZ,"".concat(i,".").concat(j%2),null),domain:w,originalDomain:O,isCategorical:v,layout:p})))}return y},{})},MZ=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(s,"Id"),g=_r(p,i),b={};return g&&g.length?b=TZ(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=RZ(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},IZ=function(t){var r=Ta(t),a=Xn(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:xj(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mf(r,a)}},FP=function(t){var r=t.children,a=t.defaultShowTooltip,s=Cr(r,fo),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},$Z=function(t){return!t||!t.length?!1:t.some(function(r){var a=Jn(r&&r.type);return a&&a.indexOf("Bar")>=0})},BP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DZ=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=a.width,p=a.height,m=a.children,g=a.margin||{},b=Cr(m,fo),v=Cr(m,Ha),j=Object.keys(d).reduce(function(w,C){var P=d[C],R=P.orientation;return!P.mirror&&!P.hide?ce(ce({},w),{},Te({},R,w[R]+P.width)):w},{left:g.left||0,right:g.right||0}),y=Object.keys(l).reduce(function(w,C){var P=l[C],R=P.orientation;return!P.mirror&&!P.hide?ce(ce({},w),{},Te({},R,Er(w,"".concat(R))+P.height)):w},{top:g.top||0,bottom:g.bottom||0}),k=ce(ce({},y),j),A=k.bottom;b&&(k.bottom+=b.props.height||fo.defaultProps.height),v&&r&&(k=rK(k,s,a,r));var _=f-k.left-k.right,O=p-k.top-k.bottom;return ce(ce({brushBottom:A},k),{},{width:Math.max(_,0),height:Math.max(O,0)})},LZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rw=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(k,A){var _=A.graphicalItems,O=A.stackGroups,w=A.offset,C=A.updateId,P=A.dataStartIndex,R=A.dataEndIndex,I=k.barSize,$=k.layout,T=k.barGap,M=k.barCategoryGap,K=k.maxBarSize,Y=BP($),U=Y.numericAxisName,B=Y.cateAxisName,L=$Z(_),W=[];return _.forEach(function(X,z){var q=Ih(k.data,{graphicalItems:[X],dataStartIndex:P,dataEndIndex:R}),F=X.type.defaultProps!==void 0?ce(ce({},X.type.defaultProps),X.props):X.props,G=F.dataKey,ee=F.maxBarSize,de=F["".concat(U,"Id")],oe=F["".concat(B,"Id")],ne={},pe=d.reduce(function(lr,Qr){var ei=A["".concat(Qr.axisType,"Map")],Bo=F["".concat(Qr.axisType,"Id")];ei&&ei[Bo]||Qr.axisType==="zAxis"||Ws();var qo=ei[Bo];return ce(ce({},lr),{},Te(Te({},Qr.axisType,qo),"".concat(Qr.axisType,"Ticks"),Xn(qo)))},ne),ue=pe[B],Ce=pe["".concat(B,"Ticks")],Me=O&&O[de]&&O[de].hasStack&&hK(X,O[de].stackGroups),te=Jn(X.type).indexOf("Bar")>=0,be=mf(ue,Ce),je=[],tt=L&&eK({barSize:I,stackGroups:O,totalSize:LZ(pe,B)});if(te){var pt,It,Vr=Fe(ee)?K:ee,hn=(pt=(It=mf(ue,Ce,!0))!==null&&It!==void 0?It:Vr)!==null&&pt!==void 0?pt:0;je=tK({barGap:T,barCategoryGap:M,bandSize:hn!==be?hn:be,sizeList:tt[oe],maxBarSize:Vr}),hn!==be&&(je=je.map(function(lr){return ce(ce({},lr),{},{position:ce(ce({},lr.position),{},{offset:lr.position.offset-hn/2})})}))}var mn=X&&X.type&&X.type.getComposedData;mn&&W.push({props:ce(ce({},mn(ce(ce({},pe),{},{displayedData:q,props:k,dataKey:G,item:X,bandSize:be,barPosition:je,offset:w,stackedData:Me,layout:$,dataStartIndex:P,dataEndIndex:R}))),{},Te(Te(Te({key:X.key||"item-".concat(z)},U,pe[U]),B,pe[B]),"animationId",C)),childIndex:sF(X,k.children),item:X})}),W},b=function(k,A){var _=k.props,O=k.dataStartIndex,w=k.dataEndIndex,C=k.updateId;if(!ek({props:_}))return null;var P=_.children,R=_.layout,I=_.stackOffset,$=_.data,T=_.reverseStackOrder,M=BP(R),K=M.numericAxisName,Y=M.cateAxisName,U=_r(P,a),B=dK($,U,"".concat(K,"Id"),"".concat(Y,"Id"),I,T),L=d.reduce(function(F,G){var ee="".concat(G.axisType,"Map");return ce(ce({},F),{},Te({},ee,MZ(_,ce(ce({},G),{},{graphicalItems:U,stackGroups:G.axisType===K&&B,dataStartIndex:O,dataEndIndex:w}))))},{}),W=DZ(ce(ce({},L),{},{props:_,graphicalItems:U}),A==null?void 0:A.legendBBox);Object.keys(L).forEach(function(F){L[F]=p(_,L[F],W,F.replace("Map",""),r)});var X=L["".concat(Y,"Map")],z=IZ(X),q=g(_,ce(ce({},L),{},{dataStartIndex:O,dataEndIndex:w,updateId:C,graphicalItems:U,stackGroups:B,offset:W}));return ce(ce({formattedGraphicalItems:q,graphicalItems:U,offset:W,stackGroups:B},z),L)},v=(function(y){function k(A){var _,O,w;return xZ(this,k),w=bZ(this,k,[A]),Te(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(w,"accessibilityManager",new nZ),Te(w,"handleLegendBBoxUpdate",function(C){if(C){var P=w.state,R=P.dataStartIndex,I=P.dataEndIndex,$=P.updateId;w.setState(ce({legendBBox:C},b({props:w.props,dataStartIndex:R,dataEndIndex:I,updateId:$},ce(ce({},w.state),{},{legendBBox:C}))))}}),Te(w,"handleReceiveSyncEvent",function(C,P,R){if(w.props.syncId===C){if(R===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),Te(w,"handleBrushChange",function(C){var P=C.startIndex,R=C.endIndex;if(P!==w.state.dataStartIndex||R!==w.state.dataEndIndex){var I=w.state.updateId;w.setState(function(){return ce({dataStartIndex:P,dataEndIndex:R},b({props:w.props,dataStartIndex:P,dataEndIndex:R,updateId:I},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),Te(w,"handleMouseEnter",function(C){var P=w.getMouseInfo(C);if(P){var R=ce(ce({},P),{},{isTooltipActive:!0});w.setState(R),w.triggerSyncEvent(R);var I=w.props.onMouseEnter;De(I)&&I(R,C)}}),Te(w,"triggeredAfterMouseMove",function(C){var P=w.getMouseInfo(C),R=P?ce(ce({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(R),w.triggerSyncEvent(R);var I=w.props.onMouseMove;De(I)&&I(R,C)}),Te(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Te(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Te(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),Te(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var R=w.props.onMouseLeave;De(R)&&R(P,C)}),Te(w,"handleOuterEvent",function(C){var P=aF(C),R=Er(w.props,"".concat(P));if(P&&De(R)){var I,$;/.*touch.*/i.test(P)?$=w.getMouseInfo(C.changedTouches[0]):$=w.getMouseInfo(C),R((I=$)!==null&&I!==void 0?I:{},C)}}),Te(w,"handleClick",function(C){var P=w.getMouseInfo(C);if(P){var R=ce(ce({},P),{},{isTooltipActive:!0});w.setState(R),w.triggerSyncEvent(R);var I=w.props.onClick;De(I)&&I(R,C)}}),Te(w,"handleMouseDown",function(C){var P=w.props.onMouseDown;if(De(P)){var R=w.getMouseInfo(C);P(R,C)}}),Te(w,"handleMouseUp",function(C){var P=w.props.onMouseUp;if(De(P)){var R=w.getMouseInfo(C);P(R,C)}}),Te(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Te(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Te(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Te(w,"handleDoubleClick",function(C){var P=w.props.onDoubleClick;if(De(P)){var R=w.getMouseInfo(C);P(R,C)}}),Te(w,"handleContextMenu",function(C){var P=w.props.onContextMenu;if(De(P)){var R=w.getMouseInfo(C);P(R,C)}}),Te(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&Dy.emit(Ly,w.props.syncId,C,w.eventEmitterSymbol)}),Te(w,"applySyncEvent",function(C){var P=w.props,R=P.layout,I=P.syncMethod,$=w.state.updateId,T=C.dataStartIndex,M=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(ce({dataStartIndex:T,dataEndIndex:M},b({props:w.props,dataStartIndex:T,dataEndIndex:M,updateId:$},w.state)));else if(C.activeTooltipIndex!==void 0){var K=C.chartX,Y=C.chartY,U=C.activeTooltipIndex,B=w.state,L=B.offset,W=B.tooltipTicks;if(!L)return;if(typeof I=="function")U=I(W,C);else if(I==="value"){U=-1;for(var X=0;X<W.length;X++)if(W[X].value===C.activeLabel){U=X;break}}var z=ce(ce({},L),{},{x:L.left,y:L.top}),q=Math.min(K,z.x+z.width),F=Math.min(Y,z.y+z.height),G=W[U]&&W[U].value,ee=Mb(w.state,w.props.data,U),de=W[U]?{x:R==="horizontal"?W[U].coordinate:q,y:R==="horizontal"?F:W[U].coordinate}:S3;w.setState(ce(ce({},C),{},{activeLabel:G,activeCoordinate:de,activePayload:ee,activeTooltipIndex:U}))}else w.setState(C)}),Te(w,"renderCursor",function(C){var P,R=w.state,I=R.isTooltipActive,$=R.activeCoordinate,T=R.activePayload,M=R.offset,K=R.activeTooltipIndex,Y=R.tooltipAxisBandSize,U=w.getTooltipEventType(),B=(P=C.props.active)!==null&&P!==void 0?P:I,L=w.props.layout,W=C.key||"_recharts-cursor";return V.createElement(uZ,{key:W,activeCoordinate:$,activePayload:T,activeTooltipIndex:K,chartName:r,element:C,isActive:B,layout:L,offset:M,tooltipAxisBandSize:Y,tooltipEventType:U})}),Te(w,"renderPolarAxis",function(C,P,R){var I=Er(C,"type.axisType"),$=Er(w.state,"".concat(I,"Map")),T=C.type.defaultProps,M=T!==void 0?ce(ce({},T),C.props):C.props,K=$&&$[M["".concat(I,"Id")]];return S.cloneElement(C,ce(ce({},K),{},{className:ze(I,K.className),key:C.key||"".concat(P,"-").concat(R),ticks:Xn(K,!0)}))}),Te(w,"renderPolarGrid",function(C){var P=C.props,R=P.radialLines,I=P.polarAngles,$=P.polarRadius,T=w.state,M=T.radiusAxisMap,K=T.angleAxisMap,Y=Ta(M),U=Ta(K),B=U.cx,L=U.cy,W=U.innerRadius,X=U.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(I)?I:Xn(U,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray($)?$:Xn(Y,!0).map(function(z){return z.coordinate}),cx:B,cy:L,innerRadius:W,outerRadius:X,key:C.key||"polar-grid",radialLines:R})}),Te(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,P=w.props,R=P.children,I=P.width,$=P.height,T=w.props.margin||{},M=I-(T.left||0)-(T.right||0),K=iT({children:R,formattedGraphicalItems:C,legendWidth:M,legendContent:f});if(!K)return null;var Y=K.item,U=$P(K,dZ);return S.cloneElement(Y,ce(ce({},U),{},{chartWidth:I,chartHeight:$,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Te(w,"renderTooltip",function(){var C,P=w.props,R=P.children,I=P.accessibilityLayer,$=Cr(R,Ur);if(!$)return null;var T=w.state,M=T.isTooltipActive,K=T.activeCoordinate,Y=T.activePayload,U=T.activeLabel,B=T.offset,L=(C=$.props.active)!==null&&C!==void 0?C:M;return S.cloneElement($,{viewBox:ce(ce({},B),{},{x:B.left,y:B.top}),active:L,label:U,payload:L?Y:[],coordinate:K,accessibilityLayer:I})}),Te(w,"renderBrush",function(C){var P=w.props,R=P.margin,I=P.data,$=w.state,T=$.offset,M=$.dataStartIndex,K=$.dataEndIndex,Y=$.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Od(w.handleBrushChange,C.props.onChange),data:I,x:xe(C.props.x)?C.props.x:T.left,y:xe(C.props.y)?C.props.y:T.top+T.height+T.brushBottom-(R.bottom||0),width:xe(C.props.width)?C.props.width:T.width,startIndex:M,endIndex:K,updateId:"brush-".concat(Y)})}),Te(w,"renderReferenceElement",function(C,P,R){if(!C)return null;var I=w,$=I.clipPathId,T=w.state,M=T.xAxisMap,K=T.yAxisMap,Y=T.offset,U=C.type.defaultProps||{},B=C.props,L=B.xAxisId,W=L===void 0?U.xAxisId:L,X=B.yAxisId,z=X===void 0?U.yAxisId:X;return S.cloneElement(C,{key:C.key||"".concat(P,"-").concat(R),xAxis:M[W],yAxis:K[z],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:$})}),Te(w,"renderActivePoints",function(C){var P=C.item,R=C.activePoint,I=C.basePoint,$=C.childIndex,T=C.isRange,M=[],K=P.props.key,Y=P.item.type.defaultProps!==void 0?ce(ce({},P.item.type.defaultProps),P.item.props):P.item.props,U=Y.activeDot,B=Y.dataKey,L=ce(ce({index:$,dataKey:B,cx:R.x,cy:R.y,r:4,fill:Wj(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},_e(U,!1)),zd(U));return M.push(k.renderActiveDot(U,L,"".concat(K,"-activePoint-").concat($))),I?M.push(k.renderActiveDot(U,ce(ce({},L),{},{cx:I.x,cy:I.y}),"".concat(K,"-basePoint-").concat($))):T&&M.push(null),M}),Te(w,"renderGraphicChild",function(C,P,R){var I=w.filterFormatItem(C,P,R);if(!I)return null;var $=w.getTooltipEventType(),T=w.state,M=T.isTooltipActive,K=T.tooltipAxis,Y=T.activeTooltipIndex,U=T.activeLabel,B=w.props.children,L=Cr(B,Ur),W=I.props,X=W.points,z=W.isRange,q=W.baseLine,F=I.item.type.defaultProps!==void 0?ce(ce({},I.item.type.defaultProps),I.item.props):I.item.props,G=F.activeDot,ee=F.hide,de=F.activeBar,oe=F.activeShape,ne=!!(!ee&&M&&L&&(G||de||oe)),pe={};$!=="axis"&&L&&L.props.trigger==="click"?pe={onClick:Od(w.handleItemMouseEnter,C.props.onClick)}:$!=="axis"&&(pe={onMouseLeave:Od(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Od(w.handleItemMouseEnter,C.props.onMouseEnter)});var ue=S.cloneElement(C,ce(ce({},I.props),pe));function Ce(Qr){return typeof K.dataKey=="function"?K.dataKey(Qr.payload):null}if(ne)if(Y>=0){var Me,te;if(K.dataKey&&!K.allowDuplicatedCategory){var be=typeof K.dataKey=="function"?Ce:"payload.".concat(K.dataKey.toString());Me=qd(X,be,U),te=z&&q&&qd(q,be,U)}else Me=X==null?void 0:X[Y],te=z&&q&&q[Y];if(oe||de){var je=C.props.activeIndex!==void 0?C.props.activeIndex:Y;return[S.cloneElement(C,ce(ce(ce({},I.props),pe),{},{activeIndex:je})),null,null]}if(!Fe(Me))return[ue].concat(No(w.renderActivePoints({item:I,activePoint:Me,basePoint:te,childIndex:Y,isRange:z})))}else{var tt,pt=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ue},It=pt.graphicalItem,Vr=It.item,hn=Vr===void 0?C:Vr,mn=It.childIndex,lr=ce(ce(ce({},I.props),pe),{},{activeIndex:mn});return[S.cloneElement(hn,lr),null,null]}return z?[ue,null,null]:[ue,null]}),Te(w,"renderCustomized",function(C,P,R){return S.cloneElement(C,ce(ce({key:"recharts-customized-".concat(R)},w.props),w.state))}),Te(w,"renderMap",{CartesianGrid:{handler:_d,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:_d},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:_d},YAxis:{handler:_d},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=A.id)!==null&&_!==void 0?_:To("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=i4(w.triggeredAfterMouseMove,(O=A.throttleDelay)!==null&&O!==void 0?O:1e3/60),w.state={},w}return NZ(k,y),vZ(k,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,w=_.data,C=_.height,P=_.layout,R=Cr(O,Ur);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,T=Mb(this.state,w,I,$),M=this.state.tooltipTicks[I].coordinate,K=(this.state.offset.top+C)/2,Y=P==="horizontal",U=Y?{x:M,y:K}:{y:M,x:K},B=this.state.formattedGraphicalItems.find(function(W){var X=W.item;return X.type.name==="Scatter"});B&&(U=ce(ce({},U),B.props.points[I].tooltipPosition),T=B.props.points[I].tooltipPayload);var L={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:$,activePayload:T,activeCoordinate:U};this.setState(L),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){gv([Cr(_.children,Ur)],[Cr(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Cr(this.props.children,Ur);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return u.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,w=O.getBoundingClientRect(),C=KB(w),P={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},R=w.width/O.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,R);if(!I)return null;var $=this.state,T=$.xAxisMap,M=$.yAxisMap,K=this.getTooltipEventType(),Y=LP(this.state,this.props.data,this.props.layout,I);if(K!=="axis"&&T&&M){var U=Ta(T).scale,B=Ta(M).scale,L=U&&U.invert?U.invert(P.chartX):null,W=B&&B.invert?B.invert(P.chartY):null;return ce(ce({},P),{},{xValue:L,yValue:W},Y)}return Y?ce(ce({},P),Y):null}},{key:"inRange",value:function(_,O){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=_/w,R=O/w;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,$=P>=I.left&&P<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return $?{x:P,y:R}:null}var T=this.state,M=T.angleAxisMap,K=T.radiusAxisMap;if(M&&K){var Y=Ta(M);return U5({x:P,y:R},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),w=Cr(_,Ur),C={};w&&O==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=zd(this.props,this.handleOuterEvent);return ce(ce({},P),C)}},{key:"addListener",value:function(){Dy.on(Ly,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dy.removeListener(Ly,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,w){for(var C=this.state.formattedGraphicalItems,P=0,R=C.length;P<R;P++){var I=C[P];if(I.item===_||I.props.key===_.key||O===Jn(I.item.type)&&w===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,w=O.left,C=O.top,P=O.height,R=O.width;return V.createElement("defs",null,V.createElement("clipPath",{id:_},V.createElement("rect",{x:w,y:C,height:P,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,w){var C=IP(w,2),P=C[0],R=C[1];return ce(ce({},O),{},Te({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,w){var C=IP(w,2),P=C[0],R=C[1];return ce(ce({},O),{},Te({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,w=O.formattedGraphicalItems,C=O.activeItem;if(w&&w.length)for(var P=0,R=w.length;P<R;P++){var I=w[P],$=I.props,T=I.item,M=T.type.defaultProps!==void 0?ce(ce({},T.type.defaultProps),T.props):T.props,K=Jn(T.type);if(K==="Bar"){var Y=($.data||[]).find(function(W){return fV(_,W)});if(Y)return{graphicalItem:I,payload:Y}}else if(K==="RadialBar"){var U=($.data||[]).find(function(W){return U5(_,W)});if(U)return{graphicalItem:I,payload:U}}else if(Ah(I,C)||Ph(I,C)||Ac(I,C)){var B=IQ({graphicalItem:I,activeTooltipItem:C,itemData:M.data}),L=M.activeIndex===void 0?B:M.activeIndex;return{graphicalItem:ce(ce({},I),{},{childIndex:L}),payload:Ac(I,C)?M.data[B]:I.props.data[B]}}}return null}},{key:"render",value:function(){var _=this;if(!ek(this))return null;var O=this.props,w=O.children,C=O.className,P=O.width,R=O.height,I=O.style,$=O.compact,T=O.title,M=O.desc,K=$P(O,fZ),Y=_e(K,!1);if($)return V.createElement(gP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(yv,Mi({},Y,{width:P,height:R,title:T,desc:M}),this.renderClipPath(),rk(w,this.renderMap)));if(this.props.accessibilityLayer){var U,B;Y.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,Y.role=(B=this.props.role)!==null&&B!==void 0?B:"application",Y.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},Y.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return V.createElement(gP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Mi({className:ze("recharts-wrapper",C),style:ce({position:"relative",cursor:"default",width:P,height:R},I)},L,{ref:function(X){_.container=X}}),V.createElement(yv,Mi({},Y,{width:P,height:R,title:T,desc:M,style:PZ}),this.renderClipPath(),rk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);Te(v,"displayName",r),Te(v,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Te(v,"getDerivedStateFromProps",function(y,k){var A=y.dataKey,_=y.data,O=y.children,w=y.width,C=y.height,P=y.layout,R=y.stackOffset,I=y.margin,$=k.dataStartIndex,T=k.dataEndIndex;if(k.updateId===void 0){var M=FP(y);return ce(ce(ce({},M),{},{updateId:0},b(ce(ce({props:y},M),{},{updateId:0}),k)),{},{prevDataKey:A,prevData:_,prevWidth:w,prevHeight:C,prevLayout:P,prevStackOffset:R,prevMargin:I,prevChildren:O})}if(A!==k.prevDataKey||_!==k.prevData||w!==k.prevWidth||C!==k.prevHeight||P!==k.prevLayout||R!==k.prevStackOffset||!Ii(I,k.prevMargin)){var K=FP(y),Y={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},U=ce(ce({},LP(k,_,P)),{},{updateId:k.updateId+1}),B=ce(ce(ce({},K),Y),U);return ce(ce(ce({},B),b(ce({props:y},B),k)),{},{prevDataKey:A,prevData:_,prevWidth:w,prevHeight:C,prevLayout:P,prevStackOffset:R,prevMargin:I,prevChildren:O})}if(!gv(O,k.prevChildren)){var L,W,X,z,q=Cr(O,fo),F=q&&(L=(W=q.props)===null||W===void 0?void 0:W.startIndex)!==null&&L!==void 0?L:$,G=q&&(X=(z=q.props)===null||z===void 0?void 0:z.endIndex)!==null&&X!==void 0?X:T,ee=F!==$||G!==T,de=!Fe(_),oe=de&&!ee?k.updateId:k.updateId+1;return ce(ce({updateId:oe},b(ce(ce({props:y},k),{},{updateId:oe,dataStartIndex:F,dataEndIndex:G}),k)),{},{prevChildren:O,dataStartIndex:F,dataEndIndex:G})}return null}),Te(v,"renderActiveDot",function(y,k,A){var _;return S.isValidElement(y)?_=S.cloneElement(y,k):De(y)?_=y(k):_=V.createElement(Nh,k),V.createElement(Ve,{className:"recharts-active-dot",key:A},_)});var j=S.forwardRef(function(k,A){return V.createElement(v,Mi({},k,{ref:A}))});return j.displayName=v.displayName,j},FZ=rw({chartName:"LineChart",GraphicalChild:vo,axisComponents:[{axisType:"xAxis",AxisComp:Lo},{axisType:"yAxis",AxisComp:Fo}],formatAxisMap:KT}),BZ=rw({chartName:"BarChart",GraphicalChild:Va,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Lo},{axisType:"yAxis",AxisComp:Fo}],formatAxisMap:KT}),qZ=rw({chartName:"PieChart",GraphicalChild:ua,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ch},{axisType:"radiusAxis",AxisComp:kh}],formatAxisMap:NK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const qP=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],zZ=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function UZ({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:a=>a.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:a=>`${a}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:a=>`${a}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:a=>`$${(a/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:a=>a.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:a=>a.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(a=>n.jsxs("div",{className:`${a.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),n.jsx("p",{className:`text-2xl font-bold ${a.color}`,children:t?"-":a.format(a.value)})]},a.title))})}function WZ({data:e,loading:t}){return t?n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),n.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),n.jsx(vj,{width:"100%",height:256,children:n.jsxs(FZ,{data:e,children:[n.jsx(tw,{strokeDasharray:"3 3"}),n.jsx(Lo,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx(Fo,{tick:{fontSize:12}}),n.jsx(Ur,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,a)=>[r.toLocaleString(),a]}),n.jsx(Ha,{}),n.jsx(vo,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),n.jsx(vo,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function KZ({agents:e,loading:t}){if(t||e.length===0)return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),n.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(a=>a.totalCostCents>0).slice(0,8).map(a=>({name:a.agentName||a.agentId.slice(0,8),value:a.totalCostCents}));return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),n.jsx(vj,{width:"100%",height:256,children:n.jsxs(qZ,{children:[n.jsx(ua,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:s})=>`${a} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((a,s)=>n.jsx(dh,{fill:qP[s%qP.length]},`cell-${s}`))}),n.jsx(Ur,{formatter:a=>[`$${(a/100).toFixed(2)}`,"Cost"]})]})})]})}function HZ({agents:e,loading:t}){if(t||e.length===0)return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),n.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(a=>({name:a.agentName||a.agentId.slice(0,8),avgLatency:a.avgLatencyMs,p95Latency:a.p95LatencyMs}));return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),n.jsx(vj,{width:"100%",height:256,children:n.jsxs(BZ,{data:r,children:[n.jsx(tw,{strokeDasharray:"3 3"}),n.jsx(Lo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),n.jsx(Fo,{tick:{fontSize:12}}),n.jsx(Ur,{formatter:a=>[`${a}ms`,""]}),n.jsx(Ha,{}),n.jsx(Va,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),n.jsx(Va,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function GZ({agents:e,loading:t}){return t?n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,a)=>n.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},a))})]}):n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),n.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),n.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function VZ({trends:e,loading:t}){if(t||e.length===0)return null;const r=i=>{switch(i){case"up":return"^";case"down":return"v";default:return"-"}},a=i=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(i.metric),u=["avgLatencyMs","totalCostCents"].includes(i.metric);return i.direction==="stable"?"text-gray-600 bg-gray-100":i.direction==="up"&&l||i.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=i=>i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(i=>n.jsxs("div",{className:`rounded-lg p-3 ${a(i)}`,children:[n.jsx("p",{className:"text-xs font-medium mb-1",children:s(i.metric)}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-lg font-bold",children:r(i.direction)}),n.jsxs("span",{className:"text-sm",children:[i.changePercent>0?"+":"",i.changePercent.toFixed(1),"%"]})]})]},i.metric))})]})}function QZ({entries:e,loading:t}){if(t)return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>n.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const r=a=>{switch(a){case"up":return n.jsx("span",{className:"text-green-500",children:"^"});case"down":return n.jsx("span",{className:"text-red-500",children:"v"});default:return n.jsx("span",{className:"text-gray-400",children:"-"})}};return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),n.jsx("div",{className:"space-y-2",children:e.map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${a.rank===1?"bg-yellow-400 text-yellow-900":a.rank===2?"bg-gray-300 text-gray-700":a.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:a.rank}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.agentName||a.agentId.slice(0,8)}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",a.score.toFixed(1)," ",r(a.trend)]})]})]}),n.jsxs("div",{className:"text-right text-sm",children:[n.jsxs("p",{className:"text-gray-600",children:[a.executions.toLocaleString()," executions"]}),n.jsxs("p",{className:"text-gray-500",children:[a.successRate,"% success"]})]})]},a.agentId))})]})}function YZ({data:e,loading:t}){if(t)return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),n.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let i=1;e.forEach(u=>{const f=new Date(u.date).getDay();f>=0&&f<7&&u.hour>=0&&u.hour<24&&(s[f][u.hour]+=u.value,i=Math.max(i,s[f][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/i;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"min-w-max",children:[n.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>n.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),a.map((u,d)=>n.jsxs("div",{className:"flex gap-0.5 items-center",children:[n.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(f=>n.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[d][f])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${f}:00 - ${s[d][f]} executions`},f))]},u)),n.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),n.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),n.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function XZ({anomalies:e,loading:t}){return t||e.length===0?null:n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),n.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,a)=>n.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),n.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},a))})]})}function JZ({onExport:e,loading:t}){const[r,a]=S.useState(!1);return n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>a(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):n.jsx(n.Fragment,{children:"Export"})}),r&&!t&&n.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[n.jsx("button",{onClick:()=>{e("csv"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),n.jsx("button",{onClick:()=>{e("pdf"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function ZZ(){const[e,t]=S.useState("week"),[r,a]=S.useState(!0),[s,i]=S.useState(!1),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(!0),[g,b]=S.useState(null),[v,j]=S.useState([]),[y,k]=S.useState([]),[A,_]=S.useState([]),[O,w]=S.useState([]),C=S.useCallback(async()=>{var R,I,$,T;a(!0),u(null);try{const[M,K,Y,U]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Po(M)){f(!0);return}if(!M.ok)throw new Error("Failed to fetch overview");if(!K.ok)throw new Error("Failed to fetch agent metrics");if(!Y.ok)throw new Error("Failed to fetch leaderboard");if(!U.ok)throw new Error("Failed to fetch trends");const[B,L,W,X]=await Promise.all([M.json(),K.json(),Y.json(),U.json()]);b(B.data),j(((R=L.data)==null?void 0:R.agents)||[]),k(((I=W.data)==null?void 0:I.leaderboard)||[]),_((($=X.data)==null?void 0:$.trends)||[]),w(((T=X.data)==null?void 0:T.anomalies)||[])}catch(M){u(M instanceof Error?M.message:"Failed to load analytics"),console.error("Analytics fetch error:",M)}finally{a(!1)}},[e]),P=async R=>{i(!0);try{const I=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:R,period:e})});if(!I.ok)throw new Error("Export failed");const $=await I.blob(),T=window.URL.createObjectURL($),M=document.createElement("a");M.href=T,M.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${R}`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(T)}catch(I){console.error("Export error:",I),u("Failed to export report")}finally{i(!1)}};return S.useEffect(()=>{C()},[C]),S.useEffect(()=>{if(!p)return;const R=setInterval(C,6e4);return()=>clearInterval(R)},[p,C]),d?n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),n.jsx(Kc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:C})]}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("select",{value:e,onChange:R=>t(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:zZ.map(R=>n.jsx("option",{value:R.value,children:R.label},R.value))}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:p,onChange:R=>m(R.target.checked),className:"rounded"}),"Auto-refresh"]}),n.jsx(JZ,{onExport:P,loading:s})]})]}),l&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,n.jsx("button",{onClick:C,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),n.jsx("div",{className:"mb-6",children:n.jsx(XZ,{anomalies:O,loading:r})}),n.jsx("div",{className:"mb-6",children:n.jsx(UZ,{metrics:g,loading:r})}),n.jsx("div",{className:"mb-6",children:n.jsx(VZ,{trends:A,loading:r})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx(WZ,{data:(g==null?void 0:g.dailyTrend)||[],loading:r}),n.jsx(KZ,{agents:v,loading:r})]}),n.jsx("div",{className:"mb-6",children:n.jsx(HZ,{agents:v,loading:r})}),n.jsx("div",{className:"mb-6",children:n.jsx(YZ,{data:((g==null?void 0:g.dailyTrend)||[]).flatMap(R=>Array.from({length:24},(I,$)=>({date:R.date,hour:$,value:Math.floor(R.executions*($>=9&&$<=17?.08:.02))}))),loading:r})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(GZ,{agents:v,loading:r}),n.jsx(QZ,{entries:y,loading:r})]})]})}const eee=()=>{const[e,t]=S.useState([]),[r,a]=S.useState(null),[s,i]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(null),[p,m]=S.useState([]),[g,b]=S.useState("monthly"),[v,j]=S.useState(!0),[y,k]=S.useState(null);S.useEffect(()=>{A()},[]);const A=async()=>{try{j(!0),k(null);const[I,$,T,M]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!I.ok||!$.ok||!T.ok)throw new Error("Failed to load billing data");const K=await I.json(),Y=await $.json(),U=await T.json(),B=await M.json();t(K.plans),a(Y.subscription),i(U.usage),u(U.limits),f(U.percentages),m(B.invoices)}catch(I){k(I instanceof Error?I.message:"An error occurred")}finally{j(!1)}},_=async I=>{try{const $=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:I,billingInterval:g})});if(!$.ok){const M=await $.json();throw new Error(M.error||"Failed to create checkout session")}const{url:T}=await $.json();T&&(window.location.href=T)}catch($){k($ instanceof Error?$.message:"Failed to upgrade")}},O=async()=>{try{const I=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!I.ok){const T=await I.json();throw new Error(T.error||"Failed to open billing portal")}const{url:$}=await I.json();$&&(window.location.href=$)}catch(I){k(I instanceof Error?I.message:"Failed to open billing portal")}},w=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const I=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!I.ok){const $=await I.json();throw new Error($.error||"Failed to cancel subscription")}await A()}catch(I){k(I instanceof Error?I.message:"Failed to cancel")}},C=async()=>{try{const I=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!I.ok){const $=await I.json();throw new Error($.error||"Failed to reactivate subscription")}await A()}catch(I){k(I instanceof Error?I.message:"Failed to reactivate")}},P=I=>I===-1?"Unlimited":I.toLocaleString(),R=I=>`${(I/1073741824).toFixed(2)} GB`;return v?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,n.jsx("button",{onClick:()=>k(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&n.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),n.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&n.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),n.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&n.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?n.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?n.jsx("button",{onClick:w,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&d&&n.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsx(Ll,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:d.executions}),n.jsx(Ll,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),n.jsx(Ll,{label:"Agents",current:s.agents,limit:l.agents,percentage:d.agents}),n.jsx(Ll,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:d.workflows}),n.jsx(Ll,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:d.team_members}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Storage"}),n.jsxs("span",{className:"text-sm text-gray-500",children:[R(s.storage_bytes)," / ",P(l.storageGb)," GB"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>b("monthly"),className:`px-4 py-2 rounded-md transition ${g==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),n.jsxs("button",{onClick:()=>b("yearly"),className:`px-4 py-2 rounded-md transition ${g==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",n.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(I=>n.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${I.popular?"ring-2 ring-blue-500":""}`,children:[I.popular&&n.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:I.name}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:I.description}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"text-3xl font-bold",children:g==="yearly"?I.pricing.yearly:I.pricing.monthly}),I.pricing.monthlyRaw>0&&n.jsxs("span",{className:"text-gray-500",children:["/",g==="yearly"?"year":"month"]})]}),n.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," ",P(I.limits.agents)," Agents"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," ",P(I.limits.workflows)," Workflows"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," ",P(I.limits.executionsPerMonth)," Executions/month"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," ",P(I.limits.teamMembers)," Team members"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," ",I.limits.storageGb," GB Storage"]}),I.features.githubIntegration&&n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," GitHub Integration"]}),I.features.advancedAnalytics&&n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," Advanced Analytics"]}),I.features.prioritySupport&&n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," Priority Support"]}),I.features.sso&&n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(zn,{})," SSO"]})]}),(r==null?void 0:r.planId)===I.id?n.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):I.id==="free"?n.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):I.pricing.monthlyRaw===-1?n.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):n.jsxs("button",{onClick:()=>_(I.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",I.name]})]},I.id))})]}),p.length>0&&n.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),n.jsx("tbody",{children:p.map(I=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:new Date(I.createdAt).toLocaleDateString()}),n.jsxs("td",{className:"py-3 px-4",children:[new Date(I.periodStart).toLocaleDateString()," -"," ",new Date(I.periodEnd).toLocaleDateString()]}),n.jsx("td",{className:"py-3 px-4",children:I.amountFormatted}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(tee,{status:I.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex gap-2",children:[I.hostedInvoiceUrl&&n.jsx("a",{href:I.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),I.invoicePdfUrl&&n.jsx("a",{href:I.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},I.id))})]})})]})]})},Ll=({label:e,current:t,limit:r,percentage:a})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),i=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-600",children:e}),n.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(r)]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`${i(a)} h-2 rounded-full transition-all`,style:{width:`${Math.min(a,100)}%`}})})]})},zn=()=>n.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),tee=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function ree(){const[e,t]=S.useState(null),[r,a]=S.useState([]),[s,i]=S.useState(null),[l,u]=S.useState(!0),[d,f]=S.useState(null),[p,m]=S.useState(!1),[g,b]=S.useState("month"),[v,j]=S.useState(""),[y,k]=S.useState(!1),{user:A}=En();S.useEffect(()=>{_()},[g]);const _=async()=>{try{u(!0),f(null);const[$,T,M]=await Promise.all([fetch(`/api/costs/summary?period=${g}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Po($)){m(!0);return}if(!$.ok||!T.ok||!M.ok)throw new Error("Failed to fetch cost data");const[K,Y,U]=await Promise.all([$.json(),T.json(),M.json()]);t(K.data),a(Y.data.trend),i(U.data),U.data.budgetCents&&j((U.data.budgetCents/100).toString())}catch($){f($ instanceof Error?$.message:"Unknown error")}finally{u(!1)}},O=async()=>{try{k(!0);const $=v?Math.round(parseFloat(v)*100):null,T=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:$})});if(!T.ok){const M=await T.json();throw new Error(M.message||"Failed to update budget")}await _()}catch($){f($ instanceof Error?$.message:"Failed to update budget")}finally{k(!1)}},w=$=>`$${($/100).toFixed(2)}`,C=$=>$.toLocaleString(),P=$=>{switch($){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},R=$=>{switch($){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},I=()=>Math.max(...r.map($=>$.totalCostCents),1);return p?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),n.jsx(Kc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:_})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:d})}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?n.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[n.jsx("span",{className:"text-4xl font-bold text-gray-900",children:w(s.spentCents)}),s.budgetCents&&n.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",w(s.budgetCents)]}),n.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:n.jsx("div",{className:`h-4 rounded-full transition-all ${P(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),n.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${w(s.remainingCents)} remaining this month`:"No budget limit set"})]}):n.jsx("p",{className:"text-gray-500",children:"No budget data available"}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),n.jsx("input",{type:"number",value:v,onChange:$=>j($.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("button",{onClick:O,disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...":"Save"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),n.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map($=>n.jsx("button",{onClick:()=>b($),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${g===$?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:$==="day"?"Today":$==="week"?"This Week":"This Month"},$))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?n.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):n.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:w((e==null?void 0:e.totalCostCents)??0)})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?n.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):n.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.requestCount)??0)})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?n.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C((e==null?void 0:e.totalInputTokens)??0)})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?n.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C((e==null?void 0:e.totalOutputTokens)??0)})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?n.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>n.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},$))}):e!=null&&e.byAgent&&e.byAgent.length>0?n.jsx("div",{className:"space-y-4",children:e.byAgent.map($=>{const T=e.totalCostCents>0?Math.round($.totalCostCents/e.totalCostCents*100):0;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:$.agentName||$.agentId.slice(0,8)}),n.jsxs("span",{className:"text-sm text-gray-600",children:[w($.totalCostCents)," (",T,"%)"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${T}%`}})}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C($.requestCount)," requests"]})]})]},$.agentId)})}):n.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?n.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?n.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map($=>{const T=$.totalCostCents>0?Math.max($.totalCostCents/I()*100,4):2;return n.jsxs("div",{className:"flex-1 group relative",title:`${$.date}: ${w($.totalCostCents)}`,children:[n.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${T}%`}}),n.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:n.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[$.date,": ",w($.totalCostCents)]})})]},$.date)})}):n.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?n.jsx("div",{className:"space-y-2",children:[1,2,3].map($=>n.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},$))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,$],[,T])=>T.costCents-$.costCents).map(([$,T])=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:$}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:w(T.costCents)}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(T.requests)}),n.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:w(T.requests>0?Math.round(T.costCents/T.requests):0)})]},$))})]})}):n.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const nee=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],aee=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],see=()=>{const[e,t]=S.useState("keys"),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState(null),[d,f]=S.useState(!0),[p,m]=S.useState(null),[g,b]=S.useState(!1),[v,j]=S.useState(""),[y,k]=S.useState([]),[A,_]=S.useState("free"),[O,w]=S.useState(null),[C,P]=S.useState(!1),[R,I]=S.useState(""),[$,T]=S.useState([]),[M,K]=S.useState(null),Y=S.useCallback(async()=>{f(!0),m(null);try{const[G,ee,de]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(G.ok){const oe=await G.json();a(oe.data||[])}if(ee.ok){const oe=await ee.json();i(oe.data||[])}if(de.ok){const oe=await de.json();u(oe.data||null)}}catch(G){m("Failed to load data"),console.error("Error fetching developer portal data:",G)}finally{f(!1)}},[]);S.useEffect(()=>{Y()},[Y]);const U=async()=>{try{const G=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,scopes:y,rateLimitTier:A})});if(G.ok){const ee=await G.json();w(ee.data.key),a(de=>[...de,ee.data]),j(""),k([]),_("free")}else{const ee=await G.json();m(ee.message||"Failed to create API key")}}catch{m("Failed to create API key")}},B=async G=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${G}`,{method:"DELETE"})).ok&&a(de=>de.map(oe=>oe.id===G?{...oe,status:"revoked"}:oe))}catch{m("Failed to revoke API key")}},L=async()=>{try{const G=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:R,events:$})});if(G.ok){const ee=await G.json();K(ee.data.secret),i(de=>[...de,ee.data]),I(""),T([])}else{const ee=await G.json();m(ee.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},W=async G=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${G}`,{method:"DELETE"})).ok&&i(de=>de.filter(oe=>oe.id!==G))}catch{m("Failed to delete webhook")}},X=async G=>{try{const de=await(await fetch(`/api/organization/webhooks/${G}/test`,{method:"POST"})).json();de.data.success?alert(`Webhook test successful! Response time: ${de.data.latencyMs}ms`):alert(`Webhook test failed: ${de.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},z=G=>G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",q=G=>{switch(G){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},F=G=>{switch(G){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,n.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(G=>n.jsxs("button",{onClick:()=>t(G),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===G?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[G==="keys"&&"API Keys",G==="webhooks"&&"Webhooks",G==="docs"&&"Documentation"]},G))})}),e==="keys"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),n.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(G=>n.jsxs("tr",{children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[G.scopes.slice(0,3).join(", "),G.scopes.length>3&&` +${G.scopes.length-3} more`]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[G.keyPrefix,"..."]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(G.rateLimitTier)}`,children:G.rateLimitTier})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(G.status)}`,children:G.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(G.lastUsedAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.totalRequests.toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:G.status==="active"&&n.jsx("button",{onClick:()=>B(G.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},G.id)),r.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),n.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(G=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:G.url})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-gray-500",children:[G.events.slice(0,2).join(", "),G.events.length>2&&` +${G.events.length-2} more`]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(G.status)}`,children:G.status}),G.failureCount>0&&n.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",G.failureCount," failures)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.lastSuccess?n.jsx("span",{className:"text-green-600",children:z(G.lastSuccess)}):G.lastFailure?n.jsx("span",{className:"text-red-600",children:z(G.lastFailure)}):"Never"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[n.jsx("button",{onClick:()=>X(G.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),n.jsx("button",{onClick:()=>W(G.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},G.id)),s.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),n.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),n.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),n.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),n.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(G=>n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${G.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:G.method}),n.jsx("code",{className:"text-gray-900",children:G.path}),n.jsx("span",{className:"ml-3 text-gray-500",children:G.desc})]},G.path))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-gray-500",children:[n.jsx("th",{className:"pb-2",children:"Tier"}),n.jsx("th",{className:"pb-2",children:"Per Minute"}),n.jsx("th",{className:"pb-2",children:"Per Day"})]})}),n.jsxs("tbody",{className:"text-gray-900",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"py-1",children:"Free"}),n.jsx("td",{children:"60"}),n.jsx("td",{children:"1,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1",children:"Pro"}),n.jsx("td",{children:"300"}),n.jsx("td",{children:"10,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1",children:"Enterprise"}),n.jsx("td",{children:"1,000"}),n.jsx("td",{children:"100,000"})]})]})]})]})]}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:O?n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),n.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:O})]}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(O),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),n.jsx("button",{onClick:()=>{b(!1),w(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:v,onChange:G=>j(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),n.jsxs("select",{value:A,onChange:G=>_(G.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[n.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),n.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),n.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:nee.map(G=>n.jsxs("label",{className:"flex items-center text-sm",children:[n.jsx("input",{type:"checkbox",checked:y.includes(G),onChange:ee=>{ee.target.checked?k(de=>[...de,G]):k(de=>de.filter(oe=>oe!==G))},className:"mr-2"}),G]},G))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:U,disabled:!v||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:M?n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),n.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:M})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(M),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),n.jsx("button",{onClick:()=>{P(!1),K(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),n.jsx("input",{type:"url",value:R,onChange:G=>I(G.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),n.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:aee.map(G=>n.jsxs("label",{className:"flex items-center text-sm",children:[n.jsx("input",{type:"checkbox",checked:$.includes(G),onChange:ee=>{ee.target.checked?T(de=>[...de,G]):T(de=>de.filter(oe=>oe!==G))},className:"mr-2"}),G]},G))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:L,disabled:!R||$.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function iee(){const{slug:e}=Uf(),[t,r]=S.useState(null),[a,s]=S.useState([]),[i,l]=S.useState(null),[u,d]=S.useState([]),[f,p]=S.useState([]),[m,g]=S.useState(!1),[b,v]=S.useState(!0),[j,y]=S.useState(!1),[k,A]=S.useState(null),[_,O]=S.useState("overview"),[w,C]=S.useState(null),P=S.useCallback(async()=>{if(e){v(!0);try{const L=await le({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(L.extension)}catch(L){L instanceof Re&&L.status===404?A("Extension not found"):A("Failed to load extension")}finally{v(!1)}}},[e]),R=S.useCallback(async()=>{if(e)try{const L=await le({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(L.reviews.items),l(L.summary)}catch(L){console.error("Failed to fetch reviews:",L)}},[e]),I=S.useCallback(async()=>{if(e)try{const L=await le({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(L.versions)}catch(L){console.error("Failed to fetch versions:",L)}},[e]),$=S.useCallback(async()=>{if(e)try{const L=await le({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(L.extensions)}catch(L){console.error("Failed to fetch similar:",L)}},[e]),T=S.useCallback(async()=>{try{const L=await le({url:"/api/marketplace/installed",method:"GET"});g(L.installed.some(W=>W.extension.slug===e))}catch{}},[e]);S.useEffect(()=>{P(),R(),I(),$(),T()},[P,R,I,$,T]);const M=async()=>{if(t){y(!0);try{await le({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),g(!0)}catch(L){const W=L instanceof Re?L.message:"Install failed";alert(W)}finally{y(!1)}}},K=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await le({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),g(!1)}catch(L){const W=L instanceof Re?L.message:"Uninstall failed";alert(W)}},Y=L=>L>=1e6?`${(L/1e6).toFixed(1)}M`:L>=1e3?`${(L/1e3).toFixed(1)}K`:String(L),U=L=>{if(L.pricing==="free")return"Free";if(!L.price)return"Paid";const W=(L.price.amount/100).toFixed(2),X=L.price.interval?`/${L.price.interval}`:"";return`$${W}${X}`},B=(L,W="sm")=>{const X=[],z=W==="lg"?"text-xl":"text-sm";for(let q=1;q<=5;q++)X.push(n.jsx("span",{className:`${q<=L?"text-yellow-400":"text-gray-300"} ${z}`,children:""},q));return X};return b?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):k||!t?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:k||"Extension not found"}),n.jsx(Tt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):n.jsxs("div",{children:[n.jsxs("nav",{className:"mb-4 text-sm",children:[n.jsx(Tt,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),n.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),n.jsx("span",{className:"text-gray-600",children:t.name})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:n.jsxs("div",{className:"flex gap-6",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?n.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),n.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[n.jsx("span",{children:t.publisherName}),t.publisherVerified&&n.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:U(t)}),m?n.jsx("button",{onClick:K,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):n.jsx("button",{onClick:M,disabled:j,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:j?"Installing...":"Install"})]})]}),n.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),n.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[B(Math.round(t.stats.rating)),n.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsxs("span",{className:"text-gray-600",children:[Y(t.stats.downloads)," downloads"]}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsxs("span",{className:"text-gray-600",children:[Y(t.stats.activeInstalls)," active installs"]}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(L=>n.jsx(Tt,{to:`/marketplace?q=${L}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:L},L))})]})]})}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(L=>n.jsxs("button",{onClick:()=>O(L),className:`py-3 text-sm font-medium border-b-2 -mb-px ${_===L?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[L==="overview"&&"Overview",L==="reviews"&&`Reviews (${t.stats.reviewCount})`,L==="versions"&&"Version History"]},L))})}),n.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[_==="overview"&&n.jsxs("div",{children:[t.screenshots.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((L,W)=>n.jsx("img",{src:L,alt:`Screenshot ${W+1}`,onClick:()=>C(L),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},W))})]}),n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),n.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),_==="reviews"&&n.jsxs("div",{children:[i&&n.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:n.jsxs("div",{className:"flex items-center gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.average.toFixed(1)}),n.jsx("div",{className:"flex justify-center mt-1",children:B(Math.round(i.average),"lg")}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[i.count," reviews"]})]}),n.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(L=>n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm text-gray-600 w-3",children:L}),n.jsx("span",{className:"text-yellow-400",children:""}),n.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${i.count>0?i.distribution[L]/i.count*100:0}%`}})}),n.jsx("span",{className:"text-sm text-gray-500 w-8",children:i.distribution[L]||0})]},L))})]})}),a.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):n.jsx("div",{className:"space-y-4",children:a.map(L=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:L.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[B(L.rating),n.jsxs("span",{className:"text-sm text-gray-500",children:["by ",L.userName,"  ",new Date(L.createdAt).toLocaleDateString()]})]})]}),n.jsxs("span",{className:"text-sm text-gray-400",children:[L.helpfulCount," found helpful"]})]}),n.jsx("p",{className:"text-gray-600 mt-2",children:L.body}),L.publisherResponse&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.publisherResponse.body})]})]},L.id))})]}),_==="versions"&&n.jsx("div",{className:"space-y-4",children:u.map(L=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["v",L.version]}),n.jsx("span",{className:"text-sm text-gray-500",children:L.publishedAt?new Date(L.publishedAt).toLocaleDateString():"Unpublished"})]}),L.changelog&&n.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:L.changelog})]},L.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),n.jsxs("dl",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-500",children:"Version"}),n.jsx("dd",{className:"text-gray-900",children:t.version})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-500",children:"Category"}),n.jsx("dd",{className:"text-gray-900",children:t.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),n.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-500",children:"Published"}),n.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-500",children:"Updated"}),n.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),n.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&n.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[n.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&n.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[n.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&n.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[n.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),n.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(L=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-amber-500",children:""})," ",L]},L))})]}),f.length>0&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),n.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(L=>n.jsxs(Tt,{to:`/marketplace/${L.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:L.icon?n.jsx("img",{src:L.icon,alt:"",className:"w-6 h-6 rounded"}):n.jsx("span",{children:""})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:L.name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow-400",children:""})," ",L.stats.rating.toFixed(1)]})]})]},L.id))})]})]})]}),w&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>C(null),children:n.jsx("img",{src:w,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function oee(){var C;const[e,t]=S.useState(null),[r,a]=S.useState([]),[s,i]=S.useState(null),[l,u]=S.useState(!0),[d,f]=S.useState(null),[p,m]=S.useState(!1),[g,b]=S.useState(null),[v,j]=S.useState(30);S.useEffect(()=>{y()},[v]);const y=async()=>{u(!0),f(null);try{const[P,R]=await Promise.all([fetch(`/api/feedback/analysis?days=${v}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Po(P)){m(!0);return}if(!P.ok||!R.ok)throw new Error("Failed to fetch feedback data");const I=await P.json(),$=await R.json();t(I),a($.actions),i($.stats)}catch(P){f(P instanceof Error?P.message:"An error occurred")}finally{u(!1)}},k=async P=>{b(P);try{if(!(await fetch(`/api/feedback/actions/${P}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to apply action")}finally{b(null)}},A=async P=>{b(P);try{if(!(await fetch(`/api/feedback/actions/${P}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await y()}catch(R){f(R instanceof Error?R.message:"Failed to dismiss action")}finally{b(null)}},_=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await y()}catch(P){f(P instanceof Error?P.message:"Failed to process feedback")}},O=P=>{switch(P){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},w=P=>{switch(P){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),n.jsx(Kc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:y})]}):l?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(P=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},P))})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("select",{value:v,onChange:P=>j(parseInt(P.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[n.jsx("option",{value:7,children:"Last 7 days"}),n.jsx("option",{value:30,children:"Last 30 days"}),n.jsx("option",{value:90,children:"Last 90 days"})]}),n.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),n.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([P,R])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O(P)}`,children:P}),n.jsx("span",{className:"text-gray-700 font-medium",children:R})]},P)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),n.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((P,R)=>R[1]-P[1]).slice(0,5).map(([P,R])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:P.replace(/_/g," ")}),n.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:R})]},P)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?n.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(P=>n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w(P.priority)}`,children:P.priority}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:P.type.replace(/_/g," ")}),P.autoApplicable&&n.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),n.jsx("p",{className:"mt-2 text-gray-900",children:P.description}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",P.estimatedImpact.affectedRequests," requests, +",(P.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsx("button",{onClick:()=>k(P.id),disabled:g===P.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:g===P.id?"...":"Apply"}),n.jsx("button",{onClick:()=>A(P.id),disabled:g===P.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},P.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(C=e==null?void 0:e.recentFeedback)==null?void 0:C.slice(0,10).map(P=>{var R;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[P.type,P.rating&&n.jsxs("span",{className:"ml-1",children:["(",P.rating,"/5)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.sentiment&&n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O(P.sentiment)}`,children:P.sentiment})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((R=P.category)==null?void 0:R.replace(/_/g," "))||"-"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:P.originalRequest}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})]},P.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const Pi={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},By={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function lee(){const[e,t]=S.useState(!1),[r,a]=S.useState(null),[s,i]=S.useState(!1),[l,u]=S.useState(null),[d,f]=S.useState(null),[p,m]=S.useState(null),[g,b]=S.useState([]),[v,j]=S.useState(""),[y,k]=S.useState([]),[A,_]=S.useState([]),[O,w]=S.useState(!1),C=S.useRef(null),P=S.useRef(null),R=S.useCallback(async()=>{try{const U=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Po(U)){i(!0);return}if(!U.ok)throw new Error("Failed to fetch stats");const B=await U.json();u(B)}catch(U){console.error("Error fetching stats:",U)}},[]),I=S.useCallback(async U=>{t(!0),a(null);try{let B="/api/knowledge-graph/visualization";U&&U.length>0&&(B=`/api/knowledge-graph/visualization/filtered?nodeTypes=${U.join(",")}`);const L=await fetch(B,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch graph");const W=await L.json();f(W)}catch(B){a(B instanceof Error?B.message:"Unknown error")}finally{t(!1)}},[]),$=async()=>{w(!0),a(null);try{const U=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!U.ok)throw new Error("Failed to build graph");const B=await U.json();alert(`Graph built: ${B.nodeCount} nodes, ${B.edgeCount} edges`),await Promise.all([R(),I(A)])}catch(U){a(U instanceof Error?U.message:"Failed to build graph")}finally{w(!1)}},T=async()=>{if(!v.trim()){k([]);return}try{const U=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(v)}&limit=10`,{credentials:"include"});if(!U.ok)throw new Error("Search failed");const B=await U.json();k(B.nodes||[])}catch(U){console.error("Search error:",U)}},M=async U=>{try{const B=await fetch(`/api/knowledge-graph/related/${U}?depth=2&limit=20`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch related nodes");const L=await B.json();b(L.related||[])}catch(B){console.error("Error fetching related:",B)}},K=async U=>{m(U),await M(U.id)},Y=U=>{_(B=>B.includes(U)?B.filter(W=>W!==U):[...B,U])};return S.useEffect(()=>{I(A)},[A,I]),S.useEffect(()=>{R(),I()},[R,I]),S.useEffect(()=>{if(!d||!C.current)return;const U=C.current,B=U.getContext("2d");if(!B)return;const L=U.parentElement;L&&(U.width=L.clientWidth,U.height=L.clientHeight),B.fillStyle="#1a1a2e",B.fillRect(0,0,U.width,U.height);const W=d.nodes.map(q=>({...q,x:Math.random()*U.width,y:Math.random()*U.height,vx:0,vy:0})),X=new Map(W.map(q=>[q.id,q]));for(let q=0;q<100;q++){for(let F=0;F<W.length;F++)for(let G=F+1;G<W.length;G++){const ee=W[G].x-W[F].x,de=W[G].y-W[F].y,oe=Math.sqrt(ee*ee+de*de)||1,ne=1e3/(oe*oe);W[F].vx-=ee/oe*ne,W[F].vy-=de/oe*ne,W[G].vx+=ee/oe*ne,W[G].vy+=de/oe*ne}for(const F of d.edges){const G=X.get(F.from),ee=X.get(F.to);if(G&&ee){const de=ee.x-G.x,oe=ee.y-G.y,ne=Math.sqrt(de*de+oe*oe)||1,pe=ne*.01;G.vx+=de/ne*pe,G.vy+=oe/ne*pe,ee.vx-=de/ne*pe,ee.vy-=oe/ne*pe}}for(const F of W)F.vx+=(U.width/2-F.x)*.001,F.vy+=(U.height/2-F.y)*.001;for(const F of W)F.x+=F.vx*.1,F.y+=F.vy*.1,F.vx*=.9,F.vy*=.9,F.x=Math.max(50,Math.min(U.width-50,F.x)),F.y=Math.max(50,Math.min(U.height-50,F.y))}B.strokeStyle="#4a4a6a",B.lineWidth=1;for(const q of d.edges){const F=X.get(q.from),G=X.get(q.to);F&&G&&(B.beginPath(),B.moveTo(F.x,F.y),B.lineTo(G.x,G.y),B.stroke())}for(const q of W){const F=Pi[q.group]||"#9E9E9E",G=q.size||15;B.beginPath(),B.arc(q.x,q.y,G,0,Math.PI*2),B.fillStyle=F,B.fill(),B.strokeStyle=(p==null?void 0:p.id)===q.id?"#ffffff":"#000000",B.lineWidth=(p==null?void 0:p.id)===q.id?3:1,B.stroke(),B.fillStyle="#ffffff",B.font="11px sans-serif",B.textAlign="center",B.fillText(q.label.slice(0,15),q.x,q.y+G+12)}P.current=W;const z=q=>{const F=U.getBoundingClientRect(),G=q.clientX-F.left,ee=q.clientY-F.top;for(const de of W)if(Math.sqrt((G-de.x)**2+(ee-de.y)**2)<=(de.size||15)){K(de);return}m(null),b([])};return U.addEventListener("click",z),()=>U.removeEventListener("click",z)},[d,p]),s?n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),n.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),n.jsx("button",{onClick:()=>{i(!1),R(),I()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),n.jsx("button",{onClick:$,disabled:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Building...":"Rebuild Graph"})]})}),n.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[n.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),n.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),n.jsx("div",{className:"text-gray-400",children:"Edges"})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),n.jsx("div",{className:"text-gray-400",children:"Density"})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),n.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:v,onChange:U=>j(U.target.value),onKeyDown:U=>U.key==="Enter"&&T(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),n.jsx("button",{onClick:T,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),y.length>0&&n.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:y.map(U=>n.jsxs("button",{onClick:()=>K(U),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Pi[U.group]||"#9E9E9E"}}),U.label]},U.id))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(By).map(([U,B])=>n.jsx("button",{onClick:()=>Y(U),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${A.includes(U)?"opacity-100":A.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:A.includes(U)||A.length===0?Pi[U]:"#4a4a6a"},children:B},U))}),A.length>0&&n.jsx("button",{onClick:()=>_([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),n.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Pi[p.group]||"#9E9E9E"}}),n.jsx("span",{className:"font-semibold",children:p.label})]}),n.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",By[p.group]||p.group]}),g.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",g.length,")"]}),n.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g.map(U=>n.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>K({id:U.node.id,label:U.node.label,group:U.node.type}),children:[n.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Pi[U.node.type]||"#9E9E9E"}}),n.jsx("span",{className:"flex-1 truncate",children:U.node.label}),n.jsx("span",{className:"text-gray-500",children:U.edge.type})]},U.node.id))})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(By).map(([U,B])=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Pi[U]}}),B]},U))})]})]}),n.jsxs("div",{className:"flex-1 relative",children:[e&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),n.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-red-400",children:[n.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),n.jsx("div",{className:"text-sm",children:r}),n.jsx("button",{onClick:()=>I(A),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&d&&d.nodes.length===0&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),n.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),n.jsx("button",{onClick:$,disabled:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:O?"Building...":"Build Graph"})]})}),n.jsx("canvas",{ref:C,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function cee(){const[e,t]=Wf(),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState(null),[p,m]=S.useState(0),[g,b]=S.useState(!0),[v,j]=S.useState(e.get("q")||""),[y,k]=S.useState(e.get("category")||""),[A,_]=S.useState(e.get("pricing")||""),[O,w]=S.useState(e.get("sort")||"popular"),[C,P]=S.useState(1),[R,I]=S.useState([]),[$,T]=S.useState(null),M=S.useCallback(async()=>{b(!0);try{const F=new URLSearchParams;v&&F.set("q",v),y&&F.set("category",y),A&&F.set("pricing",A),F.set("sort",O),F.set("page",String(C)),F.set("limit","20");const ee=await le({url:`${v?"/api/marketplace/search":"/api/marketplace/extensions"}?${F.toString()}`,method:"GET"});a(ee.extensions||ee.items||[]),m(ee.total),ee.facets&&f(ee.facets)}catch(F){console.error("Failed to fetch extensions:",F)}finally{b(!1)}},[v,y,A,O,C]),K=S.useCallback(async()=>{try{const F=await le({url:"/api/marketplace/featured",method:"GET"});i(F.extensions)}catch(F){console.error("Failed to fetch featured:",F)}},[]),Y=S.useCallback(async()=>{try{const F=await le({url:"/api/marketplace/categories",method:"GET"});u(F.categories)}catch(F){console.error("Failed to fetch categories:",F)}},[]),U=S.useCallback(async()=>{try{const F=await le({url:"/api/marketplace/suggestions",method:"GET"});I(F.suggestions||[])}catch{}},[]);S.useEffect(()=>{Y(),K(),U()},[Y,K,U]),S.useEffect(()=>{M()},[M]),S.useEffect(()=>{const F=new URLSearchParams;v&&F.set("q",v),y&&F.set("category",y),A&&F.set("pricing",A),O!=="popular"&&F.set("sort",O),t(F)},[v,y,A,O,t]);const B=F=>{F.preventDefault(),P(1),M()},L=async F=>{T(F);try{await le({url:`/api/marketplace/suggestions/${F}/accept`,method:"POST"}),I(G=>G.filter(ee=>ee.patternId!==F))}catch(G){console.error("Failed to accept suggestion:",G)}finally{T(null)}},W=async F=>{try{await le({url:`/api/marketplace/suggestions/${F}/dismiss`,method:"POST"}),I(G=>G.filter(ee=>ee.patternId!==F))}catch(G){console.error("Failed to dismiss suggestion:",G)}},X=F=>F>=1e6?`${(F/1e6).toFixed(1)}M`:F>=1e3?`${(F/1e3).toFixed(1)}K`:String(F),z=F=>{if(F.pricing==="free")return"Free";if(!F.price)return"Paid";const G=(F.price.amount/100).toFixed(2),ee=F.price.interval?`/${F.price.interval}`:"";return`$${G}${ee}`},q=F=>{const G=[];for(let ee=1;ee<=5;ee++)G.push(n.jsx("span",{className:ee<=F?"text-yellow-400":"text-gray-300",children:""},ee));return G};return n.jsxs("div",{className:"min-h-screen",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),n.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),n.jsxs("form",{onSubmit:B,className:"flex gap-3 max-w-2xl",children:[n.jsx("input",{type:"text",value:v,onChange:F=>j(F.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),n.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[!v&&s.length>0&&n.jsxs("div",{className:"mb-10",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(F=>n.jsx(Tt,{to:`/marketplace/${F.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:F.icon?n.jsx("img",{src:F.icon,alt:"",className:"w-10 h-10 rounded-lg"}):n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:F.name}),n.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.description}),n.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:n.jsxs("span",{className:"flex items-center text-yellow-500",children:[q(Math.round(F.stats.rating)),n.jsxs("span",{className:"text-gray-500 ml-1",children:["(",F.stats.reviewCount,")"]})]})})]})]})},F.id))})]}),R.length>0&&n.jsxs("div",{className:"mb-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),n.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[R.length," suggestion",R.length!==1?"s":""]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(F=>n.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-lg",children:F.patternType==="composite"?"":F.patternType==="sequence"?"":""})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(F.confidence*100)}% confidence`,children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${F.confidence*100}%`}})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(F.confidence*100),"%"]})]})]}),n.jsx("h3",{className:"font-semibold text-gray-900",children:F.suggestedName}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.suggestedDescription}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:F.suggestedTriggers.slice(0,3).map(G=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:G},G))}),n.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",F.frequency,"x as ",F.patternType," pattern"]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx("button",{onClick:()=>L(F.patternId),disabled:$===F.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:$===F.patternId?"Creating...":"Create Skill"}),n.jsx("button",{onClick:()=>W(F.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},F.patternId))})]}),n.jsxs("div",{className:"flex gap-8",children:[n.jsxs("div",{className:"w-56 flex-shrink-0",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),n.jsxs("ul",{className:"space-y-1",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>{k(""),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(F=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>{k(F.slug),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===F.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx("span",{children:F.name}),F.extensionCount!==void 0&&n.jsx("span",{className:"text-xs text-gray-400",children:F.extensionCount})]})},F.id))]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),n.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(F=>n.jsx("li",{children:n.jsx("button",{onClick:()=>{_(F),P(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${A===F?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:F===""?"All":F.charAt(0).toUpperCase()+F.slice(1)})},F))})]}),d&&d.tags.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(F=>n.jsx("button",{onClick:()=>j(F.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:F.name},F.name))})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),n.jsxs("select",{value:O,onChange:F=>{w(F.target.value),P(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"popular",children:"Most Popular"}),n.jsx("option",{value:"recent",children:"Recently Added"}),n.jsx("option",{value:"rating",children:"Highest Rated"}),n.jsx("option",{value:"trending",children:"Trending"})]})]}),g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(F=>n.jsx(Tt,{to:`/marketplace/${F.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:F.icon?n.jsx("img",{src:F.icon,alt:"",className:"w-8 h-8 rounded-lg"}):n.jsx("span",{className:"text-xl",children:""})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:F.name}),F.publisherVerified&&n.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:F.publisherName}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:F.description}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",F.stats.rating.toFixed(1)]}),n.jsxs("span",{className:"text-gray-400",children:[X(F.stats.downloads)," downloads"]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F.pricing==="free"?"bg-green-100 text-green-700":F.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(F)})]})]})]})},F.id))}),p>20&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[n.jsx("button",{onClick:()=>P(F=>Math.max(1,F-1)),disabled:C===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",C," of ",Math.ceil(p/20)]}),n.jsx("button",{onClick:()=>P(F=>F+1),disabled:C>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const qy={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},zP={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function uee(){const[e,t]=S.useState(""),[r,a]=S.useState([]),[s,i]=S.useState(""),[l,u]=S.useState([]),[d,f]=S.useState([]),[p,m]=S.useState([]),[g,b]=S.useState(!1),[v,j]=S.useState(null),[y,k]=S.useState(!1),[A,_]=S.useState(""),[O,w]=S.useState(!1),[C,P]=S.useState(null),R=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],I=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],$=S.useCallback(async()=>{try{const L=await le({url:"/api/marketplace-hub/installed",method:"GET"});f(L.items||[])}catch(L){console.error("Failed to fetch installed:",L)}},[]);S.useEffect(()=>{$()},[$]);const T=async()=>{if(e.trim()){b(!0),P(null);try{const L=new URLSearchParams({q:e});r.length>0&&L.set("sources",r.join(",")),s&&L.set("type",s),L.set("limit","30");const W=await le({url:`/api/marketplace-hub/search?${L.toString()}`,method:"GET"});u(W.items||[])}catch(L){P("Search failed. Please try again."),console.error("Search failed:",L)}finally{b(!1)}}},M=async L=>{j(L.id),P(null);try{await le({url:"/api/marketplace-hub/install",method:"POST",data:{source:L.source,itemId:L.id}}),await $(),alert(`Successfully installed: ${L.name}`)}catch(W){P(`Failed to install ${L.name}`),console.error("Install failed:",W)}finally{j(null)}},K=async L=>{try{await le({url:`/api/marketplace-hub/uninstall/${L}`,method:"DELETE"}),await $()}catch(W){P("Failed to uninstall"),console.error("Uninstall failed:",W)}},Y=async()=>{if(A.trim()){w(!0),P(null);try{const L=await le({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:A}});m(L.recommendations||[])}catch(L){P("Recommendation failed. Please try again."),console.error("Recommend failed:",L)}finally{w(!1)}}},U=L=>{a(W=>W.includes(L)?W.filter(X=>X!==L):[...W,L])},B=L=>d.some(W=>W.extensionId===L);return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:L=>t(L.target.value),onKeyDown:L=>L.key==="Enter"&&T(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{onClick:T,disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Searching...":"Search"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),R.map(L=>n.jsx("button",{onClick:()=>U(L.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r.includes(L.id)||r.length===0?qy[L.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:L.name},L.id))]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),I.map(L=>n.jsx("button",{onClick:()=>i(L.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===L.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:L.name},L.id))]})]}),C&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:C}),l.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(L=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:zP[L.type]||""}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${qy[L.source]||"bg-gray-100 text-gray-800"}`,children:L.source})]}),L.version&&n.jsxs("span",{className:"text-xs text-gray-500",children:["v",L.version]})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:L.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[L.downloads!==void 0&&n.jsxs("span",{children:[" ",L.downloads.toLocaleString()]}),L.stars!==void 0&&n.jsxs("span",{children:[" ",L.stars.toLocaleString()]}),L.rating!==void 0&&n.jsxs("span",{children:["Rating: ",L.rating.toFixed(1)]})]}),n.jsx("button",{onClick:()=>M(L),disabled:v===L.id||B(L.id),className:`px-3 py-1 rounded text-sm font-medium ${B(L.id)?"bg-green-100 text-green-700 cursor-default":v===L.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:B(L.id)?"Installed":v===L.id?"Installing...":"Install"})]})]},`${L.source}-${L.id}`))})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:A,onChange:L=>_(L.target.value),onKeyDown:L=>L.key==="Enter"&&Y(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),n.jsx("button",{onClick:Y,disabled:O,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Finding...":"Get Recommendations"})]}),p.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((L,W)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:zP[L.item.type]||""}),n.jsx("span",{className:"font-semibold",children:L.item.name})]}),n.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(L.confidence*100),"% match"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:L.reason}),n.jsx("button",{onClick:()=>M(L.item),disabled:v===L.item.id||B(L.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:B(L.item.id)?"Installed":"Install"})]},W))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsxs("button",{onClick:()=>k(!y),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",d.length,")"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),n.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${y?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&d.length>0&&n.jsx("div",{className:"px-6 pb-6",children:n.jsx("div",{className:"divide-y divide-gray-100",children:d.map(L=>n.jsxs("div",{className:"py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:L.name}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${qy[L.source]||"bg-gray-100"}`,children:L.source})]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["v",L.version,"  Installed ",new Date(L.installedAt).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>K(L.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},L.id))})}),y&&d.length===0&&n.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]})]})})}const UP={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},zy=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function dee(){var W;const e=Vs(),{user:t}=En(),[r,a]=S.useState(null),[s,i]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(!1),[p,m]=S.useState(null),[g,b]=S.useState(""),[v,j]=S.useState(""),[y,k]=S.useState(""),[A,_]=S.useState(null),[O,w]=S.useState([]),[C,P]=S.useState("");S.useEffect(()=>{R(),I()},[]);const R=async()=>{try{const z=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(z.data)a(z.data),z.data.data&&(b(z.data.data.companyName||""),j(z.data.data.industry||""),k(z.data.data.teamSize||""),_(z.data.data.templateId||null),w(z.data.data.selectedAgents||[]));else{const F=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();a(F.data)}}catch(X){m(X instanceof Error?X.message:"Failed to load")}finally{u(!1)}},I=async()=>{try{const z=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();i(z.data||[])}catch(X){console.error("Failed to fetch templates",X)}},$=async(X,z)=>{f(!0),m(null);try{const F=await(await fetch(`/api/onboarding/step/${X}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:z})})).json();if(!F.success)throw new Error(F.error);a(F.data),F.data.isComplete&&e("/dashboard")}catch(q){m(q instanceof Error?q.message:"Failed to complete step")}finally{f(!1)}},T=async X=>{f(!0),m(null);try{const q=await(await fetch(`/api/onboarding/step/${X}/skip`,{method:"POST",credentials:"include"})).json();if(!q.success)throw new Error(q.error);a(q.data)}catch(z){m(z instanceof Error?z.message:"Failed to skip step")}finally{f(!1)}},M=()=>{if(!g.trim()){m("Company name is required");return}$("company_info",{companyName:g,industry:v,teamSize:y})},K=async()=>{if(!A){m("Please select a template");return}f(!0),m(null);try{const z=await(await fetch(`/api/onboarding/templates/${A}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:O}})})).json();if(!z.success)throw new Error(z.error);await R()}catch(X){m(X instanceof Error?X.message:"Failed to apply template")}finally{f(!1)}},Y=()=>{const X=C.split(/[,\n]/).map(z=>z.trim()).filter(z=>z);if(X.length===0){T("invite_team");return}$("invite_team",{invitedEmails:X})},U=(r==null?void 0:r.currentStep)||"company_info",B=UP[U],L=zy.indexOf(U);return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",L+1," of ",zy.length-1]}),n.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:B.titleKo}),n.jsx("p",{className:"text-gray-600",children:B.descriptionKo})]}),p&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:p})}),U==="company_info"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),n.jsx("input",{type:"text",value:g,onChange:X=>b(X.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),n.jsxs("select",{value:v,onChange:X=>j(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:"Select industry"}),n.jsx("option",{value:"technology",children:"Technology"}),n.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),n.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),n.jsx("option",{value:"manufacturing",children:"Manufacturing"}),n.jsx("option",{value:"consulting",children:"Consulting"}),n.jsx("option",{value:"healthcare",children:"Healthcare"}),n.jsx("option",{value:"finance",children:"Finance"}),n.jsx("option",{value:"education",children:"Education"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),n.jsxs("select",{value:y,onChange:X=>k(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:"Select team size"}),n.jsx("option",{value:"1-5",children:"1-5 people"}),n.jsx("option",{value:"6-20",children:"6-20 people"}),n.jsx("option",{value:"21-50",children:"21-50 people"}),n.jsx("option",{value:"51-200",children:"51-200 people"}),n.jsx("option",{value:"200+",children:"200+ people"})]})]}),n.jsx("button",{onClick:M,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),U==="google_workspace"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),n.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),n.jsx("div",{className:"flex justify-between pt-4",children:n.jsx("button",{onClick:()=>T("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),U==="select_template"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(X=>n.jsxs("button",{onClick:()=>_(X.id),className:`p-6 border-2 rounded-xl text-left transition ${A===X.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"text-3xl mb-2",children:X.icon}),n.jsx("h3",{className:"font-semibold text-gray-900",children:X.nameKo}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.descriptionKo}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[X.agents.filter(z=>z.enabled).length," agents,"," ",X.id==="custom"?"configure yourself":"pre-configured"]})]},X.id))}),n.jsx("button",{onClick:K,disabled:d||!A,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),U==="customize_agents"&&n.jsxs("div",{className:"space-y-6",children:[A&&n.jsx("div",{className:"space-y-4",children:(W=s.find(X=>X.id===A))==null?void 0:W.agents.map(X=>n.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:X.enabled||O.includes(X.id),onChange:z=>{z.target.checked?w([...O,X.id]):w(O.filter(q=>q!==X.id))},className:"h-4 w-4 text-indigo-600 rounded"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:X.name}),n.jsx("div",{className:"text-sm text-gray-500",children:X.description})]})]},X.id))}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>T("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),n.jsx("button",{onClick:()=>$("customize_agents",{selectedAgents:O}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),U==="connect_slack"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),n.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),n.jsx("div",{className:"flex justify-between pt-4",children:n.jsx("button",{onClick:()=>T("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),U==="invite_team"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),n.jsx("textarea",{value:C,onChange:X=>P(X.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>T("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),n.jsx("button",{onClick:Y,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":C.trim()?"Send Invites":"Continue"})]})]}),U==="first_workflow"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),n.jsx("button",{onClick:()=>{$("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),n.jsx("div",{className:"flex justify-between pt-4",children:n.jsx("button",{onClick:()=>T("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),U==="completed"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),n.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),U!=="completed"&&n.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:zy.slice(0,-1).map(X=>{const z=r==null?void 0:r.completedSteps.includes(X),q=r==null?void 0:r.skippedSteps.includes(X),F=X===U;return n.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-green-500":q?"bg-gray-300":F?"bg-indigo-600":"bg-gray-200"}`,title:UP[X].title},X)})})]})]})}const fee=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],Fl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},WP={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function hee(){var W,X;const e=Vs(),[t,r]=S.useState(WP),[a,s]=S.useState(!1),[i,l]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(null),[m,g]=S.useState(""),[b,v]=S.useState(""),[j,y]=S.useState(""),[k,A]=S.useState(""),[_,O]=S.useState(""),w=S.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),d(null);try{const z=await le({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(q=>({...q,analysis:z,selectedSkills:z.suggestedSkills,selectedTools:z.suggestedTools}))}catch(z){const q=z instanceof Re?z.message:"   ";d(q)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);S.useEffect(()=>{t.step===3&&!t.analysis&&w()},[t.step,t.analysis,w]);const C=z=>{r(q=>({...q,changeType:z}))},P=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(z=>({...z,step:z.step+1}))},R=()=>{d(null),r(z=>({...z,step:z.step-1}))},I=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const z=await le({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:z.prUrl,changeId:z.changeId})}catch(z){const q=z instanceof Re?z.message:"    ";d(q)}finally{l(!1)}},$=z=>{r(q=>({...q,selectedSkills:q.selectedSkills.includes(z)?q.selectedSkills.filter(F=>F!==z):[...q.selectedSkills,z]}))},T=z=>{r(q=>({...q,selectedTools:q.selectedTools.includes(z)?q.selectedTools.filter(F=>F!==z):[...q.selectedTools,z]}))},M=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(r(z=>({...z,customSkills:[...z.customSkills,m.trim()]})),g(""))},K=()=>{b.trim()&&!t.customTools.includes(b.trim())&&(r(z=>({...z,customTools:[...z.customTools,b.trim()]})),v(""))},Y=(z,q,F)=>{q.trim()&&!t.permissions[z].includes(q.trim())&&(r(G=>({...G,permissions:{...G.permissions,[z]:[...G.permissions[z],q.trim()]}})),F(""))},U=(z,q)=>{r(F=>({...F,permissions:{...F.permissions,[z]:F.permissions[z].filter(G=>G!==q)}}))},B=z=>{switch(z){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},L=z=>{switch(z){case"low":return"";case"medium":return"";case"high":return""}};return f?n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),n.jsx("a",{href:f.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:f.prUrl})]}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),n.jsx("button",{onClick:()=>{r(WP),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),n.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${z===t.step?"bg-indigo-600 text-white":z<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:z<t.step?"":z}),z<5&&n.jsx("div",{className:`w-16 h-1 mx-2 ${z<t.step?"bg-indigo-600":"bg-gray-200"}`})]},z))}),n.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[n.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),n.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),n.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),n.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),n.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),n.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(Fl).map(z=>{const q=Fl[z],F=t.changeType===z;return n.jsxs("button",{onClick:()=>C(z),className:`p-4 rounded-lg border-2 text-left transition-all ${F?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-3xl mb-2",children:q.emoji}),n.jsx("div",{className:"font-semibold text-gray-900",children:q.title}),n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:q.titleEn}),n.jsx("div",{className:"text-sm text-gray-600",children:q.description})]},z)})})]}),t.step===2&&n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&Fl[t.changeType].emoji," ",t.changeType&&Fl[t.changeType].title," (Step 2/5)"]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),n.jsxs("select",{value:t.teamFunction,onChange:z=>r(q=>({...q,teamFunction:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:""}),fee.map(z=>n.jsx("option",{value:z,children:z},z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),n.jsx("input",{type:"text",value:t.entityName,onChange:z=>r(q=>({...q,entityName:z.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),n.jsx("textarea",{value:t.description,onChange:z=>r(q=>({...q,description:z.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-xl mr-2",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),n.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):n.jsxs("div",{className:"space-y-6",children:[t.analysis&&n.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-xl mr-2",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),n.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(W=t.analysis)==null?void 0:W.suggestedSkills.map(z=>n.jsx("button",{onClick:()=>$(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customSkills.map(z=>n.jsxs("button",{onClick:()=>r(q=>({...q,customSkills:q.customSkills.filter(F=>F!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:m,onChange:z=>g(z.target.value),onKeyPress:z=>z.key==="Enter"&&M(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{onClick:M,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(X=t.analysis)==null?void 0:X.suggestedTools.map(z=>n.jsx("button",{onClick:()=>T(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customTools.map(z=>n.jsxs("button",{onClick:()=>r(q=>({...q,customTools:q.customTools.filter(F=>F!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:b,onChange:z=>v(z.target.value),onKeyPress:z=>z.key==="Enter"&&K(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{onClick:K,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(z=>n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[z,n.jsx("button",{onClick:()=>U("read",z),className:"ml-1 hover:text-blue-900",children:""})]},z))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:j,onChange:z=>y(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("read",j,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{onClick:()=>Y("read",j,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(z=>n.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[z,n.jsx("button",{onClick:()=>U("write",z),className:"ml-1 hover:text-green-900",children:""})]},z))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:k,onChange:z=>A(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("write",k,A),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{onClick:()=>Y("write",k,A),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(z=>n.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[z,n.jsx("button",{onClick:()=>U("deny",z),className:"ml-1 hover:text-red-900",children:""})]},z))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:_,onChange:z=>O(z.target.value),onKeyPress:z=>z.key==="Enter"&&Y("deny",_,O),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{onClick:()=>Y("deny",_,O),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:" :"}),n.jsx("span",{className:"font-medium",children:t.changeType&&Fl[t.changeType].title})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),n.jsx("span",{className:"font-medium",children:t.teamFunction})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:":"}),n.jsx("span",{className:"font-medium",children:t.entityName})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:":"}),n.jsx("span",{className:"text-gray-700",children:t.description})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:":"}),n.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(z=>n.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:z},z))})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-32 text-gray-500",children:":"}),n.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(z=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:z},z))})]})]})]}),t.analysis&&n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[n.jsx("span",{children:" "}),n.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${B(t.analysis.riskLevel)}`,children:[": ",L(t.analysis.riskLevel)]})]}),n.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),n.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),n.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"text-lg mr-2",children:""}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),n.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((z,q)=>n.jsx("li",{className:"text-sm text-gray-700",children:z},q))})]})]})]})]}),t.analysis&&n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),n.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(z=>n.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",z]},z))]}),t.analysis.filesModified.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(z=>n.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",z]},z))]})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):R,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?n.jsx("button",{onClick:P,disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):n.jsx("button",{onClick:I,disabled:i,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?" ...":"  PR "})]})]})}function mee(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[l,u]=S.useState(!1),[d,f]=S.useState("all"),[p,m]=S.useState(!1);S.useEffect(()=>{g()},[d]);const g=async()=>{try{a(!0);const _=new URLSearchParams;d!=="all"&&_.set("type",d),_.set("status","active"),_.set("limit","50");const O=await fetch(`/api/patterns?${_}`,{credentials:"include"});if(Po(O)){u(!0);return}if(!O.ok)throw new Error("Failed to fetch patterns");const w=await O.json();t(w.patterns),i(null)}catch(_){i(_ instanceof Error?_.message:"Unknown error")}finally{a(!1)}},b=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await g()}catch(_){i(_ instanceof Error?_.message:"Analysis failed")}finally{m(!1)}},v=async _=>{try{if(!(await fetch(`/api/patterns/${_}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(w=>w.id!==_))}catch(O){i(O instanceof Error?O.message:"Failed to dismiss")}},j=async _=>{try{const O=await fetch(`/api/patterns/${_}/generate-sop`,{method:"POST",credentials:"include"});if(!O.ok)throw new Error("Failed to generate SOP");const w=await O.json();window.location.href=`/sop-drafts/${w.draft.id}`}catch(O){i(O instanceof Error?O.message:"Failed to generate SOP")}},y=()=>{const _={sequence:0,cluster:0,time:0};let O=0;for(const w of e)_[w.type]++,O+=w.confidence;return{total:e.length,byType:_,avgConfidence:e.length>0?O/e.length:0}},k=_=>{var w;const O=_.data;switch(_.type){case"sequence":return n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((w=O.sequence)==null?void 0:w.join("  "))||"N/A"]});case"cluster":return n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Intent:"})," ",O.commonIntent||"Similar requests"]});case"time":return n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Schedule:"})," ",O.description||"Recurring pattern"]});default:return null}},A=y();return l?n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),n.jsx(Kc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:g})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),n.jsx("button",{onClick:b,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A.total})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.byType.sequence})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.byType.cluster})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A.byType.time})]})]}),n.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(_=>n.jsx("button",{onClick:()=>f(_),className:`px-4 py-2 rounded-lg ${d===_?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsx("p",{className:"text-red-700",children:s})}),r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[n.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),n.jsx("button",{onClick:b,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.type==="sequence"?"bg-blue-100 text-blue-700":_.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.type}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(_.confidence*100),"% confidence"]})]}),n.jsx("div",{className:"mb-3",children:k(_)}),n.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:["Frequency: ",_.frequency]}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(_.createdAt).toLocaleDateString()})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:n.jsx("div",{className:`h-full rounded-full ${_.confidence>=.8?"bg-green-500":_.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_.confidence*100}%`}})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>j(_.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),n.jsx("button",{onClick:()=>v(_.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},_.id))})]})})}function pee(){const[e,t]=S.useState(null),[r,a]=S.useState([]),[s,i]=S.useState(null),[l,u]=S.useState([]),[d,f]=S.useState(!0),[p,m]=S.useState(!1),[g,b]=S.useState(!1),[v,j]=S.useState("30d"),[y,k]=S.useState("overview"),[A,_]=S.useState({name:"",slug:"",email:"",website:"",description:""}),O=S.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me",method:"GET"});return t(T.publisher),!0}catch(T){return T instanceof Re&&T.status===404&&b(!0),!1}},[]),w=S.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me/extensions",method:"GET"});a(T.extensions)}catch(T){console.error("Failed to fetch extensions:",T)}},[]),C=S.useCallback(async()=>{try{const T=await le({url:`/api/marketplace/publishers/me/analytics?period=${v}`,method:"GET"});i(T.analytics)}catch(T){console.error("Failed to fetch analytics:",T)}},[v]),P=S.useCallback(async()=>{try{const T=await le({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(T.payouts)}catch(T){console.error("Failed to fetch payouts:",T)}},[]);S.useEffect(()=>{(async()=>{f(!0),await O()&&await Promise.all([w(),C(),P()]),f(!1)})()},[O,w,C,P]),S.useEffect(()=>{e&&C()},[v,e,C]);const R=async T=>{T.preventDefault(),m(!0);try{const M=await le({url:"/api/marketplace/publishers/register",method:"POST",data:A});t(M.publisher),b(!1)}catch(M){const K=M instanceof Re?M.message:"Registration failed";alert(K)}finally{m(!1)}},I=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:String(T),$=T=>`$${(T/100).toFixed(2)}`;return d?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):g?n.jsxs("div",{className:"max-w-xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),n.jsx("input",{type:"text",value:A.name,onChange:T=>_({...A,name:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),n.jsx("input",{type:"text",value:A.slug,onChange:T=>_({...A,slug:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),n.jsx("input",{type:"email",value:A.email,onChange:T=>_({...A,email:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",value:A.website,onChange:T=>_({...A,website:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:A.description,onChange:T=>_({...A,description:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),n.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),n.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&n.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),n.jsx(Tt,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(T=>n.jsxs("button",{onClick:()=>k(T),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===T?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[T==="overview"&&"Overview",T==="extensions"&&`Extensions (${r.length})`,T==="payouts"&&"Payouts"]},T))})}),y==="overview"&&s&&n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-end mb-4",children:n.jsxs("select",{value:v,onChange:T=>j(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),n.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:I(s.totalDownloads)})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),n.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:I(s.totalInstalls)})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),n.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:$(s.totalRevenue)})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),n.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),n.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((T,M)=>{const K=Math.max(...s.downloadTrend.map(U=>U.count))||1,Y=T.count/K*100;return n.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(Y,2)}%`},title:`${T.date}: ${T.count} downloads`},M)})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"pb-3",children:"Extension"}),n.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),n.jsx("th",{className:"pb-3 text-right",children:"Installs"}),n.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),n.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),n.jsx("tbody",{children:s.extensionStats.map(T=>n.jsxs("tr",{className:"border-b last:border-b-0",children:[n.jsx("td",{className:"py-3 font-medium text-gray-900",children:T.name}),n.jsx("td",{className:"py-3 text-right text-gray-600",children:I(T.downloads)}),n.jsx("td",{className:"py-3 text-right text-gray-600",children:I(T.installs)}),n.jsx("td",{className:"py-3 text-right text-green-600",children:$(T.revenue)}),n.jsxs("td",{className:"py-3 text-right",children:[n.jsx("span",{className:"text-yellow-500",children:""})," ",T.rating.toFixed(1)]})]},T.extensionId))})]})]})]}),y==="extensions"&&n.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),n.jsx(Tt,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"p-4",children:"Extension"}),n.jsx("th",{className:"p-4",children:"Status"}),n.jsx("th",{className:"p-4 text-right",children:"Downloads"}),n.jsx("th",{className:"p-4 text-right",children:"Rating"}),n.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),n.jsx("tbody",{children:r.map(T=>n.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[n.jsx("td",{className:"p-4",children:n.jsx(Tt,{to:`/marketplace/${T.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:T.name})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="published"?"bg-green-100 text-green-700":T.status==="review"?"bg-yellow-100 text-yellow-700":T.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),n.jsx("td",{className:"p-4 text-right text-gray-600",children:I(T.stats.downloads)}),n.jsxs("td",{className:"p-4 text-right",children:[n.jsx("span",{className:"text-yellow-500",children:""})," ",T.stats.rating.toFixed(1),n.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",T.stats.reviewCount,")"]})]}),n.jsx("td",{className:"p-4 text-right",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.pricing})})]},T.id))})]})}),y==="payouts"&&n.jsxs("div",{children:[!e.payoutEnabled&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),n.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[n.jsx("th",{className:"p-4",children:"Period"}),n.jsx("th",{className:"p-4",children:"Amount"}),n.jsx("th",{className:"p-4",children:"Status"}),n.jsx("th",{className:"p-4",children:"Paid Date"})]})}),n.jsx("tbody",{children:l.map(T=>n.jsxs("tr",{className:"border-b last:border-b-0",children:[n.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(T.periodStart).toLocaleDateString()," -"," ",new Date(T.periodEnd).toLocaleDateString()]}),n.jsx("td",{className:"p-4 font-medium text-green-600",children:$(T.amount)}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="processing"?"bg-blue-100 text-blue-700":T.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),n.jsx("td",{className:"p-4 text-gray-600",children:T.paidAt?new Date(T.paidAt).toLocaleDateString():"-"})]},T.id))})]})})]})]}):null}function gee(){const[e,t]=S.useState([]),[r,a]=S.useState(!0),[s,i]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState("all"),[p,m]=S.useState(""),[g,b]=S.useState(!1);S.useEffect(()=>{v()},[d]);const v=async()=>{try{a(!0);const O=new URLSearchParams;d!=="all"&&O.set("status",d),O.set("limit","50");const w=await fetch(`/api/sop-drafts?${O}`,{credentials:"include"});if(!w.ok)throw new Error("Failed to fetch drafts");const C=await w.json();t(C.drafts),i(null)}catch(O){i(O instanceof Error?O.message:"Unknown error")}finally{a(!1)}},j=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(C=>C.id===O?{...C,status:"approved",reviewedAt:new Date().toISOString()}:C)),u(null)}catch(w){i(w instanceof Error?w.message:"Failed to approve")}},y=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(C=>C.id===O?{...C,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:C)),b(!1),m(""),u(null)}catch(w){i(w instanceof Error?w.message:"Failed to reject")}},k=async O=>{try{const w=await fetch(`/api/sop-drafts/${O.id}/yaml`,{credentials:"include"});if(!w.ok)throw new Error("Failed to download YAML");const C=await w.blob(),P=window.URL.createObjectURL(C),R=document.createElement("a");R.href=P,R.download=`${O.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(P)}catch(w){i(w instanceof Error?w.message:"Failed to download")}},A=O=>{switch(O){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},_=O=>{switch(O){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),n.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),n.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(O=>n.jsx("button",{onClick:()=>f(O),className:`px-4 py-2 rounded-lg ${d===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O==="all"?"All":O.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase())},O))}),s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsx("p",{className:"text-red-700",children:s})}),n.jsxs("div",{className:"flex gap-6",children:[n.jsx("div",{className:"w-1/3",children:r?n.jsx("div",{className:"text-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:n.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):n.jsx("div",{className:"space-y-3",children:e.map(O=>n.jsxs("div",{onClick:()=>u(O),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===O.id?"ring-2 ring-blue-500":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:O.name}),n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A(O.status)}`,children:O.status.replace("_"," ")})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.description}),n.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[n.jsx("span",{children:O.function}),n.jsx("span",{children:""}),n.jsxs("span",{children:[O.steps.length," steps"]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[Math.round(O.confidence*100),"%"]})]})]},O.id))})}),n.jsx("div",{className:"flex-1",children:l?n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),n.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),n.jsx("span",{className:`px-3 py-1 rounded-full ${A(l.status)}`,children:l.status.replace("_"," ")})]}),n.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[n.jsxs("span",{children:["Function: ",l.function]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Source: ",l.sourceType]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),n.jsx("div",{className:"space-y-3",children:l.steps.map((O,w)=>n.jsxs("div",{className:"flex gap-3 items-start",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:w+1}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:_(O.type)}),n.jsx("span",{className:"font-medium",children:O.name}),n.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:O.type})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),O.agentId&&n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",O.agentId]}),O.toolName&&n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",O.toolName]})]})]},O.id))})]}),l.status==="rejected"&&l.rejectionReason&&n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),n.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>k(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),n.jsx("button",{onClick:()=>{b(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),n.jsx("button",{onClick:()=>j(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&n.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:n.jsx("button",{onClick:()=>k(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[n.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),n.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),g&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),n.jsx("textarea",{value:p,onChange:O=>m(O.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>{b(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>y(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const xee={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function yee({step:e,index:t,isSelected:r,isDragging:a,onSelect:s,onDragStart:i,onDragEnd:l}){const u=S.useMemo(()=>xee[e.type],[e.type]);return n.jsxs("div",{draggable:!0,onDragStart:i,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${a?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[n.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-lg",children:u.icon}),n.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),n.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),n.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&n.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),n.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function vee({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:a,onAddStep:s}){const[i,l]=S.useState(null),[u,d]=S.useState(null),f=S.useRef(null),p=S.useCallback(j=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(j)),l(j)},[]),m=S.useCallback(()=>{l(null),d(null)},[]),g=S.useCallback(j=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",i!==null&&j!==i&&d(j)},[i]),b=S.useCallback(j=>y=>{y.preventDefault();const k=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(k)&&k!==j&&a(k,j),l(null),d(null)},[a]),v=j=>j>=e.length-1?null:n.jsxs("div",{className:"flex justify-center my-2",children:[n.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),n.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:n.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return n.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:f,children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),n.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Automated"})]}),n.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Manual"})]}),n.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Approval"})]})]})}),n.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx("div",{className:"text-5xl mb-4",children:""}),n.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),n.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[e.map((j,y)=>n.jsxs("div",{children:[u===y&&i!==null&&n.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:n.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),n.jsx("div",{onDragOver:g(y),onDrop:b(y),children:n.jsx(yee,{step:j,index:y,isSelected:t===y,isDragging:i===y,onSelect:()=>r(y),onDragStart:p(y),onDragEnd:m})}),v(y)]},j.id+"-"+y)),u===e.length&&i!==null&&n.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:j=>{j.preventDefault(),d(e.length)},onDrop:b(e.length),children:n.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&n.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function bee({step:e,onUpdate:t,onDelete:r,onClose:a}){var g,b;const[s,i]=S.useState(e),[l,u]=S.useState("");if(S.useEffect(()=>{i(e)},[e]),!s)return n.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(v,j)=>{const y={...s,[v]:j};i(y),t(y)},f=v=>{const j={...s,conditional:{when:v}};i(j),t(j)},p=()=>{if(!l.trim())return;const v=[...s.checklist||[],l.trim()];d("checklist",v),u("")},m=v=>{var y;const j=((y=s.checklist)==null?void 0:y.filter((k,A)=>A!==v))||[];d("checklist",j.length>0?j:void 0)};return n.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),n.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:s.type,onChange:v=>d("type",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"automated",children:" Automated"}),n.jsx("option",{value:"manual",children:" Manual"}),n.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),n.jsx("input",{type:"text",value:s.id,onChange:v=>d("id",v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:s.name,onChange:v=>d("name",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:s.description||"",onChange:v=>d("description",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),n.jsx("input",{type:"text",value:s.agent||"",onChange:v=>d("agent",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),n.jsx("input",{type:"text",value:s.tool||"",onChange:v=>d("tool",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),n.jsx("input",{type:"text",value:s.assignee||"",onChange:v=>d("assignee",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:v=>d("requires_approval",v.target.checked),className:"rounded border-gray-300"}),n.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),n.jsx("input",{type:"text",value:s.approver||"",onChange:v=>d("approver",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),n.jsxs("select",{value:s.timeout||"",onChange:v=>d("timeout",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:"No timeout"}),n.jsx("option",{value:"5m",children:"5 minutes"}),n.jsx("option",{value:"15m",children:"15 minutes"}),n.jsx("option",{value:"30m",children:"30 minutes"}),n.jsx("option",{value:"1h",children:"1 hour"}),n.jsx("option",{value:"2h",children:"2 hours"}),n.jsx("option",{value:"4h",children:"4 hours"}),n.jsx("option",{value:"8h",children:"8 hours"}),n.jsx("option",{value:"24h",children:"24 hours"}),n.jsx("option",{value:"48h",children:"48 hours"}),n.jsx("option",{value:"72h",children:"72 hours"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),n.jsx("input",{type:"text",value:((g=s.conditional)==null?void 0:g.when)||"",onChange:v=>v.target.value?f(v.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),n.jsxs("div",{className:"space-y-2",children:[(b=s.checklist)==null?void 0:b.map((v,j)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:v}),n.jsx("button",{onClick:()=>m(j),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},j)),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),n.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),n.jsx("div",{className:"pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function jee({sopId:e,isOpen:t,onClose:r}){const[a,s]=S.useState("{}"),[i,l]=S.useState(null),[u,d]=S.useState(!1),[f,p]=S.useState(null),[m,g]=S.useState(0),b=async()=>{if(e){d(!0),p(null);try{const y=JSON.parse(a),k=await le({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(k.simulation),g(0)}catch(y){y instanceof SyntaxError?p("Invalid JSON in input data"):y instanceof Re?p(y.message):p("Failed to simulate SOP")}finally{d(!1)}}},v=y=>{if(y<60)return`${y}m`;const k=Math.floor(y/60),A=y%60;if(k<24)return A>0?`${k}h ${A}m`:`${k}h`;const _=Math.floor(k/24),O=k%24;return O>0?`${_}d ${O}h`:`${_}d`},j=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),n.jsx("textarea",{value:a,onChange:y=>s(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),n.jsx("button",{onClick:b,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),f&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),i&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:i.sopName}),n.jsxs("div",{className:"flex gap-6 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",n.jsx("span",{className:"font-medium",children:i.totalSteps})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",n.jsx("span",{className:"font-medium",children:v(i.estimatedTotalDuration)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",n.jsxs("span",{className:"font-medium",children:[i.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),n.jsx("div",{className:"space-y-3",children:i.steps.map((y,k)=>{const A=j(y.type),_=k===m;return n.jsx("div",{onClick:()=>g(k),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${_?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:k+1}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${A.color}`,children:[A.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&n.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),n.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&n.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),_&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",n.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",n.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",n.jsx("span",{children:y.assignee})]}),y.approver&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",n.jsx("span",{children:y.approver})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",n.jsx("span",{children:v(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Checklist:"}),n.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((O,w)=>n.jsx("li",{className:"text-gray-600",children:O},w))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),n.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:v(y.estimatedDuration)})]})},y.id)})})]}),i.exceptionHandlers.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),n.jsx("div",{className:"space-y-2",children:i.exceptionHandlers.map((y,k)=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[n.jsx("span",{className:"text-amber-500",children:""}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:y.condition}),n.jsx("span",{className:"text-gray-400 mx-2",children:""}),n.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&n.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},k))})]})]})]})]})}):null}const wee=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function Nee(){const{id:e}=Uf(),t=Vs(),r=!!e,[a,s]=S.useState([]),[i,l]=S.useState(!0),[u,d]=S.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[f,p]=S.useState([{pattern:""}]),[m,g]=S.useState([]),[b,v]=S.useState([]),[j,y]=S.useState(null),[k,A]=S.useState(!1),[_,O]=S.useState(!1),[w,C]=S.useState(null),[P,R]=S.useState(null),[I,$]=S.useState(!1),[T,M]=S.useState(!1),[K,Y]=S.useState(""),[U,B]=S.useState("editor"),L=S.useCallback(async()=>{try{const te=await le({url:"/api/sops",method:"GET"});s(te.sops)}catch(te){console.error("Failed to fetch SOP list:",te)}finally{l(!1)}},[]),W=S.useCallback(async te=>{A(!0),C(null);try{const je=(await le({url:`/api/sops/${te}`,method:"GET"})).sop;d(je.metadata),p(je.triggers),g(je.steps),v(je.exception_handling||[])}catch(be){be instanceof Re?C(be.message):C("Failed to load SOP")}finally{A(!1)}},[]),X=S.useCallback(async()=>{if(e)try{const te=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(te.ok){const be=await te.text();Y(be)}}catch(te){console.error("Failed to fetch YAML:",te)}},[e]);S.useEffect(()=>{L()},[L]),S.useEffect(()=>{e?W(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),g([]),v([]),y(null))},[e,W]),S.useEffect(()=>{T&&e&&X()},[T,e,X]);const z=te=>{const be={id:`step-${Date.now()}`,name:`New ${te==="automated"?"Automated":te==="manual"?"Manual":"Approval"} Step`,type:te};g([...m,be]),y(m.length)},q=te=>{if(j===null)return;const be=[...m];be[j]=te,g(be)},F=()=>{if(j===null)return;const te=m.filter((be,je)=>je!==j);g(te),y(null)},G=(te,be)=>{const je=[...m],[tt]=je.splice(te,1);je.splice(be,0,tt),g(je),j===te&&y(be)},ee=()=>{p([...f,{pattern:""}])},de=(te,be)=>{const je=[...f];je[te]={pattern:be},p(je)},oe=te=>{f.length<=1||p(f.filter((be,je)=>je!==te))},ne=()=>{v([...b,{condition:"",action:"notify_owner"}])},pe=(te,be,je)=>{const tt=[...b];tt[te]={...tt[te],[be]:je},v(tt)},ue=te=>{v(b.filter((be,je)=>je!==te))},Ce=async()=>{if(!u.id.trim()){C("SOP ID is required");return}if(!u.name.trim()){C("SOP name is required");return}if(!u.owner.trim()){C("Owner is required");return}if(f.every(be=>!be.pattern.trim())){C("At least one trigger pattern is required");return}if(m.length===0){C("At least one step is required");return}O(!0),C(null),R(null);const te={metadata:u,triggers:f.filter(be=>be.pattern.trim()),steps:m,exception_handling:b.filter(be=>be.condition.trim())};try{r?(await le({url:`/api/sops/${e}`,method:"PUT",data:te}),R("SOP updated successfully")):(await le({url:"/api/sops",method:"POST",data:te}),R("SOP created successfully"),t(`/sops/${u.id}`)),L()}catch(be){be instanceof Re?C(be.message):C("Failed to save SOP")}finally{O(!1)}},Me=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await le({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),L()}catch(te){te instanceof Re?C(te.message):C("Failed to delete SOP")}};return k?n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("nav",{className:"text-sm mb-1",children:[n.jsx(Tt,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),n.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),n.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>M(!T),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:T?"Hide YAML":"View YAML"}),n.jsx("button",{onClick:()=>$(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),n.jsx("button",{onClick:Me,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),n.jsx("button",{onClick:Ce,disabled:_,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:_?"Saving...":r?"Update SOP":"Create SOP"})]})]}),w&&n.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:w}),P&&n.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:P})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[n.jsx("div",{className:"p-4",children:n.jsxs(Tt,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[n.jsx("span",{children:"+"}),n.jsx("span",{children:"New SOP"})]})}),n.jsx("nav",{className:"px-2 pb-4",children:i?n.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):a.length===0?n.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):a.map(te=>n.jsxs(Tt,{to:`/sops/${te.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===te.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx("div",{className:"font-medium truncate",children:te.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[te.function,"  ",te.stepCount," steps"]})]},te.id))})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:n.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(te=>n.jsxs("button",{onClick:()=>B(te),className:`py-3 text-sm font-medium border-b-2 transition-colors ${U===te?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[te==="editor"&&"Step Editor",te==="triggers"&&"Triggers & Metadata",te==="exceptions"&&"Exception Handlers"]},te))})}),U==="editor"&&n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx(vee,{steps:m,selectedStepIndex:j,onSelectStep:y,onReorderSteps:G,onAddStep:z}),n.jsx(bee,{step:j!==null?m[j]:null,onUpdate:q,onDelete:F,onClose:()=>y(null)})]}),U==="triggers"&&n.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),n.jsx("input",{type:"text",value:u.id,onChange:te=>d({...u,id:te.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:u.name,onChange:te=>d({...u,name:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),n.jsx("select",{value:u.function,onChange:te=>d({...u,function:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:wee.map(te=>n.jsx("option",{value:te.value,children:te.label},te.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),n.jsx("input",{type:"text",value:u.owner,onChange:te=>d({...u,owner:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),n.jsx("input",{type:"text",value:u.version,onChange:te=>d({...u,version:te.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),n.jsx("button",{onClick:ee,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),n.jsx("div",{className:"space-y-3",children:f.map((te,be)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:te.pattern,onChange:je=>de(be,je.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),f.length>1&&n.jsx("button",{onClick:()=>oe(be),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},be))})]})]})}),U==="exceptions"&&n.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),n.jsx("button",{onClick:ne,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),b.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No exception handlers defined"}),n.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):n.jsx("div",{className:"space-y-4",children:b.map((te,be)=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),n.jsxs("select",{value:te.condition,onChange:je=>pe(be,"condition",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[n.jsx("option",{value:"",children:"Select condition..."}),n.jsx("option",{value:"step.failed",children:"Step Failed"}),n.jsx("option",{value:"step.timeout",children:"Step Timeout"}),n.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),n.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),n.jsxs("select",{value:te.action,onChange:je=>pe(be,"action",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[n.jsx("option",{value:"notify_owner",children:"Notify Owner"}),n.jsx("option",{value:"escalate",children:"Escalate"}),n.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),n.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),n.jsx("option",{value:"return_to_step",children:"Return to Step"}),n.jsx("option",{value:"send_reminder",children:"Send Reminder"}),n.jsx("option",{value:"request_revision",children:"Request Revision"}),n.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),n.jsx("input",{type:"text",value:te.target||"",onChange:je=>pe(be,"target",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),n.jsx("input",{type:"text",value:te.message||"",onChange:je=>pe(be,"message",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),n.jsx("button",{onClick:()=>ue(be),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},be))})]})})})]})]}),T&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),n.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n.jsx("div",{className:"flex-1 overflow-auto p-4",children:n.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:K||"Loading..."})}),n.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(K)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),n.jsx(jee,{sopId:e||null,isOpen:I,onClose:()=>$(!1)})]})}function See(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function kee(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function O3(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Oee(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function nw(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function KP(e){return new Date(e).toLocaleDateString()}function C3(e){return new Date(e).toLocaleString()}function HP(e){switch(e){case"up":return"";case"down":return"";default:return""}}function Cee({score:e,status:t}){return n.jsxs("div",{className:`rounded-lg p-6 ${kee(e)} text-center`,children:[n.jsx("div",{className:`text-6xl font-bold ${See(e)}`,children:e}),n.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),n.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${O3(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function Uy({title:e,value:t,subtitle:r}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:e}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function Aee({agent:e}){return n.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O3(e.status)}`,children:e.status})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",n.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),n.jsx("span",{className:"ml-1 text-gray-400",children:HP(e.trends.executionsTrend)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Success:"})," ",n.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",n.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),n.jsx("span",{className:"ml-1 text-gray-400",children:HP(e.trends.latencyTrend)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",n.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&n.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function Pee({anomaly:e}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:`text-sm font-medium ${Oee(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nw(e.severity)}`,children:e.severity})]}),n.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),n.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",C3(e.detectedAt)]})]})}function Eee({gap:e}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nw(e.severity)}`,children:e.severity})]}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),n.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[n.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function _ee({recommendation:e,onAccept:t,onReject:r}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nw(e.priority)}`,children:e.priority})]}),n.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",n.jsx("span",{className:"text-gray-700",children:e.impact})]}),n.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[n.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[n.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),n.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function Tee(){const[e,t]=S.useState(null),[r,a]=S.useState([]),[s,i]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState(!0),[p,m]=S.useState(null),[g,b]=S.useState(!1),[v,j]=S.useState(!0),[y,k]=S.useState("agents"),A=S.useCallback(async()=>{try{const[P,R,I,$]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Po(P)){b(!0),f(!1);return}if(!P.ok)throw new Error("Failed to fetch health data");const T=await P.json();if(t(T.data),R.ok){const M=await R.json();a(M.data||[])}if(I.ok){const M=await I.json();i(M.data||[])}if($.ok){const M=await $.json();u(M.data||[])}m(null)}catch(P){m(P instanceof Error?P.message:"Unknown error")}finally{f(!1)}},[]);S.useEffect(()=>{A()},[A]),S.useEffect(()=>{if(!v)return;const P=setInterval(A,6e4);return()=>clearInterval(P)},[v,A]);const _=async P=>{try{(await fetch(`/api/meta-agent/recommendations/${P}/accept`,{method:"POST",credentials:"include"})).ok&&i(I=>I.filter($=>$.id!==P))}catch(R){console.error("Failed to accept recommendation",R)}},O=async P=>{try{(await fetch(`/api/meta-agent/recommendations/${P}/reject`,{method:"POST",credentials:"include"})).ok&&i(I=>I.filter($=>$.id!==P))}catch(R){console.error("Failed to reject recommendation",R)}},w=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&A()}catch(P){console.error("Failed to generate report",P)}},C=async()=>{try{f(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&A()}catch(P){console.error("Failed to run system check",P)}finally{f(!1)}};return d&&!e?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g?n.jsx(Kc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:A}):p&&!e?n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[n.jsx("h3",{className:"font-medium",children:"Error loading system health"}),n.jsx("p",{children:p}),n.jsx("button",{onClick:A,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),n.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?C3(e.timestamp):"N/A"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),n.jsx("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),n.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:P=>j(P.target.checked),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Cee,{score:e.overallScore,status:e.status}),n.jsx(Uy,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),n.jsx(Uy,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),n.jsx(Uy,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(P=>P.severity==="critical"||P.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(P=>P.severity==="critical").length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(P=>P.severity==="critical").map((P,R)=>n.jsx(Pee,{anomaly:P},R))})]}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(P=>n.jsxs("button",{onClick:()=>k(P),className:`py-2 px-4 border-b-2 font-medium text-sm ${y===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[P==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,P==="gaps"&&`Knowledge Gaps (${r.length})`,P==="recommendations"&&`Recommendations (${s.length})`,P==="reports"&&`Reports (${l.length})`]},P))})}),y==="agents"&&e&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(P=>n.jsx(Aee,{agent:P},P.agentId))}),y==="gaps"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?n.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((P,R)=>n.jsx(Eee,{gap:P},R))}),y==="recommendations"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?n.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(P=>n.jsx(_ee,{recommendation:P,onAccept:_,onReject:O},P.id))}),y==="reports"&&n.jsx("div",{className:"space-y-4",children:l.length===0?n.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(P=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:[P.type.charAt(0).toUpperCase()+P.type.slice(1)," Report"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[KP(P.periodStart)," - ",KP(P.periodEnd)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("a",{href:`/api/meta-agent/reports/${P.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),n.jsx("a",{href:`/api/meta-agent/reports/${P.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},P.id))})]})}function Ree(){const{currentOrganization:e}=En(),[t,r]=S.useState("experiments"),[a,s]=S.useState([]),[i,l]=S.useState(null),[u,d]=S.useState([]),[f,p]=S.useState(!0),[m,g]=S.useState("");S.useEffect(()=>{b()},[e]);async function b(){p(!0);try{const[y,k,A]=await Promise.all([le({url:"/api/optimization/experiments"}),le({url:"/api/optimization/costs",params:{days:30}}),le({url:"/api/optimization/models"})]);s(y.experiments||[]),l(k.analysis||null),d(A.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{p(!1)}}async function v(y){try{await le({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await b()}catch(k){console.error("Failed to start experiment:",k)}}async function j(y){try{await le({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await b()}catch(k){console.error("Failed to stop experiment:",k)}}return f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),n.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>n.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&n.jsx(Mee,{experiments:a,onStart:v,onStop:j}),t==="prompts"&&n.jsx(Dee,{selectedAgent:m,onAgentChange:g}),t==="routing"&&n.jsx(Lee,{selectedAgent:m,onAgentChange:g}),t==="models"&&n.jsx(Fee,{models:u}),t==="costs"&&i&&n.jsx(Bee,{analysis:i})]})}function Mee({experiments:e,onStart:t,onStop:r}){const a=e.filter(i=>i.status==="running"),s=e.filter(i=>i.status==="completed");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),a.length===0?n.jsx("p",{className:"text-gray-500",children:"No active experiments"}):n.jsx("div",{className:"space-y-4",children:a.map(i=>n.jsx(Iee,{experiment:i,onStart:t,onStop:r},i.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?n.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):n.jsx("div",{className:"space-y-4",children:s.map(i=>n.jsx($ee,{experiment:i},i.id))})]})]})}function Iee({experiment:e,onStart:t,onStop:r}){const a={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${a[e.status]}`,children:e.status}),e.status==="draft"&&n.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&n.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function $ee({experiment:e}){const t=e.results;return t?n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Control"}),n.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),n.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),n.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),n.jsxs("div",{className:"mt-4 text-sm",children:[n.jsxs("p",{children:["Improvement: ",n.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),n.jsxs("p",{children:["Confidence: ",n.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&n.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function Dee({selectedAgent:e,onAgentChange:t}){const[r,a]=S.useState([]),[s,i]=S.useState(!1);async function l(u){if(u){i(!0);try{const d=await le({url:`/api/optimization/agents/${u}/prompts`});a(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{i(!1)}}}return S.useEffect(()=>{e&&l(e)},[e]),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),n.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?n.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?n.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):n.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return n.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&n.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),n.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function Lee({selectedAgent:e,onAgentChange:t}){var f,p;const[r,a]=S.useState(null),[s,i]=S.useState(null),[l,u]=S.useState(!1);async function d(m){if(m){u(!0);try{const[g,b]=await Promise.all([le({url:`/api/optimization/agents/${m}/routing/analysis`}),le({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);a(g.analysis||null),i(b||null)}catch(g){console.error("Failed to load routing:",g)}finally{u(!1)}}}return S.useEffect(()=>{e&&d(e)},[e]),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),n.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?n.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),n.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),n.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),n.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(m=>n.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&n.jsxs(n.Fragment,{children:[((f=s.additions)==null?void 0:f.length)>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>n.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):n.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function Fee({models:e}){return n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>n.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function Bee({analysis:e}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),n.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),n.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),n.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),n.jsx("div",{className:"flex-1 mx-4",children:n.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:n.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),n.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),n.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),n.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),n.jsx("div",{className:"flex-1 mx-4",children:n.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:n.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),n.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),n.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?n.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):n.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),n.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[n.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),n.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}function qee({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:n.jsx(r_,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:n.jsx(fv,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:n.jsx(fv,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:n.jsx(D$,{className:"w-3 h-3"}),label:"Cooldown"}},{color:r,icon:a,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r}`,children:[a,s]})}function zee({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function Uee({isOpen:e,onClose:t,onSubmit:r,initialData:a,isEditing:s}){const[i,l]=S.useState({nickname:(a==null?void 0:a.nickname)||"",email:(a==null?void 0:a.email)||"",priority:(a==null?void 0:a.priority)||100,sessionToken:"",cookieData:""}),[u,d]=S.useState(!1),[f,p]=S.useState(null),[m,g]=S.useState(!1);S.useEffect(()=>{l(a?{nickname:a.nickname,email:a.email,priority:a.priority,sessionToken:"",cookieData:""}:{nickname:"",email:"",priority:100,sessionToken:"",cookieData:""}),p(null)},[a,e]);const b=async v=>{v.preventDefault(),d(!0),p(null);try{await r(i),t()}catch(j){p(j instanceof Error?j.message:"Failed to save account")}finally{d(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s?"Edit Account":"Add Claude Max Account"}),f&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:f}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),n.jsx("input",{type:"text",value:i.nickname,onChange:v=>l({...i,nickname:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:i.email,onChange:v=>l({...i,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"claude-account@example.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),n.jsx("input",{type:"number",value:i.priority,onChange:v=>l({...i,priority:parseInt(v.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Session Credentials"}),n.jsxs("button",{type:"button",onClick:()=>g(!m),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[n.jsx(I$,{className:"w-4 h-4"}),"How to get credentials"]})]}),m&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm",children:[n.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"How to extract Claude session:"}),n.jsxs("ol",{className:"list-decimal list-inside text-blue-700 space-y-1",children:[n.jsxs("li",{children:["Open"," ",n.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"underline inline-flex items-center gap-1",children:["claude.ai",n.jsx(F$,{className:"w-3 h-3"})]})," ","and log in"]}),n.jsx("li",{children:"Open DevTools (F12)  Application  Cookies"}),n.jsxs("li",{children:["Copy the ",n.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"sessionKey"})," value"]}),n.jsx("li",{children:"Paste it in the Session Token field below"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Token (sessionKey)"}),n.jsx("input",{type:"password",value:i.sessionToken,onChange:v=>l({...i,sessionToken:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"sk-ant-sid01-..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cookie Data (optional, full cookie string)"}),n.jsx("textarea",{value:i.cookieData,onChange:v=>l({...i,cookieData:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Only needed for advanced setups",rows:2})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":s?"Update":"Add Account"})]})]})]})}):null}function Wee(){const[e,t]=S.useState([]),[r,a]=S.useState(null),[s,i]=S.useState(!0),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(null),g=S.useCallback(async()=>{try{const{data:k}=await Sn.get("/api/claude-max-accounts");t(k.accounts),a(k.summary),u(null)}catch(k){u(k instanceof Error?k.message:"Failed to load accounts")}finally{i(!1)}},[]);S.useEffect(()=>{g();const k=setInterval(g,3e4);return()=>clearInterval(k)},[g]);const b=async k=>{await Sn.post("/api/claude-max-accounts",{nickname:k.nickname,email:k.email,priority:k.priority,credentials:k.sessionToken||k.cookieData?{sessionToken:k.sessionToken||void 0,cookieData:k.cookieData||void 0}:void 0}),await g()},v=async k=>{p&&(await Sn.patch(`/api/claude-max-accounts/${p.id}`,{nickname:k.nickname,email:k.email,priority:k.priority,credentials:k.sessionToken||k.cookieData?{sessionToken:k.sessionToken||void 0,cookieData:k.cookieData||void 0}:void 0}),await g())},j=async k=>{confirm("Are you sure you want to delete this account?")&&(await Sn.delete(`/api/claude-max-accounts/${k}`),await g())},y=async k=>{await Sn.post(`/api/claude-max-accounts/${k}/reset-status`),await g()};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(q2,{className:"w-8 h-8 animate-spin text-indigo-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),n.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(q2,{className:"w-4 h-4"}),"Refresh"]}),n.jsxs("button",{onClick:()=>{m(null),f(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx(G$,{className:"w-4 h-4"}),"Add Account"]})]})]}),l&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),r&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.total})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(r_,{className:"w-3 h-3 text-green-500"})," Active"]}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.active})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(fv,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.rateLimited})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(aD,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.exhausted})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[r.averageUsage.toFixed(1),"%"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No accounts configured. Add your first Claude Max account to get started."})}):e.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:k.nickname}),n.jsx("div",{className:"text-sm text-gray-500",children:k.email}),k.hasCredentials&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Credentials saved"})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx(qee,{status:k.status}),k.cooldownUntil&&new Date(k.cooldownUntil)>new Date&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(k.cooldownUntil).toLocaleTimeString()]})]}),n.jsx("td",{className:"px-6 py-4 w-40",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zee,{percent:k.estimatedUsagePercent}),n.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[k.estimatedUsagePercent.toFixed(0),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 text-gray-900",children:k.priority}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:k.lastActiveAt?new Date(k.lastActiveAt).toLocaleString():"Never"}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[k.status!=="active"&&n.jsx("button",{onClick:()=>y(k.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:n.jsx(Y$,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{m(k),f(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:n.jsx(K$,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:n.jsx(J$,{className:"w-4 h-4"})})]})})]},k.id))})]})}),n.jsx(Uee,{isOpen:d,onClose:()=>{f(!1),m(null)},onSubmit:p?v:b,initialData:p||void 0,isEditing:!!p})]})}const Kee=PE((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:r,pagination:a}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;r.category&&s.set("category",r.category),r.search&&s.set("search",r.search),r.isActive!==null&&s.set("isActive",String(r.isActive)),r.isSkill!==null&&s.set("isSkill",String(r.isSkill)),s.set("limit",String(a.limit)),s.set("offset",String(a.offset));const i=await le({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:i.data,pagination:i.pagination,isLoading:!1})}catch(s){const i=s instanceof Error?s.message:"Failed to fetch workflows";e({error:i,isLoading:!1})}},fetchCategories:async()=>{try{const r=await le({url:"/api/n8n/categories",method:"GET"});e({categories:r})}catch(r){console.error("Failed to fetch categories:",r)}},fetchWorkflowExecutions:async r=>{try{const a=await le({url:`/api/n8n/workflows/${r}/executions`,method:"GET"});e({executions:a})}catch(a){console.error("Failed to fetch executions:",a)}},createWorkflow:async r=>{e({isLoading:!0,error:null});try{const a=await le({url:"/api/n8n/workflows",method:"POST",data:r});return e(s=>({workflows:[a,...s.workflows],isLoading:!1})),a}catch(a){const s=a instanceof Error?a.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),a}},updateWorkflow:async(r,a)=>{e({isLoading:!0,error:null});try{const s=await le({url:`/api/n8n/workflows/${r}`,method:"PUT",data:a});return e(i=>{var l;return{workflows:i.workflows.map(u=>u.id===r?s:u),selectedWorkflow:((l=i.selectedWorkflow)==null?void 0:l.id)===r?s:i.selectedWorkflow,isLoading:!1}}),s}catch(s){const i=s instanceof Error?s.message:"Failed to update workflow";throw e({error:i,isLoading:!1}),s}},deleteWorkflow:async r=>{e({isLoading:!0,error:null});try{await le({url:`/api/n8n/workflows/${r}`,method:"DELETE"}),e(a=>{var s;return{workflows:a.workflows.filter(i=>i.id!==r),selectedWorkflow:((s=a.selectedWorkflow)==null?void 0:s.id)===r?null:a.selectedWorkflow,isLoading:!1}})}catch(a){const s=a instanceof Error?a.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),a}},executeWorkflow:async(r,a)=>{e({isExecuting:!0,error:null});try{const s=await le({url:`/api/n8n/workflows/${r}/execute`,method:"POST",data:{inputData:a}});return e(i=>({executions:[s,...i.executions],isExecuting:!1})),s}catch(s){const i=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:i,isExecuting:!1}),s}},activateWorkflow:async r=>{try{const a=await le({url:`/api/n8n/workflows/${r}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===r?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to activate workflow";throw e({error:s}),a}},deactivateWorkflow:async r=>{try{const a=await le({url:`/api/n8n/workflows/${r}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===r?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to deactivate workflow";throw e({error:s}),a}},setFilters:r=>{e(a=>({filters:{...a.filters,...r},pagination:{...a.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:r=>{e({viewMode:r})},setSelectedWorkflow:r=>{e({selectedWorkflow:r,executions:[]}),r&&t().fetchWorkflowExecutions(r.id)},setPage:r=>{e(a=>({pagination:{...a.pagination,offset:r}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),GP=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function VP(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function Hee({workflow:e,onView:t,onEdit:r,onDelete:a,onExecute:s,onToggleActive:i}){var l;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&n.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(u=>n.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:u},u)),e.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),n.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),n.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),n.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function Gee({workflow:e,onView:t,onEdit:r,onDelete:a,onExecute:s,onToggleActive:i}){var l;return n.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),n.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&n.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),n.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),n.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),n.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),n.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),n.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function QP({isOpen:e,onClose:t,onSubmit:r,initialData:a,title:s,isLoading:i}){const[l,u]=S.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:GP,isActive:!1}),[d,f]=S.useState(null);S.useEffect(()=>{u(a?{name:a.name,description:a.description||"",category:a.category,tags:a.tags.join(", "),workflowJson:JSON.stringify(a.workflowJson,null,2),isActive:a.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:GP,isActive:!1}),f(null)},[a,e]);const p=g=>{u(v=>({...v,workflowJson:g}));const b=VP(g);f(b.valid?null:b.error??null)},m=()=>{const g=VP(l.workflowJson);if(!g.valid){f(g.error??"Invalid JSON");return}r(l)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:g=>g.stopPropagation(),children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),n.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:l.name,onChange:g=>u(b=>({...b,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:l.description,onChange:g=>u(b=>({...b,description:g.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsx("input",{type:"text",value:l.category,onChange:g=>u(b=>({...b,category:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",value:l.tags,onChange:g=>u(b=>({...b,tags:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:g=>u(b=>({...b,isActive:g.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),n.jsx("textarea",{value:l.workflowJson,onChange:g=>p(g.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),d&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:i||!l.name||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":a?"Update":"Create"})]})]})}):null}function Vee({isOpen:e,onClose:t,onExecute:r,workflowName:a,isExecuting:s}){const[i,l]=S.useState("{}"),[u,d]=S.useState(null),f=m=>{l(m);try{JSON.parse(m),d(null)}catch{d("Invalid JSON")}},p=()=>{try{const m=JSON.parse(i);r(m)}catch{d("Invalid JSON")}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",a]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),n.jsx("textarea",{value:i,onChange:m=>f(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),u&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:p,disabled:s||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function Qee({isOpen:e,onClose:t,onConfirm:r,workflowName:a,isLoading:s}){return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:[n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),n.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",n.jsx("strong",{children:a}),"? This action cannot be undone."]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:r,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function Yee({workflow:e,executions:t,onClose:r}){const a=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):n.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(s.status)}`,children:s.status}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function Xee(){const{workflows:e,categories:t,executions:r,isLoading:a,isExecuting:s,error:i,viewMode:l,filters:u,pagination:d,fetchWorkflows:f,fetchCategories:p,createWorkflow:m,updateWorkflow:g,deleteWorkflow:b,executeWorkflow:v,activateWorkflow:j,deactivateWorkflow:y,setFilters:k,setViewMode:A,setSelectedWorkflow:_,setPage:O,clearError:w}=Kee(),[C,P]=S.useState(!1),[R,I]=S.useState(null),[$,T]=S.useState(null),[M,K]=S.useState(null),[Y,U]=S.useState(null);S.useEffect(()=>{f(),p()},[f,p]);const B=S.useCallback(async ee=>{const de={name:ee.name,description:ee.description||void 0,category:ee.category,tags:ee.tags.split(",").map(oe=>oe.trim()).filter(Boolean),workflowJson:JSON.parse(ee.workflowJson),isActive:ee.isActive};await m(de),P(!1)},[m]),L=S.useCallback(async ee=>{if(!R)return;const de={name:ee.name,description:ee.description||void 0,category:ee.category,tags:ee.tags.split(",").map(oe=>oe.trim()).filter(Boolean),workflowJson:JSON.parse(ee.workflowJson),isActive:ee.isActive};await g(R.id,de),I(null)},[R,g]),W=S.useCallback(async()=>{M&&(await b(M.id),K(null))},[M,b]),X=S.useCallback(async ee=>{$&&(await v($.id,ee),T(null))},[$,v]),z=S.useCallback(async ee=>{ee.isActive?await y(ee.id):await j(ee.id)},[j,y]),q=S.useCallback(ee=>{_(ee),U(ee)},[_]),F=Math.ceil(d.total/d.limit),G=Math.floor(d.offset/d.limit)+1;return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),n.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),i&&n.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[n.jsx("span",{children:i}),n.jsx("button",{onClick:w,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[n.jsx("input",{type:"text",value:u.search,onChange:ee=>k({search:ee.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsxs("select",{value:u.category,onChange:ee=>k({category:ee.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:"All Categories"}),t.map(ee=>n.jsxs("option",{value:ee.name,children:[ee.name," (",ee.count,")"]},ee.name))]}),n.jsxs("select",{value:u.isActive===null?"":String(u.isActive),onChange:ee=>k({isActive:ee.target.value===""?null:ee.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]}),n.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:()=>A("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),n.jsx("button",{onClick:()=>A("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:u.search||u.category||u.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!u.search&&!u.category&&u.isActive===null&&n.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(ee=>n.jsx(Hee,{workflow:ee,onView:()=>q(ee),onEdit:()=>I(ee),onDelete:()=>K(ee),onExecute:()=>T(ee),onToggleActive:()=>z(ee)},ee.id))}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(ee=>n.jsx(Gee,{workflow:ee,onView:()=>q(ee),onEdit:()=>I(ee),onDelete:()=>K(ee),onExecute:()=>T(ee),onToggleActive:()=>z(ee)},ee.id))}),F>1&&n.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.offset+1,"-",Math.min(d.offset+d.limit,d.total)," of ",d.total]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>O(Math.max(0,d.offset-d.limit)),disabled:d.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",G," of ",F]}),n.jsx("button",{onClick:()=>O(d.offset+d.limit),disabled:G>=F,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),n.jsx(QP,{isOpen:C,onClose:()=>P(!1),onSubmit:B,title:"Create Workflow",isLoading:a}),n.jsx(QP,{isOpen:!!R,onClose:()=>I(null),onSubmit:L,initialData:R??void 0,title:"Edit Workflow",isLoading:a}),n.jsx(Vee,{isOpen:!!$,onClose:()=>T(null),onExecute:X,workflowName:($==null?void 0:$.name)??"",isExecuting:s}),n.jsx(Qee,{isOpen:!!M,onClose:()=>K(null),onConfirm:W,workflowName:(M==null?void 0:M.name)??"",isLoading:a}),Y&&n.jsx(Yee,{workflow:Y,executions:r,onClose:()=>{U(null),_(null)}})]})}function Jee(){const[e,t]=S.useState(!1),{currentOrganization:r,organizations:a,switchOrganization:s}=En();if(!r||a.length<=1)return null;const i=async l=>{t(!1),await s(l)};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),n.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),n.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),a.map(l=>n.jsxs("button",{onClick:()=>i(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[n.jsx("div",{className:"font-medium",children:l.name}),n.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function Zee({user:e,onLogout:t}){return n.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:n.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),n.jsx(Jee,{}),e&&n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?n.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),n.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const ete=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],tte=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],rte=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],nte=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],ate=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],ste=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],ite=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function ote(){const e=Gs(),t=r=>r.map(a=>{const i=e.pathname===a.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return n.jsx("li",{children:n.jsxs(Tt,{to:a.path,className:i,children:[n.jsx("span",{className:"text-xl",children:a.icon}),n.jsx("span",{className:"font-medium",children:a.name})]})},a.path)});return n.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:n.jsx("nav",{className:"p-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{children:n.jsx("ul",{className:"space-y-2",children:t(ete)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),n.jsx("ul",{className:"space-y-2",children:t(tte)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),n.jsx("ul",{className:"space-y-2",children:t(rte)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),n.jsx("ul",{className:"space-y-2",children:t(nte)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),n.jsx("ul",{className:"space-y-2",children:t(ate)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),n.jsx("ul",{className:"space-y-2",children:t(ste)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),n.jsx("ul",{className:"space-y-2",children:t(ite)})]})]})})})}function Be({children:e}){const{user:t,logout:r}=En();return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx(Zee,{user:t||void 0,onLogout:r}),n.jsx(ote,{}),n.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function qe({children:e}){const{user:t,isLoading:r,fetchUser:a}=En();return S.useEffect(()=>{a()},[a]),r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(AE,{to:"/login",replace:!0})}function lte(){return n.jsx(yI,{children:n.jsxs(uI,{children:[n.jsx(Le,{path:"/login",element:n.jsx(NI,{})}),n.jsx(Le,{path:"/dashboard",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(s$,{})})})}),n.jsx(Le,{path:"/okr",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(PD,{})})})}),n.jsx(Le,{path:"/workflows",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(l$,{})})})}),n.jsx(Le,{path:"/workflows/:id",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(c$,{})})})}),n.jsx(Le,{path:"/executions",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(u$,{})})})}),n.jsx(Le,{path:"/executions/:id",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(d$,{})})})}),n.jsx(Le,{path:"/settings",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(f$,{})})})}),n.jsx(Le,{path:"/settings/notion",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(h$,{})})})}),n.jsx(Le,{path:"/settings/slack",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(m$,{})})})}),n.jsx(Le,{path:"/settings/google-calendar",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(p$,{})})})}),n.jsx(Le,{path:"/settings/identities",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(N$,{})})})}),n.jsx(Le,{path:"/settings/members",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(uD,{})})})}),n.jsx(Le,{path:"/approvals",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(dD,{})})})}),n.jsx(Le,{path:"/activity",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(bD,{})})})}),n.jsx(Le,{path:"/metrics/agents",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(wD,{})})})}),n.jsx(Le,{path:"/org-changes",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(ND,{})})})}),n.jsx(Le,{path:"/admin/agents",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(RD,{})})})}),n.jsx(Le,{path:"/admin/skills",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(DD,{})})})}),n.jsx(Le,{path:"/admin",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(UD,{})})})}),n.jsx(Le,{path:"/admin/organizations",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(HD,{})})})}),n.jsx(Le,{path:"/admin/identities",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(eL,{})})})}),n.jsx(Le,{path:"/admin/optimization",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(Ree,{})})})}),n.jsx(Le,{path:"/admin/claude-max-accounts",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(Wee,{})})})}),n.jsx(Le,{path:"/conversations",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(LD,{})})})}),n.jsx(Le,{path:"/search",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(zD,{})})})}),n.jsx(Le,{path:"/analytics",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(ZZ,{})})})}),n.jsx(Le,{path:"/costs",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(ree,{})})})}),n.jsx(Le,{path:"/billing",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(eee,{})})})}),n.jsx(Le,{path:"/knowledge-graph",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(lee,{})})})}),n.jsx(Le,{path:"/patterns",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(mee,{})})})}),n.jsx(Le,{path:"/feedback",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(oee,{})})})}),n.jsx(Le,{path:"/system-health",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(Tee,{})})})}),n.jsx(Le,{path:"/marketplace",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(cee,{})})})}),n.jsx(Le,{path:"/marketplace-hub",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(uee,{})})})}),n.jsx(Le,{path:"/marketplace/:extensionId",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(iee,{})})})}),n.jsx(Le,{path:"/developer",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(see,{})})})}),n.jsx(Le,{path:"/developer/publisher",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(pee,{})})})}),n.jsx(Le,{path:"/sops/drafts",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(gee,{})})})}),n.jsx(Le,{path:"/sops/editor/:id?",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(Nee,{})})})}),n.jsx(Le,{path:"/onboarding",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(dee,{})})})}),n.jsx(Le,{path:"/org-change-wizard",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(hee,{})})})}),n.jsx(Le,{path:"/n8n/workflows",element:n.jsx(qe,{children:n.jsx(Be,{children:n.jsx(Xee,{})})})}),n.jsx(Le,{path:"/",element:n.jsx(AE,{to:"/dashboard",replace:!0})})]})})}class cte extends V.Component{constructor(){super(...arguments);cd(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const a=r instanceof Error?r.message:String(r);console.error("UI error:",a)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?n.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,n.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const ute=new iM;$R.createRoot(document.getElementById("root")).render(n.jsx(V.StrictMode,{children:n.jsx(cte,{children:n.jsx(oM,{client:ute,children:n.jsx(lte,{})})})}));
