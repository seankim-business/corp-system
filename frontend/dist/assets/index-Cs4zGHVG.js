var Q3=Object.defineProperty;var z1=e=>{throw TypeError(e)};var J3=(e,t,r)=>t in e?Q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _u=(e,t,r)=>J3(e,typeof t!="symbol"?t+"":t,r),Bp=(e,t,r)=>t.has(e)||z1("Cannot "+r);var ie=(e,t,r)=>(Bp(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?z1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(Bp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ht=(e,t,r)=>(Bp(e,t,"access private method"),r);var Cu=(e,t,r,n)=>({set _(i){$e(e,t,i,r)},get _(){return ie(e,t,n)}});function Z3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},Yo={},zp={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function e6(){if(U1)return Be;U1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function y(q,H,X){this.props=q,this.context=H,this.refs=w,this.updater=X||v}y.prototype.isReactComponent={},y.prototype.setState=function(q,H){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,H,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=y.prototype;function _(q,H,X){this.props=q,this.context=H,this.refs=w,this.updater=X||v}var C=_.prototype=new S;C.constructor=_,b(C,y.prototype),C.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(q,H,X){var oe,fe={},se=null,ke=null;if(H!=null)for(oe in H.ref!==void 0&&(ke=H.ref),H.key!==void 0&&(se=""+H.key),H)j.call(H,oe)&&!E.hasOwnProperty(oe)&&(fe[oe]=H[oe]);var Se=arguments.length-2;if(Se===1)fe.children=X;else if(1<Se){for(var ce=Array(Se),Oe=0;Oe<Se;Oe++)ce[Oe]=arguments[Oe+2];fe.children=ce}if(q&&q.defaultProps)for(oe in Se=q.defaultProps,Se)fe[oe]===void 0&&(fe[oe]=Se[oe]);return{$$typeof:e,type:q,key:se,ref:ke,props:fe,_owner:P.current}}function M(q,H){return{$$typeof:e,type:q.type,key:H,ref:q.ref,props:q.props,_owner:q._owner}}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function R(q){var H={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return H[X]})}var F=/\/+/g;function U(q,H){return typeof q=="object"&&q!==null&&q.key!=null?R(""+q.key):H.toString(36)}function W(q,H,X,oe,fe){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(se){case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case e:case t:ke=!0}}if(ke)return ke=q,fe=fe(ke),q=oe===""?"."+U(ke,0):oe,O(fe)?(X="",q!=null&&(X=q.replace(F,"$&/")+"/"),W(fe,H,X,"",function(Oe){return Oe})):fe!=null&&(L(fe)&&(fe=M(fe,X+(!fe.key||ke&&ke.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+q)),H.push(fe)),1;if(ke=0,oe=oe===""?".":oe+":",O(q))for(var Se=0;Se<q.length;Se++){se=q[Se];var ce=oe+U(se,Se);ke+=W(se,H,X,ce,fe)}else if(ce=x(q),typeof ce=="function")for(q=ce.call(q),Se=0;!(se=q.next()).done;)se=se.value,ce=oe+U(se,Se++),ke+=W(se,H,X,ce,fe);else if(se==="object")throw H=String(q),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ke}function B(q,H,X){if(q==null)return q;var oe=[],fe=0;return W(q,oe,"","",function(se){return H.call(X,se,fe++)}),oe}function $(q){if(q._status===-1){var H=q._result;H=H(),H.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=H)}if(q._status===1)return q._result.default;throw q._result}var z={current:null},V={transition:null},G={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:V,ReactCurrentOwner:P};function D(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:B,forEach:function(q,H,X){B(q,function(){H.apply(this,arguments)},X)},count:function(q){var H=0;return B(q,function(){H++}),H},toArray:function(q){return B(q,function(H){return H})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Be.Component=y,Be.Fragment=r,Be.Profiler=i,Be.PureComponent=_,Be.StrictMode=n,Be.Suspense=d,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Be.act=D,Be.cloneElement=function(q,H,X){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var oe=b({},q.props),fe=q.key,se=q.ref,ke=q._owner;if(H!=null){if(H.ref!==void 0&&(se=H.ref,ke=P.current),H.key!==void 0&&(fe=""+H.key),q.type&&q.type.defaultProps)var Se=q.type.defaultProps;for(ce in H)j.call(H,ce)&&!E.hasOwnProperty(ce)&&(oe[ce]=H[ce]===void 0&&Se!==void 0?Se[ce]:H[ce])}var ce=arguments.length-2;if(ce===1)oe.children=X;else if(1<ce){Se=Array(ce);for(var Oe=0;Oe<ce;Oe++)Se[Oe]=arguments[Oe+2];oe.children=Se}return{$$typeof:e,type:q.type,key:fe,ref:se,props:oe,_owner:ke}},Be.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Be.createElement=T,Be.createFactory=function(q){var H=T.bind(null,q);return H.type=q,H},Be.createRef=function(){return{current:null}},Be.forwardRef=function(q){return{$$typeof:u,render:q}},Be.isValidElement=L,Be.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:$}},Be.memo=function(q,H){return{$$typeof:h,type:q,compare:H===void 0?null:H}},Be.startTransition=function(q){var H=V.transition;V.transition={};try{q()}finally{V.transition=H}},Be.unstable_act=D,Be.useCallback=function(q,H){return z.current.useCallback(q,H)},Be.useContext=function(q){return z.current.useContext(q)},Be.useDebugValue=function(){},Be.useDeferredValue=function(q){return z.current.useDeferredValue(q)},Be.useEffect=function(q,H){return z.current.useEffect(q,H)},Be.useId=function(){return z.current.useId()},Be.useImperativeHandle=function(q,H,X){return z.current.useImperativeHandle(q,H,X)},Be.useInsertionEffect=function(q,H){return z.current.useInsertionEffect(q,H)},Be.useLayoutEffect=function(q,H){return z.current.useLayoutEffect(q,H)},Be.useMemo=function(q,H){return z.current.useMemo(q,H)},Be.useReducer=function(q,H,X){return z.current.useReducer(q,H,X)},Be.useRef=function(q){return z.current.useRef(q)},Be.useState=function(q){return z.current.useState(q)},Be.useSyncExternalStore=function(q,H,X){return z.current.useSyncExternalStore(q,H,X)},Be.useTransition=function(){return z.current.useTransition()},Be.version="18.3.1",Be}var W1;function Iv(){return W1||(W1=1,zp.exports=e6()),zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function t6(){if(K1)return Yo;K1=1;var e=Iv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,p={},x=null,v=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:u,key:x,ref:v,props:p,_owner:i.current}}return Yo.Fragment=r,Yo.jsx=l,Yo.jsxs=l,Yo}var H1;function r6(){return H1||(H1=1,qp.exports=t6()),qp.exports}var a=r6(),k=Iv();const Y=Xe(k),n6=Z3({__proto__:null,default:Y},[k]);var Tu={},Up={exports:{}},cr={},Wp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function a6(){return G1||(G1=1,(function(e){function t(V,G){var D=V.length;V.push(G);e:for(;0<D;){var q=D-1>>>1,H=V[q];if(0<i(H,G))V[q]=G,V[D]=H,D=q;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var G=V[0],D=V.pop();if(D!==G){V[0]=D;e:for(var q=0,H=V.length,X=H>>>1;q<X;){var oe=2*(q+1)-1,fe=V[oe],se=oe+1,ke=V[se];if(0>i(fe,D))se<H&&0>i(ke,fe)?(V[q]=ke,V[se]=D,q=se):(V[q]=fe,V[oe]=D,q=oe);else if(se<H&&0>i(ke,D))V[q]=ke,V[se]=D,q=se;else break e}}return G}function i(V,G){var D=V.sortIndex-G.sortIndex;return D!==0?D:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,x=3,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=V)n(h),G.sortIndex=G.expirationTime,t(d,G);else break;G=r(h)}}function O(V){if(w=!1,C(V),!b)if(r(d)!==null)b=!0,$(j);else{var G=r(h);G!==null&&z(O,G.startTime-V)}}function j(V,G){b=!1,w&&(w=!1,S(T),T=-1),v=!0;var D=x;try{for(C(G),p=r(d);p!==null&&(!(p.expirationTime>G)||V&&!R());){var q=p.callback;if(typeof q=="function"){p.callback=null,x=p.priorityLevel;var H=q(p.expirationTime<=G);G=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(d)&&n(d),C(G)}else n(d);p=r(d)}if(p!==null)var X=!0;else{var oe=r(h);oe!==null&&z(O,oe.startTime-G),X=!1}return X}finally{p=null,x=D,v=!1}}var P=!1,E=null,T=-1,M=5,L=-1;function R(){return!(e.unstable_now()-L<M)}function F(){if(E!==null){var V=e.unstable_now();L=V;var G=!0;try{G=E(!0,V)}finally{G?U():(P=!1,E=null)}}else P=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,B=W.port2;W.port1.onmessage=F,U=function(){B.postMessage(null)}}else U=function(){y(F,0)};function $(V){E=V,P||(P=!0,U())}function z(V,G){T=y(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,$(j))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var D=x;x=G;try{return V()}finally{x=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var D=x;x=V;try{return G()}finally{x=D}},e.unstable_scheduleCallback=function(V,G,D){var q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,V={id:m++,callback:G,priorityLevel:V,startTime:D,expirationTime:H,sortIndex:-1},D>q?(V.sortIndex=D,t(h,V),r(d)===null&&V===r(h)&&(w?(S(T),T=-1):w=!0,z(O,D-q))):(V.sortIndex=H,t(d,V),b||v||(b=!0,$(j))),V},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(V){var G=x;return function(){var D=x;x=G;try{return V.apply(this,arguments)}finally{x=D}}}})(Kp)),Kp}var V1;function i6(){return V1||(V1=1,Wp.exports=a6()),Wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function s6(){if(Y1)return cr;Y1=1;var e=Iv(),t=i6();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(s){return d.call(p,s)?!0:d.call(m,s)?!1:h.test(s)?p[s]=!0:(m[s]=!0,!1)}function v(s,c,f,g){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,c,f,g){if(c===null||typeof c>"u"||v(s,c,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(s,c,f,g,N,A,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=s,this.type=c,this.sanitizeURL=A,this.removeEmptyString=I}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new w(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(S,_);y[c]=new w(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,c,f,g){var N=y.hasOwnProperty(c)?y[c]:null;(N!==null?N.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,f,N,g)&&(f=null),g||N===null?x(c)&&(f===null?s.removeAttribute(c):s.setAttribute(c,""+f)):N.mustUseProperty?s[N.propertyName]=f===null?N.type===3?!1:"":f:(c=N.attributeName,g=N.attributeNamespace,f===null?s.removeAttribute(c):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,g?s.setAttributeNS(g,c,f):s.setAttribute(c,f))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),V=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var D=Object.assign,q;function H(s){if(q===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+s}var X=!1;function oe(s,c){if(!s||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var g=re}Reflect.construct(s,[],c)}else{try{c.call()}catch(re){g=re}s.call(c.prototype)}else{try{throw Error()}catch(re){g=re}s()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var N=re.stack.split(`
`),A=g.stack.split(`
`),I=N.length-1,K=A.length-1;1<=I&&0<=K&&N[I]!==A[K];)K--;for(;1<=I&&0<=K;I--,K--)if(N[I]!==A[K]){if(I!==1||K!==1)do if(I--,K--,0>K||N[I]!==A[K]){var Q=`
`+N[I].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=I&&0<=K);break}}}finally{X=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function fe(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case P:return"Portal";case M:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return c=s.displayName||null,c!==null?c:se(s.type)||"Memo";case $:c=s._payload,s=s._init;try{return se(s(c))}catch{}}return null}function ke(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ce(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(s){var c=ce(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,A=f.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return N.call(this)},set:function(I){g=""+I,A.call(this,I)}}),Object.defineProperty(s,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ie(s){s._valueTracker||(s._valueTracker=Oe(s))}function Z(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return s&&(g=ce(s)?s.checked?"true":"false":s.value),s=g,s!==f?(c.setValue(s),!0):!1}function xe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ye(s,c){var f=c.checked;return D({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Je(s,c){var f=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;f=Se(c.value!=null?c.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ft(s,c){c=c.checked,c!=null&&C(s,"checked",c,!1)}function Et(s,c){ft(s,c);var f=Se(c.value),g=c.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?sn(s,c.type,f):c.hasOwnProperty("defaultValue")&&sn(s,c.type,Se(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Br(s,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,f||c===s.value||(s.value=c),s.defaultValue=c}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function sn(s,c,f){(c!=="number"||xe(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var on=Array.isArray;function nr(s,c,f,g){if(s=s.options,c){c={};for(var N=0;N<f.length;N++)c["$"+f[N]]=!0;for(f=0;f<s.length;f++)N=c.hasOwnProperty("$"+s[f].value),s[f].selected!==N&&(s[f].selected=N),N&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Se(f),c=null,N=0;N<s.length;N++){if(s[N].value===f){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}c!==null||s[N].disabled||(c=s[N])}c!==null&&(c.selected=!0)}}function qr(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return D({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ci(s,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(on(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}s._wrapperState={initialValue:Se(f)}}function lo(s,c){var f=Se(c.value),g=Se(c.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),c.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function co(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function tj(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qf(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?tj(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var jc,rj=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,g,N){MSApp.execUnsafeLocalFunction(function(){return s(c,f,g,N)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=jc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function uo(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t4=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(s){t4.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),fo[c]=fo[s]})});function nj(s,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||fo.hasOwnProperty(s)&&fo[s]?(""+c).trim():c+"px"}function aj(s,c){s=s.style;for(var f in c)if(c.hasOwnProperty(f)){var g=f.indexOf("--")===0,N=nj(f,c[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,N):s[f]=N}}var r4=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jf(s,c){if(c){if(r4[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Zf(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=null;function th(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rh=null,Ei=null,Ti=null;function ij(s){if(s=Mo(s)){if(typeof rh!="function")throw Error(r(280));var c=s.stateNode;c&&(c=Wc(c),rh(s.stateNode,s.type,c))}}function sj(s){Ei?Ti?Ti.push(s):Ti=[s]:Ei=s}function oj(){if(Ei){var s=Ei,c=Ti;if(Ti=Ei=null,ij(s),c)for(s=0;s<c.length;s++)ij(c[s])}}function lj(s,c){return s(c)}function cj(){}var nh=!1;function uj(s,c,f){if(nh)return s(c,f);nh=!0;try{return lj(s,c,f)}finally{nh=!1,(Ei!==null||Ti!==null)&&(cj(),oj())}}function ho(s,c){var f=s.stateNode;if(f===null)return null;var g=Wc(f);if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var ah=!1;if(u)try{var po={};Object.defineProperty(po,"passive",{get:function(){ah=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{ah=!1}function n4(s,c,f,g,N,A,I,K,Q){var re=Array.prototype.slice.call(arguments,3);try{c.apply(f,re)}catch(ue){this.onError(ue)}}var mo=!1,wc=null,Nc=!1,ih=null,a4={onError:function(s){mo=!0,wc=s}};function i4(s,c,f,g,N,A,I,K,Q){mo=!1,wc=null,n4.apply(a4,arguments)}function s4(s,c,f,g,N,A,I,K,Q){if(i4.apply(this,arguments),mo){if(mo){var re=wc;mo=!1,wc=null}else throw Error(r(198));Nc||(Nc=!0,ih=re)}}function Da(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function dj(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function fj(s){if(Da(s)!==s)throw Error(r(188))}function o4(s){var c=s.alternate;if(!c){if(c=Da(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,g=c;;){var N=f.return;if(N===null)break;var A=N.alternate;if(A===null){if(g=N.return,g!==null){f=g;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===f)return fj(N),s;if(A===g)return fj(N),c;A=A.sibling}throw Error(r(188))}if(f.return!==g.return)f=N,g=A;else{for(var I=!1,K=N.child;K;){if(K===f){I=!0,f=N,g=A;break}if(K===g){I=!0,g=N,f=A;break}K=K.sibling}if(!I){for(K=A.child;K;){if(K===f){I=!0,f=A,g=N;break}if(K===g){I=!0,g=A,f=N;break}K=K.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function hj(s){return s=o4(s),s!==null?pj(s):null}function pj(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=pj(s);if(c!==null)return c;s=s.sibling}return null}var mj=t.unstable_scheduleCallback,gj=t.unstable_cancelCallback,l4=t.unstable_shouldYield,c4=t.unstable_requestPaint,xt=t.unstable_now,u4=t.unstable_getCurrentPriorityLevel,sh=t.unstable_ImmediatePriority,xj=t.unstable_UserBlockingPriority,Sc=t.unstable_NormalPriority,d4=t.unstable_LowPriority,yj=t.unstable_IdlePriority,Oc=null,ln=null;function f4(s){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Oc,s,void 0,(s.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:m4,h4=Math.log,p4=Math.LN2;function m4(s){return s>>>=0,s===0?32:31-(h4(s)/p4|0)|0}var kc=64,Pc=4194304;function go(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ac(s,c){var f=s.pendingLanes;if(f===0)return 0;var g=0,N=s.suspendedLanes,A=s.pingedLanes,I=f&268435455;if(I!==0){var K=I&~N;K!==0?g=go(K):(A&=I,A!==0&&(g=go(A)))}else I=f&~N,I!==0?g=go(I):A!==0&&(g=go(A));if(g===0)return 0;if(c!==0&&c!==g&&(c&N)===0&&(N=g&-g,A=c&-c,N>=A||N===16&&(A&4194240)!==0))return c;if((g&4)!==0&&(g|=f&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)f=31-zr(c),N=1<<f,g|=s[f],c&=~N;return g}function g4(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x4(s,c){for(var f=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,A=s.pendingLanes;0<A;){var I=31-zr(A),K=1<<I,Q=N[I];Q===-1?((K&f)===0||(K&g)!==0)&&(N[I]=g4(K,c)):Q<=c&&(s.expiredLanes|=K),A&=~K}}function oh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vj(){var s=kc;return kc<<=1,(kc&4194240)===0&&(kc=64),s}function lh(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function xo(s,c,f){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-zr(c),s[c]=f}function y4(s,c){var f=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var N=31-zr(f),A=1<<N;c[N]=0,g[N]=-1,s[N]=-1,f&=~A}}function ch(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var g=31-zr(f),N=1<<g;N&c|s[g]&c&&(s[g]|=c),f&=~N}}var Qe=0;function bj(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var jj,uh,wj,Nj,Sj,dh=!1,_c=[],Jn=null,Zn=null,ea=null,yo=new Map,vo=new Map,ta=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oj(s,c){switch(s){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":yo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(c.pointerId)}}function bo(s,c,f,g,N,A){return s===null||s.nativeEvent!==A?(s={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[N]},c!==null&&(c=Mo(c),c!==null&&uh(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),s)}function b4(s,c,f,g,N){switch(c){case"focusin":return Jn=bo(Jn,s,c,f,g,N),!0;case"dragenter":return Zn=bo(Zn,s,c,f,g,N),!0;case"mouseover":return ea=bo(ea,s,c,f,g,N),!0;case"pointerover":var A=N.pointerId;return yo.set(A,bo(yo.get(A)||null,s,c,f,g,N)),!0;case"gotpointercapture":return A=N.pointerId,vo.set(A,bo(vo.get(A)||null,s,c,f,g,N)),!0}return!1}function kj(s){var c=La(s.target);if(c!==null){var f=Da(c);if(f!==null){if(c=f.tag,c===13){if(c=dj(f),c!==null){s.blockedOn=c,Sj(s.priority,function(){wj(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Cc(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=hh(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);eh=g,f.target.dispatchEvent(g),eh=null}else return c=Mo(f),c!==null&&uh(c),s.blockedOn=f,!1;c.shift()}return!0}function Pj(s,c,f){Cc(s)&&f.delete(c)}function j4(){dh=!1,Jn!==null&&Cc(Jn)&&(Jn=null),Zn!==null&&Cc(Zn)&&(Zn=null),ea!==null&&Cc(ea)&&(ea=null),yo.forEach(Pj),vo.forEach(Pj)}function jo(s,c){s.blockedOn===c&&(s.blockedOn=null,dh||(dh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,j4)))}function wo(s){function c(N){return jo(N,s)}if(0<_c.length){jo(_c[0],s);for(var f=1;f<_c.length;f++){var g=_c[f];g.blockedOn===s&&(g.blockedOn=null)}}for(Jn!==null&&jo(Jn,s),Zn!==null&&jo(Zn,s),ea!==null&&jo(ea,s),yo.forEach(c),vo.forEach(c),f=0;f<ta.length;f++)g=ta[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<ta.length&&(f=ta[0],f.blockedOn===null);)kj(f),f.blockedOn===null&&ta.shift()}var Ri=O.ReactCurrentBatchConfig,Ec=!0;function w4(s,c,f,g){var N=Qe,A=Ri.transition;Ri.transition=null;try{Qe=1,fh(s,c,f,g)}finally{Qe=N,Ri.transition=A}}function N4(s,c,f,g){var N=Qe,A=Ri.transition;Ri.transition=null;try{Qe=4,fh(s,c,f,g)}finally{Qe=N,Ri.transition=A}}function fh(s,c,f,g){if(Ec){var N=hh(s,c,f,g);if(N===null)Ch(s,c,g,Tc,f),Oj(s,g);else if(b4(N,s,c,f,g))g.stopPropagation();else if(Oj(s,g),c&4&&-1<v4.indexOf(s)){for(;N!==null;){var A=Mo(N);if(A!==null&&jj(A),A=hh(s,c,f,g),A===null&&Ch(s,c,g,Tc,f),A===N)break;N=A}N!==null&&g.stopPropagation()}else Ch(s,c,g,null,f)}}var Tc=null;function hh(s,c,f,g){if(Tc=null,s=th(g),s=La(s),s!==null)if(c=Da(s),c===null)s=null;else if(f=c.tag,f===13){if(s=dj(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Tc=s,null}function Aj(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case sh:return 1;case xj:return 4;case Sc:case d4:return 16;case yj:return 536870912;default:return 16}default:return 16}}var ra=null,ph=null,Rc=null;function _j(){if(Rc)return Rc;var s,c=ph,f=c.length,g,N="value"in ra?ra.value:ra.textContent,A=N.length;for(s=0;s<f&&c[s]===N[s];s++);var I=f-s;for(g=1;g<=I&&c[f-g]===N[A-g];g++);return Rc=N.slice(s,1<g?1-g:void 0)}function Mc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Ic(){return!0}function Cj(){return!1}function pr(s){function c(f,g,N,A,I){this._reactName=f,this._targetInst=N,this.type=g,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(f=s[K],this[K]=f?f(A):A[K]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ic:Cj,this.isPropagationStopped=Cj,this}return D(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),c}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=pr(Mi),No=D({},Mi,{view:0,detail:0}),S4=pr(No),gh,xh,So,$c=D({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==So&&(So&&s.type==="mousemove"?(gh=s.screenX-So.screenX,xh=s.screenY-So.screenY):xh=gh=0,So=s),gh)},movementY:function(s){return"movementY"in s?s.movementY:xh}}),Ej=pr($c),O4=D({},$c,{dataTransfer:0}),k4=pr(O4),P4=D({},No,{relatedTarget:0}),yh=pr(P4),A4=D({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),_4=pr(A4),C4=D({},Mi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),E4=pr(C4),T4=D({},Mi,{data:0}),Tj=pr(T4),R4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $4(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=I4[s])?!!c[s]:!1}function vh(){return $4}var D4=D({},No,{key:function(s){if(s.key){var c=R4[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?M4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(s){return s.type==="keypress"?Mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),L4=pr(D4),F4=D({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rj=pr(F4),B4=D({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),q4=pr(B4),z4=D({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),U4=pr(z4),W4=D({},$c,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),K4=pr(W4),H4=[9,13,27,32],bh=u&&"CompositionEvent"in window,Oo=null;u&&"documentMode"in document&&(Oo=document.documentMode);var G4=u&&"TextEvent"in window&&!Oo,Mj=u&&(!bh||Oo&&8<Oo&&11>=Oo),Ij=" ",$j=!1;function Dj(s,c){switch(s){case"keyup":return H4.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ii=!1;function V4(s,c){switch(s){case"compositionend":return Lj(c);case"keypress":return c.which!==32?null:($j=!0,Ij);case"textInput":return s=c.data,s===Ij&&$j?null:s;default:return null}}function Y4(s,c){if(Ii)return s==="compositionend"||!bh&&Dj(s,c)?(s=_j(),Rc=ph=ra=null,Ii=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Mj&&c.locale!=="ko"?null:c.data;default:return null}}var X4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fj(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!X4[s.type]:c==="textarea"}function Bj(s,c,f,g){sj(g),c=qc(c,"onChange"),0<c.length&&(f=new mh("onChange","change",null,f,g),s.push({event:f,listeners:c}))}var ko=null,Po=null;function Q4(s){aw(s,0)}function Dc(s){var c=Bi(s);if(Z(c))return s}function J4(s,c){if(s==="change")return c}var qj=!1;if(u){var jh;if(u){var wh="oninput"in document;if(!wh){var zj=document.createElement("div");zj.setAttribute("oninput","return;"),wh=typeof zj.oninput=="function"}jh=wh}else jh=!1;qj=jh&&(!document.documentMode||9<document.documentMode)}function Uj(){ko&&(ko.detachEvent("onpropertychange",Wj),Po=ko=null)}function Wj(s){if(s.propertyName==="value"&&Dc(Po)){var c=[];Bj(c,Po,s,th(s)),uj(Q4,c)}}function Z4(s,c,f){s==="focusin"?(Uj(),ko=c,Po=f,ko.attachEvent("onpropertychange",Wj)):s==="focusout"&&Uj()}function e3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dc(Po)}function t3(s,c){if(s==="click")return Dc(c)}function r3(s,c){if(s==="input"||s==="change")return Dc(c)}function n3(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ur=typeof Object.is=="function"?Object.is:n3;function Ao(s,c){if(Ur(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var N=f[g];if(!d.call(c,N)||!Ur(s[N],c[N]))return!1}return!0}function Kj(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hj(s,c){var f=Kj(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=c&&g>=c)return{node:f,offset:c-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Kj(f)}}function Gj(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Gj(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Vj(){for(var s=window,c=xe();c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=xe(s.document)}return c}function Nh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function a3(s){var c=Vj(),f=s.focusedElem,g=s.selectionRange;if(c!==f&&f&&f.ownerDocument&&Gj(f.ownerDocument.documentElement,f)){if(g!==null&&Nh(f)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(s,f.value.length);else if(s=(c=f.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var N=f.textContent.length,A=Math.min(g.start,N);g=g.end===void 0?A:Math.min(g.end,N),!s.extend&&A>g&&(N=g,g=A,A=N),N=Hj(f,A);var I=Hj(f,g);N&&I&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(N.node,N.offset),s.removeAllRanges(),A>g?(s.addRange(c),s.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),s.addRange(c)))}}for(c=[],s=f;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)s=c[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var i3=u&&"documentMode"in document&&11>=document.documentMode,$i=null,Sh=null,_o=null,Oh=!1;function Yj(s,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Oh||$i==null||$i!==xe(g)||(g=$i,"selectionStart"in g&&Nh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_o&&Ao(_o,g)||(_o=g,g=qc(Sh,"onSelect"),0<g.length&&(c=new mh("onSelect","select",null,c,f),s.push({event:c,listeners:g}),c.target=$i)))}function Lc(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Di={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},kh={},Xj={};u&&(Xj=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Fc(s){if(kh[s])return kh[s];if(!Di[s])return s;var c=Di[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in Xj)return kh[s]=c[f];return s}var Qj=Fc("animationend"),Jj=Fc("animationiteration"),Zj=Fc("animationstart"),ew=Fc("transitionend"),tw=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(s,c){tw.set(s,c),o(c,[s])}for(var Ph=0;Ph<rw.length;Ph++){var Ah=rw[Ph],s3=Ah.toLowerCase(),o3=Ah[0].toUpperCase()+Ah.slice(1);na(s3,"on"+o3)}na(Qj,"onAnimationEnd"),na(Jj,"onAnimationIteration"),na(Zj,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(ew,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function nw(s,c,f){var g=s.type||"unknown-event";s.currentTarget=f,s4(g,c,void 0,s),s.currentTarget=null}function aw(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],N=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var I=g.length-1;0<=I;I--){var K=g[I],Q=K.instance,re=K.currentTarget;if(K=K.listener,Q!==A&&N.isPropagationStopped())break e;nw(N,K,re),A=Q}else for(I=0;I<g.length;I++){if(K=g[I],Q=K.instance,re=K.currentTarget,K=K.listener,Q!==A&&N.isPropagationStopped())break e;nw(N,K,re),A=Q}}}if(Nc)throw s=ih,Nc=!1,ih=null,s}function it(s,c){var f=c[$h];f===void 0&&(f=c[$h]=new Set);var g=s+"__bubble";f.has(g)||(iw(c,s,2,!1),f.add(g))}function _h(s,c,f){var g=0;c&&(g|=4),iw(f,s,g,c)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Eo(s){if(!s[Bc]){s[Bc]=!0,n.forEach(function(f){f!=="selectionchange"&&(l3.has(f)||_h(f,!1,s),_h(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Bc]||(c[Bc]=!0,_h("selectionchange",!1,c))}}function iw(s,c,f,g){switch(Aj(c)){case 1:var N=w4;break;case 4:N=N4;break;default:N=fh}f=N.bind(null,c,f,s),N=void 0,!ah||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(c,f,{capture:!0,passive:N}):s.addEventListener(c,f,!0):N!==void 0?s.addEventListener(c,f,{passive:N}):s.addEventListener(c,f,!1)}function Ch(s,c,f,g,N){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var K=g.stateNode.containerInfo;if(K===N||K.nodeType===8&&K.parentNode===N)break;if(I===4)for(I=g.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&(Q=I.stateNode.containerInfo,Q===N||Q.nodeType===8&&Q.parentNode===N))return;I=I.return}for(;K!==null;){if(I=La(K),I===null)return;if(Q=I.tag,Q===5||Q===6){g=A=I;continue e}K=K.parentNode}}g=g.return}uj(function(){var re=A,ue=th(f),he=[];e:{var le=tw.get(s);if(le!==void 0){var ge=mh,je=s;switch(s){case"keypress":if(Mc(f)===0)break e;case"keydown":case"keyup":ge=L4;break;case"focusin":je="focus",ge=yh;break;case"focusout":je="blur",ge=yh;break;case"beforeblur":case"afterblur":ge=yh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ej;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=k4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=q4;break;case Qj:case Jj:case Zj:ge=_4;break;case ew:ge=U4;break;case"scroll":ge=S4;break;case"wheel":ge=K4;break;case"copy":case"cut":case"paste":ge=E4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Rj}var we=(c&4)!==0,yt=!we&&s==="scroll",ee=we?le!==null?le+"Capture":null:le;we=[];for(var J=re,te;J!==null;){te=J;var pe=te.stateNode;if(te.tag===5&&pe!==null&&(te=pe,ee!==null&&(pe=ho(J,ee),pe!=null&&we.push(To(J,pe,te)))),yt)break;J=J.return}0<we.length&&(le=new ge(le,je,null,f,ue),he.push({event:le,listeners:we}))}}if((c&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",le&&f!==eh&&(je=f.relatedTarget||f.fromElement)&&(La(je)||je[On]))break e;if((ge||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ge?(je=f.relatedTarget||f.toElement,ge=re,je=je?La(je):null,je!==null&&(yt=Da(je),je!==yt||je.tag!==5&&je.tag!==6)&&(je=null)):(ge=null,je=re),ge!==je)){if(we=Ej,pe="onMouseLeave",ee="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(we=Rj,pe="onPointerLeave",ee="onPointerEnter",J="pointer"),yt=ge==null?le:Bi(ge),te=je==null?le:Bi(je),le=new we(pe,J+"leave",ge,f,ue),le.target=yt,le.relatedTarget=te,pe=null,La(ue)===re&&(we=new we(ee,J+"enter",je,f,ue),we.target=te,we.relatedTarget=yt,pe=we),yt=pe,ge&&je)t:{for(we=ge,ee=je,J=0,te=we;te;te=Li(te))J++;for(te=0,pe=ee;pe;pe=Li(pe))te++;for(;0<J-te;)we=Li(we),J--;for(;0<te-J;)ee=Li(ee),te--;for(;J--;){if(we===ee||ee!==null&&we===ee.alternate)break t;we=Li(we),ee=Li(ee)}we=null}else we=null;ge!==null&&sw(he,le,ge,we,!1),je!==null&&yt!==null&&sw(he,yt,je,we,!0)}}e:{if(le=re?Bi(re):window,ge=le.nodeName&&le.nodeName.toLowerCase(),ge==="select"||ge==="input"&&le.type==="file")var Ne=J4;else if(Fj(le))if(qj)Ne=r3;else{Ne=e3;var Pe=Z4}else(ge=le.nodeName)&&ge.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ne=t3);if(Ne&&(Ne=Ne(s,re))){Bj(he,Ne,f,ue);break e}Pe&&Pe(s,le,re),s==="focusout"&&(Pe=le._wrapperState)&&Pe.controlled&&le.type==="number"&&sn(le,"number",le.value)}switch(Pe=re?Bi(re):window,s){case"focusin":(Fj(Pe)||Pe.contentEditable==="true")&&($i=Pe,Sh=re,_o=null);break;case"focusout":_o=Sh=$i=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Yj(he,f,ue);break;case"selectionchange":if(i3)break;case"keydown":case"keyup":Yj(he,f,ue)}var Ae;if(bh)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ii?Dj(s,f)&&(Re="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Re="onCompositionStart");Re&&(Mj&&f.locale!=="ko"&&(Ii||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ii&&(Ae=_j()):(ra=ue,ph="value"in ra?ra.value:ra.textContent,Ii=!0)),Pe=qc(re,Re),0<Pe.length&&(Re=new Tj(Re,s,null,f,ue),he.push({event:Re,listeners:Pe}),Ae?Re.data=Ae:(Ae=Lj(f),Ae!==null&&(Re.data=Ae)))),(Ae=G4?V4(s,f):Y4(s,f))&&(re=qc(re,"onBeforeInput"),0<re.length&&(ue=new Tj("onBeforeInput","beforeinput",null,f,ue),he.push({event:ue,listeners:re}),ue.data=Ae))}aw(he,c)})}function To(s,c,f){return{instance:s,listener:c,currentTarget:f}}function qc(s,c){for(var f=c+"Capture",g=[];s!==null;){var N=s,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=ho(s,f),A!=null&&g.unshift(To(s,A,N)),A=ho(s,c),A!=null&&g.push(To(s,A,N))),s=s.return}return g}function Li(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function sw(s,c,f,g,N){for(var A=c._reactName,I=[];f!==null&&f!==g;){var K=f,Q=K.alternate,re=K.stateNode;if(Q!==null&&Q===g)break;K.tag===5&&re!==null&&(K=re,N?(Q=ho(f,A),Q!=null&&I.unshift(To(f,Q,K))):N||(Q=ho(f,A),Q!=null&&I.push(To(f,Q,K)))),f=f.return}I.length!==0&&s.push({event:c,listeners:I})}var c3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function ow(s){return(typeof s=="string"?s:""+s).replace(c3,`
`).replace(u3,"")}function zc(s,c,f){if(c=ow(c),ow(s)!==c&&f)throw Error(r(425))}function Uc(){}var Eh=null,Th=null;function Rh(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,d3=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(s){return lw.resolve(null).then(s).catch(h3)}:Mh;function h3(s){setTimeout(function(){throw s})}function Ih(s,c){var f=c,g=0;do{var N=f.nextSibling;if(s.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(g===0){s.removeChild(N),wo(c);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=N}while(f);wo(c)}function aa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function cw(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return s;c--}else f==="/$"&&c++}s=s.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),cn="__reactFiber$"+Fi,Ro="__reactProps$"+Fi,On="__reactContainer$"+Fi,$h="__reactEvents$"+Fi,p3="__reactListeners$"+Fi,m3="__reactHandles$"+Fi;function La(s){var c=s[cn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[On]||f[cn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=cw(s);s!==null;){if(f=s[cn])return f;s=cw(s)}return c}s=f,f=s.parentNode}return null}function Mo(s){return s=s[cn]||s[On],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Wc(s){return s[Ro]||null}var Dh=[],qi=-1;function ia(s){return{current:s}}function st(s){0>qi||(s.current=Dh[qi],Dh[qi]=null,qi--)}function tt(s,c){qi++,Dh[qi]=s.current,s.current=c}var sa={},zt=ia(sa),ar=ia(!1),Fa=sa;function zi(s,c){var f=s.type.contextTypes;if(!f)return sa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in f)N[A]=c[A];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=N),N}function ir(s){return s=s.childContextTypes,s!=null}function Kc(){st(ar),st(zt)}function uw(s,c,f){if(zt.current!==sa)throw Error(r(168));tt(zt,c),tt(ar,f)}function dw(s,c,f){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var N in g)if(!(N in c))throw Error(r(108,ke(s)||"Unknown",N));return D({},f,g)}function Hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||sa,Fa=zt.current,tt(zt,s),tt(ar,ar.current),!0}function fw(s,c,f){var g=s.stateNode;if(!g)throw Error(r(169));f?(s=dw(s,c,Fa),g.__reactInternalMemoizedMergedChildContext=s,st(ar),st(zt),tt(zt,s)):st(ar),tt(ar,f)}var kn=null,Gc=!1,Lh=!1;function hw(s){kn===null?kn=[s]:kn.push(s)}function g3(s){Gc=!0,hw(s)}function oa(){if(!Lh&&kn!==null){Lh=!0;var s=0,c=Qe;try{var f=kn;for(Qe=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}kn=null,Gc=!1}catch(N){throw kn!==null&&(kn=kn.slice(s+1)),mj(sh,oa),N}finally{Qe=c,Lh=!1}}return null}var Ui=[],Wi=0,Vc=null,Yc=0,Or=[],kr=0,Ba=null,Pn=1,An="";function qa(s,c){Ui[Wi++]=Yc,Ui[Wi++]=Vc,Vc=s,Yc=c}function pw(s,c,f){Or[kr++]=Pn,Or[kr++]=An,Or[kr++]=Ba,Ba=s;var g=Pn;s=An;var N=32-zr(g)-1;g&=~(1<<N),f+=1;var A=32-zr(c)+N;if(30<A){var I=N-N%5;A=(g&(1<<I)-1).toString(32),g>>=I,N-=I,Pn=1<<32-zr(c)+N|f<<N|g,An=A+s}else Pn=1<<A|f<<N|g,An=s}function Fh(s){s.return!==null&&(qa(s,1),pw(s,1,0))}function Bh(s){for(;s===Vc;)Vc=Ui[--Wi],Ui[Wi]=null,Yc=Ui[--Wi],Ui[Wi]=null;for(;s===Ba;)Ba=Or[--kr],Or[kr]=null,An=Or[--kr],Or[kr]=null,Pn=Or[--kr],Or[kr]=null}var mr=null,gr=null,lt=!1,Wr=null;function mw(s,c){var f=Cr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=s,c=s.deletions,c===null?(s.deletions=[f],s.flags|=16):c.push(f)}function gw(s,c){switch(s.tag){case 5:var f=s.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,mr=s,gr=aa(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,mr=s,gr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=Ba!==null?{id:Pn,overflow:An}:null,s.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Cr(18,null,null,0),f.stateNode=c,f.return=s,s.child=f,mr=s,gr=null,!0):!1;default:return!1}}function qh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zh(s){if(lt){var c=gr;if(c){var f=c;if(!gw(s,c)){if(qh(s))throw Error(r(418));c=aa(f.nextSibling);var g=mr;c&&gw(s,c)?mw(g,f):(s.flags=s.flags&-4097|2,lt=!1,mr=s)}}else{if(qh(s))throw Error(r(418));s.flags=s.flags&-4097|2,lt=!1,mr=s}}}function xw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mr=s}function Xc(s){if(s!==mr)return!1;if(!lt)return xw(s),lt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!Rh(s.type,s.memoizedProps)),c&&(c=gr)){if(qh(s))throw yw(),Error(r(418));for(;c;)mw(s,c),c=aa(c.nextSibling)}if(xw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(c===0){gr=aa(s.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}s=s.nextSibling}gr=null}}else gr=mr?aa(s.stateNode.nextSibling):null;return!0}function yw(){for(var s=gr;s;)s=aa(s.nextSibling)}function Ki(){gr=mr=null,lt=!1}function Uh(s){Wr===null?Wr=[s]:Wr.push(s)}var x3=O.ReactCurrentBatchConfig;function Io(s,c,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,s));var N=g,A=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(I){var K=N.refs;I===null?delete K[A]:K[A]=I},c._stringRef=A,c)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function Qc(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function vw(s){var c=s._init;return c(s._payload)}function bw(s){function c(ee,J){if(s){var te=ee.deletions;te===null?(ee.deletions=[J],ee.flags|=16):te.push(J)}}function f(ee,J){if(!s)return null;for(;J!==null;)c(ee,J),J=J.sibling;return null}function g(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function N(ee,J){return ee=ma(ee,J),ee.index=0,ee.sibling=null,ee}function A(ee,J,te){return ee.index=te,s?(te=ee.alternate,te!==null?(te=te.index,te<J?(ee.flags|=2,J):te):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function I(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function K(ee,J,te,pe){return J===null||J.tag!==6?(J=Mp(te,ee.mode,pe),J.return=ee,J):(J=N(J,te),J.return=ee,J)}function Q(ee,J,te,pe){var Ne=te.type;return Ne===E?ue(ee,J,te.props.children,pe,te.key):J!==null&&(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&vw(Ne)===J.type)?(pe=N(J,te.props),pe.ref=Io(ee,J,te),pe.return=ee,pe):(pe=ju(te.type,te.key,te.props,null,ee.mode,pe),pe.ref=Io(ee,J,te),pe.return=ee,pe)}function re(ee,J,te,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=Ip(te,ee.mode,pe),J.return=ee,J):(J=N(J,te.children||[]),J.return=ee,J)}function ue(ee,J,te,pe,Ne){return J===null||J.tag!==7?(J=Ya(te,ee.mode,pe,Ne),J.return=ee,J):(J=N(J,te),J.return=ee,J)}function he(ee,J,te){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Mp(""+J,ee.mode,te),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return te=ju(J.type,J.key,J.props,null,ee.mode,te),te.ref=Io(ee,null,J),te.return=ee,te;case P:return J=Ip(J,ee.mode,te),J.return=ee,J;case $:var pe=J._init;return he(ee,pe(J._payload),te)}if(on(J)||G(J))return J=Ya(J,ee.mode,te,null),J.return=ee,J;Qc(ee,J)}return null}function le(ee,J,te,pe){var Ne=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ne!==null?null:K(ee,J,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ne?Q(ee,J,te,pe):null;case P:return te.key===Ne?re(ee,J,te,pe):null;case $:return Ne=te._init,le(ee,J,Ne(te._payload),pe)}if(on(te)||G(te))return Ne!==null?null:ue(ee,J,te,pe,null);Qc(ee,te)}return null}function ge(ee,J,te,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ee=ee.get(te)||null,K(J,ee,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return ee=ee.get(pe.key===null?te:pe.key)||null,Q(J,ee,pe,Ne);case P:return ee=ee.get(pe.key===null?te:pe.key)||null,re(J,ee,pe,Ne);case $:var Pe=pe._init;return ge(ee,J,te,Pe(pe._payload),Ne)}if(on(pe)||G(pe))return ee=ee.get(te)||null,ue(J,ee,pe,Ne,null);Qc(J,pe)}return null}function je(ee,J,te,pe){for(var Ne=null,Pe=null,Ae=J,Re=J=0,Mt=null;Ae!==null&&Re<te.length;Re++){Ae.index>Re?(Mt=Ae,Ae=null):Mt=Ae.sibling;var Ke=le(ee,Ae,te[Re],pe);if(Ke===null){Ae===null&&(Ae=Mt);break}s&&Ae&&Ke.alternate===null&&c(ee,Ae),J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke,Ae=Mt}if(Re===te.length)return f(ee,Ae),lt&&qa(ee,Re),Ne;if(Ae===null){for(;Re<te.length;Re++)Ae=he(ee,te[Re],pe),Ae!==null&&(J=A(Ae,J,Re),Pe===null?Ne=Ae:Pe.sibling=Ae,Pe=Ae);return lt&&qa(ee,Re),Ne}for(Ae=g(ee,Ae);Re<te.length;Re++)Mt=ge(Ae,ee,Re,te[Re],pe),Mt!==null&&(s&&Mt.alternate!==null&&Ae.delete(Mt.key===null?Re:Mt.key),J=A(Mt,J,Re),Pe===null?Ne=Mt:Pe.sibling=Mt,Pe=Mt);return s&&Ae.forEach(function(ga){return c(ee,ga)}),lt&&qa(ee,Re),Ne}function we(ee,J,te,pe){var Ne=G(te);if(typeof Ne!="function")throw Error(r(150));if(te=Ne.call(te),te==null)throw Error(r(151));for(var Pe=Ne=null,Ae=J,Re=J=0,Mt=null,Ke=te.next();Ae!==null&&!Ke.done;Re++,Ke=te.next()){Ae.index>Re?(Mt=Ae,Ae=null):Mt=Ae.sibling;var ga=le(ee,Ae,Ke.value,pe);if(ga===null){Ae===null&&(Ae=Mt);break}s&&Ae&&ga.alternate===null&&c(ee,Ae),J=A(ga,J,Re),Pe===null?Ne=ga:Pe.sibling=ga,Pe=ga,Ae=Mt}if(Ke.done)return f(ee,Ae),lt&&qa(ee,Re),Ne;if(Ae===null){for(;!Ke.done;Re++,Ke=te.next())Ke=he(ee,Ke.value,pe),Ke!==null&&(J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke);return lt&&qa(ee,Re),Ne}for(Ae=g(ee,Ae);!Ke.done;Re++,Ke=te.next())Ke=ge(Ae,ee,Re,Ke.value,pe),Ke!==null&&(s&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Re:Ke.key),J=A(Ke,J,Re),Pe===null?Ne=Ke:Pe.sibling=Ke,Pe=Ke);return s&&Ae.forEach(function(X3){return c(ee,X3)}),lt&&qa(ee,Re),Ne}function yt(ee,J,te,pe){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ne=te.key,Pe=J;Pe!==null;){if(Pe.key===Ne){if(Ne=te.type,Ne===E){if(Pe.tag===7){f(ee,Pe.sibling),J=N(Pe,te.props.children),J.return=ee,ee=J;break e}}else if(Pe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&vw(Ne)===Pe.type){f(ee,Pe.sibling),J=N(Pe,te.props),J.ref=Io(ee,Pe,te),J.return=ee,ee=J;break e}f(ee,Pe);break}else c(ee,Pe);Pe=Pe.sibling}te.type===E?(J=Ya(te.props.children,ee.mode,pe,te.key),J.return=ee,ee=J):(pe=ju(te.type,te.key,te.props,null,ee.mode,pe),pe.ref=Io(ee,J,te),pe.return=ee,ee=pe)}return I(ee);case P:e:{for(Pe=te.key;J!==null;){if(J.key===Pe)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){f(ee,J.sibling),J=N(J,te.children||[]),J.return=ee,ee=J;break e}else{f(ee,J);break}else c(ee,J);J=J.sibling}J=Ip(te,ee.mode,pe),J.return=ee,ee=J}return I(ee);case $:return Pe=te._init,yt(ee,J,Pe(te._payload),pe)}if(on(te))return je(ee,J,te,pe);if(G(te))return we(ee,J,te,pe);Qc(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,J!==null&&J.tag===6?(f(ee,J.sibling),J=N(J,te),J.return=ee,ee=J):(f(ee,J),J=Mp(te,ee.mode,pe),J.return=ee,ee=J),I(ee)):f(ee,J)}return yt}var Hi=bw(!0),jw=bw(!1),Jc=ia(null),Zc=null,Gi=null,Wh=null;function Kh(){Wh=Gi=Zc=null}function Hh(s){var c=Jc.current;st(Jc),s._currentValue=c}function Gh(s,c,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===f)break;s=s.return}}function Vi(s,c){Zc=s,Wh=Gi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(sr=!0),s.firstContext=null)}function Pr(s){var c=s._currentValue;if(Wh!==s)if(s={context:s,memoizedValue:c,next:null},Gi===null){if(Zc===null)throw Error(r(308));Gi=s,Zc.dependencies={lanes:0,firstContext:s}}else Gi=Gi.next=s;return c}var za=null;function Vh(s){za===null?za=[s]:za.push(s)}function ww(s,c,f,g){var N=c.interleaved;return N===null?(f.next=f,Vh(c)):(f.next=N.next,N.next=f),c.interleaved=f,_n(s,g)}function _n(s,c){s.lanes|=c;var f=s.alternate;for(f!==null&&(f.lanes|=c),f=s,s=s.return;s!==null;)s.childLanes|=c,f=s.alternate,f!==null&&(f.childLanes|=c),f=s,s=s.return;return f.tag===3?f.stateNode:null}var la=!1;function Yh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Cn(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ca(s,c,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(We&2)!==0){var N=g.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),g.pending=c,_n(s,f)}return N=g.interleaved,N===null?(c.next=c,Vh(g)):(c.next=N.next,N.next=c),g.interleaved=c,_n(s,f)}function eu(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,ch(s,f)}}function Sw(s,c){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var N=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var I={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?N=A=I:A=A.next=I,f=f.next}while(f!==null);A===null?N=A=c:A=A.next=c}else N=A=c;f={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}function tu(s,c,f,g){var N=s.updateQueue;la=!1;var A=N.firstBaseUpdate,I=N.lastBaseUpdate,K=N.shared.pending;if(K!==null){N.shared.pending=null;var Q=K,re=Q.next;Q.next=null,I===null?A=re:I.next=re,I=Q;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,K=ue.lastBaseUpdate,K!==I&&(K===null?ue.firstBaseUpdate=re:K.next=re,ue.lastBaseUpdate=Q))}if(A!==null){var he=N.baseState;I=0,ue=re=Q=null,K=A;do{var le=K.lane,ge=K.eventTime;if((g&le)===le){ue!==null&&(ue=ue.next={eventTime:ge,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var je=s,we=K;switch(le=c,ge=f,we.tag){case 1:if(je=we.payload,typeof je=="function"){he=je.call(ge,he,le);break e}he=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=we.payload,le=typeof je=="function"?je.call(ge,he,le):je,le==null)break e;he=D({},he,le);break e;case 2:la=!0}}K.callback!==null&&K.lane!==0&&(s.flags|=64,le=N.effects,le===null?N.effects=[K]:le.push(K))}else ge={eventTime:ge,lane:le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ue===null?(re=ue=ge,Q=he):ue=ue.next=ge,I|=le;if(K=K.next,K===null){if(K=N.shared.pending,K===null)break;le=K,K=le.next,le.next=null,N.lastBaseUpdate=le,N.shared.pending=null}}while(!0);if(ue===null&&(Q=he),N.baseState=Q,N.firstBaseUpdate=re,N.lastBaseUpdate=ue,c=N.shared.interleaved,c!==null){N=c;do I|=N.lane,N=N.next;while(N!==c)}else A===null&&(N.shared.lanes=0);Ka|=I,s.lanes=I,s.memoizedState=he}}function Ow(s,c,f){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],N=g.callback;if(N!==null){if(g.callback=null,g=f,typeof N!="function")throw Error(r(191,N));N.call(g)}}}var $o={},un=ia($o),Do=ia($o),Lo=ia($o);function Ua(s){if(s===$o)throw Error(r(174));return s}function Xh(s,c){switch(tt(Lo,c),tt(Do,s),tt(un,$o),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Qf(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Qf(c,s)}st(un),tt(un,c)}function Yi(){st(un),st(Do),st(Lo)}function kw(s){Ua(Lo.current);var c=Ua(un.current),f=Qf(c,s.type);c!==f&&(tt(Do,s),tt(un,f))}function Qh(s){Do.current===s&&(st(un),st(Do))}var ut=ia(0);function ru(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Jh=[];function Zh(){for(var s=0;s<Jh.length;s++)Jh[s]._workInProgressVersionPrimary=null;Jh.length=0}var nu=O.ReactCurrentDispatcher,ep=O.ReactCurrentBatchConfig,Wa=0,dt=null,Nt=null,Tt=null,au=!1,Fo=!1,Bo=0,y3=0;function Ut(){throw Error(r(321))}function tp(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!Ur(s[f],c[f]))return!1;return!0}function rp(s,c,f,g,N,A){if(Wa=A,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,nu.current=s===null||s.memoizedState===null?w3:N3,s=f(g,N),Fo){A=0;do{if(Fo=!1,Bo=0,25<=A)throw Error(r(301));A+=1,Tt=Nt=null,c.updateQueue=null,nu.current=S3,s=f(g,N)}while(Fo)}if(nu.current=ou,c=Nt!==null&&Nt.next!==null,Wa=0,Tt=Nt=dt=null,au=!1,c)throw Error(r(300));return s}function np(){var s=Bo!==0;return Bo=0,s}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function Ar(){if(Nt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var c=Tt===null?dt.memoizedState:Tt.next;if(c!==null)Tt=c,Nt=s;else{if(s===null)throw Error(r(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?dt.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function qo(s,c){return typeof c=="function"?c(s):c}function ap(s){var c=Ar(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=Nt,N=g.baseQueue,A=f.pending;if(A!==null){if(N!==null){var I=N.next;N.next=A.next,A.next=I}g.baseQueue=N=A,f.pending=null}if(N!==null){A=N.next,g=g.baseState;var K=I=null,Q=null,re=A;do{var ue=re.lane;if((Wa&ue)===ue)Q!==null&&(Q=Q.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:s(g,re.action);else{var he={lane:ue,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};Q===null?(K=Q=he,I=g):Q=Q.next=he,dt.lanes|=ue,Ka|=ue}re=re.next}while(re!==null&&re!==A);Q===null?I=g:Q.next=K,Ur(g,c.memoizedState)||(sr=!0),c.memoizedState=g,c.baseState=I,c.baseQueue=Q,f.lastRenderedState=g}if(s=f.interleaved,s!==null){N=s;do A=N.lane,dt.lanes|=A,Ka|=A,N=N.next;while(N!==s)}else N===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function ip(s){var c=Ar(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,N=f.pending,A=c.memoizedState;if(N!==null){f.pending=null;var I=N=N.next;do A=s(A,I.action),I=I.next;while(I!==N);Ur(A,c.memoizedState)||(sr=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),f.lastRenderedState=A}return[A,g]}function Pw(){}function Aw(s,c){var f=dt,g=Ar(),N=c(),A=!Ur(g.memoizedState,N);if(A&&(g.memoizedState=N,sr=!0),g=g.queue,sp(Ew.bind(null,f,g,s),[s]),g.getSnapshot!==c||A||Tt!==null&&Tt.memoizedState.tag&1){if(f.flags|=2048,zo(9,Cw.bind(null,f,g,N,c),void 0,null),Rt===null)throw Error(r(349));(Wa&30)!==0||_w(f,c,N)}return N}function _w(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function Cw(s,c,f,g){c.value=f,c.getSnapshot=g,Tw(c)&&Rw(s)}function Ew(s,c,f){return f(function(){Tw(c)&&Rw(s)})}function Tw(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!Ur(s,f)}catch{return!0}}function Rw(s){var c=_n(s,1);c!==null&&Vr(c,s,1,-1)}function Mw(s){var c=dn();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:s},c.queue=s,s=s.dispatch=j3.bind(null,dt,s),[c.memoizedState,s]}function zo(s,c,f,g){return s={tag:s,create:c,destroy:f,deps:g,next:null},c=dt.updateQueue,c===null?(c={lastEffect:null,stores:null},dt.updateQueue=c,c.lastEffect=s.next=s):(f=c.lastEffect,f===null?c.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,c.lastEffect=s)),s}function Iw(){return Ar().memoizedState}function iu(s,c,f,g){var N=dn();dt.flags|=s,N.memoizedState=zo(1|c,f,void 0,g===void 0?null:g)}function su(s,c,f,g){var N=Ar();g=g===void 0?null:g;var A=void 0;if(Nt!==null){var I=Nt.memoizedState;if(A=I.destroy,g!==null&&tp(g,I.deps)){N.memoizedState=zo(c,f,A,g);return}}dt.flags|=s,N.memoizedState=zo(1|c,f,A,g)}function $w(s,c){return iu(8390656,8,s,c)}function sp(s,c){return su(2048,8,s,c)}function Dw(s,c){return su(4,2,s,c)}function Lw(s,c){return su(4,4,s,c)}function Fw(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Bw(s,c,f){return f=f!=null?f.concat([s]):null,su(4,4,Fw.bind(null,c,s),f)}function op(){}function qw(s,c){var f=Ar();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&tp(c,g[1])?g[0]:(f.memoizedState=[s,c],s)}function zw(s,c){var f=Ar();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&tp(c,g[1])?g[0]:(s=s(),f.memoizedState=[s,c],s)}function Uw(s,c,f){return(Wa&21)===0?(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=f):(Ur(f,c)||(f=vj(),dt.lanes|=f,Ka|=f,s.baseState=!0),c)}function v3(s,c){var f=Qe;Qe=f!==0&&4>f?f:4,s(!0);var g=ep.transition;ep.transition={};try{s(!1),c()}finally{Qe=f,ep.transition=g}}function Ww(){return Ar().memoizedState}function b3(s,c,f){var g=ha(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Kw(s))Hw(c,f);else if(f=ww(s,c,f,g),f!==null){var N=Jt();Vr(f,s,g,N),Gw(f,c,g)}}function j3(s,c,f){var g=ha(s),N={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Kw(s))Hw(c,N);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var I=c.lastRenderedState,K=A(I,f);if(N.hasEagerState=!0,N.eagerState=K,Ur(K,I)){var Q=c.interleaved;Q===null?(N.next=N,Vh(c)):(N.next=Q.next,Q.next=N),c.interleaved=N;return}}catch{}finally{}f=ww(s,c,N,g),f!==null&&(N=Jt(),Vr(f,s,g,N),Gw(f,c,g))}}function Kw(s){var c=s.alternate;return s===dt||c!==null&&c===dt}function Hw(s,c){Fo=au=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function Gw(s,c,f){if((f&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,ch(s,f)}}var ou={readContext:Pr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},w3={readContext:Pr,useCallback:function(s,c){return dn().memoizedState=[s,c===void 0?null:c],s},useContext:Pr,useEffect:$w,useImperativeHandle:function(s,c,f){return f=f!=null?f.concat([s]):null,iu(4194308,4,Fw.bind(null,c,s),f)},useLayoutEffect:function(s,c){return iu(4194308,4,s,c)},useInsertionEffect:function(s,c){return iu(4,2,s,c)},useMemo:function(s,c){var f=dn();return c=c===void 0?null:c,s=s(),f.memoizedState=[s,c],s},useReducer:function(s,c,f){var g=dn();return c=f!==void 0?f(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=b3.bind(null,dt,s),[g.memoizedState,s]},useRef:function(s){var c=dn();return s={current:s},c.memoizedState=s},useState:Mw,useDebugValue:op,useDeferredValue:function(s){return dn().memoizedState=s},useTransition:function(){var s=Mw(!1),c=s[0];return s=v3.bind(null,s[1]),dn().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,f){var g=dt,N=dn();if(lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),Rt===null)throw Error(r(349));(Wa&30)!==0||_w(g,c,f)}N.memoizedState=f;var A={value:f,getSnapshot:c};return N.queue=A,$w(Ew.bind(null,g,A,s),[s]),g.flags|=2048,zo(9,Cw.bind(null,g,A,f,c),void 0,null),f},useId:function(){var s=dn(),c=Rt.identifierPrefix;if(lt){var f=An,g=Pn;f=(g&~(1<<32-zr(g)-1)).toString(32)+f,c=":"+c+"R"+f,f=Bo++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=y3++,c=":"+c+"r"+f.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},N3={readContext:Pr,useCallback:qw,useContext:Pr,useEffect:sp,useImperativeHandle:Bw,useInsertionEffect:Dw,useLayoutEffect:Lw,useMemo:zw,useReducer:ap,useRef:Iw,useState:function(){return ap(qo)},useDebugValue:op,useDeferredValue:function(s){var c=Ar();return Uw(c,Nt.memoizedState,s)},useTransition:function(){var s=ap(qo)[0],c=Ar().memoizedState;return[s,c]},useMutableSource:Pw,useSyncExternalStore:Aw,useId:Ww,unstable_isNewReconciler:!1},S3={readContext:Pr,useCallback:qw,useContext:Pr,useEffect:sp,useImperativeHandle:Bw,useInsertionEffect:Dw,useLayoutEffect:Lw,useMemo:zw,useReducer:ip,useRef:Iw,useState:function(){return ip(qo)},useDebugValue:op,useDeferredValue:function(s){var c=Ar();return Nt===null?c.memoizedState=s:Uw(c,Nt.memoizedState,s)},useTransition:function(){var s=ip(qo)[0],c=Ar().memoizedState;return[s,c]},useMutableSource:Pw,useSyncExternalStore:Aw,useId:Ww,unstable_isNewReconciler:!1};function Kr(s,c){if(s&&s.defaultProps){c=D({},c),s=s.defaultProps;for(var f in s)c[f]===void 0&&(c[f]=s[f]);return c}return c}function lp(s,c,f,g){c=s.memoizedState,f=f(g,c),f=f==null?c:D({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var lu={isMounted:function(s){return(s=s._reactInternals)?Da(s)===s:!1},enqueueSetState:function(s,c,f){s=s._reactInternals;var g=Jt(),N=ha(s),A=Cn(g,N);A.payload=c,f!=null&&(A.callback=f),c=ca(s,A,N),c!==null&&(Vr(c,s,N,g),eu(c,s,N))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var g=Jt(),N=ha(s),A=Cn(g,N);A.tag=1,A.payload=c,f!=null&&(A.callback=f),c=ca(s,A,N),c!==null&&(Vr(c,s,N,g),eu(c,s,N))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Jt(),g=ha(s),N=Cn(f,g);N.tag=2,c!=null&&(N.callback=c),c=ca(s,N,g),c!==null&&(Vr(c,s,g,f),eu(c,s,g))}};function Vw(s,c,f,g,N,A,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,I):c.prototype&&c.prototype.isPureReactComponent?!Ao(f,g)||!Ao(N,A):!0}function Yw(s,c,f){var g=!1,N=sa,A=c.contextType;return typeof A=="object"&&A!==null?A=Pr(A):(N=ir(c)?Fa:zt.current,g=c.contextTypes,A=(g=g!=null)?zi(s,N):sa),c=new c(f,A),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=lu,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=A),c}function Xw(s,c,f,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==s&&lu.enqueueReplaceState(c,c.state,null)}function cp(s,c,f,g){var N=s.stateNode;N.props=f,N.state=s.memoizedState,N.refs={},Yh(s);var A=c.contextType;typeof A=="object"&&A!==null?N.context=Pr(A):(A=ir(c)?Fa:zt.current,N.context=zi(s,A)),N.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(lp(s,c,A,f),N.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(c=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),c!==N.state&&lu.enqueueReplaceState(N,N.state,null),tu(s,f,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Xi(s,c){try{var f="",g=c;do f+=fe(g),g=g.return;while(g);var N=f}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:c,stack:N,digest:null}}function up(s,c,f){return{value:s,source:null,stack:f??null,digest:c??null}}function dp(s,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var O3=typeof WeakMap=="function"?WeakMap:Map;function Qw(s,c,f){f=Cn(-1,f),f.tag=3,f.payload={element:null};var g=c.value;return f.callback=function(){mu||(mu=!0,kp=g),dp(s,c)},f}function Jw(s,c,f){f=Cn(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=c.value;f.payload=function(){return g(N)},f.callback=function(){dp(s,c)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){dp(s,c),typeof g!="function"&&(da===null?da=new Set([this]):da.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),f}function Zw(s,c,f){var g=s.pingCache;if(g===null){g=s.pingCache=new O3;var N=new Set;g.set(c,N)}else N=g.get(c),N===void 0&&(N=new Set,g.set(c,N));N.has(f)||(N.add(f),s=F3.bind(null,s,c,f),c.then(s,s))}function e1(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function t1(s,c,f,g,N){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Cn(-1,1),c.tag=2,ca(f,c,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var k3=O.ReactCurrentOwner,sr=!1;function Qt(s,c,f,g){c.child=s===null?jw(c,null,f,g):Hi(c,s.child,f,g)}function r1(s,c,f,g,N){f=f.render;var A=c.ref;return Vi(c,N),g=rp(s,c,f,g,A,N),f=np(),s!==null&&!sr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~N,En(s,c,N)):(lt&&f&&Fh(c),c.flags|=1,Qt(s,c,g,N),c.child)}function n1(s,c,f,g,N){if(s===null){var A=f.type;return typeof A=="function"&&!Rp(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=A,a1(s,c,A,g,N)):(s=ju(f.type,null,g,c,c.mode,N),s.ref=c.ref,s.return=c,c.child=s)}if(A=s.child,(s.lanes&N)===0){var I=A.memoizedProps;if(f=f.compare,f=f!==null?f:Ao,f(I,g)&&s.ref===c.ref)return En(s,c,N)}return c.flags|=1,s=ma(A,g),s.ref=c.ref,s.return=c,c.child=s}function a1(s,c,f,g,N){if(s!==null){var A=s.memoizedProps;if(Ao(A,g)&&s.ref===c.ref)if(sr=!1,c.pendingProps=g=A,(s.lanes&N)!==0)(s.flags&131072)!==0&&(sr=!0);else return c.lanes=s.lanes,En(s,c,N)}return fp(s,c,f,g,N)}function i1(s,c,f){var g=c.pendingProps,N=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ji,xr),xr|=f;else{if((f&1073741824)===0)return s=A!==null?A.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,tt(Ji,xr),xr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:f,tt(Ji,xr),xr|=g}else A!==null?(g=A.baseLanes|f,c.memoizedState=null):g=f,tt(Ji,xr),xr|=g;return Qt(s,c,N,f),c.child}function s1(s,c){var f=c.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function fp(s,c,f,g,N){var A=ir(f)?Fa:zt.current;return A=zi(c,A),Vi(c,N),f=rp(s,c,f,g,A,N),g=np(),s!==null&&!sr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~N,En(s,c,N)):(lt&&g&&Fh(c),c.flags|=1,Qt(s,c,f,N),c.child)}function o1(s,c,f,g,N){if(ir(f)){var A=!0;Hc(c)}else A=!1;if(Vi(c,N),c.stateNode===null)uu(s,c),Yw(c,f,g),cp(c,f,g,N),g=!0;else if(s===null){var I=c.stateNode,K=c.memoizedProps;I.props=K;var Q=I.context,re=f.contextType;typeof re=="object"&&re!==null?re=Pr(re):(re=ir(f)?Fa:zt.current,re=zi(c,re));var ue=f.getDerivedStateFromProps,he=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";he||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==g||Q!==re)&&Xw(c,I,g,re),la=!1;var le=c.memoizedState;I.state=le,tu(c,g,I,N),Q=c.memoizedState,K!==g||le!==Q||ar.current||la?(typeof ue=="function"&&(lp(c,f,ue,g),Q=c.memoizedState),(K=la||Vw(c,f,K,g,le,Q,re))?(he||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Q),I.props=g,I.state=Q,I.context=re,g=K):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{I=c.stateNode,Nw(s,c),K=c.memoizedProps,re=c.type===c.elementType?K:Kr(c.type,K),I.props=re,he=c.pendingProps,le=I.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=Pr(Q):(Q=ir(f)?Fa:zt.current,Q=zi(c,Q));var ge=f.getDerivedStateFromProps;(ue=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==he||le!==Q)&&Xw(c,I,g,Q),la=!1,le=c.memoizedState,I.state=le,tu(c,g,I,N);var je=c.memoizedState;K!==he||le!==je||ar.current||la?(typeof ge=="function"&&(lp(c,f,ge,g),je=c.memoizedState),(re=la||Vw(c,f,re,g,le,je,Q)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,je,Q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,je,Q)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=je),I.props=g,I.state=je,I.context=Q,g=re):(typeof I.componentDidUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&le===s.memoizedState||(c.flags|=1024),g=!1)}return hp(s,c,f,g,A,N)}function hp(s,c,f,g,N,A){s1(s,c);var I=(c.flags&128)!==0;if(!g&&!I)return N&&fw(c,f,!1),En(s,c,A);g=c.stateNode,k3.current=c;var K=I&&typeof f.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&I?(c.child=Hi(c,s.child,null,A),c.child=Hi(c,null,K,A)):Qt(s,c,K,A),c.memoizedState=g.state,N&&fw(c,f,!0),c.child}function l1(s){var c=s.stateNode;c.pendingContext?uw(s,c.pendingContext,c.pendingContext!==c.context):c.context&&uw(s,c.context,!1),Xh(s,c.containerInfo)}function c1(s,c,f,g,N){return Ki(),Uh(N),c.flags|=256,Qt(s,c,f,g),c.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(s){return{baseLanes:s,cachePool:null,transitions:null}}function u1(s,c,f){var g=c.pendingProps,N=ut.current,A=!1,I=(c.flags&128)!==0,K;if((K=I)||(K=s!==null&&s.memoizedState===null?!1:(N&2)!==0),K?(A=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),tt(ut,N&1),s===null)return zh(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=g.children,s=g.fallback,A?(g=c.mode,A=c.child,I={mode:"hidden",children:I},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=wu(I,g,0,null),s=Ya(s,g,f,null),A.return=c,s.return=c,A.sibling=s,c.child=A,c.child.memoizedState=mp(f),c.memoizedState=pp,s):gp(c,I));if(N=s.memoizedState,N!==null&&(K=N.dehydrated,K!==null))return P3(s,c,I,g,K,N,f);if(A){A=g.fallback,I=c.mode,N=s.child,K=N.sibling;var Q={mode:"hidden",children:g.children};return(I&1)===0&&c.child!==N?(g=c.child,g.childLanes=0,g.pendingProps=Q,c.deletions=null):(g=ma(N,Q),g.subtreeFlags=N.subtreeFlags&14680064),K!==null?A=ma(K,A):(A=Ya(A,I,f,null),A.flags|=2),A.return=c,g.return=c,g.sibling=A,c.child=g,g=A,A=c.child,I=s.child.memoizedState,I=I===null?mp(f):{baseLanes:I.baseLanes|f,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=s.childLanes&~f,c.memoizedState=pp,g}return A=s.child,s=A.sibling,g=ma(A,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=f),g.return=c,g.sibling=null,s!==null&&(f=c.deletions,f===null?(c.deletions=[s],c.flags|=16):f.push(s)),c.child=g,c.memoizedState=null,g}function gp(s,c){return c=wu({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function cu(s,c,f,g){return g!==null&&Uh(g),Hi(c,s.child,null,f),s=gp(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function P3(s,c,f,g,N,A,I){if(f)return c.flags&256?(c.flags&=-257,g=up(Error(r(422))),cu(s,c,I,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(A=g.fallback,N=c.mode,g=wu({mode:"visible",children:g.children},N,0,null),A=Ya(A,N,I,null),A.flags|=2,g.return=c,A.return=c,g.sibling=A,c.child=g,(c.mode&1)!==0&&Hi(c,s.child,null,I),c.child.memoizedState=mp(I),c.memoizedState=pp,A);if((c.mode&1)===0)return cu(s,c,I,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var K=g.dgst;return g=K,A=Error(r(419)),g=up(A,g,void 0),cu(s,c,I,g)}if(K=(I&s.childLanes)!==0,sr||K){if(g=Rt,g!==null){switch(I&-I){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|I))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,_n(s,N),Vr(g,s,N,-1))}return Tp(),g=up(Error(r(421))),cu(s,c,I,g)}return N.data==="$?"?(c.flags|=128,c.child=s.child,c=B3.bind(null,s),N._reactRetry=c,null):(s=A.treeContext,gr=aa(N.nextSibling),mr=c,lt=!0,Wr=null,s!==null&&(Or[kr++]=Pn,Or[kr++]=An,Or[kr++]=Ba,Pn=s.id,An=s.overflow,Ba=c),c=gp(c,g.children),c.flags|=4096,c)}function d1(s,c,f){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Gh(s.return,c,f)}function xp(s,c,f,g,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:N}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=N)}function f1(s,c,f){var g=c.pendingProps,N=g.revealOrder,A=g.tail;if(Qt(s,c,g.children,f),g=ut.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&d1(s,f,c);else if(s.tag===19)d1(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(tt(ut,g),(c.mode&1)===0)c.memoizedState=null;else switch(N){case"forwards":for(f=c.child,N=null;f!==null;)s=f.alternate,s!==null&&ru(s)===null&&(N=f),f=f.sibling;f=N,f===null?(N=c.child,c.child=null):(N=f.sibling,f.sibling=null),xp(c,!1,N,f,A);break;case"backwards":for(f=null,N=c.child,c.child=null;N!==null;){if(s=N.alternate,s!==null&&ru(s)===null){c.child=N;break}s=N.sibling,N.sibling=f,f=N,N=s}xp(c,!0,f,null,A);break;case"together":xp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function uu(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function En(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Ka|=c.lanes,(f&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=ma(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=ma(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function A3(s,c,f){switch(c.tag){case 3:l1(c),Ki();break;case 5:kw(c);break;case 1:ir(c.type)&&Hc(c);break;case 4:Xh(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,N=c.memoizedProps.value;tt(Jc,g._currentValue),g._currentValue=N;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(tt(ut,ut.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?u1(s,c,f):(tt(ut,ut.current&1),s=En(s,c,f),s!==null?s.sibling:null);tt(ut,ut.current&1);break;case 19:if(g=(f&c.childLanes)!==0,(s.flags&128)!==0){if(g)return f1(s,c,f);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),tt(ut,ut.current),g)break;return null;case 22:case 23:return c.lanes=0,i1(s,c,f)}return En(s,c,f)}var h1,yp,p1,m1;h1=function(s,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},yp=function(){},p1=function(s,c,f,g){var N=s.memoizedProps;if(N!==g){s=c.stateNode,Ua(un.current);var A=null;switch(f){case"input":N=ye(s,N),g=ye(s,g),A=[];break;case"select":N=D({},N,{value:void 0}),g=D({},g,{value:void 0}),A=[];break;case"textarea":N=qr(s,N),g=qr(s,g),A=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Uc)}Jf(f,g);var I;f=null;for(re in N)if(!g.hasOwnProperty(re)&&N.hasOwnProperty(re)&&N[re]!=null)if(re==="style"){var K=N[re];for(I in K)K.hasOwnProperty(I)&&(f||(f={}),f[I]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?A||(A=[]):(A=A||[]).push(re,null));for(re in g){var Q=g[re];if(K=N!=null?N[re]:void 0,g.hasOwnProperty(re)&&Q!==K&&(Q!=null||K!=null))if(re==="style")if(K){for(I in K)!K.hasOwnProperty(I)||Q&&Q.hasOwnProperty(I)||(f||(f={}),f[I]="");for(I in Q)Q.hasOwnProperty(I)&&K[I]!==Q[I]&&(f||(f={}),f[I]=Q[I])}else f||(A||(A=[]),A.push(re,f)),f=Q;else re==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,K=K?K.__html:void 0,Q!=null&&K!==Q&&(A=A||[]).push(re,Q)):re==="children"?typeof Q!="string"&&typeof Q!="number"||(A=A||[]).push(re,""+Q):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(Q!=null&&re==="onScroll"&&it("scroll",s),A||K===Q||(A=[])):(A=A||[]).push(re,Q))}f&&(A=A||[]).push("style",f);var re=A;(c.updateQueue=re)&&(c.flags|=4)}},m1=function(s,c,f,g){f!==g&&(c.flags|=4)};function Uo(s,c){if(!lt)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Wt(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(c)for(var N=s.child;N!==null;)f|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)f|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=f,c}function _3(s,c,f){var g=c.pendingProps;switch(Bh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return ir(c.type)&&Kc(),Wt(c),null;case 3:return g=c.stateNode,Yi(),st(ar),st(zt),Zh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Xc(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wr!==null&&(_p(Wr),Wr=null))),yp(s,c),Wt(c),null;case 5:Qh(c);var N=Ua(Lo.current);if(f=c.type,s!==null&&c.stateNode!=null)p1(s,c,f,g,N),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(s=Ua(un.current),Xc(c)){g=c.stateNode,f=c.type;var A=c.memoizedProps;switch(g[cn]=c,g[Ro]=A,s=(c.mode&1)!==0,f){case"dialog":it("cancel",g),it("close",g);break;case"iframe":case"object":case"embed":it("load",g);break;case"video":case"audio":for(N=0;N<Co.length;N++)it(Co[N],g);break;case"source":it("error",g);break;case"img":case"image":case"link":it("error",g),it("load",g);break;case"details":it("toggle",g);break;case"input":Je(g,A),it("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},it("invalid",g);break;case"textarea":Ci(g,A),it("invalid",g)}Jf(f,A),N=null;for(var I in A)if(A.hasOwnProperty(I)){var K=A[I];I==="children"?typeof K=="string"?g.textContent!==K&&(A.suppressHydrationWarning!==!0&&zc(g.textContent,K,s),N=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(A.suppressHydrationWarning!==!0&&zc(g.textContent,K,s),N=["children",""+K]):i.hasOwnProperty(I)&&K!=null&&I==="onScroll"&&it("scroll",g)}switch(f){case"input":Ie(g),Br(g,A,!0);break;case"textarea":Ie(g),co(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Uc)}g=N,c.updateQueue=g,g!==null&&(c.flags|=4)}else{I=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=tj(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=I.createElement(f,{is:g.is}):(s=I.createElement(f),f==="select"&&(I=s,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):s=I.createElementNS(s,f),s[cn]=c,s[Ro]=g,h1(s,c,!1,!1),c.stateNode=s;e:{switch(I=Zf(f,g),f){case"dialog":it("cancel",s),it("close",s),N=g;break;case"iframe":case"object":case"embed":it("load",s),N=g;break;case"video":case"audio":for(N=0;N<Co.length;N++)it(Co[N],s);N=g;break;case"source":it("error",s),N=g;break;case"img":case"image":case"link":it("error",s),it("load",s),N=g;break;case"details":it("toggle",s),N=g;break;case"input":Je(s,g),N=ye(s,g),it("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=D({},g,{value:void 0}),it("invalid",s);break;case"textarea":Ci(s,g),N=qr(s,g),it("invalid",s);break;default:N=g}Jf(f,N),K=N;for(A in K)if(K.hasOwnProperty(A)){var Q=K[A];A==="style"?aj(s,Q):A==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&rj(s,Q)):A==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&uo(s,Q):typeof Q=="number"&&uo(s,""+Q):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Q!=null&&A==="onScroll"&&it("scroll",s):Q!=null&&C(s,A,Q,I))}switch(f){case"input":Ie(s),Br(s,g,!1);break;case"textarea":Ie(s),co(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Se(g.value));break;case"select":s.multiple=!!g.multiple,A=g.value,A!=null?nr(s,!!g.multiple,A,!1):g.defaultValue!=null&&nr(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Uc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wt(c),null;case 6:if(s&&c.stateNode!=null)m1(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(f=Ua(Lo.current),Ua(un.current),Xc(c)){if(g=c.stateNode,f=c.memoizedProps,g[cn]=c,(A=g.nodeValue!==f)&&(s=mr,s!==null))switch(s.tag){case 3:zc(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zc(g.nodeValue,f,(s.mode&1)!==0)}A&&(c.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[cn]=c,c.stateNode=g}return Wt(c),null;case 13:if(st(ut),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&gr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)yw(),Ki(),c.flags|=98560,A=!1;else if(A=Xc(c),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[cn]=c}else Ki(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),A=!1}else Wr!==null&&(_p(Wr),Wr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(ut.current&1)!==0?St===0&&(St=3):Tp())),c.updateQueue!==null&&(c.flags|=4),Wt(c),null);case 4:return Yi(),yp(s,c),s===null&&Eo(c.stateNode.containerInfo),Wt(c),null;case 10:return Hh(c.type._context),Wt(c),null;case 17:return ir(c.type)&&Kc(),Wt(c),null;case 19:if(st(ut),A=c.memoizedState,A===null)return Wt(c),null;if(g=(c.flags&128)!==0,I=A.rendering,I===null)if(g)Uo(A,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(I=ru(s),I!==null){for(c.flags|=128,Uo(A,!1),g=I.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=f,f=c.child;f!==null;)A=f,s=g,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,s=I.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return tt(ut,ut.current&1|2),c.child}s=s.sibling}A.tail!==null&&xt()>Zi&&(c.flags|=128,g=!0,Uo(A,!1),c.lanes=4194304)}else{if(!g)if(s=ru(I),s!==null){if(c.flags|=128,g=!0,f=s.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Uo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!lt)return Wt(c),null}else 2*xt()-A.renderingStartTime>Zi&&f!==1073741824&&(c.flags|=128,g=!0,Uo(A,!1),c.lanes=4194304);A.isBackwards?(I.sibling=c.child,c.child=I):(f=A.last,f!==null?f.sibling=I:c.child=I,A.last=I)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=xt(),c.sibling=null,f=ut.current,tt(ut,g?f&1|2:f&1),c):(Wt(c),null);case 22:case 23:return Ep(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function C3(s,c){switch(Bh(c),c.tag){case 1:return ir(c.type)&&Kc(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yi(),st(ar),st(zt),Zh(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return Qh(c),null;case 13:if(st(ut),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ki()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return st(ut),null;case 4:return Yi(),null;case 10:return Hh(c.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var du=!1,Kt=!1,E3=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Qi(s,c){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){ht(s,c,g)}else f.current=null}function vp(s,c,f){try{f()}catch(g){ht(s,c,g)}}var g1=!1;function T3(s,c){if(Eh=Ec,s=Vj(),Nh(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var N=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var I=0,K=-1,Q=-1,re=0,ue=0,he=s,le=null;t:for(;;){for(var ge;he!==f||N!==0&&he.nodeType!==3||(K=I+N),he!==A||g!==0&&he.nodeType!==3||(Q=I+g),he.nodeType===3&&(I+=he.nodeValue.length),(ge=he.firstChild)!==null;)le=he,he=ge;for(;;){if(he===s)break t;if(le===f&&++re===N&&(K=I),le===A&&++ue===g&&(Q=I),(ge=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=ge}f=K===-1||Q===-1?null:{start:K,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Th={focusedElem:s,selectionRange:f},Ec=!1,ve=c;ve!==null;)if(c=ve,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ve=s;else for(;ve!==null;){c=ve;try{var je=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var we=je.memoizedProps,yt=je.memoizedState,ee=c.stateNode,J=ee.getSnapshotBeforeUpdate(c.elementType===c.type?we:Kr(c.type,we),yt);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){ht(c,c.return,pe)}if(s=c.sibling,s!==null){s.return=c.return,ve=s;break}ve=c.return}return je=g1,g1=!1,je}function Wo(s,c,f){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var A=N.destroy;N.destroy=void 0,A!==void 0&&vp(c,f,A)}N=N.next}while(N!==g)}}function fu(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==c)}}function bp(s){var c=s.ref;if(c!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof c=="function"?c(s):c.current=s}}function x1(s){var c=s.alternate;c!==null&&(s.alternate=null,x1(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[cn],delete c[Ro],delete c[$h],delete c[p3],delete c[m3])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function y1(s){return s.tag===5||s.tag===3||s.tag===4}function v1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jp(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(s,c):f.insertBefore(s,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(s,f)):(c=f,c.appendChild(s)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Uc));else if(g!==4&&(s=s.child,s!==null))for(jp(s,c,f),s=s.sibling;s!==null;)jp(s,c,f),s=s.sibling}function wp(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(wp(s,c,f),s=s.sibling;s!==null;)wp(s,c,f),s=s.sibling}var Ft=null,Hr=!1;function ua(s,c,f){for(f=f.child;f!==null;)b1(s,c,f),f=f.sibling}function b1(s,c,f){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Oc,f)}catch{}switch(f.tag){case 5:Kt||Qi(f,c);case 6:var g=Ft,N=Hr;Ft=null,ua(s,c,f),Ft=g,Hr=N,Ft!==null&&(Hr?(s=Ft,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Ft.removeChild(f.stateNode));break;case 18:Ft!==null&&(Hr?(s=Ft,f=f.stateNode,s.nodeType===8?Ih(s.parentNode,f):s.nodeType===1&&Ih(s,f),wo(s)):Ih(Ft,f.stateNode));break;case 4:g=Ft,N=Hr,Ft=f.stateNode.containerInfo,Hr=!0,ua(s,c,f),Ft=g,Hr=N;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var A=N,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&vp(f,c,I),N=N.next}while(N!==g)}ua(s,c,f);break;case 1:if(!Kt&&(Qi(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(K){ht(f,c,K)}ua(s,c,f);break;case 21:ua(s,c,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,ua(s,c,f),Kt=g):ua(s,c,f);break;default:ua(s,c,f)}}function j1(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new E3),c.forEach(function(g){var N=q3.bind(null,s,g);f.has(g)||(f.add(g),g.then(N,N))})}}function Gr(s,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var N=f[g];try{var A=s,I=c,K=I;e:for(;K!==null;){switch(K.tag){case 5:Ft=K.stateNode,Hr=!1;break e;case 3:Ft=K.stateNode.containerInfo,Hr=!0;break e;case 4:Ft=K.stateNode.containerInfo,Hr=!0;break e}K=K.return}if(Ft===null)throw Error(r(160));b1(A,I,N),Ft=null,Hr=!1;var Q=N.alternate;Q!==null&&(Q.return=null),N.return=null}catch(re){ht(N,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)w1(c,s),c=c.sibling}function w1(s,c){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gr(c,s),fn(s),g&4){try{Wo(3,s,s.return),fu(3,s)}catch(we){ht(s,s.return,we)}try{Wo(5,s,s.return)}catch(we){ht(s,s.return,we)}}break;case 1:Gr(c,s),fn(s),g&512&&f!==null&&Qi(f,f.return);break;case 5:if(Gr(c,s),fn(s),g&512&&f!==null&&Qi(f,f.return),s.flags&32){var N=s.stateNode;try{uo(N,"")}catch(we){ht(s,s.return,we)}}if(g&4&&(N=s.stateNode,N!=null)){var A=s.memoizedProps,I=f!==null?f.memoizedProps:A,K=s.type,Q=s.updateQueue;if(s.updateQueue=null,Q!==null)try{K==="input"&&A.type==="radio"&&A.name!=null&&ft(N,A),Zf(K,I);var re=Zf(K,A);for(I=0;I<Q.length;I+=2){var ue=Q[I],he=Q[I+1];ue==="style"?aj(N,he):ue==="dangerouslySetInnerHTML"?rj(N,he):ue==="children"?uo(N,he):C(N,ue,he,re)}switch(K){case"input":Et(N,A);break;case"textarea":lo(N,A);break;case"select":var le=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var ge=A.value;ge!=null?nr(N,!!A.multiple,ge,!1):le!==!!A.multiple&&(A.defaultValue!=null?nr(N,!!A.multiple,A.defaultValue,!0):nr(N,!!A.multiple,A.multiple?[]:"",!1))}N[Ro]=A}catch(we){ht(s,s.return,we)}}break;case 6:if(Gr(c,s),fn(s),g&4){if(s.stateNode===null)throw Error(r(162));N=s.stateNode,A=s.memoizedProps;try{N.nodeValue=A}catch(we){ht(s,s.return,we)}}break;case 3:if(Gr(c,s),fn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{wo(c.containerInfo)}catch(we){ht(s,s.return,we)}break;case 4:Gr(c,s),fn(s);break;case 13:Gr(c,s),fn(s),N=s.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(Op=xt())),g&4&&j1(s);break;case 22:if(ue=f!==null&&f.memoizedState!==null,s.mode&1?(Kt=(re=Kt)||ue,Gr(c,s),Kt=re):Gr(c,s),fn(s),g&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!ue&&(s.mode&1)!==0)for(ve=s,ue=s.child;ue!==null;){for(he=ve=ue;ve!==null;){switch(le=ve,ge=le.child,le.tag){case 0:case 11:case 14:case 15:Wo(4,le,le.return);break;case 1:Qi(le,le.return);var je=le.stateNode;if(typeof je.componentWillUnmount=="function"){g=le,f=le.return;try{c=g,je.props=c.memoizedProps,je.state=c.memoizedState,je.componentWillUnmount()}catch(we){ht(g,f,we)}}break;case 5:Qi(le,le.return);break;case 22:if(le.memoizedState!==null){O1(he);continue}}ge!==null?(ge.return=le,ve=ge):O1(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{N=he.stateNode,re?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(K=he.stateNode,Q=he.memoizedProps.style,I=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,K.style.display=nj("display",I))}catch(we){ht(s,s.return,we)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=re?"":he.memoizedProps}catch(we){ht(s,s.return,we)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Gr(c,s),fn(s),g&4&&j1(s);break;case 21:break;default:Gr(c,s),fn(s)}}function fn(s){var c=s.flags;if(c&2){try{e:{for(var f=s.return;f!==null;){if(y1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(uo(N,""),g.flags&=-33);var A=v1(s);wp(s,A,N);break;case 3:case 4:var I=g.stateNode.containerInfo,K=v1(s);jp(s,K,I);break;default:throw Error(r(161))}}catch(Q){ht(s,s.return,Q)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function R3(s,c,f){ve=s,N1(s)}function N1(s,c,f){for(var g=(s.mode&1)!==0;ve!==null;){var N=ve,A=N.child;if(N.tag===22&&g){var I=N.memoizedState!==null||du;if(!I){var K=N.alternate,Q=K!==null&&K.memoizedState!==null||Kt;K=du;var re=Kt;if(du=I,(Kt=Q)&&!re)for(ve=N;ve!==null;)I=ve,Q=I.child,I.tag===22&&I.memoizedState!==null?k1(N):Q!==null?(Q.return=I,ve=Q):k1(N);for(;A!==null;)ve=A,N1(A),A=A.sibling;ve=N,du=K,Kt=re}S1(s)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,ve=A):S1(s)}}function S1(s){for(;ve!==null;){var c=ve;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Kt||fu(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var N=c.elementType===c.type?f.memoizedProps:Kr(c.type,f.memoizedProps);g.componentDidUpdate(N,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Ow(c,A,g);break;case 3:var I=c.updateQueue;if(I!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Ow(c,I,f)}break;case 5:var K=c.stateNode;if(f===null&&c.flags&4){f=K;var Q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var ue=re.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&wo(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||c.flags&512&&bp(c)}catch(le){ht(c,c.return,le)}}if(c===s){ve=null;break}if(f=c.sibling,f!==null){f.return=c.return,ve=f;break}ve=c.return}}function O1(s){for(;ve!==null;){var c=ve;if(c===s){ve=null;break}var f=c.sibling;if(f!==null){f.return=c.return,ve=f;break}ve=c.return}}function k1(s){for(;ve!==null;){var c=ve;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{fu(4,c)}catch(Q){ht(c,f,Q)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var N=c.return;try{g.componentDidMount()}catch(Q){ht(c,N,Q)}}var A=c.return;try{bp(c)}catch(Q){ht(c,A,Q)}break;case 5:var I=c.return;try{bp(c)}catch(Q){ht(c,I,Q)}}}catch(Q){ht(c,c.return,Q)}if(c===s){ve=null;break}var K=c.sibling;if(K!==null){K.return=c.return,ve=K;break}ve=c.return}}var M3=Math.ceil,hu=O.ReactCurrentDispatcher,Np=O.ReactCurrentOwner,_r=O.ReactCurrentBatchConfig,We=0,Rt=null,bt=null,Bt=0,xr=0,Ji=ia(0),St=0,Ko=null,Ka=0,pu=0,Sp=0,Ho=null,or=null,Op=0,Zi=1/0,Tn=null,mu=!1,kp=null,da=null,gu=!1,fa=null,xu=0,Go=0,Pp=null,yu=-1,vu=0;function Jt(){return(We&6)!==0?xt():yu!==-1?yu:yu=xt()}function ha(s){return(s.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:x3.transition!==null?(vu===0&&(vu=vj()),vu):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Aj(s.type)),s)}function Vr(s,c,f,g){if(50<Go)throw Go=0,Pp=null,Error(r(185));xo(s,f,g),((We&2)===0||s!==Rt)&&(s===Rt&&((We&2)===0&&(pu|=f),St===4&&pa(s,Bt)),lr(s,g),f===1&&We===0&&(c.mode&1)===0&&(Zi=xt()+500,Gc&&oa()))}function lr(s,c){var f=s.callbackNode;x4(s,c);var g=Ac(s,s===Rt?Bt:0);if(g===0)f!==null&&gj(f),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(f!=null&&gj(f),c===1)s.tag===0?g3(A1.bind(null,s)):hw(A1.bind(null,s)),f3(function(){(We&6)===0&&oa()}),f=null;else{switch(bj(g)){case 1:f=sh;break;case 4:f=xj;break;case 16:f=Sc;break;case 536870912:f=yj;break;default:f=Sc}f=$1(f,P1.bind(null,s))}s.callbackPriority=c,s.callbackNode=f}}function P1(s,c){if(yu=-1,vu=0,(We&6)!==0)throw Error(r(327));var f=s.callbackNode;if(es()&&s.callbackNode!==f)return null;var g=Ac(s,s===Rt?Bt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=bu(s,g);else{c=g;var N=We;We|=2;var A=C1();(Rt!==s||Bt!==c)&&(Tn=null,Zi=xt()+500,Ga(s,c));do try{D3();break}catch(K){_1(s,K)}while(!0);Kh(),hu.current=A,We=N,bt!==null?c=0:(Rt=null,Bt=0,c=St)}if(c!==0){if(c===2&&(N=oh(s),N!==0&&(g=N,c=Ap(s,N))),c===1)throw f=Ko,Ga(s,0),pa(s,g),lr(s,xt()),f;if(c===6)pa(s,g);else{if(N=s.current.alternate,(g&30)===0&&!I3(N)&&(c=bu(s,g),c===2&&(A=oh(s),A!==0&&(g=A,c=Ap(s,A))),c===1))throw f=Ko,Ga(s,0),pa(s,g),lr(s,xt()),f;switch(s.finishedWork=N,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Va(s,or,Tn);break;case 3:if(pa(s,g),(g&130023424)===g&&(c=Op+500-xt(),10<c)){if(Ac(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){Jt(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Mh(Va.bind(null,s,or,Tn),c);break}Va(s,or,Tn);break;case 4:if(pa(s,g),(g&4194240)===g)break;for(c=s.eventTimes,N=-1;0<g;){var I=31-zr(g);A=1<<I,I=c[I],I>N&&(N=I),g&=~A}if(g=N,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*M3(g/1960))-g,10<g){s.timeoutHandle=Mh(Va.bind(null,s,or,Tn),g);break}Va(s,or,Tn);break;case 5:Va(s,or,Tn);break;default:throw Error(r(329))}}}return lr(s,xt()),s.callbackNode===f?P1.bind(null,s):null}function Ap(s,c){var f=Ho;return s.current.memoizedState.isDehydrated&&(Ga(s,c).flags|=256),s=bu(s,c),s!==2&&(c=or,or=f,c!==null&&_p(c)),s}function _p(s){or===null?or=s:or.push.apply(or,s)}function I3(s){for(var c=s;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var N=f[g],A=N.getSnapshot;N=N.value;try{if(!Ur(A(),N))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pa(s,c){for(c&=~Sp,c&=~pu,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var f=31-zr(c),g=1<<f;s[f]=-1,c&=~g}}function A1(s){if((We&6)!==0)throw Error(r(327));es();var c=Ac(s,0);if((c&1)===0)return lr(s,xt()),null;var f=bu(s,c);if(s.tag!==0&&f===2){var g=oh(s);g!==0&&(c=g,f=Ap(s,g))}if(f===1)throw f=Ko,Ga(s,0),pa(s,c),lr(s,xt()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Va(s,or,Tn),lr(s,xt()),null}function Cp(s,c){var f=We;We|=1;try{return s(c)}finally{We=f,We===0&&(Zi=xt()+500,Gc&&oa())}}function Ha(s){fa!==null&&fa.tag===0&&(We&6)===0&&es();var c=We;We|=1;var f=_r.transition,g=Qe;try{if(_r.transition=null,Qe=1,s)return s()}finally{Qe=g,_r.transition=f,We=c,(We&6)===0&&oa()}}function Ep(){xr=Ji.current,st(Ji)}function Ga(s,c){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,d3(f)),bt!==null)for(f=bt.return;f!==null;){var g=f;switch(Bh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Kc();break;case 3:Yi(),st(ar),st(zt),Zh();break;case 5:Qh(g);break;case 4:Yi();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Hh(g.type._context);break;case 22:case 23:Ep()}f=f.return}if(Rt=s,bt=s=ma(s.current,null),Bt=xr=c,St=0,Ko=null,Sp=pu=Ka=0,or=Ho=null,za!==null){for(c=0;c<za.length;c++)if(f=za[c],g=f.interleaved,g!==null){f.interleaved=null;var N=g.next,A=f.pending;if(A!==null){var I=A.next;A.next=N,g.next=I}f.pending=g}za=null}return s}function _1(s,c){do{var f=bt;try{if(Kh(),nu.current=ou,au){for(var g=dt.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}au=!1}if(Wa=0,Tt=Nt=dt=null,Fo=!1,Bo=0,Np.current=null,f===null||f.return===null){St=1,Ko=c,bt=null;break}e:{var A=s,I=f.return,K=f,Q=c;if(c=Bt,K.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var re=Q,ue=K,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ge=e1(I);if(ge!==null){ge.flags&=-257,t1(ge,I,K,A,c),ge.mode&1&&Zw(A,re,c),c=ge,Q=re;var je=c.updateQueue;if(je===null){var we=new Set;we.add(Q),c.updateQueue=we}else je.add(Q);break e}else{if((c&1)===0){Zw(A,re,c),Tp();break e}Q=Error(r(426))}}else if(lt&&K.mode&1){var yt=e1(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),t1(yt,I,K,A,c),Uh(Xi(Q,K));break e}}A=Q=Xi(Q,K),St!==4&&(St=2),Ho===null?Ho=[A]:Ho.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var ee=Qw(A,Q,c);Sw(A,ee);break e;case 1:K=Q;var J=A.type,te=A.stateNode;if((A.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(da===null||!da.has(te)))){A.flags|=65536,c&=-c,A.lanes|=c;var pe=Jw(A,K,c);Sw(A,pe);break e}}A=A.return}while(A!==null)}T1(f)}catch(Ne){c=Ne,bt===f&&f!==null&&(bt=f=f.return);continue}break}while(!0)}function C1(){var s=hu.current;return hu.current=ou,s===null?ou:s}function Tp(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ka&268435455)===0&&(pu&268435455)===0||pa(Rt,Bt)}function bu(s,c){var f=We;We|=2;var g=C1();(Rt!==s||Bt!==c)&&(Tn=null,Ga(s,c));do try{$3();break}catch(N){_1(s,N)}while(!0);if(Kh(),We=f,hu.current=g,bt!==null)throw Error(r(261));return Rt=null,Bt=0,St}function $3(){for(;bt!==null;)E1(bt)}function D3(){for(;bt!==null&&!l4();)E1(bt)}function E1(s){var c=I1(s.alternate,s,xr);s.memoizedProps=s.pendingProps,c===null?T1(s):bt=c,Np.current=null}function T1(s){var c=s;do{var f=c.alternate;if(s=c.return,(c.flags&32768)===0){if(f=_3(f,c,xr),f!==null){bt=f;return}}else{if(f=C3(f,c),f!==null){f.flags&=32767,bt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{St=6,bt=null;return}}if(c=c.sibling,c!==null){bt=c;return}bt=c=s}while(c!==null);St===0&&(St=5)}function Va(s,c,f){var g=Qe,N=_r.transition;try{_r.transition=null,Qe=1,L3(s,c,f,g)}finally{_r.transition=N,Qe=g}return null}function L3(s,c,f,g){do es();while(fa!==null);if((We&6)!==0)throw Error(r(327));f=s.finishedWork;var N=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var A=f.lanes|f.childLanes;if(y4(s,A),s===Rt&&(bt=Rt=null,Bt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||gu||(gu=!0,$1(Sc,function(){return es(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=_r.transition,_r.transition=null;var I=Qe;Qe=1;var K=We;We|=4,Np.current=null,T3(s,f),w1(f,s),a3(Th),Ec=!!Eh,Th=Eh=null,s.current=f,R3(f),c4(),We=K,Qe=I,_r.transition=A}else s.current=f;if(gu&&(gu=!1,fa=s,xu=N),A=s.pendingLanes,A===0&&(da=null),f4(f.stateNode),lr(s,xt()),c!==null)for(g=s.onRecoverableError,f=0;f<c.length;f++)N=c[f],g(N.value,{componentStack:N.stack,digest:N.digest});if(mu)throw mu=!1,s=kp,kp=null,s;return(xu&1)!==0&&s.tag!==0&&es(),A=s.pendingLanes,(A&1)!==0?s===Pp?Go++:(Go=0,Pp=s):Go=0,oa(),null}function es(){if(fa!==null){var s=bj(xu),c=_r.transition,f=Qe;try{if(_r.transition=null,Qe=16>s?16:s,fa===null)var g=!1;else{if(s=fa,fa=null,xu=0,(We&6)!==0)throw Error(r(331));var N=We;for(We|=4,ve=s.current;ve!==null;){var A=ve,I=A.child;if((ve.flags&16)!==0){var K=A.deletions;if(K!==null){for(var Q=0;Q<K.length;Q++){var re=K[Q];for(ve=re;ve!==null;){var ue=ve;switch(ue.tag){case 0:case 11:case 15:Wo(8,ue,A)}var he=ue.child;if(he!==null)he.return=ue,ve=he;else for(;ve!==null;){ue=ve;var le=ue.sibling,ge=ue.return;if(x1(ue),ue===re){ve=null;break}if(le!==null){le.return=ge,ve=le;break}ve=ge}}}var je=A.alternate;if(je!==null){var we=je.child;if(we!==null){je.child=null;do{var yt=we.sibling;we.sibling=null,we=yt}while(we!==null)}}ve=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,ve=I;else e:for(;ve!==null;){if(A=ve,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Wo(9,A,A.return)}var ee=A.sibling;if(ee!==null){ee.return=A.return,ve=ee;break e}ve=A.return}}var J=s.current;for(ve=J;ve!==null;){I=ve;var te=I.child;if((I.subtreeFlags&2064)!==0&&te!==null)te.return=I,ve=te;else e:for(I=J;ve!==null;){if(K=ve,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:fu(9,K)}}catch(Ne){ht(K,K.return,Ne)}if(K===I){ve=null;break e}var pe=K.sibling;if(pe!==null){pe.return=K.return,ve=pe;break e}ve=K.return}}if(We=N,oa(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Oc,s)}catch{}g=!0}return g}finally{Qe=f,_r.transition=c}}return!1}function R1(s,c,f){c=Xi(f,c),c=Qw(s,c,1),s=ca(s,c,1),c=Jt(),s!==null&&(xo(s,1,c),lr(s,c))}function ht(s,c,f){if(s.tag===3)R1(s,s,f);else for(;c!==null;){if(c.tag===3){R1(c,s,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(da===null||!da.has(g))){s=Xi(f,s),s=Jw(c,s,1),c=ca(c,s,1),s=Jt(),c!==null&&(xo(c,1,s),lr(c,s));break}}c=c.return}}function F3(s,c,f){var g=s.pingCache;g!==null&&g.delete(c),c=Jt(),s.pingedLanes|=s.suspendedLanes&f,Rt===s&&(Bt&f)===f&&(St===4||St===3&&(Bt&130023424)===Bt&&500>xt()-Op?Ga(s,0):Sp|=f),lr(s,c)}function M1(s,c){c===0&&((s.mode&1)===0?c=1:(c=Pc,Pc<<=1,(Pc&130023424)===0&&(Pc=4194304)));var f=Jt();s=_n(s,c),s!==null&&(xo(s,c,f),lr(s,f))}function B3(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),M1(s,f)}function q3(s,c){var f=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(f=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),M1(s,f)}var I1;I1=function(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps||ar.current)sr=!0;else{if((s.lanes&f)===0&&(c.flags&128)===0)return sr=!1,A3(s,c,f);sr=(s.flags&131072)!==0}else sr=!1,lt&&(c.flags&1048576)!==0&&pw(c,Yc,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;uu(s,c),s=c.pendingProps;var N=zi(c,zt.current);Vi(c,f),N=rp(null,c,g,s,N,f);var A=np();return c.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ir(g)?(A=!0,Hc(c)):A=!1,c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Yh(c),N.updater=lu,c.stateNode=N,N._reactInternals=c,cp(c,g,s,f),c=hp(null,c,g,!0,A,f)):(c.tag=0,lt&&A&&Fh(c),Qt(null,c,N,f),c=c.child),c;case 16:g=c.elementType;e:{switch(uu(s,c),s=c.pendingProps,N=g._init,g=N(g._payload),c.type=g,N=c.tag=U3(g),s=Kr(g,s),N){case 0:c=fp(null,c,g,s,f);break e;case 1:c=o1(null,c,g,s,f);break e;case 11:c=r1(null,c,g,s,f);break e;case 14:c=n1(null,c,g,Kr(g.type,s),f);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),fp(s,c,g,N,f);case 1:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),o1(s,c,g,N,f);case 3:e:{if(l1(c),s===null)throw Error(r(387));g=c.pendingProps,A=c.memoizedState,N=A.element,Nw(s,c),tu(c,g,null,f);var I=c.memoizedState;if(g=I.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){N=Xi(Error(r(423)),c),c=c1(s,c,g,f,N);break e}else if(g!==N){N=Xi(Error(r(424)),c),c=c1(s,c,g,f,N);break e}else for(gr=aa(c.stateNode.containerInfo.firstChild),mr=c,lt=!0,Wr=null,f=jw(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ki(),g===N){c=En(s,c,f);break e}Qt(s,c,g,f)}c=c.child}return c;case 5:return kw(c),s===null&&zh(c),g=c.type,N=c.pendingProps,A=s!==null?s.memoizedProps:null,I=N.children,Rh(g,N)?I=null:A!==null&&Rh(g,A)&&(c.flags|=32),s1(s,c),Qt(s,c,I,f),c.child;case 6:return s===null&&zh(c),null;case 13:return u1(s,c,f);case 4:return Xh(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Hi(c,null,g,f):Qt(s,c,g,f),c.child;case 11:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),r1(s,c,g,N,f);case 7:return Qt(s,c,c.pendingProps,f),c.child;case 8:return Qt(s,c,c.pendingProps.children,f),c.child;case 12:return Qt(s,c,c.pendingProps.children,f),c.child;case 10:e:{if(g=c.type._context,N=c.pendingProps,A=c.memoizedProps,I=N.value,tt(Jc,g._currentValue),g._currentValue=I,A!==null)if(Ur(A.value,I)){if(A.children===N.children&&!ar.current){c=En(s,c,f);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var K=A.dependencies;if(K!==null){I=A.child;for(var Q=K.firstContext;Q!==null;){if(Q.context===g){if(A.tag===1){Q=Cn(-1,f&-f),Q.tag=2;var re=A.updateQueue;if(re!==null){re=re.shared;var ue=re.pending;ue===null?Q.next=Q:(Q.next=ue.next,ue.next=Q),re.pending=Q}}A.lanes|=f,Q=A.alternate,Q!==null&&(Q.lanes|=f),Gh(A.return,f,c),K.lanes|=f;break}Q=Q.next}}else if(A.tag===10)I=A.type===c.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=f,K=I.alternate,K!==null&&(K.lanes|=f),Gh(I,f,c),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===c){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Qt(s,c,N.children,f),c=c.child}return c;case 9:return N=c.type,g=c.pendingProps.children,Vi(c,f),N=Pr(N),g=g(N),c.flags|=1,Qt(s,c,g,f),c.child;case 14:return g=c.type,N=Kr(g,c.pendingProps),N=Kr(g.type,N),n1(s,c,g,N,f);case 15:return a1(s,c,c.type,c.pendingProps,f);case 17:return g=c.type,N=c.pendingProps,N=c.elementType===g?N:Kr(g,N),uu(s,c),c.tag=1,ir(g)?(s=!0,Hc(c)):s=!1,Vi(c,f),Yw(c,g,N),cp(c,g,N,f),hp(null,c,g,!0,s,f);case 19:return f1(s,c,f);case 22:return i1(s,c,f)}throw Error(r(156,c.tag))};function $1(s,c){return mj(s,c)}function z3(s,c,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(s,c,f,g){return new z3(s,c,f,g)}function Rp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function U3(s){if(typeof s=="function")return Rp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===B)return 14}return 2}function ma(s,c){var f=s.alternate;return f===null?(f=Cr(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function ju(s,c,f,g,N,A){var I=2;if(g=s,typeof s=="function")Rp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case E:return Ya(f.children,N,A,c);case T:I=8,N|=8;break;case M:return s=Cr(12,f,c,N|2),s.elementType=M,s.lanes=A,s;case U:return s=Cr(13,f,c,N),s.elementType=U,s.lanes=A,s;case W:return s=Cr(19,f,c,N),s.elementType=W,s.lanes=A,s;case z:return wu(f,N,A,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case R:I=9;break e;case F:I=11;break e;case B:I=14;break e;case $:I=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Cr(I,f,c,N),c.elementType=s,c.type=g,c.lanes=A,c}function Ya(s,c,f,g){return s=Cr(7,s,g,c),s.lanes=f,s}function wu(s,c,f,g){return s=Cr(22,s,g,c),s.elementType=z,s.lanes=f,s.stateNode={isHidden:!1},s}function Mp(s,c,f){return s=Cr(6,s,null,c),s.lanes=f,s}function Ip(s,c,f){return c=Cr(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function W3(s,c,f,g,N){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function $p(s,c,f,g,N,A,I,K,Q){return s=new W3(s,c,f,K,Q),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Cr(3,null,null,c),s.current=A,A.stateNode=s,A.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(A),s}function K3(s,c,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:s,containerInfo:c,implementation:f}}function D1(s){if(!s)return sa;s=s._reactInternals;e:{if(Da(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ir(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(ir(f))return dw(s,f,c)}return c}function L1(s,c,f,g,N,A,I,K,Q){return s=$p(f,g,!0,s,N,A,I,K,Q),s.context=D1(null),f=s.current,g=Jt(),N=ha(f),A=Cn(g,N),A.callback=c??null,ca(f,A,N),s.current.lanes=N,xo(s,N,g),lr(s,g),s}function Nu(s,c,f,g){var N=c.current,A=Jt(),I=ha(N);return f=D1(f),c.context===null?c.context=f:c.pendingContext=f,c=Cn(A,I),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=ca(N,c,I),s!==null&&(Vr(s,N,I,A),eu(s,N,I)),I}function Su(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function F1(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function Dp(s,c){F1(s,c),(s=s.alternate)&&F1(s,c)}function H3(){return null}var B1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lp(s){this._internalRoot=s}Ou.prototype.render=Lp.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Nu(s,c,null,null)},Ou.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Ha(function(){Nu(null,s,null,null)}),c[On]=null}};function Ou(s){this._internalRoot=s}Ou.prototype.unstable_scheduleHydration=function(s){if(s){var c=Nj();s={blockedOn:null,target:s,priority:c};for(var f=0;f<ta.length&&c!==0&&c<ta[f].priority;f++);ta.splice(f,0,s),f===0&&kj(s)}};function Fp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ku(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function q1(){}function G3(s,c,f,g,N){if(N){if(typeof g=="function"){var A=g;g=function(){var re=Su(I);A.call(re)}}var I=L1(c,g,s,0,null,!1,!1,"",q1);return s._reactRootContainer=I,s[On]=I.current,Eo(s.nodeType===8?s.parentNode:s),Ha(),I}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var K=g;g=function(){var re=Su(Q);K.call(re)}}var Q=$p(s,0,!1,null,null,!1,!1,"",q1);return s._reactRootContainer=Q,s[On]=Q.current,Eo(s.nodeType===8?s.parentNode:s),Ha(function(){Nu(c,Q,f,g)}),Q}function Pu(s,c,f,g,N){var A=f._reactRootContainer;if(A){var I=A;if(typeof N=="function"){var K=N;N=function(){var Q=Su(I);K.call(Q)}}Nu(c,I,s,N)}else I=G3(f,c,s,N,g);return Su(I)}jj=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var f=go(c.pendingLanes);f!==0&&(ch(c,f|1),lr(c,xt()),(We&6)===0&&(Zi=xt()+500,oa()))}break;case 13:Ha(function(){var g=_n(s,1);if(g!==null){var N=Jt();Vr(g,s,1,N)}}),Dp(s,1)}},uh=function(s){if(s.tag===13){var c=_n(s,134217728);if(c!==null){var f=Jt();Vr(c,s,134217728,f)}Dp(s,134217728)}},wj=function(s){if(s.tag===13){var c=ha(s),f=_n(s,c);if(f!==null){var g=Jt();Vr(f,s,c,g)}Dp(s,c)}},Nj=function(){return Qe},Sj=function(s,c){var f=Qe;try{return Qe=s,c()}finally{Qe=f}},rh=function(s,c,f){switch(c){case"input":if(Et(s,f),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==s&&g.form===s.form){var N=Wc(g);if(!N)throw Error(r(90));Z(g),Et(g,N)}}}break;case"textarea":lo(s,f);break;case"select":c=f.value,c!=null&&nr(s,!!f.multiple,c,!1)}},lj=Cp,cj=Ha;var V3={usingClientEntryPoint:!1,Events:[Mo,Bi,Wc,sj,oj,Cp]},Vo={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y3={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=hj(s),s===null?null:s.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||H3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Oc=Au.inject(Y3),ln=Au}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V3,cr.createPortal=function(s,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(c))throw Error(r(200));return K3(s,c,null,f)},cr.createRoot=function(s,c){if(!Fp(s))throw Error(r(299));var f=!1,g="",N=B1;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=$p(s,1,!1,null,null,f,!1,g,N),s[On]=c.current,Eo(s.nodeType===8?s.parentNode:s),new Lp(c)},cr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=hj(c),s=s===null?null:s.stateNode,s},cr.flushSync=function(s){return Ha(s)},cr.hydrate=function(s,c,f){if(!ku(c))throw Error(r(200));return Pu(null,s,c,!0,f)},cr.hydrateRoot=function(s,c,f){if(!Fp(s))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,N=!1,A="",I=B1;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),c=L1(c,null,s,1,f??null,N,!1,A,I),s[On]=c.current,Eo(s),g)for(s=0;s<g.length;s++)f=g[s],N=f._getVersion,N=N(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,N]:c.mutableSourceEagerHydrationData.push(f,N);return new Ou(c)},cr.render=function(s,c,f){if(!ku(c))throw Error(r(200));return Pu(null,s,c,!1,f)},cr.unmountComponentAtNode=function(s){if(!ku(s))throw Error(r(40));return s._reactRootContainer?(Ha(function(){Pu(null,null,s,!1,function(){s._reactRootContainer=null,s[On]=null})}),!0):!1},cr.unstable_batchedUpdates=Cp,cr.unstable_renderSubtreeIntoContainer=function(s,c,f,g){if(!ku(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Pu(s,c,f,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var X1;function H_(){if(X1)return Up.exports;X1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Up.exports=s6(),Up.exports}var Q1;function o6(){if(Q1)return Tu;Q1=1;var e=H_();return Tu.createRoot=e.createRoot,Tu.hydrateRoot=e.hydrateRoot,Tu}var l6=o6();const c6=Xe(l6);var af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},u6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ba,Mv,D_,d6=(D_=class{constructor(){Ue(this,ba,u6);Ue(this,Mv,!1)}setTimeoutProvider(e){$e(this,ba,e)}setTimeout(e,t){return ie(this,ba).setTimeout(e,t)}clearTimeout(e){ie(this,ba).clearTimeout(e)}setInterval(e,t){return ie(this,ba).setInterval(e,t)}clearInterval(e){ie(this,ba).clearInterval(e)}},ba=new WeakMap,Mv=new WeakMap,D_),ty=new d6;function f6(e){setTimeout(e,0)}var sf=typeof window>"u"||"Deno"in globalThis;function Xr(){}function h6(e,t){return typeof e=="function"?e(t):e}function p6(e){return typeof e=="number"&&e>=0&&e!==1/0}function m6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ry(e,t){return typeof e=="function"?e(t):e}function g6(e,t){return typeof e=="function"?e(t):e}function J1(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==$v(l,t.options))return!1}else if(!bl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function Z1(e,t){const{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(vl(t.options.mutationKey)!==vl(o))return!1}else if(!bl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function $v(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,r)=>ny(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>bl(e[r],t[r])):!1}var x6=Object.prototype.hasOwnProperty;function G_(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=eN(e)&&eN(t);if(!n&&!(ny(e)&&ny(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),u=l.length,d=n?new Array(u):{};let h=0;for(let m=0;m<u;m++){const p=n?m:l[m],x=e[p],v=t[p];if(x===v){d[p]=x,(n?m<o:x6.call(e,p))&&h++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[p]=v;continue}const b=G_(x,v,r+1);d[p]=b,b===x&&h++}return o===u&&h===o?e:d}function eN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ny(e){if(!tN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tN(e){return Object.prototype.toString.call(e)==="[object Object]"}function y6(e){return new Promise(t=>{ty.setTimeout(t,e)})}function v6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?G_(e,t):t}function b6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function j6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Dv=Symbol();function V_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function w6(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var oi,ja,ps,L_,N6=(L_=class extends af{constructor(){super();Ue(this,oi);Ue(this,ja);Ue(this,ps);$e(this,ps,t=>{if(!sf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,ja)||this.setEventListener(ie(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,ja))==null||t.call(this),$e(this,ja,void 0))}setEventListener(t){var r;$e(this,ps,t),(r=ie(this,ja))==null||r.call(this),$e(this,ja,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ie(this,oi)!==t&&($e(this,oi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ie(this,oi)=="boolean"?ie(this,oi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oi=new WeakMap,ja=new WeakMap,ps=new WeakMap,L_),Y_=new N6;function S6(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var O6=f6;function k6(){let e=[],t=0,r=u=>{u()},n=u=>{u()},i=O6;const o=u=>{t?e.push(u):i(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var Zt=k6(),ms,wa,gs,F_,P6=(F_=class extends af{constructor(){super();Ue(this,ms,!0);Ue(this,wa);Ue(this,gs);$e(this,gs,t=>{if(!sf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,wa)||this.setEventListener(ie(this,gs))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,wa))==null||t.call(this),$e(this,wa,void 0))}setEventListener(t){var r;$e(this,gs,t),(r=ie(this,wa))==null||r.call(this),$e(this,wa,t(this.setOnline.bind(this)))}setOnline(t){ie(this,ms)!==t&&($e(this,ms,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ie(this,ms)}},ms=new WeakMap,wa=new WeakMap,gs=new WeakMap,F_),td=new P6;function A6(e){return Math.min(1e3*2**e,3e4)}function X_(e){return(e??"online")==="online"?td.isOnline():!0}var ay=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Q_(e){let t=!1,r=0,n;const i=S6(),o=()=>i.status!=="pending",l=w=>{var y;if(!o()){const S=new ay(w);x(S),(y=e.onCancel)==null||y.call(e,S)}},u=()=>{t=!0},d=()=>{t=!1},h=()=>Y_.isFocused()&&(e.networkMode==="always"||td.isOnline())&&e.canRun(),m=()=>X_(e.networkMode)&&e.canRun(),p=w=>{o()||(n==null||n(),i.resolve(w))},x=w=>{o()||(n==null||n(),i.reject(w))},v=()=>new Promise(w=>{var y;n=S=>{(o()||h())&&w(S)},(y=e.onPause)==null||y.call(e)}).then(()=>{var w;n=void 0,o()||(w=e.onContinue)==null||w.call(e)}),b=()=>{if(o())return;let w;const y=r===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(p).catch(S=>{var P;if(o())return;const _=e.retry??(sf?0:3),C=e.retryDelay??A6,O=typeof C=="function"?C(r,S):C,j=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,S);if(t||!j){x(S);return}r++,(P=e.onFail)==null||P.call(e,r,S),y6(O).then(()=>h()?void 0:v()).then(()=>{t?x(S):b()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(n==null||n(),i),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?b():v().then(b),i)}}var li,B_,J_=(B_=class{constructor(){Ue(this,li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p6(this.gcTime)&&$e(this,li,ty.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sf?1/0:300*1e3))}clearGcTimeout(){ie(this,li)&&(ty.clearTimeout(ie(this,li)),$e(this,li,void 0))}},li=new WeakMap,B_),ci,xs,Mr,ui,It,ac,di,Qr,In,q_,_6=(q_=class extends J_{constructor(t){super();Ue(this,Qr);Ue(this,ci);Ue(this,xs);Ue(this,Mr);Ue(this,ui);Ue(this,It);Ue(this,ac);Ue(this,di);$e(this,di,!1),$e(this,ac,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,ui,t.client),$e(this,Mr,ie(this,ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,ci,nN(this.options)),this.state=t.state??ie(this,ci),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,It))==null?void 0:t.promise}setOptions(t){if(this.options={...ie(this,ac),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=nN(this.options);r.data!==void 0&&(this.setState(rN(r.data,r.dataUpdatedAt)),$e(this,ci,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Mr).remove(this)}setData(t,r){const n=v6(this.state.data,t,this.options);return Ht(this,Qr,In).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ht(this,Qr,In).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ie(this,It))==null?void 0:n.promise;return(i=ie(this,It))==null||i.cancel(t),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,ci))}isActive(){return this.observers.some(t=>g6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ry(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!m6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,It))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,It))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,Mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ie(this,It)&&(ie(this,di)?ie(this,It).cancel({revert:!0}):ie(this,It).cancelRetry()),this.scheduleGc()),ie(this,Mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,Qr,In).call(this,{type:"invalidate"})}async fetch(t,r){var d,h,m,p,x,v,b,w,y,S,_,C;if(this.state.fetchStatus!=="idle"&&((d=ie(this,It))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,It))return ie(this,It).continueRetry(),ie(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(j=>j.options.queryFn);O&&this.setOptions(O.options)}const n=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>($e(this,di,!0),n.signal)})},o=()=>{const O=V_(this.options,r),P=(()=>{const E={client:ie(this,ui),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return $e(this,di,!1),this.options.persister?this.options.persister(O,P,this):O(P)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,ui),state:this.state,fetchFn:o};return i(O),O})();(h=this.options.behavior)==null||h.onFetch(u,this),$e(this,xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Ht(this,Qr,In).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),$e(this,It,Q_({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof ay&&O.revert&&this.setState({...ie(this,xs),fetchStatus:"idle"}),n.abort()},onFail:(O,j)=>{Ht(this,Qr,In).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Ht(this,Qr,In).call(this,{type:"pause"})},onContinue:()=>{Ht(this,Qr,In).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await ie(this,It).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(v=(x=ie(this,Mr).config).onSuccess)==null||v.call(x,O,this),(w=(b=ie(this,Mr).config).onSettled)==null||w.call(b,O,this.state.error,this),O}catch(O){if(O instanceof ay){if(O.silent)return ie(this,It).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Ht(this,Qr,In).call(this,{type:"error",error:O}),(S=(y=ie(this,Mr).config).onError)==null||S.call(y,O,this),(C=(_=ie(this,Mr).config).onSettled)==null||C.call(_,this.state.data,O,this),O}finally{this.scheduleGc()}}},ci=new WeakMap,xs=new WeakMap,Mr=new WeakMap,ui=new WeakMap,It=new WeakMap,ac=new WeakMap,di=new WeakMap,Qr=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...C6(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...rN(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,xs,t.manual?i:void 0),i;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,Mr).notify({query:this,type:"updated",action:t})})},q_);function C6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function aN(e){return{onFetch:(t,r)=>{var m,p,x,v,b;const n=t.options,i=(x=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const y=C=>{w6(C,()=>t.signal,()=>w=!0)},S=V_(t.options,t.fetchOptions),_=async(C,O,j)=>{if(w)return Promise.reject();if(O==null&&C.pages.length)return Promise.resolve(C);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:O,direction:j?"backward":"forward",meta:t.options.meta};return y(R),R})(),T=await S(E),{maxPages:M}=t.options,L=j?j6:b6;return{pages:L(C.pages,T,M),pageParams:L(C.pageParams,O,M)}};if(i&&o.length){const C=i==="backward",O=C?E6:iN,j={pages:o,pageParams:l},P=O(n,j);u=await _(j,P,C)}else{const C=e??o.length;do{const O=d===0?l[0]??n.initialPageParam:iN(n,u);if(d>0&&O==null)break;u=await _(u,O),d++}while(d<C)}return u};t.options.persister?t.fetchFn=()=>{var w,y;return(y=(w=t.options).persister)==null?void 0:y.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function iN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function E6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ic,pn,Gt,fi,mn,xa,z_,T6=(z_=class extends J_{constructor(t){super();Ue(this,mn);Ue(this,ic);Ue(this,pn);Ue(this,Gt);Ue(this,fi);$e(this,ic,t.client),this.mutationId=t.mutationId,$e(this,Gt,t.mutationCache),$e(this,pn,[]),this.state=t.state||R6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,pn).includes(t)||(ie(this,pn).push(t),this.clearGcTimeout(),ie(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,pn,ie(this,pn).filter(r=>r!==t)),this.scheduleGc(),ie(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,pn).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Gt).remove(this))}continue(){var t;return((t=ie(this,fi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,m,p,x,v,b,w,y,S,_,C,O,j,P,E;const r=()=>{Ht(this,mn,xa).call(this,{type:"continue"})},n={client:ie(this,ic),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,fi,Q_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,M)=>{Ht(this,mn,xa).call(this,{type:"failed",failureCount:T,error:M})},onPause:()=>{Ht(this,mn,xa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Gt).canRun(this)}));const i=this.state.status==="pending",o=!ie(this,fi).canStart();try{if(i)r();else{Ht(this,mn,xa).call(this,{type:"pending",variables:t,isPaused:o}),ie(this,Gt).config.onMutate&&await ie(this,Gt).config.onMutate(t,this,n);const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));M!==this.state.context&&Ht(this,mn,xa).call(this,{type:"pending",context:M,variables:t,isPaused:o})}const T=await ie(this,fi).start();return await((h=(d=ie(this,Gt).config).onSuccess)==null?void 0:h.call(d,T,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,T,t,this.state.context,n)),await((v=(x=ie(this,Gt).config).onSettled)==null?void 0:v.call(x,T,null,this.state.variables,this.state.context,this,n)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,T,null,t,this.state.context,n)),Ht(this,mn,xa).call(this,{type:"success",data:T}),T}catch(T){try{await((S=(y=ie(this,Gt).config).onError)==null?void 0:S.call(y,T,t,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((C=(_=this.options).onError)==null?void 0:C.call(_,T,t,this.state.context,n))}catch(M){Promise.reject(M)}try{await((j=(O=ie(this,Gt).config).onSettled)==null?void 0:j.call(O,void 0,T,this.state.variables,this.state.context,this,n))}catch(M){Promise.reject(M)}try{await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,T,t,this.state.context,n))}catch(M){Promise.reject(M)}throw Ht(this,mn,xa).call(this,{type:"error",error:T}),T}finally{ie(this,Gt).runNext(this)}}},ic=new WeakMap,pn=new WeakMap,Gt=new WeakMap,fi=new WeakMap,mn=new WeakSet,xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{ie(this,pn).forEach(n=>{n.onMutationUpdate(t)}),ie(this,Gt).notify({mutation:this,type:"updated",action:t})})},z_);function R6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dn,Jr,sc,U_,M6=(U_=class extends af{constructor(t={}){super();Ue(this,Dn);Ue(this,Jr);Ue(this,sc);this.config=t,$e(this,Dn,new Set),$e(this,Jr,new Map),$e(this,sc,0)}build(t,r,n){const i=new T6({client:t,mutationCache:this,mutationId:++Cu(this,sc)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ie(this,Dn).add(t);const r=Ru(t);if(typeof r=="string"){const n=ie(this,Jr).get(r);n?n.push(t):ie(this,Jr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ie(this,Dn).delete(t)){const r=Ru(t);if(typeof r=="string"){const n=ie(this,Jr).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ie(this,Jr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ru(t);if(typeof r=="string"){const n=ie(this,Jr).get(r),i=n==null?void 0:n.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Ru(t);if(typeof r=="string"){const i=(n=ie(this,Jr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{ie(this,Dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),ie(this,Dn).clear(),ie(this,Jr).clear()})}getAll(){return Array.from(ie(this,Dn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Z1(r,n))}findAll(t={}){return this.getAll().filter(r=>Z1(t,r))}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xr))))}},Dn=new WeakMap,Jr=new WeakMap,sc=new WeakMap,U_);function Ru(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gn,W_,I6=(W_=class extends af{constructor(t={}){super();Ue(this,gn);this.config=t,$e(this,gn,new Map)}build(t,r,n){const i=r.queryKey,o=r.queryHash??$v(i,r);let l=this.get(o);return l||(l=new _6({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ie(this,gn).has(t.queryHash)||(ie(this,gn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ie(this,gn).get(t.queryHash);r&&(t.destroy(),r===t&&ie(this,gn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,gn).get(t)}getAll(){return[...ie(this,gn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>J1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>J1(t,n)):r}notify(t){Zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gn=new WeakMap,W_),pt,Na,Sa,ys,vs,Oa,bs,js,K_,$6=(K_=class{constructor(e={}){Ue(this,pt);Ue(this,Na);Ue(this,Sa);Ue(this,ys);Ue(this,vs);Ue(this,Oa);Ue(this,bs);Ue(this,js);$e(this,pt,e.queryCache||new I6),$e(this,Na,e.mutationCache||new M6),$e(this,Sa,e.defaultOptions||{}),$e(this,ys,new Map),$e(this,vs,new Map),$e(this,Oa,0)}mount(){Cu(this,Oa)._++,ie(this,Oa)===1&&($e(this,bs,Y_.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,pt).onFocus())})),$e(this,js,td.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,pt).onOnline())})))}unmount(){var e,t;Cu(this,Oa)._--,ie(this,Oa)===0&&((e=ie(this,bs))==null||e.call(this),$e(this,bs,void 0),(t=ie(this,js))==null||t.call(this),$e(this,js,void 0))}isFetching(e){return ie(this,pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,Na).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,pt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ie(this,pt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ry(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ie(this,pt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ie(this,pt).get(n.queryHash),o=i==null?void 0:i.state.data,l=h6(t,o);if(l!==void 0)return ie(this,pt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>ie(this,pt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,pt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ie(this,pt);Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ie(this,pt);return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>ie(this,pt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return Zt.batch(()=>(ie(this,pt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>ie(this,pt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ie(this,pt).build(this,t);return r.isStaleByTime(ry(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=aN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=aN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return td.isOnline()?ie(this,Na).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,pt)}getMutationCache(){return ie(this,Na)}getDefaultOptions(){return ie(this,Sa)}setDefaultOptions(e){$e(this,Sa,e)}setQueryDefaults(e,t){ie(this,ys).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,ys).values()],r={};return t.forEach(n=>{bl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ie(this,vs).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,vs).values()],r={};return t.forEach(n=>{bl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,Sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$v(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,Sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,pt).clear(),ie(this,Na).clear()}},pt=new WeakMap,Na=new WeakMap,Sa=new WeakMap,ys=new WeakMap,vs=new WeakMap,Oa=new WeakMap,bs=new WeakMap,js=new WeakMap,K_),D6=k.createContext(void 0),L6=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(D6.Provider,{value:e,children:t}));H_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const sN="popstate";function F6(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:l,hash:u}=n.location;return iy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:rd(i)}return q6(t,r,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B6(){return Math.random().toString(36).substr(2,8)}function oN(e,t){return{usr:e.state,key:e.key,idx:t}}function iy(e,t,r,n){return r===void 0&&(r=null),jl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ys(t):t,{state:r,key:t&&t.key||n||B6()})}function rd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ys(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u=ka.Pop,d=null,h=m();h==null&&(h=0,l.replaceState(jl({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){u=ka.Pop;let y=m(),S=y==null?null:y-h;h=y,d&&d({action:u,location:w.location,delta:S})}function x(y,S){u=ka.Push;let _=iy(w.location,y,S);h=m()+1;let C=oN(_,h),O=w.createHref(_);try{l.pushState(C,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}o&&d&&d({action:u,location:w.location,delta:1})}function v(y,S){u=ka.Replace;let _=iy(w.location,y,S);h=m();let C=oN(_,h),O=w.createHref(_);l.replaceState(C,"",O),o&&d&&d({action:u,location:w.location,delta:0})}function b(y){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:rd(y);return _=_.replace(/ $/,"%20"),vt(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let w={get action(){return u},get location(){return e(i,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(sN,p),d=y,()=>{i.removeEventListener(sN,p),d=null}},createHref(y){return t(i,y)},createURL:b,encodeLocation(y){let S=b(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:v,go(y){return l.go(y)}};return w}var lN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lN||(lN={}));function z6(e,t,r){return r===void 0&&(r="/"),U6(e,t,r)}function U6(e,t,r,n){let i=typeof t=="string"?Ys(t):t,o=Fv(i.pathname||"/",r);if(o==null)return null;let l=Z_(e);W6(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=rR(o);u=Z6(l[d],h)}return u}function Z_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(vt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Aa([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Z_(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:Q6(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of eC(o.path))i(o,l,d)}),t}function eC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=eC(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function W6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:J6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const K6=/^:[\w-]+$/,H6=3,G6=2,V6=1,Y6=10,X6=-2,cN=e=>e==="*";function Q6(e,t){let r=e.split("/"),n=r.length;return r.some(cN)&&(n+=X6),t&&(n+=G6),r.filter(i=>!cN(i)).reduce((i,o)=>i+(K6.test(o)?H6:o===""?V6:Y6),n)}function J6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Z6(e,t,r){let{routesMeta:n}=e,i={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=eR({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Aa([o,p.pathname]),pathnameBase:oR(Aa([o,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(o=Aa([o,p.pathnameBase]))}return l}function eR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:x,isOptional:v}=m;if(x==="*"){let w=u[p]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[p];return v&&!b?h[x]=void 0:h[x]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function tR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Lv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function rR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const nR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aR=e=>nR.test(e);function iR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ys(e):e,o;if(r)if(aR(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Lv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?o=uN(r.substring(1),"/"):o=uN(r,t)}else o=t;return{pathname:o,search:lR(n),hash:cR(i)}}function uN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Hp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bv(e,t){let r=sR(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ys(e):(i=jl({},e),vt(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}u=p>=0?t[p]:"/"}let d=iR(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),oR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tC=["post","put","patch","delete"];new Set(tC);const dR=["get",...tC];new Set(dR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}const zv=k.createContext(null),fR=k.createContext(null),Ta=k.createContext(null),of=k.createContext(null),Gn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),rC=k.createContext(null);function hR(e,t){let{relative:r}=t===void 0?{}:t;Xs()||vt(!1);let{basename:n,navigator:i}=k.useContext(Ta),{hash:o,pathname:l,search:u}=aC(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Aa([n,l])),i.createHref({pathname:d,search:u,hash:o})}function Xs(){return k.useContext(of)!=null}function Ni(){return Xs()||vt(!1),k.useContext(of).location}function nC(e){k.useContext(Ta).static||k.useLayoutEffect(e)}function Si(){let{isDataRoute:e}=k.useContext(Gn);return e?kR():pR()}function pR(){Xs()||vt(!1);let e=k.useContext(zv),{basename:t,future:r,navigator:n}=k.useContext(Ta),{matches:i}=k.useContext(Gn),{pathname:o}=Ni(),l=JSON.stringify(Bv(i,r.v7_relativeSplatPath)),u=k.useRef(!1);return nC(()=>{u.current=!0}),k.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=qv(h,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Aa([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,l,o,e])}function lf(){let{matches:e}=k.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function aC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Ta),{matches:i}=k.useContext(Gn),{pathname:o}=Ni(),l=JSON.stringify(Bv(i,n.v7_relativeSplatPath));return k.useMemo(()=>qv(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function mR(e,t){return gR(e,t)}function gR(e,t,r,n){Xs()||vt(!1);let{navigator:i}=k.useContext(Ta),{matches:o}=k.useContext(Gn),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Ni(),m;if(t){var p;let y=typeof t=="string"?Ys(t):t;d==="/"||(p=y.pathname)!=null&&p.startsWith(d)||vt(!1),m=y}else m=h;let x=m.pathname||"/",v=x;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=z6(e,{pathname:v}),w=jR(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:Aa([d,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Aa([d,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&w?k.createElement(of.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ka.Pop}},w):w}function xR(){let e=OR(),t=uR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,null)}const yR=k.createElement(xR,null);class vR extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Gn.Provider,{value:this.props.routeContext},k.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bR(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(zv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Gn.Provider,{value:t},n)}function jR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||vt(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:v}=r,b=p.route.loader&&x[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,x)=>{let v,b=!1,w=null,y=null;r&&(v=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||yR,d&&(h<0&&x===0?(PR("route-fallback"),b=!0,y=null):h===x&&(b=!0,y=p.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),_=()=>{let C;return v?C=w:b?C=y:p.route.Component?C=k.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=m,k.createElement(bR,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?k.createElement(vR,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var iC=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(iC||{}),sC=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sC||{});function wR(e){let t=k.useContext(zv);return t||vt(!1),t}function NR(e){let t=k.useContext(fR);return t||vt(!1),t}function SR(e){let t=k.useContext(Gn);return t||vt(!1),t}function oC(e){let t=SR(),r=t.matches[t.matches.length-1];return r.route.id||vt(!1),r.route.id}function OR(){var e;let t=k.useContext(rC),r=NR(),n=oC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kR(){let{router:e}=wR(iC.UseNavigateStable),t=oC(sC.UseNavigateStable),r=k.useRef(!1);return nC(()=>{r.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,wl({fromRouteId:t},o)))},[e,t])}const dN={};function PR(e,t,r){dN[e]||(dN[e]=!0)}function AR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lC(e){let{to:t,replace:r,state:n,relative:i}=e;Xs()||vt(!1);let{future:o,static:l}=k.useContext(Ta),{matches:u}=k.useContext(Gn),{pathname:d}=Ni(),h=Si(),m=qv(t,Bv(u,o.v7_relativeSplatPath),d,i==="path"),p=JSON.stringify(m);return k.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:i}),[h,p,i,r,n]),null}function Fe(e){vt(!1)}function _R(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ka.Pop,navigator:o,static:l=!1,future:u}=e;Xs()&&vt(!1);let d=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:d,navigator:o,static:l,future:wl({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof n=="string"&&(n=Ys(n));let{pathname:m="/",search:p="",hash:x="",state:v=null,key:b="default"}=n,w=k.useMemo(()=>{let y=Fv(m,d);return y==null?null:{location:{pathname:y,search:p,hash:x,state:v,key:b},navigationType:i}},[d,m,p,x,v,b,i]);return w==null?null:k.createElement(Ta.Provider,{value:h},k.createElement(of.Provider,{children:r,value:w}))}function CR(e){let{children:t,location:r}=e;return mR(sy(t),r)}new Promise(()=>{});function sy(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let o=[...t,i];if(n.type===k.Fragment){r.push.apply(r,sy(n.props.children,o));return}n.type!==Fe&&vt(!1),!n.props.index||!n.props.children||vt(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=sy(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function ER(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function TR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RR(e,t){return e.button===0&&(!t||t==="_self")&&!TR(e)}function ly(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function MR(e,t){let r=ly(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(o=>{r.append(i,o)})}),r}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$R="6";try{window.__reactRouterVersion=$R}catch{}const DR="startTransition",fN=n6[DR];function LR(e){let{basename:t,children:r,future:n,window:i}=e,o=k.useRef();o.current==null&&(o.current=F6({window:i,v5Compat:!0}));let l=o.current,[u,d]=k.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},m=k.useCallback(p=>{h&&fN?fN(()=>d(p)):d(p)},[d,h]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.useEffect(()=>AR(n),[n]),k.createElement(_R,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const FR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:p}=t,x=ER(t,IR),{basename:v}=k.useContext(Ta),b,w=!1;if(typeof h=="string"&&BR.test(h)&&(b=h,FR))try{let C=new URL(window.location.href),O=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=Fv(O.pathname,v);O.origin===C.origin&&j!=null?h=j+O.search+O.hash:w=!0}catch{}let y=hR(h,{relative:i}),S=qR(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:p});function _(C){n&&n(C),C.defaultPrevented||S(C)}return k.createElement("a",oy({},x,{href:b||y,onClick:w||o?n:_,ref:r,target:d}))});var hN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hN||(hN={}));var pN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pN||(pN={}));function qR(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=Si(),h=Ni(),m=aC(e,{relative:l});return k.useCallback(p=>{if(RR(p,r)){p.preventDefault();let x=n!==void 0?n:rd(h)===rd(m);d(e,{replace:x,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,m,n,i,r,e,o,l,u])}function Uv(e){let t=k.useRef(ly(e)),r=k.useRef(!1),n=Ni(),i=k.useMemo(()=>MR(n.search,r.current?null:t.current),[n.search]),o=Si(),l=k.useCallback((u,d)=>{const h=ly(typeof u=="function"?u(i):u);r.current=!0,o("?"+h,d)},[o,i]);return[i,l]}function zR({onClick:e,loading:t=!1}){return a.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),a.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),a.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),a.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const mN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function UR(){const[e]=Uv(),[t,r]=k.useState(null);k.useEffect(()=>{const i=e.get("error");i&&mN[i]&&r(mN[i])},[e]);const n=()=>{window.location.href="/auth/google"};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),a.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),a.jsx(zR,{onClick:n}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}const gN=e=>{let t;const r=new Set,n=(h,m)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const x=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(v=>v(t,x))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h))},d=t=e(n,i,u);return u},WR=(e=>e?gN(e):gN),KR=e=>e;function HR(e,t=KR){const r=Y.useSyncExternalStore(e.subscribe,Y.useCallback(()=>t(e.getState()),[e,t]),Y.useCallback(()=>t(e.getInitialState()),[e,t]));return Y.useDebugValue(r),r}const xN=e=>{const t=WR(e),r=n=>HR(t,n);return Object.assign(r,t),r},GR=(e=>e?xN(e):xN);function cC(e,t){return function(){return e.apply(t,arguments)}}const{toString:VR}=Object.prototype,{getPrototypeOf:Wv}=Object,{iterator:cf,toStringTag:uC}=Symbol,uf=(e=>t=>{const r=VR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nn=e=>(e=e.toLowerCase(),t=>uf(t)===e),df=e=>t=>typeof t===e,{isArray:Qs}=Array,ws=df("undefined");function oc(e){return e!==null&&!ws(e)&&e.constructor!==null&&!ws(e.constructor)&&dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dC=nn("ArrayBuffer");function YR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dC(e.buffer),t}const XR=df("string"),dr=df("function"),fC=df("number"),lc=e=>e!==null&&typeof e=="object",QR=e=>e===!0||e===!1,Qu=e=>{if(uf(e)!=="object")return!1;const t=Wv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uC in e)&&!(cf in e)},JR=e=>{if(!lc(e)||oc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ZR=nn("Date"),eM=nn("File"),tM=nn("Blob"),rM=nn("FileList"),nM=e=>lc(e)&&dr(e.pipe),aM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dr(e.append)&&((t=uf(e))==="formdata"||t==="object"&&dr(e.toString)&&e.toString()==="[object FormData]"))},iM=nn("URLSearchParams"),[sM,oM,lM,cM]=["ReadableStream","Request","Response","Headers"].map(nn),uM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Qs(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(oc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,e[u],u,e)}}function hC(e,t){if(oc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pC=e=>!ws(e)&&e!==ri;function cy(){const{caseless:e,skipUndefined:t}=pC(this)&&this||{},r={},n=(i,o)=>{const l=e&&hC(r,o)||o;Qu(r[l])&&Qu(i)?r[l]=cy(r[l],i):Qu(i)?r[l]=cy({},i):Qs(i)?r[l]=i.slice():(!t||!ws(i))&&(r[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&cc(arguments[i],n);return r}const dM=(e,t,r,{allOwnKeys:n}={})=>(cc(t,(i,o)=>{r&&dr(i)?Object.defineProperty(e,o,{value:cC(i,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),fM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},pM=(e,t,r,n)=>{let i,o,l;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Wv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},mM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},gM=e=>{if(!e)return null;if(Qs(e))return e;let t=e.length;if(!fC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wv(Uint8Array)),yM=(e,t)=>{const n=(e&&e[cf]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},vM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},bM=nn("HTMLFormElement"),jM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),yN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wM=nn("RegExp"),mC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};cc(r,(i,o)=>{let l;(l=t(i,o,e))!==!1&&(n[o]=l||i)}),Object.defineProperties(e,n)},NM=e=>{mC(e,(t,r)=>{if(dr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},SM=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Qs(e)?n(e):n(String(e).split(t)),r},OM=()=>{},kM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PM(e){return!!(e&&dr(e.append)&&e[uC]==="FormData"&&e[cf])}const AM=e=>{const t=new Array(10),r=(n,i)=>{if(lc(n)){if(t.indexOf(n)>=0)return;if(oc(n))return n;if(!("toJSON"in n)){t[i]=n;const o=Qs(n)?[]:{};return cc(n,(l,u)=>{const d=r(l,i+1);!ws(d)&&(o[u]=d)}),t[i]=void 0,o}}return n};return r(e,0)},_M=nn("AsyncFunction"),CM=e=>e&&(lc(e)||dr(e))&&dr(e.then)&&dr(e.catch),gC=((e,t)=>e?setImmediate:t?((r,n)=>(ri.addEventListener("message",({source:i,data:o})=>{i===ri&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ri.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dr(ri.postMessage)),EM=typeof queueMicrotask<"u"?queueMicrotask.bind(ri):typeof process<"u"&&process.nextTick||gC,TM=e=>e!=null&&dr(e[cf]),ne={isArray:Qs,isArrayBuffer:dC,isBuffer:oc,isFormData:aM,isArrayBufferView:YR,isString:XR,isNumber:fC,isBoolean:QR,isObject:lc,isPlainObject:Qu,isEmptyObject:JR,isReadableStream:sM,isRequest:oM,isResponse:lM,isHeaders:cM,isUndefined:ws,isDate:ZR,isFile:eM,isBlob:tM,isRegExp:wM,isFunction:dr,isStream:nM,isURLSearchParams:iM,isTypedArray:xM,isFileList:rM,forEach:cc,merge:cy,extend:dM,trim:uM,stripBOM:fM,inherits:hM,toFlatObject:pM,kindOf:uf,kindOfTest:nn,endsWith:mM,toArray:gM,forEachEntry:yM,matchAll:vM,isHTMLForm:bM,hasOwnProperty:yN,hasOwnProp:yN,reduceDescriptors:mC,freezeMethods:NM,toObjectSet:SM,toCamelCase:jM,noop:OM,toFiniteNumber:kM,findKey:hC,global:ri,isContextDefined:pC,isSpecCompliantForm:PM,toJSONObject:AM,isAsyncFn:_M,isThenable:CM,setImmediate:gC,asap:EM,isIterable:TM};let Te=class xC extends Error{static from(t,r,n,i,o,l){const u=new xC(t.message,r||t.code,n,i,o);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,r,n,i,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}};Te.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Te.ERR_BAD_OPTION="ERR_BAD_OPTION";Te.ECONNABORTED="ECONNABORTED";Te.ETIMEDOUT="ETIMEDOUT";Te.ERR_NETWORK="ERR_NETWORK";Te.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Te.ERR_DEPRECATED="ERR_DEPRECATED";Te.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Te.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Te.ERR_CANCELED="ERR_CANCELED";Te.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Te.ERR_INVALID_URL="ERR_INVALID_URL";const RM=null;function uy(e){return ne.isPlainObject(e)||ne.isArray(e)}function yC(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function vN(e,t,r){return e?e.concat(t).map(function(i,o){return i=yC(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function MM(e){return ne.isArray(e)&&!e.some(uy)}const IM=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function ff(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!ne.isUndefined(y[w])});const n=r.metaTokens,i=r.visitor||m,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ne.isDate(b))return b.toISOString();if(ne.isBoolean(b))return b.toString();if(!d&&ne.isBlob(b))throw new Te("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(b)||ne.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,w,y){let S=b;if(b&&!y&&typeof b=="object"){if(ne.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(ne.isArray(b)&&MM(b)||(ne.isFileList(b)||ne.endsWith(w,"[]"))&&(S=ne.toArray(b)))return w=yC(w),S.forEach(function(C,O){!(ne.isUndefined(C)||C===null)&&t.append(l===!0?vN([w],O,o):l===null?w:w+"[]",h(C))}),!1}return uy(b)?!0:(t.append(vN(y,w,o),h(b)),!1)}const p=[],x=Object.assign(IM,{defaultVisitor:m,convertValue:h,isVisitable:uy});function v(b,w){if(!ne.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(b),ne.forEach(b,function(S,_){(!(ne.isUndefined(S)||S===null)&&i.call(t,S,ne.isString(_)?_.trim():_,w,x))===!0&&v(S,w?w.concat(_):[_])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return v(e),t}function bN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Kv(e,t){this._pairs=[],e&&ff(e,this,t)}const vC=Kv.prototype;vC.append=function(t,r){this._pairs.push([t,r])};vC.toString=function(t){const r=t?function(n){return t.call(this,n,bN)}:bN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function $M(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bC(e,t,r){if(!t)return e;const n=r&&r.encode||$M,i=ne.isFunction(r)?{serialize:r}:r,o=i&&i.serialize;let l;if(o?l=o(t,i):l=ne.isURLSearchParams(t)?t.toString():new Kv(t,i).toString(n),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class jN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const jC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DM=typeof URLSearchParams<"u"?URLSearchParams:Kv,LM=typeof FormData<"u"?FormData:null,FM=typeof Blob<"u"?Blob:null,BM={isBrowser:!0,classes:{URLSearchParams:DM,FormData:LM,Blob:FM},protocols:["http","https","file","blob","url","data"]},Hv=typeof window<"u"&&typeof document<"u",dy=typeof navigator=="object"&&navigator||void 0,qM=Hv&&(!dy||["ReactNative","NativeScript","NS"].indexOf(dy.product)<0),zM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UM=Hv&&window.location.href||"http://localhost",WM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hv,hasStandardBrowserEnv:qM,hasStandardBrowserWebWorkerEnv:zM,navigator:dy,origin:UM},Symbol.toStringTag,{value:"Module"})),Xt={...WM,...BM};function KM(e,t){return ff(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,i,o){return Xt.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function HM(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GM(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function wC(e){function t(r,n,i,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&ne.isArray(i)?i.length:l,d?(ne.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!u):((!i[l]||!ne.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],o)&&ne.isArray(i[l])&&(i[l]=GM(i[l])),!u)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,i)=>{t(HM(n),i,r,0)}),r}return null}function VM(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const uc={transitional:jC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=ne.isObject(t);if(o&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return i?JSON.stringify(wC(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return KM(t,this.formSerializer).toString();if((u=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ff(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),VM(t)):t}],transformResponse:[function(t){const r=this.transitional||uc.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Te.from(u,Te.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{uc.headers[e]={}});const YM=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XM=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&YM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},wN=Symbol("internals");function Xo(e){return e&&String(e).trim().toLowerCase()}function Ju(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Ju):String(e)}function QM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const JM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gp(e,t,r,n,i){if(ne.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function ZM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function eI(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,l){return this[n].call(this,t,i,o,l)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function o(u,d,h){const m=Xo(d);if(!m)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,m);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||d]=Ju(u))}const l=(u,d)=>ne.forEach(u,(h,m)=>o(h,m,d));if(ne.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ne.isString(t)&&(t=t.trim())&&!JM(t))l(XM(t),r);else if(ne.isObject(t)&&ne.isIterable(t)){let u={},d,h;for(const m of t){if(!ne.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(d=u[h])?ne.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Xo(t),t){const n=ne.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return QM(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Xo(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Gp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function o(l){if(l=Xo(l),l){const u=ne.findKey(n,l);u&&(!r||Gp(n,n[u],u,r))&&(delete n[u],i=!0)}}return ne.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!t||Gp(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,n={};return ne.forEach(this,(i,o)=>{const l=ne.findKey(n,o);if(l){r[l]=Ju(i),delete r[o];return}const u=t?ZM(o):String(o).trim();u!==o&&delete r[o],r[u]=Ju(i),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[wN]=this[wN]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Xo(l);n[u]||(eI(i,l),n[u]=!0)}return ne.isArray(t)?t.forEach(o):o(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(fr);function Vp(e,t){const r=this||uc,n=t||r,i=fr.from(n.headers);let o=n.data;return ne.forEach(e,function(u){o=u.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function NC(e){return!!(e&&e.__CANCEL__)}let dc=class extends Te{constructor(t,r,n){super(t??"canceled",Te.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function SC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),m=n[o];l||(l=h),r[i]=d,n[i]=h;let p=o,x=0;for(;p!==i;)x+=r[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),h-l<t)return;const v=m&&h-m;return v?Math.round(x*1e3/v):void 0}}function nI(e,t){let r=0,n=1e3/t,i,o;const l=(h,m=Date.now())=>{r=m,i=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const m=Date.now(),p=m-r;p>=n?l(h,m):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},n-p)))},()=>i&&l(i)]}const nd=(e,t,r=3)=>{let n=0;const i=rI(50,250);return nI(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,h=i(d),m=l<=u;n=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},r)},NN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},SN=e=>(...t)=>ne.asap(()=>e(...t)),aI=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,iI=Xt.hasStandardBrowserEnv?{write(e,t,r,n,i,o,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];ne.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),ne.isString(n)&&u.push(`path=${n}`),ne.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),ne.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function OC(e,t,r){let n=!sI(t);return e&&(n||r==!1)?oI(e,t):t}const ON=e=>e instanceof fr?{...e}:e;function gi(e,t){t=t||{};const r={};function n(h,m,p,x){return ne.isPlainObject(h)&&ne.isPlainObject(m)?ne.merge.call({caseless:x},h,m):ne.isPlainObject(m)?ne.merge({},m):ne.isArray(m)?m.slice():m}function i(h,m,p,x){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return n(void 0,h,p,x)}else return n(h,m,p,x)}function o(h,m){if(!ne.isUndefined(m))return n(void 0,m)}function l(h,m){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function u(h,m,p){if(p in t)return n(h,m);if(p in e)return n(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,p)=>i(ON(h),ON(m),p,!0)};return ne.forEach(Object.keys({...e,...t}),function(m){const p=d[m]||i,x=p(e[m],t[m],m);ne.isUndefined(x)&&p!==u||(r[m]=x)}),r}const kC=e=>{const t=gi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=fr.from(l),t.url=bC(OC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ne.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ne.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,p])=>{h.includes(m.toLowerCase())&&l.set(m,p)})}}if(Xt.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&aI(t.url))){const d=i&&o&&iI.read(o);d&&l.set(i,d)}return t},lI=typeof XMLHttpRequest<"u",cI=lI&&function(e){return new Promise(function(r,n){const i=kC(e);let o=i.data;const l=fr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,p,x,v,b;function w(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function S(){if(!y)return;const C=fr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};SC(function(E){r(E),w()},function(E){n(E),w()},j),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(n(new Te("Request aborted",Te.ECONNABORTED,e,y)),y=null)},y.onerror=function(O){const j=O&&O.message?O.message:"Network Error",P=new Te(j,Te.ERR_NETWORK,e,y);P.event=O||null,n(P),y=null},y.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||jC;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),n(new Te(O,j.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,y)),y=null},o===void 0&&l.setContentType(null),"setRequestHeader"in y&&ne.forEach(l.toJSON(),function(O,j){y.setRequestHeader(j,O)}),ne.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),u&&u!=="json"&&(y.responseType=i.responseType),h&&([x,b]=nd(h,!0),y.addEventListener("progress",x)),d&&y.upload&&([p,v]=nd(d),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(m=C=>{y&&(n(!C||C.type?new dc(null,e,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const _=tI(i.url);if(_&&Xt.protocols.indexOf(_)===-1){n(new Te("Unsupported protocol "+_+":",Te.ERR_BAD_REQUEST,e));return}y.send(o||null)})},uI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;n.abort(m instanceof Te?m:new dc(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,o(new Te(`timeout of ${t}ms exceeded`,Te.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ne.asap(u),d}},dI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},fI=async function*(e,t){for await(const r of hI(e))yield*dI(r,t)},hI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},kN=(e,t,r,n)=>{const i=fI(e,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let p=m.byteLength;if(r){let x=o+=p;r(x)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},PN=64*1024,{isFunction:Mu}=ne,pI=(({Request:e,Response:t})=>({Request:e,Response:t}))(ne.global),{ReadableStream:AN,TextEncoder:_N}=ne.global,CN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mI=e=>{e=ne.merge.call({skipUndefined:!0},pI,e);const{fetch:t,Request:r,Response:n}=e,i=t?Mu(t):typeof fetch=="function",o=Mu(r),l=Mu(n);if(!i)return!1;const u=i&&Mu(AN),d=i&&(typeof _N=="function"?(b=>w=>b.encode(w))(new _N):async b=>new Uint8Array(await new r(b).arrayBuffer())),h=o&&u&&CN(()=>{let b=!1;const w=new r(Xt.origin,{body:new AN,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),m=l&&u&&CN(()=>ne.isReadableStream(new n("").body)),p={stream:m&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(w,y)=>{let S=w&&w[b];if(S)return S.call(w);throw new Te(`Response type '${b}' is not supported`,Te.ERR_NOT_SUPPORT,y)})});const x=async b=>{if(b==null)return 0;if(ne.isBlob(b))return b.size;if(ne.isSpecCompliantForm(b))return(await new r(Xt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(b)||ne.isArrayBuffer(b))return b.byteLength;if(ne.isURLSearchParams(b)&&(b=b+""),ne.isString(b))return(await d(b)).byteLength},v=async(b,w)=>{const y=ne.toFiniteNumber(b.getContentLength());return y??x(w)};return async b=>{let{url:w,method:y,data:S,signal:_,cancelToken:C,timeout:O,onDownloadProgress:j,onUploadProgress:P,responseType:E,headers:T,withCredentials:M="same-origin",fetchOptions:L}=kC(b),R=t||fetch;E=E?(E+"").toLowerCase():"text";let F=uI([_,C&&C.toAbortSignal()],O),U=null;const W=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let B;try{if(P&&h&&y!=="get"&&y!=="head"&&(B=await v(T,S))!==0){let q=new r(w,{method:"POST",body:S,duplex:"half"}),H;if(ne.isFormData(S)&&(H=q.headers.get("content-type"))&&T.setContentType(H),q.body){const[X,oe]=NN(B,nd(SN(P)));S=kN(q.body,PN,X,oe)}}ne.isString(M)||(M=M?"include":"omit");const $=o&&"credentials"in r.prototype,z={...L,signal:F,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:$?M:void 0};U=o&&new r(w,z);let V=await(o?R(U,L):R(w,z));const G=m&&(E==="stream"||E==="response");if(m&&(j||G&&W)){const q={};["status","statusText","headers"].forEach(fe=>{q[fe]=V[fe]});const H=ne.toFiniteNumber(V.headers.get("content-length")),[X,oe]=j&&NN(H,nd(SN(j),!0))||[];V=new n(kN(V.body,PN,X,()=>{oe&&oe(),W&&W()}),q)}E=E||"text";let D=await p[ne.findKey(p,E)||"text"](V,b);return!G&&W&&W(),await new Promise((q,H)=>{SC(q,H,{data:D,headers:fr.from(V.headers),status:V.status,statusText:V.statusText,config:b,request:U})})}catch($){throw W&&W(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,b,U),{cause:$.cause||$}):Te.from($,$&&$.code,b,U)}}},gI=new Map,PC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,o=[n,i,r];let l=o.length,u=l,d,h,m=gI;for(;u--;)d=o[u],h=m.get(d),h===void 0&&m.set(d,h=u?new Map:mI(t)),m=h;return h};PC();const Gv={http:RM,xhr:cI,fetch:{get:PC}};ne.forEach(Gv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const EN=e=>`- ${e}`,xI=e=>ne.isFunction(e)||e===null||e===!1;function yI(e,t){e=ne.isArray(e)?e:[e];const{length:r}=e;let n,i;const o={};for(let l=0;l<r;l++){n=e[l];let u;if(i=n,!xI(n)&&(i=Gv[(u=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${u}'`);if(i&&(ne.isFunction(i)||(i=i.get(t))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(EN).join(`
`):" "+EN(l[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const AC={getAdapter:yI,adapters:Gv};function Yp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dc(null,e)}function TN(e){return Yp(e),e.headers=fr.from(e.headers),e.data=Vp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AC.getAdapter(e.adapter||uc.adapter,e)(e).then(function(n){return Yp(e),n.data=Vp.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return NC(n)||(Yp(e),n&&n.response&&(n.response.data=Vp.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const _C="1.13.4",hf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const RN={};hf.transitional=function(t,r,n){function i(o,l){return"[Axios v"+_C+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new Te(i(l," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!RN[l]&&(RN[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,u):!0}};hf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function vI(e,t,r){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],l=t[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new Te("option "+o+" must be "+d,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const Zu={assertOptions:vI,validators:hf},hn=Zu.validators;let hi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jN,response:new jN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Zu.assertOptions(n,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:Zu.assertOptions(i,{encode:hn.function,serialize:hn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zu.assertOptions(r,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&ne.merge(o.common,o[r.method]);o&&ne.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=fr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,p=0,x;if(!d){const b=[TN.bind(this),void 0];for(b.unshift(...u),b.push(...h),x=b.length,m=Promise.resolve(r);p<x;)m=m.then(b[p++],b[p++]);return m}x=u.length;let v=r;for(;p<x;){const b=u[p++],w=u[p++];try{v=b(v)}catch(y){w.call(this,y);break}}try{m=TN.call(this,v)}catch(b){return Promise.reject(b)}for(p=0,x=h.length;p<x;)m=m.then(h[p++],h[p++]);return m}getUri(t){t=gi(this.defaults,t);const r=OC(t.baseURL,t.url,t.allowAbsoluteUrls);return bC(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){hi.prototype[t]=function(r,n){return this.request(gi(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,u){return this.request(gi(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}hi.prototype[t]=r(),hi.prototype[t+"Form"]=r(!0)});let bI=class CC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new dc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new CC(function(i){t=i}),cancel:t}}};function jI(e){return function(r){return e.apply(null,r)}}function wI(e){return ne.isObject(e)&&e.isAxiosError===!0}const fy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fy).forEach(([e,t])=>{fy[t]=e});function EC(e){const t=new hi(e),r=cC(hi.prototype.request,t);return ne.extend(r,hi.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return EC(gi(e,i))},r}const gt=EC(uc);gt.Axios=hi;gt.CanceledError=dc;gt.CancelToken=bI;gt.isCancel=NC;gt.VERSION=_C;gt.toFormData=ff;gt.AxiosError=Te;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=jI;gt.isAxiosError=wI;gt.mergeConfig=gi;gt.AxiosHeaders=fr;gt.formToJSON=e=>wC(ne.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=AC.getAdapter;gt.HttpStatusCode=fy;gt.default=gt;const{Axios:pJ,AxiosError:mJ,CanceledError:gJ,isCancel:xJ,CancelToken:yJ,VERSION:vJ,all:bJ,Cancel:jJ,isAxiosError:wJ,spread:NJ,toFormData:SJ,AxiosHeaders:OJ,HttpStatusCode:kJ,formToJSON:PJ,getAdapter:AJ,mergeConfig:_J}=gt;class Ce extends Error{constructor(r,n,i){super(r);_u(this,"status");_u(this,"data");this.name="ApiError",this.status=n,this.data=i}}const NI=gt.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});function SI(e){var r,n;if(gt.isAxiosError(e)){const i=e,o=((r=i.response)==null?void 0:r.status)??null,l=(n=i.response)==null?void 0:n.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||i.message||"Request failed";return new Ce(u,o,l)}const t=e instanceof Error?e.message:String(e);return new Ce(t,null,null)}async function de(e){try{return(await NI.request(e)).data}catch(t){throw SI(t)}}const wn=GR((e,t)=>({user:null,currentOrganization:null,organizations:[],isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const r=await de({url:"/auth/me",method:"GET"});e({user:r.user,currentOrganization:r.currentOrganization,organizations:r.organizations||[],isLoading:!1})}catch(r){console.error("Failed to fetch user:",r),e({user:null,currentOrganization:null,organizations:[],isLoading:!1})}}},logout:async()=>{try{await de({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[]}),window.location.href="/login"}catch(r){console.error("Logout failed:",r)}},switchOrganization:async r=>{try{const n=await de({url:"/auth/switch-org",method:"POST",data:{organizationId:r}});if(n.redirectUrl){window.location.href=n.redirectUrl;return}window.location.reload()}catch(n){console.error("Switch organization failed:",n)}},setUser:r=>{e({user:r})}}));function OI(){const[e,t]=k.useState(null),[r,n]=k.useState(!0),[i,o]=k.useState(null),{user:l}=wn();k.useEffect(()=>{(async()=>{try{n(!0);const h=await fetch("/api/dashboard/stats",{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch dashboard stats");const m=await h.json();t(m),o(null)}catch(h){o(h instanceof Error?h.message:"Unknown error")}finally{n(!1)}})()},[]);const u=d=>d===0?"-":`${d}%`;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(l==null?void 0:l.name)||"User","! Here's your workflow overview."]})]}),i&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:i})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Workflows"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.totalWorkflows)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.totalWorkflows)===0?"No workflows yet":"Active workflows"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Recent Executions"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:(e==null?void 0:e.recentExecutions)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Success Rate"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:u((e==null?void 0:e.successRate)??0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Last 24 hours"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Approvals"}),r?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(e==null?void 0:e.pendingApprovals)??0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(e==null?void 0:e.pendingApprovals)===0?"All caught up!":"Awaiting response"})]})]})]}),(e==null?void 0:e.activeIntegrations)&&e.activeIntegrations.length>0&&a.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Integrations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.activeIntegrations.map(d=>a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium capitalize",children:d},d))})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),a.jsx("p",{className:"text-blue-800 mb-4",children:"Start automating your workflows in 3 easy steps:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[a.jsx("li",{children:"Create your first workflow"}),a.jsx("li",{children:"Configure your integrations (Notion, Slack, etc.)"}),a.jsx("li",{children:"Run and monitor your automation"})]})]})]})}function kI({workflow:e,onExecute:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function TC({workflowId:e,workflowName:t,isOpen:r,onClose:n,onSuccess:i}){const[o,l]=k.useState("{}"),[u,d]=k.useState("idle"),[h,m]=k.useState("");if(!r)return null;const p=async()=>{d("executing"),m("");try{let x={};o.trim()&&(x=JSON.parse(o)),await de({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),d("success"),setTimeout(()=>{i==null||i(),n()},1500)}catch(x){x instanceof SyntaxError?m("Invalid JSON format"):x instanceof Ce?m(x.message):m("Execution failed"),d("error")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[a.jsx("span",{className:"text-green-600 text-xl",children:""}),a.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("span",{className:"text-red-800",children:h})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:n,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function PI({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(!1),[h,m]=k.useState(null),p=async()=>{if(!n.trim()){m("Workflow name is required");return}d(!0),m(null);try{await de({url:"/api/workflows",method:"POST",data:{name:n.trim(),description:o.trim()||void 0,enabled:!0,config:{}}}),r(),t(),i(""),l("")}catch(x){let v="Failed to create workflow";x instanceof Ce&&(x.status===403?v="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":v=x.message),m(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:n,onChange:x=>i(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:o,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function AI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(!1),d=async()=>{try{const x=await de({url:"/api/workflows",method:"GET"});t(x.workflows)}catch(x){console.error("Failed to fetch workflows:",x)}finally{n(!1)}};k.useEffect(()=>{d()},[]);const h=x=>{const v=e.find(b=>b.id===x);v&&o(v)},m=()=>{o(null)},p=()=>{d()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),a.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),a.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>a.jsx(kI,{workflow:x,onExecute:h},x.id))}),i&&a.jsx(TC,{workflowId:i.id,workflowName:i.name,isOpen:!0,onClose:m,onSuccess:p}),a.jsx(PI,{isOpen:l,onClose:()=>u(!1),onSuccess:d})]})}function _I(){var fe;const{id:e}=lf(),t=Si(),[r,n]=k.useState(null),[i,o]=k.useState(!0),[l,u]=k.useState(null),[d,h]=k.useState(!1),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(!1),[_,C]=k.useState(!1),[O,j]=k.useState(!1),[P,E]=k.useState(null),[T,M]=k.useState(null),[L,R]=k.useState([]),[F,U]=k.useState(""),[W,B]=k.useState(""),[$,z]=k.useState(!0),V=async()=>{if(e)try{const se=await de({url:`/api/workflows/${e}`,method:"GET"});n(se.workflow),U(se.workflow.name),B(se.workflow.description||""),z(se.workflow.enabled)}catch(se){se instanceof Ce&&se.status===404?u("Workflow not found"):u("Failed to load workflow")}finally{o(!1)}};k.useEffect(()=>{V()},[e]);const G=async()=>{if(!(!e||!F.trim())){p(!0);try{const se=await de({url:`/api/workflows/${e}`,method:"PUT",data:{name:F.trim(),description:W.trim()||null,enabled:$}});n(se.workflow),h(!1)}catch(se){const ke=se instanceof Ce?se.message:"Failed to save";alert(ke)}finally{p(!1)}}},D=async()=>{if(e){v(!0);try{await de({url:`/api/workflows/${e}`,method:"DELETE"}),t("/workflows")}catch(se){const ke=se instanceof Ce?se.message:"Failed to delete";alert(ke),v(!1),S(!1)}}},q=async()=>{if(e){j(!0),M(null);try{const se=await de({url:`/api/workflows/${e}/generate-sop`,method:"POST"});E(se.sop),R(se.sop.steps),C(!0)}catch(se){const ke=se instanceof Ce?se.message:"Failed to generate SOP";M(ke)}finally{j(!1)}}},H=()=>{P&&(alert(`SOP saved with ${L.length} steps. (This would save to database in production)`),C(!1))},X=(se,ke,Se)=>{const ce=[...L];ce[se]={...ce[se],[ke]:Se},R(ce)},oe=se=>{switch(se){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):l||!r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l||"Workflow not found"}),a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Workflows"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/workflows",className:"text-indigo-600 hover:text-indigo-800",children:"Workflows"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r.name})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:d?a.jsxs("div",{className:"space-y-4 max-w-xl",children:[a.jsx("input",{type:"text",value:F,onChange:se=>U(se.target.value),className:"text-3xl font-bold w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Workflow name"}),a.jsx("textarea",{value:W,onChange:se=>B(se.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Description (optional)"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:$,onChange:se=>z(se.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[r.name,a.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${r.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.enabled?"Enabled":"Disabled"})]}),a.jsx("p",{className:"text-gray-600",children:r.description||"No description"})]})}),a.jsx("div",{className:"flex gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:G,disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:m?"Saving...":"Save"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Edit"}),a.jsx("button",{onClick:q,disabled:O,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:O?"Generating...":"Generate SOP"}),a.jsx("button",{onClick:()=>w(!0),disabled:!r.enabled,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Execute"}),a.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Executions"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((fe=r.executions)==null?void 0:fe.length)||0})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),r.executions&&r.executions.length>0?a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.executions.map(se=>{const ke=se.startedAt&&se.completedAt?Math.round((new Date(se.completedAt).getTime()-new Date(se.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${oe(se.status)}`,children:se.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:se.startedAt?new Date(se.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ke!==null?`${ke}s`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx(At,{to:`/executions/${se.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},se.id)})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-500",children:'No executions yet. Click "Execute" to run this workflow.'})]}),b&&a.jsx(TC,{workflowId:r.id,workflowName:r.name,isOpen:!0,onClose:()=>w(!1),onSuccess:()=>{w(!1),V()}}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Workflow?"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:D,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})}),_&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Generated SOP"}),T&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:T}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:L.map((se,ke)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step ",ke+1,": Title"]}),a.jsx("input",{type:"text",value:se.title,onChange:Se=>X(ke,"title",Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:se.expectedDuration,onChange:Se=>X(ke,"expectedDuration",parseInt(Se.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:se.description,onChange:Se=>X(ke,"description",Se.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:se.approvalRequired,onChange:Se=>X(ke,"approvalRequired",Se.target.checked),className:"w-4 h-4 text-purple-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires Approval"})]})]},se.id))}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:H,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save SOP"})]})]})})]})}function CI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState("all");k.useEffect(()=>{(async()=>{try{const m=await de({url:"/api/executions",method:"GET"});t(m.executions||[])}catch(m){console.error("Failed to fetch executions:",m)}finally{n(!1)}})()},[]);const l=e.filter(h=>i==="all"?!0:h.status===i),u=h=>{switch(h){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),a.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),a.jsxs("div",{className:"mb-6 flex gap-2",children:[a.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium ${i==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),a.jsx("button",{onClick:()=>o("success"),className:`px-4 py-2 rounded-lg font-medium ${i==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),a.jsx("button",{onClick:()=>o("failed"),className:`px-4 py-2 rounded-lg font-medium ${i==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),a.jsx("button",{onClick:()=>o("running"),className:`px-4 py-2 rounded-lg font-medium ${i==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>{var p;const m=h.startedAt&&h.completedAt?Math.round((new Date(h.completedAt).getTime()-new Date(h.startedAt).getTime())/1e3):null;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(h.status)}`,children:[d(h.status)," ",h.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((p=h.workflow)==null?void 0:p.name)||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m!==null?`${m}s`:"-"})]},h.id)})})]})})]})}function EI(){var B;const{id:e}=lf(),[t,r]=k.useState(null),[n,i]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),[h,m]=k.useState(!1),[p,x]=k.useState(!0),[v,b]=k.useState(!0),[w,y]=k.useState(null),[S,_]=k.useState(""),[C,O]=k.useState(!1),j=async()=>{var $;if(e)try{const z=await de({url:`/api/executions/${e}`,method:"GET"});r(z.execution),($=z.execution.workflow)!=null&&$.sopEnabled&&await P()}catch(z){z instanceof Ce&&z.status===404?d("Execution not found"):d("Failed to load execution")}finally{l(!1)}},P=async()=>{if(e)try{const $=await de({url:`/api/executions/${e}/sop-progress`,method:"GET"});i($.progress)}catch{console.error("Failed to load SOP progress")}};k.useEffect(()=>{j()},[e]);const E=async()=>{if(!(!(t!=null&&t.workflowId)||!(t!=null&&t.inputData))){m(!0);try{await de({url:`/api/workflows/${t.workflowId}/execute`,method:"POST",data:{input:t.inputData}}),j()}catch($){const z=$ instanceof Ce?$.message:"Failed to retry";alert(z)}finally{m(!1)}}},T=async()=>{if(e){y("approve");try{await de({url:`/api/executions/${e}/sop/approve`,method:"POST",data:{}}),await P(),await j()}catch($){const z=$ instanceof Ce?$.message:"Failed to approve step";alert(z)}finally{y(null)}}},M=async()=>{if(!(!e||!S.trim())){y("skip");try{await de({url:`/api/executions/${e}/sop/skip`,method:"POST",data:{reason:S}}),O(!1),_(""),await P(),await j()}catch($){const z=$ instanceof Ce?$.message:"Failed to skip step";alert(z)}finally{y(null)}}},L=$=>{switch($){case"success":case"completed":return{bg:"bg-green-100",text:"text-green-800",icon:"",label:"Success"};case"failed":return{bg:"bg-red-100",text:"text-red-800",icon:"",label:"Failed"};case"running":case"in_progress":return{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Running"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:"",label:"Pending"};case"skipped":return{bg:"bg-gray-100",text:"text-gray-600",icon:"",label:"Skipped"};case"paused":return{bg:"bg-purple-100",text:"text-purple-800",icon:"",label:"Paused"};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:"",label:$}}},R=($,z,V)=>$.result?L($.result.status):z===V?{bg:"bg-blue-100",text:"text-blue-800",icon:"",label:"Current"}:{bg:"bg-gray-50",text:"text-gray-400",icon:"",label:"Pending"},F=($,z)=>{if(!$)return"-";const V=new Date($).getTime(),G=z?new Date(z).getTime():Date.now(),D=Math.round((G-V)/1e3);if(D<60)return`${D}s`;const q=Math.floor(D/60),H=D%60;return`${q}m ${H}s`},U=$=>{navigator.clipboard.writeText($)};if(o)return a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(u||!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u||"Execution not found"}),a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Executions"})]});const W=L(t.status);return a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/executions",className:"text-indigo-600 hover:text-indigo-800",children:"Executions"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsxs("span",{className:"text-gray-600",children:[t.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-semibold ${W.bg} ${W.text}`,children:[a.jsx("span",{className:"text-2xl",children:W.icon}),W.label]}),((B=t.workflow)==null?void 0:B.sopEnabled)&&a.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"SOP Workflow"})]}),t.workflow&&a.jsxs("p",{className:"text-gray-600",children:["Workflow:"," ",a.jsx(At,{to:`/workflows/${t.workflow.id}`,className:"text-indigo-600 hover:text-indigo-800",children:t.workflow.name})]})]}),t.status==="failed"&&a.jsx("button",{onClick:E,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Retrying...":"Retry Execution"})]}),n&&n.steps.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SOP Progress"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[n.completedSteps," / ",n.totalSteps," completed"]}),n.skippedSteps>0&&a.jsxs("span",{className:"text-gray-400",children:["(",n.skippedSteps," skipped)"]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(n.completedSteps+n.skippedSteps)/n.totalSteps*100}%`}})}),a.jsx("div",{className:"space-y-3",children:n.steps.map(($,z)=>{var D,q,H,X,oe,fe,se;const V=R($,z,n.currentStep),G=z===n.currentStep&&!((q=(D=$.result)==null?void 0:D.status)!=null&&q.match(/completed|skipped|failed/));return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${G?"border-indigo-300 bg-indigo-50":"border-gray-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${V.bg} ${V.text} font-bold`,children:((H=$.result)==null?void 0:H.status)==="completed"||((X=$.result)==null?void 0:X.status)==="skipped"?V.icon:z+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:$.name}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${V.bg} ${V.text}`,children:$.type})]}),$.description&&a.jsx("p",{className:"text-sm text-gray-500 truncate",children:$.description}),((oe=$.result)==null?void 0:oe.skippedReason)&&a.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Skipped: ",$.result.skippedReason]}),((fe=$.result)==null?void 0:fe.error)&&a.jsx("p",{className:"text-sm text-red-600",children:$.result.error})]}),G&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:T,disabled:w!==null,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm font-medium",children:w==="approve"?"...":"Approve"}),$.skippable!==!1&&a.jsx("button",{onClick:()=>O(!0),disabled:w!==null,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 text-sm font-medium",children:"Skip"})]}),((se=$.result)==null?void 0:se.completedAt)&&a.jsx("span",{className:"text-xs text-gray-400",children:new Date($.result.completedAt).toLocaleTimeString()})]},$.id)})})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Skip Step"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for skipping this step:"}),a.jsx("textarea",{value:S,onChange:$=>_($.target.value),className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:3,placeholder:"Enter skip reason..."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{O(!1),_("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!S.trim()||w==="skip",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:w==="skip"?"Skipping...":"Skip Step"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),a.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Started"}),a.jsx("p",{className:"font-medium",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),a.jsx("p",{className:"font-medium",children:F(t.startedAt,t.completedAt)})]})]})]}),t.errorMessage&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error"}),a.jsx("pre",{className:"text-red-700 whitespace-pre-wrap font-mono text-sm",children:t.errorMessage})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[a.jsxs("button",{onClick:()=>x(!p),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input Data"}),a.jsx("span",{className:"text-gray-400",children:p?"":""})]}),p&&a.jsx("div",{className:"p-6",children:t.inputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>U(JSON.stringify(t.inputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.inputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No input data"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("button",{onClick:()=>b(!v),className:"w-full px-6 py-4 flex justify-between items-center border-b border-gray-200 hover:bg-gray-50",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output Data"}),a.jsx("span",{className:"text-gray-400",children:v?"":""})]}),v&&a.jsx("div",{className:"p-6",children:t.outputData?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>U(JSON.stringify(t.outputData,null,2)),className:"absolute top-2 right-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"Copy"}),a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm",children:JSON.stringify(t.outputData,null,2)})]}):a.jsx("p",{className:"text-gray-500",children:"No output data"})})]})]})}function TI(){const{user:e,currentOrganization:t}=wn(),[r,n]=k.useState((e==null?void 0:e.name)||""),[i,o]=k.useState(!1),[l,u]=k.useState({}),[d,h]=k.useState(""),[m,p]=k.useState(""),[x,v]=k.useState(""),[b,w]=k.useState(!1),[y,S]=k.useState(null),[_,C]=k.useState(null);k.useEffect(()=>{(async()=>{try{const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings)}catch(M){console.error("Failed to fetch API key settings:",M)}})()},[]);const O=async()=>{w(!0),S(null),C(null);try{const T={};if(d&&(T.anthropicApiKey=d),m&&(T.openaiApiKey=m),x&&(T.openrouterApiKey=x),Object.keys(T).length===0){S("Please enter at least one API key"),w(!1);return}await de({url:"/api/organization/settings/api-keys",method:"PUT",data:T});const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings),h(""),p(""),v(""),C("API keys saved successfully")}catch(T){const M=T instanceof Ce?T.message:"Failed to save API keys";S(M)}finally{w(!1)}},j=async T=>{if(confirm(`Are you sure you want to delete ${T}?`))try{await de({url:`/api/organization/settings/api-keys/${T}`,method:"DELETE"});const M=await de({url:"/api/organization/settings",method:"GET"});u(M.settings),C(`${T} deleted successfully`)}catch(M){const L=M instanceof Ce?M.message:"Failed to delete API key";S(L)}},P=async()=>{o(!0);try{await de({url:"/api/user/profile",method:"PUT",data:{name:r}}),alert("Profile updated successfully")}catch(T){const M=T instanceof Ce?T.message:"Failed to update profile";console.error("Save failed:",T),alert(M)}finally{o(!1)}},E=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await de({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(T){const M=T instanceof Ce?T.message:"Failed to logout from all devices";console.error("Logout all failed:",T),alert(M)}};return a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:T=>n(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:P,disabled:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),a.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),a.jsx("a",{href:"/settings/members",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:"Manage organization members "})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"API Keys"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure API keys for AI-powered features. Keys are encrypted and stored securely."}),y&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),_&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:_}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Anthropic API Key",l.anthropicApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.anthropicApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.anthropicApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("anthropicApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:d,onChange:T=>h(T.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Required for Slack bot AI responses. Get your key at"," ",a.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenAI API Key",l.openaiApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openaiApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openaiApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("openaiApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:m,onChange:T=>p(T.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenAI-based features."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["OpenRouter API Key",l.openrouterApiKeySet&&a.jsx("span",{className:"ml-2 text-green-600 text-xs font-normal",children:"(configured)"})]}),l.openrouterApiKeySet?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.openrouterApiKey||"",disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 font-mono text-sm"}),a.jsx("button",{onClick:()=>j("openrouterApiKey"),className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-lg hover:bg-red-50",children:"Delete"})]}):a.jsx("input",{type:"password",value:x,onChange:T=>v(T.target.value),placeholder:"sk-or-...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional. For OpenRouter-based features."})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:O,disabled:b||!d&&!m&&!x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Save API Keys"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function RI(){var M;const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!0),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(null),_=(M=y==null?void 0:y.text)==null?void 0:M.toLowerCase().includes("circuit breaker"),C=async()=>{w(!0);try{await de({url:"/health/circuits/reset",method:"POST",data:{name:"notion-api"}}),S({type:"success",text:"Circuit breaker reset. Please try again."})}catch{S({type:"error",text:"Failed to reset circuit breaker"})}finally{w(!1)}};k.useEffect(()=>{O()},[]);const O=async()=>{try{const L=await de({url:"/api/notion/connection",method:"GET"});t(L.connection),u(L.connection.defaultDatabaseId||""),await j()}catch(L){if(L instanceof Ce&&L.status===404){t(null);return}console.error("Fetch connection error:",L)}finally{h(!1)}},j=async()=>{try{const L=await de({url:"/api/notion/databases",method:"GET"});n(L.databases||[])}catch(L){console.error("Fetch databases error:",L)}},P=async()=>{if(!i){S({type:"error",text:"Please enter an API key"});return}v(!0),S(null);try{const L=await de({url:"/api/notion/test",method:"POST",data:{apiKey:i}});L.success?S({type:"success",text:`Connection successful! Found ${L.databaseCount||0} databases.`}):S({type:"error",text:L.error||"Connection failed"})}catch(L){const R=L instanceof Ce?L.message:"Failed to test connection";S({type:"error",text:R})}finally{v(!1)}},E=async()=>{if(!i){S({type:"error",text:"Please enter an API key"});return}p(!0),S(null);try{const R=await de({url:"/api/notion/connection",method:e?"PUT":"POST",data:{apiKey:i,defaultDatabaseId:l}});t(R.connection),S({type:"success",text:"Notion connection saved successfully"}),await j(),o("")}catch(L){const R=L instanceof Ce?L.message:"Failed to save connection";S({type:"error",text:R})}finally{p(!1)}},T=async()=>{if(confirm("Are you sure you want to delete the Notion connection?")){p(!0),S(null);try{await de({url:"/api/notion/connection",method:"DELETE"}),t(null),n([]),u(""),S({type:"success",text:"Notion connection deleted"})}catch(L){const R=L instanceof Ce?L.message:"Failed to delete connection";S({type:"error",text:R})}finally{p(!1)}}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Notion integration for workflows"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:y.text}),_&&a.jsx("button",{onClick:C,disabled:b,className:"ml-4 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 disabled:opacity-50",children:b?"Resetting...":"Reset Circuit Breaker"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Key"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notion Internal Integration Token"}),a.jsx("input",{id:"apiKey",type:"password",value:i,onChange:L=>o(L.target.value),placeholder:e?"":"secret_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Create an integration at"," ",a.jsx("a",{href:"https://www.notion.so/my-integrations",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"notion.so/my-integrations"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:P,disabled:x||!i,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Testing...":"Test Connection"}),a.jsx("button",{onClick:E,disabled:m||!i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:T,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Databases"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultDb",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Database (optional)"}),a.jsxs("select",{id:"defaultDb",value:l,onChange:L=>u(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Select a database --"}),r.map(L=>a.jsx("option",{value:L.id,children:L.title},L.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(L=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:L.title}),a.jsx("p",{className:"text-sm text-gray-500 font-mono",children:L.id})]}),a.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion "})]})},L.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion integration is connected, but it doesn't have access to any databases yet."}),a.jsxs("div",{className:"bg-yellow-100 rounded-md p-4 mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:"How to grant access:"}),a.jsxs("ol",{className:"text-sm text-yellow-700 list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Open the database you want to connect in Notion"}),a.jsxs("li",{children:["Click the ",a.jsx("strong",{children:"..."})," menu in the top-right corner"]}),a.jsxs("li",{children:["Select ",a.jsx("strong",{children:"Connections"})," (or Add connections)"]}),a.jsx("li",{children:"Find and add your integration"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",a.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),a.jsxs("button",{onClick:()=>j(),className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:[a.jsx("svg",{className:"mr-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Databases"]})]})]})]})}function MI(){const[e,t]=Uv(),[r,n]=k.useState(null),[i,o]=k.useState(!0),[l,u]=k.useState(!1),[d,h]=k.useState(null);k.useEffect(()=>{const v=e.get("success"),b=e.get("error");v==="true"?(h({type:"success",text:"Slack workspace connected successfully!"}),t({})):b&&(h({type:"error",text:{access_denied:"You denied the Slack authorization request",missing_params:"Missing required parameters from Slack",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured for this deployment. Please contact your administrator to set up Slack credentials (SLACK_CLIENT_ID, SLACK_CLIENT_SECRET)."}[b]||`Error: ${b}`}),t({})),m()},[e,t]);const m=async()=>{try{const v=await de({url:"/api/slack/integration",method:"GET"});n(v.integration)}catch(v){if(v instanceof Ce&&v.status===404){n(null);return}console.error("Fetch integration error:",v)}finally{o(!1)}},p=()=>{window.location.href="/api/slack/oauth/install"},x=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),h(null);try{await de({url:"/api/slack/integration",method:"DELETE"}),n(null),h({type:"success",text:"Slack disconnected successfully"})}catch{h({type:"error",text:"Failed to disconnect Slack"})}finally{u(!1)}}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),a.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),r?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r.workspaceName}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.enabled&&r.healthStatus==="healthy"?"bg-green-100 text-green-800":r.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.enabled&&r.healthStatus==="healthy"?"Connected":r.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.workspaceId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:r.botUserId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Installed:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.installedAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-gray-700",children:new Date(r.updatedAt).toLocaleDateString()})]})]}),r.scopes&&r.scopes.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.scopes.map(v=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),a.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{onClick:p,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),a.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect Your Slack Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect Slack to enable AI-powered automation. Mention the bot in any channel to trigger workflows."}),a.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Add to Slack"]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Connect Your Workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Click "Add to Slack" to authorize Nubabel in your Slack workspace.'})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the Bot"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add @Nubabel to channels where you want to use AI automation."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Start Automating"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mention @Nubabel with your request, and our AI will handle the rest."})]})]})]})]})]})}function II(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(""),[m,p]=k.useState(!0),[x,v]=k.useState(!1),[b,w]=k.useState(!1),[y,S]=k.useState(null);k.useEffect(()=>{_()},[]);const _=async()=>{try{const E=await de({url:"/api/google-calendar/connection",method:"GET"});t(E.connection),h(E.connection.calendarId||""),await C()}catch(E){if(E instanceof Ce&&E.status===404){t(null);return}console.error("Fetch connection error:",E)}finally{p(!1)}},C=async()=>{try{const E=await de({url:"/api/google-calendar/calendars",method:"GET"});n(E.calendars||[])}catch(E){console.error("Fetch calendars error:",E)}},O=async()=>{if(!i){S({type:"error",text:"Please enter an access token"});return}w(!0),S(null);try{const E=await de({url:"/api/google-calendar/test",method:"POST",data:{accessToken:i,refreshToken:l||void 0}});E.success?S({type:"success",text:`Connection successful! Email: ${E.email}, ${E.calendars||0} calendars found.`}):S({type:"error",text:E.error||"Connection failed"})}catch(E){const T=E instanceof Ce?E.message:"Failed to test connection";S({type:"error",text:T})}finally{w(!1)}},j=async()=>{if(!i){S({type:"error",text:"Please enter an access token"});return}v(!0),S(null);try{const T=await de({url:"/api/google-calendar/connection",method:e?"PUT":"POST",data:{accessToken:i,refreshToken:l||void 0,calendarId:d||void 0}});t(T.connection),S({type:"success",text:"Google Calendar connection saved successfully"}),await C(),o(""),u("")}catch(E){const T=E instanceof Ce?E.message:"Failed to save connection";S({type:"error",text:T})}finally{v(!1)}},P=async()=>{if(confirm("Are you sure you want to delete the Google Calendar connection?")){v(!0),S(null);try{await de({url:"/api/google-calendar/connection",method:"DELETE"}),t(null),n([]),h(""),S({type:"success",text:"Google Calendar connection deleted"})}catch(E){const T=E instanceof Ce?E.message:"Failed to delete connection";S({type:"error",text:T})}finally{v(!1)}}};return m?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure Google Calendar integration for daily briefings"})]}),y&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:y.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"OAuth Credentials"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Token"}),a.jsx("input",{id:"accessToken",type:"password",value:i,onChange:E=>o(E.target.value),placeholder:e?"":"Enter access token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"refreshToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Token (optional)"}),a.jsx("input",{id:"refreshToken",type:"password",value:l,onChange:E=>u(E.target.value),placeholder:e?"":"Enter refresh token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Get tokens from"," ",a.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google Cloud Console"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:O,disabled:b||!i,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Testing...":"Test Connection"}),a.jsx("button",{onClick:j,disabled:x||!i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":e?"Update":"Save"}),e&&a.jsx("button",{onClick:P,disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]}),e&&r.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Calendars"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"defaultCalendar",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calendar for Daily Briefing"}),a.jsxs("select",{id:"defaultCalendar",value:d,onChange:E=>h(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Primary Calendar --"}),r.map(E=>a.jsxs("option",{value:E.id,children:[E.summary," ",E.primary?"(Primary)":""]},E.id))]})]}),a.jsx("div",{className:"space-y-2",children:r.map(E=>a.jsx("div",{className:`p-4 border rounded-lg transition ${E.primary?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:[E.summary,E.primary&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:"Primary"})]}),E.description&&a.jsx("p",{className:"text-sm text-gray-500",children:E.description}),a.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:E.id})]})})},E.id))})]}),e&&r.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No calendars found"}),a.jsx("p",{className:"text-yellow-700",children:"Make sure your Google account has at least one calendar and the OAuth scope includes calendar access."})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Daily Briefing Integration"}),a.jsx("p",{className:"text-blue-700",children:"Once configured, your calendar events will automatically appear in your daily briefing messages on Slack. The briefing shows today's schedule in Korean format:"}),a.jsx("pre",{className:"mt-3 p-3 bg-white rounded text-sm font-mono text-gray-700",children:`:calendar:   (3)
 10:00    
 14:00 Q2 OKR 
 16:30 1:1 with `})]})]})}function $I({organizationId:e,isOpen:t,onClose:r,onSuccess:n}){const[i,o]=k.useState(""),[l,u]=k.useState("member"),[d,h]=k.useState(!1),[m,p]=k.useState(null),x=async()=>{if(!i.trim()){p("Email is required");return}h(!0),p(null);try{await de({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:i.trim(),role:l}}),n(),r(),o(""),u("member")}catch(v){const b=v instanceof Ce?v.message:"Failed to invite member";p(b)}finally{h(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),m&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{id:"email",type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",value:l,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"admin",children:"Admin - Full access"}),a.jsx("option",{value:"member",children:"Member - Can execute workflows"}),a.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function DI({userId:e,currentRole:t,organizationId:r,currentUserId:n,onSuccess:i}){const[o,l]=k.useState(!1),u=e===n,d=async h=>{if(h!==t){l(!0);try{await de({url:`/api/organizations/${r}/members/${e}/role`,method:"PUT",data:{role:h}}),i()}catch(m){const p=m instanceof Ce?m.message:"Failed to update role";alert(p)}finally{l(!1)}}};return a.jsxs("select",{value:t,onChange:h=>d(h.target.value),disabled:o||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${o?"opacity-50":""}`,children:[a.jsx("option",{value:"owner",children:"Owner"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"member",children:"Member"}),a.jsx("option",{value:"viewer",children:"Viewer"})]})}function LI(){const{currentOrganization:e,user:t}=wn(),[r,n]=k.useState([]),[i,o]=k.useState(!0),[l,u]=k.useState(!1),d=e==null?void 0:e.id,h=t==null?void 0:t.id,m=async()=>{if(d)try{const v=await de({url:`/api/organizations/${d}/members`,method:"GET"});n(v.members)}catch(v){console.error("Failed to fetch members:",v)}finally{o(!1)}};k.useEffect(()=>{m()},[d]);const p=async(v,b)=>{if(confirm(`Are you sure you want to remove ${b} from this organization?`))try{await de({url:`/api/organizations/${d}/members/${v}`,method:"DELETE"}),m()}catch(w){const y=w instanceof Ce?w.message:"Failed to remove member";alert(y)}},x=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return i?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),a.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their roles"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Invite Member"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:v.avatarUrl?a.jsx("img",{className:"h-10 w-10 rounded-full",src:v.avatarUrl,alt:v.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:v.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.name,v.userId===h&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d&&h&&a.jsx(DI,{userId:v.userId,currentRole:v.role,organizationId:d,currentUserId:h,onSuccess:m})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.status==="active"?"Active":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.joinedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.userId!==h&&a.jsx("button",{onClick:()=>p(v.userId,v.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},v.id))})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),d&&a.jsx($I,{organizationId:d,isOpen:l,onClose:()=>u(!1),onSuccess:m})]})}function FI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState("pending"),[d,h]=k.useState("all"),[m,p]=k.useState({page:1,total:0,totalPages:0}),[x,v]=k.useState(null),b=async()=>{n(!0),o(null);try{const O=await de({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:m.page,limit:20}});t(O.approvals),p({page:O.pagination.page,total:O.pagination.total,totalPages:O.pagination.totalPages})}catch(O){const j=O instanceof Ce?O.message:"Failed to fetch approvals";o(j)}finally{n(!1)}};k.useEffect(()=>{b()},[l,d,m.page]);const w=async(O,j)=>{v(O);try{await de({url:`/api/approvals/${O}/respond`,method:"PUT",data:{action:j}}),b()}catch(P){const E=P instanceof Ce?P.message:"Failed to respond to approval";o(E)}finally{v(null)}},y=O=>{const j={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j[O]}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},S=O=>{const j={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j[O].bg}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},_=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=O=>new Date(O)<new Date;return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),a.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),i&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:i}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l,onChange:O=>{u(O.target.value),p(j=>({...j,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"all",children:"All"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:d,onChange:O=>{h(O.target.value),p(j=>({...j,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"budget",children:"Budget"}),a.jsx("option",{value:"deployment",children:"Deployment"}),a.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"inbox":"check-circle"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),a.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:O.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(O.type)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(O.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(O.expiresAt)?a.jsx("span",{className:"text-red-600",children:"Expired"}):_(O.expiresAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.status==="pending"&&!C(O.expiresAt)?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(O.id,"approved"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===O.id?"...":"Approve"}),a.jsx("button",{onClick:()=>w(O.id,"rejected"),disabled:x===O.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===O.id?"...":"Reject"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:O.respondedAt?_(O.respondedAt):"-"})})]},O.id))})]}),m.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",m.page," of ",m.totalPages," (",m.total," total)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>p(O=>({...O,page:O.page-1})),disabled:m.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>p(O=>({...O,page:O.page+1})),disabled:m.page>=m.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const BI=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function qI(e={}){const{url:t="/api/events",reconnectDelay:r=3e3,maxReconnectAttempts:n=10,onEvent:i}=e,[o,l]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(null),p=k.useRef(null),x=k.useRef(0),v=k.useRef(null),b=k.useRef(i),w=k.useRef([]);k.useEffect(()=>{b.current=i},[i]);const y=k.useCallback(()=>{p.current&&(w.current.forEach(({type:C,handler:O})=>{var j;(j=p.current)==null||j.removeEventListener(C,O)}),w.current=[],p.current.close(),p.current=null),v.current&&(clearTimeout(v.current),v.current=null)},[]),S=k.useCallback(()=>{y();const O=`${t}`;try{const j=new EventSource(O,{withCredentials:!0});p.current=j,j.onopen=()=>{l(!0),m(null),x.current=0},j.onerror=()=>{if(l(!1),y(),x.current<n){const P=r*Math.pow(2,x.current);x.current+=1,v.current=setTimeout(()=>{S()},P)}else m("Failed to connect to server. Please refresh the page.")},j.onmessage=P=>{var E;try{const T=JSON.parse(P.data),M={type:T.type||"message",data:T.data||T,timestamp:Date.now()};d(M),(E=b.current)==null||E.call(b,M)}catch{P.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",P.data)}},BI.forEach(P=>{const E=T=>{var M;try{const R=JSON.parse(T.data),F={type:P,data:R,timestamp:Date.now()};d(F),(M=b.current)==null||M.call(b,F)}catch(L){console.warn(`Failed to parse ${P} event:`,L)}};j.addEventListener(P,E),w.current.push({type:P,handler:E})})}catch(j){m("Failed to create EventSource connection"),console.error("SSE connection error:",j)}},[t,r,n,y]),_=k.useCallback(()=>{x.current=0,S()},[S]);return k.useEffect(()=>(S(),y),[S,y]),{isConnected:o,lastEvent:u,error:h,reconnect:_}}function zI(){const[e,t]=k.useState([]),[r,n]=k.useState("all"),i=k.useCallback(v=>{const b={id:`${v.timestamp}-${Math.random().toString(36).slice(2)}`,type:v.type,data:v.data,timestamp:v.timestamp};t(w=>[b,...w].slice(0,100))},[]),{isConnected:o,error:l,reconnect:u}=qI({url:"/api/events",onEvent:i}),d=e.filter(v=>r==="all"?!0:v.type===r),h=v=>v.includes("started")?"bg-blue-100 text-blue-800":v.includes("completed")?"bg-green-100 text-green-800":v.includes("failed")||v.includes("error")?"bg-red-100 text-red-800":v.includes("progress")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",m=v=>v.includes("started")?"":v.includes("completed")?"":v.includes("failed")?"":v.includes("progress")?"":v.includes("notification")?"":"",p=v=>new Date(v).toLocaleTimeString(),x=["all","execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),a.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of agent operations"})]}),a.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:o?"Connected":"Disconnected"})]}),!o&&a.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),l&&a.jsx("span",{className:"text-sm text-red-600",children:l})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:x.map(v=>a.jsx("button",{onClick:()=>n(v),className:`px-3 py-1 rounded-full text-sm ${r===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v==="all"?"All Events":v.replace(":",": ")},v))}),a.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:["Showing ",d.length," events",r!=="all"&&` (filtered by ${r})`]}),d.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Waiting for events..."}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Events will appear here in real-time as agents execute workflows"})]}):a.jsx("div",{className:"space-y-3",children:d.map(v=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:m(v.type)}),a.jsxs("div",{children:[a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${h(v.type)}`,children:v.type}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p(v.timestamp)})]})]})}),Object.keys(v.data).length>0&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm",children:a.jsx("pre",{className:"text-gray-700 overflow-x-auto",children:JSON.stringify(v.data,null,2)})})]},v.id))}),e.length>0&&a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>t([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all events"})})]})}const Qo={orchestrator:"",data:"",report:"",comms:"",search:"",task:"",approval:"",analytics:""};function Iu(e){return e<1?`${Math.round(e*1e3)}ms`:e<60?`${e.toFixed(1)}s`:`${Math.floor(e/60)}m ${Math.round(e%60)}s`}function MN(e){return new Date(e).toLocaleString()}function $u(e){return e>=95?"text-green-600":e>=80?"text-yellow-600":"text-red-600"}function UI(e){return e>=95?"bg-green-100":e>=80?"bg-yellow-100":"bg-red-100"}function WI(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(null),[x,v]=k.useState(!0),[b,w]=k.useState(null),y=k.useCallback(async()=>{try{const[j,P,E]=await Promise.all([fetch("/api/metrics/agents",{credentials:"include"}),fetch("/api/metrics/tools",{credentials:"include"}),fetch("/api/metrics/delegations",{credentials:"include"})]);if(!j.ok||!P.ok||!E.ok)throw new Error("Failed to fetch metrics");const T=await j.json(),M=await P.json(),L=await E.json();t(T.agents||[]),n(M.tools||[]),o(L.delegations||[]),p(T.timestamp),h(null)}catch(j){h(j instanceof Error?j.message:"Unknown error")}finally{u(!1)}},[]);k.useEffect(()=>{y()},[y]),k.useEffect(()=>{if(!x)return;const j=setInterval(y,3e4);return()=>clearInterval(j)},[x,y]);const S=e.reduce((j,P)=>j+P.activeSessions,0),_=e.reduce((j,P)=>j+P.totalExecutions,0),C=e.length>0?e.reduce((j,P)=>j+P.successRate,0)/e.length:0,O=b?e.find(j=>j.agentId===b):null;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),a.jsx("p",{className:"text-gray-600",children:"Multi-agent workflow monitoring and performance observability."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:j=>v(j.target.checked),className:"rounded border-gray-300"}),"Auto-refresh"]}),a.jsx("button",{onClick:y,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Refreshing...":"Refresh"})]})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:S}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:S===0?"No active agents":"Currently running"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Executions"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All time"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Success Rate"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-3xl font-bold ${$u(C)}`,children:[C.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Across all agents"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tool Calls"}),l?a.jsx("div",{className:"h-9 bg-gray-200 animate-pulse rounded"}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r.reduce((j,P)=>j+P.totalCalls,0)}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total invocations"})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Performance"}),l?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(j=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},j))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(j=>a.jsxs("div",{onClick:()=>w(j.agentId),className:`bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow ${b===j.agentId?"ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:Qo[j.agentId]||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),a.jsx("p",{className:"text-sm text-gray-500",children:j.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Executions"}),a.jsx("p",{className:"font-semibold",children:j.totalExecutions})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Success Rate"}),a.jsxs("p",{className:`font-semibold ${$u(j.successRate)}`,children:[j.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Duration"}),a.jsx("p",{className:"font-semibold",children:Iu(j.avgDuration)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"P95 Duration"}),a.jsx("p",{className:"font-semibold",children:Iu(j.p95Duration)})]})]}),j.activeSessions>0&&a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-sm text-green-600",children:[j.activeSessions," active session",j.activeSessions>1?"s":""]})]}),j.lastError&&a.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm",children:[a.jsxs("p",{className:"text-red-600 truncate",children:["Error: ",j.lastError.message]}),a.jsx("p",{className:"text-red-400 text-xs",children:MN(j.lastError.timestamp)})]})]},j.agentId))})]}),O&&a.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Qo[O.agentId]||""," ",O.name," Details"]}),a.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:"Close"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:`p-3 rounded-lg ${UI(O.successRate)}`,children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("p",{className:`text-2xl font-bold ${$u(O.successRate)}`,children:[O.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O.errorRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-blue-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Iu(O.avgDuration)})]}),a.jsxs("div",{className:"p-3 bg-purple-100 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"P95 Duration"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Iu(O.p95Duration)})]})]}),O.topTools.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Tools Used"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:O.topTools.map(j=>a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:[j.name," (",j.count,")"]},j.name))})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tool Usage"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-40 bg-gray-200 rounded"})}):r.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No tool usage data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:"Tool Name"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Total Calls"}),a.jsx("th",{className:"text-right py-2 px-3",children:"Success Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Top Agents"})]})}),a.jsx("tbody",{children:r.slice(0,10).map(j=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:j.toolName}),a.jsx("td",{className:"text-right py-2 px-3",children:j.totalCalls}),a.jsxs("td",{className:`text-right py-2 px-3 ${$u(j.successRate)}`,children:[j.successRate.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex gap-1",children:j.agentUsage.slice(0,3).map(P=>a.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:`${P.callCount} calls`,children:[Qo[P.agentId]||""," ",P.callCount]},P.agentId))})})]},j.toolName))})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Agent Delegations"}),l?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})}):i.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No delegation data available yet."}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsx("div",{className:"space-y-4",children:i.map(j=>a.jsxs("div",{className:"border-b pb-4 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:Qo[j.fromAgent]||""}),a.jsx("span",{className:"font-semibold capitalize",children:j.fromAgent}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-sm text-gray-500",children:[j.totalDelegations," delegations (",j.successRate.toFixed(1),"% success)"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 ml-8",children:j.targets.map(P=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm",children:[a.jsx("span",{children:Qo[P.toAgent]||""}),a.jsx("span",{className:"capitalize",children:P.toAgent}),a.jsxs("span",{className:"text-gray-400",children:["(",P.count,")"]})]},P.toAgent))})]},j.fromAgent))})})]}),m&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",MN(m)]})]})}function KI(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(0),m=20;k.useEffect(()=>{(async()=>{try{n(!0);const b=new URLSearchParams({limit:m.toString(),offset:d.toString()});i&&b.append("type",i),l&&b.append("impactLevel",l);const w=await de({url:`/api/org-changes?${b.toString()}`,method:"GET"});t(w.data||[])}catch(b){console.error("Failed to fetch organization changes:",b)}finally{n(!1)}})()},[i,l,d]);const p=v=>{switch(v){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{switch(v){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),a.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),a.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:i,onChange:v=>{o(v.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"new_member",children:"New Member"}),a.jsx("option",{value:"role_change",children:"Role Change"}),a.jsx("option",{value:"workflow_added",children:"Workflow Added"}),a.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),a.jsx("option",{value:"integration_added",children:"Integration Added"}),a.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),a.jsxs("select",{value:l,onChange:v=>{u(v.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[a.jsx("option",{value:"",children:"All Impact Levels"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),a.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.jsx("span",{className:"mr-2",children:x(v.type)}),v.type.replace(/_/g," ")]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:v.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${p(v.impactLevel)}`,children:v.impactLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.createdAt).toLocaleString()})]},v.id))})]})}),e.length>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>h(Math.max(0,d-m)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+m,d+e.length)]}),a.jsx("button",{onClick:()=>h(d+m),disabled:e.length<m,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function HI({isOpen:e,onClose:t,onSuccess:r,objective:n,defaultQuarter:i,currentUserId:o}){const[l,u]=k.useState({title:"",description:"",quarter:i,ownerId:o,status:"on_track"}),[d,h]=k.useState(!1),[m,p]=k.useState(null);k.useEffect(()=>{u(n?{title:n.title,description:n.description||"",quarter:n.quarter,ownerId:n.ownerId,status:n.status}:{title:"",description:"",quarter:i,ownerId:o,status:"on_track"})},[n,i,o]);const x=async()=>{if(!l.title.trim()){p("Title is required");return}h(!0),p(null);try{n?await de({url:`/api/okr/${n.id}`,method:"PUT",data:l}):await de({url:"/api/okr",method:"POST",data:l}),r(),t()}catch(v){const b=v instanceof Ce?v.message:"Failed to save objective";p(b)}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Objective":"New Objective"}),m&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:l.title,onChange:v=>u({...l,title:v.target.value}),placeholder:"Increase customer satisfaction",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:v=>u({...l,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),a.jsx("input",{type:"text",value:l.quarter,onChange:v=>u({...l,quarter:v.target.value}),placeholder:"2026-Q1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:v=>u({...l,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"on_track",children:"On Track"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"behind",children:"Behind"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":n?"Save Changes":"Create Objective"})]})]})})}):null}function GI({isOpen:e,onClose:t,onSuccess:r,objectiveId:n,keyResult:i}){const[o,l]=k.useState({title:"",target:"100",current:"0",unit:"%",ownerId:""}),[u,d]=k.useState(!1),[h,m]=k.useState(null);k.useEffect(()=>{l(i?{title:i.title,target:String(i.target),current:String(i.current),unit:i.unit,ownerId:i.ownerId||""}:{title:"",target:"100",current:"0",unit:"%",ownerId:""})},[i]);const p=async()=>{if(!o.title.trim()){m("Title is required");return}d(!0),m(null);try{const x={title:o.title,target:Number(o.target),current:Number(o.current),unit:o.unit,ownerId:o.ownerId||null};i?await de({url:`/api/okr/key-results/${i.id}`,method:"PUT",data:x}):await de({url:`/api/okr/${n}/key-results`,method:"POST",data:x}),r(),t()}catch(x){const v=x instanceof Ce?x.message:"Failed to save key result";m(v)}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i?"Edit Key Result":"New Key Result"}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:o.title,onChange:x=>l({...o,title:x.target.value}),placeholder:"Achieve NPS score of 50+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),a.jsx("input",{type:"number",value:o.target,onChange:x=>l({...o,target:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current"}),a.jsx("input",{type:"number",value:o.current,onChange:x=>l({...o,current:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{value:o.unit,onChange:x=>l({...o,unit:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"%",children:"%"}),a.jsx("option",{value:"count",children:"Count"}),a.jsx("option",{value:"$",children:"$"}),a.jsx("option",{value:"score",children:"Score"})]})]})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":i?"Save Changes":"Add Key Result"})]})]})})}):null}function VI({progress:e,status:t}){const r=()=>t==="behind"?"bg-red-500":t==="at_risk"?"bg-yellow-500":"bg-green-500";return a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${r()}`,style:{width:`${Math.min(e,100)}%`}})})}function YI({status:e}){const t={on_track:"bg-green-100 text-green-800",at_risk:"bg-yellow-100 text-yellow-800",behind:"bg-red-100 text-red-800"},r={on_track:"On Track",at_risk:"At Risk",behind:"Behind"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.on_track}`,children:r[e]||e})}function XI({objective:e,onEdit:t,onDelete:r,onAddKeyResult:n,onEditKeyResult:i,onUpdateKeyResultProgress:o}){const[l,u]=k.useState(!0);return a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx(YI,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsx(VI,{progress:e.progress,status:e.status})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",title:"Delete",children:a.jsx("span",{className:"text-lg",children:""})})]})]}),a.jsxs("div",{className:"mt-4 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("button",{onClick:()=>u(!l),className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[a.jsx("span",{children:l?"":""}),"Key Results (",e.keyResults.length,")"]}),a.jsx("button",{onClick:()=>n(e.id),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"+ Add Key Result"})]}),l&&a.jsx("div",{className:"space-y-3",children:e.keyResults.length===0?a.jsx("p",{className:"text-gray-500 text-sm italic",children:"No key results yet"}):e.keyResults.map(d=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.title}),a.jsx("button",{onClick:()=>i(d),className:"text-gray-400 hover:text-gray-600",children:a.jsx("span",{className:"text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(d.progress,100)}%`}})})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"number",value:d.current,onChange:h=>o(d.id,Number(h.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),a.jsxs("span",{className:"text-gray-500",children:["/ ",d.target," ",d.unit]}),a.jsxs("span",{className:"font-medium text-gray-700",children:["(",d.progress,"%)"]})]})]})]},d.id))})]})]})})}function QI(){const{user:e}=wn(),[t,r]=k.useState([]),[n,i]=k.useState([]),[o,l]=k.useState(""),[u,d]=k.useState(!0),[h,m]=k.useState(null),[p,x]=k.useState(!1),[v,b]=k.useState(null),[w,y]=k.useState(!1),[S,_]=k.useState(""),[C,O]=k.useState(null),j=()=>{const B=new Date;return`${B.getFullYear()}-Q${Math.ceil((B.getMonth()+1)/3)}`},P=async()=>{try{const B=await de({url:"/api/okr/meta/quarters",method:"GET"});i(B.quarters),B.quarters.length>0&&!o&&l(B.quarters[0])}catch(B){console.error("Failed to fetch quarters:",B)}},E=async()=>{if(o){d(!0),m(null);try{const B=await de({url:"/api/okr",method:"GET",params:{quarter:o}});r(B.objectives)}catch(B){const $=B instanceof Ce?B.message:"Failed to fetch objectives";m($)}finally{d(!1)}}};k.useEffect(()=>{P()},[]),k.useEffect(()=>{o&&E()},[o]);const T=async B=>{if(confirm("Are you sure you want to delete this objective and all its key results?"))try{await de({url:`/api/okr/${B}`,method:"DELETE"}),E()}catch($){const z=$ instanceof Ce?$.message:"Failed to delete objective";m(z)}},M=async(B,$)=>{try{await de({url:`/api/okr/key-results/${B}`,method:"PUT",data:{current:$}}),E()}catch(z){console.error("Failed to update key result:",z)}},L=()=>{b(null),x(!0)},R=B=>{b(B),x(!0)},F=B=>{_(B),O(null),y(!0)},U=B=>{_(B.objectiveId),O(B),y(!0)},W=t.length>0?Math.round(t.reduce((B,$)=>B+$.progress,0)/t.length):0;return u&&t.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):a.jsxs("div",{className:"max-w-6xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),a.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"New Objective"]})]}),h&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quarter:"}),a.jsx("select",{value:o,onChange:B=>l(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:n.map(B=>a.jsx("option",{value:B,children:B},B))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[t.length," objective",t.length!==1?"s":""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall:"}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${W}%`}})}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[W,"%"]})]})]})]}),t.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No objectives yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective to start tracking your team's goals."}),a.jsx("button",{onClick:L,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create First Objective"})]})}):a.jsx("div",{className:"space-y-6",children:t.map(B=>a.jsx(XI,{objective:B,onEdit:R,onDelete:T,onAddKeyResult:F,onEditKeyResult:U,onUpdateKeyResultProgress:M},B.id))}),a.jsx(HI,{isOpen:p,onClose:()=>x(!1),onSuccess:()=>{E(),P()},objective:v,defaultQuarter:o||j(),currentUserId:(e==null?void 0:e.id)||""}),a.jsx(GI,{isOpen:w,onClose:()=>y(!1),onSuccess:E,objectiveId:S,keyResult:C})]})}function JI({agent:e,onEdit:t,onDelete:r,onViewActivity:n,onToggleEnabled:i}){const[o,l]=k.useState(!1),[u,d]=k.useState(!1),h=async()=>{if(!(!i||u)){d(!0);try{await i(e,!e.enabled)}finally{d(!1)}}},m=p=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[p]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m(e.function)}`,children:e.function}),i&&a.jsx("button",{onClick:h,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(p=>({id:p,name:p}))).map(p=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:p.name},p.id)),e.skills.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),a.jsxs("button",{onClick:()=>l(!o),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[o?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(p=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:p},p)),e.tools.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(p=>a.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:p},p)),e.routing_keywords.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Read:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(p=>a.jsx("li",{className:"text-green-700 font-mono",children:p},p)),e.permissions.read.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Write:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(p=>a.jsx("li",{className:"text-yellow-700 font-mono",children:p},p)),e.permissions.write.length===0&&a.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[a.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const ZI=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function e$({isOpen:e,onClose:t,onSuccess:r,agent:n,availableSkills:i,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[h,m]=k.useState(""),[p,x]=k.useState(""),[v,b]=k.useState(""),[w,y]=k.useState(!1),[S,_]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,function:n.function,description:n.description,skills:[...n.skills],tools:[...n.tools],routing_keywords:[...n.routing_keywords],permissions:{read:[...n.permissions.read],write:[...n.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),_(null)},[n,e]);const C=async F=>{F.preventDefault(),y(!0),_(null);try{l?await de({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await de({url:"/api/admin/agents",method:"POST",data:u}),r(),t()}catch(U){const W=U instanceof Ce?U.message:"Failed to save agent";_(W)}finally{y(!1)}},O=()=>{h.trim()&&!u.routing_keywords.includes(h.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,h.trim()]}),m(""))},j=F=>{d({...u,routing_keywords:u.routing_keywords.filter(U=>U!==F)})},P=()=>{p.trim()&&!u.permissions.read.includes(p.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,p.trim()]}}),x(""))},E=F=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(U=>U!==F)}})},T=()=>{v.trim()&&!u.permissions.write.includes(v.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,v.trim()]}}),b(""))},M=F=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(U=>U!==F)}})},L=F=>{const U=u.skills.includes(F)?u.skills.filter(W=>W!==F):[...u.skills,F];d({...u,skills:U})},R=F=>{const U=u.tools.includes(F)?u.tools.filter(W=>W!==F):[...u.tools,F];d({...u,tools:U})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:F=>d({...u,id:F.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:F=>d({...u,name:F.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{id:"function",value:u.function,onChange:F=>d({...u,function:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:ZI.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:F=>d({...u,description:F.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[i.map(F=>a.jsx("button",{type:"button",onClick:()=>L(F.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes(F.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:F.name},F.id)),i.length===0&&a.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(F=>a.jsx("button",{type:"button",onClick:()=>R(F.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes(F.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:F.description,children:F.name},F.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),O()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map(F=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[F,a.jsx("button",{type:"button",onClick:()=>j(F),className:"text-orange-600 hover:text-orange-800",children:""})]},F))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:p,onChange:F=>x(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),P()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map(F=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-green-700",children:F}),a.jsx("button",{type:"button",onClick:()=>E(F),className:"text-green-600 hover:text-green-800",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:F=>b(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),T()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),a.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map(F=>a.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[a.jsx("span",{className:"font-mono text-yellow-700",children:F}),a.jsx("button",{type:"button",onClick:()=>M(F),className:"text-yellow-600 hover:text-yellow-800",children:""})]},F))})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function t$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(!1),[x,v]=k.useState(null),[b,w]=k.useState([]),[y,S]=k.useState(null),[_,C]=k.useState(""),[O,j]=k.useState("all"),P=async()=>{try{const $=await de({url:"/api/admin/pending-prs?type=agent",method:"GET"});w($.pullRequests)}catch($){console.error("Failed to fetch pending PRs:",$)}},E=async()=>{try{const $=await de({url:"/api/admin/agents",method:"GET"});t($.agents)}catch($){const z=$ instanceof Ce?$.message:"Failed to fetch agents";h(z)}},T=async()=>{try{const $=await de({url:"/api/admin/skills",method:"GET"});n($.skills.map(z=>({id:z.id,name:z.name})))}catch($){console.error("Failed to fetch skills:",$)}},M=async()=>{try{const $=await de({url:"/api/admin/tools",method:"GET"});o($.tools)}catch($){console.error("Failed to fetch tools:",$)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),T(),M(),P()]),u(!1)})()},[]);const L=()=>{v(null),p(!0)},R=$=>{v($),p(!0)},F=async $=>{if(confirm(`Are you sure you want to delete "${$.name}"? This will create a PR.`))try{const z=await de({url:`/api/admin/agents/${$.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${z.pullRequest.html_url}`),E(),P()}catch(z){const V=z instanceof Ce?z.message:"Failed to delete agent";h(V)}},U=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),P()},W=$=>{window.location.href=`/activity?agent=${$.id}`},B=async($,z)=>{try{const V=await de({url:`/api/admin/agents/${$.id}`,method:"PUT",data:{...$,enabled:z}});S(`PR created to ${z?"enable":"disable"} agent. View at: ${V.pullRequest.html_url}`),E(),P()}catch(V){const G=V instanceof Ce?V.message:"Failed to toggle agent status";h(G)}};return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map($=>$.function)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap($=>$.skills)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap($=>$.tools)).size}),a.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:_,onChange:$=>C($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:O,onChange:$=>j($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map($=>$.function))).map($=>a.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]})})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map($=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:$.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",$.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:$.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:$.author_avatar,alt:$.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:$.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:$.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},$.number))})]})})]}),(()=>{const $=e.filter(z=>{const V=_.toLowerCase(),G=!V||z.name.toLowerCase().includes(V)||z.id.toLowerCase().includes(V)||z.description.toLowerCase().includes(V)||z.routing_keywords.some(q=>q.toLowerCase().includes(V)),D=O==="all"||z.function===O;return G&&D});return e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),a.jsx("button",{onClick:L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):$.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),a.jsx("button",{onClick:()=>{C(""),j("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:$.map(z=>a.jsx(JI,{agent:z,onEdit:R,onDelete:F,onViewActivity:W,onToggleEnabled:B},z.id))})})(),a.jsx(e$,{isOpen:m,onClose:()=>p(!1),onSuccess:U,agent:x,availableSkills:r,availableTools:i})]})}function r$({skill:e,onEdit:t,onDelete:r}){var l;const[n,i]=k.useState(!1),o=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-white",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.category)}`,children:e.category})]}),a.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>a.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||a.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),a.jsxs("button",{onClick:()=>i(!n),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[n?"Hide details":"Show details",a.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&a.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&a.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-700",children:u.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),a.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[a.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),a.jsx("button",{onClick:()=>r(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const n$=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],IN=["string","number","boolean","object","array"];function a$({isOpen:e,onClose:t,onSuccess:r,skill:n,availableAgents:i,availableTools:o}){const l=!!n,[u,d]=k.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[h,m]=k.useState(""),[p,x]=k.useState({name:"",type:"string",description:"",required:!1,default:""}),[v,b]=k.useState({name:"",type:"string",description:""}),[w,y]=k.useState(!1),[S,_]=k.useState(null);k.useEffect(()=>{d(n?{id:n.id,name:n.name,description:n.description,category:n.category,triggers:[...n.triggers],parameters:n.parameters?[...n.parameters]:[],outputs:n.outputs?[...n.outputs]:[],tools_required:[...n.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),_(null)},[n,e]);const C=async R=>{R.preventDefault(),y(!0),_(null);try{l?await de({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await de({url:"/api/admin/skills",method:"POST",data:u}),r(),t()}catch(F){const U=F instanceof Ce?F.message:"Failed to save skill";_(U)}finally{y(!1)}},O=()=>{h.trim()&&!u.triggers.includes(h.trim())&&(d({...u,triggers:[...u.triggers,h.trim()]}),m(""))},j=R=>{d({...u,triggers:u.triggers.filter((F,U)=>U!==R)})},P=()=>{if(p.name.trim()&&p.description.trim()){const R={name:p.name.trim(),type:p.type,description:p.description.trim(),required:p.required};if(p.default.trim())try{R.default=JSON.parse(p.default)}catch{R.default=p.default}d({...u,parameters:[...u.parameters,R]}),x({name:"",type:"string",description:"",required:!1,default:""})}},E=R=>{d({...u,parameters:u.parameters.filter((F,U)=>U!==R)})},T=()=>{v.name.trim()&&v.description.trim()&&(d({...u,outputs:[...u.outputs,{...v,name:v.name.trim(),description:v.description.trim()}]}),b({name:"",type:"string",description:""}))},M=R=>{d({...u,outputs:u.outputs.filter((F,U)=>U!==R)})},L=R=>{const F=u.tools_required.includes(R)?u.tools_required.filter(U=>U!==R):[...u.tools_required,R];d({...u,tools_required:F})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),a.jsx("input",{id:"id",type:"text",value:u.id,onChange:R=>d({...u,id:R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{id:"name",type:"text",value:u.name,onChange:R=>d({...u,name:R.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"description",value:u.description,onChange:R=>d({...u,description:R.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:u.category,onChange:R=>d({...u,category:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:n$.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),O()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((R,F)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[R,a.jsx("button",{type:"button",onClick:()=>j(F),className:"text-green-600 hover:text-green-800",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:o.map(R=>a.jsx("button",{type:"button",onClick:()=>L(R.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(R.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:R.description,children:R.name},R.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p.name,onChange:R=>x({...p,name:R.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:p.type,onChange:R=>x({...p,type:R.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:IN.map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("input",{type:"text",value:p.description,onChange:R=>x({...p,description:R.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),a.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:p.required,onChange:R=>x({...p,required:R.target.checked}),className:"w-3 h-3"}),"Required"]}),a.jsx("input",{type:"text",value:p.default,onChange:R=>x({...p,default:R.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((R,F)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:R.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",R.type,")"]}),R.required&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:R.description})]}),a.jsx("button",{type:"button",onClick:()=>E(F),className:"text-gray-400 hover:text-gray-600",children:""})]},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v.name,onChange:R=>b({...v,name:R.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("select",{value:v.type,onChange:R=>b({...v,type:R.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:IN.map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("input",{type:"text",value:v.description,onChange:R=>b({...v,description:R.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((R,F)=>a.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:R.name}),a.jsxs("span",{className:"text-gray-400 mx-1",children:["(",R.type,")"]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:R.description})]}),a.jsx("button",{type:"button",onClick:()=>M(F),className:"text-gray-400 hover:text-gray-600",children:""})]},F))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function i$(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(!1),[x,v]=k.useState(null),[b,w]=k.useState([]),[y,S]=k.useState(null),[_,C]=k.useState("all"),[O,j]=k.useState(""),P=async()=>{try{const $=await de({url:"/api/admin/pending-prs?type=skill",method:"GET"});w($.pullRequests)}catch($){console.error("Failed to fetch pending PRs:",$)}},E=async()=>{try{const $=await de({url:"/api/admin/skills",method:"GET"});t($.skills)}catch($){const z=$ instanceof Ce?$.message:"Failed to fetch skills";h(z)}},T=async()=>{try{const $=await de({url:"/api/admin/agents",method:"GET"});n($.agents.map(z=>({id:z.id,name:z.name})))}catch($){console.error("Failed to fetch agents:",$)}},M=async()=>{try{const $=await de({url:"/api/admin/tools",method:"GET"});o($.tools)}catch($){console.error("Failed to fetch tools:",$)}};k.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),T(),M(),P()]),u(!1)})()},[]);const L=()=>{v(null),p(!0)},R=$=>{v($),p(!0)},F=async $=>{if(confirm(`Are you sure you want to delete "${$.name}"? This will create a PR.`))try{const z=await de({url:`/api/admin/skills/${$.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${z.pullRequest.html_url}`),E(),P()}catch(z){const V=z instanceof Ce?z.message:"Failed to delete skill";h(V)}},U=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),P()},W=Array.from(new Set(e.map($=>$.category))),B=e.filter($=>{const z=O.toLowerCase(),V=!z||$.name.toLowerCase().includes(z)||$.id.toLowerCase().includes(z)||$.description.toLowerCase().includes(z)||$.triggers.some(D=>D.toLowerCase().includes(z)),G=_==="all"||$.category===_;return V&&G});return l?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):a.jsxs("div",{className:"max-w-7xl",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:W.length}),a.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce(($,z)=>$+z.triggers.length,0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce(($,z)=>{var V;return $+(((V=z.agentDetails)==null?void 0:V.length)||0)},0)}),a.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:O,onChange:$=>j($.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>C("all"),className:`px-3 py-1 text-sm rounded-full ${_==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),W.map($=>a.jsxs("button",{onClick:()=>C($),className:`px-3 py-1 text-sm rounded-full capitalize ${_===$?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[$," (",e.filter(z=>z.category===$).length,")"]},$))]})]})]}),b.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",b.length,")"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-yellow-200",children:b.map($=>a.jsxs("tr",{className:"hover:bg-yellow-100",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("a",{href:$.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",$.number]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-gray-700",children:$.resource_id})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:$.author_avatar,alt:$.author,className:"w-6 h-6 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-700",children:$.author})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:$.draft?a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):a.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},$.number))})]})})]}),B.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?a.jsx("button",{onClick:L,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):a.jsx("button",{onClick:()=>{j(""),C("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:B.map($=>a.jsx(r$,{skill:$,onEdit:R,onDelete:F},$.id))}),a.jsx(a$,{isOpen:m,onClose:()=>p(!1),onSuccess:U,skill:x,availableAgents:r,availableTools:i})]})}function s$(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState("all"),[l,u]=k.useState(null),[d,h]=k.useState(!1),[m,p]=k.useState(0);k.useEffect(()=>{x()},[i]);const x=async()=>{n(!0);try{const S=new URLSearchParams;i!=="all"&&S.set("source",i);const _=await de({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(_.conversations||[]),p(_.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{n(!1)}},v=async S=>{h(!0);try{const _=await de({url:`/api/conversations/${S}`,method:"GET"});u(_.conversation)}catch(_){console.error("Failed to fetch conversation detail:",_)}finally{h(!1)}},b=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},w=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=S=>{const _=new Date(S),O=new Date().getTime()-_.getTime(),j=Math.floor(O/(1e3*60*60)),P=Math.floor(O/(1e3*60*60*24));return j<1?"Just now":j<24?`${j}h ago`:P<7?`${P}d ago`:_.toLocaleDateString()};return r?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),a.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",m," total)"]})]}),a.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>a.jsx("button",{onClick:()=>o(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${i===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),a.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>a.jsx("div",{onClick:()=>v(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(S.source)}`,children:[b(S.source)," ",S.source||"unknown"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),a.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:y(S.lastUsedAt)})]})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&a.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[a.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(l.source)}`,children:[b(l.source)," ",l.source||"unknown"]}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),a.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,_)=>a.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&a.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&a.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},_)),l.history.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const $N={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},o$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function l$({result:e,onClick:t,onCopyLink:r}){const[n,i]=k.useState(!1),o=$N[e.source]||$N.notion,l=h=>{h.stopPropagation(),navigator.clipboard.writeText(e.url),i(!0),r==null||r(e.url),setTimeout(()=>i(!1),2e3)},u=h=>{h.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=h=>h?new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${o.bg} ${o.color}`,children:o.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500",children:o$[e.source]}),e.lastModified&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:n?a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?a.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):a.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const c$={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function u$(){const[e,t]=k.useState(""),[r,n]=k.useState(null),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState([]),[m,p]=k.useState(null),[x,v]=k.useState("");k.useEffect(()=>{const O=setTimeout(()=>{v(e)},300);return()=>clearTimeout(O)},[e]);const b=k.useCallback(async O=>{if(!O.trim()){n(null);return}o(!0),u(null);try{const j=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:O,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!j.ok)throw new Error("Search failed");const P=await j.json();n(P),P.results.length>0&&p(null)}catch(j){u(j instanceof Error?j.message:"Search failed")}finally{o(!1)}},[d]);k.useEffect(()=>{x&&b(x)},[x,b]);const w=async O=>{if(m)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:m,clickedResult:O.url,clickedSource:O.source})})}catch{}window.open(O.url,"_blank","noopener,noreferrer")},y=O=>{t(O)},S=async O=>{if(m)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:m,aiAnswerUseful:O})})}catch{}},_=O=>{h(j=>j.includes(O)?j.filter(P=>P!==O):[...j,O])},C=(r==null?void 0:r.sources.filter(O=>O.connected).map(O=>O.source))||[];return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),a.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",value:e,onChange:O=>t(O.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),i&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),C.length>0&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),C.map(O=>{var j;return a.jsxs("button",{onClick:()=>_(O),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(O)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[c$[O],r&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",((j=r.sources.find(P=>P.source===O))==null?void 0:j.count)||0,")"]})]},O)})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),r&&a.jsxs("div",{className:"space-y-6",children:[r.aiAnswer&&a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.aiAnswer}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),a.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[r.totalCount," result",r.totalCount!==1?"s":""," ","found"]}),r.responseTimeMs&&a.jsxs("span",{children:[(r.responseTimeMs/1e3).toFixed(2),"s"]})]}),r.results.length>0?a.jsx("div",{className:"space-y-3",children:r.results.map((O,j)=>a.jsx(l$,{result:O,onClick:w},`${O.source}-${O.id}-${j}`))}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),r.relatedQuestions&&r.relatedQuestions.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),a.jsx("div",{className:"space-y-2",children:r.relatedQuestions.map((O,j)=>a.jsxs("button",{onClick:()=>y(O),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O]},j))})]})]}),!r&&!i&&!e&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),a.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function d$(){const[e,t]=k.useState(null),[r,n]=k.useState(null),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(null);k.useEffect(()=>{m();const p=setInterval(m,3e4);return()=>clearInterval(p)},[]);const m=async()=>{try{const[p,x,v]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(p.ok&&t(await p.json()),x.ok&&n(await x.json()),v.ok){const b=await v.json();o(b.topOrganizations||[])}h(null)}catch{h("Failed to load dashboard data")}finally{u(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),a.jsx("button",{onClick:m,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Du,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),a.jsx(Du,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),a.jsx(Du,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),a.jsx(Du,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),a.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([p,x])=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:p}),a.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),a.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},p))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsx(f$,{status:(r==null?void 0:r.status)||"healthy"})]}),a.jsx("div",{className:"space-y-3",children:r==null?void 0:r.components.map(p=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:p.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[p.latency&&a.jsxs("span",{className:"text-xs text-gray-400",children:[p.latency,"ms"]}),a.jsx(h$,{status:p.status})]})]},p.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[i.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:p.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:p.plan})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",p.monthlySpend.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},p.id)),i.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([p,x])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:p})]},p))})]})]})}function Du({title:e,value:t,subtext:r,trend:n,trendLabel:i,icon:o,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:o}),n!==void 0&&a.jsxs("span",{className:`text-sm font-medium ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?"+":"",n,"%"]})]}),a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})}function f$({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:r,text:n,label:i}=t[e];return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r} ${n}`,children:i})}function h$({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function p$(){const[e,t]=k.useState([]),[r,n]=k.useState({total:0,page:1,pageSize:20,totalPages:0}),[i,o]=k.useState(!0),[l,u]=k.useState(null),[d,h]=k.useState(""),[m,p]=k.useState("all"),[x,v]=k.useState("all"),[b,w]=k.useState("createdAt"),[y,S]=k.useState("desc"),_=k.useCallback(async()=>{o(!0);try{const L=new URLSearchParams({page:r.page.toString(),limit:r.pageSize.toString(),sortBy:b,sortOrder:y});d&&L.append("search",d),m!=="all"&&L.append("status",m),x!=="all"&&L.append("plan",x);const R=await fetch(`/api/admin/organizations?${L}`,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch organizations");const F=await R.json();t(F.organizations||[]),n(U=>({...U,total:F.total||0,totalPages:Math.ceil((F.total||0)/U.pageSize)}))}catch(L){u(L instanceof Error?L.message:"Failed to load organizations")}finally{o(!1)}},[r.page,r.pageSize,d,m,x,b,y]);k.useEffect(()=>{_()},[_]);const C=L=>{b===L?S(y==="asc"?"desc":"asc"):(w(L),S("desc"))},O=async L=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${L}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");_()}catch(R){alert(R instanceof Error?R.message:"Failed to suspend organization")}},j=async L=>{try{if(!(await fetch(`/api/admin/organizations/${L}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");_()}catch(R){alert(R instanceof Error?R.message:"Failed to reactivate organization")}},P=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(L),E=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=L=>{switch(L.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:l}),a.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[r.total," total"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:L=>{h(L.target.value),n(R=>({...R,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),a.jsxs("select",{value:m,onChange:L=>{p(L.target.value),n(R=>({...R,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trial",children:"Trial"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"churned",children:"Churned"})]}),a.jsxs("select",{value:x,onChange:L=>{v(L.target.value),n(R=>({...R,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("button",{onClick:_,disabled:i,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:a.jsx("svg",{className:`w-5 h-5 ${i?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Organization",b==="name"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("userCount"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Users",b==="userCount"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("mrr"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["MRR",b==="mrr"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C("createdAt"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Created",b==="createdAt"&&a.jsx("span",{children:y==="asc"?"":""})]})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-500",children:L.slug})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${M(L.plan)}`,children:L.plan})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${T(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.userCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P(L.mrr)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(L.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/admin/organizations/${L.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),L.status==="active"?a.jsx("button",{onClick:()=>O(L.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):L.status==="suspended"?a.jsx("button",{onClick:()=>j(L.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},L.id))})]})}),r.totalPages>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(r.page-1)*r.pageSize+1," to"," ",Math.min(r.page*r.pageSize,r.total)," of"," ",r.total," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page-1})),disabled:r.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r.page," of ",r.totalPages]}),a.jsx("button",{onClick:()=>n(L=>({...L,page:L.page+1})),disabled:r.page===r.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function RC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=RC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=RC(e))&&(n&&(n+=" "),n+=t);return n}var Xp,DN;function hr(){if(DN)return Xp;DN=1;var e=Array.isArray;return Xp=e,Xp}var Qp,LN;function MC(){if(LN)return Qp;LN=1;var e=typeof Eu=="object"&&Eu&&Eu.Object===Object&&Eu;return Qp=e,Qp}var Jp,FN;function Nn(){if(FN)return Jp;FN=1;var e=MC(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Jp=r,Jp}var Zp,BN;function fc(){if(BN)return Zp;BN=1;var e=Nn(),t=e.Symbol;return Zp=t,Zp}var em,qN;function m$(){if(qN)return em;qN=1;var e=fc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var m=n.call(l);return h&&(u?l[i]=d:delete l[i]),m}return em=o,em}var tm,zN;function g$(){if(zN)return tm;zN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return tm=r,tm}var rm,UN;function Vn(){if(UN)return rm;UN=1;var e=fc(),t=m$(),r=g$(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return rm=l,rm}var nm,WN;function Yn(){if(WN)return nm;WN=1;function e(t){return t!=null&&typeof t=="object"}return nm=e,nm}var am,KN;function Js(){if(KN)return am;KN=1;var e=Vn(),t=Yn(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return am=n,am}var im,HN;function Vv(){if(HN)return im;HN=1;var e=hr(),t=Js(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return im=i,im}var sm,GN;function Ra(){if(GN)return sm;GN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return sm=e,sm}var om,VN;function Yv(){if(VN)return om;VN=1;var e=Vn(),t=Ra(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return om=l,om}var lm,YN;function x$(){if(YN)return lm;YN=1;var e=Nn(),t=e["__core-js_shared__"];return lm=t,lm}var cm,XN;function y$(){if(XN)return cm;XN=1;var e=x$(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return cm=r,cm}var um,QN;function IC(){if(QN)return um;QN=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return um=r,um}var dm,JN;function v$(){if(JN)return dm;JN=1;var e=Yv(),t=y$(),r=Ra(),n=IC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!r(x)||t(x))return!1;var v=e(x)?m:o;return v.test(n(x))}return dm=p,dm}var fm,ZN;function b$(){if(ZN)return fm;ZN=1;function e(t,r){return t==null?void 0:t[r]}return fm=e,fm}var hm,e2;function Oi(){if(e2)return hm;e2=1;var e=v$(),t=b$();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return hm=r,hm}var pm,t2;function pf(){if(t2)return pm;t2=1;var e=Oi(),t=e(Object,"create");return pm=t,pm}var mm,r2;function j$(){if(r2)return mm;r2=1;var e=pf();function t(){this.__data__=e?e(null):{},this.size=0}return mm=t,mm}var gm,n2;function w$(){if(n2)return gm;n2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return gm=e,gm}var xm,a2;function N$(){if(a2)return xm;a2=1;var e=pf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return xm=i,xm}var ym,i2;function S$(){if(i2)return ym;i2=1;var e=pf(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return ym=n,ym}var vm,s2;function O$(){if(s2)return vm;s2=1;var e=pf(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return vm=r,vm}var bm,o2;function k$(){if(o2)return bm;o2=1;var e=j$(),t=w$(),r=N$(),n=S$(),i=O$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,bm=o,bm}var jm,l2;function P$(){if(l2)return jm;l2=1;function e(){this.__data__=[],this.size=0}return jm=e,jm}var wm,c2;function Xv(){if(c2)return wm;c2=1;function e(t,r){return t===r||t!==t&&r!==r}return wm=e,wm}var Nm,u2;function mf(){if(u2)return Nm;u2=1;var e=Xv();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Nm=t,Nm}var Sm,d2;function A$(){if(d2)return Sm;d2=1;var e=mf(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Sm=n,Sm}var Om,f2;function _$(){if(f2)return Om;f2=1;var e=mf();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Om=t,Om}var km,h2;function C$(){if(h2)return km;h2=1;var e=mf();function t(r){return e(this.__data__,r)>-1}return km=t,km}var Pm,p2;function E$(){if(p2)return Pm;p2=1;var e=mf();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Pm=t,Pm}var Am,m2;function gf(){if(m2)return Am;m2=1;var e=P$(),t=A$(),r=_$(),n=C$(),i=E$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Am=o,Am}var _m,g2;function Qv(){if(g2)return _m;g2=1;var e=Oi(),t=Nn(),r=e(t,"Map");return _m=r,_m}var Cm,x2;function T$(){if(x2)return Cm;x2=1;var e=k$(),t=gf(),r=Qv();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Cm=n,Cm}var Em,y2;function R$(){if(y2)return Em;y2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Em=e,Em}var Tm,v2;function xf(){if(v2)return Tm;v2=1;var e=R$();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Tm=t,Tm}var Rm,b2;function M$(){if(b2)return Rm;b2=1;var e=xf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Rm=t,Rm}var Mm,j2;function I$(){if(j2)return Mm;j2=1;var e=xf();function t(r){return e(this,r).get(r)}return Mm=t,Mm}var Im,w2;function $$(){if(w2)return Im;w2=1;var e=xf();function t(r){return e(this,r).has(r)}return Im=t,Im}var $m,N2;function D$(){if(N2)return $m;N2=1;var e=xf();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return $m=t,$m}var Dm,S2;function Jv(){if(S2)return Dm;S2=1;var e=T$(),t=M$(),r=I$(),n=$$(),i=D$();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Dm=o,Dm}var Lm,O2;function $C(){if(O2)return Lm;O2=1;var e=Jv(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||e),o}return r.Cache=e,Lm=r,Lm}var Fm,k2;function L$(){if(k2)return Fm;k2=1;var e=$C(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return Fm=r,Fm}var Bm,P2;function F$(){if(P2)return Bm;P2=1;var e=L$(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,h){o.push(d?h.replace(r,"$1"):u||l)}),o});return Bm=n,Bm}var qm,A2;function Zv(){if(A2)return qm;A2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return qm=e,qm}var zm,_2;function B$(){if(_2)return zm;_2=1;var e=fc(),t=Zv(),r=hr(),n=Js(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return zm=l,zm}var Um,C2;function DC(){if(C2)return Um;C2=1;var e=B$();function t(r){return r==null?"":e(r)}return Um=t,Um}var Wm,E2;function LC(){if(E2)return Wm;E2=1;var e=hr(),t=Vv(),r=F$(),n=DC();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Wm=i,Wm}var Km,T2;function yf(){if(T2)return Km;T2=1;var e=Js();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Km=t,Km}var Hm,R2;function eb(){if(R2)return Hm;R2=1;var e=LC(),t=yf();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return Hm=r,Hm}var Gm,M2;function FC(){if(M2)return Gm;M2=1;var e=eb();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Gm=t,Gm}var q$=FC();const Nr=Xe(q$);var Vm,I2;function z$(){if(I2)return Vm;I2=1;function e(t){return t==null}return Vm=e,Vm}var U$=z$();const De=Xe(U$);var Ym,$2;function W$(){if($2)return Ym;$2=1;var e=Vn(),t=hr(),r=Yn(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return Ym=i,Ym}var K$=W$();const xi=Xe(K$);var H$=Yv();const Me=Xe(H$);var G$=Ra();const Zs=Xe(G$);var Xm={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function V$(){if(D2)return Ve;D2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var S=y.$$typeof;switch(S){case e:switch(y=y.type,y){case r:case i:case n:case h:case m:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case x:case p:case o:return y;default:return S}}case t:return S}}}return Ve.ContextConsumer=l,Ve.ContextProvider=o,Ve.Element=e,Ve.ForwardRef=d,Ve.Fragment=r,Ve.Lazy=x,Ve.Memo=p,Ve.Portal=t,Ve.Profiler=i,Ve.StrictMode=n,Ve.Suspense=h,Ve.SuspenseList=m,Ve.isAsyncMode=function(){return!1},Ve.isConcurrentMode=function(){return!1},Ve.isContextConsumer=function(y){return w(y)===l},Ve.isContextProvider=function(y){return w(y)===o},Ve.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ve.isForwardRef=function(y){return w(y)===d},Ve.isFragment=function(y){return w(y)===r},Ve.isLazy=function(y){return w(y)===x},Ve.isMemo=function(y){return w(y)===p},Ve.isPortal=function(y){return w(y)===t},Ve.isProfiler=function(y){return w(y)===i},Ve.isStrictMode=function(y){return w(y)===n},Ve.isSuspense=function(y){return w(y)===h},Ve.isSuspenseList=function(y){return w(y)===m},Ve.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===h||y===m||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===p||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},Ve.typeOf=w,Ve}var L2;function Y$(){return L2||(L2=1,Xm.exports=V$()),Xm.exports}var X$=Y$(),Qm,F2;function BC(){if(F2)return Qm;F2=1;var e=Vn(),t=Yn(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Qm=n,Qm}var Jm,B2;function Q$(){if(B2)return Jm;B2=1;var e=BC();function t(r){return e(r)&&r!=+r}return Jm=t,Jm}var J$=Q$();const hc=Xe(J$);var Z$=BC();const eD=Xe(Z$);var er=function(t){return t===0?0:t>0?1:-1},ni=function(t){return xi(t)&&t.indexOf("%")===t.length-1},me=function(t){return eD(t)&&!hc(t)},tD=function(t){return De(t)},_t=function(t){return me(t)||xi(t)},rD=0,eo=function(t){var r=++rD;return"".concat(t||"").concat(r)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&!xi(t))return n;var o;if(ni(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return hc(o)&&(o=n),i&&o>r&&(o=r),o},va=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},jr=function(t,r){return me(t)&&me(r)?function(n){return t+n*(r-t)}:function(){return r}};function ad(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Nr(n,t))===r})}var aD=function(t,r){return me(t)&&me(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}var iD=["viewBox","children"],sD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q2=["points","pathLength"],Zm={svg:iD,polygon:q2,polyline:q2},tb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],id=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Zs(n))return null;var i={};return Object.keys(n).forEach(function(o){tb.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},oD=function(t,r,n){return function(i){return t(r,n,i),null}},yi=function(t,r,n){if(!Zs(t)||hy(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];tb.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=oD(l,r,n))}),i},lD=["children"],cD=["children"];function z2(e,t){if(e==null)return{};var r=uD(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}var U2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},W2=null,eg=null,rb=function e(t){if(t===W2&&Array.isArray(eg))return eg;var r=[];return k.Children.forEach(t,function(n){De(n)||(X$.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),eg=r,W2=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return qn(i)}):n=[qn(t)],rb(e).forEach(function(i){var o=Nr(i,"type.displayName")||Nr(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function br(e,t){var r=Sr(e,t);return r&&r[0]}var K2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!me(n)||n<=0||!me(i)||i<=0)},dD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fD=function(t){return t&&t.type&&xi(t.type)&&dD.indexOf(t.type)>=0},hD=function(t){return t&&py(t)==="object"&&"clipDot"in t},pD=function(t,r,n,i){var o,l=(o=Zm==null?void 0:Zm[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Me(t)&&(i&&l.includes(r)||sD.includes(r))||n&&tb.includes(r)},_e=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!Zs(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;pD((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},my=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return H2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!H2(o,l))return!1}return!0},H2=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},i=n.children,o=z2(n,lD),l=r.props||{},u=l.children,d=z2(l,cD);return i&&u?ds(o,d)&&my(i,u):!i&&!u?ds(o,d):!1}return!1},G2=function(t,r){var n=[],i={};return rb(t).forEach(function(o,l){if(fD(o))n.push(o);else if(o){var u=qn(o.type),d=r[u]||{},h=d.handler,m=d.once;if(h&&(!m||!i[u])){var p=h(o,u,l);n.push(p),i[u]=!0}}}),n},mD=function(t){var r=t&&t.type;return r&&U2[r]?U2[r]:null},gD=function(t,r){return rb(r).indexOf(t)},xD=["children","width","height","viewBox","className","style","title","desc"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function yD(e,t){if(e==null)return{};var r=vD(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xy(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,h=yD(e,xD),m=i||{width:r,height:n,x:0,y:0},p=Le("recharts-surface",o);return Y.createElement("svg",gy({},_e(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Y.createElement("title",null,u),Y.createElement("desc",null,d),t)}var bD=["children","className"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function jD(e,t){if(e==null)return{};var r=wD(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var He=Y.forwardRef(function(e,t){var r=e.children,n=e.className,i=jD(e,bD),o=Le("recharts-layer",n);return Y.createElement("g",yy({className:o},_e(i,!0),{ref:t}),r)}),rn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},tg,V2;function ND(){if(V2)return tg;V2=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return tg=e,tg}var rg,Y2;function SD(){if(Y2)return rg;Y2=1;var e=ND();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return rg=t,rg}var ng,X2;function qC(){if(X2)return ng;X2=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(h){return u.test(h)}return ng=d,ng}var ag,Q2;function OD(){if(Q2)return ag;Q2=1;function e(t){return t.split("")}return ag=e,ag}var ig,J2;function kD(){if(J2)return ig;J2=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=h+"?",w="["+o+"]?",y="(?:"+v+"(?:"+[m,p,x].join("|")+")"+w+b+")*",S=w+b+y,_="(?:"+[m+u+"?",u,p,x,l].join("|")+")",C=RegExp(d+"(?="+d+")|"+_+S,"g");function O(j){return j.match(C)||[]}return ig=O,ig}var sg,Z2;function PD(){if(Z2)return sg;Z2=1;var e=OD(),t=qC(),r=kD();function n(i){return t(i)?r(i):e(i)}return sg=n,sg}var og,eS;function AD(){if(eS)return og;eS=1;var e=SD(),t=qC(),r=PD(),n=DC();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?e(u,1).join(""):l.slice(1);return d[o]()+h}}return og=i,og}var lg,tS;function _D(){if(tS)return lg;tS=1;var e=AD(),t=e("toUpperCase");return lg=t,lg}var CD=_D();const vf=Xe(CD);function nt(e){return function(){return e}}const zC=Math.cos,sd=Math.sin,an=Math.sqrt,od=Math.PI,bf=2*od,vy=Math.PI,by=2*vy,Za=1e-6,ED=by-Za;function UC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function TD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UC;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class RD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UC:TD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,h=i-r,m=l-t,p=u-r,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Za)if(!(Math.abs(p*d-h*m)>Za)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,b=i-u,w=d*d+h*h,y=v*v+b*b,S=Math.sqrt(w),_=Math.sqrt(x),C=o*Math.tan((vy-Math.acos((w+x-y)/(2*S*_)))/2),O=C/_,j=C/S;Math.abs(O-1)>Za&&this._append`L${t+O*m},${r+O*p}`,this._append`A${o},${o},0,0,${+(p*v>m*b)},${this._x1=t+j*d},${this._y1=r+j*h}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=t+u,m=r+d,p=1^l,x=l?i-o:o-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Za||Math.abs(this._y1-m)>Za)&&this._append`L${h},${m}`,n&&(x<0&&(x=x%by+by),x>ED?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:x>Za&&this._append`A${n},${n},0,${+(x>=vy)},${p},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function nb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RD(t)}function ab(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WC(e){this._context=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jf(e){return new WC(e)}function KC(e){return e[0]}function HC(e){return e[1]}function GC(e,t){var r=nt(!0),n=null,i=jf,o=null,l=nb(u);e=typeof e=="function"?e:e===void 0?KC:nt(e),t=typeof t=="function"?t:t===void 0?HC:nt(t);function u(d){var h,m=(d=ab(d)).length,p,x=!1,v;for(n==null&&(o=i(v=l())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(p,h,d),+t(p,h,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Lu(e,t,r){var n=null,i=nt(!0),o=null,l=jf,u=null,d=nb(h);e=typeof e=="function"?e:e===void 0?KC:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?HC:nt(+r);function h(p){var x,v,b,w=(p=ab(p)).length,y,S=!1,_,C=new Array(w),O=new Array(w);for(o==null&&(u=l(_=d())),x=0;x<=w;++x){if(!(x<w&&i(y=p[x],x,p))===S)if(S=!S)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=x-1;b>=v;--b)u.point(C[b],O[b]);u.lineEnd(),u.areaEnd()}S&&(C[x]=+e(y,x,p),O[x]=+t(y,x,p),u.point(n?+n(y,x,p):C[x],r?+r(y,x,p):O[x]))}if(_)return u=null,_+""||null}function m(){return GC().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:nt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:nt(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:nt(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class VC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MD(e){return new VC(e,!0)}function ID(e){return new VC(e,!1)}const ib={draw(e,t){const r=an(t/od);e.moveTo(r,0),e.arc(0,0,r,0,bf)}},$D={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YC=an(1/3),DD=YC*2,LD={draw(e,t){const r=an(t/DD),n=r*YC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FD={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},BD=.8908130915292852,XC=sd(od/10)/sd(7*od/10),qD=sd(bf/10)*XC,zD=-zC(bf/10)*XC,UD={draw(e,t){const r=an(t*BD),n=qD*r,i=zD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=bf*o/5,u=zC(l),d=sd(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},cg=an(3),WD={draw(e,t){const r=-an(t/(cg*3));e.moveTo(0,r*2),e.lineTo(-cg*r,-r),e.lineTo(cg*r,-r),e.closePath()}},Er=-.5,Tr=an(3)/2,jy=1/an(12),KD=(jy/2+1)*3,HD={draw(e,t){const r=an(t/KD),n=r/2,i=r*jy,o=n,l=r*jy+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Er*n-Tr*i,Tr*n+Er*i),e.lineTo(Er*o-Tr*l,Tr*o+Er*l),e.lineTo(Er*u-Tr*d,Tr*u+Er*d),e.lineTo(Er*n+Tr*i,Er*i-Tr*n),e.lineTo(Er*o+Tr*l,Er*l-Tr*o),e.lineTo(Er*u+Tr*d,Er*d-Tr*u),e.closePath()}};function GD(e,t){let r=null,n=nb(i);e=typeof e=="function"?e:nt(e||ib),t=typeof t=="function"?t:nt(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:nt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:nt(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function ld(){}function cd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QC(e){this._context=e}QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VD(e){return new QC(e)}function JC(e){this._context=e}JC.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YD(e){return new JC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XD(e){return new ZC(e)}function eE(e){this._context=e}eE.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QD(e){return new eE(e)}function rS(e){return e<0?-1:1}function nS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(rS(o)+rS(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function aS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ug(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function ud(e){this._context=e}ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ug(this,this._t0,aS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ug(this,aS(this,r=nS(this,e,t)),r);break;default:ug(this,this._t0,r=nS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tE(e){this._context=new rE(e)}(tE.prototype=Object.create(ud.prototype)).point=function(e,t){ud.prototype.point.call(this,t,e)};function rE(e){this._context=e}rE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function JD(e){return new ud(e)}function ZD(e){return new tE(e)}function nE(e){this._context=e}nE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iS(e),i=iS(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iS(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function e8(e){return new nE(e)}function wf(e,t){this._context=e,this._t=t}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function t8(e){return new wf(e,.5)}function r8(e){return new wf(e,0)}function n8(e){return new wf(e,1)}function Ns(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function wy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function a8(e,t){return e[t]}function i8(e){const t=[];return t.key=e,t}function s8(){var e=nt([]),t=wy,r=Ns,n=a8;function i(o){var l=Array.from(e.apply(this,arguments),i8),u,d=l.length,h=-1,m;for(const p of o)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,o)]).data=p;for(u=0,m=ab(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:nt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:nt(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?wy:typeof o=="function"?o:nt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Ns,i):r},i}function o8(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Ns(e,t)}}function l8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ns(e,t)}}function c8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,h=0;u<l;++u){for(var m=e[t[u]],p=m[n][1]||0,x=m[n-1][1]||0,v=(p-x)/2,b=0;b<u;++b){var w=e[t[b]],y=w[n][1]||0,S=w[n-1][1]||0;v+=y-S}d+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Ns(e,t)}}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}var u8=["type","size","sizeType"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return t=f8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return Nl(t)=="symbol"?t:t+""}function h8(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e,t){if(e==null)return{};var r=m8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aE={symbolCircle:ib,symbolCross:$D,symbolDiamond:LD,symbolSquare:FD,symbolStar:UD,symbolTriangle:WD,symbolWye:HD},g8=Math.PI/180,x8=function(t){var r="symbol".concat(vf(t));return aE[r]||ib},y8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*g8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},v8=function(t,r){aE["symbol".concat(vf(t))]=r},sb=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=p8(t,u8),h=oS(oS({},d),{},{type:n,size:o,sizeType:u}),m=function(){var y=x8(n),S=GD().type(y).size(y8(o,u,n));return S()},p=h.className,x=h.cx,v=h.cy,b=_e(h,!0);return x===+x&&v===+v&&o===+o?Y.createElement("path",Ny({},b,{className:Le("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:m()})):null};sb.registerSymbol=v8;function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sE(n.key),n)}}function N8(e,t,r){return t&&w8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8(e,t,r){return t=dd(t),O8(e,iE()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function O8(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8(e)}function k8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iE=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function P8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oy(e,t)}function Oy(e,t){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Oy(e,t)}function Sl(e,t,r){return t=sE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sE(e){var t=A8(e,"string");return Ss(t)=="symbol"?t:t+""}function A8(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rr=32,ob=(function(e){function t(){return j8(this,t),S8(this,t,arguments)}return P8(t,e),N8(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Rr/2,l=Rr/6,u=Rr/3,d=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Rr,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var h=b8({},n);return delete h.legendIcon,Y.cloneElement(n.legendIcon,h)}return Y.createElement(sb,{fill:d,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,h=i.inactiveColor,m={x:0,y:0,width:Rr,height:Rr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,b){var w=v.formatter||d,y=Le(Sl(Sl({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Me(v.value)?null:v.value;rn(!Me(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=v.inactive?h:v.color;return Y.createElement("li",Sy({className:y,style:p,key:"legend-item-".concat(b)},yi(n.props,v,b)),Y.createElement(xy,{width:l,height:l,viewBox:m,style:x},n.renderIcon(v)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(S,v,b):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(k.PureComponent);Sl(ob,"displayName","Legend");Sl(ob,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dg,cS;function _8(){if(cS)return dg;cS=1;var e=gf();function t(){this.__data__=new e,this.size=0}return dg=t,dg}var fg,uS;function C8(){if(uS)return fg;uS=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return fg=e,fg}var hg,dS;function E8(){if(dS)return hg;dS=1;function e(t){return this.__data__.get(t)}return hg=e,hg}var pg,fS;function T8(){if(fS)return pg;fS=1;function e(t){return this.__data__.has(t)}return pg=e,pg}var mg,hS;function R8(){if(hS)return mg;hS=1;var e=gf(),t=Qv(),r=Jv(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return mg=i,mg}var gg,pS;function oE(){if(pS)return gg;pS=1;var e=gf(),t=_8(),r=C8(),n=E8(),i=T8(),o=R8();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,gg=l,gg}var xg,mS;function M8(){if(mS)return xg;mS=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return xg=t,xg}var yg,gS;function I8(){if(gS)return yg;gS=1;function e(t){return this.__data__.has(t)}return yg=e,yg}var vg,xS;function lE(){if(xS)return vg;xS=1;var e=Jv(),t=M8(),r=I8();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,vg=n,vg}var bg,yS;function cE(){if(yS)return bg;yS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return bg=e,bg}var jg,vS;function uE(){if(vS)return jg;vS=1;function e(t,r){return t.has(r)}return jg=e,jg}var wg,bS;function dE(){if(bS)return wg;bS=1;var e=lE(),t=cE(),r=uE(),n=1,i=2;function o(l,u,d,h,m,p){var x=d&n,v=l.length,b=u.length;if(v!=b&&!(x&&b>v))return!1;var w=p.get(l),y=p.get(u);if(w&&y)return w==u&&y==l;var S=-1,_=!0,C=d&i?new e:void 0;for(p.set(l,u),p.set(u,l);++S<v;){var O=l[S],j=u[S];if(h)var P=x?h(j,O,S,u,l,p):h(O,j,S,l,u,p);if(P!==void 0){if(P)continue;_=!1;break}if(C){if(!t(u,function(E,T){if(!r(C,T)&&(O===E||m(O,E,d,h,p)))return C.push(T)})){_=!1;break}}else if(!(O===j||m(O,j,d,h,p))){_=!1;break}}return p.delete(l),p.delete(u),_}return wg=o,wg}var Ng,jS;function $8(){if(jS)return Ng;jS=1;var e=Nn(),t=e.Uint8Array;return Ng=t,Ng}var Sg,wS;function D8(){if(wS)return Sg;wS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return Sg=e,Sg}var Og,NS;function lb(){if(NS)return Og;NS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Og=e,Og}var kg,SS;function L8(){if(SS)return kg;SS=1;var e=fc(),t=$8(),r=Xv(),n=dE(),i=D8(),o=lb(),l=1,u=2,d="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",b="[object Set]",w="[object String]",y="[object Symbol]",S="[object ArrayBuffer]",_="[object DataView]",C=e?e.prototype:void 0,O=C?C.valueOf:void 0;function j(P,E,T,M,L,R,F){switch(T){case _:if(P.byteLength!=E.byteLength||P.byteOffset!=E.byteOffset)return!1;P=P.buffer,E=E.buffer;case S:return!(P.byteLength!=E.byteLength||!R(new t(P),new t(E)));case d:case h:case x:return r(+P,+E);case m:return P.name==E.name&&P.message==E.message;case v:case w:return P==E+"";case p:var U=i;case b:var W=M&l;if(U||(U=o),P.size!=E.size&&!W)return!1;var B=F.get(P);if(B)return B==E;M|=u,F.set(P,E);var $=n(U(P),U(E),M,L,R,F);return F.delete(P),$;case y:if(O)return O.call(P)==O.call(E)}return!1}return kg=j,kg}var Pg,OS;function fE(){if(OS)return Pg;OS=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return Pg=e,Pg}var Ag,kS;function F8(){if(kS)return Ag;kS=1;var e=fE(),t=hr();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return Ag=r,Ag}var _g,PS;function B8(){if(PS)return _g;PS=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return _g=e,_g}var Cg,AS;function q8(){if(AS)return Cg;AS=1;function e(){return[]}return Cg=e,Cg}var Eg,_S;function z8(){if(_S)return Eg;_S=1;var e=B8(),t=q8(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return Eg=o,Eg}var Tg,CS;function U8(){if(CS)return Tg;CS=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Tg=e,Tg}var Rg,ES;function W8(){if(ES)return Rg;ES=1;var e=Vn(),t=Yn(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Rg=n,Rg}var Mg,TS;function cb(){if(TS)return Mg;TS=1;var e=W8(),t=Yn(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return Mg=o,Mg}var cl={exports:{}},Ig,RS;function K8(){if(RS)return Ig;RS=1;function e(){return!1}return Ig=e,Ig}cl.exports;var MS;function hE(){return MS||(MS=1,(function(e,t){var r=Nn(),n=K8(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;e.exports=h})(cl,cl.exports)),cl.exports}var $g,IS;function ub(){if(IS)return $g;IS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return $g=r,$g}var Dg,$S;function db(){if($S)return Dg;$S=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Dg=t,Dg}var Lg,DS;function H8(){if(DS)return Lg;DS=1;var e=Vn(),t=db(),r=Yn(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",b="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",R={};R[_]=R[C]=R[O]=R[j]=R[P]=R[E]=R[T]=R[M]=R[L]=!0,R[n]=R[i]=R[y]=R[o]=R[S]=R[l]=R[u]=R[d]=R[h]=R[m]=R[p]=R[x]=R[v]=R[b]=R[w]=!1;function F(U){return r(U)&&t(U.length)&&!!R[e(U)]}return Lg=F,Lg}var Fg,LS;function pE(){if(LS)return Fg;LS=1;function e(t){return function(r){return t(r)}}return Fg=e,Fg}var ul={exports:{}};ul.exports;var FS;function G8(){return FS||(FS=1,(function(e,t){var r=MC(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(ul,ul.exports)),ul.exports}var Bg,BS;function mE(){if(BS)return Bg;BS=1;var e=H8(),t=pE(),r=G8(),n=r&&r.isTypedArray,i=n?t(n):e;return Bg=i,Bg}var qg,qS;function V8(){if(qS)return qg;qS=1;var e=U8(),t=cb(),r=hr(),n=hE(),i=ub(),o=mE(),l=Object.prototype,u=l.hasOwnProperty;function d(h,m){var p=r(h),x=!p&&t(h),v=!p&&!x&&n(h),b=!p&&!x&&!v&&o(h),w=p||x||v||b,y=w?e(h.length,String):[],S=y.length;for(var _ in h)(m||u.call(h,_))&&!(w&&(_=="length"||v&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,S)))&&y.push(_);return y}return qg=d,qg}var zg,zS;function Y8(){if(zS)return zg;zS=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return zg=t,zg}var Ug,US;function gE(){if(US)return Ug;US=1;function e(t,r){return function(n){return t(r(n))}}return Ug=e,Ug}var Wg,WS;function X8(){if(WS)return Wg;WS=1;var e=gE(),t=e(Object.keys,Object);return Wg=t,Wg}var Kg,KS;function Q8(){if(KS)return Kg;KS=1;var e=Y8(),t=X8(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return Kg=i,Kg}var Hg,HS;function pc(){if(HS)return Hg;HS=1;var e=Yv(),t=db();function r(n){return n!=null&&t(n.length)&&!e(n)}return Hg=r,Hg}var Gg,GS;function Nf(){if(GS)return Gg;GS=1;var e=V8(),t=Q8(),r=pc();function n(i){return r(i)?e(i):t(i)}return Gg=n,Gg}var Vg,VS;function J8(){if(VS)return Vg;VS=1;var e=F8(),t=z8(),r=Nf();function n(i){return e(i,r,t)}return Vg=n,Vg}var Yg,YS;function Z8(){if(YS)return Yg;YS=1;var e=J8(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,h,m){var p=u&t,x=e(o),v=x.length,b=e(l),w=b.length;if(v!=w&&!p)return!1;for(var y=v;y--;){var S=x[y];if(!(p?S in l:n.call(l,S)))return!1}var _=m.get(o),C=m.get(l);if(_&&C)return _==l&&C==o;var O=!0;m.set(o,l),m.set(l,o);for(var j=p;++y<v;){S=x[y];var P=o[S],E=l[S];if(d)var T=p?d(E,P,S,l,o,m):d(P,E,S,o,l,m);if(!(T===void 0?P===E||h(P,E,u,d,m):T)){O=!1;break}j||(j=S=="constructor")}if(O&&!j){var M=o.constructor,L=l.constructor;M!=L&&"constructor"in o&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(O=!1)}return m.delete(o),m.delete(l),O}return Yg=i,Yg}var Xg,XS;function eL(){if(XS)return Xg;XS=1;var e=Oi(),t=Nn(),r=e(t,"DataView");return Xg=r,Xg}var Qg,QS;function tL(){if(QS)return Qg;QS=1;var e=Oi(),t=Nn(),r=e(t,"Promise");return Qg=r,Qg}var Jg,JS;function xE(){if(JS)return Jg;JS=1;var e=Oi(),t=Nn(),r=e(t,"Set");return Jg=r,Jg}var Zg,ZS;function rL(){if(ZS)return Zg;ZS=1;var e=Oi(),t=Nn(),r=e(t,"WeakMap");return Zg=r,Zg}var ex,eO;function nL(){if(eO)return ex;eO=1;var e=eL(),t=Qv(),r=tL(),n=xE(),i=rL(),o=Vn(),l=IC(),u="[object Map]",d="[object Object]",h="[object Promise]",m="[object Set]",p="[object WeakMap]",x="[object DataView]",v=l(e),b=l(t),w=l(r),y=l(n),S=l(i),_=o;return(e&&_(new e(new ArrayBuffer(1)))!=x||t&&_(new t)!=u||r&&_(r.resolve())!=h||n&&_(new n)!=m||i&&_(new i)!=p)&&(_=function(C){var O=o(C),j=O==d?C.constructor:void 0,P=j?l(j):"";if(P)switch(P){case v:return x;case b:return u;case w:return h;case y:return m;case S:return p}return O}),ex=_,ex}var tx,tO;function aL(){if(tO)return tx;tO=1;var e=oE(),t=dE(),r=L8(),n=Z8(),i=nL(),o=hr(),l=hE(),u=mE(),d=1,h="[object Arguments]",m="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function b(w,y,S,_,C,O){var j=o(w),P=o(y),E=j?m:i(w),T=P?m:i(y);E=E==h?p:E,T=T==h?p:T;var M=E==p,L=T==p,R=E==T;if(R&&l(w)){if(!l(y))return!1;j=!0,M=!1}if(R&&!M)return O||(O=new e),j||u(w)?t(w,y,S,_,C,O):r(w,y,E,S,_,C,O);if(!(S&d)){var F=M&&v.call(w,"__wrapped__"),U=L&&v.call(y,"__wrapped__");if(F||U){var W=F?w.value():w,B=U?y.value():y;return O||(O=new e),C(W,B,S,_,O)}}return R?(O||(O=new e),n(w,y,S,_,C,O)):!1}return tx=b,tx}var rx,rO;function fb(){if(rO)return rx;rO=1;var e=aL(),t=Yn();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return rx=r,rx}var nx,nO;function iL(){if(nO)return nx;nO=1;var e=oE(),t=fb(),r=1,n=2;function i(o,l,u,d){var h=u.length,m=h,p=!d;if(o==null)return!m;for(o=Object(o);h--;){var x=u[h];if(p&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++h<m;){x=u[h];var v=x[0],b=o[v],w=x[1];if(p&&x[2]){if(b===void 0&&!(v in o))return!1}else{var y=new e;if(d)var S=d(b,w,v,o,l,y);if(!(S===void 0?t(w,b,r|n,d,y):S))return!1}}return!0}return nx=i,nx}var ax,aO;function yE(){if(aO)return ax;aO=1;var e=Ra();function t(r){return r===r&&!e(r)}return ax=t,ax}var ix,iO;function sL(){if(iO)return ix;iO=1;var e=yE(),t=Nf();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return ix=r,ix}var sx,sO;function vE(){if(sO)return sx;sO=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return sx=e,sx}var ox,oO;function oL(){if(oO)return ox;oO=1;var e=iL(),t=sL(),r=vE();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return ox=n,ox}var lx,lO;function lL(){if(lO)return lx;lO=1;function e(t,r){return t!=null&&r in Object(t)}return lx=e,lx}var cx,cO;function cL(){if(cO)return cx;cO=1;var e=LC(),t=cb(),r=hr(),n=ub(),i=db(),o=yf();function l(u,d,h){d=e(d,u);for(var m=-1,p=d.length,x=!1;++m<p;){var v=o(d[m]);if(!(x=u!=null&&h(u,v)))break;u=u[v]}return x||++m!=p?x:(p=u==null?0:u.length,!!p&&i(p)&&n(v,p)&&(r(u)||t(u)))}return cx=l,cx}var ux,uO;function uL(){if(uO)return ux;uO=1;var e=lL(),t=cL();function r(n,i){return n!=null&&t(n,i,e)}return ux=r,ux}var dx,dO;function dL(){if(dO)return dx;dO=1;var e=fb(),t=FC(),r=uL(),n=Vv(),i=yE(),o=vE(),l=yf(),u=1,d=2;function h(m,p){return n(m)&&i(p)?o(l(m),p):function(x){var v=t(x,m);return v===void 0&&v===p?r(x,m):e(p,v,u|d)}}return dx=h,dx}var fx,fO;function to(){if(fO)return fx;fO=1;function e(t){return t}return fx=e,fx}var hx,hO;function fL(){if(hO)return hx;hO=1;function e(t){return function(r){return r==null?void 0:r[t]}}return hx=e,hx}var px,pO;function hL(){if(pO)return px;pO=1;var e=eb();function t(r){return function(n){return e(n,r)}}return px=t,px}var mx,mO;function pL(){if(mO)return mx;mO=1;var e=fL(),t=hL(),r=Vv(),n=yf();function i(o){return r(o)?e(n(o)):t(o)}return mx=i,mx}var gx,gO;function Sn(){if(gO)return gx;gO=1;var e=oL(),t=dL(),r=to(),n=hr(),i=pL();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return gx=o,gx}var xx,xO;function bE(){if(xO)return xx;xO=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return xx=e,xx}var yx,yO;function mL(){if(yO)return yx;yO=1;function e(t){return t!==t}return yx=e,yx}var vx,vO;function gL(){if(vO)return vx;vO=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return vx=e,vx}var bx,bO;function xL(){if(bO)return bx;bO=1;var e=bE(),t=mL(),r=gL();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return bx=n,bx}var jx,jO;function yL(){if(jO)return jx;jO=1;var e=xL();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return jx=t,jx}var wx,wO;function vL(){if(wO)return wx;wO=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return wx=e,wx}var Nx,NO;function bL(){if(NO)return Nx;NO=1;function e(){}return Nx=e,Nx}var Sx,SO;function jL(){if(SO)return Sx;SO=1;var e=xE(),t=bL(),r=lb(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Sx=i,Sx}var Ox,OO;function wL(){if(OO)return Ox;OO=1;var e=lE(),t=yL(),r=vL(),n=uE(),i=jL(),o=lb(),l=200;function u(d,h,m){var p=-1,x=t,v=d.length,b=!0,w=[],y=w;if(m)b=!1,x=r;else if(v>=l){var S=h?null:i(d);if(S)return o(S);b=!1,x=n,y=new e}else y=h?[]:w;e:for(;++p<v;){var _=d[p],C=h?h(_):_;if(_=m||_!==0?_:0,b&&C===C){for(var O=y.length;O--;)if(y[O]===C)continue e;h&&y.push(C),w.push(_)}else x(y,C,m)||(y!==w&&y.push(C),w.push(_))}return w}return Ox=u,Ox}var kx,kO;function NL(){if(kO)return kx;kO=1;var e=Sn(),t=wL();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return kx=r,kx}var SL=NL();const PO=Xe(SL);function jE(e,t,r){return t===!0?PO(e,r):Me(t)?PO(e,t):e}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}var OL=["ref"];function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NE(n.key),n)}}function PL(e,t,r){return t&&_O(e.prototype,t),r&&_O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AL(e,t,r){return t=fd(t),_L(e,wE()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function _L(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CL(e)}function CL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wE=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function EL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ky(e,t)}function Sf(e,t,r){return t=NE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NE(e){var t=TL(e,"string");return Os(t)=="symbol"?t:t+""}function TL(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RL(e,t){if(e==null)return{};var r=ML(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ML(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IL(e){return e.value}function $L(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var r=RL(t,OL);return Y.createElement(ob,r)}var CO=1,_a=(function(e){function t(){var r;kL(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=AL(this,t,[].concat(i)),Sf(r,"lastBoundingBox",{width:-1,height:-1}),r}return EL(t,e),PL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>CO||Math.abs(i.height-this.lastBoundingBox.height)>CO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,h=i.chartWidth,m=i.chartHeight,p,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var b=this.getBBoxSnapshot();x={top:((m||0)-b.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Rn(Rn({},p),x)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,m=i.payload,p=Rn(Rn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},$L(o,Rn(Rn({},this.props),{},{payload:jE(m,h,IL)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Rn(Rn({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&me(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);Sf(_a,"displayName","Legend");Sf(_a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Px,EO;function DL(){if(EO)return Px;EO=1;var e=fc(),t=cb(),r=hr(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return Px=i,Px}var Ax,TO;function SE(){if(TO)return Ax;TO=1;var e=fE(),t=DL();function r(n,i,o,l,u){var d=-1,h=n.length;for(o||(o=t),u||(u=[]);++d<h;){var m=n[d];i>0&&o(m)?i>1?r(m,i-1,o,l,u):e(u,m):l||(u[u.length]=m)}return u}return Ax=r,Ax}var _x,RO;function LL(){if(RO)return _x;RO=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var h=u[t?d:++o];if(n(l[h],h,l)===!1)break}return r}}return _x=e,_x}var Cx,MO;function FL(){if(MO)return Cx;MO=1;var e=LL(),t=e();return Cx=t,Cx}var Ex,IO;function OE(){if(IO)return Ex;IO=1;var e=FL(),t=Nf();function r(n,i){return n&&e(n,i,t)}return Ex=r,Ex}var Tx,$O;function BL(){if($O)return Tx;$O=1;var e=pc();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Tx=t,Tx}var Rx,DO;function hb(){if(DO)return Rx;DO=1;var e=OE(),t=BL(),r=t(e);return Rx=r,Rx}var Mx,LO;function kE(){if(LO)return Mx;LO=1;var e=hb(),t=pc();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,h){l[++o]=i(u,d,h)}),l}return Mx=r,Mx}var Ix,FO;function qL(){if(FO)return Ix;FO=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Ix=e,Ix}var $x,BO;function zL(){if(BO)return $x;BO=1;var e=Js();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,h=n===null,m=n===n,p=e(n);if(!h&&!p&&!u&&r>n||u&&d&&m&&!h&&!p||o&&d&&m||!i&&m||!l)return 1;if(!o&&!u&&!p&&r<n||p&&i&&l&&!o&&!u||h&&i&&l||!d&&l||!m)return-1}return 0}return $x=t,$x}var Dx,qO;function UL(){if(qO)return Dx;qO=1;var e=zL();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,h=i.length;++o<d;){var m=e(l[o],u[o]);if(m){if(o>=h)return m;var p=i[o];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Dx=t,Dx}var Lx,zO;function WL(){if(zO)return Lx;zO=1;var e=Zv(),t=eb(),r=Sn(),n=kE(),i=qL(),o=pE(),l=UL(),u=to(),d=hr();function h(m,p,x){p.length?p=e(p,function(w){return d(w)?function(y){return t(y,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=e(p,o(r));var b=n(m,function(w,y,S){var _=e(p,function(C){return C(w)});return{criteria:_,index:++v,value:w}});return i(b,function(w,y){return l(w,y,x)})}return Lx=h,Lx}var Fx,UO;function KL(){if(UO)return Fx;UO=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Fx=e,Fx}var Bx,WO;function HL(){if(WO)return Bx;WO=1;var e=KL(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),h=Array(d);++u<d;)h[u]=l[i+u];u=-1;for(var m=Array(i+1);++u<i;)m[u]=l[u];return m[i]=o(h),e(n,this,m)}}return Bx=r,Bx}var qx,KO;function GL(){if(KO)return qx;KO=1;function e(t){return function(){return t}}return qx=e,qx}var zx,HO;function PE(){if(HO)return zx;HO=1;var e=Oi(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return zx=t,zx}var Ux,GO;function VL(){if(GO)return Ux;GO=1;var e=GL(),t=PE(),r=to(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Ux=n,Ux}var Wx,VO;function YL(){if(VO)return Wx;VO=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Wx=n,Wx}var Kx,YO;function XL(){if(YO)return Kx;YO=1;var e=VL(),t=YL(),r=t(e);return Kx=r,Kx}var Hx,XO;function QL(){if(XO)return Hx;XO=1;var e=to(),t=HL(),r=XL();function n(i,o){return r(t(i,o,e),i+"")}return Hx=n,Hx}var Gx,QO;function Of(){if(QO)return Gx;QO=1;var e=Xv(),t=pc(),r=ub(),n=Ra();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Gx=i,Gx}var Vx,JO;function JL(){if(JO)return Vx;JO=1;var e=SE(),t=WL(),r=QL(),n=Of(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return Vx=i,Vx}var ZL=JL();const pb=Xe(ZL);function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function eF(e,t){return aF(e)||nF(e,t)||rF(e,t)||tF()}function tF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,t){if(e){if(typeof e=="string")return ZO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(e,t)}}function ZO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function aF(e){if(Array.isArray(e))return e}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){iF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iF(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=oF(e,"string");return Ol(t)=="symbol"?t:t+""}function oF(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lF(e){return Array.isArray(e)&&_t(e[0])&&_t(e[1])?e.join(" ~ "):e}var cF=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,h=d===void 0?{}:d,m=t.payload,p=t.formatter,x=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,w=t.label,y=t.labelFormatter,S=t.accessibilityLayer,_=S===void 0?!1:S,C=function(){if(m&&m.length){var F={padding:0,margin:0},U=(x?pb(m,x):m).map(function(W,B){if(W.type==="none")return null;var $=Yx({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),z=W.formatter||p||lF,V=W.value,G=W.name,D=V,q=G;if(z&&D!=null&&q!=null){var H=z(V,G,W,B,m);if(Array.isArray(H)){var X=eF(H,2);D=X[0],q=X[1]}else D=H}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},_t(q)?Y.createElement("span",{className:"recharts-tooltip-item-name"},q):null,_t(q)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},D),Y.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:F},U)}return null},O=Yx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=Yx({margin:0},h),P=!De(w),E=P?w:"",T=Le("recharts-default-tooltip",v),M=Le("recharts-tooltip-label",b);P&&y&&m!==void 0&&m!==null&&(E=y(w,m));var L=_?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",Py({className:T,style:O},L),Y.createElement("p",{className:M,style:j},Y.isValidElement(E)?E:"".concat(E)),C())};function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Fu(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return kl(t)=="symbol"?t:t+""}function dF(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo="recharts-tooltip-wrapper",fF={visibility:"hidden"};function hF(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Le(Jo,Fu(Fu(Fu(Fu({},"".concat(Jo,"-right"),me(r)&&t&&me(t.x)&&r>=t.x),"".concat(Jo,"-left"),me(r)&&t&&me(t.x)&&r<t.x),"".concat(Jo,"-bottom"),me(n)&&t&&me(t.y)&&n>=t.y),"".concat(Jo,"-top"),me(n)&&t&&me(t.y)&&n<t.y))}function tk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,h=e.viewBoxDimension;if(o&&me(o[n]))return o[n];var m=r[n]-u-i,p=r[n]+i;if(t[n])return l[n]?m:p;if(l[n]){var x=m,v=d[n];return x<v?Math.max(p,d[n]):Math.max(m,d[n])}var b=p+u,w=d[n]+h;return b>w?Math.max(m,d[n]):Math.max(p,d[n])}function pF(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,h,m,p;return l.height>0&&l.width>0&&r?(m=tk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=tk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=pF({translateX:m,translateY:p,useTranslate3d:u})):h=fF,{cssProperties:h,cssClasses:hF({translateX:m,translateY:p,coordinate:r})}}function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){_y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_E(n.key),n)}}function yF(e,t,r){return t&&xF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vF(e,t,r){return t=hd(t),bF(e,AE()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function bF(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jF(e)}function jF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AE=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function wF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ay(e,t)}function _y(e,t,r){return t=_E(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _E(e){var t=NF(e,"string");return ks(t)=="symbol"?t:t+""}function NF(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ak=1,SF=(function(e){function t(){var r;gF(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=vF(this,t,[].concat(i)),_y(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_y(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),r}return wF(t,e),yF(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ak||Math.abs(n.height-this.state.lastBoundingBox.height)>ak)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.children,m=i.coordinate,p=i.hasPayload,x=i.isAnimationActive,v=i.offset,b=i.position,w=i.reverseDirection,y=i.useTranslate3d,S=i.viewBox,_=i.wrapperStyle,C=mF({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:v,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:S}),O=C.cssClasses,j=C.cssProperties,P=nk(nk({transition:x&&o?"transform ".concat(u,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},_);return Y.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(T){n.wrapperNode=T}},h)}}])})(k.PureComponent),OF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ki={isSsr:OF()};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EE(n.key),n)}}function AF(e,t,r){return t&&PF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _F(e,t,r){return t=pd(t),CF(e,CE()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function CF(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EF(e)}function EF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CE=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function TF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cy(e,t)}function mb(e,t,r){return t=EE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EE(e){var t=RF(e,"string");return Ps(t)=="symbol"?t:t+""}function RF(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MF(e){return e.dataKey}function IF(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(cF,t)}var Ir=(function(e){function t(){return kF(this,t),_F(this,t,arguments)}return TF(t,e),AF(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.content,m=i.coordinate,p=i.filterNull,x=i.isAnimationActive,v=i.offset,b=i.payload,w=i.payloadUniqBy,y=i.position,S=i.reverseDirection,_=i.useTranslate3d,C=i.viewBox,O=i.wrapperStyle,j=b??[];p&&j.length&&(j=jE(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),w,MF));var P=j.length>0;return Y.createElement(SF,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:x,active:o,coordinate:m,hasPayload:P,offset:v,position:y,reverseDirection:S,useTranslate3d:_,viewBox:C,wrapperStyle:O},IF(h,sk(sk({},this.props),{},{payload:j})))}}])})(k.PureComponent);mb(Ir,"displayName","Tooltip");mb(Ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ki.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xx,ok;function $F(){if(ok)return Xx;ok=1;var e=Nn(),t=function(){return e.Date.now()};return Xx=t,Xx}var Qx,lk;function DF(){if(lk)return Qx;lk=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Qx=t,Qx}var Jx,ck;function LF(){if(ck)return Jx;ck=1;var e=DF(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Jx=r,Jx}var Zx,uk;function TE(){if(uk)return Zx;uk=1;var e=LF(),t=Ra(),r=Js(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(t(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=t(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):i.test(h)?n:+h}return Zx=d,Zx}var e0,dk;function FF(){if(dk)return e0;dk=1;var e=Ra(),t=$F(),r=TE(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,h){var m,p,x,v,b,w,y=0,S=!1,_=!1,C=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(h)&&(S=!!h.leading,_="maxWait"in h,x=_?i(r(h.maxWait)||0,d):x,C="trailing"in h?!!h.trailing:C);function O(U){var W=m,B=p;return m=p=void 0,y=U,v=u.apply(B,W),v}function j(U){return y=U,b=setTimeout(T,d),S?O(U):v}function P(U){var W=U-w,B=U-y,$=d-W;return _?o($,x-B):$}function E(U){var W=U-w,B=U-y;return w===void 0||W>=d||W<0||_&&B>=x}function T(){var U=t();if(E(U))return M(U);b=setTimeout(T,P(U))}function M(U){return b=void 0,C&&m?O(U):(m=p=void 0,v)}function L(){b!==void 0&&clearTimeout(b),y=0,m=w=p=b=void 0}function R(){return b===void 0?v:M(t())}function F(){var U=t(),W=E(U);if(m=arguments,p=this,w=U,W){if(b===void 0)return j(w);if(_)return clearTimeout(b),b=setTimeout(T,d),O(w)}return b===void 0&&(b=setTimeout(T,d)),v}return F.cancel=L,F.flush=R,F}return e0=l,e0}var t0,fk;function BF(){if(fk)return t0;fk=1;var e=FF(),t=Ra(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return t0=n,t0}var qF=BF();const RE=Xe(qF);function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){zF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zF(e,t,r){return t=UF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UF(e){var t=WF(e,"string");return Pl(t)=="symbol"?t:t+""}function WF(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KF(e,t){return YF(e)||VF(e,t)||GF(e,t)||HF()}function HF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e,t){if(e){if(typeof e=="string")return pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(e,t)}}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function YF(e){if(Array.isArray(e))return e}var gb=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,h=e.minWidth,m=h===void 0?0:h,p=e.minHeight,x=e.maxHeight,v=e.children,b=e.debounce,w=b===void 0?0:b,y=e.id,S=e.className,_=e.onResize,C=e.style,O=C===void 0?{}:C,j=k.useRef(null),P=k.useRef();P.current=_,k.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var E=k.useState({containerWidth:i.width,containerHeight:i.height}),T=KF(E,2),M=T[0],L=T[1],R=k.useCallback(function(U,W){L(function(B){var $=Math.round(U),z=Math.round(W);return B.containerWidth===$&&B.containerHeight===z?B:{containerWidth:$,containerHeight:z}})},[]);k.useEffect(function(){var U=function(G){var D,q=G[0].contentRect,H=q.width,X=q.height;R(H,X),(D=P.current)===null||D===void 0||D.call(P,H,X)};w>0&&(U=RE(U,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),B=j.current.getBoundingClientRect(),$=B.width,z=B.height;return R($,z),W.observe(j.current),function(){W.disconnect()}},[R,w]);var F=k.useMemo(function(){var U=M.containerWidth,W=M.containerHeight;if(U<0||W<0)return null;rn(ni(l)||ni(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=ni(l)?U:l,$=ni(d)?W:d;r&&r>0&&(B?$=B/r:$&&(B=$*r),x&&$>x&&($=x)),rn(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,l,d,m,p,r);var z=!Array.isArray(v)&&qn(v.type).endsWith("Chart");return Y.Children.map(v,function(V){return Y.isValidElement(V)?k.cloneElement(V,Bu({width:B,height:$},z?{style:Bu({height:"100%",width:"100%",maxHeight:$,maxWidth:B},V.props.style)}:{})):V})},[r,v,d,x,p,m,M,l]);return Y.createElement("div",{id:y?"".concat(y):void 0,className:Le("recharts-responsive-container",S),style:Bu(Bu({},O),{},{width:l,height:d,minWidth:m,minHeight:p,maxHeight:x}),ref:j},F)}),kf=function(t){return null};kf.displayName="Cell";function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=JF(e,"string");return Al(t)=="symbol"?t:t+""}function JF(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts={widthCache:{},cacheCount:0},ZF=2e3,e7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gk="recharts_measurement_span";function t7(e){var t=Ey({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ki.isSsr)return{width:0,height:0};var n=t7(r),i=JSON.stringify({text:t,copyStyle:n});if(ts.widthCache[i])return ts.widthCache[i];try{var o=document.getElementById(gk);o||(o=document.createElement("span"),o.setAttribute("id",gk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=Ey(Ey({},e7),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return ts.widthCache[i]=d,++ts.cacheCount>ZF&&(ts.cacheCount=0,ts.widthCache={}),d}catch{return{width:0,height:0}}},r7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function md(e,t){return s7(e)||i7(e,t)||a7(e,t)||n7()}function n7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function s7(e){if(Array.isArray(e))return e}function o7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c7(n.key),n)}}function l7(e,t,r){return t&&yk(e.prototype,t),r&&yk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c7(e){var t=u7(e,"string");return _l(t)=="symbol"?t:t+""}function u7(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ME={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h7=Object.keys(ME),ss="NaN";function p7(e,t){return e*ME[t]}var qu=(function(){function e(t,r){o7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!d7.test(r)&&(this.num=NaN,this.unit=""),h7.includes(r)&&(this.num=p7(t,r),this.unit="px")}return l7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=f7.exec(r))!==null&&n!==void 0?n:[],o=md(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function IE(e){if(e.includes(ss))return ss;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=vk.exec(t))!==null&&r!==void 0?r:[],i=md(n,4),o=i[1],l=i[2],u=i[3],d=qu.parse(o??""),h=qu.parse(u??""),m=l==="*"?d.multiply(h):d.divide(h);if(m.isNaN())return ss;t=t.replace(vk,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,x=(p=bk.exec(t))!==null&&p!==void 0?p:[],v=md(x,4),b=v[1],w=v[2],y=v[3],S=qu.parse(b??""),_=qu.parse(y??""),C=w==="+"?S.add(_):S.subtract(_);if(C.isNaN())return ss;t=t.replace(bk,C.toString())}return t}var jk=/\(([^()]*)\)/;function m7(e){for(var t=e;t.includes("(");){var r=jk.exec(t),n=md(r,2),i=n[1];t=t.replace(jk,IE(i))}return t}function g7(e){var t=e.replace(/\s+/g,"");return t=m7(t),t=IE(t),t}function x7(e){try{return g7(e)}catch{return ss}}function r0(e){var t=x7(e.slice(5,-1));return t===ss?"":t}var y7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],v7=["dx","dy","angle","className","breakAll"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function wk(e,t){if(e==null)return{};var r=b7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nk(e,t){return S7(e)||N7(e,t)||w7(e,t)||j7()}function j7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(e,t){if(e){if(typeof e=="string")return Sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(e,t)}}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function S7(e){if(Array.isArray(e))return e}var $E=/[ \f\n\r\t\v\u2028\u2029]+/,DE=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split($E));var l=o.map(function(d){return{word:d,width:fl(d,i).width}}),u=n?0:fl("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},O7=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,h=t.breakAll,m=me(l),p=u,x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,z){var V=z.word,G=z.width,D=$[$.length-1];if(D&&(i==null||o||D.width+G+n<Number(i)))D.words.push(V),D.width+=G+n;else{var q={words:[V],width:G};$.push(q)}return $},[])},v=x(r),b=function(B){return B.reduce(function($,z){return $.width>z.width?$:z})};if(!m)return v;for(var w="",y=function(B){var $=p.slice(0,B),z=DE({breakAll:h,style:d,children:$+w}).wordsWithComputedWidth,V=x(z),G=V.length>l||b(V).width>Number(i);return[G,V]},S=0,_=p.length-1,C=0,O;S<=_&&C<=p.length-1;){var j=Math.floor((S+_)/2),P=j-1,E=y(P),T=Nk(E,2),M=T[0],L=T[1],R=y(j),F=Nk(R,1),U=F[0];if(!M&&!U&&(S=j+1),M&&U&&(_=j-1),!M&&U){O=L;break}C++}return O||v},Ok=function(t){var r=De(t)?[]:t.toString().split($E);return[{words:r}]},k7=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!ki.isSsr){var d,h,m=DE({breakAll:l,children:i,style:o});if(m){var p=m.wordsWithComputedWidth,x=m.spaceWidth;d=p,h=x}else return Ok(i);return O7({breakAll:l,children:i,maxLines:u,style:o},d,h,r,n)}return Ok(i)},kk="#808080",vi=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,h=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,x=t.textAnchor,v=x===void 0?"start":x,b=t.verticalAnchor,w=b===void 0?"end":b,y=t.fill,S=y===void 0?kk:y,_=wk(t,y7),C=k.useMemo(function(){return k7({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:p,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,p,_.style,_.width]),O=_.dx,j=_.dy,P=_.angle,E=_.className,T=_.breakAll,M=wk(_,v7);if(!_t(n)||!_t(o))return null;var L=n+(me(O)?O:0),R=o+(me(j)?j:0),F;switch(w){case"start":F=r0("calc(".concat(h,")"));break;case"middle":F=r0("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:F=r0("calc(".concat(C.length-1," * -").concat(u,")"));break}var U=[];if(p){var W=C[0].width,B=_.width;U.push("scale(".concat((me(B)?B/W:1)/W,")"))}return P&&U.push("rotate(".concat(P,", ").concat(L,", ").concat(R,")")),U.length&&(M.transform=U.join(" ")),Y.createElement("text",Ty({},_e(M,!0),{x:L,y:R,className:Le("recharts-text",E),textAnchor:v,fill:S.includes("url")?kk:S}),C.map(function($,z){var V=$.words.join(T?"":" ");return Y.createElement("tspan",{x:L,dy:z===0?F:u,key:"".concat(V,"-").concat(z)},V)}))};function Ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xb(e){let t,r,n;e.length!==2?(t=Ca,r=(u,d)=>Ca(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ca||e===P7?e:A7,r=e,n=e);function i(u,d,h=0,m=u.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<0?h=p+1:m=p}while(h<m)}return h}function o(u,d,h=0,m=u.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(u,d,h=0,m=u.length){const p=i(u,d,h,m-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:l,right:o}}function A7(){return 0}function LE(e){return e===null?NaN:+e}function*_7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const C7=xb(Ca),mc=C7.right;xb(LE).center;class Pk extends Map{constructor(t,r=R7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Ak(this,t))}has(t){return super.has(Ak(this,t))}set(t,r){return super.set(E7(this,t),r)}delete(t){return super.delete(T7(this,t))}}function Ak({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function E7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function T7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function R7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function M7(e=Ca){if(e===Ca)return FE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const I7=Math.sqrt(50),$7=Math.sqrt(10),D7=Math.sqrt(2);function gd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=I7?10:o>=$7?5:o>=D7?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?gd(e,t,r*2):[u,d,h]}function Ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?gd(t,e,r):gd(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(o-h)/-l;else for(let h=0;h<u;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function My(e,t,r){return t=+t,e=+e,r=+r,gd(e,t,r)[2]}function Iy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?My(t,e,r):My(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _k(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ck(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?FE:M7(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(t-h*p/d+x)),b=Math.min(n,Math.floor(t+(d-h)*p/d+x));BE(e,t,v,b,i)}const o=e[t];let l=r,u=n;for(Zo(e,r,t),i(e[n],o)>0&&Zo(e,r,n);l<u;){for(Zo(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?Zo(e,r,u):(++u,Zo(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function L7(e,t,r){if(e=Float64Array.from(_7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ck(e);if(t>=1)return _k(e);var n,i=(n-1)*t,o=Math.floor(i),l=_k(BE(e,o).subarray(0,o+1)),u=Ck(e.subarray(o+1));return l+(u-l)*(i-o)}}function F7(e,t,r=LE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function B7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $y=Symbol("implicit");function yb(){var e=new Pk,t=[],r=[],n=$y;function i(o){let l=e.get(o);if(l===void 0){if(n!==$y)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Pk;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return yb(t,r).unknown(n)},Fr.apply(i,arguments),i}function Cl(){var e=yb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,h=0,m=.5;delete e.unknown;function p(){var x=t().length,v=i<n,b=v?i:n,w=v?n:i;o=(w-b)/Math.max(1,x-d+h*2),u&&(o=Math.floor(o)),b+=(w-b-o*(x-d))*m,l=o*(1-d),u&&(b=Math.round(b),l=Math.round(l));var y=B7(x).map(function(S){return b+o*S});return r(v?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),p()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,p()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),p()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},e.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},e.copy=function(){return Cl(t(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(m)},Fr.apply(p(),arguments)}function qE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qE(t())},e}function hl(){return qE(Cl.apply(null,arguments).paddingInner(1))}function vb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gc(){}var El=.7,xd=1/El,fs="\\s*([+-]?\\d+)\\s*",Tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,z7=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),U7=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),W7=new RegExp(`^rgba\\(${fs},${fs},${fs},${Tl}\\)$`),K7=new RegExp(`^rgba\\(${yn},${yn},${yn},${Tl}\\)$`),H7=new RegExp(`^hsl\\(${Tl},${yn},${yn}\\)$`),G7=new RegExp(`^hsla\\(${Tl},${yn},${yn},${Tl}\\)$`),Ek={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vb(gc,Rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tk,formatHex:Tk,formatHex8:V7,formatHsl:Y7,formatRgb:Rk,toString:Rk});function Tk(){return this.rgb().formatHex()}function V7(){return this.rgb().formatHex8()}function Y7(){return UE(this).formatHsl()}function Rk(){return this.rgb().formatRgb()}function Rl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Mk(t):r===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z7.exec(e))?new ur(t[1],t[2],t[3],1):(t=U7.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W7.exec(e))?zu(t[1],t[2],t[3],t[4]):(t=K7.exec(e))?zu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H7.exec(e))?Dk(t[1],t[2]/100,t[3]/100,1):(t=G7.exec(e))?Dk(t[1],t[2]/100,t[3]/100,t[4]):Ek.hasOwnProperty(e)?Mk(Ek[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function Mk(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function zu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ur(e,t,r,n)}function X7(e){return e instanceof gc||(e=Rl(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function Dy(e,t,r,n){return arguments.length===1?X7(e):new ur(e,t,r,n??1)}function ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}vb(ur,Dy,zE(gc,{brighter(e){return e=e==null?xd:Math.pow(xd,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?El:Math.pow(El,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(pi(this.r),pi(this.g),pi(this.b),yd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ik,formatHex:Ik,formatHex8:Q7,formatRgb:$k,toString:$k}));function Ik(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function Q7(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function $k(){const e=yd(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function yd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ai(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function Dk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function UE(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof gc||(e=Rl(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new tn(l,u,d,e.opacity)}function J7(e,t,r,n){return arguments.length===1?UE(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}vb(tn,J7,zE(gc,{brighter(e){return e=e==null?xd:Math.pow(xd,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?El:Math.pow(El,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ur(n0(e>=240?e-240:e+120,i,n),n0(e,i,n),n0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new tn(Lk(this.h),Uu(this.s),Uu(this.l),yd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yd(this.opacity);return`${e===1?"hsl(":"hsla("}${Lk(this.h)}, ${Uu(this.s)*100}%, ${Uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lk(e){return e=(e||0)%360,e<0?e+360:e}function Uu(e){return Math.max(0,Math.min(1,e||0))}function n0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bb=e=>()=>e;function Z7(e,t){return function(r){return e+r*t}}function eB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tB(e){return(e=+e)==1?WE:function(t,r){return r-t?eB(t,r,e):bb(isNaN(t)?r:t)}}function WE(e,t){var r=t-e;return r?Z7(e,r):bb(isNaN(e)?t:e)}const Fk=(function e(t){var r=tB(t);function n(i,o){var l=r((i=Dy(i)).r,(o=Dy(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),h=WE(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=d(m),i.opacity=h(m),i+""}}return n.gamma=e,n})(1);function rB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function nB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=ro(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function iB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sB(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ro(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a0=new RegExp(Ly.source,"g");function oB(e){return function(){return e}}function lB(e){return function(t){return e(t)+""}}function cB(e,t){var r=Ly.lastIndex=a0.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Ly.exec(e))&&(i=a0.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:vd(n,i)})),r=a0.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?lB(d[0].x):oB(t):(t=d.length,function(h){for(var m=0,p;m<t;++m)u[(p=d[m]).i]=p.x(h);return u.join("")})}function ro(e,t){var r=typeof t,n;return t==null||r==="boolean"?bb(t):(r==="number"?vd:r==="string"?(n=Rl(t))?(t=n,Fk):cB:t instanceof Rl?Fk:t instanceof Date?iB:nB(t)?rB:Array.isArray(t)?aB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sB:vd)(e,t)}function jb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uB(e,t){t===void 0&&(t=e,e=ro);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function dB(e){return function(){return e}}function bd(e){return+e}var Bk=[0,1];function rr(e){return e}function Fy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dB(isNaN(t)?NaN:.5)}function fB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hB(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=Fy(i,n),o=r(l,o)):(n=Fy(n,i),o=r(o,l)),function(u){return o(n(u))}}function pB(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Fy(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=mc(e,u,1,n)-1;return o[d](i[d](u))}}function xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pf(){var e=Bk,t=Bk,r=ro,n,i,o,l=rr,u,d,h;function m(){var x=Math.min(e.length,t.length);return l!==rr&&(l=fB(e[0],e[x-1])),u=x>2?pB:hB,d=h=null,p}function p(x){return x==null||isNaN(x=+x)?o:(d||(d=u(e.map(n),t,r)))(n(l(x)))}return p.invert=function(x){return l(i((h||(h=u(t,e.map(n),vd)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,bd),m()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),r=jb,m()},p.clamp=function(x){return arguments.length?(l=x?!0:rr,m()):l!==rr},p.interpolate=function(x){return arguments.length?(r=x,m()):r},p.unknown=function(x){return arguments.length?(o=x,p):o},function(x,v){return n=x,i=v,m()}}function wb(){return Pf()(rr,rr)}function mB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function As(e){return e=jd(Math.abs(e)),e?e[1]:NaN}function gB(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function xB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ml(e){if(!(t=yB.exec(e)))throw new Error("invalid format: "+e);var t;return new Nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ml.prototype=Nb.prototype;function Nb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vB(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var wd;function bB(e,t){var r=jd(e,t);if(!r)return wd=void 0,e.toPrecision(t);var n=r[0],i=r[1],o=i-(wd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+jd(e,Math.max(0,t+o-1))[0]}function qk(e,t){var r=jd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qk(e*100,t),r:qk,s:bB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Uk(e){return e}var Wk=Array.prototype.map,Kk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jB(e){var t=e.grouping===void 0||e.thousands===void 0?Uk:gB(Wk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Uk:xB(Wk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(p,x){p=Ml(p);var v=p.fill,b=p.align,w=p.sign,y=p.symbol,S=p.zero,_=p.width,C=p.comma,O=p.precision,j=p.trim,P=p.type;P==="n"?(C=!0,P="g"):zk[P]||(O===void 0&&(O=12),j=!0,P="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var E=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),T=(y==="$"?n:/[%p]/.test(P)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),M=zk[P],L=/[defgprs%]/.test(P);O=O===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function R(F){var U=E,W=T,B,$,z;if(P==="c")W=M(F)+W,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?d:M(Math.abs(F),O),j&&(F=vB(F)),V&&+F==0&&w!=="+"&&(V=!1),U=(V?w==="("?w:u:w==="-"||w==="("?"":w)+U,W=(P==="s"&&!isNaN(F)&&wd!==void 0?Kk[8+wd/3]:"")+W+(V&&w==="("?")":""),L){for(B=-1,$=F.length;++B<$;)if(z=F.charCodeAt(B),48>z||z>57){W=(z===46?i+F.slice(B+1):F.slice(B))+W,F=F.slice(0,B);break}}}C&&!S&&(F=t(F,1/0));var G=U.length+F.length+W.length,D=G<_?new Array(_-G+1).join(v):"";switch(C&&S&&(F=t(D+F,D.length?_-W.length:1/0),D=""),b){case"<":F=U+F+W+D;break;case"=":F=U+D+F+W;break;case"^":F=D.slice(0,G=D.length>>1)+U+F+W+D.slice(G);break;default:F=D+U+F+W;break}return o(F)}return R.toString=function(){return p+""},R}function m(p,x){var v=Math.max(-8,Math.min(8,Math.floor(As(x)/3)))*3,b=Math.pow(10,-v),w=h((p=Ml(p),p.type="f",p),{suffix:Kk[8+v/3]});return function(y){return w(b*y)}}return{format:h,formatPrefix:m}}var Wu,Sb,KE;wB({thousands:",",grouping:[3],currency:["$",""]});function wB(e){return Wu=jB(e),Sb=Wu.format,KE=Wu.formatPrefix,Wu}function NB(e){return Math.max(0,-As(Math.abs(e)))}function SB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(As(t)/3)))*3-As(Math.abs(e)))}function OB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,As(t)-As(e))+1}function HE(e,t,r,n){var i=Iy(e,t,r),o;switch(n=Ml(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=SB(i,l))&&(n.precision=o),KE(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=OB(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=NB(i))&&(n.precision=o-(n.type==="%")*2);break}}return Sb(n)}function Ma(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return HE(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);m-- >0;){if(h=My(l,u,r),h===d)return n[i]=l,n[o]=u,t(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function Nd(){var e=wb();return e.copy=function(){return xc(e,Nd())},Fr.apply(e,arguments),Ma(e)}function GE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GE(e).unknown(t)},e=arguments.length?Array.from(e,bd):[0,1],Ma(r)}function VE(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function Hk(e){return Math.log(e)}function Gk(e){return Math.exp(e)}function kB(e){return-Math.log(-e)}function PB(e){return-Math.exp(-e)}function AB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _B(e){return e===10?AB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Vk(e){return(t,r)=>-e(-t,r)}function Ob(e){const t=e(Hk,Gk),r=t.domain;let n=10,i,o;function l(){return i=CB(n),o=_B(n),r()[0]<0?(i=Vk(i),o=Vk(o),e(kB,PB)):e(Hk,Gk),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let x=i(h),v=i(m),b,w;const y=u==null?10:+u;let S=[];if(!(n%1)&&v-x<y){if(x=Math.floor(x),v=Math.ceil(v),h>0){for(;x<=v;++x)for(b=1;b<n;++b)if(w=x<0?b/o(-x):b*o(x),!(w<h)){if(w>m)break;S.push(w)}}else for(;x<=v;++x)for(b=n-1;b>=1;--b)if(w=x>0?b/o(-x):b*o(x),!(w<h)){if(w>m)break;S.push(w)}S.length*2<y&&(S=Ry(h,m,y))}else S=Ry(x,v,Math.min(v-x,y)).map(o);return p?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ml(d)).precision==null&&(d.trim=!0),d=Sb(d)),u===1/0)return d;const h=Math.max(1,n*u/t.ticks().length);return m=>{let p=m/o(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},t.nice=()=>r(VE(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function YE(){const e=Ob(Pf()).domain([1,10]);return e.copy=()=>xc(e,YE()).base(e.base()),Fr.apply(e,arguments),e}function Yk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Xk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kb(e){var t=1,r=e(Yk(t),Xk(t));return r.constant=function(n){return arguments.length?e(Yk(t=+n),Xk(t)):t},Ma(r)}function XE(){var e=kb(Pf());return e.copy=function(){return xc(e,XE()).constant(e.constant())},Fr.apply(e,arguments)}function Qk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TB(e){return e<0?-e*e:e*e}function Pb(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(EB,TB):e(Qk(r),Qk(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ma(t)}function Ab(){var e=Pb(Pf());return e.copy=function(){return xc(e,Ab()).exponent(e.exponent())},Fr.apply(e,arguments),e}function RB(){return Ab.apply(null,arguments).exponent(.5)}function Jk(e){return Math.sign(e)*e*e}function MB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QE(){var e=wb(),t=[0,1],r=!1,n;function i(o){var l=MB(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(Jk(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,bd)).map(Jk)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return QE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(i,arguments),Ma(i)}function JE(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=F7(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[mc(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ca),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return JE().domain(e).range(t).unknown(n)},Fr.apply(o,arguments)}function ZE(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[mc(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return ZE().domain([e,t]).range(i).unknown(o)},Fr.apply(Ma(l),arguments)}function eT(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[mc(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eT().domain(e).range(t).unknown(r)},Fr.apply(i,arguments)}const i0=new Date,s0=new Date;function Ct(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let h;do d.push(h=new Date(+o)),t(o,u),e(o);while(h<o&&o<l);return d},i.filter=o=>Ct(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(i0.setTime(+o),s0.setTime(+l),e(i0),e(s0),Math.floor(r(i0,s0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Sd=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sd);Sd.range;const Ln=1e3,Dr=Ln*60,Fn=Dr*60,Wn=Fn*24,_b=Wn*7,Zk=Wn*30,o0=Wn*365,ii=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCSeconds());ii.range;const Cb=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getMinutes());Cb.range;const Eb=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dr)},(e,t)=>(t-e)/Dr,e=>e.getUTCMinutes());Eb.range;const Tb=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln-e.getMinutes()*Dr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());Tb.range;const Rb=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());Rb.range;const yc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/Wn,e=>e.getDate()-1);yc.range;const Af=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);Af.range;const tT=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));tT.range;function Pi(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/_b)}const _f=Pi(0),Od=Pi(1),IB=Pi(2),$B=Pi(3),_s=Pi(4),DB=Pi(5),LB=Pi(6);_f.range;Od.range;IB.range;$B.range;_s.range;DB.range;LB.range;function Ai(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_b)}const Cf=Ai(0),kd=Ai(1),FB=Ai(2),BB=Ai(3),Cs=Ai(4),qB=Ai(5),zB=Ai(6);Cf.range;kd.range;FB.range;BB.range;Cs.range;qB.range;zB.range;const Mb=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mb.range;const Ib=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ib.range;const Kn=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Kn.range;const Hn=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hn.range;function rT(e,t,r,n,i,o){const l=[[ii,1,Ln],[ii,5,5*Ln],[ii,15,15*Ln],[ii,30,30*Ln],[o,1,Dr],[o,5,5*Dr],[o,15,15*Dr],[o,30,30*Dr],[i,1,Fn],[i,3,3*Fn],[i,6,6*Fn],[i,12,12*Fn],[n,1,Wn],[n,2,2*Wn],[r,1,_b],[t,1,Zk],[t,3,3*Zk],[e,1,o0]];function u(h,m,p){const x=m<h;x&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:d(h,m,p),b=v?v.range(h,+m+1):[];return x?b.reverse():b}function d(h,m,p){const x=Math.abs(m-h)/p,v=xb(([,,y])=>y).right(l,x);if(v===l.length)return e.every(Iy(h/o0,m/o0,p));if(v===0)return Sd.every(Math.max(Iy(h,m,p),1));const[b,w]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return b.every(w)}return[u,d]}const[UB,WB]=rT(Hn,Ib,Cf,tT,Rb,Eb),[KB,HB]=rT(Kn,Mb,_f,yc,Tb,Cb);function l0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function c0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function el(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GB(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=tl(i),m=rl(i),p=tl(o),x=rl(o),v=tl(l),b=rl(l),w=tl(u),y=rl(u),S=tl(d),_=rl(d),C={a:z,A:V,b:G,B:D,c:null,d:iP,e:iP,f:gq,g:kq,G:Aq,H:hq,I:pq,j:mq,L:nT,m:xq,M:yq,p:q,q:H,Q:lP,s:cP,S:vq,u:bq,U:jq,V:wq,w:Nq,W:Sq,x:null,X:null,y:Oq,Y:Pq,Z:_q,"%":oP},O={a:X,A:oe,b:fe,B:se,c:null,d:sP,e:sP,f:Rq,g:Uq,G:Kq,H:Cq,I:Eq,j:Tq,L:iT,m:Mq,M:Iq,p:ke,q:Se,Q:lP,s:cP,S:$q,u:Dq,U:Lq,V:Fq,w:Bq,W:qq,x:null,X:null,y:zq,Y:Wq,Z:Hq,"%":oP},j={a:L,A:R,b:F,B:U,c:W,d:nP,e:nP,f:cq,g:rP,G:tP,H:aP,I:aP,j:iq,L:lq,m:aq,M:sq,p:M,q:nq,Q:dq,s:fq,S:oq,u:JB,U:ZB,V:eq,w:QB,W:tq,x:B,X:$,y:rP,Y:tP,Z:rq,"%":uq};C.x=P(r,C),C.X=P(n,C),C.c=P(t,C),O.x=P(r,O),O.X=P(n,O),O.c=P(t,O);function P(ce,Oe){return function(Ie){var Z=[],xe=-1,ye=0,Je=ce.length,ft,Et,Br;for(Ie instanceof Date||(Ie=new Date(+Ie));++xe<Je;)ce.charCodeAt(xe)===37&&(Z.push(ce.slice(ye,xe)),(Et=eP[ft=ce.charAt(++xe)])!=null?ft=ce.charAt(++xe):Et=ft==="e"?" ":"0",(Br=Oe[ft])&&(ft=Br(Ie,Et)),Z.push(ft),ye=xe+1);return Z.push(ce.slice(ye,xe)),Z.join("")}}function E(ce,Oe){return function(Ie){var Z=el(1900,void 0,1),xe=T(Z,ce,Ie+="",0),ye,Je;if(xe!=Ie.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ye=c0(el(Z.y,0,1)),Je=ye.getUTCDay(),ye=Je>4||Je===0?kd.ceil(ye):kd(ye),ye=Af.offset(ye,(Z.V-1)*7),Z.y=ye.getUTCFullYear(),Z.m=ye.getUTCMonth(),Z.d=ye.getUTCDate()+(Z.w+6)%7):(ye=l0(el(Z.y,0,1)),Je=ye.getDay(),ye=Je>4||Je===0?Od.ceil(ye):Od(ye),ye=yc.offset(ye,(Z.V-1)*7),Z.y=ye.getFullYear(),Z.m=ye.getMonth(),Z.d=ye.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Je="Z"in Z?c0(el(Z.y,0,1)).getUTCDay():l0(el(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Je+5)%7:Z.w+Z.U*7-(Je+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,c0(Z)):l0(Z)}}function T(ce,Oe,Ie,Z){for(var xe=0,ye=Oe.length,Je=Ie.length,ft,Et;xe<ye;){if(Z>=Je)return-1;if(ft=Oe.charCodeAt(xe++),ft===37){if(ft=Oe.charAt(xe++),Et=j[ft in eP?Oe.charAt(xe++):ft],!Et||(Z=Et(ce,Ie,Z))<0)return-1}else if(ft!=Ie.charCodeAt(Z++))return-1}return Z}function M(ce,Oe,Ie){var Z=h.exec(Oe.slice(Ie));return Z?(ce.p=m.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function L(ce,Oe,Ie){var Z=v.exec(Oe.slice(Ie));return Z?(ce.w=b.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function R(ce,Oe,Ie){var Z=p.exec(Oe.slice(Ie));return Z?(ce.w=x.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function F(ce,Oe,Ie){var Z=S.exec(Oe.slice(Ie));return Z?(ce.m=_.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function U(ce,Oe,Ie){var Z=w.exec(Oe.slice(Ie));return Z?(ce.m=y.get(Z[0].toLowerCase()),Ie+Z[0].length):-1}function W(ce,Oe,Ie){return T(ce,t,Oe,Ie)}function B(ce,Oe,Ie){return T(ce,r,Oe,Ie)}function $(ce,Oe,Ie){return T(ce,n,Oe,Ie)}function z(ce){return l[ce.getDay()]}function V(ce){return o[ce.getDay()]}function G(ce){return d[ce.getMonth()]}function D(ce){return u[ce.getMonth()]}function q(ce){return i[+(ce.getHours()>=12)]}function H(ce){return 1+~~(ce.getMonth()/3)}function X(ce){return l[ce.getUTCDay()]}function oe(ce){return o[ce.getUTCDay()]}function fe(ce){return d[ce.getUTCMonth()]}function se(ce){return u[ce.getUTCMonth()]}function ke(ce){return i[+(ce.getUTCHours()>=12)]}function Se(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Oe=P(ce+="",C);return Oe.toString=function(){return ce},Oe},parse:function(ce){var Oe=E(ce+="",!1);return Oe.toString=function(){return ce},Oe},utcFormat:function(ce){var Oe=P(ce+="",O);return Oe.toString=function(){return ce},Oe},utcParse:function(ce){var Oe=E(ce+="",!0);return Oe.toString=function(){return ce},Oe}}}var eP={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,VB=/^%/,YB=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function XB(e){return e.replace(YB,"\\$&")}function tl(e){return new RegExp("^(?:"+e.map(XB).join("|")+")","i")}function rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QB(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JB(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZB(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tP(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nq(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function aq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function iq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aP(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oq(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lq(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cq(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uq(e,t,r){var n=VB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iP(e,t){return Ge(e.getDate(),t,2)}function hq(e,t){return Ge(e.getHours(),t,2)}function pq(e,t){return Ge(e.getHours()%12||12,t,2)}function mq(e,t){return Ge(1+yc.count(Kn(e),e),t,3)}function nT(e,t){return Ge(e.getMilliseconds(),t,3)}function gq(e,t){return nT(e,t)+"000"}function xq(e,t){return Ge(e.getMonth()+1,t,2)}function yq(e,t){return Ge(e.getMinutes(),t,2)}function vq(e,t){return Ge(e.getSeconds(),t,2)}function bq(e){var t=e.getDay();return t===0?7:t}function jq(e,t){return Ge(_f.count(Kn(e)-1,e),t,2)}function aT(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function wq(e,t){return e=aT(e),Ge(_s.count(Kn(e),e)+(Kn(e).getDay()===4),t,2)}function Nq(e){return e.getDay()}function Sq(e,t){return Ge(Od.count(Kn(e)-1,e),t,2)}function Oq(e,t){return Ge(e.getFullYear()%100,t,2)}function kq(e,t){return e=aT(e),Ge(e.getFullYear()%100,t,2)}function Pq(e,t){return Ge(e.getFullYear()%1e4,t,4)}function Aq(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function _q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function sP(e,t){return Ge(e.getUTCDate(),t,2)}function Cq(e,t){return Ge(e.getUTCHours(),t,2)}function Eq(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function Tq(e,t){return Ge(1+Af.count(Hn(e),e),t,3)}function iT(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function Rq(e,t){return iT(e,t)+"000"}function Mq(e,t){return Ge(e.getUTCMonth()+1,t,2)}function Iq(e,t){return Ge(e.getUTCMinutes(),t,2)}function $q(e,t){return Ge(e.getUTCSeconds(),t,2)}function Dq(e){var t=e.getUTCDay();return t===0?7:t}function Lq(e,t){return Ge(Cf.count(Hn(e)-1,e),t,2)}function sT(e){var t=e.getUTCDay();return t>=4||t===0?Cs(e):Cs.ceil(e)}function Fq(e,t){return e=sT(e),Ge(Cs.count(Hn(e),e)+(Hn(e).getUTCDay()===4),t,2)}function Bq(e){return e.getUTCDay()}function qq(e,t){return Ge(kd.count(Hn(e)-1,e),t,2)}function zq(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function Uq(e,t){return e=sT(e),Ge(e.getUTCFullYear()%100,t,2)}function Wq(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function Kq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cs(e):Cs.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function Hq(){return"+0000"}function oP(){return"%"}function lP(e){return+e}function cP(e){return Math.floor(+e/1e3)}var rs,oT,lT;Gq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gq(e){return rs=GB(e),oT=rs.format,rs.parse,lT=rs.utcFormat,rs.utcParse,rs}function Vq(e){return new Date(e)}function Yq(e){return e instanceof Date?+e:+new Date(+e)}function $b(e,t,r,n,i,o,l,u,d,h){var m=wb(),p=m.invert,x=m.domain,v=h(".%L"),b=h(":%S"),w=h("%I:%M"),y=h("%I %p"),S=h("%a %d"),_=h("%b %d"),C=h("%B"),O=h("%Y");function j(P){return(d(P)<P?v:u(P)<P?b:l(P)<P?w:o(P)<P?y:n(P)<P?i(P)<P?S:_:r(P)<P?C:O)(P)}return m.invert=function(P){return new Date(p(P))},m.domain=function(P){return arguments.length?x(Array.from(P,Yq)):x().map(Vq)},m.ticks=function(P){var E=x();return e(E[0],E[E.length-1],P??10)},m.tickFormat=function(P,E){return E==null?j:h(E)},m.nice=function(P){var E=x();return(!P||typeof P.range!="function")&&(P=t(E[0],E[E.length-1],P??10)),P?x(VE(E,P)):m},m.copy=function(){return xc(m,$b(e,t,r,n,i,o,l,u,d,h))},m}function Xq(){return Fr.apply($b(KB,HB,Kn,Mb,_f,yc,Tb,Cb,ii,oT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qq(){return Fr.apply($b(UB,WB,Hn,Ib,Cf,Af,Rb,Eb,ii,lT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ef(){var e=0,t=1,r,n,i,o,l=rr,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(x){var v,b;return arguments.length?([v,b]=x,l=p(v,b),h):[l(0),l(1)]}}return h.range=m(ro),h.rangeRound=m(jb),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return o=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Ia(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cT(){var e=Ma(Ef()(rr));return e.copy=function(){return Ia(e,cT())},Xn.apply(e,arguments)}function uT(){var e=Ob(Ef()).domain([1,10]);return e.copy=function(){return Ia(e,uT()).base(e.base())},Xn.apply(e,arguments)}function dT(){var e=kb(Ef());return e.copy=function(){return Ia(e,dT()).constant(e.constant())},Xn.apply(e,arguments)}function Db(){var e=Pb(Ef());return e.copy=function(){return Ia(e,Db()).exponent(e.exponent())},Xn.apply(e,arguments)}function Jq(){return Db.apply(null,arguments).exponent(.5)}function fT(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((mc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>L7(e,o/n))},r.copy=function(){return fT(t).domain(e)},Xn.apply(r,arguments)}function Tf(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,h=rr,m,p=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+m(w))-o)*(n*w<n*o?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,i=m(e=+e),o=m(t=+t),l=m(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function b(w){return function(y){var S,_,C;return arguments.length?([S,_,C]=y,h=uB(w,[S,_,C]),v):[h(0),h(.5),h(1)]}}return v.range=b(ro),v.rangeRound=b(jb),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return m=w,i=w(e),o=w(t),l=w(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,v}}function hT(){var e=Ma(Tf()(rr));return e.copy=function(){return Ia(e,hT())},Xn.apply(e,arguments)}function pT(){var e=Ob(Tf()).domain([.1,1,10]);return e.copy=function(){return Ia(e,pT()).base(e.base())},Xn.apply(e,arguments)}function mT(){var e=kb(Tf());return e.copy=function(){return Ia(e,mT()).constant(e.constant())},Xn.apply(e,arguments)}function Lb(){var e=Pb(Tf());return e.copy=function(){return Ia(e,Lb()).exponent(e.exponent())},Xn.apply(e,arguments)}function Zq(){return Lb.apply(null,arguments).exponent(.5)}const uP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cl,scaleDiverging:hT,scaleDivergingLog:pT,scaleDivergingPow:Lb,scaleDivergingSqrt:Zq,scaleDivergingSymlog:mT,scaleIdentity:GE,scaleImplicit:$y,scaleLinear:Nd,scaleLog:YE,scaleOrdinal:yb,scalePoint:hl,scalePow:Ab,scaleQuantile:JE,scaleQuantize:ZE,scaleRadial:QE,scaleSequential:cT,scaleSequentialLog:uT,scaleSequentialPow:Db,scaleSequentialQuantile:fT,scaleSequentialSqrt:Jq,scaleSequentialSymlog:dT,scaleSqrt:RB,scaleSymlog:XE,scaleThreshold:eT,scaleTime:Xq,scaleUtc:Qq,tickFormat:HE},Symbol.toStringTag,{value:"Module"}));var u0,dP;function Rf(){if(dP)return u0;dP=1;var e=Js();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(h===void 0?d===d&&!e(d):i(d,h)))var h=d,m=u}return m}return u0=t,u0}var d0,fP;function gT(){if(fP)return d0;fP=1;function e(t,r){return t>r}return d0=e,d0}var f0,hP;function ez(){if(hP)return f0;hP=1;var e=Rf(),t=gT(),r=to();function n(i){return i&&i.length?e(i,r,t):void 0}return f0=n,f0}var tz=ez();const Mf=Xe(tz);var h0,pP;function xT(){if(pP)return h0;pP=1;function e(t,r){return t<r}return h0=e,h0}var p0,mP;function rz(){if(mP)return p0;mP=1;var e=Rf(),t=xT(),r=to();function n(i){return i&&i.length?e(i,r,t):void 0}return p0=n,p0}var nz=rz();const If=Xe(nz);var m0,gP;function az(){if(gP)return m0;gP=1;var e=Zv(),t=Sn(),r=kE(),n=hr();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return m0=i,m0}var g0,xP;function iz(){if(xP)return g0;xP=1;var e=SE(),t=az();function r(n,i){return e(t(n,i),1)}return g0=r,g0}var sz=iz();const oz=Xe(sz);var x0,yP;function lz(){if(yP)return x0;yP=1;var e=fb();function t(r,n){return e(r,n)}return x0=t,x0}var cz=lz();const vc=Xe(cz);var no=1e9,uz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bb,ct=!0,Lr="[DecimalError] ",mi=Lr+"Invalid argument: ",Fb=Lr+"Exponent out of range: ",ao=Math.floor,ei=Math.pow,dz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,$t=1e7,ot=7,yT=9007199254740991,Pd=ao(yT/ot),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return zn(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return et(zn(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return wt(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Lr+"NaN");if(r.s<1)throw Error(Lr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(ct=!1,t=zn(Il(r,o),Il(e,o),o),ct=!0,et(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jT(t,e):vT(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Lr+"NaN");return r.s?(ct=!1,t=zn(r,e,0,1).times(e),ct=!0,r.minus(t)):et(new n(r),i)};be.naturalExponential=be.exp=function(){return bT(this)};be.naturalLogarithm=be.ln=function(){return Il(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vT(t,e):jT(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=wt(i)+1,n=i.d.length-1,r=n*ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=wt(u),ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=xn(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ao((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(zn(u,o,l+2)).times(.5),xn(o.d).slice(0,l)===(t=xn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(et(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return ct=!0,et(n,r)};be.times=be.mul=function(e){var t,r,n,i,o,l,u,d,h,m=this,p=m.constructor,x=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=x.length,h=v.length,d<h&&(o=x,x=v,v=o,l=d,d=h,h=l),o=[],l=d+h,n=l;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+v[n]*x[i-n-1]+t,o[i--]=u%$t|0,t=u/$t|0;o[i]=(o[i]+t)%$t|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,ct?et(e,p.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bn(e,0,no),t===void 0?t=n.rounding:bn(t,0,8),et(r,e+wt(r)+1,t))};be.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=bi(n,!0):(bn(e,0,no),t===void 0?t=i.rounding:bn(t,0,8),n=et(new i(n),e+1,t),r=bi(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?bi(i):(bn(e,0,no),t===void 0?t=o.rounding:bn(t,0,8),n=et(new o(i),e+wt(i)+1,t),r=bi(n.abs(),!1,e+wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return et(new t(e),wt(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,h=12,m=+(e=new d(e));if(!e.s)return new d(wr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(wr))return u;if(n=d.precision,e.eq(wr))return et(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=m<0?-m:m)<=yT){for(i=new d(wr),t=Math.ceil(n/ot+4),ct=!1;r%2&&(i=i.times(u),bP(i.d,t)),r=ao(r/2),r!==0;)u=u.times(u),bP(u.d,t);return ct=!0,e.s<0?new d(wr).div(i):et(i,n)}}else if(o<0)throw Error(Lr+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ct=!1,i=e.times(Il(u,n+h)),ct=!0,i=bT(i),i.s=o,i};be.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=wt(i),n=bi(i,r<=o.toExpNeg||r>=o.toExpPos)):(bn(e,1,no),t===void 0?t=o.rounding:bn(t,0,8),i=et(new o(i),e,t),r=wt(i),n=bi(i,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bn(e,1,no),t===void 0?t=n.rounding:bn(t,0,8)),et(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function vT(e,t){var r,n,i,o,l,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),ct?et(t,p):t;if(d=e.d,h=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=h.length):(n=h,i=l,u=d.length),l=Math.ceil(p/ot),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=h.length,u-o<0&&(o=u,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/$t|0,d[o]%=$t;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,ct?et(t,p):t}function bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function xn(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=ot-n.length,r&&(o+=ya(r)),o+=n;l=e[t],n=l+"",r=ot-n.length,r&&(o+=ya(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var zn=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%$t|0,l=o/$t|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*$t+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,h,m,p,x,v,b,w,y,S,_,C,O,j,P,E,T,M=n.constructor,L=n.s==i.s?1:-1,R=n.d,F=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Lr+"Division by zero");for(d=n.e-i.e,E=F.length,j=R.length,v=new M(L),b=v.d=[],h=0;F[h]==(R[h]||0);)++h;if(F[h]>(R[h]||0)&&--d,o==null?_=o=M.precision:l?_=o+(wt(n)-wt(i))+1:_=o,_<0)return new M(0);if(_=_/ot+2|0,h=0,E==1)for(m=0,F=F[0],_++;(h<j||m)&&_--;h++)C=m*$t+(R[h]||0),b[h]=C/F|0,m=C%F|0;else{for(m=$t/(F[0]+1)|0,m>1&&(F=e(F,m),R=e(R,m),E=F.length,j=R.length),O=E,w=R.slice(0,E),y=w.length;y<E;)w[y++]=0;T=F.slice(),T.unshift(0),P=F[0],F[1]>=$t/2&&++P;do m=0,u=t(F,w,E,y),u<0?(S=w[0],E!=y&&(S=S*$t+(w[1]||0)),m=S/P|0,m>1?(m>=$t&&(m=$t-1),p=e(F,m),x=p.length,y=w.length,u=t(p,w,x,y),u==1&&(m--,r(p,E<x?T:F,x))):(m==0&&(u=m=1),p=F.slice()),x=p.length,x<y&&p.unshift(0),r(w,p,y),u==-1&&(y=w.length,u=t(F,w,E,y),u<1&&(m++,r(w,E<y?T:F,y))),y=w.length):u===0&&(m++,w=[0]),b[h++]=m,u&&w[0]?w[y++]=R[O]||0:(w=[R[O]],y=1);while((O++<j||w[0]!==void 0)&&_--)}return b[0]||b.shift(),v.e=d,et(v,l?o+wt(v)+1:o)}})();function bT(e,t){var r,n,i,o,l,u,d=0,h=0,m=e.constructor,p=m.precision;if(wt(e)>16)throw Error(Fb+wt(e));if(!e.s)return new m(wr);for(ct=!1,u=p,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(ei(2,h))/Math.LN10*2+5|0,u+=n,r=i=o=new m(wr),m.precision=u;;){if(i=et(i.times(e),u),r=r.times(++d),l=o.plus(zn(i,r,u)),xn(l.d).slice(0,u)===xn(o.d).slice(0,u)){for(;h--;)o=et(o.times(o),u);return m.precision=p,t==null?(ct=!0,et(o,p)):o}o=l}}function wt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function y0(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(Lr+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function Il(e,t){var r,n,i,o,l,u,d,h,m,p=1,x=10,v=e,b=v.d,w=v.constructor,y=w.precision;if(v.s<1)throw Error(Lr+(v.s?"NaN":"-Infinity"));if(v.eq(wr))return new w(0);if(t==null?(ct=!1,h=y):h=t,v.eq(10))return t==null&&(ct=!0),y0(w,h);if(h+=x,w.precision=h,r=xn(b),n=r.charAt(0),o=wt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=xn(v.d),n=r.charAt(0),p++;o=wt(v),n>1?(v=new w("0."+r),o++):v=new w(n+"."+r.slice(1))}else return d=y0(w,h+2,y).times(o+""),v=Il(new w(n+"."+r.slice(1)),h-x).plus(d),w.precision=y,t==null?(ct=!0,et(v,y)):v;for(u=l=v=zn(v.minus(wr),v.plus(wr),h),m=et(v.times(v),h),i=3;;){if(l=et(l.times(m),h),d=u.plus(zn(l,new w(i),h)),xn(d.d).slice(0,h)===xn(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(y0(w,h+2,y).times(o+""))),u=zn(u,new w(p),h),w.precision=y,t==null?(ct=!0,et(u,y)):u;u=d,i+=2}}function vP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ao(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ot;n<i;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>Pd||e.e<-Pd))throw Error(Fb+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,i,o,l,u,d,h,m,p=e.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=ot,i=t,h=p[m=0];else{if(m=Math.ceil((n+1)/ot),o=p.length,m>=o)return e;for(h=o=p[m],l=1;o>=10;o/=10)l++;n%=ot,i=n-ot+l}if(r!==void 0&&(o=ei(10,l-i-1),u=h/o%10|0,d=t<0||p[m+1]!==void 0||h%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/ei(10,l-i):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(o=wt(e),p.length=1,t=t-o-1,p[0]=ei(10,(ot-t%ot)%ot),e.e=ao(-t/ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,o=1,m--):(p.length=m+1,o=ei(10,ot-n),p[m]=i>0?(h/ei(10,l-i)%ei(10,i)|0)*o:0),d)for(;;)if(m==0){(p[0]+=o)==$t&&(p[0]=1,++e.e);break}else{if(p[m]+=o,p[m]!=$t)break;p[m--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(ct&&(e.e>Pd||e.e<-Pd))throw Error(Fb+wt(e));return e}function jT(e,t){var r,n,i,o,l,u,d,h,m,p,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ct?et(t,v):t;if(d=e.d,p=t.d,n=t.e,h=e.e,d=d.slice(),l=h-n,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),i=Math.max(Math.ceil(v/ot),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(o=i;o&&d[--o]===0;)d[o]=$t-1;--d[o],d[i]+=$t}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ct?et(t,v):t):new x(0)}function bi(e,t,r){var n,i=wt(e),o=xn(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+ya(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ya(-i-1)+o,r&&(n=r-l)>0&&(o+=ya(n))):i>=l?(o+=ya(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+ya(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=ya(n))),e.s<0?"-"+o:o}function bP(e,t){if(e.length>t)return e.length=t,!0}function wT(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mi+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return vP(l,o.toString())}else if(typeof o!="string")throw Error(mi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,dz.test(o))vP(l,o);else throw Error(mi+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wT,i.config=i.set=fz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fz(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,r,n,i=["precision",1,no,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ao(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Bb=wT(uz);wr=new Bb(1);const Ze=Bb;function hz(e){return xz(e)||gz(e)||mz(e)||pz()}function pz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(e,t){if(e){if(typeof e=="string")return By(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(e,t)}}function gz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xz(e){if(Array.isArray(e))return By(e)}function By(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yz=function(t){return t},NT={},ST=function(t){return t===NT},jP=function(t){return function r(){return arguments.length===0||arguments.length===1&&ST(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},vz=function e(t,r){return t===1?r:jP(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==NT}).length;return l>=t?r.apply(void 0,i):e(t-l,jP(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=i.map(function(p){return ST(p)?d.shift():p});return r.apply(void 0,hz(m).concat(d))}))})},$f=function(t){return vz(t.length,t)},qy=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},bz=$f(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),jz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return yz;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},zy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},OT=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function wz(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function Nz(e,t,r){for(var n=new Ze(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Sz=$f(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Oz=$f(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kz=$f(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Df={rangeStep:Nz,getDigitCount:wz,interpolateNumber:Sz,uninterpolateNumber:Oz,uninterpolateTruncation:kz};function Uy(e){return _z(e)||Az(e)||kT(e)||Pz()}function Pz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _z(e){if(Array.isArray(e))return Wy(e)}function $l(e,t){return Tz(e)||Ez(e,t)||kT(e,t)||Cz()}function Cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kT(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ez(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function Tz(e){if(Array.isArray(e))return e}function PT(e){var t=$l(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function AT(e,t,r){if(e.lte(0))return new Ze(0);var n=Df.getDigitCount(e.toNumber()),i=new Ze(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new Ze(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new Ze(Math.ceil(d))}function Rz(e,t,r){var n=1,i=new Ze(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(Df.getDigitCount(e)-1),i=new Ze(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Ze(Math.floor(e)))}else e===0?i=new Ze(Math.floor((t-1)/2)):r||(i=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=jz(bz(function(d){return i.add(new Ze(d-l).mul(n)).toNumber()}),qy);return u(0,t)}function _T(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=AT(new Ze(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new Ze(0):(l=new Ze(e).add(t).div(2),l=l.sub(new Ze(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Ze(t).sub(l).div(o).toNumber()),h=u+d+1;return h>r?_T(e,t,r,n,i+1):(h<r&&(d=t>0?d+(r-h):d,u=t>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Ze(u).mul(o)),tickMax:l.add(new Ze(d).mul(o))})}function Mz(e){var t=$l(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=PT([r,n]),d=$l(u,2),h=d[0],m=d[1];if(h===-1/0||m===1/0){var p=m===1/0?[h].concat(Uy(qy(0,i-1).map(function(){return 1/0}))):[].concat(Uy(qy(0,i-1).map(function(){return-1/0})),[m]);return r>n?zy(p):p}if(h===m)return Rz(h,i,o);var x=_T(h,m,l,o),v=x.step,b=x.tickMin,w=x.tickMax,y=Df.rangeStep(b,w.add(new Ze(.1).mul(v)),v);return r>n?zy(y):y}function Iz(e,t){var r=$l(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=PT([n,i]),u=$l(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var m=Math.max(t,2),p=AT(new Ze(h).sub(d).div(m-1),o,0),x=[].concat(Uy(Df.rangeStep(new Ze(d),new Ze(h).sub(new Ze(.99).mul(p)),p)),[h]);return n>i?zy(x):x}var $z=OT(Mz),Dz=OT(Iz),Lz="Invariant failed";function ji(e,t){throw new Error(Lz)}var Fz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}function Bz(e,t){return Wz(e)||Uz(e,t)||zz(e,t)||qz()}function qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Wz(e){if(Array.isArray(e))return e}function Kz(e,t){if(e==null)return{};var r=Hz(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TT(n.key),n)}}function Yz(e,t,r){return t&&Vz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xz(e,t,r){return t=_d(t),Qz(e,CT()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function Qz(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jz(e)}function Jz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CT=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function Zz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ky(e,t)}function ET(e,t,r){return t=TT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TT(e){var t=e9(e,"string");return Es(t)=="symbol"?t:t+""}function e9(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bc=(function(e){function t(){return Gz(this,t),Xz(this,t,arguments)}return Zz(t,e),Yz(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,x=Kz(n,Fz),v=_e(x,!1);this.props.direction==="x"&&m.type!=="number"&&ji();var b=d.map(function(w){var y=h(w,u),S=y.x,_=y.y,C=y.value,O=y.errorVal;if(!O)return null;var j=[],P,E;if(Array.isArray(O)){var T=Bz(O,2);P=T[0],E=T[1]}else P=E=O;if(o==="vertical"){var M=m.scale,L=_+i,R=L+l,F=L-l,U=M(C-P),W=M(C+E);j.push({x1:W,y1:R,x2:W,y2:F}),j.push({x1:U,y1:L,x2:W,y2:L}),j.push({x1:U,y1:R,x2:U,y2:F})}else if(o==="horizontal"){var B=p.scale,$=S+i,z=$-l,V=$+l,G=B(C-P),D=B(C+E);j.push({x1:z,y1:D,x2:V,y2:D}),j.push({x1:$,y1:G,x2:$,y2:D}),j.push({x1:z,y1:G,x2:V,y2:G})}return Y.createElement(He,Ad({className:"recharts-errorBar",key:"bar-".concat(j.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),j.map(function(q){return Y.createElement("line",Ad({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Y.createElement(He,{className:"recharts-errorBars"},b)}}])})(Y.Component);ET(bc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ET(bc,"displayName","ErrorBar");function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return t=r9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return Dl(t)=="symbol"?t:t+""}function n9(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=br(r,_a);if(!l)return null;var u=_a.defaultProps,d=u!==void 0?Xa(Xa({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(n||[]).reduce(function(m,p){var x=p.item,v=p.props,b=v.sectors||v.data||[];return m.concat(b.map(function(w){return{type:l.props.iconType||x.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(m){var p=m.item,x=p.type.defaultProps,v=x!==void 0?Xa(Xa({},x),p.props):{},b=v.dataKey,w=v.name,y=v.legendType,S=v.hide;return{inactive:S,dataKey:b,type:d.iconType||y||"square",color:qb(p),value:w||b,payload:v}}),Xa(Xa(Xa({},d),_a.getWithHeight(l,i)),{},{payload:h,item:l})};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function SP(e){return o9(e)||s9(e)||i9(e)||a9()}function a9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(e,t){if(e){if(typeof e=="string")return Hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hy(e,t)}}function s9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o9(e){if(Array.isArray(e))return Hy(e)}function Hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e,t,r){return t=l9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=c9(e,"string");return Ll(t)=="symbol"?t:t+""}function c9(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e,t,r){return De(e)||De(t)?r:_t(t)?Nr(e,t,r):Me(t)?t(e):r}function pl(e,t,r,n){var i=oz(e,function(u){return Pt(u,t)});if(r==="number"){var o=i.filter(function(u){return me(u)||parseFloat(u)});return o.length?[If(o),Mf(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!De(u)}):i;return l.map(function(u){return _t(u)||u instanceof Date?u:""})}var u9=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<u;h++){var m=h>0?i[h-1].coordinate:i[u-1].coordinate,p=i[h].coordinate,x=h>=u-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(er(p-m)!==er(x-p)){var b=[];if(er(x-p)===er(d[1]-d[0])){v=x;var w=p+d[1]-d[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{v=m;var y=x+d[1]-d[0];b[0]=Math.min(p,(y+p)/2),b[1]=Math.max(p,(y+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){l=i[h].index;break}}else{var _=Math.min(m,x),C=Math.max(m,x);if(t>(_+p)/2&&t<=(C+p)/2){l=i[h].index;break}}}else for(var O=0;O<u;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===u-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},qb=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},d9=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,h=u.length;d<h;d++)for(var m=o[u[d]].stackGroups,p=Object.keys(m),x=0,v=p.length;x<v;x++){var b=m[p[x]],w=b.items,y=b.cateAxisId,S=w.filter(function(E){return qn(E.type).indexOf("Bar")>=0});if(S&&S.length){var _=S[0].type.defaultProps,C=_!==void 0?mt(mt({},_),S[0].props):S[0].props,O=C.barSize,j=C[y];l[j]||(l[j]=[]);var P=De(O)?r:O;l[j].push({item:S[0],stackList:S.slice(1),barSize:De(P)?void 0:tr(P,n,0)})}}return l},f9=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var h=tr(r,i,0,!0),m,p=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=i/d,b=l.reduce(function(O,j){return O+j.barSize||0},0);b+=(d-1)*h,b>=i&&(b-=(d-1)*h,h=0),b>=i&&v>0&&(x=!0,v*=.9,b=d*v);var w=(i-b)/2>>0,y={offset:w-h,size:0};m=l.reduce(function(O,j){var P={item:j.item,position:{offset:y.offset+y.size+h,size:x?v:j.barSize}},E=[].concat(SP(O),[P]);return y=E[E.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){E.push({item:T,position:y})}),E},p)}else{var S=tr(n,i,0,!0);i-2*S-(d-1)*h<=0&&(h=0);var _=(i-2*S-(d-1)*h)/d;_>1&&(_>>=0);var C=u===+u?Math.min(_,u):_;m=l.reduce(function(O,j,P){var E=[].concat(SP(O),[{item:j.item,position:{offset:S+(_+h)*P+(_-C)/2,size:C}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},p)}return m},h9=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=RT({children:o,legendWidth:d});if(h){var m=i||{},p=m.width,x=m.height,v=h.align,b=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&v!=="center"&&me(t[v]))return mt(mt({},t),{},hs({},v,t[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&b!=="middle"&&me(t[b]))return mt(mt({},t),{},hs({},b,t[b]+(x||0)))}return t},p9=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},MT=function(t,r,n,i,o){var l=r.props.children,u=Sr(l,bc).filter(function(h){return p9(i,o,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return t.reduce(function(h,m){var p=Pt(m,n);if(De(p))return h;var x=Array.isArray(p)?[If(p),Mf(p)]:[p,p],v=d.reduce(function(b,w){var y=Pt(m,w,0),S=x[0]-Math.abs(Array.isArray(y)?y[0]:y),_=x[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(S,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},m9=function(t,r,n,i,o){var l=r.map(function(u){return MT(t,u,n,o,i)}).filter(function(u){return!De(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},IT=function(t,r,n,i,o){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&MT(t,d,h,i)||pl(t,h,n,o)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var m=0,p=h.length;m<p;m++)u[h[m]]||(u[h[m]]=!0,d.push(h[m]));return d},[])},$T=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},DT=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Bn=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?er(u[0]-u[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var x=o?o.indexOf(p):p;return{coordinate:i(x)+h,value:p,offset:h}});return m.filter(function(p){return!hc(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,x){return{coordinate:i(p)+h,value:p,index:x,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,x){return{coordinate:i(p)+h,value:o?o[p]:p,index:x,offset:h}})},v0=new WeakMap,Ku=function(t,r){if(typeof r!="function")return t;v0.has(t)||v0.set(t,new WeakMap);var n=v0.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},LT=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Cl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Nd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hl(),realScaleType:"point"}:o==="category"?{scale:Cl(),realScaleType:"band"}:{scale:Nd(),realScaleType:"linear"};if(xi(i)){var d="scale".concat(vf(i));return{scale:(uP[d]||hl)(),realScaleType:uP[d]?d:"point"}}return Me(i)?{scale:i}:{scale:hl(),realScaleType:"point"}},kP=1e-4,FT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-kP,l=Math.max(i[0],i[1])+kP,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},g9=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},x9=function(t,r){if(!r||r.length!==2||!me(r[0])||!me(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!me(t[0])||t[0]<n)&&(o[0]=n),(!me(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},y9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=hc(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},v9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=hc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},b9={sign:y9,expand:o8,none:Ns,silhouette:l8,wiggle:c8,positive:v9},j9=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=b9[n],l=s8().keys(i).value(function(u,d){return+Pt(u,d,0)}).order(wy).offset(o);return l(t)},w9=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,x){var v,b=(v=x.type)!==null&&v!==void 0&&v.defaultProps?mt(mt({},x.type.defaultProps),x.props):x.props,w=b.stackId,y=b.hide;if(y)return p;var S=b[n],_=p[S]||{hasStack:!1,stackGroups:{}};if(_t(w)){var C=_.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(x),_.hasStack=!0,_.stackGroups[w]=C}else _.stackGroups[eo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[x]};return mt(mt({},p),{},hs({},S,_))},d),m={};return Object.keys(h).reduce(function(p,x){var v=h[x];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,y){var S=v.stackGroups[y];return mt(mt({},w),{},hs({},y,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:j9(t,S.items,o)}))},b)}return mt(mt({},p),{},hs({},x,v))},m)},BT=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var m=$z(h,o,u);return t.domain([If(m),Mf(m)]),{niceTicks:m}}if(o&&i==="number"){var p=t.domain(),x=Dz(p,o,u);return{niceTicks:x}}return null};function PP(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(i[t.dataKey])){var u=ad(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Pt(i,De(l)?t.dataKey:l);return De(d)?null:t.scale(d)}var AP=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Pt(l,r.dataKey,r.domain[u]);return De(d)?null:r.scale(d)-o/2+i},N9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},S9=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(_t(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},O9=function(t){return t.reduce(function(r,n){return[If(n.concat([r[0]]).filter(me)),Mf(n.concat([r[1]]).filter(me))]},[1/0,-1/0])},qT=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(h,m){var p=O9(m.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},_P=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gy=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(me(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(_P.test(t[0])){var o=+_P.exec(t[0])[1];i[0]=r[0]-o}else Me(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(me(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(CP.test(t[1])){var l=+CP.exec(t[1])[1];i[1]=r[1]+l}else Me(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Cd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=pb(r,function(p){return p.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var h=o[u],m=o[u-1];l=Math.min((h.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},EP=function(t,r,n){return!t||!t.length||vc(t,Nr(n,"type.defaultProps.domain"))?r:t},zT=function(t,r){var n=t.type.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,m=n.hide;return mt(mt({},_e(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:qb(t),value:Pt(r,i),type:d,payload:r,chartType:h,hide:m})};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){UT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UT(e,t,r){return t=k9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=P9(e,"string");return Fl(t)=="symbol"?t:t+""}function P9(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A9(e,t){return T9(e)||E9(e,t)||C9(e,t)||_9()}function _9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(e,t){if(e){if(typeof e=="string")return RP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RP(e,t)}}function RP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function T9(e){if(Array.isArray(e))return e}var Ed=Math.PI/180,R9=function(t){return t*180/Math.PI},at=function(t,r,n,i){return{x:t+Math.cos(-Ed*i)*n,y:r+Math.sin(-Ed*i)*n}},WT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M9=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,h=t.endAngle,m=tr(t.cx,l,l/2),p=tr(t.cy,u,u/2),x=WT(l,u,n),v=tr(t.innerRadius,x,0),b=tr(t.outerRadius,x,x*.8),w=Object.keys(r);return w.reduce(function(y,S){var _=r[S],C=_.domain,O=_.reversed,j;if(De(_.range))i==="angleAxis"?j=[d,h]:i==="radiusAxis"&&(j=[v,b]),O&&(j=[j[1],j[0]]);else{j=_.range;var P=j,E=A9(P,2);d=E[0],h=E[1]}var T=LT(_,o),M=T.realScaleType,L=T.scale;L.domain(C).range(j),FT(L);var R=BT(L,$n($n({},_),{},{realScaleType:M})),F=$n($n($n({},_),R),{},{range:j,radius:b,realScaleType:M,scale:L,cx:m,cy:p,innerRadius:v,outerRadius:b,startAngle:d,endAngle:h});return $n($n({},y),{},UT({},S,F))},{})},I9=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},$9=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=I9({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:u,angle:R9(h),angleInRadian:h}},D9=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},L9=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},MP=function(t,r){var n=t.x,i=t.y,o=$9({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var m=D9(r),p=m.startAngle,x=m.endAngle,v=u,b;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;b=v>=x&&v<=p}return b?$n($n({},r),{},{radius:l,angle:L9(v,r)}):null},KT=function(t){return!k.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}var F9=["offset"];function B9(e){return W9(e)||U9(e)||z9(e)||q9()}function q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(e,t){if(e){if(typeof e=="string")return Vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(e,t)}}function U9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W9(e){if(Array.isArray(e))return Vy(e)}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K9(e,t){if(e==null)return{};var r=H9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return t=V9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=Y9(e,"string");return Bl(t)=="symbol"?t:t+""}function Y9(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}var X9=function(t){var r=t.value,n=t.formatter,i=De(t.children)?r:t.children;return Me(n)?n(i):i},Q9=function(t,r){var n=er(r-t),i=Math.min(Math.abs(r-t),360);return n*i},J9=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,h=d.cx,m=d.cy,p=d.innerRadius,x=d.outerRadius,v=d.startAngle,b=d.endAngle,w=d.clockWise,y=(p+x)/2,S=Q9(v,b),_=S>=0?1:-1,C,O;i==="insideStart"?(C=v+_*l,O=w):i==="insideEnd"?(C=b-_*l,O=!w):i==="end"&&(C=b+_*l,O=w),O=S<=0?O:!O;var j=at(h,m,y,C),P=at(h,m,y,C+(O?1:-1)*359),E="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),T=De(t.id)?eo("recharts-radial-line-"):t.id;return Y.createElement("text",ql({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",u)}),Y.createElement("defs",null,Y.createElement("path",{id:T,d:E})),Y.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Z9=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,h=o.outerRadius,m=o.startAngle,p=o.endAngle,x=(m+p)/2;if(i==="outside"){var v=at(l,u,h+n,x),b=v.x,w=v.y;return{x:b,y:w,textAnchor:b>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+h)/2,S=at(l,u,y,x),_=S.x,C=S.y;return{x:_,y:C,textAnchor:"middle",verticalAnchor:"middle"}},eU=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,h=l.width,m=l.height,p=m>=0?1:-1,x=p*i,v=p>0?"end":"start",b=p>0?"start":"end",w=h>=0?1:-1,y=w*i,S=w>0?"end":"start",_=w>0?"start":"end";if(o==="top"){var C={x:u+h/2,y:d-p*i,textAnchor:"middle",verticalAnchor:v};return kt(kt({},C),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var O={x:u+h/2,y:d+m+x,textAnchor:"middle",verticalAnchor:b};return kt(kt({},O),n?{height:Math.max(n.y+n.height-(d+m),0),width:h}:{})}if(o==="left"){var j={x:u-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"};return kt(kt({},j),n?{width:Math.max(j.x-n.x,0),height:m}:{})}if(o==="right"){var P={x:u+h+y,y:d+m/2,textAnchor:_,verticalAnchor:"middle"};return kt(kt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:m}:{})}var E=n?{width:h,height:m}:{};return o==="insideLeft"?kt({x:u+y,y:d+m/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?kt({x:u+h-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"},E):o==="insideTop"?kt({x:u+h/2,y:d+x,textAnchor:"middle",verticalAnchor:b},E):o==="insideBottom"?kt({x:u+h/2,y:d+m-x,textAnchor:"middle",verticalAnchor:v},E):o==="insideTopLeft"?kt({x:u+y,y:d+x,textAnchor:_,verticalAnchor:b},E):o==="insideTopRight"?kt({x:u+h-y,y:d+x,textAnchor:S,verticalAnchor:b},E):o==="insideBottomLeft"?kt({x:u+y,y:d+m-x,textAnchor:_,verticalAnchor:v},E):o==="insideBottomRight"?kt({x:u+h-y,y:d+m-x,textAnchor:S,verticalAnchor:v},E):Zs(o)&&(me(o.x)||ni(o.x))&&(me(o.y)||ni(o.y))?kt({x:u+tr(o.x,h),y:d+tr(o.y,m),textAnchor:"end",verticalAnchor:"end"},E):kt({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},E)},tU=function(t){return"cx"in t&&me(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=K9(e,F9),i=kt({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,h=i.content,m=i.className,p=m===void 0?"":m,x=i.textBreakAll;if(!o||De(u)&&De(d)&&!k.isValidElement(h)&&!Me(h))return null;if(k.isValidElement(h))return k.cloneElement(h,i);var v;if(Me(h)){if(v=k.createElement(h,i),k.isValidElement(v))return v}else v=X9(i);var b=tU(o),w=_e(i,!0);if(b&&(l==="insideStart"||l==="insideEnd"||l==="end"))return J9(i,v,w);var y=b?Z9(i):eU(i);return Y.createElement(vi,ql({className:Le("recharts-label",p)},w,y,{breakAll:x}),v)}Dt.displayName="Label";var HT=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,h=t.innerRadius,m=t.outerRadius,p=t.x,x=t.y,v=t.top,b=t.left,w=t.width,y=t.height,S=t.clockWise,_=t.labelViewBox;if(_)return _;if(me(w)&&me(y)){if(me(p)&&me(x))return{x:p,y:x,width:w,height:y};if(me(v)&&me(b))return{x:v,y:b,width:w,height:y}}return me(p)&&me(x)?{x:p,y:x,width:0,height:0}:me(r)&&me(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:m||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},rU=function(t,r){return t?t===!0?Y.createElement(Dt,{key:"label-implicit",viewBox:r}):_t(t)?Y.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Dt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):Y.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Me(t)?Y.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):Zs(t)?Y.createElement(Dt,ql({viewBox:r},t,{key:"label-implicit"})):null:null},nU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=HT(t),l=Sr(i,Dt).map(function(d,h){return k.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return l;var u=rU(t.label,r||o);return[u].concat(B9(l))};Dt.parseViewBox=HT;Dt.renderCallByParent=nU;var b0,$P;function aU(){if($P)return b0;$P=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return b0=e,b0}var iU=aU();const sU=Xe(iU);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var oU=["valueAccessor"],lU=["data","dataKey","clockWise","id","textBreakAll"];function cU(e){return hU(e)||fU(e)||dU(e)||uU()}function uU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){if(e){if(typeof e=="string")return Yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(e,t)}}function fU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hU(e){if(Array.isArray(e))return Yy(e)}function Yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=gU(e,"string");return zl(t)=="symbol"?t:t+""}function gU(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FP(e,t){if(e==null)return{};var r=xU(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yU=function(t){return Array.isArray(t.value)?sU(t.value):t.value};function Un(e){var t=e.valueAccessor,r=t===void 0?yU:t,n=FP(e,oU),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=FP(n,lU);return!i||!i.length?null:Y.createElement(He,{className:"recharts-label-list"},i.map(function(m,p){var x=De(o)?r(m,p):Pt(m&&m.payload,o),v=De(u)?{}:{id:"".concat(u,"-").concat(p)};return Y.createElement(Dt,Td({},_e(m,!0),h,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Dt.parseViewBox(De(l)?m:LP(LP({},m),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Un.displayName="LabelList";function vU(e,t){return e?e===!0?Y.createElement(Un,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||Me(e)?Y.createElement(Un,{key:"labelList-implicit",data:t,content:e}):Zs(e)?Y.createElement(Un,Td({data:t},e,{key:"labelList-implicit"})):null:null}function bU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Sr(n,Un).map(function(l,u){return k.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=vU(e.label,t);return[o].concat(cU(i))}Un.renderCallByParent=bU;function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=NU(e,"string");return Ul(t)=="symbol"?t:t+""}function NU(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SU=function(t,r){var n=er(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Hu=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,h=t.cornerIsExternal,m=d*(u?1:-1)+i,p=Math.asin(d/m)/Ed,x=h?o:o+l*p,v=at(r,n,m,x),b=at(r,n,i,x),w=h?o-l*p:o,y=at(r,n,m*Math.cos(p*Ed),w);return{center:v,circleTangency:b,lineTangency:y,theta:p}},GT=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=SU(l,u),h=l+d,m=at(r,n,o,l),p=at(r,n,o,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=at(r,n,i,l),b=at(r,n,i,h);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},OU=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,m=t.endAngle,p=er(m-h),x=Hu({cx:r,cy:n,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=x.circleTangency,b=x.lineTangency,w=x.theta,y=Hu({cx:r,cy:n,radius:o,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:d}),S=y.circleTangency,_=y.lineTangency,C=y.theta,O=d?Math.abs(h-m):Math.abs(h-m)-w-C;if(O<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):GT({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m});var j="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=Hu({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),E=P.circleTangency,T=P.lineTangency,M=P.theta,L=Hu({cx:r,cy:n,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=L.circleTangency,F=L.lineTangency,U=L.theta,W=d?Math.abs(h-m):Math.abs(h-m)-M-U;if(W<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},kU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VT=function(t){var r=qP(qP({},kU),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,x=r.className;if(l<o||m===p)return null;var v=Le("recharts-sector",x),b=l-o,w=tr(u,b,0,!0),y;return w>0&&Math.abs(m-p)<360?y=OU({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):y=GT({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:m,endAngle:p}),Y.createElement("path",Xy({},_e(r,!0),{className:v,d:y,role:"img"}))};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=_U(e,"string");return Wl(t)=="symbol"?t:t+""}function _U(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WP={curveBasisClosed:YD,curveBasisOpen:XD,curveBasis:VD,curveBumpX:MD,curveBumpY:ID,curveLinearClosed:QD,curveLinear:jf,curveMonotoneX:JD,curveMonotoneY:ZD,curveNatural:e8,curveStep:t8,curveStepAfter:n8,curveStepBefore:r8},Gu=function(t){return t.x===+t.x&&t.y===+t.y},nl=function(t){return t.x},al=function(t){return t.y},CU=function(t,r){if(Me(t))return t;var n="curve".concat(vf(t));return(n==="curveMonotone"||n==="curveBump")&&r?WP["".concat(n).concat(r==="vertical"?"Y":"X")]:WP[n]||jf},EU=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,h=d===void 0?!1:d,m=CU(n,u),p=h?o.filter(function(w){return Gu(w)}):o,x;if(Array.isArray(l)){var v=h?l.filter(function(w){return Gu(w)}):l,b=p.map(function(w,y){return UP(UP({},w),{},{base:v[y]})});return u==="vertical"?x=Lu().y(al).x1(nl).x0(function(w){return w.base.x}):x=Lu().x(nl).y1(al).y0(function(w){return w.base.y}),x.defined(Gu).curve(m),x(b)}return u==="vertical"&&me(l)?x=Lu().y(al).x1(nl).x0(l):me(l)?x=Lu().x(nl).y1(al).y0(l):x=GC().x(nl).y(al),x.defined(Gu).curve(m),x(p)},Rd=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?EU(t):i;return k.createElement("path",Qy({},_e(t,!1),id(t),{className:Le("recharts-curve",r),d:l,ref:o}))},j0={exports:{}},w0,KP;function TU(){if(KP)return w0;KP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w0=e,w0}var N0,HP;function RU(){if(HP)return N0;HP=1;var e=TU();function t(){}function r(){}return r.resetWarningCache=t,N0=function(){function n(l,u,d,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},N0}var GP;function MU(){return GP||(GP=1,j0.exports=RU()()),j0.exports}var IU=MU();const Ye=Xe(IU),{getOwnPropertyNames:$U,getOwnPropertySymbols:DU}=Object,{hasOwnProperty:LU}=Object.prototype;function S0(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function Vu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function FU(e){return e!=null?e[Symbol.toStringTag]:void 0}function VP(e){return $U(e).concat(DU(e))}const BU=Object.hasOwn||((e,t)=>LU.call(e,t));function _i(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const qU="__v",zU="__o",UU="_owner",{getOwnPropertyDescriptor:YP,keys:XP}=Object;function WU(e,t){return e.byteLength===t.byteLength&&Md(new Uint8Array(e),new Uint8Array(t))}function KU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function HU(e,t){return e.byteLength===t.byteLength&&Md(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function GU(e,t){return _i(e.getTime(),t.getTime())}function VU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YU(e,t){return e===t}function QP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const h=t.entries();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(i[p]){p++;continue}const x=l.value,v=u.value;if(r.equals(x[0],v[0],d,p,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){m=i[p]=!0;break}p++}if(!m)return!1;d++}return!0}const XU=_i;function QU(e,t,r){const n=XP(e);let i=n.length;if(XP(t).length!==i)return!1;for(;i-- >0;)if(!YT(e,t,r,n[i]))return!1;return!0}function il(e,t,r){const n=VP(e);let i=n.length;if(VP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!YT(e,t,r,o)||(l=YP(e,o),u=YP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function JU(e,t){return _i(e.valueOf(),t.valueOf())}function ZU(e,t){return e.source===t.source&&e.flags===t.flags}function JP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(!i[m]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1}return!0}function Md(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eW(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YT(e,t,r,n){return(n===UU||n===zU||n===qU)&&(e.$$typeof||t.$$typeof)?!0:BU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const tW="[object ArrayBuffer]",rW="[object Arguments]",nW="[object Boolean]",aW="[object DataView]",iW="[object Date]",sW="[object Error]",oW="[object Map]",lW="[object Number]",cW="[object Object]",uW="[object RegExp]",dW="[object Set]",fW="[object String]",hW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pW="[object URL]",mW=Object.prototype.toString;function gW({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:b}){return function(y,S,_){if(y===S)return!0;if(y==null||S==null)return!1;const C=typeof y;if(C!==typeof S)return!1;if(C!=="object")return C==="number"?u(y,S,_):C==="function"?o(y,S,_):!1;const O=y.constructor;if(O!==S.constructor)return!1;if(O===Object)return d(y,S,_);if(Array.isArray(y))return t(y,S,_);if(O===Date)return n(y,S,_);if(O===RegExp)return m(y,S,_);if(O===Map)return l(y,S,_);if(O===Set)return p(y,S,_);const j=mW.call(y);if(j===iW)return n(y,S,_);if(j===uW)return m(y,S,_);if(j===oW)return l(y,S,_);if(j===dW)return p(y,S,_);if(j===cW)return typeof y.then!="function"&&typeof S.then!="function"&&d(y,S,_);if(j===pW)return v(y,S,_);if(j===sW)return i(y,S,_);if(j===rW)return d(y,S,_);if(hW[j])return x(y,S,_);if(j===tW)return e(y,S,_);if(j===aW)return r(y,S,_);if(j===nW||j===lW||j===fW)return h(y,S,_);if(b){let P=b[j];if(!P){const E=FU(y);E&&(P=b[E])}if(P)return P(y,S,_)}return!1}}function xW({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:WU,areArraysEqual:r?il:KU,areDataViewsEqual:HU,areDatesEqual:GU,areErrorsEqual:VU,areFunctionsEqual:YU,areMapsEqual:r?S0(QP,il):QP,areNumbersEqual:XU,areObjectsEqual:r?il:QU,arePrimitiveWrappersEqual:JU,areRegExpsEqual:ZU,areSetsEqual:r?S0(JP,il):JP,areTypedArraysEqual:r?S0(Md,il):Md,areUrlsEqual:eW,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Vu(n.areArraysEqual),o=Vu(n.areMapsEqual),l=Vu(n.areObjectsEqual),u=Vu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function yW(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function vW({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:h=e?new WeakMap:void 0,meta:m}=r();return t(u,d,{cache:h,equals:n,meta:m,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const bW=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:()=>_i});$a({strict:!0,createInternalComparator:()=>_i});$a({circular:!0,createInternalComparator:()=>_i});$a({circular:!0,createInternalComparator:()=>_i,strict:!0});function $a(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=xW(e),l=gW(o),u=r?r(l):yW(l);return vW({circular:t,comparator:l,createState:n,equals:u,strict:i})}function jW(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ZP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):jW(i)};requestAnimationFrame(n)}function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function wW(e){return kW(e)||OW(e)||SW(e)||NW()}function NW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SW(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kW(e){if(Array.isArray(e))return e}function PW(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=wW(l),d=u[0],h=u.slice(1);if(typeof d=="number"){ZP(i.bind(null,h),d);return}i(d),ZP(i.bind(null,h));return}Jy(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){XT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XT(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=_W(e,"string");return Kl(t)==="symbol"?t:String(t)}function _W(e,t){if(Kl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CW=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},EW=function(t){return t},TW=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ml=function(t,r){return Object.keys(r).reduce(function(n,i){return rA(rA({},n),{},XT({},i,t(i,r[i])))},{})},nA=function(t,r,n){return t.map(function(i){return"".concat(TW(i)," ").concat(r,"ms ").concat(n)}).join(",")};function RW(e,t){return $W(e)||IW(e,t)||QT(e,t)||MW()}function MW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function $W(e){if(Array.isArray(e))return e}function DW(e){return BW(e)||FW(e)||QT(e)||LW()}function LW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QT(e,t){if(e){if(typeof e=="string")return Zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(e,t)}}function FW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BW(e){if(Array.isArray(e))return Zy(e)}function Zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Id=1e-4,JT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZT=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},aA=function(t,r){return function(n){var i=JT(t,r);return ZT(i,n)}},qW=function(t,r){return function(n){var i=JT(t,r),o=[].concat(DW(i.map(function(l,u){return l*u}).slice(1)),[0]);return ZT(o,n)}},iA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),m=RW(h,4);i=m[0],o=m[1],l=m[2],u=m[3]}}}var p=aA(i,l),x=aA(o,u),v=qW(i,l),b=function(S){return S>1?1:S<0?0:S},w=function(S){for(var _=S>1?1:S,C=_,O=0;O<8;++O){var j=p(C)-_,P=v(C);if(Math.abs(j-_)<Id||P<Id)return x(C);C=b(C-j/P)}return x(C)};return w.isStepper=!1,w},zW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(m,p,x){var v=-(m-p)*n,b=x*o,w=x+(v-b)*u/1e3,y=x*u/1e3+m;return Math.abs(y-p)<Id&&Math.abs(w)<Id?[p,0]:[y,w]};return d.isStepper=!0,d.dt=u,d},UW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iA(i);case"spring":return zW();default:if(i.split("(")[0]==="cubic-bezier")return iA(i)}return typeof i=="function"?i:null};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function sA(e){return HW(e)||KW(e)||e5(e)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HW(e){if(Array.isArray(e))return tv(e)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ev(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=VW(e,"string");return Hl(t)==="symbol"?t:String(t)}function VW(e,t){if(Hl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YW(e,t){return JW(e)||QW(e,t)||e5(e,t)||XW()}function XW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5(e,t){if(e){if(typeof e=="string")return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function JW(e){if(Array.isArray(e))return e}var $d=function(t,r,n){return t+(r-t)*n},rv=function(t){var r=t.from,n=t.to;return r!==n},ZW=function e(t,r,n){var i=ml(function(o,l){if(rv(l)){var u=t(l.from,l.to,l.velocity),d=YW(u,2),h=d[0],m=d[1];return qt(qt({},l),{},{from:h,velocity:m})}return l},r);return n<1?ml(function(o,l){return rv(l)?qt(qt({},l),{},{velocity:$d(l.velocity,i[o].velocity,n),from:$d(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const eK=(function(e,t,r,n,i){var o=CW(e,t),l=o.reduce(function(y,S){return qt(qt({},y),{},ev({},S,[e[S],t[S]]))},{}),u=o.reduce(function(y,S){return qt(qt({},y),{},ev({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,h,m,p=function(){return null},x=function(){return ml(function(S,_){return _.from},u)},v=function(){return!Object.values(u).filter(rv).length},b=function(S){h||(h=S);var _=S-h,C=_/r.dt;u=ZW(r,u,C),i(qt(qt(qt({},e),t),x())),h=S,v()||(d=requestAnimationFrame(p))},w=function(S){m||(m=S);var _=(S-m)/n,C=ml(function(j,P){return $d.apply(void 0,sA(P).concat([r(_)]))},l);if(i(qt(qt(qt({},e),t),C)),_<1)d=requestAnimationFrame(p);else{var O=ml(function(j,P){return $d.apply(void 0,sA(P).concat([r(1)]))},l);i(qt(qt(qt({},e),t),O))}};return p=r.isStepper?b:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var tK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rK(e,t){if(e==null)return{};var r=nK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nK(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function O0(e){return oK(e)||sK(e)||iK(e)||aK()}function aK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iK(e,t){if(e){if(typeof e=="string")return nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nv(e,t)}}function sK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oK(e){if(Array.isArray(e))return nv(e)}function nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dl(e,t,r){return t=t5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t5(n.key),n)}}function uK(e,t,r){return t&&cK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t5(e){var t=dK(e,"string");return Ts(t)==="symbol"?t:String(t)}function dK(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},av(e,t)}function hK(e){var t=pK();return function(){var n=Dd(e),i;if(t){var o=Dd(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return iv(this,i)}}function iv(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sv(e)}function sv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}var jn=(function(e){fK(r,e);var t=hK(r);function r(n,i){var o;lK(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,h=l.from,m=l.to,p=l.steps,x=l.children,v=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sv(o)),o.changeStyle=o.changeStyle.bind(sv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:m}),iv(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof x=="function")return o.state={style:h},iv(o);o.state={style:d?dl({},d,h):h}}else o.state={style:{}};return o}return uK(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,m=o.to,p=o.from,x=this.state.style;if(u){if(!l){var v={style:d?dl({},d,m):m};this.state&&x&&(d&&x[d]!==m||!d&&x!==m)&&this.setState(v);return}if(!(bW(i.to,m)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||h?p:i.to;if(this.state&&x){var y={style:d?dl({},d,w):w};(d&&x[d]!==w||!d&&x!==w)&&this.setState(y)}this.runAnimation(Yr(Yr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,h=i.easing,m=i.begin,p=i.onAnimationEnd,x=i.onAnimationStart,v=eK(l,u,UW(h),d,this.changeStyle),b=function(){o.stopJSAnimation=v()};this.manager.start([x,m,b,d,p])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,h=l[0],m=h.style,p=h.duration,x=p===void 0?0:p,v=function(w,y,S){if(S===0)return w;var _=y.duration,C=y.easing,O=C===void 0?"ease":C,j=y.style,P=y.properties,E=y.onAnimationEnd,T=S>0?l[S-1]:y,M=P||Object.keys(j);if(typeof O=="function"||O==="spring")return[].concat(O0(w),[o.runJSAnimation.bind(o,{from:T.style,to:j,duration:_,easing:O}),_]);var L=nA(M,_,O),R=Yr(Yr(Yr({},T.style),j),{},{transition:L});return[].concat(O0(w),[R,_,E]).filter(EW)};return this.manager.start([d].concat(O0(l.reduce(v,[m,Math.max(x,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=PW());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,h=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,x=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var w=u?dl({},u,d):d,y=nA(Object.keys(w),l,h);b.start([m,o,Yr(Yr({},w),{},{transition:y}),l,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=rK(i,tK),h=k.Children.count(o),m=this.state.style;if(typeof o=="function")return o(m);if(!u||h===0||l<=0)return o;var p=function(v){var b=v.props,w=b.style,y=w===void 0?{}:w,S=b.className,_=k.cloneElement(v,Yr(Yr({},d),{},{style:Yr(Yr({},y),m),className:S}));return _};return h===1?p(k.Children.only(o)):Y.createElement("div",null,k.Children.map(o,function(x){return p(x)}))}}]),r})(k.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function mK(e,t){return vK(e)||yK(e,t)||xK(e,t)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(e,t){if(e){if(typeof e=="string")return cA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function vK(e){if(Array.isArray(e))return e}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=wK(e,"string");return Gl(t)=="symbol"?t:t+""}function wK(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fA=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,m;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=o[x]>l?l:o[x];m="M".concat(t,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(r)),m+="L ".concat(t+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+u*p[1])),m+="L ".concat(t+n,",").concat(r+i-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(r+i)),m+="L ".concat(t+d*p[3],",").concat(r+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-u*p[3])),m+="Z"}else if(l>0&&o===+o&&o>0){var b=Math.min(l,o);m="M ".concat(t,",").concat(r+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+d*b,",").concat(r,`
            L `).concat(t+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n,",").concat(r+u*b,`
            L `).concat(t+n,",").concat(r+i-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n-d*b,",").concat(r+i,`
            L `).concat(t+d*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t,",").concat(r+i-u*b," Z")}else m="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},NK=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(o,o+u),m=Math.max(o,o+u),p=Math.min(l,l+d),x=Math.max(l,l+d);return n>=h&&n<=m&&i>=p&&i<=x}return!1},SK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zb=function(t){var r=dA(dA({},SK),t),n=k.useRef(),i=k.useState(-1),o=mK(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,m=r.width,p=r.height,x=r.radius,v=r.className,b=r.animationEasing,w=r.animationDuration,y=r.animationBegin,S=r.isAnimationActive,_=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||m===0||p===0)return null;var C=Le("recharts-rectangle",v);return _?Y.createElement(jn,{canBegin:l>0,from:{width:m,height:p,x:d,y:h},to:{width:m,height:p,x:d,y:h},duration:w,animationEasing:b,isActive:_},function(O){var j=O.width,P=O.height,E=O.x,T=O.y;return Y.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:S,easing:b},Y.createElement("path",Ld({},_e(r,!0),{className:C,d:fA(E,T,j,P,x),ref:n})))}):Y.createElement("path",Ld({},_e(r,!0),{className:C,d:fA(d,h,m,p,x)}))},OK=["points","className","baseLinePoints","connectNulls"];function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function kK(e,t){if(e==null)return{};var r=PK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hA(e){return EK(e)||CK(e)||_K(e)||AK()}function AK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(e,t){if(e){if(typeof e=="string")return ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(e,t)}}function CK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EK(e){if(Array.isArray(e))return ov(e)}function ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pA=function(t){return t&&t.x===+t.x&&t.y===+t.y},TK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){pA(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),pA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gl=function(t,r){var n=TK(t);r&&(n=[n.reduce(function(o,l){return[].concat(hA(o),hA(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},RK=function(t,r,n){var i=gl(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(gl(r.reverse(),n).slice(1))},MK=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=kK(t,OK);if(!r||!r.length)return null;var u=Le("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",h=RK(r,i,o);return Y.createElement("g",{className:u},Y.createElement("path",os({},_e(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?Y.createElement("path",os({},_e(l,!0),{fill:"none",d:gl(r,o)})):null,d?Y.createElement("path",os({},_e(l,!0),{fill:"none",d:gl(i,o)})):null)}var m=gl(r,o);return Y.createElement("path",os({},_e(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}var Lf=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=Le("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",lv({},_e(t,!1),id(t),{className:l,cx:r,cy:n,r:i})):null};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}var IK=["x","y","top","left","width","height","className"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(this,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return t=LK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=FK(e,"string");return Vl(t)=="symbol"?t:t+""}function FK(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BK(e,t){if(e==null)return{};var r=qK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zK=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},UK=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,h=d===void 0?0:d,m=t.width,p=m===void 0?0:m,x=t.height,v=x===void 0?0:x,b=t.className,w=BK(t,IK),y=$K({x:n,y:o,top:u,left:h,width:p,height:v},w);return!me(n)||!me(o)||!me(p)||!me(v)||!me(u)||!me(h)?null:Y.createElement("path",cv({},_e(y,!0),{className:Le("recharts-cross",b),d:zK(n,o,p,v,u,h)}))},k0,gA;function WK(){if(gA)return k0;gA=1;var e=Rf(),t=gT(),r=Sn();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return k0=n,k0}var KK=WK();const HK=Xe(KK);var P0,xA;function GK(){if(xA)return P0;xA=1;var e=Rf(),t=Sn(),r=xT();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return P0=n,P0}var VK=GK();const YK=Xe(VK);var XK=["cx","cy","angle","ticks","axisLine"],QK=["ticks","tick","angle","tickFormatter","stroke"];function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){Ff(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vA(e,t){if(e==null)return{};var r=JK(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n5(n.key),n)}}function eH(e,t,r){return t&&bA(e.prototype,t),r&&bA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tH(e,t,r){return t=Fd(t),rH(e,r5()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function rH(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nH(e)}function nH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r5=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function aH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uv(e,t)}function uv(e,t){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uv(e,t)}function Ff(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=iH(e,"string");return Rs(t)=="symbol"?t:t+""}function iH(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf=(function(e){function t(){return ZK(this,t),tH(this,t,arguments)}return aH(t,e),eH(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return at(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=HK(u,function(m){return m.coordinate||0}),h=YK(u,function(m){return m.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,h=vA(n,XK),m=u.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),p=at(i,o,m[0],l),x=at(i,o,m[1],l),v=Qa(Qa(Qa({},_e(h,!1)),{},{fill:"none"},_e(d,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return Y.createElement("line",xl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,h=i.stroke,m=vA(i,QK),p=this.getTickTextAnchor(),x=_e(m,!1),v=_e(l,!1),b=o.map(function(w,y){var S=n.getTickValueCoord(w),_=Qa(Qa(Qa(Qa({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:h},v),{},{index:y},S),{},{payload:w});return Y.createElement(He,xl({className:Le("recharts-polar-radius-axis-tick",KT(l)),key:"tick-".concat(w.coordinate)},yi(n.props,w,y)),t.renderTickItem(l,_,d?d(w.value,y):w.value))});return Y.createElement(He,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:Y.createElement(He,{className:Le("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return Y.isValidElement(n)?l=Y.cloneElement(n,i):Me(n)?l=n(i):l=Y.createElement(vi,xl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(k.PureComponent);Ff(Bf,"displayName","PolarRadiusAxis");Ff(Bf,"axisType","radiusAxis");Ff(Bf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(this,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i5(n.key),n)}}function oH(e,t,r){return t&&wA(e.prototype,t),r&&wA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lH(e,t,r){return t=Bd(t),cH(e,a5()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function cH(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uH(e)}function uH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function dH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dv(e,t)}function qf(e,t,r){return t=i5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5(e){var t=fH(e,"string");return Ms(t)=="symbol"?t:t+""}function fH(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hH=Math.PI/180,NA=1e-5,zf=(function(e){function t(){return sH(this,t),lH(this,t,arguments)}return dH(t,e),oH(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,h=i.tickSize,m=h||8,p=at(o,l,u,n.coordinate),x=at(o,l,u+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*hH),l;return o>NA?l=i==="outer"?"start":"end":o<-NA?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,h=Ja(Ja({},_e(this.props,!1)),{},{fill:"none"},_e(u,!1));if(d==="circle")return Y.createElement(Lf,ti({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var m=this.props.ticks,p=m.map(function(x){return at(i,o,l,x.coordinate)});return Y.createElement(MK,ti({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,h=i.stroke,m=_e(this.props,!1),p=_e(l,!1),x=Ja(Ja({},m),{},{fill:"none"},_e(u,!1)),v=o.map(function(b,w){var y=n.getTickLineCoord(b),S=n.getTickTextAnchor(b),_=Ja(Ja(Ja({textAnchor:S},m),{},{stroke:"none",fill:h},p),{},{index:w,payload:b,x:y.x2,y:y.y2});return Y.createElement(He,ti({className:Le("recharts-polar-angle-axis-tick",KT(l)),key:"tick-".concat(b.coordinate)},yi(n.props,b,w)),u&&Y.createElement("line",ti({className:"recharts-polar-angle-axis-tick-line"},x,y)),l&&t.renderTickItem(l,_,d?d(b.value,w):b.value))});return Y.createElement(He,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:Y.createElement(He,{className:Le("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return Y.isValidElement(n)?l=Y.cloneElement(n,i):Me(n)?l=n(i):l=Y.createElement(vi,ti({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(k.PureComponent);qf(zf,"displayName","PolarAngleAxis");qf(zf,"axisType","angleAxis");qf(zf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var A0,SA;function pH(){if(SA)return A0;SA=1;var e=gE(),t=e(Object.getPrototypeOf,Object);return A0=t,A0}var _0,OA;function mH(){if(OA)return _0;OA=1;var e=Vn(),t=pH(),r=Yn(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function h(m){if(!r(m)||e(m)!=n)return!1;var p=t(m);if(p===null)return!0;var x=u.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==d}return _0=h,_0}var gH=mH();const xH=Xe(gH);var C0,kA;function yH(){if(kA)return C0;kA=1;var e=Vn(),t=Yn(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return C0=n,C0}var vH=yH();const bH=Xe(vH);function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function jH(e,t){return OH(e)||SH(e,t)||NH(e,t)||wH()}function wH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(e,t){if(e){if(typeof e=="string")return PA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(e,t)}}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function OH(e){if(Array.isArray(e))return e}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=AH(e,"string");return Yl(t)=="symbol"?t:t+""}function AH(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CA=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},_H={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CH=function(t){var r=_A(_A({},_H),t),n=k.useRef(),i=k.useState(-1),o=jH(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&u(C)}catch{}},[]);var d=r.x,h=r.y,m=r.upperWidth,p=r.lowerWidth,x=r.height,v=r.className,b=r.animationEasing,w=r.animationDuration,y=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||x!==+x||m===0&&p===0||x===0)return null;var _=Le("recharts-trapezoid",v);return S?Y.createElement(jn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:h},to:{upperWidth:m,lowerWidth:p,height:x,x:d,y:h},duration:w,animationEasing:b,isActive:S},function(C){var O=C.upperWidth,j=C.lowerWidth,P=C.height,E=C.x,T=C.y;return Y.createElement(jn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:b},Y.createElement("path",qd({},_e(r,!0),{className:_,d:CA(E,T,O,j,P),ref:n})))}):Y.createElement("g",null,Y.createElement("path",qd({},_e(r,!0),{className:_,d:CA(d,h,m,p,x)})))},EH=["option","shapeType","propTransformer","activeClassName","isActive"];function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function TH(e,t){if(e==null)return{};var r=RH(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return t=IH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=$H(e,"string");return Xl(t)=="symbol"?t:t+""}function $H(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){return zd(zd({},t),e)}function LH(e,t){return e==="symbols"}function TA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Y.createElement(zb,r);case"trapezoid":return Y.createElement(CH,r);case"sector":return Y.createElement(VT,r);case"symbols":if(LH(t))return Y.createElement(sb,r);break;default:return null}}function FH(e){return k.isValidElement(e)?e.props:e}function s5(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?DH:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=TH(e,EH),h;if(k.isValidElement(t))h=k.cloneElement(t,zd(zd({},d),FH(t)));else if(Me(t))h=t(d);else if(xH(t)&&!bH(t)){var m=i(t,d);h=Y.createElement(TA,{shapeType:r,elementProps:m})}else{var p=d;h=Y.createElement(TA,{shapeType:r,elementProps:p})}return u?Y.createElement(He,{className:l},h):h}function Uf(e,t){return t!=null&&"trapezoids"in e.props}function Wf(e,t){return t!=null&&"sectors"in e.props}function Ql(e,t){return t!=null&&"points"in e.props}function BH(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function qH(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function zH(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function UH(e,t){var r;return Uf(e,t)?r=BH:Wf(e,t)?r=qH:Ql(e,t)&&(r=zH),r}function WH(e,t){var r;return Uf(e,t)?r="trapezoids":Wf(e,t)?r="sectors":Ql(e,t)&&(r="points"),r}function KH(e,t){if(Uf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ql(e,t)?t.payload:{}}function HH(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=WH(r,t),o=KH(r,t),l=n.filter(function(d,h){var m=vc(o,d),p=r.props[i].filter(function(b){var w=UH(r,t);return w(b,t)}),x=r.props[i].indexOf(p[p.length-1]),v=h===x;return m&&v}),u=n.indexOf(l[l.length-1]);return u}var ed;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l5(n.key),n)}}function VH(e,t,r){return t&&MA(e.prototype,t),r&&MA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YH(e,t,r){return t=Ud(t),XH(e,o5()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function XH(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QH(e)}function QH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function JH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fv(e,t)}function fv(e,t){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fv(e,t)}function $r(e,t,r){return t=l5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5(e){var t=ZH(e,"string");return Is(t)=="symbol"?t:t+""}function ZH(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=(function(e){function t(r){var n;return GH(this,t),n=YH(this,t,[r]),$r(n,"pieRef",null),$r(n,"sectorRefs",[]),$r(n,"id",eo("recharts-pie-")),$r(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(i)&&i()}),$r(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return JH(t,e),VH(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,h=o.valueKey,m=_e(this.props,!1),p=_e(l,!1),x=_e(u,!1),v=l&&l.offsetRadius||20,b=n.map(function(w,y){var S=(w.startAngle+w.endAngle)/2,_=at(w.cx,w.cy,w.outerRadius+v,S),C=rt(rt(rt(rt({},m),w),{},{stroke:"none"},p),{},{index:y,textAnchor:t.getTextAnchor(_.x,w.cx)},_),O=rt(rt(rt(rt({},m),w),{},{fill:"none",stroke:w.fill},x),{},{index:y,points:[at(w.cx,w.cy,w.outerRadius,S),_]}),j=d;return De(d)&&De(h)?j="value":De(d)&&(j=h),Y.createElement(He,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,O,"line"),t.renderLabelItem(l,C,Pt(w,j)))});return Y.createElement(He,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(h,m){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(m),x=d&&i.hasActiveIndex()?d:null,v=p?l:x,b=rt(rt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return Y.createElement(He,ls({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},yi(i.props,h,m),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(m)}),Y.createElement(s5,ls({option:v,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,p=this.state,x=p.prevSectors,v=p.prevIsAnimationActive;return Y.createElement(jn,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,y=[],S=o&&o[0],_=S.startAngle;return o.forEach(function(C,O){var j=x&&x[O],P=O>0?Nr(C,"paddingAngle",0):0;if(j){var E=jr(j.endAngle-j.startAngle,C.endAngle-C.startAngle),T=rt(rt({},C),{},{startAngle:_+P,endAngle:_+E(w)+P});y.push(T),_=T.endAngle}else{var M=C.endAngle,L=C.startAngle,R=jr(0,M-L),F=R(w),U=rt(rt({},C),{},{startAngle:_+P,endAngle:_+F+P});y.push(U),_=U.endAngle}}),Y.createElement(He,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!vc(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,h=i.cx,m=i.cy,p=i.innerRadius,x=i.outerRadius,v=i.isAnimationActive,b=this.state.isAnimationFinished;if(o||!l||!l.length||!me(h)||!me(m)||!me(p)||!me(x))return null;var w=Le("recharts-pie",u);return Y.createElement(He,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),Dt.renderCallByParent(this.props,null,!1),(!v||b)&&Un.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(Y.isValidElement(n))return Y.cloneElement(n,i);if(Me(n))return n(i);var l=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(Rd,ls({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(Y.isValidElement(n))return Y.cloneElement(n,i);var l=o;if(Me(n)&&(l=n(i),Y.isValidElement(l)))return l;var u=Le("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return Y.createElement(vi,ls({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(k.PureComponent);ed=Qn;$r(Qn,"displayName","Pie");$r(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ki.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$r(Qn,"parseDeltaAngle",function(e,t){var r=er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$r(Qn,"getRealPieData",function(e){var t=e.data,r=e.children,n=_e(e,!1),i=Sr(r,kf);return t&&t.length?t.map(function(o,l){return rt(rt(rt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return rt(rt({},n),o.props)}):[]});$r(Qn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=WT(i,o),u=n+tr(e.cx,i,i/2),d=r+tr(e.cy,o,o/2),h=tr(e.innerRadius,l,0),m=tr(e.outerRadius,l,l*.8),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}});$r(Qn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?rt(rt({},t.type.defaultProps),t.props):t.props,i=ed.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,h=n.dataKey,m=n.nameKey,p=n.valueKey,x=n.tooltipType,v=Math.abs(n.minAngle),b=ed.parseCoordinateOfPie(n,r),w=ed.parseDeltaAngle(l,u),y=Math.abs(w),S=h;De(h)&&De(p)?(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):De(h)&&(rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var _=i.filter(function(T){return Pt(T,S,0)!==0}).length,C=(y>=360?_:_-1)*d,O=y-_*v-C,j=i.reduce(function(T,M){var L=Pt(M,S,0);return T+(me(L)?L:0)},0),P;if(j>0){var E;P=i.map(function(T,M){var L=Pt(T,S,0),R=Pt(T,m,M),F=(me(L)?L:0)/j,U;M?U=E.endAngle+er(w)*d*(L!==0?1:0):U=l;var W=U+er(w)*((L!==0?v:0)+F*O),B=(U+W)/2,$=(b.innerRadius+b.outerRadius)/2,z=[{name:R,value:L,payload:T,dataKey:S,type:x}],V=at(b.cx,b.cy,$,B);return E=rt(rt(rt({percent:F,cornerRadius:o,name:R,tooltipPayload:z,midAngle:B,middleRadius:$,tooltipPosition:V},T),b),{},{value:Pt(T,S),startAngle:U,endAngle:W,payload:T,paddingAngle:er(w)*d}),E})}return rt(rt({},b),{},{sectors:P,data:i})});var E0,IA;function eG(){if(IA)return E0;IA=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=o;return h}return E0=r,E0}var T0,$A;function c5(){if($A)return T0;$A=1;var e=TE(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return T0=n,T0}var R0,DA;function tG(){if(DA)return R0;DA=1;var e=eG(),t=Of(),r=c5();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return R0=n,R0}var M0,LA;function rG(){if(LA)return M0;LA=1;var e=tG(),t=e();return M0=t,M0}var nG=rG();const Wd=Xe(nG);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){u5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u5(e,t,r){return t=aG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=iG(e,"string");return Jl(t)=="symbol"?t:t+""}function iG(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sG=["Webkit","Moz","O","ms"],oG=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=sG.reduce(function(o,l){return BA(BA({},o),{},u5({},l+n,r))},{});return i[t]=r,i};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(this,arguments)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f5(n.key),n)}}function cG(e,t,r){return t&&zA(e.prototype,t),r&&zA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uG(e,t,r){return t=Hd(t),dG(e,d5()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function dG(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fG(e)}function fG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function hG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hv(e,t)}function vr(e,t,r){return t=f5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5(e){var t=pG(e,"string");return $s(t)=="symbol"?t:t+""}function pG(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mG=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=hl().domain(Wd(0,d)).range([o,o+l-u]),m=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:m}},UA=function(t){return t.changedTouches&&!!t.changedTouches.length},Ds=(function(e){function t(r){var n;return lG(this,t),n=uG(this,t,[r]),vr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),vr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l==null||l({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vr(n,"handleSlideDragStart",function(i){var o=UA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hG(t,e),cG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,m=h.length-1,p=Math.min(i,o),x=Math.max(i,o),v=t.getIndexInRange(l,p),b=t.getIndexInRange(l,x);return{startIndex:v-v%d,endIndex:b===m?m:b-b%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Pt(o[n],u,n);return Me(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,h=d.x,m=d.width,p=d.travellerWidth,x=d.startIndex,v=d.endIndex,b=d.onChange,w=n.pageX-o;w>0?w=Math.min(w,h+m-p-u,h+m-p-l):w<0&&(w=Math.max(w,h-l,h-u));var y=this.getIndex({startX:l+w,endX:u+w});(y.startIndex!==x||y.endIndex!==v)&&b&&b(y),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=UA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,h=this.state[l],m=this.props,p=m.x,x=m.width,v=m.travellerWidth,b=m.onChange,w=m.gap,y=m.data,S={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,p+x-v-h):_<0&&(_=Math.max(_,p-h)),S[l]=h+_;var C=this.getIndex(S),O=C.startIndex,j=C.endIndex,P=function(){var T=y.length-1;return l==="startX"&&(u>d?O%w===0:j%w===0)||u<d&&j===T||l==="endX"&&(u>d?j%w===0:O%w===0)||u>d&&j===T};this.setState(vr(vr({},l,h+_),"brushMoveStartX",n.pageX),function(){b&&P()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,m=this.state[i],p=u.indexOf(m);if(p!==-1){var x=p+n;if(!(x===-1||x>=u.length)){var v=u[x];i==="startX"&&v>=h||i==="endX"&&v<=d||this.setState(vr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return Y.createElement("rect",{stroke:h,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,h=n.children,m=n.padding,p=k.Children.only(h);return p?Y.cloneElement(p,{x:i,y:o,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,h=d.y,m=d.travellerWidth,p=d.height,x=d.traveller,v=d.ariaLabel,b=d.data,w=d.startIndex,y=d.endIndex,S=Math.max(n,this.props.x),_=I0(I0({},_e(this.props,!1)),{},{x:S,y:h,width:m,height:p}),C=v||"Min value: ".concat((o=b[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=b[y])===null||l===void 0?void 0:l.name);return Y.createElement(He,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),u.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,_))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,h=o.travellerWidth,m=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,m=this.state,p=m.startX,x=m.endX,v=5,b={pointerEvents:"none",fill:h};return Y.createElement(He,{className:"recharts-brush-texts"},Y.createElement(vi,Kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:l+u/2},b),this.getTextOfTick(i)),Y.createElement(vi,Kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+d+v,y:l+u/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,h=n.width,m=n.height,p=n.alwaysShowText,x=this.state,v=x.startX,b=x.endX,w=x.isTextActive,y=x.isSlideMoving,S=x.isTravellerMoving,_=x.isTravellerFocused;if(!i||!i.length||!me(u)||!me(d)||!me(h)||!me(m)||h<=0||m<=0)return null;var C=Le("recharts-brush",o),O=Y.Children.count(l)===1,j=oG("userSelect","none");return Y.createElement(He,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(w||y||S||_||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(o+u/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,i):Me(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,m=n.startIndex,p=n.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return I0({prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?mG({data:o,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var x=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(k.PureComponent);vr(Ds,"displayName","Brush");vr(Ds,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $0,WA;function gG(){if(WA)return $0;WA=1;var e=hb();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return $0=t,$0}var D0,KA;function xG(){if(KA)return D0;KA=1;var e=cE(),t=Sn(),r=gG(),n=hr(),i=Of();function o(l,u,d){var h=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),h(l,t(u,3))}return D0=o,D0}var yG=xG();const vG=Xe(yG);var vn=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},L0,HA;function bG(){if(HA)return L0;HA=1;var e=PE();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return L0=t,L0}var F0,GA;function jG(){if(GA)return F0;GA=1;var e=bG(),t=OE(),r=Sn();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,h){e(l,d,o(u,d,h))}),l}return F0=n,F0}var wG=jG();const NG=Xe(wG);var B0,VA;function SG(){if(VA)return B0;VA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return B0=e,B0}var q0,YA;function OG(){if(YA)return q0;YA=1;var e=hb();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return q0=t,q0}var z0,XA;function kG(){if(XA)return z0;XA=1;var e=SG(),t=OG(),r=Sn(),n=hr(),i=Of();function o(l,u,d){var h=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),h(l,r(u,3))}return z0=o,z0}var PG=kG();const h5=Xe(PG);var AG=["x","y"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(this,arguments)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=EG(e,"string");return Zl(t)=="symbol"?t:t+""}function EG(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TG(e,t){if(e==null)return{};var r=RG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MG(e,t){var r=e.x,n=e.y,i=TG(e,AG),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),h="".concat(t.height||i.height),m=parseInt(h,10),p="".concat(t.width||i.width),x=parseInt(p,10);return sl(sl(sl(sl(sl({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:x,name:t.name,radius:t.radius})}function JA(e){return Y.createElement(s5,pv({shapeType:"rectangle",propTransformer:MG,activeClassName:"recharts-active-bar"},e))}var IG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=me(n)||tD(n);return o?t(n,i):(o||ji(),r)}},$G=["value","background"],p5;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function DG(e,t){if(e==null)return{};var r=LG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g5(n.key),n)}}function BG(e,t,r){return t&&e_(e.prototype,t),r&&e_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qG(e,t,r){return t=Vd(t),zG(e,m5()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function zG(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(e)}function UG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m5=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function WG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mv(e,t)}function Pa(e,t,r){return t=g5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g5(e){var t=KG(e,"string");return Ls(t)=="symbol"?t:t+""}function KG(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ea=(function(e){function t(){var r;FG(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=qG(this,t,[].concat(i)),Pa(r,"state",{isAnimationFinished:!1}),Pa(r,"id",eo("recharts-bar-")),Pa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Pa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return WG(t,e),BG(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,h=o.activeBar,m=_e(this.props,!1);return n&&n.map(function(p,x){var v=x===d,b=v?h:l,w=jt(jt(jt({},m),p),{},{isActive:v,option:b,index:x,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(He,Gd({className:"recharts-bar-rectangle"},yi(i.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x)}),Y.createElement(JA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,m=i.animationEasing,p=i.animationId,x=this.state.prevData;return Y.createElement(jn,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,w=o.map(function(y,S){var _=x&&x[S];if(_){var C=jr(_.x,y.x),O=jr(_.y,y.y),j=jr(_.width,y.width),P=jr(_.height,y.height);return jt(jt({},y),{},{x:C(b),y:O(b),width:j(b),height:P(b)})}if(l==="horizontal"){var E=jr(0,y.height),T=E(b);return jt(jt({},y),{},{y:y.y+y.height-T,height:T})}var M=jr(0,y.width),L=M(b);return jt(jt({},y),{},{width:L})});return Y.createElement(He,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!vc(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=_e(this.props.background,!1);return o.map(function(h,m){h.value;var p=h.background,x=DG(h,$G);if(!p)return null;var v=jt(jt(jt(jt(jt({},x),{},{fill:"#eee"},p),d),yi(n.props,h,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return Y.createElement(JA,Gd({key:"background-bar-".concat(m),option:n.props.background,isActive:m===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,h=o.layout,m=o.children,p=Sr(m,bc);if(!p)return null;var x=h==="vertical"?l[0].height/2:l[0].width/2,v=function(y,S){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Pt(y,S)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(He,b,p.map(function(w){return Y.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,m=n.top,p=n.width,x=n.height,v=n.isAnimationActive,b=n.background,w=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,S=Le("recharts-bar",l),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,O=_||C,j=De(w)?this.id:w;return Y.createElement(He,{className:S},_||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(j)},Y.createElement("rect",{x:_?h:h-p/2,y:C?m:m-x/2,width:_?p:p*2,height:C?x:x*2}))):null,Y.createElement(He,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(j,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,j),(!v||y)&&Un.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);p5=Ea;Pa(Ea,"displayName","Bar");Pa(Ea,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ki.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pa(Ea,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,m=e.dataStartIndex,p=e.displayedData,x=e.offset,v=g9(n,r);if(!v)return null;var b=t.layout,w=r.type.defaultProps,y=w!==void 0?jt(jt({},w),r.props):r.props,S=y.dataKey,_=y.children,C=y.minPointSize,O=b==="horizontal"?l:o,j=h?O.scale.domain():null,P=N9({numericAxis:O}),E=Sr(_,kf),T=p.map(function(M,L){var R,F,U,W,B,$;h?R=x9(h[m+L],j):(R=Pt(M,S),Array.isArray(R)||(R=[P,R]));var z=IG(C,p5.defaultProps.minPointSize)(R[1],L);if(b==="horizontal"){var V,G=[l.scale(R[0]),l.scale(R[1])],D=G[0],q=G[1];F=AP({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:M,index:L}),U=(V=q??D)!==null&&V!==void 0?V:void 0,W=v.size;var H=D-q;if(B=Number.isNaN(H)?0:H,$={x:F,y:l.y,width:W,height:l.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var X=er(B||z)*(Math.abs(z)-Math.abs(B));U-=X,B+=X}}else{var oe=[o.scale(R[0]),o.scale(R[1])],fe=oe[0],se=oe[1];if(F=fe,U=AP({axis:l,ticks:d,bandSize:i,offset:v.offset,entry:M,index:L}),W=se-fe,B=v.size,$={x:o.x,y:U,width:o.width,height:B},Math.abs(z)>0&&Math.abs(W)<Math.abs(z)){var ke=er(W||z)*(Math.abs(z)-Math.abs(W));W+=ke}}return jt(jt(jt({},M),{},{x:F,y:U,width:W,height:B,value:h?R:R[1],payload:M,background:$},E&&E[L]&&E[L].props),{},{tooltipPayload:[zT(r,M)],tooltipPosition:{x:F+W/2,y:U+B/2}})});return jt({data:T,layout:b},x)});function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function HG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x5(n.key),n)}}function GG(e,t,r){return t&&t_(e.prototype,t),r&&t_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kf(e,t,r){return t=x5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x5(e){var t=VG(e,"string");return ec(t)=="symbol"?t:t+""}function VG(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y5=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,h=t.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!br(h,Ea);return m.reduce(function(v,b){var w=r[b],y=w.orientation,S=w.domain,_=w.padding,C=_===void 0?{}:_,O=w.mirror,j=w.reversed,P="".concat(y).concat(O?"Mirror":""),E,T,M,L,R;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=S[1]-S[0],U=1/0,W=w.categoricalDomain.sort(aD);if(W.forEach(function(oe,fe){fe>0&&(U=Math.min((oe||0)-(W[fe-1]||0),U))}),Number.isFinite(U)){var B=U/F,$=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(E=B*$/2),w.padding==="no-gap"){var z=tr(t.barCategoryGap,B*$),V=B*$/2;E=V-z-(V-z)/$*z}}}i==="xAxis"?T=[n.left+(C.left||0)+(E||0),n.left+n.width-(C.right||0)-(E||0)]:i==="yAxis"?T=d==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(E||0),n.top+n.height-(C.bottom||0)-(E||0)]:T=w.range,j&&(T=[T[1],T[0]]);var G=LT(w,o,x),D=G.scale,q=G.realScaleType;D.domain(S).range(T),FT(D);var H=BT(D,Zr(Zr({},w),{},{realScaleType:q}));i==="xAxis"?(R=y==="top"&&!O||y==="bottom"&&O,M=n.left,L=p[P]-R*w.height):i==="yAxis"&&(R=y==="left"&&!O||y==="right"&&O,M=p[P]-R*w.width,L=n.top);var X=Zr(Zr(Zr({},w),H),{},{realScaleType:q,x:M,y:L,scale:D,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return X.bandSize=Cd(X,H),!w.hide&&i==="xAxis"?p[P]+=(R?-1:1)*X.height:w.hide||(p[P]+=(R?-1:1)*X.width),Zr(Zr({},v),{},Kf({},b,X))},{})},v5=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},YG=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return v5({x:r,y:n},{x:i,y:o})},b5=(function(){function e(t){HG(this,e),this.scale=t}return GG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Kf(b5,"EPS",1e-4);var Ub=function(t){var r=Object.keys(t).reduce(function(n,i){return Zr(Zr({},n),{},Kf({},i,b5.create(t[i])))},{});return Zr(Zr({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return NG(i,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return h5(i,function(o,l){return r[l].isInRange(o)})}})};function XG(e){return(e%180+180)%180}var QG=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XG(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},U0,n_;function JG(){if(n_)return U0;n_=1;var e=Sn(),t=pc(),r=Nf();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var h=e(l,3);o=r(o),l=function(p){return h(d[p],p,d)}}var m=i(o,l,u);return m>-1?d[h?o[m]:m]:void 0}}return U0=n,U0}var W0,a_;function ZG(){if(a_)return W0;a_=1;var e=c5();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return W0=t,W0}var K0,i_;function eV(){if(i_)return K0;i_=1;var e=bE(),t=Sn(),r=ZG(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),e(o,t(l,3),h)}return K0=i,K0}var H0,s_;function tV(){if(s_)return H0;s_=1;var e=JG(),t=eV(),r=e(t);return H0=r,H0}var rV=tV();const nV=Xe(rV);var aV=$C();const iV=Xe(aV);var sV=iV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Wb=k.createContext(void 0),Kb=k.createContext(void 0),j5=k.createContext(void 0),w5=k.createContext({}),N5=k.createContext(void 0),S5=k.createContext(0),O5=k.createContext(0),o_=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,h=t.height,m=sV(o);return Y.createElement(Wb.Provider,{value:n},Y.createElement(Kb.Provider,{value:i},Y.createElement(w5.Provider,{value:o},Y.createElement(j5.Provider,{value:m},Y.createElement(N5.Provider,{value:l},Y.createElement(S5.Provider,{value:h},Y.createElement(O5.Provider,{value:d},u)))))))},oV=function(){return k.useContext(N5)},k5=function(t){var r=k.useContext(Wb);r==null&&ji();var n=r[t];return n==null&&ji(),n},lV=function(){var t=k.useContext(Wb);return va(t)},cV=function(){var t=k.useContext(Kb),r=nV(t,function(n){return h5(n.domain,Number.isFinite)});return r||va(t)},P5=function(t){var r=k.useContext(Kb);r==null&&ji();var n=r[t];return n==null&&ji(),n},uV=function(){var t=k.useContext(j5);return t},dV=function(){return k.useContext(w5)},Hb=function(){return k.useContext(O5)},Gb=function(){return k.useContext(S5)};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function fV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_5(n.key),n)}}function pV(e,t,r){return t&&hV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mV(e,t,r){return t=Yd(t),gV(e,A5()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function gV(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xV(e)}function xV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function yV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gv(e,t)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){Vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vb(e,t,r){return t=_5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _5(e){var t=vV(e,"string");return Fs(t)=="symbol"?t:t+""}function vV(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bV(e,t){return SV(e)||NV(e,t)||wV(e,t)||jV()}function jV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wV(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function SV(e){if(Array.isArray(e))return e}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}var OV=function(t,r){var n;return Y.isValidElement(t)?n=Y.cloneElement(t,r):Me(t)?n=t(r):n=Y.createElement("line",xv({},r,{className:"recharts-reference-line-line"})),n},kV=function(t,r,n,i,o,l,u,d,h){var m=o.x,p=o.y,x=o.width,v=o.height;if(n){var b=h.y,w=t.y.apply(b,{position:l});if(vn(h,"discard")&&!t.y.isInRange(w))return null;var y=[{x:m+x,y:w},{x:m,y:w}];return d==="left"?y.reverse():y}if(r){var S=h.x,_=t.x.apply(S,{position:l});if(vn(h,"discard")&&!t.x.isInRange(_))return null;var C=[{x:_,y:p+v},{x:_,y:p}];return u==="top"?C.reverse():C}if(i){var O=h.segment,j=O.map(function(P){return t.apply(P,{position:l})});return vn(h,"discard")&&vG(j,function(P){return!t.isInRange(P)})?null:j}return null};function PV(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,h=oV(),m=k5(i),p=P5(o),x=uV();if(!h||!x)return null;rn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Ub({x:m.scale,y:p.scale}),b=_t(t),w=_t(r),y=n&&n.length===2,S=kV(v,b,w,y,x,e.position,m.orientation,p.orientation,e);if(!S)return null;var _=bV(S,2),C=_[0],O=C.x,j=C.y,P=_[1],E=P.x,T=P.y,M=vn(e,"hidden")?"url(#".concat(h,")"):void 0,L=c_(c_({clipPath:M},_e(e,!0)),{},{x1:O,y1:j,x2:E,y2:T});return Y.createElement(He,{className:Le("recharts-reference-line",u)},OV(l,L),Dt.renderCallByParent(e,YG({x1:O,y1:j,x2:E,y2:T})))}var Yb=(function(e){function t(){return fV(this,t),mV(this,t,arguments)}return yV(t,e),pV(t,[{key:"render",value:function(){return Y.createElement(PV,this.props)}}])})(Y.Component);Vb(Yb,"displayName","ReferenceLine");Vb(Yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E5(n.key),n)}}function CV(e,t,r){return t&&_V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EV(e,t,r){return t=Xd(t),TV(e,C5()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function TV(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RV(e)}function RV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function MV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vv(e,t)}function Hf(e,t,r){return t=E5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5(e){var t=IV(e,"string");return Bs(t)=="symbol"?t:t+""}function IV(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $V=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=Ub({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return vn(t,"discard")&&!l.isInRange(u)?null:u},Gf=(function(e){function t(){return AV(this,t),EV(this,t,arguments)}return MV(t,e),CV(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=_t(i),m=_t(o);if(rn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var p=$V(this.props);if(!p)return null;var x=p.x,v=p.y,b=this.props,w=b.shape,y=b.className,S=vn(this.props,"hidden")?"url(#".concat(d,")"):void 0,_=f_(f_({clipPath:S},_e(this.props,!0)),{},{cx:x,cy:v});return Y.createElement(He,{className:Le("recharts-reference-dot",y)},t.renderDot(w,_),Dt.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(Y.Component);Hf(Gf,"displayName","ReferenceDot");Hf(Gf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hf(Gf,"renderDot",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Me(e)?r=e(t):r=Y.createElement(Lf,yv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){Vf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R5(n.key),n)}}function FV(e,t,r){return t&&LV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BV(e,t,r){return t=Qd(t),qV(e,T5()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function qV(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zV(e)}function zV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T5=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function UV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function jv(e,t){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jv(e,t)}function Vf(e,t,r){return t=R5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=WV(e,"string");return qs(t)=="symbol"?t:t+""}function WV(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KV=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,h=o.y2,m=o.xAxis,p=o.yAxis;if(!m||!p)return null;var x=Ub({x:m.scale,y:p.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},b={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return vn(o,"discard")&&(!x.isInRange(v)||!x.isInRange(b))?null:v5(v,b)},Yf=(function(e){function t(){return DV(this,t),BV(this,t,arguments)}return UV(t,e),FV(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,m=n.clipPathId;rn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=_t(i),x=_t(o),v=_t(l),b=_t(u),w=this.props.shape;if(!p&&!x&&!v&&!b&&!w)return null;var y=KV(p,x,v,b,this.props);if(!y&&!w)return null;var S=vn(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Y.createElement(He,{className:Le("recharts-reference-area",d)},t.renderRect(w,p_(p_({clipPath:S},_e(this.props,!0)),y)),Dt.renderCallByParent(this.props,y))}}])})(Y.Component);Vf(Yf,"displayName","ReferenceArea");Vf(Yf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vf(Yf,"renderRect",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Me(e)?r=e(t):r=Y.createElement(zb,bv({},t,{className:"recharts-reference-area-rect"})),r});function M5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function HV(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QG(n,r)}function GV(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function Jd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function VV(e,t){return M5(e,t+1)}function YV(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,h=1,m=l,p=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:M5(n,h)};var w=d,y,S=function(){return y===void 0&&(y=r(b,w)),y},_=b.coordinate,C=d===0||Jd(e,_,S,m,u);C||(d=0,m=l,h+=1),C&&(m=_+e*(S()/2+i),d+=h)},x;h<=o.length;)if(x=p(),x)return x.v;return[]}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){XV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return tc(t)=="symbol"?t:t+""}function JV(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,h=function(x){var v=o[x],b,w=function(){return b===void 0&&(b=r(v,x)),b};if(x===l-1){var y=e*(v.coordinate+e*w()/2-d);o[x]=v=Vt(Vt({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else o[x]=v=Vt(Vt({},v),{},{tickCoord:v.coordinate});var S=Jd(e,v.tickCoord,w,u,d);S&&(d=v.tickCoord-e*(w()/2+i),o[x]=Vt(Vt({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return o}function eY(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,h=t.end;if(o){var m=n[u-1],p=r(m,u-1),x=e*(m.coordinate+e*p/2-h);l[u-1]=m=Vt(Vt({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate});var v=Jd(e,m.tickCoord,function(){return p},d,h);v&&(h=m.tickCoord-e*(p/2+i),l[u-1]=Vt(Vt({},m),{},{isShow:!0}))}for(var b=o?u-1:u,w=function(_){var C=l[_],O,j=function(){return O===void 0&&(O=r(C,_)),O};if(_===0){var P=e*(C.coordinate-e*j()/2-d);l[_]=C=Vt(Vt({},C),{},{tickCoord:P<0?C.coordinate-P*e:C.coordinate})}else l[_]=C=Vt(Vt({},C),{},{tickCoord:C.coordinate});var E=Jd(e,C.tickCoord,j,d,h);E&&(d=C.tickCoord+e*(j()/2+i),l[_]=Vt(Vt({},C),{},{isShow:!0}))},y=0;y<b;y++)w(y);return l}function Xb(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,h=e.tickFormatter,m=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(me(d)||ki.isSsr)return VV(i,typeof d=="number"&&me(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",b=m&&v==="width"?fl(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(C,O){var j=Me(h)?h(C.value,O):C.value;return v==="width"?HV(fl(j,{fontSize:t,letterSpacing:r}),b,p):fl(j,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,S=GV(o,y,v);return d==="equidistantPreserveStart"?YV(y,S,w,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=eY(y,S,w,i,l,d==="preserveStartEnd"):x=ZV(y,S,w,i,l),x.filter(function(_){return _.isShow}))}var tY=["viewBox"],rY=["viewBox"],nY=["ticks"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){Qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G0(e,t){if(e==null)return{};var r=aY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$5(n.key),n)}}function sY(e,t,r){return t&&x_(e.prototype,t),r&&x_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e,t,r){return t=Zd(t),lY(e,I5()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function lY(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(e)}function cY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function uY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wv(e,t)}function Qb(e,t,r){return t=$5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5(e){var t=dY(e,"string");return zs(t)=="symbol"?t:t+""}function dY(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=(function(e){function t(r){var n;return iY(this,t),n=oY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return uY(t,e),sY(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=G0(n,tY),u=this.props,d=u.viewBox,h=G0(u,rY);return!ds(o,d)||!ds(l,h)||!ds(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,h=i.orientation,m=i.tickSize,p=i.mirror,x=i.tickMargin,v,b,w,y,S,_,C=p?-1:1,O=n.tickSize||m,j=me(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=b=n.coordinate,y=l+ +!p*d,w=y-C*O,_=w-C*x,S=j;break;case"left":w=y=n.coordinate,b=o+ +!p*u,v=b-C*O,S=v-C*x,_=j;break;case"right":w=y=n.coordinate,b=o+ +p*u,v=b+C*O,S=v+C*x,_=j;break;default:v=b=n.coordinate,y=l+ +p*d,w=y+C*O,_=w+C*x,S=j;break}return{line:{x1:v,y1:w,x2:b,y2:y},tick:{x:S,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,m=n.axisLine,p=Ot(Ot(Ot({},_e(this.props,!1)),_e(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!h||d==="bottom"&&h);p=Ot(Ot({},p),{},{x1:i,y1:o+x*u,x2:i+l,y2:o+x*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=Ot(Ot({},p),{},{x1:i+v*l,y1:o,x2:i+v*l,y2:o+u})}return Y.createElement("line",cs({},p,{className:Le("recharts-cartesian-axis-line",Nr(m,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,h=u.stroke,m=u.tick,p=u.tickFormatter,x=u.unit,v=Xb(Ot(Ot({},this.props),{},{ticks:n}),i,o),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=_e(this.props,!1),S=_e(m,!1),_=Ot(Ot({},y),{},{fill:"none"},_e(d,!1)),C=v.map(function(O,j){var P=l.getTickLineCoord(O),E=P.line,T=P.tick,M=Ot(Ot(Ot(Ot({textAnchor:b,verticalAnchor:w},y),{},{stroke:"none",fill:h},S),T),{},{index:j,payload:O,visibleTicksCount:v.length,tickFormatter:p});return Y.createElement(He,cs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},yi(l.props,O,j)),d&&Y.createElement("line",cs({},_,E,{className:Le("recharts-cartesian-axis-tick-line",Nr(d,"className"))})),m&&t.renderTickItem(m,M,"".concat(Me(p)?p(O.value,j):O.value).concat(x||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,h=i.className,m=i.hide;if(m)return null;var p=this.props,x=p.ticks,v=G0(p,nY),b=x;return Me(d)&&(b=x&&x.length>0?d(this.props):d(v)),l<=0||u<=0||!b||!b.length?null:Y.createElement(He,{className:Le("recharts-cartesian-axis",h),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=Le(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?l=Y.cloneElement(n,Ot(Ot({},i),{},{className:u})):Me(n)?l=n(Ot(Ot({},i),{},{className:u})):l=Y.createElement(vi,cs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(k.Component);Qb(io,"displayName","CartesianAxis");Qb(io,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fY=["x1","y1","x2","y2","key"],hY=["offset"];function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){pY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pY(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=gY(e,"string");return wi(t)=="symbol"?t:t+""}function gY(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}function v_(e,t){if(e==null)return{};var r=xY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return Y.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function D5(e,t){var r;if(Y.isValidElement(e))r=Y.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=v_(t,fY),h=_e(d,!1);h.offset;var m=v_(h,hY);r=Y.createElement("line",si({},m,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function vY(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Yt(Yt({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return D5(i,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function bY(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var h=Yt(Yt({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return D5(i,h)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function jY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,h=d===void 0?!0:d;if(!h||!t||!t.length)return null;var m=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var b=!m[v+1],w=b?i+l-x:m[v+1]-x;if(w<=0)return null;var y=v%t.length;return Y.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:w,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,h=e.verticalPoints;if(!r||!n||!n.length)return null;var m=h.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var b=!m[v+1],w=b?o+u-x:m[v+1]-x;if(w<=0)return null;var y=v%n.length;return Y.createElement("rect",{key:"react-".concat(v),x,y:l,width:w,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var NY=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return DT(Xb(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},SY=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return DT(Xb(Yt(Yt(Yt({},io.defaultProps),n),{},{ticks:Bn(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},ns={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jb(e){var t,r,n,i,o,l,u=Hb(),d=Gb(),h=dV(),m=Yt(Yt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ns.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ns.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ns.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ns.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ns.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ns.verticalFill,x:me(e.x)?e.x:h.left,y:me(e.y)?e.y:h.top,width:me(e.width)?e.width:h.width,height:me(e.height)?e.height:h.height}),p=m.x,x=m.y,v=m.width,b=m.height,w=m.syncWithTicks,y=m.horizontalValues,S=m.verticalValues,_=lV(),C=cV();if(!me(v)||v<=0||!me(b)||b<=0||!me(p)||p!==+p||!me(x)||x!==+x)return null;var O=m.verticalCoordinatesGenerator||NY,j=m.horizontalCoordinatesGenerator||SY,P=m.horizontalPoints,E=m.verticalPoints;if((!P||!P.length)&&Me(j)){var T=y&&y.length,M=j({yAxis:C?Yt(Yt({},C),{},{ticks:T?y:C.ticks}):void 0,width:u,height:d,offset:h},T?!0:w);rn(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi(M),"]")),Array.isArray(M)&&(P=M)}if((!E||!E.length)&&Me(O)){var L=S&&S.length,R=O({xAxis:_?Yt(Yt({},_),{},{ticks:L?S:_.ticks}):void 0,width:u,height:d,offset:h},L?!0:w);rn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(R),"]")),Array.isArray(R)&&(E=R)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(yY,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Y.createElement(vY,si({},m,{offset:h,horizontalPoints:P,xAxis:_,yAxis:C})),Y.createElement(bY,si({},m,{offset:h,verticalPoints:E,xAxis:_,yAxis:C})),Y.createElement(jY,si({},m,{horizontalPoints:P})),Y.createElement(wY,si({},m,{verticalPoints:E})))}Jb.displayName="CartesianGrid";var OY=["type","layout","connectNulls","ref"],kY=["key"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function b_(e,t){if(e==null)return{};var r=PY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function as(e){return EY(e)||CY(e)||_Y(e)||AY()}function AY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(e,t){if(e){if(typeof e=="string")return Nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nv(e,t)}}function CY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EY(e){if(Array.isArray(e))return Nv(e)}function Nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F5(n.key),n)}}function RY(e,t,r){return t&&w_(e.prototype,t),r&&w_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MY(e,t,r){return t=ef(t),IY(e,L5()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function IY(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Y(e)}function $Y(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function DY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sv(e,t)}function Sv(e,t){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sv(e,t)}function en(e,t,r){return t=F5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=LY(e,"string");return Us(t)=="symbol"?t:t+""}function LY(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ws=(function(e){function t(){var r;TY(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=MY(this,t,[].concat(i)),en(r,"state",{isAnimationFinished:!0,totalLength:0}),en(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),en(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(S,_){return S+_});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/h),p=l%h,x=u-l,v=[],b=0,w=0;b<d.length;w+=d[b],++b)if(w+d[b]>p){v=[].concat(as(d.slice(0,b)),[p-w]);break}var y=v.length%2===0?[0,x]:[x];return[].concat(as(t.repeat(d,m)),as(v),y).map(function(S){return"".concat(S,"px")}).join(", ")}),en(r,"id",eo("recharts-line-")),en(r,"pathRef",function(l){r.mainCurve=l}),en(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),en(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return DY(t,e),RY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,h=o.layout,m=o.children,p=Sr(m,bc);if(!p)return null;var x=function(w,y){return{x:w.x,y:w.y,value:w.value,errorVal:Pt(w.payload,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(He,v,p.map(function(b){return Y.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,p=_e(this.props,!1),x=_e(d,!0),v=h.map(function(w,y){var S=yr(yr(yr({key:"dot-".concat(y),r:3},p),x),{},{index:y,cx:w.x,cy:w.y,value:w.value,dataKey:m,payload:w.payload,points:h});return t.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return Y.createElement(He,yl({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,h=u.layout,m=u.connectNulls;u.ref;var p=b_(u,OY),x=yr(yr(yr({},_e(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:m});return Y.createElement(Rd,yl({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,x=l.animationEasing,v=l.animationId,b=l.animateNewValues,w=l.width,y=l.height,S=this.state,_=S.prevPoints,C=S.totalLength;return Y.createElement(jn,{begin:m,duration:p,isActive:h,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var j=O.t;if(_){var P=_.length/u.length,E=u.map(function(F,U){var W=Math.floor(U*P);if(_[W]){var B=_[W],$=jr(B.x,F.x),z=jr(B.y,F.y);return yr(yr({},F),{},{x:$(j),y:z(j)})}if(b){var V=jr(w*2,F.x),G=jr(y/2,F.y);return yr(yr({},F),{},{x:V(j),y:G(j)})}return yr(yr({},F),{},{x:F.x,y:F.y})});return o.renderCurveStatically(E,n,i)}var T=jr(0,C),M=T(j),L;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});L=o.getStrokeDasharray(M,C,R)}else L=o.generateSimpleStrokeDasharray(C,M);return o.renderCurveStatically(u,n,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,h=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!h&&m>0||!vc(h,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,h=i.xAxis,m=i.yAxis,p=i.top,x=i.left,v=i.width,b=i.height,w=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var S=this.state.isAnimationFinished,_=u.length===1,C=Le("recharts-line",d),O=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,P=O||j,E=De(y)?this.id:y,T=(n=_e(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=T.r,L=M===void 0?3:M,R=T.strokeWidth,F=R===void 0?2:R,U=hD(l)?l:{},W=U.clipDot,B=W===void 0?!0:W,$=L*2+F;return Y.createElement(He,{className:C},O||j?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(E)},Y.createElement("rect",{x:O?x:x-v/2,y:j?p:p-b/2,width:O?v:v*2,height:j?b:b*2})),!B&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Y.createElement("rect",{x:x-$/2,y:p-$/2,width:v+$,height:b+$}))):null,!_&&this.renderCurve(P,E),this.renderErrorBar(P,E),(_||l)&&this.renderDots(P,B,E),(!w||S)&&Un.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(as(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(as(l),as(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(Y.isValidElement(n))o=Y.cloneElement(n,i);else if(Me(n))o=n(i);else{var l=i.key,u=b_(i,kY),d=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");o=Y.createElement(Lf,yl({key:l},u,{className:d}))}return o}}])})(k.PureComponent);en(Ws,"displayName","Line");en(Ws,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ki.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});en(Ws,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,h=e.offset,m=t.layout,p=d.map(function(x,v){var b=Pt(x,l);return m==="horizontal"?{x:PP({axis:r,ticks:i,bandSize:u,entry:x,index:v}),y:De(b)?null:n.scale(b),value:b,payload:x}:{x:De(b)?null:r.scale(b),y:PP({axis:n,ticks:o,bandSize:u,entry:x,index:v}),value:b,payload:x}});return yr({points:p,layout:m},h)});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z5(n.key),n)}}function qY(e,t,r){return t&&BY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zY(e,t,r){return t=tf(t),UY(e,B5()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function UY(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(e)}function WY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function KY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ov(e,t)}function Ov(e,t){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ov(e,t)}function q5(e,t,r){return t=z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=HY(e,"string");return Ks(t)=="symbol"?t:t+""}function HY(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}function GY(e){var t=e.xAxisId,r=Hb(),n=Gb(),i=k5(t);return i==null?null:k.createElement(io,kv({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Bn(l,!0)}}))}var so=(function(e){function t(){return FY(this,t),zY(this,t,arguments)}return KY(t,e),qY(t,[{key:"render",value:function(){return k.createElement(GY,this.props)}}])})(k.Component);q5(so,"displayName","XAxis");q5(so,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function VY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K5(n.key),n)}}function XY(e,t,r){return t&&YY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QY(e,t,r){return t=rf(t),JY(e,U5()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function JY(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(e)}function ZY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function eX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pv(e,t)}function W5(e,t,r){return t=K5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5(e){var t=tX(e,"string");return Hs(t)=="symbol"?t:t+""}function tX(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}var rX=function(t){var r=t.yAxisId,n=Hb(),i=Gb(),o=P5(r);return o==null?null:k.createElement(io,Av({},o,{className:Le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Bn(u,!0)}}))},oo=(function(e){function t(){return VY(this,t),QY(this,t,arguments)}return eX(t,e),XY(t,[{key:"render",value:function(){return k.createElement(rX,this.props)}}])})(k.Component);W5(oo,"displayName","YAxis");W5(oo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function N_(e){return sX(e)||iX(e)||aX(e)||nX()}function nX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(e,t){if(e){if(typeof e=="string")return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(e,t)}}function iX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sX(e){if(Array.isArray(e))return _v(e)}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cv=function(t,r,n,i,o){var l=Sr(t,Yb),u=Sr(t,Gf),d=[].concat(N_(l),N_(u)),h=Sr(t,Yf),m="".concat(i,"Id"),p=i[0],x=r;if(d.length&&(x=d.reduce(function(w,y){if(y.props[m]===n&&vn(y.props,"extendDomain")&&me(y.props[p])){var S=y.props[p];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},x)),h.length){var v="".concat(p,"1"),b="".concat(p,"2");x=h.reduce(function(w,y){if(y.props[m]===n&&vn(y.props,"extendDomain")&&me(y.props[v])&&me(y.props[b])){var S=y.props[v],_=y.props[b];return[Math.min(w[0],S,_),Math.max(w[1],S,_)]}return w},x)}return o&&o.length&&(x=o.reduce(function(w,y){return me(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},x)),x},V0={exports:{}},S_;function oX(){return S_||(S_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function o(d,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||d,x),b=r?r+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,b=new Array(v);x<v;x++)b[x]=p[x].fn;return b},u.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,m,p,x,v,b){var w=r?r+h:h;if(!this._events[w])return!1;var y=this._events[w],S=arguments.length,_,C;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,p),!0;case 4:return y.fn.call(y.context,m,p,x),!0;case 5:return y.fn.call(y.context,m,p,x,v),!0;case 6:return y.fn.call(y.context,m,p,x,v,b),!0}for(C=1,_=new Array(S-1);C<S;C++)_[C-1]=arguments[C];y.fn.apply(y.context,_)}else{var O=y.length,j;for(C=0;C<O;C++)switch(y[C].once&&this.removeListener(h,y[C].fn,void 0,!0),S){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,m);break;case 3:y[C].fn.call(y[C].context,m,p);break;case 4:y[C].fn.call(y[C].context,m,p,x);break;default:if(!_)for(j=1,_=new Array(S-1);j<S;j++)_[j-1]=arguments[j];y[C].fn.apply(y[C].context,_)}}return!0},u.prototype.on=function(h,m,p){return o(this,h,m,p,!1)},u.prototype.once=function(h,m,p){return o(this,h,m,p,!0)},u.prototype.removeListener=function(h,m,p,x){var v=r?r+h:h;if(!this._events[v])return this;if(!m)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===m&&(!x||b.once)&&(!p||b.context===p)&&l(this,v);else{for(var w=0,y=[],S=b.length;w<S;w++)(b[w].fn!==m||x&&!b[w].once||p&&b[w].context!==p)&&y.push(b[w]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(V0)),V0.exports}var lX=oX();const cX=Xe(lX);var Y0=new cX,X0="recharts.syncMouseEvents";function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function uX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H5(n.key),n)}}function fX(e,t,r){return t&&dX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0(e,t,r){return t=H5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5(e){var t=hX(e,"string");return rc(t)=="symbol"?t:t+""}function hX(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pX=(function(){function e(){uX(this,e),Q0(this,"activeIndex",0),Q0(this,"coordinateList",[]),Q0(this,"layout","horizontal")}return fX(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+d+h,x=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])})();function mX(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&me(n)&&me(i))return!0}return!1}function gX(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function G5(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=at(t,r,n,i),u=at(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function xX(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,h=t.innerRadius,m=t.outerRadius,p=t.angle,x=at(u,d,h,p),v=at(u,d,m,p);n=x.x,i=x.y,o=v.x,l=v.y}else return G5(t);return[{x:n,y:i},{x:o,y:l}]}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return t=vX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=bX(e,"string");return nc(t)=="symbol"?t:t+""}function bX(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jX(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,h=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,x=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!l||x!=="ScatterChart"&&i!=="axis")return null;var b,w=Rd;if(x==="ScatterChart")b=l,w=UK;else if(x==="BarChart")b=gX(p,l,d,m),w=zb;else if(p==="radial"){var y=G5(l),S=y.cx,_=y.cy,C=y.radius,O=y.startAngle,j=y.endAngle;b={cx:S,cy:_,startAngle:O,endAngle:j,innerRadius:C,outerRadius:C},w=VT}else b={points:xX(p,l,d)},w=Rd;var P=Yu(Yu(Yu(Yu({stroke:"#ccc",pointerEvents:"none"},d),b),_e(v,!1)),{},{payload:u,payloadIndex:h,className:Le("recharts-tooltip-cursor",v.className)});return k.isValidElement(v)?k.cloneElement(v,P):k.createElement(w,P)}var wX=["item"],NX=["children","className","width","height","style","compact","title","desc"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function k_(e,t){return kX(e)||OX(e,t)||Y5(e,t)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function kX(e){if(Array.isArray(e))return e}function P_(e,t){if(e==null)return{};var r=PX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X5(n.key),n)}}function CX(e,t,r){return t&&_X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EX(e,t,r){return t=nf(t),TX(e,V5()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function TX(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function MX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ev(e,t)}function Vs(e){return DX(e)||$X(e)||Y5(e)||IX()}function IX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y5(e,t){if(e){if(typeof e=="string")return Tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tv(e,t)}}function $X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DX(e){if(Array.isArray(e))return Tv(e)}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=X5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X5(e){var t=LX(e,"string");return Gs(t)=="symbol"?t:t+""}function LX(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FX={xAxis:["bottom","top"],yAxis:["left","right"]},BX={width:"100%",height:"100%"},Q5={x:0,y:0};function Xu(e){return e}var qX=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},zX=function(t,r,n,i){var o=r.find(function(m){return m&&m.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return ae(ae(ae({},i),at(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,h=i.angle;return ae(ae(ae({},i),at(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return Q5},Xf=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Vs(u),Vs(h)):u},[]);return l.length>0?l:t&&t.length&&me(i)&&me(o)?t.slice(i,o+1):[]};function J5(e){return e==="number"?[0,"auto"]:void 0}var Rv=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=Xf(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,h){var m,p=(m=h.props.data)!==null&&m!==void 0?m:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;x=ad(v,l.dataKey,i)}else x=p&&p[n]||u[n];return x?[].concat(Vs(d),[zT(h,x)]):d},[])},__=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=qX(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,h=t.tooltipTicks,m=u9(l,u,h,d);if(m>=0&&h){var p=h[m]&&h[m].value,x=Rv(t,r,m,p),v=zX(n,u,m,o);return{activeTooltipIndex:m,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},UX=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=t.stackOffset,v=$T(m,o);return n.reduce(function(b,w){var y,S=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,_=S.type,C=S.dataKey,O=S.allowDataOverflow,j=S.allowDuplicatedCategory,P=S.scale,E=S.ticks,T=S.includeHidden,M=S[l];if(b[M])return b;var L=Xf(t.data,{graphicalItems:i.filter(function(H){var X,oe=l in H.props?H.props[l]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[l];return oe===M}),dataStartIndex:d,dataEndIndex:h}),R=L.length,F,U,W;mX(S.domain,O,_)&&(F=Gy(S.domain,null,O),v&&(_==="number"||P!=="auto")&&(W=pl(L,C,"category")));var B=J5(_);if(!F||F.length===0){var $,z=($=S.domain)!==null&&$!==void 0?$:B;if(C){if(F=pl(L,C,_),_==="category"&&v){var V=nD(F);j&&V?(U=F,F=Wd(0,R)):j||(F=EP(z,F,w).reduce(function(H,X){return H.indexOf(X)>=0?H:[].concat(Vs(H),[X])},[]))}else if(_==="category")j?F=F.filter(function(H){return H!==""&&!De(H)}):F=EP(z,F,w).reduce(function(H,X){return H.indexOf(X)>=0||X===""||De(X)?H:[].concat(Vs(H),[X])},[]);else if(_==="number"){var G=m9(L,i.filter(function(H){var X,oe,fe=l in H.props?H.props[l]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[l],se="hide"in H.props?H.props.hide:(oe=H.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return fe===M&&(T||!se)}),C,o,m);G&&(F=G)}v&&(_==="number"||P!=="auto")&&(W=pl(L,C,"category"))}else v?F=Wd(0,R):u&&u[M]&&u[M].hasStack&&_==="number"?F=x==="expand"?[0,1]:qT(u[M].stackGroups,d,h):F=IT(L,i.filter(function(H){var X=l in H.props?H.props[l]:H.type.defaultProps[l],oe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return X===M&&(T||!oe)}),_,m,!0);if(_==="number")F=Cv(p,F,M,o,E),z&&(F=Gy(z,F,O));else if(_==="category"&&z){var D=z,q=F.every(function(H){return D.indexOf(H)>=0});q&&(F=D)}}return ae(ae({},b),{},Ee({},M,ae(ae({},S),{},{axisType:o,domain:F,categoricalDomain:W,duplicateDomain:U,originalDomain:(y=S.domain)!==null&&y!==void 0?y:B,isCategorical:v,layout:m})))},{})},WX=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=Xf(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=x.length,b=$T(m,o),w=-1;return n.reduce(function(y,S){var _=S.type.defaultProps!==void 0?ae(ae({},S.type.defaultProps),S.props):S.props,C=_[l],O=J5("number");if(!y[C]){w++;var j;return b?j=Wd(0,v):u&&u[C]&&u[C].hasStack?(j=qT(u[C].stackGroups,d,h),j=Cv(p,j,C,o)):(j=Gy(O,IT(x,n.filter(function(P){var E,T,M=l in P.props?P.props[l]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[l],L="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===C&&!L}),"number",m),i.defaultProps.allowDataOverflow),j=Cv(p,j,C,o)),ae(ae({},y),{},Ee({},C,ae(ae({axisType:o},i.defaultProps),{},{hide:!0,orientation:Nr(FX,"".concat(o,".").concat(w%2),null),domain:j,originalDomain:O,isCategorical:b,layout:m})))}return y},{})},KX=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=t.children,p="".concat(i,"Id"),x=Sr(m,o),v={};return x&&x.length?v=UX(t,{axes:x,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=WX(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},HX=function(t){var r=va(t),n=Bn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cd(r,n)}},C_=function(t){var r=t.children,n=t.defaultShowTooltip,i=br(r,Ds),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},GX=function(t){return!t||!t.length?!1:t.some(function(r){var n=qn(r&&r.type);return n&&n.indexOf("Bar")>=0})},E_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VX=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,h=n.width,m=n.height,p=n.children,x=n.margin||{},v=br(p,Ds),b=br(p,_a),w=Object.keys(d).reduce(function(j,P){var E=d[P],T=E.orientation;return!E.mirror&&!E.hide?ae(ae({},j),{},Ee({},T,j[T]+E.width)):j},{left:x.left||0,right:x.right||0}),y=Object.keys(l).reduce(function(j,P){var E=l[P],T=E.orientation;return!E.mirror&&!E.hide?ae(ae({},j),{},Ee({},T,Nr(j,"".concat(T))+E.height)):j},{top:x.top||0,bottom:x.bottom||0}),S=ae(ae({},y),w),_=S.bottom;v&&(S.bottom+=v.props.height||Ds.defaultProps.height),b&&r&&(S=h9(S,i,n,r));var C=h-S.left-S.right,O=m-S.top-S.bottom;return ae(ae({brushBottom:_},S),{},{width:Math.max(C,0),height:Math.max(O,0)})},YX=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Zb=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,x=function(S,_){var C=_.graphicalItems,O=_.stackGroups,j=_.offset,P=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,M=S.barSize,L=S.layout,R=S.barGap,F=S.barCategoryGap,U=S.maxBarSize,W=E_(L),B=W.numericAxisName,$=W.cateAxisName,z=GX(C),V=[];return C.forEach(function(G,D){var q=Xf(S.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:T}),H=G.type.defaultProps!==void 0?ae(ae({},G.type.defaultProps),G.props):G.props,X=H.dataKey,oe=H.maxBarSize,fe=H["".concat(B,"Id")],se=H["".concat($,"Id")],ke={},Se=d.reduce(function(nr,qr){var Ci=_["".concat(qr.axisType,"Map")],lo=H["".concat(qr.axisType,"Id")];Ci&&Ci[lo]||qr.axisType==="zAxis"||ji();var co=Ci[lo];return ae(ae({},nr),{},Ee(Ee({},qr.axisType,co),"".concat(qr.axisType,"Ticks"),Bn(co)))},ke),ce=Se[$],Oe=Se["".concat($,"Ticks")],Ie=O&&O[fe]&&O[fe].hasStack&&S9(G,O[fe].stackGroups),Z=qn(G.type).indexOf("Bar")>=0,xe=Cd(ce,Oe),ye=[],Je=z&&d9({barSize:M,stackGroups:O,totalSize:YX(Se,$)});if(Z){var ft,Et,Br=De(oe)?U:oe,sn=(ft=(Et=Cd(ce,Oe,!0))!==null&&Et!==void 0?Et:Br)!==null&&ft!==void 0?ft:0;ye=f9({barGap:R,barCategoryGap:F,bandSize:sn!==xe?sn:xe,sizeList:Je[se],maxBarSize:Br}),sn!==xe&&(ye=ye.map(function(nr){return ae(ae({},nr),{},{position:ae(ae({},nr.position),{},{offset:nr.position.offset-sn/2})})}))}var on=G&&G.type&&G.type.getComposedData;on&&V.push({props:ae(ae({},on(ae(ae({},Se),{},{displayedData:q,props:S,dataKey:X,item:G,bandSize:xe,barPosition:ye,offset:j,stackedData:Ie,layout:L,dataStartIndex:E,dataEndIndex:T}))),{},Ee(Ee(Ee({key:G.key||"item-".concat(D)},B,Se[B]),$,Se[$]),"animationId",P)),childIndex:gD(G,S.children),item:G})}),V},v=function(S,_){var C=S.props,O=S.dataStartIndex,j=S.dataEndIndex,P=S.updateId;if(!K2({props:C}))return null;var E=C.children,T=C.layout,M=C.stackOffset,L=C.data,R=C.reverseStackOrder,F=E_(T),U=F.numericAxisName,W=F.cateAxisName,B=Sr(E,n),$=w9(L,B,"".concat(U,"Id"),"".concat(W,"Id"),M,R),z=d.reduce(function(H,X){var oe="".concat(X.axisType,"Map");return ae(ae({},H),{},Ee({},oe,KX(C,ae(ae({},X),{},{graphicalItems:B,stackGroups:X.axisType===U&&$,dataStartIndex:O,dataEndIndex:j}))))},{}),V=VX(ae(ae({},z),{},{props:C,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(z).forEach(function(H){z[H]=m(C,z[H],V,H.replace("Map",""),r)});var G=z["".concat(W,"Map")],D=HX(G),q=x(C,ae(ae({},z),{},{dataStartIndex:O,dataEndIndex:j,updateId:P,graphicalItems:B,stackGroups:$,offset:V}));return ae(ae({formattedGraphicalItems:q,graphicalItems:B,offset:V,stackGroups:$},D),z)},b=(function(y){function S(_){var C,O,j;return AX(this,S),j=EX(this,S,[_]),Ee(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(j,"accessibilityManager",new pX),Ee(j,"handleLegendBBoxUpdate",function(P){if(P){var E=j.state,T=E.dataStartIndex,M=E.dataEndIndex,L=E.updateId;j.setState(ae({legendBBox:P},v({props:j.props,dataStartIndex:T,dataEndIndex:M,updateId:L},ae(ae({},j.state),{},{legendBBox:P}))))}}),Ee(j,"handleReceiveSyncEvent",function(P,E,T){if(j.props.syncId===P){if(T===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(E)}}),Ee(j,"handleBrushChange",function(P){var E=P.startIndex,T=P.endIndex;if(E!==j.state.dataStartIndex||T!==j.state.dataEndIndex){var M=j.state.updateId;j.setState(function(){return ae({dataStartIndex:E,dataEndIndex:T},v({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:M},j.state))}),j.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Ee(j,"handleMouseEnter",function(P){var E=j.getMouseInfo(P);if(E){var T=ae(ae({},E),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseEnter;Me(M)&&M(T,P)}}),Ee(j,"triggeredAfterMouseMove",function(P){var E=j.getMouseInfo(P),T=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var M=j.props.onMouseMove;Me(M)&&M(T,P)}),Ee(j,"handleItemMouseEnter",function(P){j.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ee(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ee(j,"handleMouseMove",function(P){P.persist(),j.throttleTriggeredAfterMouseMove(P)}),Ee(j,"handleMouseLeave",function(P){j.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseLeave;Me(T)&&T(E,P)}),Ee(j,"handleOuterEvent",function(P){var E=mD(P),T=Nr(j.props,"".concat(E));if(E&&Me(T)){var M,L;/.*touch.*/i.test(E)?L=j.getMouseInfo(P.changedTouches[0]):L=j.getMouseInfo(P),T((M=L)!==null&&M!==void 0?M:{},P)}}),Ee(j,"handleClick",function(P){var E=j.getMouseInfo(P);if(E){var T=ae(ae({},E),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var M=j.props.onClick;Me(M)&&M(T,P)}}),Ee(j,"handleMouseDown",function(P){var E=j.props.onMouseDown;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleMouseUp",function(P){var E=j.props.onMouseUp;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ee(j,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.handleMouseDown(P.changedTouches[0])}),Ee(j,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&j.handleMouseUp(P.changedTouches[0])}),Ee(j,"handleDoubleClick",function(P){var E=j.props.onDoubleClick;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"handleContextMenu",function(P){var E=j.props.onContextMenu;if(Me(E)){var T=j.getMouseInfo(P);E(T,P)}}),Ee(j,"triggerSyncEvent",function(P){j.props.syncId!==void 0&&Y0.emit(X0,j.props.syncId,P,j.eventEmitterSymbol)}),Ee(j,"applySyncEvent",function(P){var E=j.props,T=E.layout,M=E.syncMethod,L=j.state.updateId,R=P.dataStartIndex,F=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:R,dataEndIndex:F},v({props:j.props,dataStartIndex:R,dataEndIndex:F,updateId:L},j.state)));else if(P.activeTooltipIndex!==void 0){var U=P.chartX,W=P.chartY,B=P.activeTooltipIndex,$=j.state,z=$.offset,V=$.tooltipTicks;if(!z)return;if(typeof M=="function")B=M(V,P);else if(M==="value"){B=-1;for(var G=0;G<V.length;G++)if(V[G].value===P.activeLabel){B=G;break}}var D=ae(ae({},z),{},{x:z.left,y:z.top}),q=Math.min(U,D.x+D.width),H=Math.min(W,D.y+D.height),X=V[B]&&V[B].value,oe=Rv(j.state,j.props.data,B),fe=V[B]?{x:T==="horizontal"?V[B].coordinate:q,y:T==="horizontal"?H:V[B].coordinate}:Q5;j.setState(ae(ae({},P),{},{activeLabel:X,activeCoordinate:fe,activePayload:oe,activeTooltipIndex:B}))}else j.setState(P)}),Ee(j,"renderCursor",function(P){var E,T=j.state,M=T.isTooltipActive,L=T.activeCoordinate,R=T.activePayload,F=T.offset,U=T.activeTooltipIndex,W=T.tooltipAxisBandSize,B=j.getTooltipEventType(),$=(E=P.props.active)!==null&&E!==void 0?E:M,z=j.props.layout,V=P.key||"_recharts-cursor";return Y.createElement(jX,{key:V,activeCoordinate:L,activePayload:R,activeTooltipIndex:U,chartName:r,element:P,isActive:$,layout:z,offset:F,tooltipAxisBandSize:W,tooltipEventType:B})}),Ee(j,"renderPolarAxis",function(P,E,T){var M=Nr(P,"type.axisType"),L=Nr(j.state,"".concat(M,"Map")),R=P.type.defaultProps,F=R!==void 0?ae(ae({},R),P.props):P.props,U=L&&L[F["".concat(M,"Id")]];return k.cloneElement(P,ae(ae({},U),{},{className:Le(M,U.className),key:P.key||"".concat(E,"-").concat(T),ticks:Bn(U,!0)}))}),Ee(j,"renderPolarGrid",function(P){var E=P.props,T=E.radialLines,M=E.polarAngles,L=E.polarRadius,R=j.state,F=R.radiusAxisMap,U=R.angleAxisMap,W=va(F),B=va(U),$=B.cx,z=B.cy,V=B.innerRadius,G=B.outerRadius;return k.cloneElement(P,{polarAngles:Array.isArray(M)?M:Bn(B,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(L)?L:Bn(W,!0).map(function(D){return D.coordinate}),cx:$,cy:z,innerRadius:V,outerRadius:G,key:P.key||"polar-grid",radialLines:T})}),Ee(j,"renderLegend",function(){var P=j.state.formattedGraphicalItems,E=j.props,T=E.children,M=E.width,L=E.height,R=j.props.margin||{},F=M-(R.left||0)-(R.right||0),U=RT({children:T,formattedGraphicalItems:P,legendWidth:F,legendContent:h});if(!U)return null;var W=U.item,B=P_(U,wX);return k.cloneElement(W,ae(ae({},B),{},{chartWidth:M,chartHeight:L,margin:R,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ee(j,"renderTooltip",function(){var P,E=j.props,T=E.children,M=E.accessibilityLayer,L=br(T,Ir);if(!L)return null;var R=j.state,F=R.isTooltipActive,U=R.activeCoordinate,W=R.activePayload,B=R.activeLabel,$=R.offset,z=(P=L.props.active)!==null&&P!==void 0?P:F;return k.cloneElement(L,{viewBox:ae(ae({},$),{},{x:$.left,y:$.top}),active:z,label:B,payload:z?W:[],coordinate:U,accessibilityLayer:M})}),Ee(j,"renderBrush",function(P){var E=j.props,T=E.margin,M=E.data,L=j.state,R=L.offset,F=L.dataStartIndex,U=L.dataEndIndex,W=L.updateId;return k.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Ku(j.handleBrushChange,P.props.onChange),data:M,x:me(P.props.x)?P.props.x:R.left,y:me(P.props.y)?P.props.y:R.top+R.height+R.brushBottom-(T.bottom||0),width:me(P.props.width)?P.props.width:R.width,startIndex:F,endIndex:U,updateId:"brush-".concat(W)})}),Ee(j,"renderReferenceElement",function(P,E,T){if(!P)return null;var M=j,L=M.clipPathId,R=j.state,F=R.xAxisMap,U=R.yAxisMap,W=R.offset,B=P.type.defaultProps||{},$=P.props,z=$.xAxisId,V=z===void 0?B.xAxisId:z,G=$.yAxisId,D=G===void 0?B.yAxisId:G;return k.cloneElement(P,{key:P.key||"".concat(E,"-").concat(T),xAxis:F[V],yAxis:U[D],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:L})}),Ee(j,"renderActivePoints",function(P){var E=P.item,T=P.activePoint,M=P.basePoint,L=P.childIndex,R=P.isRange,F=[],U=E.props.key,W=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,B=W.activeDot,$=W.dataKey,z=ae(ae({index:L,dataKey:$,cx:T.x,cy:T.y,r:4,fill:qb(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},_e(B,!1)),id(B));return F.push(S.renderActiveDot(B,z,"".concat(U,"-activePoint-").concat(L))),M?F.push(S.renderActiveDot(B,ae(ae({},z),{},{cx:M.x,cy:M.y}),"".concat(U,"-basePoint-").concat(L))):R&&F.push(null),F}),Ee(j,"renderGraphicChild",function(P,E,T){var M=j.filterFormatItem(P,E,T);if(!M)return null;var L=j.getTooltipEventType(),R=j.state,F=R.isTooltipActive,U=R.tooltipAxis,W=R.activeTooltipIndex,B=R.activeLabel,$=j.props.children,z=br($,Ir),V=M.props,G=V.points,D=V.isRange,q=V.baseLine,H=M.item.type.defaultProps!==void 0?ae(ae({},M.item.type.defaultProps),M.item.props):M.item.props,X=H.activeDot,oe=H.hide,fe=H.activeBar,se=H.activeShape,ke=!!(!oe&&F&&z&&(X||fe||se)),Se={};L!=="axis"&&z&&z.props.trigger==="click"?Se={onClick:Ku(j.handleItemMouseEnter,P.props.onClick)}:L!=="axis"&&(Se={onMouseLeave:Ku(j.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Ku(j.handleItemMouseEnter,P.props.onMouseEnter)});var ce=k.cloneElement(P,ae(ae({},M.props),Se));function Oe(qr){return typeof U.dataKey=="function"?U.dataKey(qr.payload):null}if(ke)if(W>=0){var Ie,Z;if(U.dataKey&&!U.allowDuplicatedCategory){var xe=typeof U.dataKey=="function"?Oe:"payload.".concat(U.dataKey.toString());Ie=ad(G,xe,B),Z=D&&q&&ad(q,xe,B)}else Ie=G==null?void 0:G[W],Z=D&&q&&q[W];if(se||fe){var ye=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[k.cloneElement(P,ae(ae(ae({},M.props),Se),{},{activeIndex:ye})),null,null]}if(!De(Ie))return[ce].concat(Vs(j.renderActivePoints({item:M,activePoint:Ie,basePoint:Z,childIndex:W,isRange:D})))}else{var Je,ft=(Je=j.getItemByXY(j.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ce},Et=ft.graphicalItem,Br=Et.item,sn=Br===void 0?P:Br,on=Et.childIndex,nr=ae(ae(ae({},M.props),Se),{},{activeIndex:on});return[k.cloneElement(sn,nr),null,null]}return D?[ce,null,null]:[ce,null]}),Ee(j,"renderCustomized",function(P,E,T){return k.cloneElement(P,ae(ae({key:"recharts-customized-".concat(T)},j.props),j.state))}),Ee(j,"renderMap",{CartesianGrid:{handler:Xu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Xu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Xu},YAxis:{handler:Xu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((C=_.id)!==null&&C!==void 0?C:eo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=RE(j.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),j.state={},j}return MX(S,y),CX(S,[{key:"componentDidMount",value:function(){var C,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,O=C.children,j=C.data,P=C.height,E=C.layout,T=br(O,Ir);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,R=Rv(this.state,j,M,L),F=this.state.tooltipTicks[M].coordinate,U=(this.state.offset.top+P)/2,W=E==="horizontal",B=W?{x:F,y:U}:{y:F,x:U},$=this.state.formattedGraphicalItems.find(function(V){var G=V.item;return G.type.name==="Scatter"});$&&(B=ae(ae({},B),$.props.points[M].tooltipPosition),R=$.props.points[M].tooltipPayload);var z={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:L,activePayload:R,activeCoordinate:B};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var j,P;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){my([br(C.children,Ir)],[br(this.props.children,Ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=br(this.props.children,Ir);if(C&&typeof C.props.shared=="boolean"){var O=C.props.shared?"axis":"item";return u.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var O=this.container,j=O.getBoundingClientRect(),P=r7(j),E={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},T=j.width/O.offsetWidth||1,M=this.inRange(E.chartX,E.chartY,T);if(!M)return null;var L=this.state,R=L.xAxisMap,F=L.yAxisMap,U=this.getTooltipEventType(),W=__(this.state,this.props.data,this.props.layout,M);if(U!=="axis"&&R&&F){var B=va(R).scale,$=va(F).scale,z=B&&B.invert?B.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return ae(ae({},E),{},{xValue:z,yValue:V},W)}return W?ae(ae({},E),W):null}},{key:"inRange",value:function(C,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=C/j,T=O/j;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,L=E>=M.left&&E<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return L?{x:E,y:T}:null}var R=this.state,F=R.angleAxisMap,U=R.radiusAxisMap;if(F&&U){var W=va(F);return MP({x:E,y:T},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,O=this.getTooltipEventType(),j=br(C,Ir),P={};j&&O==="axis"&&(j.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=id(this.props,this.handleOuterEvent);return ae(ae({},E),P)}},{key:"addListener",value:function(){Y0.on(X0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y0.removeListener(X0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,O,j){for(var P=this.state.formattedGraphicalItems,E=0,T=P.length;E<T;E++){var M=P[E];if(M.item===C||M.props.key===C.key||O===qn(M.item.type)&&j===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,O=this.state.offset,j=O.left,P=O.top,E=O.height,T=O.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:C},Y.createElement("rect",{x:j,y:P,height:E,width:T})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(O,j){var P=k_(j,2),E=P[0],T=P[1];return ae(ae({},O),{},Ee({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(O,j){var P=k_(j,2),E=P[0],T=P[1];return ae(ae({},O),{},Ee({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[C])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(C){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[C])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(C){var O=this.state,j=O.formattedGraphicalItems,P=O.activeItem;if(j&&j.length)for(var E=0,T=j.length;E<T;E++){var M=j[E],L=M.props,R=M.item,F=R.type.defaultProps!==void 0?ae(ae({},R.type.defaultProps),R.props):R.props,U=qn(R.type);if(U==="Bar"){var W=(L.data||[]).find(function(V){return NK(C,V)});if(W)return{graphicalItem:M,payload:W}}else if(U==="RadialBar"){var B=(L.data||[]).find(function(V){return MP(C,V)});if(B)return{graphicalItem:M,payload:B}}else if(Uf(M,P)||Wf(M,P)||Ql(M,P)){var $=HH({graphicalItem:M,activeTooltipItem:P,itemData:F.data}),z=F.activeIndex===void 0?$:F.activeIndex;return{graphicalItem:ae(ae({},M),{},{childIndex:z}),payload:Ql(M,P)?F.data[$]:M.props.data[$]}}}return null}},{key:"render",value:function(){var C=this;if(!K2(this))return null;var O=this.props,j=O.children,P=O.className,E=O.width,T=O.height,M=O.style,L=O.compact,R=O.title,F=O.desc,U=P_(O,NX),W=_e(U,!1);if(L)return Y.createElement(o_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(xy,us({},W,{width:E,height:T,title:R,desc:F}),this.renderClipPath(),G2(j,this.renderMap)));if(this.props.accessibilityLayer){var B,$;W.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,W.role=($=this.props.role)!==null&&$!==void 0?$:"application",W.onKeyDown=function(V){C.accessibilityManager.keyboardEvent(V)},W.onFocus=function(){C.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return Y.createElement(o_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",us({className:Le("recharts-wrapper",P),style:ae({position:"relative",cursor:"default",width:E,height:T},M)},z,{ref:function(G){C.container=G}}),Y.createElement(xy,us({},W,{width:E,height:T,title:R,desc:F,style:BX}),this.renderClipPath(),G2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ee(b,"displayName",r),Ee(b,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ee(b,"getDerivedStateFromProps",function(y,S){var _=y.dataKey,C=y.data,O=y.children,j=y.width,P=y.height,E=y.layout,T=y.stackOffset,M=y.margin,L=S.dataStartIndex,R=S.dataEndIndex;if(S.updateId===void 0){var F=C_(y);return ae(ae(ae({},F),{},{updateId:0},v(ae(ae({props:y},F),{},{updateId:0}),S)),{},{prevDataKey:_,prevData:C,prevWidth:j,prevHeight:P,prevLayout:E,prevStackOffset:T,prevMargin:M,prevChildren:O})}if(_!==S.prevDataKey||C!==S.prevData||j!==S.prevWidth||P!==S.prevHeight||E!==S.prevLayout||T!==S.prevStackOffset||!ds(M,S.prevMargin)){var U=C_(y),W={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},B=ae(ae({},__(S,C,E)),{},{updateId:S.updateId+1}),$=ae(ae(ae({},U),W),B);return ae(ae(ae({},$),v(ae({props:y},$),S)),{},{prevDataKey:_,prevData:C,prevWidth:j,prevHeight:P,prevLayout:E,prevStackOffset:T,prevMargin:M,prevChildren:O})}if(!my(O,S.prevChildren)){var z,V,G,D,q=br(O,Ds),H=q&&(z=(V=q.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:L,X=q&&(G=(D=q.props)===null||D===void 0?void 0:D.endIndex)!==null&&G!==void 0?G:R,oe=H!==L||X!==R,fe=!De(C),se=fe&&!oe?S.updateId:S.updateId+1;return ae(ae({updateId:se},v(ae(ae({props:y},S),{},{updateId:se,dataStartIndex:H,dataEndIndex:X}),S)),{},{prevChildren:O,dataStartIndex:H,dataEndIndex:X})}return null}),Ee(b,"renderActiveDot",function(y,S,_){var C;return k.isValidElement(y)?C=k.cloneElement(y,S):Me(y)?C=y(S):C=Y.createElement(Lf,S),Y.createElement(He,{className:"recharts-active-dot",key:_},C)});var w=k.forwardRef(function(S,_){return Y.createElement(b,us({},S,{ref:_}))});return w.displayName=b.displayName,w},XX=Zb({chartName:"LineChart",GraphicalChild:Ws,axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:oo}],formatAxisMap:y5}),QX=Zb({chartName:"BarChart",GraphicalChild:Ea,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:oo}],formatAxisMap:y5}),JX=Zb({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zf},{axisType:"radiusAxis",AxisComp:Bf}],formatAxisMap:M9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const T_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],ZX=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function eQ({metrics:e,loading:t}){const r=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:n=>n.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:n=>`${n}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:n=>`${n}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:n=>`$${(n/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:n=>n.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:n=>n.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:r.map(n=>a.jsxs("div",{className:`${n.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n.title}),a.jsx("p",{className:`text-2xl font-bold ${n.color}`,children:t?"-":n.format(n.value)})]},n.title))})}function tQ({data:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),a.jsx(gb,{width:"100%",height:256,children:a.jsxs(XX,{data:e,children:[a.jsx(Jb,{strokeDasharray:"3 3"}),a.jsx(so,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(oo,{tick:{fontSize:12}}),a.jsx(Ir,{labelFormatter:r=>new Date(r).toLocaleDateString(),formatter:(r,n)=>[r.toLocaleString(),n]}),a.jsx(_a,{}),a.jsx(Ws,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),a.jsx(Ws,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function rQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.filter(n=>n.totalCostCents>0).slice(0,8).map(n=>({name:n.agentName||n.agentId.slice(0,8),value:n.totalCostCents}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx(gb,{width:"100%",height:256,children:a.jsxs(JX,{children:[a.jsx(Qn,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} (${(i*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>a.jsx(kf,{fill:T_[i%T_.length]},`cell-${i}`))}),a.jsx(Ir,{formatter:n=>[`$${(n/100).toFixed(2)}`,"Cost"]})]})})]})}function nQ({agents:e,loading:t}){if(t||e.length===0)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=e.slice(0,10).map(n=>({name:n.agentName||n.agentId.slice(0,8),avgLatency:n.avgLatencyMs,p95Latency:n.p95LatencyMs}));return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),a.jsx(gb,{width:"100%",height:256,children:a.jsxs(QX,{data:r,children:[a.jsx(Jb,{strokeDasharray:"3 3"}),a.jsx(so,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(oo,{tick:{fontSize:12}}),a.jsx(Ir,{formatter:n=>[`${n}ms`,""]}),a.jsx(_a,{}),a.jsx(Ea,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),a.jsx(Ea,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function aQ({agents:e,loading:t}){return t?a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((r,n)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},n))})]}):a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"font-medium text-gray-900",children:r.agentName||r.agentId.slice(0,8)})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.totalExecutions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("span",{className:`px-2 py-1 rounded text-sm ${r.successRate>=95?"bg-green-100 text-green-800":r.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[r.successRate,"%"]})}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[r.avgLatencyMs,"ms"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(r.totalCostCents/100).toFixed(2)]}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:r.avgRating>0?r.avgRating.toFixed(1):"-"})]},r.agentId))})]})]})}function iQ({trends:e,loading:t}){if(t||e.length===0)return null;const r=o=>{switch(o){case"up":return"^";case"down":return"v";default:return"-"}},n=o=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(o.metric),u=["avgLatencyMs","totalCostCents"].includes(o.metric);return o.direction==="stable"?"text-gray-600 bg-gray-100":o.direction==="up"&&l||o.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},i=o=>o.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(o=>a.jsxs("div",{className:`rounded-lg p-3 ${n(o)}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:i(o.metric)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:r(o.direction)}),a.jsxs("span",{className:"text-sm",children:[o.changePercent>0?"+":"",o.changePercent.toFixed(1),"%"]})]})]},o.metric))})]})}function sQ({entries:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,i)=>a.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},i))})]});const r=n=>{switch(n){case"up":return a.jsx("span",{className:"text-green-500",children:"^"});case"down":return a.jsx("span",{className:"text-red-500",children:"v"});default:return a.jsx("span",{className:"text-gray-400",children:"-"})}};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${n.rank===1?"bg-yellow-400 text-yellow-900":n.rank===2?"bg-gray-300 text-gray-700":n.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:n.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.agentName||n.agentId.slice(0,8)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",n.score.toFixed(1)," ",r(n.trend)]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[n.executions.toLocaleString()," executions"]}),a.jsxs("p",{className:"text-gray-500",children:[n.successRate,"% success"]})]})]},n.agentId))})]})}function oQ({data:e,loading:t}){if(t)return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),a.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const r=Array.from({length:24},(u,d)=>d),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=Array.from({length:7},()=>Array(24).fill(0));let o=1;e.forEach(u=>{const h=new Date(u.date).getDay();h>=0&&h<7&&u.hour>=0&&u.hour<24&&(i[h][u.hour]+=u.value,o=Math.max(o,i[h][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/o;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-max",children:[a.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:r.map(u=>a.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),n.map((u,d)=>a.jsxs("div",{className:"flex gap-0.5 items-center",children:[a.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),r.map(h=>a.jsx("div",{className:`w-6 h-6 rounded-sm ${l(i[d][h])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${h}:00 - ${i[d][h]} executions`},h))]},u)),a.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),a.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function lQ({anomalies:e,loading:t}){return t||e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((r,n)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${r.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:r.metric.replace(/([A-Z])/g," $1")}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",r.value.toLocaleString()," (expected: ~",r.expectedValue.toLocaleString(),")"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[r.deviationPercent>0?"+":"",r.deviationPercent.toFixed(0),"%"]})]})},n))})]})}function cQ({onExport:e,loading:t}){const[r,n]=k.useState(!1);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(!r),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):a.jsx(a.Fragment,{children:"Export"})}),r&&!t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[a.jsx("button",{onClick:()=>{e("csv"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),a.jsx("button",{onClick:()=>{e("pdf"),n(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function uQ(){const[e,t]=k.useState("week"),[r,n]=k.useState(!0),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState([]),[b,w]=k.useState([]),[y,S]=k.useState([]),[_,C]=k.useState([]),O=k.useCallback(async()=>{var P,E,T,M;n(!0),u(null);try{const[L,R,F,U]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(!L.ok)throw new Error("Failed to fetch overview");if(!R.ok)throw new Error("Failed to fetch agent metrics");if(!F.ok)throw new Error("Failed to fetch leaderboard");if(!U.ok)throw new Error("Failed to fetch trends");const[W,B,$,z]=await Promise.all([L.json(),R.json(),F.json(),U.json()]);p(W.data),v(((P=B.data)==null?void 0:P.agents)||[]),w(((E=$.data)==null?void 0:E.leaderboard)||[]),S(((T=z.data)==null?void 0:T.trends)||[]),C(((M=z.data)==null?void 0:M.anomalies)||[])}catch(L){u(L instanceof Error?L.message:"Failed to load analytics"),console.error("Analytics fetch error:",L)}finally{n(!1)}},[e]),j=async P=>{o(!0);try{const E=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:P,period:e})});if(!E.ok)throw new Error("Export failed");const T=await E.blob(),M=window.URL.createObjectURL(T),L=document.createElement("a");L.href=M,L.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${P}`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(M)}catch(E){console.error("Export error:",E),u("Failed to export report")}finally{o(!1)}};return k.useEffect(()=>{O()},[O]),k.useEffect(()=>{if(!d)return;const P=setInterval(O,6e4);return()=>clearInterval(P)},[d,O]),a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("select",{value:e,onChange:P=>t(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ZX.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:P=>h(P.target.checked),className:"rounded"}),"Auto-refresh"]}),a.jsx(cQ,{onExport:j,loading:i})]})]}),l&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,a.jsx("button",{onClick:O,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(lQ,{anomalies:_,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(eQ,{metrics:m,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(iQ,{trends:y,loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsx(tQ,{data:(m==null?void 0:m.dailyTrend)||[],loading:r}),a.jsx(rQ,{agents:x,loading:r})]}),a.jsx("div",{className:"mb-6",children:a.jsx(nQ,{agents:x,loading:r})}),a.jsx("div",{className:"mb-6",children:a.jsx(oQ,{data:((m==null?void 0:m.dailyTrend)||[]).flatMap(P=>Array.from({length:24},(E,T)=>({date:P.date,hour:T,value:Math.floor(P.executions*(T>=9&&T<=17?.08:.02))}))),loading:r})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(aQ,{agents:x,loading:r}),a.jsx(sQ,{entries:b,loading:r})]})]})}const dQ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState([]),[x,v]=k.useState("monthly"),[b,w]=k.useState(!0),[y,S]=k.useState(null);k.useEffect(()=>{_()},[]);const _=async()=>{try{w(!0),S(null);const[M,L,R,F]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!M.ok||!L.ok||!R.ok)throw new Error("Failed to load billing data");const U=await M.json(),W=await L.json(),B=await R.json(),$=await F.json();t(U.plans),n(W.subscription),o(B.usage),u(B.limits),h(B.percentages),p($.invoices)}catch(M){S(M instanceof Error?M.message:"An error occurred")}finally{w(!1)}},C=async M=>{try{const L=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:M,billingInterval:x})});if(!L.ok){const F=await L.json();throw new Error(F.error||"Failed to create checkout session")}const{url:R}=await L.json();R&&(window.location.href=R)}catch(L){S(L instanceof Error?L.message:"Failed to upgrade")}},O=async()=>{try{const M=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const R=await M.json();throw new Error(R.error||"Failed to open billing portal")}const{url:L}=await M.json();L&&(window.location.href=L)}catch(M){S(M instanceof Error?M.message:"Failed to open billing portal")}},j=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const M=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to cancel subscription")}await _()}catch(M){S(M instanceof Error?M.message:"Failed to cancel")}},P=async()=>{try{const M=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!M.ok){const L=await M.json();throw new Error(L.error||"Failed to reactivate subscription")}await _()}catch(M){S(M instanceof Error?M.message:"Failed to reactivate")}},E=M=>M===-1?"Unlimited":M.toLocaleString(),T=M=>`${(M/1073741824).toFixed(2)} GB`;return b?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),y&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[y,a.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),r&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.plan.name}),a.jsxs("p",{className:"text-gray-500",children:[r.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}),r.cancelAtPeriodEnd&&a.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),a.jsxs("div",{className:"flex gap-3",children:[r.hasStripeSubscription&&a.jsx("button",{onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),r.cancelAtPeriodEnd?a.jsx("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):r.planId!=="free"?a.jsx("button",{onClick:j,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),i&&l&&d&&a.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ol,{label:"Executions",current:i.executions,limit:l.executionsPerMonth,percentage:d.executions}),a.jsx(ol,{label:"API Requests (Daily)",current:i.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),a.jsx(ol,{label:"Agents",current:i.agents,limit:l.agents,percentage:d.agents}),a.jsx(ol,{label:"Workflows",current:i.workflows,limit:l.workflows,percentage:d.workflows}),a.jsx(ol,{label:"Team Members",current:i.team_members,limit:l.teamMembers,percentage:d.team_members}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Storage"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[T(i.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>v("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>v("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(M=>a.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${M.popular?"ring-2 ring-blue-500":""}`,children:[M.popular&&a.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:M.name}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:M.description}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?M.pricing.yearly:M.pricing.monthly}),M.pricing.monthlyRaw>0&&a.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),a.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.agents)," Agents"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.workflows)," Workflows"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.executionsPerMonth)," Executions/month"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",E(M.limits.teamMembers)," Team members"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," ",M.limits.storageGb," GB Storage"]}),M.features.githubIntegration&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," GitHub Integration"]}),M.features.advancedAnalytics&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Advanced Analytics"]}),M.features.prioritySupport&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," Priority Support"]}),M.features.sso&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Mn,{})," SSO"]})]}),(r==null?void 0:r.planId)===M.id?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):M.id==="free"?a.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):M.pricing.monthlyRaw===-1?a.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):a.jsxs("button",{onClick:()=>C(M.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r&&r.planId!=="free"?"Switch to":"Upgrade to"," ",M.name]})]},M.id))})]}),m.length>0&&a.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(M=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:new Date(M.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"py-3 px-4",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"py-3 px-4",children:M.amountFormatted}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(fQ,{status:M.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[M.hostedInvoiceUrl&&a.jsx("a",{href:M.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),M.invoicePdfUrl&&a.jsx("a",{href:M.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},M.id))})]})})]})]})},ol=({label:e,current:t,limit:r,percentage:n})=>{const i=l=>l===-1?"Unlimited":l.toLocaleString(),o=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-600",children:e}),a.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",i(r)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`${o(n)} h-2 rounded-full transition-all`,style:{width:`${Math.min(n,100)}%`}})})]})},Mn=()=>a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),fQ=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function hQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState("month"),[x,v]=k.useState(""),[b,w]=k.useState(!1),{user:y}=wn();k.useEffect(()=>{S()},[m]);const S=async()=>{try{u(!0),h(null);const[T,M,L]=await Promise.all([fetch(`/api/costs/summary?period=${m}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(!T.ok||!M.ok||!L.ok)throw new Error("Failed to fetch cost data");const[R,F,U]=await Promise.all([T.json(),M.json(),L.json()]);t(R.data),n(F.data.trend),o(U.data),U.data.budgetCents&&v((U.data.budgetCents/100).toString())}catch(T){h(T instanceof Error?T.message:"Unknown error")}finally{u(!1)}},_=async()=>{try{w(!0);const T=x?Math.round(parseFloat(x)*100):null,M=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:T})});if(!M.ok){const L=await M.json();throw new Error(L.message||"Failed to update budget")}await S()}catch(T){h(T instanceof Error?T.message:"Failed to update budget")}finally{w(!1)}},C=T=>`$${(T/100).toFixed(2)}`,O=T=>T.toLocaleString(),j=T=>{switch(T){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},P=T=>{switch(T){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},E=()=>Math.max(...r.map(T=>T.totalCostCents),1);return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:d})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),i&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P(i.status)}`,children:i.status==="exceeded"?"Budget Exceeded":i.status==="critical"?"Critical":i.status==="warning"?"Warning":"On Track"})]}),l?a.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:C(i.spentCents)}),i.budgetCents&&a.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",C(i.budgetCents)]}),a.jsxs("span",{className:"text-lg text-gray-500",children:["(",i.usedPercent,"%)"]})]}),i.budgetCents&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all ${j(i.status)}`,style:{width:`${Math.min(i.usedPercent,100)}%`}})}),a.jsx("p",{className:"text-gray-600",children:i.budgetCents?`${C(i.remainingCents)} remaining this month`:"No budget limit set"})]}):a.jsx("p",{className:"text-gray-500",children:"No budget data available"}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:x,onChange:T=>v(T.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("button",{onClick:_,disabled:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:b?"Saving...":"Save"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),a.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(T=>a.jsx("button",{onClick:()=>p(T),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${m===T?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:T==="day"?"Today":T==="week"?"This Week":"This Month"},T))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.totalCostCents)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:O((e==null?void 0:e.requestCount)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalInputTokens)??0)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O((e==null?void 0:e.totalOutputTokens)??0)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(T=>a.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},T))}):e!=null&&e.byAgent&&e.byAgent.length>0?a.jsx("div",{className:"space-y-4",children:e.byAgent.map(T=>{const M=e.totalCostCents>0?Math.round(T.totalCostCents/e.totalCostCents*100):0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:T.agentName||T.agentId.slice(0,8)}),a.jsxs("span",{className:"text-sm text-gray-600",children:[C(T.totalCostCents)," (",M,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${M}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[O(T.requestCount)," requests"]})]})]},T.agentId)})}):a.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?a.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):r.length>0?a.jsx("div",{className:"h-48 flex items-end gap-1",children:r.slice(-30).map(T=>{const M=T.totalCostCents>0?Math.max(T.totalCostCents/E()*100,4):2;return a.jsxs("div",{className:"flex-1 group relative",title:`${T.date}: ${C(T.totalCostCents)}`,children:[a.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${M}%`}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[T.date,": ",C(T.totalCostCents)]})})]},T.date)})}):a.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(T=>a.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},T))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,T],[,M])=>M.costCents-T.costCents).map(([T,M])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:T}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.costCents)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:O(M.requests)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.requests>0?Math.round(M.costCents/M.requests):0)})]},T))})]})}):a.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const pQ=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],mQ=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],gQ=()=>{const[e,t]=k.useState("keys"),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState(null),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState(!1),[b,w]=k.useState(""),[y,S]=k.useState([]),[_,C]=k.useState("free"),[O,j]=k.useState(null),[P,E]=k.useState(!1),[T,M]=k.useState(""),[L,R]=k.useState([]),[F,U]=k.useState(null),W=k.useCallback(async()=>{h(!0),p(null);try{const[X,oe,fe]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(X.ok){const se=await X.json();n(se.data||[])}if(oe.ok){const se=await oe.json();o(se.data||[])}if(fe.ok){const se=await fe.json();u(se.data||null)}}catch(X){p("Failed to load data"),console.error("Error fetching developer portal data:",X)}finally{h(!1)}},[]);k.useEffect(()=>{W()},[W]);const B=async()=>{try{const X=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,scopes:y,rateLimitTier:_})});if(X.ok){const oe=await X.json();j(oe.data.key),n(fe=>[...fe,oe.data]),w(""),S([]),C("free")}else{const oe=await X.json();p(oe.message||"Failed to create API key")}}catch{p("Failed to create API key")}},$=async X=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${X}`,{method:"DELETE"})).ok&&n(fe=>fe.map(se=>se.id===X?{...se,status:"revoked"}:se))}catch{p("Failed to revoke API key")}},z=async()=>{try{const X=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:T,events:L})});if(X.ok){const oe=await X.json();U(oe.data.secret),o(fe=>[...fe,oe.data]),M(""),R([])}else{const oe=await X.json();p(oe.message||"Failed to create webhook")}}catch{p("Failed to create webhook")}},V=async X=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${X}`,{method:"DELETE"})).ok&&o(fe=>fe.filter(se=>se.id!==X))}catch{p("Failed to delete webhook")}},G=async X=>{try{const fe=await(await fetch(`/api/organization/webhooks/${X}/test`,{method:"POST"})).json();fe.data.success?alert(`Webhook test successful! Response time: ${fe.data.latencyMs}ms`):alert(`Webhook test failed: ${fe.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},D=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",q=X=>{switch(X){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},H=X=>{switch(X){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),m&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[m,a.jsx("button",{onClick:()=>p(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(X=>a.jsxs("button",{onClick:()=>t(X),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===X?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[X==="keys"&&"API Keys",X==="webhooks"&&"Webhooks",X==="docs"&&"Documentation"]},X))})}),e==="keys"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.map(X=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[X.scopes.slice(0,3).join(", "),X.scopes.length>3&&` +${X.scopes.length-3} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[X.keyPrefix,"..."]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(X.rateLimitTier)}`,children:X.rateLimitTier})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H(X.status)}`,children:X.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(X.lastUsedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.totalRequests.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:X.status==="active"&&a.jsx("button",{onClick:()=>$(X.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},X.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),a.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[i.map(X=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:X.url})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[X.events.slice(0,2).join(", "),X.events.length>2&&` +${X.events.length-2} more`]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H(X.status)}`,children:X.status}),X.failureCount>0&&a.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",X.failureCount," failures)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.lastSuccess?a.jsx("span",{className:"text-green-600",children:D(X.lastSuccess)}):X.lastFailure?a.jsx("span",{className:"text-red-600",children:D(X.lastFailure)}):"Never"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[a.jsx("button",{onClick:()=>G(X.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),a.jsx("button",{onClick:()=>V(X.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},X.id)),i.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),a.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),a.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),a.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(X=>a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${X.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:X.method}),a.jsx("code",{className:"text-gray-900",children:X.path}),a.jsx("span",{className:"ml-3 text-gray-500",children:X.desc})]},X.path))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500",children:[a.jsx("th",{className:"pb-2",children:"Tier"}),a.jsx("th",{className:"pb-2",children:"Per Minute"}),a.jsx("th",{className:"pb-2",children:"Per Day"})]})}),a.jsxs("tbody",{className:"text-gray-900",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Free"}),a.jsx("td",{children:"60"}),a.jsx("td",{children:"1,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Pro"}),a.jsx("td",{children:"300"}),a.jsx("td",{children:"10,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1",children:"Enterprise"}),a.jsx("td",{children:"1,000"}),a.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:O?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:O})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(O),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{v(!1),j(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:b,onChange:X=>w(X.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),a.jsxs("select",{value:_,onChange:X=>C(X.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),a.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),a.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:pQ.map(X=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:y.includes(X),onChange:oe=>{oe.target.checked?S(fe=>[...fe,X]):S(fe=>fe.filter(se=>se!==X))},className:"mr-2"}),X]},X))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:B,disabled:!b||y.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:F?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),a.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:F})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(F),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),a.jsx("button",{onClick:()=>{E(!1),U(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:T,onChange:X=>M(X.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:mQ.map(X=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",checked:L.includes(X),onChange:oe=>{oe.target.checked?R(fe=>[...fe,X]):R(fe=>fe.filter(se=>se!==X))},className:"mr-2"}),X]},X))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:z,disabled:!T||L.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function xQ(){const{slug:e}=lf(),[t,r]=k.useState(null),[n,i]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[h,m]=k.useState([]),[p,x]=k.useState(!1),[v,b]=k.useState(!0),[w,y]=k.useState(!1),[S,_]=k.useState(null),[C,O]=k.useState("overview"),[j,P]=k.useState(null),E=k.useCallback(async()=>{if(e){b(!0);try{const z=await de({url:`/api/marketplace/extensions/${e}`,method:"GET"});r(z.extension)}catch(z){z instanceof Ce&&z.status===404?_("Extension not found"):_("Failed to load extension")}finally{b(!1)}}},[e]),T=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});i(z.reviews.items),l(z.summary)}catch(z){console.error("Failed to fetch reviews:",z)}},[e]),M=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(z.versions)}catch(z){console.error("Failed to fetch versions:",z)}},[e]),L=k.useCallback(async()=>{if(e)try{const z=await de({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});m(z.extensions)}catch(z){console.error("Failed to fetch similar:",z)}},[e]),R=k.useCallback(async()=>{try{const z=await de({url:"/api/marketplace/installed",method:"GET"});x(z.installed.some(V=>V.extension.slug===e))}catch{}},[e]);k.useEffect(()=>{E(),T(),M(),L(),R()},[E,T,M,L,R]);const F=async()=>{if(t){y(!0);try{await de({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(z){const V=z instanceof Ce?z.message:"Install failed";alert(V)}finally{y(!1)}}},U=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await de({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(z){const V=z instanceof Ce?z.message:"Uninstall failed";alert(V)}},W=z=>z>=1e6?`${(z/1e6).toFixed(1)}M`:z>=1e3?`${(z/1e3).toFixed(1)}K`:String(z),B=z=>{if(z.pricing==="free")return"Free";if(!z.price)return"Paid";const V=(z.price.amount/100).toFixed(2),G=z.price.interval?`/${z.price.interval}`:"";return`$${V}${G}`},$=(z,V="sm")=>{const G=[],D=V==="lg"?"text-xl":"text-sm";for(let q=1;q<=5;q++)G.push(a.jsx("span",{className:`${q<=z?"text-yellow-400":"text-gray-300"} ${D}`,children:""},q));return G};return v?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):a.jsxs("div",{children:[a.jsxs("nav",{className:"mb-4 text-sm",children:[a.jsx(At,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:t.name})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?a.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):a.jsx("span",{className:"text-4xl",children:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx("span",{children:t.publisherName}),t.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:B(t)}),p?a.jsx("button",{onClick:U,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):a.jsx("button",{onClick:F,disabled:w,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Installing...":"Install"})]})]}),a.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[$(Math.round(t.stats.rating)),a.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[W(t.stats.downloads)," downloads"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:[W(t.stats.activeInstalls)," active installs"]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(z=>a.jsx(At,{to:`/marketplace?q=${z}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:z},z))})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(z=>a.jsxs("button",{onClick:()=>O(z),className:`py-3 text-sm font-medium border-b-2 -mb-px ${C===z?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[z==="overview"&&"Overview",z==="reviews"&&`Reviews (${t.stats.reviewCount})`,z==="versions"&&"Version History"]},z))})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[C==="overview"&&a.jsxs("div",{children:[t.screenshots.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((z,V)=>a.jsx("img",{src:z,alt:`Screenshot ${V+1}`,onClick:()=>P(z),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},V))})]}),a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),C==="reviews"&&a.jsxs("div",{children:[o&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:o.average.toFixed(1)}),a.jsx("div",{className:"flex justify-center mt-1",children:$(Math.round(o.average),"lg")}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[o.count," reviews"]})]}),a.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(z=>a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 w-3",children:z}),a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${o.count>0?o.distribution[z]/o.count*100:0}%`}})}),a.jsx("span",{className:"text-sm text-gray-500 w-8",children:o.distribution[z]||0})]},z))})]})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):a.jsx("div",{className:"space-y-4",children:n.map(z=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:z.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$(z.rating),a.jsxs("span",{className:"text-sm text-gray-500",children:["by ",z.userName,"  ",new Date(z.createdAt).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[z.helpfulCount," found helpful"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:z.body}),z.publisherResponse&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.publisherResponse.body})]})]},z.id))})]}),C==="versions"&&a.jsx("div",{className:"space-y-4",children:u.map(z=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["v",z.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:z.publishedAt?new Date(z.publishedAt).toLocaleDateString():"Unpublished"})]}),z.changelog&&a.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:z.changelog})]},z.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Version"}),a.jsx("dd",{className:"text-gray-900",children:t.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Category"}),a.jsx("dd",{className:"text-gray-900",children:t.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),a.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Published"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-gray-500",children:"Updated"}),a.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),a.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&a.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&a.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&a.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[a.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),a.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(z=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",z]},z))})]}),h.length>0&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),a.jsx("div",{className:"space-y-3",children:h.slice(0,4).map(z=>a.jsxs(At,{to:`/marketplace/${z.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:z.icon?a.jsx("img",{src:z.icon,alt:"",className:"w-6 h-6 rounded"}):a.jsx("span",{children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:z.name}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",z.stats.rating.toFixed(1)]})]})]},z.id))})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>P(null),children:a.jsx("img",{src:j,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function yQ(){var O;const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState(!0),[d,h]=k.useState(null),[m,p]=k.useState(null),[x,v]=k.useState(30);k.useEffect(()=>{b()},[x]);const b=async()=>{u(!0),h(null);try{const[j,P]=await Promise.all([fetch(`/api/feedback/analysis?days=${x}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(!j.ok||!P.ok)throw new Error("Failed to fetch feedback data");const E=await j.json(),T=await P.json();t(E),n(T.actions),o(T.stats)}catch(j){h(j instanceof Error?j.message:"An error occurred")}finally{u(!1)}},w=async j=>{p(j);try{if(!(await fetch(`/api/feedback/actions/${j}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await b()}catch(P){h(P instanceof Error?P.message:"Failed to apply action")}finally{p(null)}},y=async j=>{p(j);try{if(!(await fetch(`/api/feedback/actions/${j}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await b()}catch(P){h(P instanceof Error?P.message:"Failed to dismiss action")}finally{p(null)}},S=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await b()}catch(j){h(j instanceof Error?j.message:"Failed to process feedback")}},_=j=>{switch(j){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=j=>{switch(j){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return l?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(j=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},j))})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:x,onChange:j=>v(parseInt(j.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(i==null?void 0:i.pending)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(i==null?void 0:i.applied)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:i?`${(i.successRate*100).toFixed(0)}%`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([j,P])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_(j)}`,children:j}),a.jsx("span",{className:"text-gray-700 font-medium",children:P})]},j)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((j,P)=>P[1]-j[1]).slice(0,5).map(([j,P])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:j.replace(/_/g," ")}),a.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:P})]},j)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&a.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):r.map(j=>a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(j.priority)}`,children:j.priority}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:j.type.replace(/_/g," ")}),j.autoApplicable&&a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),a.jsx("p",{className:"mt-2 text-gray-900",children:j.description}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",j.estimatedImpact.affectedRequests," requests, +",(j.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>w(j.id),disabled:m===j.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:m===j.id?"...":"Apply"}),a.jsx("button",{onClick:()=>y(j.id),disabled:m===j.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},j.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(O=e==null?void 0:e.recentFeedback)==null?void 0:O.slice(0,10).map(j=>{var P;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.type,j.rating&&a.jsxs("span",{className:"ml-1",children:["(",j.rating,"/5)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.sentiment&&a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(j.sentiment)}`,children:j.sentiment})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((P=j.category)==null?void 0:P.replace(/_/g," "))||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:j.originalRequest}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.createdAt).toLocaleDateString()})]},j.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const is={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},J0={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function vQ(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState([]),[x,v]=k.useState(""),[b,w]=k.useState([]),[y,S]=k.useState([]),[_,C]=k.useState(!1),O=k.useRef(null),j=k.useRef(null),P=k.useCallback(async()=>{try{const U=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch stats");const W=await U.json();o(W)}catch(U){console.error("Error fetching stats:",U)}},[]),E=k.useCallback(async U=>{t(!0),n(null);try{let W="/api/knowledge-graph/visualization";U&&U.length>0&&(W=`/api/knowledge-graph/visualization/filtered?nodeTypes=${U.join(",")}`);const B=await fetch(W,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch graph");const $=await B.json();u($)}catch(W){n(W instanceof Error?W.message:"Unknown error")}finally{t(!1)}},[]),T=async()=>{C(!0),n(null);try{const U=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!U.ok)throw new Error("Failed to build graph");const W=await U.json();alert(`Graph built: ${W.nodeCount} nodes, ${W.edgeCount} edges`),await Promise.all([P(),E(y)])}catch(U){n(U instanceof Error?U.message:"Failed to build graph")}finally{C(!1)}},M=async()=>{if(!x.trim()){w([]);return}try{const U=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(x)}&limit=10`,{credentials:"include"});if(!U.ok)throw new Error("Search failed");const W=await U.json();w(W.nodes||[])}catch(U){console.error("Search error:",U)}},L=async U=>{try{const W=await fetch(`/api/knowledge-graph/related/${U}?depth=2&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch related nodes");const B=await W.json();p(B.related||[])}catch(W){console.error("Error fetching related:",W)}},R=async U=>{h(U),await L(U.id)},F=U=>{S(W=>W.includes(U)?W.filter($=>$!==U):[...W,U])};return k.useEffect(()=>{E(y)},[y,E]),k.useEffect(()=>{P(),E()},[P,E]),k.useEffect(()=>{if(!l||!O.current)return;const U=O.current,W=U.getContext("2d");if(!W)return;const B=U.parentElement;B&&(U.width=B.clientWidth,U.height=B.clientHeight),W.fillStyle="#1a1a2e",W.fillRect(0,0,U.width,U.height);const $=l.nodes.map(G=>({...G,x:Math.random()*U.width,y:Math.random()*U.height,vx:0,vy:0})),z=new Map($.map(G=>[G.id,G]));for(let G=0;G<100;G++){for(let D=0;D<$.length;D++)for(let q=D+1;q<$.length;q++){const H=$[q].x-$[D].x,X=$[q].y-$[D].y,oe=Math.sqrt(H*H+X*X)||1,fe=1e3/(oe*oe);$[D].vx-=H/oe*fe,$[D].vy-=X/oe*fe,$[q].vx+=H/oe*fe,$[q].vy+=X/oe*fe}for(const D of l.edges){const q=z.get(D.from),H=z.get(D.to);if(q&&H){const X=H.x-q.x,oe=H.y-q.y,fe=Math.sqrt(X*X+oe*oe)||1,se=fe*.01;q.vx+=X/fe*se,q.vy+=oe/fe*se,H.vx-=X/fe*se,H.vy-=oe/fe*se}}for(const D of $)D.vx+=(U.width/2-D.x)*.001,D.vy+=(U.height/2-D.y)*.001;for(const D of $)D.x+=D.vx*.1,D.y+=D.vy*.1,D.vx*=.9,D.vy*=.9,D.x=Math.max(50,Math.min(U.width-50,D.x)),D.y=Math.max(50,Math.min(U.height-50,D.y))}W.strokeStyle="#4a4a6a",W.lineWidth=1;for(const G of l.edges){const D=z.get(G.from),q=z.get(G.to);D&&q&&(W.beginPath(),W.moveTo(D.x,D.y),W.lineTo(q.x,q.y),W.stroke())}for(const G of $){const D=is[G.group]||"#9E9E9E",q=G.size||15;W.beginPath(),W.arc(G.x,G.y,q,0,Math.PI*2),W.fillStyle=D,W.fill(),W.strokeStyle=(d==null?void 0:d.id)===G.id?"#ffffff":"#000000",W.lineWidth=(d==null?void 0:d.id)===G.id?3:1,W.stroke(),W.fillStyle="#ffffff",W.font="11px sans-serif",W.textAlign="center",W.fillText(G.label.slice(0,15),G.x,G.y+q+12)}j.current=$;const V=G=>{const D=U.getBoundingClientRect(),q=G.clientX-D.left,H=G.clientY-D.top;for(const X of $)if(Math.sqrt((q-X.x)**2+(H-X.y)**2)<=(X.size||15)){R(X);return}h(null),p([])};return U.addEventListener("click",V),()=>U.removeEventListener("click",V)},[l,d]),a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),a.jsx("button",{onClick:T,disabled:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Building...":"Rebuild Graph"})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[a.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[i&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.nodeCount}),a.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.edgeCount}),a.jsx("div",{className:"text-gray-400",children:"Edges"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.density.toFixed(3)}),a.jsx("div",{className:"text-gray-400",children:"Density"})]}),a.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.averageDegree.toFixed(1)}),a.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:U=>v(U.target.value),onKeyDown:U=>U.key==="Enter"&&M(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),a.jsx("button",{onClick:M,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),b.length>0&&a.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:b.map(U=>a.jsxs("button",{onClick:()=>R(U),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:is[U.group]||"#9E9E9E"}}),U.label]},U.id))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(J0).map(([U,W])=>a.jsx("button",{onClick:()=>F(U),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${y.includes(U)?"opacity-100":y.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:y.includes(U)||y.length===0?is[U]:"#4a4a6a"},children:W},U))}),y.length>0&&a.jsx("button",{onClick:()=>S([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),d&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:is[d.group]||"#9E9E9E"}}),a.jsx("span",{className:"font-semibold",children:d.label})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",J0[d.group]||d.group]}),m.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",m.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:m.map(U=>a.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>R({id:U.node.id,label:U.node.label,group:U.node.type}),children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:is[U.node.type]||"#9E9E9E"}}),a.jsx("span",{className:"flex-1 truncate",children:U.node.label}),a.jsx("span",{className:"text-gray-500",children:U.edge.type})]},U.node.id))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(J0).map(([U,W])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:is[U]}}),W]},U))})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),r&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),a.jsx("div",{className:"text-sm",children:r}),a.jsx("button",{onClick:()=>E(y),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!r&&l&&l.nodes.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),a.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),a.jsx("button",{onClick:T,disabled:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:_?"Building...":"Build Graph"})]})}),a.jsx("canvas",{ref:O,className:"w-full h-full cursor-pointer",style:{display:e||r?"none":"block"}})]})]})]})}function bQ(){const[e,t]=Uv(),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState(null),[m,p]=k.useState(0),[x,v]=k.useState(!0),[b,w]=k.useState(e.get("q")||""),[y,S]=k.useState(e.get("category")||""),[_,C]=k.useState(e.get("pricing")||""),[O,j]=k.useState(e.get("sort")||"popular"),[P,E]=k.useState(1),T=k.useCallback(async()=>{v(!0);try{const B=new URLSearchParams;b&&B.set("q",b),y&&B.set("category",y),_&&B.set("pricing",_),B.set("sort",O),B.set("page",String(P)),B.set("limit","20");const z=await de({url:`${b?"/api/marketplace/search":"/api/marketplace/extensions"}?${B.toString()}`,method:"GET"});n(z.extensions||z.items||[]),p(z.total),z.facets&&h(z.facets)}catch(B){console.error("Failed to fetch extensions:",B)}finally{v(!1)}},[b,y,_,O,P]),M=k.useCallback(async()=>{try{const B=await de({url:"/api/marketplace/featured",method:"GET"});o(B.extensions)}catch(B){console.error("Failed to fetch featured:",B)}},[]),L=k.useCallback(async()=>{try{const B=await de({url:"/api/marketplace/categories",method:"GET"});u(B.categories)}catch(B){console.error("Failed to fetch categories:",B)}},[]);k.useEffect(()=>{L(),M()},[L,M]),k.useEffect(()=>{T()},[T]),k.useEffect(()=>{const B=new URLSearchParams;b&&B.set("q",b),y&&B.set("category",y),_&&B.set("pricing",_),O!=="popular"&&B.set("sort",O),t(B)},[b,y,_,O,t]);const R=B=>{B.preventDefault(),E(1),T()},F=B=>B>=1e6?`${(B/1e6).toFixed(1)}M`:B>=1e3?`${(B/1e3).toFixed(1)}K`:String(B),U=B=>{if(B.pricing==="free")return"Free";if(!B.price)return"Paid";const $=(B.price.amount/100).toFixed(2),z=B.price.interval?`/${B.price.interval}`:"";return`$${$}${z}`},W=B=>{const $=[];for(let z=1;z<=5;z++)$.push(a.jsx("span",{className:z<=B?"text-yellow-400":"text-gray-300",children:""},z));return $};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),a.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),a.jsxs("form",{onSubmit:R,className:"flex gap-3 max-w-2xl",children:[a.jsx("input",{type:"text",value:b,onChange:B=>w(B.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[!b&&i.length>0&&a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(0,3).map(B=>a.jsx(At,{to:`/marketplace/${B.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:B.icon?a.jsx("img",{src:B.icon,alt:"",className:"w-10 h-10 rounded-lg"}):a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.name}),a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:B.description}),a.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:a.jsxs("span",{className:"flex items-center text-yellow-500",children:[W(Math.round(B.stats.rating)),a.jsxs("span",{className:"text-gray-500 ml-1",children:["(",B.stats.reviewCount,")"]})]})})]})]})},B.id))})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-56 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{S(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(B=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{S(B.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${y===B.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{children:B.name}),B.extensionCount!==void 0&&a.jsx("span",{className:"text-xs text-gray-400",children:B.extensionCount})]})},B.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),a.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(B=>a.jsx("li",{children:a.jsx("button",{onClick:()=>{C(B),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${_===B?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:B===""?"All":B.charAt(0).toUpperCase()+B.slice(1)})},B))})]}),d&&d.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(B=>a.jsx("button",{onClick:()=>w(B.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:B.name},B.name))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[m," extension",m!==1?"s":""," found"]}),a.jsxs("select",{value:O,onChange:B=>{j(B.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"popular",children:"Most Popular"}),a.jsx("option",{value:"recent",children:"Recently Added"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"trending",children:"Trending"})]})]}),x?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(B=>a.jsx(At,{to:`/marketplace/${B.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:B.icon?a.jsx("img",{src:B.icon,alt:"",className:"w-8 h-8 rounded-lg"}):a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:B.name}),B.publisherVerified&&a.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:B.publisherName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:B.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",B.stats.rating.toFixed(1)]}),a.jsxs("span",{className:"text-gray-400",children:[F(B.stats.downloads)," downloads"]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.pricing==="free"?"bg-green-100 text-green-700":B.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:U(B)})]})]})]})},B.id))}),m>20&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>E(B=>Math.max(1,B-1)),disabled:P===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",P," of ",Math.ceil(m/20)]}),a.jsx("button",{onClick:()=>E(B=>B+1),disabled:P>=Math.ceil(m/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const R_={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},Z0=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function jQ(){var V;const e=Si(),{user:t}=wn(),[r,n]=k.useState(null),[i,o]=k.useState([]),[l,u]=k.useState(!0),[d,h]=k.useState(!1),[m,p]=k.useState(null),[x,v]=k.useState(""),[b,w]=k.useState(""),[y,S]=k.useState(""),[_,C]=k.useState(null),[O,j]=k.useState([]),[P,E]=k.useState("");k.useEffect(()=>{T(),M()},[]);const T=async()=>{try{const D=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(D.data)n(D.data),D.data.data&&(v(D.data.data.companyName||""),w(D.data.data.industry||""),S(D.data.data.teamSize||""),C(D.data.data.templateId||null),j(D.data.data.selectedAgents||[]));else{const H=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();n(H.data)}}catch(G){p(G instanceof Error?G.message:"Failed to load")}finally{u(!1)}},M=async()=>{try{const D=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();o(D.data||[])}catch(G){console.error("Failed to fetch templates",G)}},L=async(G,D)=>{h(!0),p(null);try{const H=await(await fetch(`/api/onboarding/step/${G}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:D})})).json();if(!H.success)throw new Error(H.error);n(H.data),H.data.isComplete&&e("/dashboard")}catch(q){p(q instanceof Error?q.message:"Failed to complete step")}finally{h(!1)}},R=async G=>{h(!0),p(null);try{const q=await(await fetch(`/api/onboarding/step/${G}/skip`,{method:"POST",credentials:"include"})).json();if(!q.success)throw new Error(q.error);n(q.data)}catch(D){p(D instanceof Error?D.message:"Failed to skip step")}finally{h(!1)}},F=()=>{if(!x.trim()){p("Company name is required");return}L("company_info",{companyName:x,industry:b,teamSize:y})},U=async()=>{if(!_){p("Please select a template");return}h(!0),p(null);try{const D=await(await fetch(`/api/onboarding/templates/${_}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:O}})})).json();if(!D.success)throw new Error(D.error);await T()}catch(G){p(G instanceof Error?G.message:"Failed to apply template")}finally{h(!1)}},W=()=>{const G=P.split(/[,\n]/).map(D=>D.trim()).filter(D=>D);if(G.length===0){R("invite_team");return}L("invite_team",{invitedEmails:G})},B=(r==null?void 0:r.currentStep)||"company_info",$=R_[B],z=Z0.indexOf(B);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r!=null&&r.isComplete?(e("/dashboard"),null):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",z+1," of ",Z0.length-1]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(r==null?void 0:r.progress)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(r==null?void 0:r.progress)||0}%`}})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:$.titleKo}),a.jsx("p",{className:"text-gray-600",children:$.descriptionKo})]}),m&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:m})}),B==="company_info"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",value:x,onChange:G=>v(G.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsxs("select",{value:b,onChange:G=>w(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select industry"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),a.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),a.jsx("option",{value:"manufacturing",children:"Manufacturing"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),a.jsxs("select",{value:y,onChange:G=>S(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select team size"}),a.jsx("option",{value:"1-5",children:"1-5 people"}),a.jsx("option",{value:"6-20",children:"6-20 people"}),a.jsx("option",{value:"21-50",children:"21-50 people"}),a.jsx("option",{value:"51-200",children:"51-200 people"}),a.jsx("option",{value:"200+",children:"200+ people"})]})]}),a.jsx("button",{onClick:F,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),B==="google_workspace"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),a.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="select_template"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(G=>a.jsxs("button",{onClick:()=>C(G.id),className:`p-6 border-2 rounded-xl text-left transition ${_===G.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:G.icon}),a.jsx("h3",{className:"font-semibold text-gray-900",children:G.nameKo}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.descriptionKo}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[G.agents.filter(D=>D.enabled).length," agents,"," ",G.id==="custom"?"configure yourself":"pre-configured"]})]},G.id))}),a.jsx("button",{onClick:U,disabled:d||!_,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),B==="customize_agents"&&a.jsxs("div",{className:"space-y-6",children:[_&&a.jsx("div",{className:"space-y-4",children:(V=i.find(G=>G.id===_))==null?void 0:V.agents.map(G=>a.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:G.enabled||O.includes(G.id),onChange:D=>{D.target.checked?j([...O,G.id]):j(O.filter(q=>q!==G.id))},className:"h-4 w-4 text-indigo-600 rounded"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:G.name}),a.jsx("div",{className:"text-sm text-gray-500",children:G.description})]})]},G.id))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>R("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),a.jsx("button",{onClick:()=>L("customize_agents",{selectedAgents:O}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),B==="connect_slack"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),a.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="invite_team"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),a.jsx("textarea",{value:P,onChange:G=>E(G.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>R("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),a.jsx("button",{onClick:W,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":P.trim()?"Send Invites":"Continue"})]})]}),B==="first_workflow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),a.jsx("button",{onClick:()=>{L("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),a.jsx("div",{className:"flex justify-between pt-4",children:a.jsx("button",{onClick:()=>R("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),B==="completed"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),B!=="completed"&&a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Z0.slice(0,-1).map(G=>{const D=r==null?void 0:r.completedSteps.includes(G),q=r==null?void 0:r.skippedSteps.includes(G),H=G===B;return a.jsx("div",{className:`w-3 h-3 rounded-full ${D?"bg-green-500":q?"bg-gray-300":H?"bg-indigo-600":"bg-gray-200"}`,title:R_[G].title},G)})})]})]})}const wQ=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],ll={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},M_={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function NQ(){var V,G;const e=Si(),[t,r]=k.useState(M_),[n,i]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(null),[p,x]=k.useState(""),[v,b]=k.useState(""),[w,y]=k.useState(""),[S,_]=k.useState(""),[C,O]=k.useState(""),j=k.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){i(!0),d(null);try{const D=await de({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});r(q=>({...q,analysis:D,selectedSkills:D.suggestedSkills,selectedTools:D.suggestedTools}))}catch(D){const q=D instanceof Ce?D.message:"   ";d(q)}finally{i(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);k.useEffect(()=>{t.step===3&&!t.analysis&&j()},[t.step,t.analysis,j]);const P=D=>{r(q=>({...q,changeType:D}))},E=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}r(D=>({...D,step:D.step+1}))},T=()=>{d(null),r(D=>({...D,step:D.step-1}))},M=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const D=await de({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});m({prUrl:D.prUrl,changeId:D.changeId})}catch(D){const q=D instanceof Ce?D.message:"    ";d(q)}finally{l(!1)}},L=D=>{r(q=>({...q,selectedSkills:q.selectedSkills.includes(D)?q.selectedSkills.filter(H=>H!==D):[...q.selectedSkills,D]}))},R=D=>{r(q=>({...q,selectedTools:q.selectedTools.includes(D)?q.selectedTools.filter(H=>H!==D):[...q.selectedTools,D]}))},F=()=>{p.trim()&&!t.customSkills.includes(p.trim())&&(r(D=>({...D,customSkills:[...D.customSkills,p.trim()]})),x(""))},U=()=>{v.trim()&&!t.customTools.includes(v.trim())&&(r(D=>({...D,customTools:[...D.customTools,v.trim()]})),b(""))},W=(D,q,H)=>{q.trim()&&!t.permissions[D].includes(q.trim())&&(r(X=>({...X,permissions:{...X.permissions,[D]:[...X.permissions[D],q.trim()]}})),H(""))},B=(D,q)=>{r(H=>({...H,permissions:{...H.permissions,[D]:H.permissions[D].filter(X=>X!==q)}}))},$=D=>{switch(D){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},z=D=>{switch(D){case"low":return"";case"medium":return"";case"high":return""}};return h?a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),a.jsx("a",{href:h.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:h.prUrl})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),a.jsx("button",{onClick:()=>{r(M_),m(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(D=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${D===t.step?"bg-indigo-600 text-white":D<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:D<t.step?"":D}),D<5&&a.jsx("div",{className:`w-16 h-1 mx-2 ${D<t.step?"bg-indigo-600":"bg-gray-200"}`})]},D))}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[a.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),a.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),a.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(ll).map(D=>{const q=ll[D],H=t.changeType===D;return a.jsxs("button",{onClick:()=>P(D),className:`p-4 rounded-lg border-2 text-left transition-all ${H?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:q.emoji}),a.jsx("div",{className:"font-semibold text-gray-900",children:q.title}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:q.titleEn}),a.jsx("div",{className:"text-sm text-gray-600",children:q.description})]},D)})})]}),t.step===2&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&ll[t.changeType].emoji," ",t.changeType&&ll[t.changeType].title," (Step 2/5)"]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),a.jsxs("select",{value:t.teamFunction,onChange:D=>r(q=>({...q,teamFunction:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:""}),wQ.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),a.jsx("input",{type:"text",value:t.entityName,onChange:D=>r(q=>({...q,entityName:D.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("textarea",{value:t.description,onChange:D=>r(q=>({...q,description:D.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):a.jsxs("div",{className:"space-y-6",children:[t.analysis&&a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),a.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(V=t.analysis)==null?void 0:V.suggestedSkills.map(D=>a.jsx("button",{onClick:()=>L(D),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(D)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},D)),t.customSkills.map(D=>a.jsxs("button",{onClick:()=>r(q=>({...q,customSkills:q.customSkills.filter(H=>H!==D)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[D," "]},D))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:D=>x(D.target.value),onKeyPress:D=>D.key==="Enter"&&F(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:F,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(G=t.analysis)==null?void 0:G.suggestedTools.map(D=>a.jsx("button",{onClick:()=>R(D),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(D)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},D)),t.customTools.map(D=>a.jsxs("button",{onClick:()=>r(q=>({...q,customTools:q.customTools.filter(H=>H!==D)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[D," "]},D))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:D=>b(D.target.value),onKeyPress:D=>D.key==="Enter"&&U(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:U,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("read",D),className:"ml-1 hover:text-blue-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:D=>y(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("read",w,y),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("read",w,y),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("write",D),className:"ml-1 hover:text-green-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S,onChange:D=>_(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("write",S,_),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("write",S,_),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(D=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[D,a.jsx("button",{onClick:()=>B("deny",D),className:"ml-1 hover:text-red-900",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:D=>O(D.target.value),onKeyPress:D=>D.key==="Enter"&&W("deny",C,O),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("button",{onClick:()=>W("deny",C,O),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:" :"}),a.jsx("span",{className:"font-medium",children:t.changeType&&ll[t.changeType].title})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),a.jsx("span",{className:"font-medium",children:t.teamFunction})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"font-medium",children:t.entityName})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"text-gray-700",children:t.description})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(D=>a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:D},D))})]}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"w-32 text-gray-500",children:":"}),a.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(D=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:D},D))})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$(t.analysis.riskLevel)}`,children:[": ",z(t.analysis.riskLevel)]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),a.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-lg mr-2",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),a.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((D,q)=>a.jsx("li",{className:"text-sm text-gray-700",children:D},q))})]})]})]})]}),t.analysis&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),a.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(D=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",D]},D))]}),t.analysis.filesModified.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(D=>a.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",D]},D))]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):T,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?a.jsx("button",{onClick:E,disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):a.jsx("button",{onClick:M,disabled:o,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?" ...":"  PR "})]})]})}function SQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState("all"),[d,h]=k.useState(!1);k.useEffect(()=>{m()},[l]);const m=async()=>{try{n(!0);const S=new URLSearchParams;l!=="all"&&S.set("type",l),S.set("status","active"),S.set("limit","50");const _=await fetch(`/api/patterns?${S}`,{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch patterns");const C=await _.json();t(C.patterns),o(null)}catch(S){o(S instanceof Error?S.message:"Unknown error")}finally{n(!1)}},p=async()=>{try{if(h(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await m()}catch(S){o(S instanceof Error?S.message:"Analysis failed")}finally{h(!1)}},x=async S=>{try{if(!(await fetch(`/api/patterns/${S}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(C=>C.id!==S))}catch(_){o(_ instanceof Error?_.message:"Failed to dismiss")}},v=async S=>{try{const _=await fetch(`/api/patterns/${S}/generate-sop`,{method:"POST",credentials:"include"});if(!_.ok)throw new Error("Failed to generate SOP");const C=await _.json();window.location.href=`/sop-drafts/${C.draft.id}`}catch(_){o(_ instanceof Error?_.message:"Failed to generate SOP")}},b=()=>{const S={sequence:0,cluster:0,time:0};let _=0;for(const C of e)S[C.type]++,_+=C.confidence;return{total:e.length,byType:S,avgConfidence:e.length>0?_/e.length:0}},w=S=>{var C;const _=S.data;switch(S.type){case"sequence":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((C=_.sequence)==null?void 0:C.join("  "))||"N/A"]});case"cluster":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Intent:"})," ",_.commonIntent||"Similar requests"]});case"time":return a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Schedule:"})," ",_.description||"Recurring pattern"]});default:return null}},y=b();return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),a.jsx("button",{onClick:p,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Analyzing...":"Run Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.total})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.byType.sequence})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.byType.cluster})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.byType.time})]})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(S=>a.jsx("button",{onClick:()=>u(S),className:`px-4 py-2 rounded-lg ${l===S?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:i})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),a.jsx("button",{onClick:p,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.type==="sequence"?"bg-blue-100 text-blue-700":S.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:S.type}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(S.confidence*100),"% confidence"]})]}),a.jsx("div",{className:"mb-3",children:w(S)}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:["Frequency: ",S.frequency]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()})]}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:a.jsx("div",{className:`h-full rounded-full ${S.confidence>=.8?"bg-green-500":S.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${S.confidence*100}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>v(S.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),a.jsx("button",{onClick:()=>x(S.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},S.id))})]})})}function OQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState(null),[l,u]=k.useState([]),[d,h]=k.useState(!0),[m,p]=k.useState(!1),[x,v]=k.useState(!1),[b,w]=k.useState("30d"),[y,S]=k.useState("overview"),[_,C]=k.useState({name:"",slug:"",email:"",website:"",description:""}),O=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me",method:"GET"});return t(R.publisher),!0}catch(R){return R instanceof Ce&&R.status===404&&v(!0),!1}},[]),j=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me/extensions",method:"GET"});n(R.extensions)}catch(R){console.error("Failed to fetch extensions:",R)}},[]),P=k.useCallback(async()=>{try{const R=await de({url:`/api/marketplace/publishers/me/analytics?period=${b}`,method:"GET"});o(R.analytics)}catch(R){console.error("Failed to fetch analytics:",R)}},[b]),E=k.useCallback(async()=>{try{const R=await de({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(R.payouts)}catch(R){console.error("Failed to fetch payouts:",R)}},[]);k.useEffect(()=>{(async()=>{h(!0),await O()&&await Promise.all([j(),P(),E()]),h(!1)})()},[O,j,P,E]),k.useEffect(()=>{e&&P()},[b,e,P]);const T=async R=>{R.preventDefault(),p(!0);try{const F=await de({url:"/api/marketplace/publishers/register",method:"POST",data:_});t(F.publisher),v(!1)}catch(F){const U=F instanceof Ce?F.message:"Registration failed";alert(U)}finally{p(!1)}},M=R=>R>=1e6?`${(R/1e6).toFixed(1)}M`:R>=1e3?`${(R/1e3).toFixed(1)}K`:String(R),L=R=>`$${(R/100).toFixed(2)}`;return d?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?a.jsxs("div",{className:"max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),a.jsx("input",{type:"text",value:_.name,onChange:R=>C({..._,name:R.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),a.jsx("input",{type:"text",value:_.slug,onChange:R=>C({..._,slug:R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",value:_.email,onChange:R=>C({..._,email:R.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",value:_.website,onChange:R=>C({..._,website:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:_.description,onChange:R=>C({..._,description:R.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:m?"Registering...":"Register as Publisher"})]})})]}):e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&a.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),a.jsx(At,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(R=>a.jsxs("button",{onClick:()=>S(R),className:`py-3 text-sm font-medium border-b-2 -mb-px ${y===R?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[R==="overview"&&"Overview",R==="extensions"&&`Extensions (${r.length})`,R==="payouts"&&"Payouts"]},R))})}),y==="overview"&&i&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("select",{value:b,onChange:R=>w(R.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(i.totalDownloads)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:M(i.totalInstalls)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:L(i.totalRevenue)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.length})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),a.jsx("div",{className:"h-48 flex items-end gap-1",children:i.downloadTrend.slice(-30).map((R,F)=>{const U=Math.max(...i.downloadTrend.map(B=>B.count))||1,W=R.count/U*100;return a.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(W,2)}%`},title:`${R.date}: ${R.count} downloads`},F)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"pb-3",children:"Extension"}),a.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),a.jsx("th",{className:"pb-3 text-right",children:"Installs"}),a.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),a.jsx("tbody",{children:i.extensionStats.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium text-gray-900",children:R.name}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(R.downloads)}),a.jsx("td",{className:"py-3 text-right text-gray-600",children:M(R.installs)}),a.jsx("td",{className:"py-3 text-right text-green-600",children:L(R.revenue)}),a.jsxs("td",{className:"py-3 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",R.rating.toFixed(1)]})]},R.extensionId))})]})]})]}),y==="extensions"&&a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),a.jsx(At,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Extension"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Downloads"}),a.jsx("th",{className:"p-4 text-right",children:"Rating"}),a.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),a.jsx("tbody",{children:r.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4",children:a.jsx(At,{to:`/marketplace/${R.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:R.name})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.status==="published"?"bg-green-100 text-green-700":R.status==="review"?"bg-yellow-100 text-yellow-700":R.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),a.jsx("td",{className:"p-4 text-right text-gray-600",children:M(R.stats.downloads)}),a.jsxs("td",{className:"p-4 text-right",children:[a.jsx("span",{className:"text-yellow-500",children:""})," ",R.stats.rating.toFixed(1),a.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",R.stats.reviewCount,")"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:R.pricing})})]},R.id))})]})}),y==="payouts"&&a.jsxs("div",{children:[!e.payoutEnabled&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),a.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[a.jsx("th",{className:"p-4",children:"Period"}),a.jsx("th",{className:"p-4",children:"Amount"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4",children:"Paid Date"})]})}),a.jsx("tbody",{children:l.map(R=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(R.periodStart).toLocaleDateString()," -"," ",new Date(R.periodEnd).toLocaleDateString()]}),a.jsx("td",{className:"p-4 font-medium text-green-600",children:L(R.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R.status==="completed"?"bg-green-100 text-green-700":R.status==="processing"?"bg-blue-100 text-blue-700":R.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:R.status})}),a.jsx("td",{className:"p-4 text-gray-600",children:R.paidAt?new Date(R.paidAt).toLocaleDateString():"-"})]},R.id))})]})})]})]}):null}function kQ(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,o]=k.useState(null),[l,u]=k.useState(null),[d,h]=k.useState("all"),[m,p]=k.useState(""),[x,v]=k.useState(!1);k.useEffect(()=>{b()},[d]);const b=async()=>{try{n(!0);const O=new URLSearchParams;d!=="all"&&O.set("status",d),O.set("limit","50");const j=await fetch(`/api/sop-drafts?${O}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch drafts");const P=await j.json();t(P.drafts),o(null)}catch(O){o(O instanceof Error?O.message:"Unknown error")}finally{n(!1)}},w=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(P=>P.id===O?{...P,status:"approved",reviewedAt:new Date().toISOString()}:P)),u(null)}catch(j){o(j instanceof Error?j.message:"Failed to approve")}},y=async O=>{try{if(!(await fetch(`/api/sop-drafts/${O}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:m})})).ok)throw new Error("Failed to reject draft");t(e.map(P=>P.id===O?{...P,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:m}:P)),v(!1),p(""),u(null)}catch(j){o(j instanceof Error?j.message:"Failed to reject")}},S=async O=>{try{const j=await fetch(`/api/sop-drafts/${O.id}/yaml`,{credentials:"include"});if(!j.ok)throw new Error("Failed to download YAML");const P=await j.blob(),E=window.URL.createObjectURL(P),T=document.createElement("a");T.href=E,T.download=`${O.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(E)}catch(j){o(j instanceof Error?j.message:"Failed to download")}},_=O=>{switch(O){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},C=O=>{switch(O){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),a.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(O=>a.jsx("button",{onClick:()=>h(O),className:`px-4 py-2 rounded-lg ${d===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O==="all"?"All":O.replace("_"," ").replace(/\b\w/g,j=>j.toUpperCase())},O))}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:i})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-1/3",children:r?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):a.jsx("div",{className:"space-y-3",children:e.map(O=>a.jsxs("div",{onClick:()=>u(O),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===O.id?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:O.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_(O.status)}`,children:O.status.replace("_"," ")})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.description}),a.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:O.function}),a.jsx("span",{children:""}),a.jsxs("span",{children:[O.steps.length," steps"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(O.confidence*100),"%"]})]})]},O.id))})}),a.jsx("div",{className:"flex-1",children:l?a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),a.jsx("span",{className:`px-3 py-1 rounded-full ${_(l.status)}`,children:l.status.replace("_"," ")})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Function: ",l.function]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Source: ",l.sourceType]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),a.jsx("div",{className:"space-y-3",children:l.steps.map((O,j)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:j+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:C(O.type)}),a.jsx("span",{className:"font-medium",children:O.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:O.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),O.agentId&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",O.agentId]}),O.toolName&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",O.toolName]})]})]},O.id))})]}),l.status==="rejected"&&l.rejectionReason&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),a.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),a.jsx("button",{onClick:()=>{v(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),a.jsx("button",{onClick:()=>w(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&a.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),a.jsx("textarea",{value:m,onChange:O=>p(O.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),p("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>y(l.id),disabled:!m.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const PQ={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function AQ({step:e,index:t,isSelected:r,isDragging:n,onSelect:i,onDragStart:o,onDragEnd:l}){const u=k.useMemo(()=>PQ[e.type],[e.type]);return a.jsxs("div",{draggable:!0,onDragStart:o,onDragEnd:l,onClick:i,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${r?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${n?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),a.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&a.jsxs("p",{className:"truncate",children:[a.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&a.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function _Q({steps:e,selectedStepIndex:t,onSelectStep:r,onReorderSteps:n,onAddStep:i}){const[o,l]=k.useState(null),[u,d]=k.useState(null),h=k.useRef(null),m=k.useCallback(w=>y=>{y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(w)),l(w)},[]),p=k.useCallback(()=>{l(null),d(null)},[]),x=k.useCallback(w=>y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",o!==null&&w!==o&&d(w)},[o]),v=k.useCallback(w=>y=>{y.preventDefault();const S=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==w&&n(S,w),l(null),d(null)},[n]),b=w=>w>=e.length-1?null:a.jsxs("div",{className:"flex justify-center my-2",children:[a.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),a.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:a.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return a.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:h,children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),a.jsxs("button",{onClick:()=>i("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Automated"})]}),a.jsxs("button",{onClick:()=>i("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Manual"})]}),a.jsxs("button",{onClick:()=>i("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Approval"})]})]})}),a.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),a.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[e.map((w,y)=>a.jsxs("div",{children:[u===y&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),a.jsx("div",{onDragOver:x(y),onDrop:v(y),children:a.jsx(AQ,{step:w,index:y,isSelected:t===y,isDragging:o===y,onSelect:()=>r(y),onDragStart:m(y),onDragEnd:p})}),b(y)]},w.id+"-"+y)),u===e.length&&o!==null&&a.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:w=>{w.preventDefault(),d(e.length)},onDrop:v(e.length),children:a.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(null),style:{pointerEvents:"none"}})]})}function CQ({step:e,onUpdate:t,onDelete:r,onClose:n}){var x,v;const[i,o]=k.useState(e),[l,u]=k.useState("");if(k.useEffect(()=>{o(e)},[e]),!i)return a.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(b,w)=>{const y={...i,[b]:w};o(y),t(y)},h=b=>{const w={...i,conditional:{when:b}};o(w),t(w)},m=()=>{if(!l.trim())return;const b=[...i.checklist||[],l.trim()];d("checklist",b),u("")},p=b=>{var y;const w=((y=i.checklist)==null?void 0:y.filter((S,_)=>_!==b))||[];d("checklist",w.length>0?w:void 0)};return a.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:i.type,onChange:b=>d("type",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"automated",children:" Automated"}),a.jsx("option",{value:"manual",children:" Manual"}),a.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),a.jsx("input",{type:"text",value:i.id,onChange:b=>d("id",b.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i.name,onChange:b=>d("name",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:i.description||"",onChange:b=>d("description",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),i.type==="automated"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),a.jsx("input",{type:"text",value:i.agent||"",onChange:b=>d("agent",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),a.jsx("input",{type:"text",value:i.tool||"",onChange:b=>d("tool",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),i.type==="manual"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsx("input",{type:"text",value:i.assignee||"",onChange:b=>d("assignee",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:i.requires_approval||!1,onChange:b=>d("requires_approval",b.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),i.type==="approval_required"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),a.jsx("input",{type:"text",value:i.approver||"",onChange:b=>d("approver",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),a.jsxs("select",{value:i.timeout||"",onChange:b=>d("timeout",b.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"No timeout"}),a.jsx("option",{value:"5m",children:"5 minutes"}),a.jsx("option",{value:"15m",children:"15 minutes"}),a.jsx("option",{value:"30m",children:"30 minutes"}),a.jsx("option",{value:"1h",children:"1 hour"}),a.jsx("option",{value:"2h",children:"2 hours"}),a.jsx("option",{value:"4h",children:"4 hours"}),a.jsx("option",{value:"8h",children:"8 hours"}),a.jsx("option",{value:"24h",children:"24 hours"}),a.jsx("option",{value:"48h",children:"48 hours"}),a.jsx("option",{value:"72h",children:"72 hours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),a.jsx("input",{type:"text",value:((x=i.conditional)==null?void 0:x.when)||"",onChange:b=>b.target.value?h(b.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(i.type==="manual"||i.type==="approval_required")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),a.jsxs("div",{className:"space-y-2",children:[(v=i.checklist)==null?void 0:v.map((b,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:b}),a.jsx("button",{onClick:()=>p(w),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},w)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),onKeyDown:b=>b.key==="Enter"&&m(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),a.jsx("button",{onClick:m,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function EQ({sopId:e,isOpen:t,onClose:r}){const[n,i]=k.useState("{}"),[o,l]=k.useState(null),[u,d]=k.useState(!1),[h,m]=k.useState(null),[p,x]=k.useState(0),v=async()=>{if(e){d(!0),m(null);try{const y=JSON.parse(n),S=await de({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:y}});l(S.simulation),x(0)}catch(y){y instanceof SyntaxError?m("Invalid JSON in input data"):y instanceof Ce?m(y.message):m("Failed to simulate SOP")}finally{d(!1)}}},b=y=>{if(y<60)return`${y}m`;const S=Math.floor(y/60),_=y%60;if(S<24)return _>0?`${S}h ${_}m`:`${S}h`;const C=Math.floor(S/24),O=S%24;return O>0?`${C}d ${O}h`:`${C}d`},w=y=>{switch(y){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),a.jsx("textarea",{value:n,onChange:y=>i(y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),a.jsx("button",{onClick:v,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),h&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),o&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:o.sopName}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",a.jsx("span",{className:"font-medium",children:o.totalSteps})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",a.jsx("span",{className:"font-medium",children:b(o.estimatedTotalDuration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",a.jsxs("span",{className:"font-medium",children:[o.steps.filter(y=>y.willExecute).length," steps"]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),a.jsx("div",{className:"space-y-3",children:o.steps.map((y,S)=>{const _=w(y.type),C=S===p;return a.jsx("div",{onClick:()=>x(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${C?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${y.willExecute?"":"opacity-50"}
                        `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${y.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${_.color}`,children:[_.icon," ",y.type.replace("_"," ")]}),!y.willExecute&&a.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),a.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description}),y.skipReason&&a.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",y.skipReason]}),C&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[y.agent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",a.jsx("span",{className:"font-mono",children:y.agent})]}),y.tool&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",a.jsx("span",{className:"font-mono",children:y.tool})]}),y.assignee&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",a.jsx("span",{children:y.assignee})]}),y.approver&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",a.jsx("span",{children:y.approver})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",a.jsx("span",{children:b(y.estimatedDuration)})]}),y.checklist&&y.checklist.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Checklist:"}),a.jsx("ul",{className:"mt-1 ml-4 list-disc",children:y.checklist.map((O,j)=>a.jsx("li",{className:"text-gray-600",children:O},j))})]}),y.resolvedInput&&Object.keys(y.resolvedInput).length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),a.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(y.resolvedInput,null,2)})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:b(y.estimatedDuration)})]})},y.id)})})]}),o.exceptionHandlers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),a.jsx("div",{className:"space-y-2",children:o.exceptionHandlers.map((y,S)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-500",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:y.condition}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsx("span",{className:"text-indigo-600",children:y.action}),y.target&&a.jsxs("span",{className:"text-gray-500",children:[" (target: ",y.target,")"]})]})]},S))})]})]})]})]})}):null}const TQ=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function RQ(){const{id:e}=lf(),t=Si(),r=!!e,[n,i]=k.useState([]),[o,l]=k.useState(!0),[u,d]=k.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[h,m]=k.useState([{pattern:""}]),[p,x]=k.useState([]),[v,b]=k.useState([]),[w,y]=k.useState(null),[S,_]=k.useState(!1),[C,O]=k.useState(!1),[j,P]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(!1),[R,F]=k.useState(!1),[U,W]=k.useState(""),[B,$]=k.useState("editor"),z=k.useCallback(async()=>{try{const Z=await de({url:"/api/sops",method:"GET"});i(Z.sops)}catch(Z){console.error("Failed to fetch SOP list:",Z)}finally{l(!1)}},[]),V=k.useCallback(async Z=>{_(!0),P(null);try{const ye=(await de({url:`/api/sops/${Z}`,method:"GET"})).sop;d(ye.metadata),m(ye.triggers),x(ye.steps),b(ye.exception_handling||[])}catch(xe){xe instanceof Ce?P(xe.message):P("Failed to load SOP")}finally{_(!1)}},[]),G=k.useCallback(async()=>{if(e)try{const Z=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(Z.ok){const xe=await Z.text();W(xe)}}catch(Z){console.error("Failed to fetch YAML:",Z)}},[e]);k.useEffect(()=>{z()},[z]),k.useEffect(()=>{e?V(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),m([{pattern:""}]),x([]),b([]),y(null))},[e,V]),k.useEffect(()=>{R&&e&&G()},[R,e,G]);const D=Z=>{const xe={id:`step-${Date.now()}`,name:`New ${Z==="automated"?"Automated":Z==="manual"?"Manual":"Approval"} Step`,type:Z};x([...p,xe]),y(p.length)},q=Z=>{if(w===null)return;const xe=[...p];xe[w]=Z,x(xe)},H=()=>{if(w===null)return;const Z=p.filter((xe,ye)=>ye!==w);x(Z),y(null)},X=(Z,xe)=>{const ye=[...p],[Je]=ye.splice(Z,1);ye.splice(xe,0,Je),x(ye),w===Z&&y(xe)},oe=()=>{m([...h,{pattern:""}])},fe=(Z,xe)=>{const ye=[...h];ye[Z]={pattern:xe},m(ye)},se=Z=>{h.length<=1||m(h.filter((xe,ye)=>ye!==Z))},ke=()=>{b([...v,{condition:"",action:"notify_owner"}])},Se=(Z,xe,ye)=>{const Je=[...v];Je[Z]={...Je[Z],[xe]:ye},b(Je)},ce=Z=>{b(v.filter((xe,ye)=>ye!==Z))},Oe=async()=>{if(!u.id.trim()){P("SOP ID is required");return}if(!u.name.trim()){P("SOP name is required");return}if(!u.owner.trim()){P("Owner is required");return}if(h.every(xe=>!xe.pattern.trim())){P("At least one trigger pattern is required");return}if(p.length===0){P("At least one step is required");return}O(!0),P(null),T(null);const Z={metadata:u,triggers:h.filter(xe=>xe.pattern.trim()),steps:p,exception_handling:v.filter(xe=>xe.condition.trim())};try{r?(await de({url:`/api/sops/${e}`,method:"PUT",data:Z}),T("SOP updated successfully")):(await de({url:"/api/sops",method:"POST",data:Z}),T("SOP created successfully"),t(`/sops/${u.id}`)),z()}catch(xe){xe instanceof Ce?P(xe.message):P("Failed to save SOP")}finally{O(!1)}},Ie=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await de({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),z()}catch(Z){Z instanceof Ce?P(Z.message):P("Failed to delete SOP")}};return S?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("nav",{className:"text-sm mb-1",children:[a.jsx(At,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),a.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-600",children:r?u.name||e:"New SOP"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit SOP":"Create New SOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>F(!R),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:R?"Hide YAML":"View YAML"}),a.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),a.jsx("button",{onClick:Ie,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),a.jsx("button",{onClick:Oe,disabled:C,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:C?"Saving...":r?"Update SOP":"Create SOP"})]})]}),j&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:j}),E&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[a.jsx("div",{className:"p-4",children:a.jsxs(At,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"New SOP"})]})}),a.jsx("nav",{className:"px-2 pb-4",children:o?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):n.length===0?a.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):n.map(Z=>a.jsxs(At,{to:`/sops/${Z.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===Z.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"font-medium truncate",children:Z.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[Z.function,"  ",Z.stepCount," steps"]})]},Z.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(Z=>a.jsxs("button",{onClick:()=>$(Z),className:`py-3 text-sm font-medium border-b-2 transition-colors ${B===Z?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[Z==="editor"&&"Step Editor",Z==="triggers"&&"Triggers & Metadata",Z==="exceptions"&&"Exception Handlers"]},Z))})}),B==="editor"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(_Q,{steps:p,selectedStepIndex:w,onSelectStep:y,onReorderSteps:X,onAddStep:D}),a.jsx(CQ,{step:w!==null?p[w]:null,onUpdate:q,onDelete:H,onClose:()=>y(null)})]}),B==="triggers"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),a.jsx("input",{type:"text",value:u.id,onChange:Z=>d({...u,id:Z.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:u.name,onChange:Z=>d({...u,name:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),a.jsx("select",{value:u.function,onChange:Z=>d({...u,function:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:TQ.map(Z=>a.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),a.jsx("input",{type:"text",value:u.owner,onChange:Z=>d({...u,owner:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("input",{type:"text",value:u.version,onChange:Z=>d({...u,version:Z.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),a.jsx("button",{onClick:oe,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),a.jsx("div",{className:"space-y-3",children:h.map((Z,xe)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:Z.pattern,onChange:ye=>fe(xe,ye.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),h.length>1&&a.jsx("button",{onClick:()=>se(xe),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},xe))})]})]})}),B==="exceptions"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),a.jsx("button",{onClick:ke,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),v.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No exception handlers defined"}),a.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):a.jsx("div",{className:"space-y-4",children:v.map((Z,xe)=>a.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),a.jsxs("select",{value:Z.condition,onChange:ye=>Se(xe,"condition",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"",children:"Select condition..."}),a.jsx("option",{value:"step.failed",children:"Step Failed"}),a.jsx("option",{value:"step.timeout",children:"Step Timeout"}),a.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),a.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),a.jsxs("select",{value:Z.action,onChange:ye=>Se(xe,"action",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[a.jsx("option",{value:"notify_owner",children:"Notify Owner"}),a.jsx("option",{value:"escalate",children:"Escalate"}),a.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),a.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),a.jsx("option",{value:"return_to_step",children:"Return to Step"}),a.jsx("option",{value:"send_reminder",children:"Send Reminder"}),a.jsx("option",{value:"request_revision",children:"Request Revision"}),a.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),a.jsx("input",{type:"text",value:Z.target||"",onChange:ye=>Se(xe,"target",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),a.jsx("input",{type:"text",value:Z.message||"",onChange:ye=>Se(xe,"message",ye.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),a.jsx("button",{onClick:()=>ce(xe),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},xe))})]})})})]})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),a.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:U||"Loading..."})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(U)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),a.jsx(EQ,{sopId:e||null,isOpen:M,onClose:()=>L(!1)})]})}function MQ(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function IQ(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function Z5(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function $Q(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function ej(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function I_(e){return new Date(e).toLocaleDateString()}function e4(e){return new Date(e).toLocaleString()}function $_(e){switch(e){case"up":return"";case"down":return"";default:return""}}function DQ({score:e,status:t}){return a.jsxs("div",{className:`rounded-lg p-6 ${IQ(e)} text-center`,children:[a.jsx("div",{className:`text-6xl font-bold ${MQ(e)}`,children:e}),a.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),a.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${Z5(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function ey({title:e,value:t,subtitle:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function LQ({agent:e}){return a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z5(e.status)}`,children:e.status})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",a.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),a.jsx("span",{className:"ml-1 text-gray-400",children:$_(e.trends.executionsTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Success:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",a.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),a.jsx("span",{className:"ml-1 text-gray-400",children:$_(e.trends.latencyTrend)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",a.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function FQ({anomaly:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`text-sm font-medium ${$Q(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ej(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",e4(e.detectedAt)]})]})}function BQ({gap:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ej(e.severity)}`,children:e.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function qQ({recommendation:e,onAccept:t,onReject:r}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ej(e.priority)}`,children:e.priority})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",a.jsx("span",{className:"text-gray-700",children:e.impact})]}),a.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function zQ(){const[e,t]=k.useState(null),[r,n]=k.useState([]),[i,o]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState(!0),[m,p]=k.useState(null),[x,v]=k.useState(!0),[b,w]=k.useState("agents"),y=k.useCallback(async()=>{try{const[j,P,E,T]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(!j.ok)throw new Error("Failed to fetch health data");const M=await j.json();if(t(M.data),P.ok){const L=await P.json();n(L.data||[])}if(E.ok){const L=await E.json();o(L.data||[])}if(T.ok){const L=await T.json();u(L.data||[])}p(null)}catch(j){p(j instanceof Error?j.message:"Unknown error")}finally{h(!1)}},[]);k.useEffect(()=>{y()},[y]),k.useEffect(()=>{if(!x)return;const j=setInterval(y,6e4);return()=>clearInterval(j)},[x,y]);const S=async j=>{try{(await fetch(`/api/meta-agent/recommendations/${j}/accept`,{method:"POST",credentials:"include"})).ok&&o(E=>E.filter(T=>T.id!==j))}catch(P){console.error("Failed to accept recommendation",P)}},_=async j=>{try{(await fetch(`/api/meta-agent/recommendations/${j}/reject`,{method:"POST",credentials:"include"})).ok&&o(E=>E.filter(T=>T.id!==j))}catch(P){console.error("Failed to reject recommendation",P)}},C=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&y()}catch(j){console.error("Failed to generate report",j)}},O=async()=>{try{h(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&y()}catch(j){console.error("Failed to run system check",j)}finally{h(!1)}};return d&&!e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m&&!e?a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[a.jsx("h3",{className:"font-medium",children:"Error loading system health"}),a.jsx("p",{children:m}),a.jsx("button",{onClick:y,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),a.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?e4(e.timestamp):"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),a.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:j=>v(j.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(DQ,{score:e.overallScore,status:e.status}),a.jsx(ey,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),a.jsx(ey,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),a.jsx(ey,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(j=>j.severity==="critical"||j.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(j=>j.severity==="critical").length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(j=>j.severity==="critical").map((j,P)=>a.jsx(FQ,{anomaly:j},P))})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(j=>a.jsxs("button",{onClick:()=>w(j),className:`py-2 px-4 border-b-2 font-medium text-sm ${b===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[j==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,j==="gaps"&&`Knowledge Gaps (${r.length})`,j==="recommendations"&&`Recommendations (${i.length})`,j==="reports"&&`Reports (${l.length})`]},j))})}),b==="agents"&&e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(j=>a.jsx(LQ,{agent:j},j.agentId))}),b==="gaps"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):r.slice(0,10).map((j,P)=>a.jsx(BQ,{gap:j},P))}),b==="recommendations"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.length===0?a.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):i.map(j=>a.jsx(qQ,{recommendation:j,onAccept:S,onReject:_},j.id))}),b==="reports"&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(j=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:[j.type.charAt(0).toUpperCase()+j.type.slice(1)," Report"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[I_(j.periodStart)," - ",I_(j.periodEnd)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:`/api/meta-agent/reports/${j.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),a.jsx("a",{href:`/api/meta-agent/reports/${j.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},j.id))})]})}function UQ(){const{currentOrganization:e}=wn(),[t,r]=k.useState("experiments"),[n,i]=k.useState([]),[o,l]=k.useState(null),[u,d]=k.useState([]),[h,m]=k.useState(!0),[p,x]=k.useState("");k.useEffect(()=>{v()},[e]);async function v(){m(!0);try{const[y,S,_]=await Promise.all([de({url:"/api/optimization/experiments"}),de({url:"/api/optimization/costs",params:{days:30}}),de({url:"/api/optimization/models"})]);i(y.experiments||[]),l(S.analysis||null),d(_.models||[])}catch(y){console.error("Failed to load optimization data:",y)}finally{m(!1)}}async function b(y){try{await de({method:"POST",url:`/api/optimization/experiments/${y}/start`}),await v()}catch(S){console.error("Failed to start experiment:",S)}}async function w(y){try{await de({method:"POST",url:`/api/optimization/experiments/${y}/stop`}),await v()}catch(S){console.error("Failed to stop experiment:",S)}}return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),a.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(y=>a.jsx("button",{onClick:()=>r(y),className:`px-4 py-2 capitalize ${t===y?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:y},y))}),t==="experiments"&&a.jsx(WQ,{experiments:n,onStart:b,onStop:w}),t==="prompts"&&a.jsx(GQ,{selectedAgent:p,onAgentChange:x}),t==="routing"&&a.jsx(VQ,{selectedAgent:p,onAgentChange:x}),t==="models"&&a.jsx(YQ,{models:u}),t==="costs"&&o&&a.jsx(XQ,{analysis:o})]})}function WQ({experiments:e,onStart:t,onStop:r}){const n=e.filter(o=>o.status==="running"),i=e.filter(o=>o.status==="completed");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),n.length===0?a.jsx("p",{className:"text-gray-500",children:"No active experiments"}):a.jsx("div",{className:"space-y-4",children:n.map(o=>a.jsx(KQ,{experiment:o,onStart:t,onStop:r},o.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),i.length===0?a.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsx(HQ,{experiment:o},o.id))})]})]})}function KQ({experiment:e,onStart:t,onStop:r}){const n={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${n[e.status]}`,children:e.status}),e.status==="draft"&&a.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&a.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function HQ({experiment:e}){const t=e.results;return t?a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Control"}),a.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),a.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),a.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),a.jsxs("div",{className:"mt-4 text-sm",children:[a.jsxs("p",{children:["Improvement: ",a.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),a.jsxs("p",{children:["Confidence: ",a.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&a.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function GQ({selectedAgent:e,onAgentChange:t}){const[r,n]=k.useState([]),[i,o]=k.useState(!1);async function l(u){if(u){o(!0);try{const d=await de({url:`/api/optimization/agents/${u}/prompts`});n(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{o(!1)}}}return k.useEffect(()=>{e&&l(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?a.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):a.jsx("div",{className:"space-y-4",children:r.map(u=>{var d;return a.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&a.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function VQ({selectedAgent:e,onAgentChange:t}){var h,m;const[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(!1);async function d(p){if(p){u(!0);try{const[x,v]=await Promise.all([de({url:`/api/optimization/agents/${p}/routing/analysis`}),de({method:"POST",url:`/api/optimization/agents/${p}/routing/suggestions`})]);n(x.analysis||null),o(v||null)}catch(x){console.error("Failed to load routing:",x)}finally{u(!1)}}}return k.useEffect(()=>{e&&d(e)},[e]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),a.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?a.jsx("p",{className:"text-gray-500",children:"Loading..."}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.totalMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),a.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.correctRate*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),a.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.totalMatches-r.correctMatches}),a.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),r.problematicKeywords.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.problematicKeywords.map(p=>a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:p},p))})]}),i&&a.jsxs(a.Fragment,{children:[((h=i.additions)==null?void 0:h.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.additions.slice(0,10).map(p=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:p.reason,children:["+ ",p.keyword]},p.keyword))})]}),((m=i.removals)==null?void 0:m.length)>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.removals.map(p=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",p]},p))})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function YQ({models:e}){return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(r=>a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:r},r))})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function XQ({analysis:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),a.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),a.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),a.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),a.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?a.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):a.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,r)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),a.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},r))})]})]})}function QQ(){const[e,t]=k.useState(!1),{currentOrganization:r,organizations:n,switchOrganization:i}=wn();if(!r||n.length<=1)return null;const o=async l=>{t(!1),await i(l)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),a.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),n.map(l=>a.jsxs("button",{onClick:()=>o(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===r.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function JQ({user:e,onLogout:t}){return a.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),a.jsx(QQ,{}),e&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?a.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const ZQ=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],eJ=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],tJ=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],rJ=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],nJ=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],aJ=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],iJ=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function sJ(){const e=Ni(),t=r=>r.map(n=>{const o=e.pathname===n.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return a.jsx("li",{children:a.jsxs(At,{to:n.path,className:o,children:[a.jsx("span",{className:"text-xl",children:n.icon}),a.jsx("span",{className:"font-medium",children:n.name})]})},n.path)});return a.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:a.jsx("nav",{className:"p-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("ul",{className:"space-y-2",children:t(ZQ)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),a.jsx("ul",{className:"space-y-2",children:t(eJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),a.jsx("ul",{className:"space-y-2",children:t(tJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),a.jsx("ul",{className:"space-y-2",children:t(rJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),a.jsx("ul",{className:"space-y-2",children:t(nJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),a.jsx("ul",{className:"space-y-2",children:t(aJ)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),a.jsx("ul",{className:"space-y-2",children:t(iJ)})]})]})})})}function qe({children:e}){const{user:t,logout:r}=wn();return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(JQ,{user:t||void 0,onLogout:r}),a.jsx(sJ,{}),a.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function ze({children:e}){const{user:t,isLoading:r,fetchUser:n}=wn();return k.useEffect(()=>{n()},[n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(lC,{to:"/login",replace:!0})}function oJ(){return a.jsx(LR,{children:a.jsxs(CR,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(UR,{})}),a.jsx(Fe,{path:"/dashboard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(OI,{})})})}),a.jsx(Fe,{path:"/okr",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(QI,{})})})}),a.jsx(Fe,{path:"/workflows",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(AI,{})})})}),a.jsx(Fe,{path:"/workflows/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(_I,{})})})}),a.jsx(Fe,{path:"/executions",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(CI,{})})})}),a.jsx(Fe,{path:"/executions/:id",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(EI,{})})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(TI,{})})})}),a.jsx(Fe,{path:"/settings/notion",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(RI,{})})})}),a.jsx(Fe,{path:"/settings/slack",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(MI,{})})})}),a.jsx(Fe,{path:"/settings/google-calendar",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(II,{})})})}),a.jsx(Fe,{path:"/settings/members",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(LI,{})})})}),a.jsx(Fe,{path:"/approvals",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(FI,{})})})}),a.jsx(Fe,{path:"/activity",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(zI,{})})})}),a.jsx(Fe,{path:"/metrics/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(WI,{})})})}),a.jsx(Fe,{path:"/org-changes",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(KI,{})})})}),a.jsx(Fe,{path:"/admin/agents",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(t$,{})})})}),a.jsx(Fe,{path:"/admin/skills",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(i$,{})})})}),a.jsx(Fe,{path:"/admin",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(d$,{})})})}),a.jsx(Fe,{path:"/admin/organizations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(p$,{})})})}),a.jsx(Fe,{path:"/admin/optimization",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(UQ,{})})})}),a.jsx(Fe,{path:"/conversations",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(s$,{})})})}),a.jsx(Fe,{path:"/search",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(u$,{})})})}),a.jsx(Fe,{path:"/analytics",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(uQ,{})})})}),a.jsx(Fe,{path:"/costs",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(hQ,{})})})}),a.jsx(Fe,{path:"/billing",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(dQ,{})})})}),a.jsx(Fe,{path:"/knowledge-graph",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(vQ,{})})})}),a.jsx(Fe,{path:"/patterns",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(SQ,{})})})}),a.jsx(Fe,{path:"/feedback",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(yQ,{})})})}),a.jsx(Fe,{path:"/system-health",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(zQ,{})})})}),a.jsx(Fe,{path:"/marketplace",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(bQ,{})})})}),a.jsx(Fe,{path:"/marketplace/:extensionId",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(xQ,{})})})}),a.jsx(Fe,{path:"/developer",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(gQ,{})})})}),a.jsx(Fe,{path:"/developer/publisher",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(OQ,{})})})}),a.jsx(Fe,{path:"/sops/drafts",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(kQ,{})})})}),a.jsx(Fe,{path:"/sops/editor/:id?",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(RQ,{})})})}),a.jsx(Fe,{path:"/onboarding",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(jQ,{})})})}),a.jsx(Fe,{path:"/org-change-wizard",element:a.jsx(ze,{children:a.jsx(qe,{children:a.jsx(NQ,{})})})}),a.jsx(Fe,{path:"/",element:a.jsx(lC,{to:"/dashboard",replace:!0})})]})})}class lJ extends Y.Component{constructor(){super(...arguments);_u(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:String(r)}}componentDidCatch(r){const n=r instanceof Error?r.message:String(r);console.error("UI error:",n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?a.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,a.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const cJ=new $6;c6.createRoot(document.getElementById("root")).render(a.jsx(Y.StrictMode,{children:a.jsx(lJ,{children:a.jsx(L6,{client:cJ,children:a.jsx(oJ,{})})})}));
